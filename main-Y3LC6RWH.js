var Zk=Object.defineProperty,Jk=Object.defineProperties;var Xk=Object.getOwnPropertyDescriptors;var xd=Object.getOwnPropertySymbols,eF=Object.getPrototypeOf,dD=Object.prototype.hasOwnProperty,hD=Object.prototype.propertyIsEnumerable,tF=Reflect.get;var uD=(n,e,t)=>e in n?Zk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})dD.call(e,t)&&uD(n,t,e[t]);if(xd)for(var t of xd(e))hD.call(e,t)&&uD(n,t,e[t]);return n},pe=(n,e)=>Jk(n,Xk(e));var jo=(n,e)=>{var t={};for(var r in n)dD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&xd)for(var r of xd(n))e.indexOf(r)<0&&hD.call(n,r)&&(t[r]=n[r]);return t};var qi=(n,e,t)=>tF(eF(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var oy;function Pd(){return oy}function Dr(n){let e=oy;return oy=n,e}var fD=Symbol("NotFound");function Qs(n){return n===fD||n?.name==="\u0275NotFound"}function kd(n,e){return Object.is(n,e)}var Dt=null,Od=!1,sy=1,nF=null,qt=Symbol("SIGNAL");function _e(n){let e=Dt;return Dt=n,e}function Fd(){return Dt}var Uo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zs(n){if(Od)throw new Error("");if(Dt===null)return;Dt.consumerOnSignalRead(n);let e=Dt.nextProducerIndex++;if(Ud(Dt),e<Dt.producerNode.length&&Dt.producerNode[e]!==n&&Gc(Dt)){let t=Dt.producerNode[e];jd(t,Dt.producerIndexOfThis[e])}Dt.producerNode[e]!==n&&(Dt.producerNode[e]=n,Dt.producerIndexOfThis[e]=Gc(Dt)?gD(n,Dt,e):0),Dt.producerLastReadVersion[e]=n.version}function pD(){sy++}function Ld(n){if(!(Gc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===sy)){if(!n.producerMustRecompute(n)&&!Wc(n)){Nd(n);return}n.producerRecomputeValue(n),Nd(n)}}function ay(n){if(n.liveConsumerNode===void 0)return;let e=Od;Od=!0;try{for(let t of n.liveConsumerNode)t.dirty||rF(t)}finally{Od=e}}function cy(){return Dt?.consumerAllowSignalWrites!==!1}function rF(n){n.dirty=!0,ay(n),n.consumerMarkedDirty?.(n)}function Nd(n){n.dirty=!1,n.lastCleanEpoch=sy}function Bo(n){return n&&(n.nextProducerIndex=0),_e(n)}function Js(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Gc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Wc(n){Ud(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ld(t),r!==t.version))return!0}return!1}function Vd(n){if(Ud(n),Gc(n))for(let e=0;e<n.producerNode.length;e++)jd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gD(n,e,t){if(mD(n),n.liveConsumerNode.length===0&&yD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=gD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function jd(n,e){if(mD(n),n.liveConsumerNode.length===1&&yD(n))for(let r=0;r<n.producerNode.length;r++)jd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ud(i),i.producerIndexOfThis[r]=e}}function Gc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ud(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function mD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function yD(n){return n.producerNode!==void 0}function Bd(n){nF?.(n)}function zd(n,e){let t=Object.create(iF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Ld(t),Zs(t),t.value===qc)throw t.error;return t.value};return r[qt]=t,Bd(t),r}var Ad=Symbol("UNSET"),Rd=Symbol("COMPUTING"),qc=Symbol("ERRORED"),iF=pe(U({},Uo),{value:Ad,dirty:!0,error:null,equal:kd,kind:"computed",producerMustRecompute(n){return n.value===Ad||n.value===Rd},producerRecomputeValue(n){if(n.value===Rd)throw new Error("");let e=n.value;n.value=Rd;let t=Bo(n),r,i=!1;try{r=n.computation(),_e(null),i=e!==Ad&&e!==qc&&r!==qc&&n.equal(e,r)}catch(o){r=qc,n.error=o}finally{Js(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function oF(){throw new Error}var _D=oF;function vD(n){_D(n)}function ly(n){_D=n}var sF=null;function uy(n,e){let t=Object.create($d);t.value=n,e!==void 0&&(t.equal=e);let r=()=>CD(t);return r[qt]=t,Bd(t),[r,s=>Xs(t,s),s=>dy(t,s)]}function CD(n){return Zs(n),n.value}function Xs(n,e){cy()||vD(n),n.equal(n.value,e)||(n.value=e,aF(n))}function dy(n,e){cy()||vD(n),Xs(n,e(n.value))}var $d=pe(U({},Uo),{equal:kd,value:void 0,kind:"signal"});function aF(n){n.version++,pD(),ay(n),sF?.(n)}function ge(n){return typeof n=="function"}function ea(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hd=ea(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Kc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){e=o instanceof Hd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bD(o)}catch(s){e=e??[],s instanceof Hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Kc(t,e)}remove(e){let{_finalizers:t}=this;t&&Kc(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var hy=Le.EMPTY;function qd(n){return n instanceof Le||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function bD(n){ge(n)?n():n.unsubscribe()}var nr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ta={setTimeout(n,e,...t){let{delegate:r}=ta;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ta;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gd(n){ta.setTimeout(()=>{let{onUnhandledError:e}=nr;if(e)e(n);else throw n})}function Yc(){}var wD=fy("C",void 0,void 0);function ED(n){return fy("E",void 0,n)}function ID(n){return fy("N",n,void 0)}function fy(n,e,t){return{kind:n,value:e,error:t}}var zo=null;function na(n){if(nr.useDeprecatedSynchronousErrorHandling){let e=!zo;if(e&&(zo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=zo;if(zo=null,t)throw r}}else n()}function DD(n){nr.useDeprecatedSynchronousErrorHandling&&zo&&(zo.errorThrown=!0,zo.error=n)}var $o=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qd(e)&&e.add(this)):this.destination=uF}static create(e,t,r){return new ra(e,t,r)}next(e){this.isStopped?gy(ID(e),this):this._next(e)}error(e){this.isStopped?gy(ED(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gy(wD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cF=Function.prototype.bind;function py(n,e){return cF.call(n,e)}var my=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Wd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Wd(r)}else Wd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wd(t)}}},ra=class extends $o{constructor(e,t,r){super();let i;if(ge(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&nr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&py(e.next,o),error:e.error&&py(e.error,o),complete:e.complete&&py(e.complete,o)}):i=e}this.destination=new my(i)}};function Wd(n){nr.useDeprecatedSynchronousErrorHandling?DD(n):Gd(n)}function lF(n){throw n}function gy(n,e){let{onStoppedNotification:t}=nr;t&&ta.setTimeout(()=>t(n,e))}var uF={closed:!0,next:Yc,error:lF,complete:Yc};var ia=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dn(n){return n}function yy(...n){return _y(n)}function _y(n){return n.length===0?Dn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=hF(t)?t:new ra(t,r,i);return na(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=SD(r),new r((i,o)=>{let s=new ra({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ia](){return this}pipe(...t){return _y(t)(this)}toPromise(t){return t=SD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function SD(n){var e;return(e=n??nr.Promise)!==null&&e!==void 0?e:Promise}function dF(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function hF(n){return n&&n instanceof $o||dF(n)&&qd(n)}function vy(n){return ge(n?.lift)}function Ae(n){return e=>{if(vy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(n,e,t,r,i){return new Cy(n,e,t,r,i)}var Cy=class extends $o{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oa(){return Ae((n,e)=>{let t=null;n._refCount++;let r=Me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var sa=class extends Ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(Me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return oa()(this)}};var TD=ea(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class n extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Kd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new TD}next(t){na(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){na(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){na(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hy:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,Kc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ee;return t.source=this,t}}return n.create=(e,t)=>new Kd(e,t),n})(),Kd=class extends ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:hy}};var Ye=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fn=new Ee(n=>n.complete());function MD(n){return n&&ge(n.schedule)}function xD(n){return n[n.length-1]}function Yd(n){return ge(xD(n))?n.pop():void 0}function Gi(n){return MD(xD(n))?n.pop():void 0}function by(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function PD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ho(n){return this instanceof Ho?(this.v=n,this):new Ho(n)}function AD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,f)}}function a(m,E){r[m]&&(i[m]=function(M){return new Promise(function(P,k){o.push([m,M,P,k])>1||c(m,M)})},E&&(i[m]=E(i[m])))}function c(m,E){try{u(r[m](E))}catch(M){g(o[0][3],M)}}function u(m){m.value instanceof Ho?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function RD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof PD=="function"?PD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Qd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zd(n){return ge(n?.then)}function Jd(n){return ge(n[ia])}function Xd(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function eh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var th=fF();function nh(n){return ge(n?.[th])}function rh(n){return AD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ho(t.read());if(i)return yield Ho(void 0);yield yield Ho(r)}}finally{t.releaseLock()}})}function ih(n){return ge(n?.getReader)}function gt(n){if(n instanceof Ee)return n;if(n!=null){if(Jd(n))return pF(n);if(Qd(n))return gF(n);if(Zd(n))return mF(n);if(Xd(n))return ND(n);if(nh(n))return yF(n);if(ih(n))return _F(n)}throw eh(n)}function pF(n){return new Ee(e=>{let t=n[ia]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gF(n){return new Ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function mF(n){return new Ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Gd)})}function yF(n){return new Ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ND(n){return new Ee(e=>{vF(n,e).catch(t=>e.error(t))})}function _F(n){return ND(rh(n))}function vF(n,e){var t,r,i,o;return OD(this,void 0,void 0,function*(){try{for(t=RD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function pn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function oh(n,e=0){return Ae((t,r)=>{t.subscribe(Me(r,i=>pn(r,n,()=>r.next(i),e),()=>pn(r,n,()=>r.complete(),e),i=>pn(r,n,()=>r.error(i),e)))})}function sh(n,e=0){return Ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function kD(n,e){return gt(n).pipe(sh(e),oh(e))}function FD(n,e){return gt(n).pipe(sh(e),oh(e))}function LD(n,e){return new Ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function VD(n,e){return new Ee(t=>{let r;return pn(t,e,()=>{r=n[th](),pn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}function ah(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ee(t=>{pn(t,e,()=>{let r=n[Symbol.asyncIterator]();pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jD(n,e){return ah(rh(n),e)}function UD(n,e){if(n!=null){if(Jd(n))return kD(n,e);if(Qd(n))return LD(n,e);if(Zd(n))return FD(n,e);if(Xd(n))return ah(n,e);if(nh(n))return VD(n,e);if(ih(n))return jD(n,e)}throw eh(n)}function Xe(n,e){return e?UD(n,e):gt(n)}function se(...n){let e=Gi(n);return Xe(n,e)}function aa(n,e){let t=ge(n)?n:()=>n,r=i=>i.error(t());return new Ee(e?i=>e.schedule(r,0,i):r)}function wy(n){return!!n&&(n instanceof Ee||ge(n.lift)&&ge(n.subscribe))}var ni=ea(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(n,e){return Ae((t,r)=>{let i=0;t.subscribe(Me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:CF}=Array;function bF(n,e){return CF(e)?n(...e):n(e)}function ch(n){return xe(e=>bF(n,e))}var{isArray:wF}=Array,{getPrototypeOf:EF,prototype:IF,keys:DF}=Object;function lh(n){if(n.length===1){let e=n[0];if(wF(e))return{args:e,keys:null};if(SF(e)){let t=DF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function SF(n){return n&&typeof n=="object"&&EF(n)===IF}function uh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function dh(...n){let e=Gi(n),t=Yd(n),{args:r,keys:i}=lh(n);if(r.length===0)return Xe([],e);let o=new Ee(TF(r,e,i?s=>uh(i,s):Dn));return t?o.pipe(ch(t)):o}function TF(n,e,t=Dn){return r=>{BD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)BD(e,()=>{let u=Xe(n[c],e),d=!1;u.subscribe(Me(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function BD(n,e,t){n?pn(t,n,e):e()}function zD(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},m=M=>u<r?E(M):c.push(M),E=M=>{o&&e.next(M),u++;let P=!1;gt(t(M,d++)).subscribe(Me(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{P=!0},void 0,()=>{if(P)try{for(u--;c.length&&u<r;){let k=c.shift();s?pn(e,s,()=>E(k)):E(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(Me(e,m,()=>{f=!0,g()})),()=>{a?.()}}function mt(n,e,t=1/0){return ge(e)?mt((r,i)=>xe((o,s)=>e(r,o,i,s))(gt(n(r,i))),t):(typeof e=="number"&&(t=e),Ae((r,i)=>zD(r,i,n,t)))}function ca(n=1/0){return mt(Dn,n)}function $D(){return ca(1)}function la(...n){return $D()(Xe(n,Gi(n)))}function Qc(n){return new Ee(e=>{gt(n()).subscribe(e)})}function Ey(...n){let e=Yd(n),{args:t,keys:r}=lh(n),i=new Ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;gt(t[d]).subscribe(Me(o,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?uh(r,a):a),o.complete())}))}});return e?i.pipe(ch(e)):i}function Sn(n,e){return Ae((t,r)=>{let i=0;t.subscribe(Me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ri(n){return Ae((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Me(t,void 0,void 0,s=>{o=gt(n(s,ri(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function HD(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Me(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function qo(n,e){return ge(e)?mt(n,e,1):mt(n,1)}function Wi(n){return Ae((e,t)=>{let r=!1;e.subscribe(Me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ii(n){return n<=0?()=>fn:Ae((e,t)=>{let r=0;e.subscribe(Me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function hh(n=MF){return Ae((e,t)=>{let r=!1;e.subscribe(Me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function MF(){return new ni}function Zc(n){return Ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function oi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Sn((i,o)=>n(i,o,r)):Dn,ii(1),t?Wi(e):hh(()=>new ni))}function ua(n){return n<=0?()=>fn:Ae((e,t)=>{let r=[];e.subscribe(Me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Iy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Sn((i,o)=>n(i,o,r)):Dn,ua(1),t?Wi(e):hh(()=>new ni))}function Dy(n,e){return Ae(HD(n,e,arguments.length>=2,!0))}function Sy(...n){let e=Gi(n);return Ae((t,r)=>{(e?la(n,t,e):la(n,t)).subscribe(r)})}function Fn(n,e){return Ae((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Me(r,c=>{i?.unsubscribe();let u=0,d=o++;gt(n(c,d)).subscribe(i=Me(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fh(n){return Ae((e,t)=>{gt(n).subscribe(Me(t,()=>t.complete(),Yc)),!t.closed&&e.subscribe(t)})}function Tt(n,e,t){let r=ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Me(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Dn}function qD(n){let e=_e(null);try{return n()}finally{_e(e)}}var _h="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(nl(e,t)),this.code=e}};function xF(n){return`NG0${Math.abs(n)}`}function nl(n,e){return`${xF(n)}${e?": "+e:""}`}var ci=globalThis;function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("")}function KD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ai(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ai).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function vh(n,e){return n?e?`${n} ${e}`:n:e||""}var PF=Ve({__forward_ref__:Ve});function Tn(n){return n.__forward_ref__=Tn,n.toString=function(){return ai(this())},n}function kt(n){return jy(n)?n():n}function jy(n){return typeof n=="function"&&n.hasOwnProperty(PF)&&n.__forward_ref__===Tn}function YD(n,e){n==null&&Uy(e,n,null,"!=")}function Uy(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ir(n){return{providers:n.providers||[],imports:n.imports||[]}}function rl(n){return OF(n,Ch)}function By(n){return rl(n)!==null}function OF(n,e){return n.hasOwnProperty(e)&&n[e]||null}function AF(n){let e=n?.[Ch]??null;return e||null}function My(n){return n&&n.hasOwnProperty(gh)?n[gh]:null}var Ch=Ve({\u0275prov:Ve}),gh=Ve({\u0275inj:Ve}),J=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zy(n){return n&&!!n.\u0275providers}var $y=Ve({\u0275cmp:Ve}),Hy=Ve({\u0275dir:Ve}),qy=Ve({\u0275pipe:Ve}),Gy=Ve({\u0275mod:Ve}),el=Ve({\u0275fac:Ve}),Qo=Ve({__NG_ELEMENT_ID__:Ve}),GD=Ve({__NG_ENV_ID__:Ve});function Zo(n){return typeof n=="string"?n:n==null?"":String(n)}function mh(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Zo(n)}var Wy=Ve({ngErrorCode:Ve}),QD=Ve({ngErrorMessage:Ve}),Xc=Ve({ngTokenPath:Ve});function Ky(n,e){return ZD("",-200,e)}function bh(n,e){throw new L(-201,!1)}function RF(n,e){n[Xc]??=[];let t=n[Xc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(YD(e.provide,"Token with multi: true should have a provide property"),r=mh(e.provide)):r=mh(e),t[0]!==r&&n[Xc].unshift(r)}function NF(n,e){let t=n[Xc],r=n[Wy],i=n[QD]||n.message;return n.message=FF(i,r,t,e),n}function ZD(n,e,t){let r=new L(e,n);return r[Wy]=e,r[QD]=n,t&&(r[Xc]=t),r}function kF(n){return n[Wy]}function FF(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return nl(e,`${n}${o}${i}`)}var xy;function JD(){return xy}function tn(n){let e=xy;return xy=n,e}function Yy(n,e,t){let r=rl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;bh(n,"Injector")}var LF={},Go=LF,Py="__NG_DI_FLAG__",Oy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Wo(t)||0;try{return this.injector.get(e,r&8?null:Go,r)}catch(i){if(Qs(i))return i;throw i}}};function VF(n,e=0){let t=Pd();if(t===void 0)throw new L(-203,!1);if(t===null)return Yy(n,void 0,e);{let r=jF(e),i=t.retrieve(n,r);if(Qs(i)){if(r.optional)return null;throw i}return i}}function ne(n,e=0){return(JD()||VF)(kt(n),e)}function j(n,e){return ne(n,Wo(e))}function Wo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jF(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ay(n){let e=[];for(let t=0;t<n.length;t++){let r=kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=UF(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function Qy(n,e){return n[Py]=e,n.prototype[Py]=e,n}function UF(n){return n[Py]}function Ki(n,e){let t=n.hasOwnProperty(el);return t?n[el]:null}function XD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function eS(n){return n.flat(Number.POSITIVE_INFINITY)}function wh(n,e){n.forEach(t=>Array.isArray(t)?wh(t,e):e(t))}function Zy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function il(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tS(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Eh(n,e,t){let r=ha(n,e);return r>=0?n[r|1]=t:(r=~r,tS(n,r,e,t)),r}function Ih(n,e){let t=ha(n,e);if(t>=0)return n[t|1]}function ha(n,e){return BF(n,e,1)}function BF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Zi={},nn=[],li=new J(""),Jy=new J("",-1),Xy=new J(""),tl=class{get(e,t=Go){if(t===Go){let i=ZD("",-201);throw i.name="\u0275NotFound",i}return t}};function e_(n){return n[Gy]||null}function Ji(n){return n[$y]||null}function t_(n){return n[Hy]||null}function nS(n){return n[qy]||null}function Jo(n){return{\u0275providers:n}}function rS(n){return Jo([{provide:li,multi:!0,useValue:n}])}function iS(...n){return{\u0275providers:n_(!0,n),\u0275fromNgModule:!0}}function n_(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return wh(e,s=>{let a=s;yh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oS(i,o),t}function oS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];r_(i,o=>{e(o,r)})}}function yh(n,e,t,r){if(n=kt(n),!n)return!1;let i=null,o=My(n),s=!o&&Ji(n);if(!o&&!s){let c=n.ngModule;if(o=My(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)yh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{wh(o.imports,d=>{yh(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&oS(u,e)}if(!a){let u=Ki(i)||(()=>new i);e({provide:i,useFactory:u,deps:nn},i),e({provide:Xy,useValue:i,multi:!0},i),e({provide:li,useValue:()=>ne(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;r_(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function r_(n,e){for(let t of n)zy(t)&&(t=t.\u0275providers),Array.isArray(t)?r_(t,e):e(t)}var zF=Ve({provide:String,useValue:Ve});function sS(n){return n!==null&&typeof n=="object"&&zF in n}function $F(n){return!!(n&&n.useExisting)}function HF(n){return!!(n&&n.useFactory)}function Ko(n){return typeof n=="function"}function aS(n){return!!n.useClass}var ol=new J(""),ph={},WD={},Ty;function sl(){return Ty===void 0&&(Ty=new tl),Ty}var Mt=class{},Yo=class extends Mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ny(e,s=>this.processProvider(s)),this.records.set(Jy,da(void 0,this)),i.has("environment")&&this.records.set(Mt,da(void 0,this));let o=this.records.get(ol);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xy,nn,{self:!0}))}retrieve(e,t){let r=Wo(t)||0;try{return this.get(e,Go,r)}catch(i){if(Qs(i))return i;throw i}}destroy(){Jc(this),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return Jc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Jc(this);let t=Dr(this),r=tn(void 0),i;try{return e()}finally{Dr(t),tn(r)}}get(e,t=Go,r){if(Jc(this),e.hasOwnProperty(GD))return e[GD](this);let i=Wo(r),o,s=Dr(this),a=tn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=YF(e)&&rl(e);d&&this.injectableDefInScope(d)?u=da(Ry(e),ph):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?sl():this.parent;return t=i&8&&t===Go?null:t,c.get(e,t)}catch(c){let u=kF(c);throw u===-200||u===-201?new L(u,null):c}finally{tn(a),Dr(s)}}resolveInjectorInitializers(){let e=_e(null),t=Dr(this),r=tn(void 0),i;try{let o=this.get(li,nn,{self:!0});for(let s of o)s()}finally{Dr(t),tn(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ai(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kt(e);let t=Ko(e)?e:kt(e&&e.provide),r=GF(e);if(!Ko(e)&&e.multi===!0){let i=this.records.get(t);i||(i=da(void 0,ph,!0),i.factory=()=>Ay(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=_e(null);try{if(t.value===WD)throw Ky(ai(e));return t.value===ph&&(t.value=WD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&KF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ry(n){let e=rl(n),t=e!==null?e.factory:Ki(n);if(t!==null)return t;if(n instanceof J)throw new L(204,!1);if(n instanceof Function)return qF(n);throw new L(204,!1)}function qF(n){if(n.length>0)throw new L(204,!1);let t=AF(n);return t!==null?()=>t.factory(n):()=>new n}function GF(n){if(sS(n))return da(void 0,n.useValue);{let e=i_(n);return da(e,ph)}}function i_(n,e,t){let r;if(Ko(n)){let i=kt(n);return Ki(i)||Ry(i)}else if(sS(n))r=()=>kt(n.useValue);else if(HF(n))r=()=>n.useFactory(...Ay(n.deps||[]));else if($F(n))r=(i,o)=>ne(kt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=kt(n&&(n.useClass||n.provide));if(WF(n))r=()=>new i(...Ay(n.deps));else return Ki(i)||Ry(i)}return r}function Jc(n){if(n.destroyed)throw new L(205,!1)}function da(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WF(n){return!!n.deps}function KF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ny(n,e){for(let t of n)Array.isArray(t)?Ny(t,e):t&&zy(t)?Ny(t.\u0275providers,e):e(t)}function rn(n,e){let t;n instanceof Yo?(Jc(n),t=n):t=new Oy(n);let r,i=Dr(t),o=tn(void 0);try{return e()}finally{Dr(i),tn(o)}}function cS(){return JD()!==void 0||Pd()!=null}var or=0,ae=1,le=2,xt=3,Vn=4,jn=5,al=6,fa=7,Gt=8,Xo=9,Sr=10,et=11,pa=12,o_=13,es=14,Un=15,Xi=16,ts=17,Tr=18,cl=19,s_=20,si=21,Dh=22,ll=23,Mn=24,ns=25,Ft=26,lS=1;var eo=7,ul=8,rs=9,on=10;function Mr(n){return Array.isArray(n)&&typeof n[lS]=="object"}function sr(n){return Array.isArray(n)&&n[lS]===!0}function a_(n){return(n.flags&4)!==0}function to(n){return n.componentOffset>-1}function dl(n){return(n.flags&1)===1}function xr(n){return!!n.template}function ga(n){return(n[le]&512)!==0}function is(n){return(n[le]&256)===256}var uS="svg",dS="math";function Bn(n){for(;Array.isArray(n);)n=n[or];return n}function c_(n,e){return Bn(e[n])}function ar(n,e){return Bn(e[n.index])}function Sh(n,e){return n.data[e]}function Th(n,e){return n[e]}function l_(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function zn(n,e){let t=e[n];return Mr(t)?t:t[or]}function hS(n){return(n[le]&4)===4}function Mh(n){return(n[le]&128)===128}function fS(n){return sr(n[xt])}function hl(n,e){return e==null?null:n[e]}function u_(n){n[ts]=0}function d_(n){n[le]&1024||(n[le]|=1024,Mh(n)&&ma(n))}function pS(n,e){for(;n>0;)e=e[es],n--;return e}function fl(n){return!!(n[le]&9216||n[Mn]?.dirty)}function xh(n){n[Sr].changeDetectionScheduler?.notify(8),n[le]&64&&(n[le]|=1024),fl(n)&&ma(n)}function ma(n){n[Sr].changeDetectionScheduler?.notify(0);let e=Yi(n);for(;e!==null&&!(e[le]&8192||(e[le]|=8192,!Mh(e)));)e=Yi(e)}function h_(n,e){if(is(n))throw new L(911,!1);n[si]===null&&(n[si]=[]),n[si].push(e)}function gS(n,e){if(n[si]===null)return;let t=n[si].indexOf(e);t!==-1&&n[si].splice(t,1)}function Yi(n){let e=n[xt];return sr(e)?e[xt]:e}function f_(n){return n[fa]??=[]}function p_(n){return n.cleanup??=[]}function mS(n,e,t,r){let i=f_(e);i.push(t),n.firstCreatePass&&p_(n).push(r,i.length-1)}var Ce={lFrame:RS(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pl=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(pl||{}),QF=0,ky=!1;function yS(){return Ce.lFrame.elementDepthCount}function _S(){Ce.lFrame.elementDepthCount++}function vS(){Ce.lFrame.elementDepthCount--}function g_(){return Ce.bindingsEnabled}function CS(){return Ce.skipHydrationRootTNode!==null}function bS(n){return Ce.skipHydrationRootTNode===n}function wS(){Ce.skipHydrationRootTNode=null}function Pe(){return Ce.lFrame.lView}function Lt(){return Ce.lFrame.tView}function Ie(n){return Ce.lFrame.contextLView=n,n[Gt]}function De(n){return Ce.lFrame.contextLView=null,n}function Vt(){let n=m_();for(;n!==null&&n.type===64;)n=n.parent;return n}function m_(){return Ce.lFrame.currentTNode}function ES(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ya(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function y_(){return Ce.lFrame.isParent}function IS(){Ce.lFrame.isParent=!1}function DS(){return Ce.lFrame.contextLView}function __(n){Uy("Must never be called in production mode"),QF=n}function v_(){return ky}function C_(n){let e=ky;return ky=n,e}function Ph(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function SS(){return Ce.lFrame.bindingIndex}function TS(n){return Ce.lFrame.bindingIndex=n}function gl(){return Ce.lFrame.bindingIndex++}function Oh(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function MS(){return Ce.lFrame.inI18n}function xS(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ah(e)}function PS(){return Ce.lFrame.currentDirectiveIndex}function Ah(n){Ce.lFrame.currentDirectiveIndex=n}function OS(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function b_(){return Ce.lFrame.currentQueryIndex}function Rh(n){Ce.lFrame.currentQueryIndex=n}function ZF(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[jn]:null}function w_(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=ZF(o),i===null||(o=o[es],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ce.lFrame=AS();return r.currentTNode=e,r.lView=n,!0}function Nh(n){let e=AS(),t=n[ae];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AS(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?RS(n):e}function RS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function NS(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var E_=NS;function kh(){let n=NS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kS(n){return(Ce.lFrame.contextLView=pS(n,Ce.lFrame.contextLView))[Gt]}function ui(){return Ce.lFrame.selectedIndex}function no(n){Ce.lFrame.selectedIndex=n}function Fh(){let n=Ce.lFrame;return Sh(n.tView,n.selectedIndex)}function FS(){return Ce.lFrame.currentNamespace}var LS=!0;function Lh(){return LS}function Vh(n){LS=n}function Fy(n,e=null,t=null,r){let i=I_(n,e,t,r);return i.resolveInjectorInitializers(),i}function I_(n,e=null,t=null,r,i=new Set){let o=[t||nn,iS(n)];return r=r||(typeof n=="object"?void 0:ai(n)),new Yo(o,e||sl(),r||null,i)}var Ln=class n{static THROW_IF_NOT_FOUND=Go;static NULL=new tl;static create(e,t){if(Array.isArray(e))return Fy({name:""},t,e,"");{let r=e.name??"";return Fy({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>ne(Jy)});static __NG_ELEMENT_ID__=-1},yt=new J(""),cr=(()=>{class n{static __NG_ELEMENT_ID__=JF;static __NG_ENV_ID__=t=>t}return n})(),Ly=class extends cr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return is(this._lView)}onDestroy(e){let t=this._lView;return h_(t,e),()=>gS(t,e)}};function JF(){return new Ly(Pe())}var rr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},gn=new J("",{providedIn:"root",factory:()=>{let n=j(Mt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(rr),e.handleError(t))}}}),VS={provide:li,useValue:()=>void j(rr),multi:!0},XF=new J("",{providedIn:"root",factory:()=>{let n=j(yt).defaultView;if(!n)return;let e=j(gn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),j(cr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function D_(){return Jo([rS(()=>void j(XF))])}function S_(n){return typeof n=="function"&&n[qt]!==void 0}function di(n,e){let[t,r,i]=uy(n,e?.equal),o=t,s=o[qt];return o.set=r,o.update=i,o.asReadonly=jS.bind(o),o}function jS(){let n=this[qt];if(n.readonlyFn===void 0){let e=()=>this();e[qt]=n,n.readonlyFn=e}return n.readonlyFn}function T_(n){return S_(n)&&typeof n.set=="function"}var Qi=class{},ml=new J("",{providedIn:"root",factory:()=>!1});var M_=new J(""),x_=new J("");var jh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=eL}return n})();function eL(){return new jh(Pe(),Vt())}var hi=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ye(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function yl(...n){}var P_=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new Vy})}return n})(),Vy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ea(n){return{toString:n}.toString()}var Uh="__parameters__";function lL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function mT(n,e,t){return Ea(()=>{let r=lL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Uh)?c[Uh]:Object.defineProperty(c,Uh,{value:[]})[Uh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var pv=Qy(mT("Optional"),8);var gv=Qy(mT("SkipSelf"),4);function uL(n){return typeof n=="function"}var Wh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function yT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Or=(()=>{let n=()=>_T;return n.ngInherit=!0,n})();function _T(n){return n.type.prototype.ngOnChanges&&(n.setInput=hL),dL}function dL(){let n=CT(this),e=n?.current;if(e){let t=n.previous;if(t===Zi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hL(n,e,t,r,i){let o=this.declaredInputs[r],s=CT(n)||fL(n,{previous:Zi,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Wh(u&&u.currentValue,t,c===Zi),yT(n,e,i,t)}var vT="__ngSimpleChanges__";function CT(n){return n[vT]||null}function fL(n,e){return n[vT]=e}var US=[];var Ue=function(n,e=null,t){for(let r=0;r<US.length;r++){let i=US[r];i(n,e,t)}};function pL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_T(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function bT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function $h(n,e,t){wT(n,e,3,t)}function Hh(n,e,t,r){(n[le]&3)===t&&wT(n,e,t,r)}function O_(n,e){let t=n[le];(t&3)===e&&(t&=16383,t+=1,n[le]=t)}function wT(n,e,t,r){let i=r!==void 0?n[ts]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[ts]+=65536),(a<o||o==-1)&&(gL(n,t,e,c),n[ts]=(n[ts]&4294901760)+c+2),c++}function BS(n,e){Ue(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),Ue(5,n,e)}}function gL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[le]>>14<n[ts]>>16&&(n[le]&3)===e&&(n[le]+=16384,BS(a,o)):BS(a,o)}var va=-1,as=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function mL(n){return(n.flags&8)!==0}function yL(n){return(n.flags&16)!==0}function _L(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];vL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ET(n){return n===3||n===4||n===6}function vL(n){return n.charCodeAt(0)===64}function Cl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?zS(n,t,i,null,e[++r]):zS(n,t,i,null,null))}}return n}function zS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function IT(n){return n!==va}function Kh(n){return n&32767}function CL(n){return n>>16}function Yh(n,e){let t=CL(n),r=e;for(;t>0;)r=r[es],t--;return r}var z_=!0;function Qh(n){let e=z_;return z_=n,e}var bL=256,DT=bL-1,ST=5,wL=0,Pr={};function EL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Qo)&&(r=t[Qo]),r==null&&(r=t[Qo]=wL++);let i=r&DT,o=1<<i;e.data[n+(i>>ST)]|=o}function Zh(n,e){let t=TT(n,e);if(t!==-1)return t;let r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,A_(r.data,n),A_(e,null),A_(r.blueprint,null));let i=mv(n,e),o=n.injectorIndex;if(IT(i)){let s=Kh(i),a=Yh(i,e),c=a[ae].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function A_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function TT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function mv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=AT(i),r===null)return va;if(t++,i=i[es],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return va}function $_(n,e,t){EL(n,e,t)}function IL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ET(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function MT(n,e,t){if(t&8||n!==void 0)return n;bh(e,"NodeInjector")}function xT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Xo],o=tn(void 0);try{return i?i.get(e,r,t&8):Yy(e,r,t&8)}finally{tn(o)}}return MT(r,e,t)}function PT(n,e,t,r=0,i){if(n!==null){if(e[le]&2048&&!(r&2)){let s=ML(n,e,t,r,Pr);if(s!==Pr)return s}let o=OT(n,e,t,r,Pr);if(o!==Pr)return o}return xT(e,t,r,i)}function OT(n,e,t,r,i){let o=SL(t);if(typeof o=="function"){if(!w_(e,n,r))return r&1?MT(i,t,r):xT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))bh(t);else return s}finally{E_()}}else if(typeof o=="number"){let s=null,a=TT(n,e),c=va,u=r&1?e[Un][jn]:null;for((a===-1||r&4)&&(c=a===-1?mv(n,e):e[a+8],c===va||!HS(r,!1)?a=-1:(s=e[ae],a=Kh(c),e=Yh(c,e)));a!==-1;){let d=e[ae];if($S(o,a,d.data)){let f=DL(a,e,t,s,r,u);if(f!==Pr)return f}c=e[a+8],c!==va&&HS(r,e[ae].data[a+8]===u)&&$S(o,a,e)?(s=d,a=Kh(c),e=Yh(c,e)):a=-1}}return i}function DL(n,e,t,r,i,o){let s=e[ae],a=s.data[n+8],c=r==null?to(a)&&z_:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=qh(a,s,t,c,u);return d!==null?bl(e,s,d,a,i):Pr}function qh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let m=f;m<g;m++){let E=s[m];if(m<c&&t===E||m>=c&&E.type===t)return m}if(i){let m=s[c];if(m&&xr(m)&&m.type===t)return c}return null}function bl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof as){let a=o;if(a.resolving){let m=mh(s[t]);throw Ky(m)}let c=Qh(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?tn(a.injectImpl):null,g=w_(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&pL(t,s[t],e)}finally{f!==null&&tn(f),Qh(c),a.resolving=!1,E_()}}return o}function SL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Qo)?n[Qo]:void 0;return typeof e=="number"?e>=0?e&DT:TL:e}function $S(n,e,t){let r=1<<n;return!!(t[e+(n>>ST)]&r)}function HS(n,e){return!(n&2)&&!(n&1&&e)}var ss=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return PT(this._tNode,this._lView,e,Wo(r),t)}};function TL(){return new ss(Vt(),Pe())}function hr(n){return Ea(()=>{let e=n.prototype.constructor,t=e[el]||H_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[el]||H_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function H_(n){return jy(n)?()=>{let e=H_(kt(n));return e&&e()}:Ki(n)}function ML(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[le]&2048&&!ga(s);){let a=OT(o,s,t,r|2,Pr);if(a!==Pr)return a;let c=o.parent;if(!c){let u=s[s_];if(u){let d=u.get(t,Pr,r);if(d!==Pr)return d}c=AT(s),s=s[es]}o=c}return i}function AT(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[jn]:null}function Dl(n){return IL(Vt(),n)}function xL(){return Ia(Vt(),Pe())}function Ia(n,e){return new sn(ar(n,e))}var sn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=xL}return n})();function PL(n){return n instanceof sn?n.nativeElement:n}function OL(){return this._results[Symbol.iterator]()}var Jh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ut}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=eS(e);(this._changesDetected=!XD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=OL};function RT(n){return(n.flags&128)===128}var yv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yv||{}),NT=new Map,AL=0;function RL(){return AL++}function NL(n){NT.set(n[cl],n)}function q_(n){NT.delete(n[cl])}var qS="__ngContext__";function Ca(n,e){Mr(e)?(n[qS]=e[cl],NL(e)):n[qS]=e}function kT(n){return LT(n[pa])}function FT(n){return LT(n[Vn])}function LT(n){for(;n!==null&&!sr(n);)n=n[Vn];return n}var G_;function _v(n){G_=n}function VT(){if(G_!==void 0)return G_;if(typeof document<"u")return document;throw new L(210,!1)}var df=new J("",{providedIn:"root",factory:()=>kL}),kL="ng",hf=new J(""),Da=new J("",{providedIn:"platform",factory:()=>"unknown"});var ff=new J(""),pf=new J("",{providedIn:"root",factory:()=>VT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FL="h",LL="b";var jT=!1,UT=new J("",{providedIn:"root",factory:()=>jT});var VL=(n,e,t,r)=>{};function jL(n,e,t,r){VL(n,e,t,r)}function vv(n){return(n.flags&32)===32}var UL=()=>null;function BT(n,e,t=!1){return UL(n,e,t)}function zT(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Rh(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function W_(n,e,t){Rh(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function $T(n,e,t){if(a_(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{_e(r)}}}var fi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fi||{});var Bh;function BL(){if(Bh===void 0&&(Bh=null,ci.trustedTypes))try{Bh=ci.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bh}function GS(n){return BL()?.createScriptURL(n)||n}var Xh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_h})`}};function Sl(n){return n instanceof Xh?n.changingThisBreaksApplicationSecurity:n}function Cv(n,e){let t=HT(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_h})`)}return t===e}function HT(n){return n instanceof Xh&&n.getTypeName()||null}var zL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qT(n){return n=String(n),n.match(zL)?n:"unsafe:"+n}var gf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(gf||{});function GT(n){let e=KT();return e?e.sanitize(gf.URL,n)||"":Cv(n,"URL")?Sl(n):qT(Zo(n))}function WT(n){let e=KT();if(e)return GS(e.sanitize(gf.RESOURCE_URL,n)||"");if(Cv(n,"ResourceURL"))return GS(Sl(n));throw new L(904,!1)}function $L(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?WT:GT}function bv(n,e,t){return $L(e,t)(n)}function KT(){let n=Pe();return n&&n[Sr].sanitizer}function YT(n){return n instanceof Function?n():n}function HL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var QT="ng-template";function qL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&HL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(wv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function wv(n){return n.type===4&&n.value!==QT}function GL(n,e,t){let r=n.type===4&&!t?QT:n.value;return e===r}function WL(n,e,t){let r=4,i=n.attrs,o=i!==null?QL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!lr(r)&&!lr(c))return!1;if(s&&lr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!GL(n,c,t)||c===""&&e.length===1){if(lr(r))return!1;s=!0}}else if(r&8){if(i===null||!qL(n,i,c,t)){if(lr(r))return!1;s=!0}}else{let u=e[++a],d=KL(c,i,wv(n),t);if(d===-1){if(lr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(lr(r))return!1;s=!0}}}}return lr(r)||s}function lr(n){return(n&1)===0}function KL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ZL(e,n)}function YL(n,e,t=!1){for(let r=0;r<e.length;r++)if(WL(n,e[r],t))return!0;return!1}function QL(n){for(let e=0;e<n.length;e++){let t=n[e];if(ET(t))return e}return n.length}function ZL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function WS(n,e){return n?":not("+e.trim()+")":e}function JL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!lr(s)&&(e+=WS(o,i),i=""),r=s,o=o||!lr(r);t++}return i!==""&&(e+=WS(o,i)),e}function XL(n){return n.map(JL).join(",")}function e2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!lr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xn={};function t2(n,e){return n.createText(e)}function n2(n,e,t){n.setValue(e,t)}function ZT(n,e,t){return n.createElement(e,t)}function ef(n,e,t,r,i){n.insertBefore(e,t,r,i)}function JT(n,e,t){n.appendChild(e,t)}function KS(n,e,t,r,i){r!==null?ef(n,e,t,r,i):JT(n,e,t)}function r2(n,e,t){n.removeChild(null,e,t)}function i2(n,e,t){n.setAttribute(e,"style",t)}function o2(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function XT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&_L(n,e,r),i!==null&&o2(n,e,i),o!==null&&i2(n,e,o)}function Ev(n,e,t,r,i,o,s,a,c,u,d){let f=Ft+r,g=f+i,m=s2(f,g),E=typeof u=="function"?u():u;return m[ae]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function s2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function a2(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ev(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Iv(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[or]=i,f[le]=r|4|128|8|64|1024,(u!==null||n&&n[le]&2048)&&(f[le]|=2048),u_(f),f[xt]=f[es]=n,f[Gt]=t,f[Sr]=s||n&&n[Sr],f[et]=a||n&&n[et],f[Xo]=c||n&&n[Xo]||null,f[jn]=o,f[cl]=RL(),f[al]=d,f[s_]=u,f[Un]=e.type==2?n[Un]:f,f}function c2(n,e,t){let r=ar(e,n),i=a2(t),o=n[Sr].rendererFactory,s=Dv(n,Iv(n,i,null,eM(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function eM(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function tM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Dv(n,e){return n[pa]?n[o_][Vn]=e:n[pa]=e,n[o_]=e,e}function x(n=1){nM(Lt(),Pe(),ui()+n,!1)}function nM(n,e,t,r){if(!r)if((e[le]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$h(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Hh(e,o,0,t)}no(t)}var mf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mf||{});function K_(n,e,t,r){let i=_e(null);try{let[o,s,a]=n.inputs[t],c=null;(s&mf.SignalBased)!==0&&(c=e[o][qt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):yT(e,c,o,r)}finally{_e(i)}}var dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(dr||{}),l2;function Sv(n,e){return l2(n,e)}function _a(n,e,t,r,i){if(r!=null){let o,s=!1;sr(r)?o=r:Mr(r)&&(s=!0,r=r[or]);let a=Bn(r);n===0&&t!==null?i==null?JT(e,t,a):ef(e,t,a,i||null,!0):n===1&&t!==null?ef(e,t,a,i||null,!0):n===2?r2(e,a,s):n===3&&e.destroyNode(a),o!=null&&b2(e,n,o,t,i)}}function u2(n,e){rM(n,e),e[or]=null,e[jn]=null}function d2(n,e,t,r,i,o){r[or]=i,r[jn]=e,yf(n,r,t,1,i,o)}function rM(n,e){e[Sr].changeDetectionScheduler?.notify(9),yf(n,e,e[et],2,null,null)}function h2(n){let e=n[pa];if(!e)return R_(n[ae],n);for(;e;){let t=null;if(Mr(e))t=e[pa];else{let r=e[on];r&&(t=r)}if(!t){for(;e&&!e[Vn]&&e!==n;)Mr(e)&&R_(e[ae],e),e=e[xt];e===null&&(e=n),Mr(e)&&R_(e[ae],e),t=e&&e[Vn]}e=t}}function Tv(n,e){let t=n[rs],r=t.indexOf(e);t.splice(r,1)}function iM(n,e){if(is(e))return;let t=e[et];t.destroyNode&&yf(n,e,t,3,null,null),h2(e)}function R_(n,e){if(is(e))return;let t=_e(null);try{e[le]&=-129,e[le]|=256,e[Mn]&&Vd(e[Mn]),p2(n,e),f2(n,e),e[ae].type===1&&e[et].destroy();let r=e[Xi];if(r!==null&&sr(e[xt])){r!==e[xt]&&Tv(r,e);let i=e[Tr];i!==null&&i.detachView(n)}q_(e)}finally{_e(t)}}function f2(n,e){let t=n.cleanup,r=e[fa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fa]=null);let i=e[si];if(i!==null){e[si]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ll];if(o!==null){e[ll]=null;for(let s of o)s.destroy()}}function p2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof as)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ue(4,a,c);try{c.call(a)}finally{Ue(5,a,c)}}else{Ue(4,i,o);try{o.call(i)}finally{Ue(5,i,o)}}}}}function g2(n,e,t){return m2(n,e.parent,t)}function m2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[or];if(to(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===fi.None||i===fi.Emulated)return null}return ar(r,t)}function y2(n,e,t){return v2(n,e,t)}function _2(n,e,t){return n.type&40?ar(n,t):null}var v2=_2,YS;function Mv(n,e,t,r){let i=g2(n,r,e),o=e[et],s=r.parent||e[jn],a=y2(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)KS(o,i,t[c],a,!1);else KS(o,i,t,a,!1);YS!==void 0&&YS(o,r,e,t,i)}function _l(n,e){if(e!==null){let t=e.type;if(t&3)return ar(e,n);if(t&4)return Y_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return _l(n,r);{let i=n[e.index];return sr(i)?Y_(-1,i):Bn(i)}}else{if(t&128)return _l(n,e.next);if(t&32)return Sv(e,n)()||Bn(n[e.index]);{let r=oM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yi(n[Un]);return _l(i,r)}else return _l(n,e.next)}}}return null}function oM(n,e){if(e!==null){let r=n[Un][jn],i=e.projection;return r.projection[i]}return null}function Y_(n,e){let t=on+n+1;if(t<e.length){let r=e[t],i=r[ae].firstChild;if(i!==null)return _l(r,i)}return e[eo]}function xv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Ca(Bn(a),r),t.flags|=2),!vv(t))if(c&8)xv(n,e,t.child,r,i,o,!1),_a(e,n,i,a,o);else if(c&32){let u=Sv(t,r),d;for(;d=u();)_a(e,n,i,d,o);_a(e,n,i,a,o)}else c&16?C2(n,e,r,t,i,o):_a(e,n,i,a,o);t=s?t.projectionNext:t.next}}function yf(n,e,t,r,i,o){xv(t,r,n.firstChild,e,i,o,!1)}function C2(n,e,t,r,i,o){let s=t[Un],c=s[jn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];_a(e,n,i,d,o)}else{let u=c,d=s[xt];RT(r)&&(u.flags|=128),xv(n,e,u,d,i,o,!0)}}function b2(n,e,t,r,i){let o=t[eo],s=Bn(t);o!==s&&_a(e,n,r,o,i);for(let a=on;a<t.length;a++){let c=t[a];yf(c[ae],c,n,e,r,o)}}function w2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:dr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(t,r,i,o))}}function sM(n,e,t,r,i){let o=ui(),s=r&2;try{no(-1),s&&e.length>Ft&&nM(n,e,Ft,!1),Ue(s?2:0,i,t),t(r,i)}finally{no(o),Ue(s?3:1,i,t)}}function Pv(n,e,t){x2(n,e,t),(t.flags&64)===64&&P2(n,e,t)}function aM(n,e,t=ar){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function E2(n,e,t,r){let o=r.get(UT,jT)||t===fi.ShadowDom,s=n.selectRootElement(e,o);return I2(s),s}function I2(n){D2(n)}var D2=()=>null;function S2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function cM(n,e,t,r,i,o){let s=e[ae];if(Ov(n,s,e,t,r)){to(n)&&M2(e,n.index);return}n.type&3&&(t=S2(t)),T2(n,e,t,r,i,o)}function T2(n,e,t,r,i,o){if(n.type&3){let s=ar(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function M2(n,e){let t=zn(e,n);t[le]&16||(t[le]|=64)}function x2(n,e,t){let r=t.directiveStart,i=t.directiveEnd;to(t)&&c2(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Zh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=bl(e,n,s,t);if(Ca(c,e),o!==null&&N2(e,s-r,c,a,t,o),xr(a)){let u=zn(t.index,e);u[Gt]=bl(e,n,s,t)}}}function P2(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=PS();try{no(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Ah(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&O2(c,u)}}finally{no(-1),Ah(s)}}function O2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function lM(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];YL(e,o.selectors,!1)&&(r??=[],xr(o)?r.unshift(o):r.push(o))}return r}function A2(n,e,t,r,i,o){let s=ar(n,e);R2(e[et],s,o,n.value,t,r,i)}function R2(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Zo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function N2(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];K_(r,t,c,u)}}function k2(n,e,t,r,i){let o=Ft+t,s=e[ae],a=i(s,e,n,r,t);e[o]=a,ya(n,!0);let c=n.type===2;return c?(XT(e[et],a,n),(yS()===0||dl(n))&&Ca(a,e),_S()):Ca(a,e),Lh()&&(!c||!vv(n))&&Mv(s,e,a,n),n}function F2(n){let e=n;return y_()?IS():(e=e.parent,ya(e,!1)),e}function L2(n,e){let t=n[Xo];if(!t)return;t.get(gn,null)?.(e)}function Ov(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];K_(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];K_(d,u,r,i),a=!0}return a}function V2(n,e){let t=zn(e,n),r=t[ae];j2(r,t);let i=t[or];i!==null&&t[al]===null&&(t[al]=BT(i,t[Xo])),Ue(18),Av(r,t,t[Gt]),Ue(19,t[Gt])}function j2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Av(n,e,t){Nh(e);try{let r=n.viewQuery;r!==null&&W_(1,r,t);let i=n.template;i!==null&&sM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tr]?.finishViewCreation(n),n.staticContentQueries&&zT(n,e),n.staticViewQueries&&W_(2,n.viewQuery,t);let o=n.components;o!==null&&U2(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[le]&=-5,kh()}}function U2(n,e){for(let t=0;t<e.length;t++)V2(n,e[t])}function B2(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[le]&4096?4096:16,c=Iv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Xi]=u;let d=n[Tr];return d!==null&&(c[Tr]=d.createEmbeddedView(o)),Av(o,c,t),c}finally{_e(i)}}function QS(n,e){return!e||e.firstChild===null||RT(n)}var ZS=!1,z2=new J("");function wl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Bn(o)),sr(o)&&uM(o,r);let s=t.type;if(s&8)wl(n,e,t.child,r);else if(s&32){let a=Sv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=oM(e,t);if(Array.isArray(a))r.push(...a);else{let c=Yi(e[Un]);wl(c[ae],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function uM(n,e){for(let t=on;t<n.length;t++){let r=n[t],i=r[ae].firstChild;i!==null&&wl(r[ae],r,i,e)}n[eo]!==n[or]&&e.push(n[eo])}function dM(n){if(n[ns]!==null){for(let e of n[ns])e.impl.addSequence(e);n[ns].length=0}}var hM=[];function $2(n){return n[Mn]??H2(n)}function H2(n){let e=hM.pop()??Object.create(G2);return e.lView=n,e}function q2(n){n.lView[Mn]!==n&&(n.lView=null,hM.push(n))}var G2=pe(U({},Uo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ma(n.lView)},consumerOnSignalRead(){this.lView[Mn]=this}});function W2(n){let e=n[Mn]??Object.create(K2);return e.lView=n,e}var K2=pe(U({},Uo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Yi(n.lView);for(;e&&!fM(e[ae]);)e=Yi(e);e&&d_(e)},consumerOnSignalRead(){this.lView[Mn]=this}});function fM(n){return n.type!==2}function pM(n){if(n[ll]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ll])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[le]&8192)}}var Y2=100;function Rv(n,e=0){let r=n[Sr].rendererFactory,i=!1;i||r.begin?.();try{Q2(n,e)}finally{i||r.end?.()}}function Q2(n,e){let t=v_();try{C_(!0),Q_(n,e);let r=0;for(;fl(n);){if(r===Y2)throw new L(103,!1);r++,Q_(n,1)}}finally{C_(t)}}function gM(n,e){__(e?pl.Exhaustive:pl.OnlyDirtyViews);try{Rv(n)}finally{__(pl.Off)}}function Z2(n,e,t,r){if(is(e))return;let i=e[le],o=!1,s=!1;Nh(e);let a=!0,c=null,u=null;o||(fM(n)?(u=$2(e),c=Bo(u)):Fd()===null?(a=!1,u=W2(e),c=Bo(u)):e[Mn]&&(Vd(e[Mn]),e[Mn]=null));try{u_(e),TS(n.bindingStartIndex),t!==null&&sM(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&$h(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Hh(e,m,0,null),O_(e,0)}if(s||J2(e),pM(e),mM(e,0),n.contentQueries!==null&&zT(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&$h(e,m)}else{let m=n.contentHooks;m!==null&&Hh(e,m,1),O_(e,1)}eV(n,e);let f=n.components;f!==null&&_M(e,f,0);let g=n.viewQuery;if(g!==null&&W_(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&$h(e,m)}else{let m=n.viewHooks;m!==null&&Hh(e,m,2),O_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Dh]){for(let m of e[Dh])m();e[Dh]=null}o||(dM(e),e[le]&=-73)}catch(d){throw o||ma(e),d}finally{u!==null&&(Js(u,c),a&&q2(u)),kh()}}function mM(n,e){for(let t=kT(n);t!==null;t=FT(t))for(let r=on;r<t.length;r++){let i=t[r];yM(i,e)}}function J2(n){for(let e=kT(n);e!==null;e=FT(e)){if(!(e[le]&2))continue;let t=e[rs];for(let r=0;r<t.length;r++){let i=t[r];d_(i)}}}function X2(n,e,t){Ue(18);let r=zn(e,n);yM(r,t),Ue(19,r[Gt])}function yM(n,e){Mh(n)&&Q_(n,e)}function Q_(n,e){let r=n[ae],i=n[le],o=n[Mn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Wc(o)),s||=!1,o&&(o.dirty=!1),n[le]&=-9217,s)Z2(r,n,r.template,n[Gt]);else if(i&8192){let a=_e(null);try{pM(n),mM(n,1);let c=r.components;c!==null&&_M(n,c,1),dM(n)}finally{_e(a)}}}function _M(n,e,t){for(let r=0;r<e.length;r++)X2(n,e[r],t)}function eV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)no(~i);else{let o=i,s=t[++r],a=t[++r];xS(s,o);let c=e[o];Ue(24,c),a(2,c),Ue(25,c)}}}finally{no(-1)}}function Nv(n,e){let t=v_()?64:1088;for(n[Sr].changeDetectionScheduler?.notify(e);n;){n[le]|=t;let r=Yi(n);if(ga(n)&&!r)return n;n=r}return null}function vM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function tV(n,e,t,r=!0){let i=e[ae];if(nV(i,e,n,t),r){let s=Y_(t,n),a=e[et],c=a.parentNode(n[eo]);c!==null&&d2(i,n[jn],a,e,c,s)}let o=e[al];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Z_(n,e){if(n.length<=on)return;let t=on+e,r=n[t];if(r){let i=r[Xi];i!==null&&i!==n&&Tv(i,r),e>0&&(n[t-1][Vn]=r[Vn]);let o=il(n,on+e);u2(r[ae],r);let s=o[Tr];s!==null&&s.detachView(o[ae]),r[xt]=null,r[Vn]=null,r[le]&=-129}return r}function nV(n,e,t,r){let i=on+r,o=t.length;r>0&&(t[i-1][Vn]=e),r<o-on?(e[Vn]=t[i],Zy(t,on+r,e)):(t.push(e),e[Vn]=null),e[xt]=t;let s=e[Xi];s!==null&&t!==s&&CM(s,e);let a=e[Tr];a!==null&&a.insertView(n),xh(e),e[le]|=128}function CM(n,e){let t=n[rs],r=e[xt];if(Mr(r))n[le]|=2;else{let i=r[xt][Un];e[Un]!==i&&(n[le]|=2)}t===null?n[rs]=[e]:t.push(e)}var ro=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ae];return wl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return is(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(sr(e)){let t=e[ul],r=t?t.indexOf(this):-1;r>-1&&(Z_(e,r),il(t,r))}this._attachedToViewContainer=!1}iM(this._lView[ae],this._lView)}onDestroy(e){h_(this._lView,e)}markForCheck(){Nv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){xh(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,Rv(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Xo].get(z2,ZS)}catch{this.exhaustive=ZS}}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ga(this._lView),t=this._lView[Xi];t!==null&&!e&&Tv(t,this._lView),rM(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=ga(this._lView),r=this._lView[Xi];r!==null&&!t&&CM(r,this._lView),xh(this._lView)}};var io=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=B2(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ro(o)}}return n})();function rV(){return _f(Vt(),Pe())}function _f(n,e){return n.type&4?new io(e,n,Ia(n,e)):null}function kv(n,e,t,r,i){let o=n.data[e];if(o===null)o=iV(n,e,t,r,i),MS()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ES();o.injectorIndex=s===null?-1:s.injectorIndex}return ya(o,!0),o}function iV(n,e,t,r,i){let o=m_(),s=y_(),a=s?o:o&&o.parent,c=n.data[e]=sV(n,a,t,e,r,i);return oV(n,c,o,s),c}function oV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function sV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return CS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uZ=new RegExp(`^(\\d+)*(${LL}|${FL})*(.*)`);var aV=()=>null;function JS(n,e){return aV(n,e)}var bM=class{},vf=class{},J_=class{resolveComponentFactory(e){throw new L(917,!1)}},Tl=class{static NULL=new J_},pi=class{},fr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>cV()}return n})();function cV(){let n=Pe(),e=Vt(),t=zn(e.index,n);return(Mr(t)?t:n)[et]}var wM=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Gh={},X_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Gh,r);return i!==Gh||t===Gh?i:this.parentInjector.get(e,t,r)}};function XS(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=vh(i,a);else if(o==2){let c=a,u=e[++s];r=vh(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function B(n,e=0){let t=Pe();if(t===null)return ne(n,e);let r=Vt();return PT(r,t,kt(n),e)}function EM(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}dV(n,e,t,a,o,c,u)}o!==null&&r!==null&&lV(t,r,o)}function lV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function uV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function dV(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&xr(m)&&(c=!0,uV(n,t,g)),$_(Zh(t,e),n,m.type)}yV(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=tM(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=Cl(t.mergedAttrs,m.hostAttrs),fV(n,t,e,f,m),mV(f,m,i),s!==null&&s.has(m)){let[M,P]=s.get(m);t.directiveToIndex.set(m.type,[f,M+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let E=m.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}hV(n,t,o)}function hV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))eT(0,e,i,r),eT(1,e,i,r),nT(e,r,!1);else{let o=t.get(i);tT(0,e,o,r),tT(1,e,o,r),nT(e,r,!0)}}}function eT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),IM(e,o)}}function tT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),IM(e,s)}}function IM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function nT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||wv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function fV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ki(i.type,!0)),s=new as(o,xr(i),B,null);n.blueprint[r]=s,t[r]=s,pV(n,e,r,tM(n,t,i.hostVars,xn),i)}function pV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;gV(s)!=a&&s.push(a),s.push(t,r,o)}}function gV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function mV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xr(e)&&(t[""]=n)}}function yV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function DM(n,e,t,r,i,o,s,a){let c=e[ae],u=c.consts,d=hl(u,s),f=kv(c,n,t,r,d);return o&&EM(c,e,f,hl(u,a),i),f.mergedAttrs=Cl(f.mergedAttrs,f.attrs),f.attrs!==null&&XS(f,f.attrs,!1),f.mergedAttrs!==null&&XS(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function SM(n,e){bT(n,e),a_(e)&&n.queries.elementEnd(e)}function Fv(n){return Cf(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function TM(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Cf(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function MM(n,e,t){return n[e]=t}function gi(n,e,t){if(t===xn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function xM(n,e,t,r){let i=gi(n,e,t);return gi(n,e+1,r)||i}function N_(n,e,t){return function r(i){let o=to(n)?zn(n.index,e):e;Nv(o,5);let s=e[Gt],a=rT(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=rT(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function rT(n,e,t,r){let i=_e(null);try{return Ue(6,e,t),t(r)!==!1}catch(o){return L2(n,o),!1}finally{Ue(7,e,t),_e(i)}}function _V(n,e,t,r,i,o,s,a){let c=dl(n),u=!1,d=null;if(!r&&c&&(d=vV(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=ar(n,t),g=r?r(f):f;jL(t,g,o,a);let m=i.listen(g,o,a),E=r?M=>r(Bn(M[n.index])):n.index;PM(E,e,t,o,a,m,!1)}return u}function vV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fa],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function PM(n,e,t,r,i,o,s){let a=e.firstCreatePass?p_(e):null,c=f_(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function iT(n,e,t,r,i,o){let s=e[t],a=e[ae],u=a.data[t].outputs[r],f=s[u].subscribe(o);PM(n.index,a,e,i,o,f,!0)}var ev=Symbol("BINDING");var tf=class extends Tl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ji(e);return new ba(t,this.ngModule)}};function CV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&mf.SignalBased)!==0};return i&&(o.transform=i),o})}function bV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function wV(n,e,t){let r=e instanceof Mt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new X_(t,r):t}function EV(n){let e=n.get(pi,null);if(e===null)throw new L(407,!1);let t=n.get(wM,null),r=n.get(Qi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function IV(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return ZT(e,t,t==="svg"?uS:t==="math"?dS:null)}var ba=class extends vf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=CV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=XL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ue(22);let a=_e(null);try{let c=this.componentDef,u=DV(r,c,s,o),d=wV(c,i||this.ngModule,e),f=EV(d),g=f.rendererFactory.createRenderer(null,c),m=r?E2(g,r,c.encapsulation,d):IV(c,g),E=s?.some(oT)||o?.some(k=>typeof k!="function"&&k.bindings.some(oT)),M=Iv(null,u,null,512|eM(c),null,null,f,g,d,null,BT(m,d,!0));M[Ft]=m,Nh(M);let P=null;try{let k=DM(Ft,M,2,"#host",()=>u.directiveRegistry,!0,0);m&&(XT(g,m,k),Ca(m,M)),Pv(u,M,k),$T(u,k,M),SM(u,k),t!==void 0&&TV(k,this.ngContentSelectors,t),P=zn(k.index,M),M[Gt]=P[Gt],Av(u,M,null)}catch(k){throw P!==null&&q_(P),q_(M),k}finally{Ue(23),kh()}return new nf(this.componentType,M,!!E)}finally{_e(a)}}};function DV(n,e,t,r){let i=n?["ng-version","20.1.3"]:e2(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[ev].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[ev].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=t_(f);c.push(g)}return Ev(0,null,SV(o,s),1,a,c,null,null,null,[i],null)}function SV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function oT(n){let e=n[ev].kind;return e==="input"||e==="twoWay"}var nf=class extends bM{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Sh(t[ae],Ft),this.location=Ia(this._tNode,t),this.instance=zn(this._tNode.index,t)[Gt],this.hostView=this.changeDetectorRef=new ro(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ov(r,i[ae],i,e,t);this.previousInputValues.set(e,t);let s=zn(r.index,i);Nv(s,1)}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class n{static __NG_ELEMENT_ID__=MV}return n})();function MV(){let n=Vt();return AM(n,Pe())}var xV=mi,OM=class extends xV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){let e=mv(this._hostTNode,this._hostLView);if(IT(e)){let t=Yh(e,this._hostLView),r=Kh(e),i=t[ae].data[r+8];return new ss(i,t)}else return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=sT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=JS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,QS(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!uL(e),u;if(c)u=t;else{let P=t||{};u=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,s=P.directives,a=P.bindings}let d=c?e:new ba(Ji(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let k=(c?f:this.parentInjector).get(Mt,null);k&&(o=k)}let g=Ji(d.componentType??{}),m=JS(this._lContainer,g?.id??null),E=m?.firstChild??null,M=d.create(f,i,E,o,s,a);return this.insertImpl(M.hostView,u,QS(this._hostTNode,m)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(fS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],u=new OM(c,c[jn],c[xt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return tV(s,i,o,r),e.attachToViewContainerRef(),Zy(k_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=sT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Z_(this._lContainer,t);r&&(il(k_(this._lContainer),t),iM(r[ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=Z_(this._lContainer,t);return r&&il(k_(this._lContainer),t)!=null?new ro(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function sT(n){return n[ul]}function k_(n){return n[ul]||(n[ul]=[])}function AM(n,e){let t,r=e[n.index];return sr(r)?t=r:(t=vM(r,e,null,n),e[n.index]=t,Dv(e,t)),OV(t,e,n,r),new OM(t,n,e)}function PV(n,e){let t=n[et],r=t.createComment(""),i=ar(e,n),o=t.parentNode(i);return ef(t,o,r,t.nextSibling(i),!1),r}var OV=NV,AV=()=>!1;function RV(n,e,t){return AV(n,e,t)}function NV(n,e,t,r){if(n[eo])return;let i;t.type&8?i=Bn(r):i=PV(e,t),n[eo]=i}var tv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},nv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Lv(e,t).matches!==null&&this.queries[t].setDirty()}},rv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=zV(e):this.predicate=e}},iv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ov=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,kV(t,o)),this.matchTNodeWithReadOption(e,t,qh(t,e,o,!1,!1))}else r===io?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,qh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===sn||i===mi||i===io&&t.type&4)this.addMatch(t.index,-2);else{let o=qh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function kV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function FV(n,e){return n.type&11?Ia(n,e):n.type&4?_f(n,e):null}function LV(n,e,t,r){return t===-1?FV(e,n):t===-2?VV(n,e,r):bl(n,n[ae],t,e)}function VV(n,e,t){if(t===sn)return Ia(e,n);if(t===io)return _f(e,n);if(t===mi)return AM(e,n)}function RM(n,e,t,r){let i=e[Tr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(LV(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function sv(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=RM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=on;f<d.length;f++){let g=d[f];g[Xi]===g[xt]&&sv(g[ae],g,u,r)}if(d[rs]!==null){let f=d[rs];for(let g=0;g<f.length;g++){let m=f[g];sv(m[ae],m,u,r)}}}}}return r}function jV(n,e){return n[Tr].queries[e].queryList}function UV(n,e,t){let r=new Jh((t&4)===4);return mS(n,e,r,r.destroy),(e[Tr]??=new nv).queries.push(new tv(r))-1}function BV(n,e,t,r){let i=Lt();if(i.firstCreatePass){let o=Vt();$V(i,new rv(e,t,r),o.index),HV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return UV(i,Pe(),t)}function zV(n){return n.split(",").map(e=>e.trim())}function $V(n,e,t){n.queries===null&&(n.queries=new iv),n.queries.track(new ov(e,t))}function HV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Lv(n,e){return n.queries.getByIndex(e)}function qV(n,e){let t=n[ae],r=Lv(t,e);return r.crossesNgTemplate?sv(t,n,e,[]):RM(t,n,r,e)}var aT=new Set;function us(n){aT.has(n)||(aT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var cs=class{},bf=class{};var rf=class extends cs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new tf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=e_(e);this._bootstrapComponents=YT(o.bootstrap),this._r3Injector=I_(e,t,[{provide:cs,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver},...r],ai(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},of=class extends bf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new rf(this.moduleType,e,[])}};var El=class extends cs{injector;componentFactoryResolver=new tf(this);instance=null;constructor(e){super();let t=new Yo([...e.providers,{provide:cs,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver}],e.parent||sl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ml(n,e,t=null){return new El({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var GV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=n_(!1,t.type),i=r.length>0?Ml([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(ne(Mt))})}return n})();function dt(n){return Ea(()=>{let e=NM(n),t=pe(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(GV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fi.Emulated,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&us("NgStandalone"),kM(t);let r=n.dependencies;return t.directiveDefs=cT(r,WV),t.pipeDefs=cT(r,nS),t.id=QV(t),t})}function WV(n){return Ji(n)||t_(n)}function Ar(n){return Ea(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function KV(n,e){if(n==null)return Zi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=mf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function YV(n){if(n==null)return Zi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function $e(n){return Ea(()=>{let e=NM(n);return kM(e),e})}function Sa(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function NM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Zi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:KV(n.inputs,e),outputs:YV(n.outputs),debugInfo:null}}function kM(n){n.features?.forEach(e=>e(n))}function cT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function QV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ZV(n){return Object.getPrototypeOf(n.prototype).constructor}function mn(n){let e=ZV(n.type),t=!0,r=[n];for(;e;){let i;if(xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=F_(n.inputs),s.declaredInputs=F_(n.declaredInputs),s.outputs=F_(n.outputs);let a=i.hostBindings;a&&n5(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&e5(n,c),u&&t5(n,u),JV(n,i),KD(n.outputs,i.outputs),xr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===mn&&(t=!1)}}e=Object.getPrototypeOf(e)}XV(r)}function JV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function XV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cl(i.hostAttrs,t=Cl(t,i.hostAttrs))}}function F_(n){return n===Zi?{}:n===nn?[]:n}function e5(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function t5(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function n5(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function r5(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Cl(n.mergedAttrs,n.attrs);let d=n.tView=Ev(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ya(n,!1);let c=o5(t,e,n,r);Lh()&&Mv(t,e,c,n),Ca(c,e);let u=vM(c,e,c,n);e[r+Ft]=u,Dv(e,u),RV(u,n,e)}function i5(n,e,t,r,i,o,s,a,c,u,d){let f=t+Ft,g;return e.firstCreatePass?(g=kv(e,f,4,s||null,a||null),g_()&&EM(e,n,g,hl(e.consts,u),lM),bT(e,g)):g=e.data[f],r5(g,n,e,t,r,i,o,c),dl(g)&&Pv(e,n,g),u!=null&&aM(n,g,d),g}function ue(n,e,t,r,i,o,s,a){let c=Pe(),u=Lt(),d=hl(u.consts,o);return i5(c,u,n,e,t,r,i,d,void 0,s,a),ue}var o5=s5;function s5(n,e,t,r){return Vh(!0),e[et].createComment("")}var wf=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(wf||{}),ds=new J(""),FM=!1,av=class extends ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,cS()&&(this.destroyRef=j(cr,{optional:!0})??void 0,this.pendingTasks=j(hi,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tt=av;function LM(n){let e,t;function r(){n=yl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function lT(n){return queueMicrotask(()=>n()),()=>{n=yl}}var Vv="isAngularZone",sf=Vv+"_ID",a5=0,st=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tt(!1);onMicrotaskEmpty=new tt(!1);onStable=new tt(!1);onError=new tt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=FM}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,u5(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,c5,yl,yl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},c5={};function jv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function l5(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){LM(()=>{n.callbackScheduled=!1,cv(n),n.isCheckStableRunning=!0,jv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),cv(n)}function u5(n){let e=()=>{l5(n)},t=a5++;n._inner=n._inner.fork({name:"angular",properties:{[Vv]:!0,[sf]:t,[sf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(d5(c))return r.invokeTask(o,s,a,c);try{return uT(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dT(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return uT(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!h5(c)&&e(),dT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,cv(n),jv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function cv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dT(n){n._nesting--,jv(n)}var af=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tt;onMicrotaskEmpty=new tt;onStable=new tt;onError=new tt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function d5(n){return VM(n,"__ignore_ng_zone__")}function h5(n){return VM(n,"__scheduler_tick__")}function VM(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Uv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),jM=[0,1,2,3],UM=(()=>{class n{ngZone=j(st);scheduler=j(Qi);errorHandler=j(rr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){j(ds,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ue(16),this.executing=!0;for(let r of jM)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ue(17)}register(t){let{view:r}=t;r!==void 0?((r[ns]??=[]).push(t),ma(r),r[le]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(wf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),cf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ns];e&&(this.view[ns]=e.filter(t=>t!==this))}};function Ef(n,e){let t=e?.injector??j(Ln);return us("NgAfterNextRender"),p5(n,t,e,!0)}function f5(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function p5(n,e,t,r){let i=e.get(Uv);i.impl??=e.get(UM);let o=e.get(ds,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(cr):null,a=e.get(jh,null,{optional:!0}),c=new cf(i.impl,f5(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Bv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var zv=new J("");function oo(n){return!!n&&typeof n.then=="function"}function $v(n){return!!n&&typeof n.subscribe=="function"}var BM=new J("");var Hv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=j(BM,{optional:!0})??[];injector=j(Ln);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=rn(this.injector,i);if(oo(o))t.push(o);else if($v(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),If=new J("");function zM(){ly(()=>{let n="";throw new L(600,n)})}function $M(n){return n.isBoundToModule}var g5=10;var yi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=j(gn);afterRenderManager=j(Uv);zonelessEnabled=j(ml);rootEffectScheduler=j(P_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=j(hi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(xe(t=>!t))}constructor(){j(ds,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=j(Mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ln.NULL){return this._injector.get(st).run(()=>{Ue(10);let s=t instanceof vf;if(!this._injector.get(Hv).done){let E="";throw new L(405,E)}let c;s?c=t:c=this._injector.get(Tl).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=$M(c)?void 0:this._injector.get(cs),d=r||c.selector,f=c.create(i,[],d,u),g=f.location.nativeElement,m=f.injector.get(zv,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),vl(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Ue(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ue(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_e(t),this.afterTick.next(),Ue(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<g5;)Ue(14),this.synchronizeOnce(),Ue(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!fl(i))continue;let o=r&&!this.zonelessEnabled?0:1;Rv(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>fl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;vl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(If,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function hs(n,e,t,r){let i=Pe(),o=gl();if(gi(i,o,e)){let s=Lt(),a=Fh();A2(a,i,n,e,t,r)}return hs}function Y(n,e,t){let r=Pe(),i=gl();if(gi(r,i,e)){let o=Lt(),s=Fh();cM(s,r,n,e,r[et],t)}return Y}function lv(n,e,t,r,i){Ov(e,n,t,i?"class":"style",r)}function _(n,e,t,r){let i=Pe(),o=i[ae],s=n+Ft,a=o.firstCreatePass?DM(s,i,2,e,lM,g_(),t,r):o.data[s];if(k2(a,i,n,e,m5),dl(a)){let c=i[ae];Pv(c,i,a),$T(c,a,i)}return r!=null&&aM(i,a),_}function v(){let n=Lt(),e=Vt(),t=F2(e);return n.firstCreatePass&&SM(n,t),bS(t)&&wS(),vS(),t.classesWithoutHost!=null&&mL(t)&&lv(n,t,Pe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&yL(t)&&lv(n,t,Pe(),t.stylesWithoutHost,!1),v}function at(n,e,t,r){return _(n,e,t,r),v(),at}var m5=(n,e,t,r,i)=>(Vh(!0),ZT(e[et],r,FS()));function ht(){return Pe()}var os=void 0;function y5(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var _5=["en",[["a","p"],["AM","PM"],os],[["AM","PM"],os,os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",os,"{1} 'at' {0}",os],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",y5],L_={};function an(n){let e=v5(n),t=hT(e);if(t)return t;let r=e.split("-")[0];if(t=hT(r),t)return t;if(r==="en")return _5;throw new L(701,!1)}function hT(n){return n in L_||(L_[n]=ci.ng&&ci.ng.common&&ci.ng.common.locales&&ci.ng.common.locales[n]),L_[n]}var nt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(nt||{});function v5(n){return n.toLowerCase().replace(/_/g,"-")}var xl="en-US",C5="USD";var b5=xl;function HM(n){typeof n=="string"&&(b5=n.toLowerCase().replace(/_/g,"-"))}function X(n,e,t){let r=Pe(),i=Lt(),o=Vt();return qM(i,r,r[et],o,n,e,t),X}function qM(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=N_(r,e,o),_V(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=N_(r,e,o),iT(r,e,g,m,i,c)}if(u&&u.length)for(let f of u)c??=N_(r,e,o),iT(r,e,f,i,i,c)}}function ee(n=1){return kS(n)}function qv(n,e,t,r){BV(n,e,t,r)}function Gv(n){let e=Pe(),t=Lt(),r=b_();Rh(r+1);let i=Lv(t,r);if(n.dirty&&hS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=qV(e,r);n.reset(o,PL),n.notifyOnChanges()}return!0}return!1}function Wv(){return jV(Pe(),b_())}function Df(n){let e=DS();return Th(e,Ft+n)}function zh(n,e){return n<<17|e<<2}function ls(n){return n>>17&32767}function w5(n){return(n&2)==2}function E5(n,e){return n&131071|e<<17}function uv(n){return n|2}function wa(n){return(n&131068)>>2}function V_(n,e){return n&-131069|e<<2}function I5(n){return(n&1)===1}function dv(n){return n|1}function D5(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ls(s),c=wa(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||ha(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=ls(n[a+1]);n[r+1]=zh(g,a),g!==0&&(n[g+1]=V_(n[g+1],r)),n[a+1]=E5(n[a+1],r)}else n[r+1]=zh(a,0),a!==0&&(n[a+1]=V_(n[a+1],r)),a=r;else n[r+1]=zh(c,0),a===0?a=r:n[c+1]=V_(n[c+1],r),c=r;u&&(n[r+1]=uv(n[r+1])),fT(n,d,r,!0),fT(n,d,r,!1),S5(e,d,n,r,o),s=zh(a,c),o?e.classBindings=s:e.styleBindings=s}function S5(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ha(o,e)>=0&&(t[r+1]=dv(t[r+1]))}function fT(n,e,t,r){let i=n[t+1],o=e===null,s=r?ls(i):wa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];T5(c,e)&&(a=!0,n[s+1]=r?dv(u):uv(u)),s=r?ls(u):wa(u)}a&&(n[t+1]=r?uv(i):dv(i))}function T5(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ha(n,e)>=0:!1}var ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function M5(n){return n.substring(ur.key,ur.keyEnd)}function x5(n){return P5(n),GM(n,WM(n,0,ur.textEnd))}function GM(n,e){let t=ur.textEnd;return t===e?-1:(e=ur.keyEnd=O5(n,ur.key=e,t),WM(n,e,t))}function P5(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}function WM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function O5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ft(n,e,t){return KM(n,e,t,!1),ft}function Wt(n,e){return KM(n,e,null,!0),Wt}function $n(n){R5(j5,A5,n,!0)}function A5(n,e){for(let t=x5(e);t>=0;t=GM(e,t))Eh(n,M5(e),!0)}function KM(n,e,t,r){let i=Pe(),o=Lt(),s=Oh(2);if(o.firstUpdatePass&&QM(o,n,s,r),e!==xn&&gi(i,s,e)){let a=o.data[ui()];ZM(o,a,i,i[et],n,i[s+1]=B5(e,t),r,s)}}function R5(n,e,t,r){let i=Lt(),o=Oh(2);i.firstUpdatePass&&QM(i,null,o,r);let s=Pe();if(t!==xn&&gi(s,o,t)){let a=i.data[ui()];if(JM(a,r)&&!YM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=vh(c,t||"")),lv(i,a,s,t,r)}else U5(i,a,s,s[et],s[o+1],s[o+1]=V5(n,e,t),r,o)}}function YM(n,e){return e>=n.expandoStartIndex}function QM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ui()],s=YM(n,t);JM(o,r)&&e===null&&!s&&(e=!1),e=N5(i,o,e,r),D5(i,o,e,t,s,r)}}function N5(n,e,t,r){let i=OS(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=j_(null,n,e,t,r),t=Il(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=j_(i,n,e,t,r),o===null){let c=k5(n,e,r);c!==void 0&&Array.isArray(c)&&(c=j_(null,n,e,c[1],r),c=Il(c,e.attrs,r),F5(n,e,r,c))}else o=L5(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function k5(n,e,t){let r=t?e.classBindings:e.styleBindings;if(wa(r)!==0)return n[ls(r)]}function F5(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ls(i)]=r}function L5(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Il(r,s,t)}return Il(r,e.attrs,t)}function j_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Il(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Il(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Eh(n,s,t?!0:e[++o]))}return n===void 0?null:n}function V5(n,e,t){if(t==null||t==="")return nn;let r=[],i=Sl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function j5(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Eh(n,r,t)}function U5(n,e,t,r,i,o,s,a){i===xn&&(i=nn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,E=null,M;d===f?(c+=2,u+=2,g!==m&&(E=f,M=m)):f===null||d!==null&&d<f?(c+=2,E=d):(u+=2,E=f,M=m),E!==null&&ZM(n,e,t,r,E,M,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function ZM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=I5(u)?pT(c,e,t,i,wa(u),s):void 0;if(!lf(d)){lf(o)||w5(u)&&(o=pT(c,null,t,i,a,s));let f=c_(ui(),t);w2(r,s,f,i,o)}}function pT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=t[i+1];g===xn&&(g=f?nn:void 0);let m=f?Ih(g,r):d===r?g:void 0;if(u&&!lf(m)&&(m=Ih(c,r)),lf(m)&&(a=m,s))return a;let E=n[i+1];i=s?ls(E):wa(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ih(c,r))}return a}function lf(n){return n!==void 0}function B5(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ai(Sl(n)))),n}function JM(n,e){return(n.flags&(e?8:16))!==0}function w(n,e=""){let t=Pe(),r=Lt(),i=n+Ft,o=r.firstCreatePass?kv(r,i,1,e,null):r.data[i],s=z5(r,t,o,e,n);t[i]=s,Lh()&&Mv(r,t,s,o),ya(o,!1)}var z5=(n,e,t,r,i)=>(Vh(!0),t2(e[et],r));function $5(n,e,t,r=""){return gi(n,gl(),t)?e+Zo(t)+r:xn}function H5(n,e,t,r,i,o=""){let s=SS(),a=xM(n,s,t,i);return Oh(2),a?e+Zo(t)+r+Zo(i)+o:xn}function ie(n){return de("",n),ie}function de(n,e,t){let r=Pe(),i=$5(r,n,e,t);return i!==xn&&XM(r,ui(),i),de}function Hn(n,e,t,r,i){let o=Pe(),s=H5(o,n,e,t,r,i);return s!==xn&&XM(o,ui(),s),Hn}function XM(n,e,t){let r=c_(e,n);n2(n[et],r,t)}function jt(n,e,t){T_(e)&&(e=e());let r=Pe(),i=gl();if(gi(r,i,e)){let o=Lt(),s=Fh();cM(s,r,n,e,r[et],t)}return jt}function Kt(n,e){let t=T_(n);return t&&n.set(e),t}function Ut(n,e){let t=Pe(),r=Lt(),i=Vt();return qM(r,t,t[et],i,n,e),Ut}function q5(n,e,t){let r=Lt();if(r.firstCreatePass){let i=xr(n);hv(t,r.data,r.blueprint,i,!0),hv(e,r.data,r.blueprint,i,!1)}}function hv(n,e,t,r,i){if(n=kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)hv(n[o],e,t,r,i);else{let o=Lt(),s=Pe(),a=Vt(),c=Ko(n)?n:kt(n.provide),u=i_(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Ko(n)||!n.multi){let m=new as(u,i,B,null),E=B_(c,e,i?d:d+g,f);E===-1?($_(Zh(a,s),o,c),U_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[E]=m,s[E]=m)}else{let m=B_(c,e,d+g,f),E=B_(c,e,d,d+g),M=m>=0&&t[m],P=E>=0&&t[E];if(i&&!P||!i&&!M){$_(Zh(a,s),o,c);let k=K5(i?W5:G5,t.length,i,r,u,n);!i&&P&&(t[E].providerFactory=k),U_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=ex(t[i?E:m],u,!i&&r);U_(o,n,m>-1?m:E,k)}!i&&r&&P&&t[E].componentProviders++}}}function U_(n,e,t,r){let i=Ko(e),o=aS(e);if(i||o){let c=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function ex(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function B_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function G5(n,e,t,r,i){return fv(this.multi,[])}function W5(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=bl(r,r[ae],this.providerFactory.index,i);s=c.slice(0,a),fv(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],fv(o,s);return s}function fv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function K5(n,e,t,r,i,o){let s=new as(n,t,B,null);return s.multi=[],s.index=e,s.componentProviders=0,ex(s,i,r&&!t),s}function Rr(n,e=[]){return t=>{t.providersResolver=(r,i)=>q5(r,i?i(n):n,e)}}function Pl(n,e,t,r){return nx(Pe(),Ph(),n,e,t,r)}function tx(n,e){let t=n[e];return t===xn?void 0:t}function nx(n,e,t,r,i,o){let s=e+t;return gi(n,s,i)?MM(n,s+1,o?r.call(o,i):r(i)):tx(n,s+1)}function Y5(n,e,t,r,i,o,s){let a=e+t;return xM(n,a,i,o)?MM(n,a+2,s?r.call(s,i,o):r(i,o)):tx(n,a+2)}function ve(n,e){let t=Lt(),r,i=n+Ft;t.firstCreatePass?(r=Q5(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ki(r.type,!0)),s,a=tn(B);try{let c=Qh(!1),u=o();return Qh(c),l_(t,Pe(),i,u),u}finally{tn(a)}}function Q5(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function pt(n,e,t){let r=n+Ft,i=Pe(),o=Th(i,r);return rx(i,r)?nx(i,Ph(),e,o.transform,t,o):o.transform(t)}function Qe(n,e,t,r){let i=n+Ft,o=Pe(),s=Th(o,i);return rx(o,i)?Y5(o,Ph(),e,s.transform,t,r,s):s.transform(t,r)}function rx(n,e){return n[ae].data[e].pure}function Kv(n,e){return _f(n,e)}var uf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Yv=(()=>{class n{compileModuleSync(t){return new of(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=e_(t),o=YT(i.declarations).reduce((s,a)=>{let c=Ji(a);return c&&s.push(new ba(c)),s},[]);return new uf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z5=(()=>{class n{zone=j(st);changeDetectionScheduler=j(Qi);applicationRef=j(yi);applicationErrorHandler=j(gn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ix=new J("",{factory:()=>!1});function Qv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new st(pe(U({},Jv()),{scheduleInRootZone:t})),[{provide:st,useFactory:n},{provide:li,multi:!0,useFactory:()=>{let r=j(Z5,{optional:!0});return()=>r.initialize()}},{provide:li,multi:!0,useFactory:()=>{let r=j(J5);return()=>{r.initialize()}}},e===!0?{provide:M_,useValue:!0}:[],{provide:x_,useValue:t??FM},{provide:gn,useFactory:()=>{let r=j(st),i=j(Mt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(rr),o.handleError(s))})}}}]}function Zv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Qv({ngZoneFactory:()=>{let i=Jv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&us("NgZone_CoalesceEvent"),new st(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Jo([{provide:ix,useValue:!0},{provide:ml,useValue:!1},r])}function Jv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var J5=(()=>{class n{subscription=new Le;initialized=!1;zone=j(st);pendingTasks=j(hi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ox=(()=>{class n{applicationErrorHandler=j(gn);appRef=j(yi);taskService=j(hi);ngZone=j(st);zonelessEnabled=j(ml);tracing=j(ds,{optional:!0});disableScheduling=j(M_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(x_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof af||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?lT:LM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X5(){return typeof $localize<"u"&&$localize.locale||xl}var fs=new J("",{providedIn:"root",factory:()=>j(fs,{optional:!0,skipSelf:!0})||X5()}),Xv=new J("",{providedIn:"root",factory:()=>C5});function qn(n){return qD(n)}function Ta(n,e){return zd(n,e?.equal)}var sx=class{[qt];constructor(e){this[qt]=e}destroy(){this[qt].destroy()}};var dx=Symbol("InputSignalNode#UNSET"),d3=pe(U({},$d),{transformFn:void 0,applyValueToInputSignal(n,e){Xs(n,e)}});function hx(n,e){let t=Object.create(d3);t.value=n,t.transformFn=e?.transform;function r(){if(Zs(t),t.value===dx){let i=null;throw new L(-950,i)}return t.value}return r[qt]=t,r}var Tf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Dl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},h3=new J("");h3.__NG_ELEMENT_ID__=n=>{let e=Vt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function ax(n,e){return hx(n,e)}function f3(n){return hx(dx,n)}var fx=(ax.required=f3,ax);var e0=new J(""),p3=new J("");function Ol(n){return!n.moduleRef}function g3(n){let e=Ol(n)?n.r3Injector:n.moduleRef.injector,t=e.get(st);return t.run(()=>{Ol(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(gn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ol(n)){let o=()=>e.destroy(),s=n.platformInjector.get(e0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(e0);s.add(o),n.moduleRef.onDestroy(()=>{vl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return y3(r,t,()=>{let o=e.get(hi),s=o.add(),a=e.get(Hv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(fs,xl);if(HM(c||xl),!e.get(p3,!0))return Ol(n)?e.get(yi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ol(n)){let d=e.get(yi);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return m3?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var m3;function y3(n,e,t){try{let r=t();return oo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Sf=null;function _3(n=[],e){return Ln.create({name:e,providers:[{provide:ol,useValue:"platform"},{provide:e0,useValue:new Set([()=>Sf=null])},...n]})}function v3(n=[]){if(Sf)return Sf;let e=_3(n);return Sf=e,zM(),C3(e),e}function C3(n){let e=n.get(hf,null);rn(n,()=>{e?.forEach(t=>t())})}var so=(()=>{class n{static __NG_ELEMENT_ID__=b3}return n})();function b3(n){return w3(Vt(),Pe(),(n&16)===16)}function w3(n,e,t){if(to(n)&&!t){let r=zn(n.index,e);return new ro(r,r)}else if(n.type&175){let r=e[Un];return new ro(r,e)}return null}var t0=class{constructor(){}supports(e){return Fv(e)}create(e){return new n0(e)}},E3=(n,e)=>e,n0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||E3}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<cx(r,i,o)?t:r,a=cx(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let m=g<o.length?o[g]:o[g]=0,E=m+g;d<=E&&E<u&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Fv(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,TM(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new r0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},r0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},i0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Mf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new i0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cx(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var o0=class{constructor(){}supports(e){return e instanceof Map||Cf(e)}create(){return new s0}},s0=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Cf(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new a0(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},a0=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function lx(){return new c0([new t0])}var c0=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:lx});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lx()),deps:[[n,new gv,new pv]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function ux(){return new l0([new o0])}var l0=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:ux});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ux()),deps:[[n,new gv,new pv]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();function px(n){Ue(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=v3(r),o=[Qv({}),{provide:Qi,useExisting:ox},VS,...t||[]],s=new El({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return g3({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ue(9)}}function ps(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var yx=null;function Gn(){return yx}function u0(n){yx??=n}var Al=class{},d0=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>j(_x),providedIn:"platform"})}return n})();var _x=(()=>{class n extends d0{_location;_history;_doc=j(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(t){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vx(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gx(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ao(n){return n&&n[0]!=="?"?`?${n}`:n}var Ma=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>j(bx),providedIn:"root"})}return n})(),Cx=new J(""),bx=(()=>{class n extends Ma{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vx(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ao(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ao(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ao(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(d0),ne(Cx,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xa=(()=>{class n{_subject=new ut;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=S3(gx(mx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ao(r))}normalize(t){return n.stripTrailingSlash(D3(this._basePath,mx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ao(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ao(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ao;static joinWithSlash=vx;static stripTrailingSlash=gx;static \u0275fac=function(r){return new(r||n)(ne(Ma))};static \u0275prov=q({token:n,factory:()=>I3(),providedIn:"root"})}return n})();function I3(){return new xa(ne(Ma))}function D3(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function mx(n){return n.replace(/\/index.html$/,"")}function S3(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Tx={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Vf=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Vf||{});var Yt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Yt||{}),Be=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Be||{}),yn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(yn||{}),Bt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Mx(n){return an(n)[nt.LocaleId]}function xx(n,e,t){let r=an(n),i=[r[nt.DayPeriodsFormat],r[nt.DayPeriodsStandalone]],o=Wn(i,e);return Wn(o,t)}function Px(n,e,t){let r=an(n),i=[r[nt.DaysFormat],r[nt.DaysStandalone]],o=Wn(i,e);return Wn(o,t)}function Ox(n,e,t){let r=an(n),i=[r[nt.MonthsFormat],r[nt.MonthsStandalone]],o=Wn(i,e);return Wn(o,t)}function Ax(n,e){let r=an(n)[nt.Eras];return Wn(r,e)}function Rl(n,e){let t=an(n);return Wn(t[nt.DateFormat],e)}function Nl(n,e){let t=an(n);return Wn(t[nt.TimeFormat],e)}function kl(n,e){let r=an(n)[nt.DateTimeFormat];return Wn(r,e)}function gr(n,e){let t=an(n),r=t[nt.NumberSymbols][e];if(typeof r>"u"){if(e===Bt.CurrencyDecimal)return t[nt.NumberSymbols][Bt.Decimal];if(e===Bt.CurrencyGroup)return t[nt.NumberSymbols][Bt.Group]}return r}function y0(n,e){return an(n)[nt.NumberFormats][e]}function T3(n){return an(n)[nt.Currencies]}function Rx(n){if(!n[nt.ExtraData])throw new L(2303,!1)}function Nx(n){let e=an(n);return Rx(e),(e[nt.ExtraData][2]||[]).map(r=>typeof r=="string"?h0(r):[h0(r[0]),h0(r[1])])}function kx(n,e,t){let r=an(n);Rx(r);let i=[r[nt.ExtraData][0],r[nt.ExtraData][1]],o=Wn(i,e)||[];return Wn(o,t)||[]}function Wn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new L(2304,!1)}function h0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function Fx(n,e,t="en"){let r=T3(t)[n]||Tx[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var M3=2;function Lx(n){let e,t=Tx[n];return t&&(e=t[2]),typeof e=="number"?e:M3}var x3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xf={},P3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Vx(n,e,t,r){let i=j3(n);e=vi(t,e)||e;let s=[],a;for(;e;)if(a=P3.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=Ux(r,c),i=V3(i,r));let u="";return s.forEach(d=>{let f=F3(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Nf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function vi(n,e){let t=Mx(n);if(xf[t]??={},xf[t][e])return xf[t][e];let r="";switch(e){case"shortDate":r=Rl(n,yn.Short);break;case"mediumDate":r=Rl(n,yn.Medium);break;case"longDate":r=Rl(n,yn.Long);break;case"fullDate":r=Rl(n,yn.Full);break;case"shortTime":r=Nl(n,yn.Short);break;case"mediumTime":r=Nl(n,yn.Medium);break;case"longTime":r=Nl(n,yn.Long);break;case"fullTime":r=Nl(n,yn.Full);break;case"short":let i=vi(n,"shortTime"),o=vi(n,"shortDate");r=Pf(kl(n,yn.Short),[i,o]);break;case"medium":let s=vi(n,"mediumTime"),a=vi(n,"mediumDate");r=Pf(kl(n,yn.Medium),[s,a]);break;case"long":let c=vi(n,"longTime"),u=vi(n,"longDate");r=Pf(kl(n,yn.Long),[c,u]);break;case"full":let d=vi(n,"fullTime"),f=vi(n,"fullDate");r=Pf(kl(n,yn.Full),[d,f]);break}return r&&(xf[t][e]=r),r}function Pf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function pr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function O3(n,e){return pr(n,3).substring(0,e)}function _t(n,e,t=0,r=!1,i=!1){return function(o,s){let a=A3(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return O3(a,e);let c=gr(s,Bt.MinusSign);return pr(a,e,c,r,i)}}function A3(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new L(2301,!1)}}function qe(n,e,t=Yt.Format,r=!1){return function(i,o){return R3(i,o,n,e,t,r)}}function R3(n,e,t,r,i,o){switch(t){case 2:return Ox(e,i,r)[n.getMonth()];case 1:return Px(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=Nx(e),d=kx(e,i,r),f=u.findIndex(g=>{if(Array.isArray(g)){let[m,E]=g,M=s>=m.hours&&a>=m.minutes,P=s<E.hours||s===E.hours&&a<E.minutes;if(m.hours<E.hours){if(M&&P)return!0}else if(M||P)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return xx(e,i,r)[s<12?0:1];case 3:return Ax(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new L(2302,!1)}}function Of(n){return function(e,t,r){let i=-1*r,o=gr(t,Bt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+pr(s,2,o)+pr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+pr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+pr(s,2,o)+":"+pr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+pr(s,2,o)+":"+pr(Math.abs(i%60),2,o);default:throw new L(2302,!1)}}}var N3=0,Rf=4;function k3(n){let e=Nf(n,N3,1).getDay();return Nf(n,0,1+(e<=Rf?Rf:Rf+7)-e)}function jx(n){let e=n.getDay(),t=e===0?-3:Rf-e;return Nf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function f0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=jx(t),s=k3(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return pr(i,n,gr(r,Bt.MinusSign))}}function Af(n,e=!1){return function(t,r){let o=jx(t).getFullYear();return pr(o,n,gr(r,Bt.MinusSign),e)}}var p0={};function F3(n){if(p0[n])return p0[n];let e;switch(n){case"G":case"GG":case"GGG":e=qe(3,Be.Abbreviated);break;case"GGGG":e=qe(3,Be.Wide);break;case"GGGGG":e=qe(3,Be.Narrow);break;case"y":e=_t(0,1,0,!1,!0);break;case"yy":e=_t(0,2,0,!0,!0);break;case"yyy":e=_t(0,3,0,!1,!0);break;case"yyyy":e=_t(0,4,0,!1,!0);break;case"Y":e=Af(1);break;case"YY":e=Af(2,!0);break;case"YYY":e=Af(3);break;case"YYYY":e=Af(4);break;case"M":case"L":e=_t(1,1,1);break;case"MM":case"LL":e=_t(1,2,1);break;case"MMM":e=qe(2,Be.Abbreviated);break;case"MMMM":e=qe(2,Be.Wide);break;case"MMMMM":e=qe(2,Be.Narrow);break;case"LLL":e=qe(2,Be.Abbreviated,Yt.Standalone);break;case"LLLL":e=qe(2,Be.Wide,Yt.Standalone);break;case"LLLLL":e=qe(2,Be.Narrow,Yt.Standalone);break;case"w":e=f0(1);break;case"ww":e=f0(2);break;case"W":e=f0(1,!0);break;case"d":e=_t(2,1);break;case"dd":e=_t(2,2);break;case"c":case"cc":e=_t(7,1);break;case"ccc":e=qe(1,Be.Abbreviated,Yt.Standalone);break;case"cccc":e=qe(1,Be.Wide,Yt.Standalone);break;case"ccccc":e=qe(1,Be.Narrow,Yt.Standalone);break;case"cccccc":e=qe(1,Be.Short,Yt.Standalone);break;case"E":case"EE":case"EEE":e=qe(1,Be.Abbreviated);break;case"EEEE":e=qe(1,Be.Wide);break;case"EEEEE":e=qe(1,Be.Narrow);break;case"EEEEEE":e=qe(1,Be.Short);break;case"a":case"aa":case"aaa":e=qe(0,Be.Abbreviated);break;case"aaaa":e=qe(0,Be.Wide);break;case"aaaaa":e=qe(0,Be.Narrow);break;case"b":case"bb":case"bbb":e=qe(0,Be.Abbreviated,Yt.Standalone,!0);break;case"bbbb":e=qe(0,Be.Wide,Yt.Standalone,!0);break;case"bbbbb":e=qe(0,Be.Narrow,Yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=qe(0,Be.Abbreviated,Yt.Format,!0);break;case"BBBB":e=qe(0,Be.Wide,Yt.Format,!0);break;case"BBBBB":e=qe(0,Be.Narrow,Yt.Format,!0);break;case"h":e=_t(3,1,-12);break;case"hh":e=_t(3,2,-12);break;case"H":e=_t(3,1);break;case"HH":e=_t(3,2);break;case"m":e=_t(4,1);break;case"mm":e=_t(4,2);break;case"s":e=_t(5,1);break;case"ss":e=_t(5,2);break;case"S":e=_t(6,1);break;case"SS":e=_t(6,2);break;case"SSS":e=_t(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Of(0);break;case"ZZZZZ":e=Of(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Of(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Of(2);break;default:return null}return p0[n]=e,e}function Ux(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function L3(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function V3(n,e,t){let i=n.getTimezoneOffset(),o=Ux(e,i);return L3(n,-1*(o-i))}function j3(n){if(wx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Nf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(x3))return U3(r)}let e=new Date(n);if(!wx(e))throw new L(2302,!1);return e}function U3(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function wx(n){return n instanceof Date&&!isNaN(n.valueOf())}var B3=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ex=22,kf=".",Fl="0",z3=";",$3=",",g0="#",Ix="\xA4";function Bx(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=gr(t,Bt.Infinity);else{let u=q3(n);s&&(u=H3(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let H=o.match(B3);if(H===null)throw new L(2306,!1);let G=H[1],Q=H[3],Fe=H[5];G!=null&&(d=m0(G)),Q!=null&&(f=m0(Q)),Fe!=null?g=m0(Fe):Q!=null&&f>g&&(g=f)}G3(u,f,g);let m=u.digits,E=u.integerLen,M=u.exponent,P=[];for(c=m.every(H=>!H);E<d;E++)m.unshift(0);for(;E<0;E++)m.unshift(0);E>0?P=m.splice(E,m.length):(P=m,m=[0]);let k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),a=k.join(gr(t,r)),P.length&&(a+=gr(t,i)+P.join("")),M&&(a+=gr(t,Bt.Exponential)+"+"+M)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function zx(n,e,t,r,i){let o=y0(e,Vf.Currency),s=Hx(o,gr(e,Bt.MinusSign));return s.minFrac=Lx(r),s.maxFrac=s.minFrac,Bx(n,s,e,Bt.CurrencyGroup,Bt.CurrencyDecimal,i).replace(Ix,t).replace(Ix,"").trim()}function $x(n,e,t){let r=y0(e,Vf.Decimal),i=Hx(r,gr(e,Bt.MinusSign));return Bx(n,i,e,Bt.Group,Bt.Decimal,t)}function Hx(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(z3),i=r[0],o=r[1],s=i.indexOf(kf)!==-1?i.split(kf):[i.substring(0,i.lastIndexOf(Fl)+1),i.substring(i.lastIndexOf(Fl)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(g0));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Fl?t.minFrac=t.maxFrac=d+1:f===g0?t.maxFrac=d+1:t.posSuf+=f}let u=a.split($3);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(g0);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function H3(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function q3(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(kf))>-1&&(e=e.replace(kf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Fl;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Fl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>Ex&&(r=r.splice(0,Ex-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function G3(n,e,t){if(e>t)throw new L(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(f,g,m,E){return g=g+f,E[m]=g<10?g:g-10,c&&(E[m]===0&&m>=u?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function m0(n){let e=parseInt(n);if(isNaN(e))throw new L(2305,!1);return e}var Ff=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ff(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Dx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Dx(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(mi),B(io),B(c0))};static \u0275dir=$e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Dx(n,e){n.context.$implicit=e.item}var cn=(()=>{class n{_viewContainer;_context=new Lf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sx(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sx(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(mi),B(io))};static \u0275dir=$e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Lf=class{$implicit=null;ngIf=null};function Sx(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var Ll=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:dr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(B(sn),B(l0),B(fr))};static \u0275dir=$e({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function jf(n,e){return new L(2100,!1)}var W3=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,_0=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw jf(n,t);return t.replace(W3,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Sa({name:"titlecase",type:n,pure:!0})}return n})();var K3="mediumDate",qx=new J(""),Gx=new J(""),gs=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??K3,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Vx(t,s,o||this.locale,a)}catch(s){throw jf(n,s.message)}}static \u0275fac=function(r){return new(r||n)(B(fs,16),B(qx,24),B(Gx,24))};static \u0275pipe=Sa({name:"date",type:n,pure:!0})}return n})();var Vl=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!Wx(t))return null;i||=this._locale;try{let o=Kx(t);return $x(o,i,r)}catch(o){throw jf(n,o.message)}}static \u0275fac=function(r){return new(r||n)(B(fs,16))};static \u0275pipe=Sa({name:"number",type:n,pure:!0})}return n})();var ms=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!Wx(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=Fx(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=Kx(t);return zx(c,s,a,r,o)}catch(c){throw jf(n,c.message)}}static \u0275fac=function(r){return new(r||n)(B(fs,16),B(Xv,16))};static \u0275pipe=Sa({name:"currency",type:n,pure:!0})}return n})();function Wx(n){return!(n==null||n===""||n!==n)}function Kx(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new L(2309,!1);return n}var Qt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=ir({})}return n})();function v0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jl=class{};var Yx="browser";var Bf=new J(""),I0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ne(Bf),ne(st))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Ul=class{_doc;constructor(e){this._doc=e}manager},C0="ng-app-id";function Qx(n){for(let e of n)e.remove()}function Zx(n,e){let t=e.createElement("style");return t.textContent=n,t}function Y3(n,e,t,r){let i=n.head?.querySelectorAll(`style[${C0}="${e}"],link[${C0}="${e}"]`);if(i)for(let o of i)o.removeAttribute(C0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function w0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var D0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Y3(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Zx);r?.forEach(i=>this.addUsage(i,this.external,w0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Qx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Qx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Zx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,w0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ne(yt),ne(df),ne(pf,8),ne(Da))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),b0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},S0=/%COMP%/g;var Xx="%COMP%",Q3=`_nghost-${Xx}`,Z3=`_ngcontent-${Xx}`,J3=!0,X3=new J("",{providedIn:"root",factory:()=>J3});function ej(n){return Z3.replace(S0,n)}function tj(n){return Q3.replace(S0,n)}function eP(n,e){return e.map(t=>t.replace(S0,n))}var $l=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Bl(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Uf?i.applyToHost(t):i instanceof zl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case fi.Emulated:o=new Uf(c,u,r,this.appId,d,s,a,f,g);break;case fi.ShadowDom:return new E0(c,u,t,r,s,a,this.nonce,f,g);default:o=new zl(c,u,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ne(I0),ne(D0),ne(df),ne(X3),ne(yt),ne(Da),ne(st),ne(pf),ne(ds,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Bl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(b0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Jx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=b0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=b0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Jx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var E0=class extends Bl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=eP(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=w0(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zl=class extends Bl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?eP(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Uf=class extends zl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=ej(d),this.hostAttr=tj(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var zf=class n extends Al{supportsDOMEvents=!0;static makeCurrent(){u0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=nj();return t==null?null:rj(t)}resetBaseElement(){Hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return v0(document.cookie,e)}},Hl=null;function nj(){return Hl=Hl||document.head.querySelector("base"),Hl?Hl.getAttribute("href"):null}function rj(n){return new URL(n,document.baseURI).pathname}var ij=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),nP=(()=>{class n extends Ul{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ne(yt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),tP=["alt","control","meta","shift"],oj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rP=(()=>{class n extends Ul{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tP.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=oj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tP.forEach(s=>{if(s!==i){let a=sj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ne(yt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function T0(n,e){let t=U({rootComponent:n},aj(e));return px(t)}function aj(n){return{appProviders:[...hj,...n?.providers??[]],platformProviders:dj}}function cj(){zf.makeCurrent()}function lj(){return new rr}function uj(){return _v(document),document}var dj=[{provide:Da,useValue:Yx},{provide:hf,useValue:cj,multi:!0},{provide:yt,useFactory:uj}];var hj=[{provide:ol,useValue:"root"},{provide:rr,useFactory:lj},{provide:Bf,useClass:nP,multi:!0,deps:[yt]},{provide:Bf,useClass:rP,multi:!0,deps:[yt]},$l,D0,I0,{provide:pi,useExisting:$l},{provide:jl,useClass:ij},[]];var iP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ne(yt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye="primary",ou=Symbol("RouteTitle"),A0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vs(n){return new A0(n)}function hP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function pj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Nr(n[t],e[t]))return!1;return!0}function Nr(n,e){let t=n?R0(n):void 0,r=e?R0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!fP(n[i],e[i]))return!1;return!0}function R0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function fP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function pP(n){return n.length>0?n[n.length-1]:null}function wi(n){return wy(n)?n:oo(n)?Xe(Promise.resolve(n)):se(n)}var gj={exact:mP,subset:yP},gP={exact:mj,subset:yj,ignored:()=>!0};function oP(n,e,t){return gj[t.paths](n.root,e.root,t.matrixParams)&&gP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function mj(n,e){return Nr(n,e)}function mP(n,e,t){if(!ys(n.segments,e.segments)||!qf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!mP(n.children[r],e.children[r],t))return!1;return!0}function yj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fP(n[t],e[t]))}function yP(n,e,t){return _P(n,e,e.segments,t)}function _P(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ys(i,t)||e.hasChildren()||!qf(i,t,r))}else if(n.segments.length===t.length){if(!ys(n.segments,t)||!qf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!yP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ys(n.segments,i)||!qf(n.segments,i,r)||!n.children[ye]?!1:_P(n.children[ye],e,o,r)}}function qf(n,e,t){return e.every((r,i)=>gP[t](n[i].parameters,r.parameters))}var Fr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return Cj.serialize(this)}},ke=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gf(this)}},lo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return CP(this)}};function _j(n,e){return ys(n,e)&&n.every((t,r)=>Nr(t.parameters,e[r].parameters))}function ys(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function vj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var su=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new Cs,providedIn:"root"})}return n})(),Cs=class{parse(e){let t=new k0(e);return new Fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ql(e.root,!0)}`,r=Ej(e.queryParams),i=typeof e.fragment=="string"?`#${bj(e.fragment)}`:"";return`${t}${r}${i}`}},Cj=new Cs;function Gf(n){return n.segments.map(e=>CP(e)).join("/")}function ql(n,e){if(!n.hasChildren())return Gf(n);if(e){let t=n.children[ye]?ql(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${ql(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=vj(n,(r,i)=>i===ye?[ql(n.children[ye],!1)]:[`${i}:${ql(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Gf(n)}/${t[0]}`:`${Gf(n)}/(${t.join("//")})`}}function vP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(n){return vP(n).replace(/%3B/gi,";")}function bj(n){return encodeURI(n)}function N0(n){return vP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(n){return decodeURIComponent(n)}function sP(n){return Wf(n.replace(/\+/g,"%20"))}function CP(n){return`${N0(n.path)}${wj(n.parameters)}`}function wj(n){return Object.entries(n).map(([e,t])=>`;${N0(e)}=${N0(t)}`).join("")}function Ej(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${$f(t)}=${$f(i)}`).join("&"):`${$f(t)}=${$f(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Ij=/^[^\/()?;#]+/;function M0(n){let e=n.match(Ij);return e?e[0]:""}var Dj=/^[^\/()?;=#]+/;function Sj(n){let e=n.match(Dj);return e?e[0]:""}var Tj=/^[^=?&#]+/;function Mj(n){let e=n.match(Tj);return e?e[0]:""}var xj=/^[^&#]+/;function Pj(n){let e=n.match(xj);return e?e[0]:""}var k0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new ke(e,t)),r}parseSegment(){let e=M0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new lo(Wf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Sj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=M0(this.remaining);i&&(r=i,this.capture(r))}e[Wf(t)]=Wf(r)}parseQueryParam(e){let t=Mj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Pj(this.remaining);s&&(r=s,this.capture(r))}let i=sP(t),o=sP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=M0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function bP(n){return n.segments.length>0?new ke([],{[ye]:n}):n}function wP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=wP(i);if(r===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ke(n.segments,e);return Oj(t)}function Oj(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new ke(n.segments.concat(e.segments),e.children)}return n}function uo(n){return n instanceof Fr}function EP(n,e,t=null,r=null){let i=IP(n);return DP(i,e,t,r)}function IP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=bP(r);return e??i}function DP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return x0(i,i,i,t,r);let o=Aj(e);if(o.toRoot())return x0(i,i,new ke([],{}),t,r);let s=Rj(o,i,n),a=s.processChildren?Wl(s.segmentGroup,s.index,o.commands):TP(s.segmentGroup,s.index,o.commands);return x0(i,s.segmentGroup,a,t,r)}function Kf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ql(n){return typeof n=="object"&&n!=null&&n.outlets}function x0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=SP(n,e,t);let a=bP(wP(s));return new Fr(a,o,i)}function SP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=SP(o,e,t)}),new ke(n.segments,r)}var Yf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Kf(r[0]))throw new L(4003,!1);let i=r.find(Ql);if(i&&i!==pP(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Aj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Yf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Yf(t,e,r)}var Aa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Rj(n,e,t){if(n.isAbsolute)return new Aa(e,!0,0);if(!t)return new Aa(e,!1,NaN);if(t.parent===null)return new Aa(t,!0,0);let r=Kf(n.commands[0])?0:1,i=t.segments.length-1+r;return Nj(t,i,n.numberOfDoubleDots)}function Nj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Aa(r,!1,i-o)}function kj(n){return Ql(n[0])?n[0].outlets:{[ye]:n}}function TP(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return Wl(n,e,t);let r=Fj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new ke(n.segments.slice(r.pathIndex),n.children),Wl(o,0,i)}else return r.match&&i.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?F0(n,e,t):r.match?Wl(n,0,i):F0(n,e,t)}function Wl(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=kj(t),i={};if(Object.keys(r).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=Wl(n.children[ye],e,t);return new ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(n.segments,i)}}function Fj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ql(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!cP(c,u,s))return o;r+=2}else{if(!cP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function F0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ql(o)){let c=Lj(o.outlets);return new ke(r,c)}if(i===0&&Kf(t[0])){let c=n.segments[e];r.push(new lo(c.path,aP(t[0]))),i++;continue}let s=Ql(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Kf(a)?(r.push(new lo(s,aP(a))),i+=2):(r.push(new lo(s,{})),i++)}return new ke(r,{})}function Lj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=F0(new ke([],{}),0,r))}),e}function aP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function cP(n,e,t){return n==t.path&&Nr(e,t.parameters)}var Kl="imperative",Pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pt||{}),On=class{id;url;constructor(e,t){this.id=e,this.url=t}},bs=class extends On{type=Pt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yr=class extends On{urlAfterRedirects;type=Pt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(ln||{}),Zl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Zl||{}),kr=class extends On{reason;code;type=Pt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ci=class extends On{reason;code;type=Pt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Na=class extends On{error;target;type=Pt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jl=class extends On{urlAfterRedirects;state;type=Pt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qf=class extends On{urlAfterRedirects;state;type=Pt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class extends On{urlAfterRedirects;state;shouldActivate;type=Pt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jf=class extends On{urlAfterRedirects;state;type=Pt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xf=class extends On{urlAfterRedirects;state;type=Pt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class{route;type=Pt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tp=class{route;type=Pt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},np=class{snapshot;type=Pt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{snapshot;type=Pt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{snapshot;type=Pt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{snapshot;type=Pt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xl=class{},ka=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Vj(n){return!(n instanceof Xl)&&!(n instanceof ka)}function jj(n,e){return n.providers&&!n._injector&&(n._injector=Ml(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mr(n){return n.outlet||ye}function Uj(n,e){let t=n.filter(r=>mr(r)===e);return t.push(...n.filter(r=>mr(r)!==e)),t}function Va(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var sp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Va(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ja(this.rootInjector)}},ja=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ne(Mt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ap=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=L0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=L0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=V0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return V0(e,this._root).map(t=>t.value)}};function L0(n,e){if(n===e.value)return e;for(let t of e.children){let r=L0(n,t);if(r)return r}return null}function V0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=V0(n,t);if(r.length)return r.unshift(e),r}return[]}var Pn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Oa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var eu=class extends ap{snapshot;constructor(e,t){super(e),this.snapshot=t,G0(this,e)}toString(){return this.snapshot.toString()}};function MP(n){let e=Bj(n),t=new Ye([new lo("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),a=new bi(t,r,o,s,i,ye,n,e.root);return a.snapshot=e.root,new eu(new Pn(a,[]),e)}function Bj(n){let e={},t={},r={},i="",o=new _s([],e,r,i,t,ye,n,null,{});return new tu("",new Pn(o,[]))}var bi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[ou]))??se(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&PP(i)&&(r.resolve[ou]=i.title),r}var _s=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ou]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},tu=class extends ap{url;constructor(e,t){super(t),this.url=e,G0(this,t)}toString(){return xP(this._root)}};function G0(n,e){e.value._routerState=n,e.children.forEach(t=>G0(n,t))}function xP(n){let e=n.children.length>0?` { ${n.children.map(xP).join(", ")} } `:"";return`${n.value}${e}`}function P0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Nr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Nr(e.params,t.params)||n.paramsSubject.next(t.params),pj(e.url,t.url)||n.urlSubject.next(t.url),Nr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function j0(n,e){let t=Nr(n.params,e.params)&&_j(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||j0(n.parent,e.parent))}function PP(n){return typeof n.title=="string"||n.title===null}var OP=new J(""),au=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new tt;deactivateEvents=new tt;attachEvents=new tt;detachEvents=new tt;routerOutletData=fx(void 0);parentContexts=j(ja);location=j(mi);changeDetector=j(so);inputBinder=j(hp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new U0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=$e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Or]})}return n})(),U0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===bi?this.route:e===ja?this.childContexts:e===OP?this.outletData:this.parent.get(e,t)}},hp=new J("");var W0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=dt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&at(0,"router-outlet")},dependencies:[au],encapsulation:2})}return n})();function K0(n){let e=n.children&&n.children.map(K0),t=e?pe(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=W0),t}function zj(n,e,t){let r=nu(n,e._root,t?t._root:void 0);return new eu(r,e)}function nu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$j(n,e,t);return new Pn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nu(n,a)),s}}let r=Hj(e.value),i=e.children.map(o=>nu(n,o));return new Pn(r,i)}}function $j(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nu(n,r,i);return nu(n,r)})}function Hj(n){return new bi(new Ye(n.url),new Ye(n.params),new Ye(n.queryParams),new Ye(n.fragment),new Ye(n.data),n.outlet,n.component,n)}var Fa=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},AP="ngNavigationCancelingError";function lp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RP(!1,ln.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function RP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[AP]=!0,t.cancellationCode=e,t}function qj(n){return NP(n)&&uo(n.url)}function NP(n){return!!n&&n[AP]}var Gj=(n,e,t,r)=>xe(i=>(new B0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),B0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),P0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Oa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Oa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Oa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Oa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new op(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(P0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),P0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},up=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ra=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Wj(n,e,t){let r=n._root,i=e?e._root:null;return Gl(r,i,t,[r.value])}function Kj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ua(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!By(n)?n:e.get(n):r}function Gl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oa(e);return n.children.forEach(s=>{Yj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yl(a,t.getContext(s),i)),i}function Yj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Qj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new up(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Gl(n,e,a?a.children:null,r,i):Gl(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ra(a.outlet.component,s))}else s&&Yl(e,a,i),i.canActivateChecks.push(new up(r)),o.component?Gl(n,null,a?a.children:null,r,i):Gl(n,null,t,r,i);return i}function Qj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ys(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ys(n.url,e.url)||!Nr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!j0(n,e)||!Nr(n.queryParams,e.queryParams);case"paramsChange":default:return!j0(n,e)}}function Yl(n,e,t){let r=Oa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Yl(s,e.children.getContext(o),t):Yl(s,null,t):Yl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ra(e.outlet.component,i)):t.canDeactivateChecks.push(new Ra(null,i)):t.canDeactivateChecks.push(new Ra(null,i))}function cu(n){return typeof n=="function"}function Zj(n){return typeof n=="boolean"}function Jj(n){return n&&cu(n.canLoad)}function Xj(n){return n&&cu(n.canActivate)}function eU(n){return n&&cu(n.canActivateChild)}function tU(n){return n&&cu(n.canDeactivate)}function nU(n){return n&&cu(n.canMatch)}function kP(n){return n instanceof ni||n?.name==="EmptyError"}var Hf=Symbol("INITIAL_VALUE");function La(){return Fn(n=>dh(n.map(e=>e.pipe(ii(1),Sy(Hf)))).pipe(xe(e=>{for(let t of e)if(t!==!0){if(t===Hf)return Hf;if(t===!1||rU(t))return t}return!0}),Sn(e=>e!==Hf),ii(1)))}function rU(n){return uo(n)||n instanceof Fa}function iU(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?se(pe(U({},t),{guardsResult:!0})):oU(s,r,i,n).pipe(mt(a=>a&&Zj(a)?sU(r,o,n,e):se(a)),xe(a=>pe(U({},t),{guardsResult:a})))})}function oU(n,e,t,r){return Xe(n).pipe(mt(i=>dU(i.component,i.route,t,e,r)),oi(i=>i!==!0,!0))}function sU(n,e,t,r){return Xe(e).pipe(qo(i=>la(cU(i.route.parent,r),aU(i.route,r),uU(n,i.path,t),lU(n,i.route,t))),oi(i=>i!==!0,!0))}function aU(n,e){return n!==null&&e&&e(new ip(n)),se(!0)}function cU(n,e){return n!==null&&e&&e(new np(n)),se(!0)}function lU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>Qc(()=>{let s=Va(e)??t,a=Ua(o,s),c=Xj(a)?a.canActivate(e,n):rn(s,()=>a(e,n));return wi(c).pipe(oi())}));return se(i).pipe(La())}function uU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Kj(s)).filter(s=>s!==null).map(s=>Qc(()=>{let a=s.guards.map(c=>{let u=Va(s.node)??t,d=Ua(c,u),f=eU(d)?d.canActivateChild(r,n):rn(u,()=>d(r,n));return wi(f).pipe(oi())});return se(a).pipe(La())}));return se(o).pipe(La())}function dU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let c=Va(e)??i,u=Ua(a,c),d=tU(u)?u.canDeactivate(n,e,t,r):rn(c,()=>u(n,e,t,r));return wi(d).pipe(oi())});return se(s).pipe(La())}function hU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=Ua(s,n),c=Jj(a)?a.canLoad(e,t):rn(n,()=>a(e,t));return wi(c)});return se(o).pipe(La(),FP(r))}function FP(n){return yy(Tt(e=>{if(typeof e!="boolean")throw lp(n,e)}),xe(e=>e===!0))}function fU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=Ua(s,n),c=nU(a)?a.canMatch(e,t):rn(n,()=>a(e,t));return wi(c)});return se(o).pipe(La(),FP(r))}var ru=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},iu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Pa(n){return aa(new ru(n))}function pU(n){return aa(new L(4e3,!1))}function gU(n){return aa(RP(!1,ln.GuardRejected))}var z0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[ye])return pU(`${e.redirectTo}`);i=i.children[ye]}}applyRedirectCommands(e,t,r,i,o){return mU(t,i,o).pipe(xe(s=>{if(s instanceof Fr)throw new iu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new iu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function mU(n,e,t){if(typeof n=="string")return se(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:f}=e;return wi(rn(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var $0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yU(n,e,t,r,i){let o=LP(n,e,t);return o.matched?(r=jj(e,r),fU(r,e,t,i).pipe(xe(s=>s===!0?o:U({},$0)))):se(o)}function LP(n,e,t){if(e.path==="**")return _U(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},$0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hP)(t,n,e);if(!i)return U({},$0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _U(n){return{matched:!0,parameters:n.length>0?pP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function lP(n,e,t,r){return t.length>0&&bU(n,t,r)?{segmentGroup:new ke(e,CU(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&wU(n,t,r)?{segmentGroup:new ke(n.segments,vU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function vU(n,e,t,r){let i={};for(let o of t)if(fp(n,e,o)&&!r[mr(o)]){let s=new ke([],{});i[mr(o)]=s}return U(U({},r),i)}function CU(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&mr(r)!==ye){let i=new ke([],{});t[mr(r)]=i}return t}function bU(n,e,t){return t.some(r=>fp(n,e,r)&&mr(r)!==ye)}function wU(n,e,t){return t.some(r=>fp(n,e,r))}function fp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function EU(n,e,t){return e.length===0&&!n.children[t]}var H0=class{};function IU(n,e,t,r,i,o,s="emptyOnly"){return new q0(n,e,t,r,i,s,o).recognize()}var DU=31,q0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new z0(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=lP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(({children:t,rootSnapshot:r})=>{let i=new Pn(r,t),o=new tu("",i),s=EP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new _s([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,t).pipe(xe(r=>({children:r,rootSnapshot:t})),ri(r=>{if(r instanceof iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ru?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(xe(s=>s instanceof Pn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Xe(o).pipe(qo(s=>{let a=r.children[s],c=Uj(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Dy((s,a)=>(s.push(...a),s)),Wi(null),Iy(),mt(s=>{if(s===null)return Pa(r);let a=VP(s);return SU(a),se(a)}))}processSegment(e,t,r,i,o,s,a){return Xe(t).pipe(qo(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ri(u=>{if(u instanceof ru)return se(null);throw u}))),oi(c=>!!c),ri(c=>{if(kP(c))return EU(r,i,o)?se(new H0):Pa(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return mr(r)!==s&&(s===ye||!fp(i,o,r))?Pa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Pa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=LP(t,i,o);if(!c)return Pa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DU&&(this.allowRedirects=!1));let m=new _s(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,uP(i),mr(i),i.component??i._loadedComponent??null,i,dP(i)),E=cp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(Fn(P=>this.applyRedirects.lineralizeSegments(i,P)),mt(P=>this.processSegment(e,r,t,P.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=yU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Fn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Fn(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,E=new _s(g,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,uP(r),mr(r),r.component??r._loadedComponent??null,r,dP(r)),M=cp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let{segmentGroup:P,slicedSegments:k}=lP(t,g,m,u);if(k.length===0&&P.hasChildren())return this.processChildren(d,u,P,E).pipe(xe(G=>new Pn(E,G)));if(u.length===0&&k.length===0)return se(new Pn(E,[]));let H=mr(r)===o;return this.processSegment(d,u,P,k,H?ye:o,!0,E).pipe(xe(G=>new Pn(E,G instanceof Pn?[G]:[])))}))):Pa(t)))}getChildConfig(e,t,r){return t.children?se({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?se({routes:t._loadedRoutes,injector:t._loadedInjector}):hU(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(Tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):gU(t))):se({routes:[],injector:e})}};function SU(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function TU(n){let e=n.value.routeConfig;return e&&e.path===""}function VP(n){let e=[],t=new Set;for(let r of n){if(!TU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=VP(r.children);e.push(new Pn(r.value,i))}return e.filter(r=>!t.has(r))}function uP(n){return n.data||{}}function dP(n){return n.resolve||{}}function MU(n,e,t,r,i,o){return mt(s=>IU(n,e,t,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:c})=>pe(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function xU(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of jP(c))s.add(u);let a=0;return Xe(s).pipe(qo(c=>o.has(c)?PU(c,r,n,e):(c.data=cp(c,c.parent,n).resolve,se(void 0))),Tt(()=>a++),ua(1),mt(c=>a===s.size?se(t):fn))})}function jP(n){let e=n.children.map(t=>jP(t)).flat();return[n,...e]}function PU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!PP(i)&&(o[ou]=i.title),Qc(()=>(n.data=cp(n,n.parent,t).resolve,OU(o,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=U(U({},n.data),s),null)))))}function OU(n,e,t,r){let i=R0(n);if(i.length===0)return se({});let o={};return Xe(i).pipe(mt(s=>AU(n[s],e,t,r).pipe(oi(),Tt(a=>{if(a instanceof Fa)throw lp(new Cs,a);o[s]=a}))),ua(1),xe(()=>o),ri(s=>kP(s)?fn:aa(s)))}function AU(n,e,t,r){let i=Va(e)??r,o=Ua(n,i),s=o.resolve?o.resolve(e,t):rn(i,()=>o(e,t));return wi(s)}function O0(n){return Fn(e=>{let t=n(e);return t?Xe(t).pipe(xe(()=>e)):se(e)})}var Y0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[ou]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>j(UP),providedIn:"root"})}return n})(),UP=(()=>{class n extends Y0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ne(iP))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ba=new J("",{providedIn:"root",factory:()=>({})}),lu=new J(""),BP=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=j(Yv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wi(rn(t,()=>r.loadComponent())).pipe(xe($P),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Zc(()=>{this.componentLoaders.delete(r)})),o=new sa(i,()=>new ut).pipe(oa());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=zP(r,this.compiler,t,this.onLoadEndListener).pipe(Zc(()=>{this.childrenLoaders.delete(r)})),s=new sa(o,()=>new ut).pipe(oa());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zP(n,e,t,r){return wi(rn(t,()=>n.loadChildren())).pipe(xe($P),mt(i=>i instanceof bf||Array.isArray(i)?se(i):Xe(e.compileModuleAsync(i))),xe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(lu,[],{optional:!0,self:!0}).flat()),{routes:s.map(K0),injector:o}}))}function RU(n){return n&&typeof n=="object"&&"default"in n}function $P(n){return RU(n)?n.default:n}var pp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>j(NU),providedIn:"root"})}return n})(),NU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HP=new J("");var qP=new J(""),GP=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ut;transitionAbortWithErrorSubject=new ut;configLoader=j(BP);environmentInjector=j(Mt);destroyRef=j(cr);urlSerializer=j(su);rootContexts=j(ja);location=j(xa);inputBindingEnabled=j(hp,{optional:!0})!==null;titleStrategy=j(Y0);options=j(Ba,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=j(pp);createViewTransition=j(HP,{optional:!0});navigationErrorHandler=j(qP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>se(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ep(i)),r=i=>this.events.next(new tp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(pe(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Ye(null),this.transitions.pipe(Sn(r=>r!==null),Fn(r=>{let i=!1;return se(r).pipe(Fn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),fn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?pe(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Ci(o.id,this.urlSerializer.serialize(o.rawUrl),c,Zl.IgnoredSameUrlNavigation)),o.resolve(!1),fn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return se(o).pipe(Fn(c=>(this.events.next(new bs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?fn:Promise.resolve(c))),MU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=pe(U({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Jl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:g}=o,m=new bs(c,this.urlSerializer.serialize(u),d,f);this.events.next(m);let E=MP(this.rootComponentType).snapshot;return this.currentTransition=r=pe(U({},o),{targetSnapshot:E,urlAfterRedirects:u,extras:pe(U({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,se(r)}else{let c="";return this.events.next(new Ci(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Zl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),fn}}),Tt(o=>{let s=new Qf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),xe(o=>(this.currentTransition=r=pe(U({},o),{guards:Wj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),iU(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw lp(this.urlSerializer,o.guardsResult);let s=new Zf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Sn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ln.GuardRejected),!1)),O0(o=>{if(o.guards.canActivateChecks.length!==0)return se(o).pipe(Tt(s=>{let a=new Jf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Fn(s=>{let a=!1;return se(s).pipe(xU(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ln.NoDataFromResolver)}}))}),Tt(s=>{let a=new Xf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),O0(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=Va(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Tt(d=>{a.component=d}),xe(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return dh(s(o.targetSnapshot.root)).pipe(Wi(null),ii(1))}),O0(()=>this.afterPreactivation()),Fn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Xe(a).pipe(xe(()=>r)):se(r)}),xe(o=>{let s=zj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=pe(U({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Tt(()=>{this.events.next(new Xl)}),Gj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ii(1),fh(new Ee(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Sn(()=>!i&&!r.targetRouterState),Tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ln.Aborted)}))),Tt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),fh(this.transitionAbortWithErrorSubject.pipe(Tt(o=>{throw o}))),Zc(()=>{i||this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ri(o=>{if(this.destroyed)return r.resolve(!1),fn;if(i=!0,NP(o))this.events.next(new kr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),qj(o)?this.events.next(new ka(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Na(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Fa){let{message:c,cancellationCode:u}=lp(this.urlSerializer,a);this.events.next(new kr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ka(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return fn}))}))}cancelNavigationTransition(t,r,i){let o=new kr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kU(n){return n!==Kl}var WP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>j(FU),providedIn:"root"})}return n})(),dp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FU=(()=>{class n extends dp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KP=(()=>{class n{urlSerializer=j(su);options=j(Ba,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=j(xa);urlHandlingStrategy=j(pp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Fr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=MP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>j(LU),providedIn:"root"})}return n})(),LU=(()=>{class n extends KP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof bs?this.updateStateMemento():t instanceof Ci?this.commitTransition(r):t instanceof Jl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Xl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof kr&&t.code!==ln.SupersededByNewNavigation&&t.code!==ln.Redirect?this.restoreHistory(r):t instanceof Na?this.restoreHistory(r,!0):t instanceof yr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q0(n,e){n.events.pipe(Sn(t=>t instanceof yr||t instanceof kr||t instanceof Na||t instanceof Ci),xe(t=>t instanceof yr||t instanceof Ci?0:(t instanceof kr?t.code===ln.Redirect||t.code===ln.SupersededByNewNavigation:!1)?2:1),Sn(t=>t!==2),ii(1)).subscribe(()=>{e()})}var VU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},za=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=j(Bv);stateManager=j(KP);options=j(Ba,{optional:!0})||{};pendingTasks=j(hi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=j(GP);urlSerializer=j(su);location=j(xa);urlHandlingStrategy=j(pp);injector=j(Mt);_events=new ut;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=j(WP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=j(lu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!j(hp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kr&&r.code!==ln.Redirect&&r.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yr)this.navigated=!0;else if(r instanceof ka){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kU(i.source)},s);this.scheduleNavigation(a,Kl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Vj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(gn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(K0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=IP(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return DP(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=uo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kl,null,r)}navigate(t,r={skipLocationChange:!1}){return UU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},VU):r===!1?i=U({},jU):i=r,uo(t))return oP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return oP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return Q0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var ho=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=di(null);get href(){return qn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ut;applicationErrorHandler=j(gn);options=j(Ba,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(j(new Tf("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof yr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(uo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:uo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(B(za),B(bi),Dl("tabindex"),B(fr),B(sn),B(Ma))};static \u0275dir=$e({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&X("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&hs("href",i.reactiveHref(),bv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ps],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ps],replaceUrl:[2,"replaceUrl","replaceUrl",ps],routerLink:"routerLink"},features:[Or]})}return n})(),uu=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new tt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof yr&&this.update()})}ngAfterContentInit(){se(this.links.changes,se(null)).pipe(ca()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(t).pipe(ca()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=zU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(B(za),B(sn),B(fr),B(so),B(ho,8))};static \u0275dir=$e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&qv(o,ho,5),r&2){let s;Gv(s=Wv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Or]})}return n})();function zU(n){return!!n.paths}var $U=new J("");function Z0(n,...e){return Jo([{provide:lu,multi:!0,useValue:n},[],{provide:bi,useFactory:HU,deps:[za]},{provide:If,multi:!0,useFactory:qU},e.map(t=>t.\u0275providers)])}function HU(n){return n.routerState.root}function qU(){let n=j(Ln);return e=>{let t=n.get(yi);if(e!==t.components[0])return;let r=n.get(za),i=n.get(GU);n.get(WU)===1&&r.initialNavigation(),n.get(KU,null,{optional:!0})?.setUpPreloading(),n.get($U,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GU=new J("",{factory:()=>new ut}),WU=new J("",{providedIn:"root",factory:()=>1});var KU=new J("");var be=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(be||{}),_r="*";function YP(n,e=null){return{type:be.Sequence,steps:n,options:e}}function J0(n){return{type:be.Style,styles:n,offset:null}}var Ei=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},$a=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},du="!";function QP(n){return new L(3e3,!1)}function YU(){return new L(3100,!1)}function QU(){return new L(3101,!1)}function ZU(n){return new L(3001,!1)}function JU(n){return new L(3003,!1)}function XU(n){return new L(3004,!1)}function JP(n,e){return new L(3005,!1)}function XP(){return new L(3006,!1)}function eO(){return new L(3007,!1)}function tO(n,e){return new L(3008,!1)}function nO(n){return new L(3002,!1)}function rO(n,e,t,r,i){return new L(3010,!1)}function iO(){return new L(3011,!1)}function oO(){return new L(3012,!1)}function sO(){return new L(3200,!1)}function aO(){return new L(3202,!1)}function cO(){return new L(3013,!1)}function lO(n){return new L(3014,!1)}function uO(n){return new L(3015,!1)}function dO(n){return new L(3016,!1)}function hO(n,e){return new L(3404,!1)}function eB(n){return new L(3502,!1)}function fO(n){return new L(3503,!1)}function pO(){return new L(3300,!1)}function gO(n){return new L(3504,!1)}function mO(n){return new L(3301,!1)}function yO(n,e){return new L(3302,!1)}function _O(n){return new L(3303,!1)}function vO(n,e){return new L(3400,!1)}function CO(n){return new L(3401,!1)}function bO(n){return new L(3402,!1)}function wO(n,e){return new L(3505,!1)}function Ii(n){switch(n.length){case 0:return new Ei;case 1:return n[0];default:return new $a(n)}}function nC(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((g,m)=>{let E=m,M=g;if(m!=="offset")switch(E=n.normalizePropertyName(E,i),M){case du:M=t.get(m);break;case _r:M=r.get(m);break;default:M=n.normalizeStyleValue(m,E,M,i);break}f.set(E,M)}),d||o.push(f),a=f,s=u}),i.length)throw eB(i);return o}function gp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&X0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&X0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&X0(t,"destroy",n)));break}}function X0(n,e,t){let r=t.totalTime,i=!!t.disabled,o=mp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function mp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function _n(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function rC(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var tB=typeof document>"u"?null:document.documentElement;function yp(n){let e=n.parentNode||n.host||null;return e===tB?null:e}function nB(n){return n.substring(1,6)=="ebkit"}var ws=null,ZP=!1;function EO(n){ws||(ws=rB()||{},ZP=ws.style?"WebkitAppearance"in ws.style:!1);let e=!0;return ws.style&&!nB(n)&&(e=n in ws.style,!e&&ZP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ws.style)),e}function rB(){return typeof document<"u"?document.body:null}function iC(n,e){for(;e;){if(e===n)return!0;e=yp(e)}return!1}function oC(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var iB=1e3,sC="{{",oB="}}",aC="ng-enter",_p="ng-leave",hu="ng-trigger",fu=".ng-trigger",cC="ng-animating",vp=".ng-animating";function Lr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eC(parseFloat(e[1]),e[2])}function eC(n,e){switch(e){case"s":return n*iB;default:return n}}function pu(n,e,t){return n.hasOwnProperty("duration")?n:sB(n,e,t)}function sB(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(QP(n)),{duration:0,delay:0,easing:""};i=eC(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=eC(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(YU()),a=!0),o<0&&(e.push(QU()),a=!0),a&&e.splice(c,0,QP(n))}return{duration:i,delay:o,easing:s}}function IO(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function vr(n,e,t){e.forEach((r,i)=>{let o=Cp(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function fo(n,e){e.forEach((t,r)=>{let i=Cp(r);n.style[i]=""})}function Ha(n){return Array.isArray(n)?n.length==1?n[0]:YP(n):n}function DO(n,e,t){let r=e.params||{},i=lC(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(ZU(o))})}var tC=new RegExp(`${sC}\\s*(.+?)\\s*${oB}`,"g");function lC(n){let e=[];if(typeof n=="string"){let t;for(;t=tC.exec(n);)e.push(t[1]);tC.lastIndex=0}return e}function qa(n,e,t){let r=`${n}`,i=r.replace(tC,(o,s)=>{let a=e[s];return a==null&&(t.push(JU(s)),a=""),a.toString()});return i==r?n:i}var aB=/-+([a-z0-9])/g;function Cp(n){return n.replace(aB,(...e)=>e[1].toUpperCase())}function SO(n,e){return n===0||e===0}function TO(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,bp(n,a)))}}return e}function vn(n,e,t){switch(e.type){case be.Trigger:return n.visitTrigger(e,t);case be.State:return n.visitState(e,t);case be.Transition:return n.visitTransition(e,t);case be.Sequence:return n.visitSequence(e,t);case be.Group:return n.visitGroup(e,t);case be.Animate:return n.visitAnimate(e,t);case be.Keyframes:return n.visitKeyframes(e,t);case be.Style:return n.visitStyle(e,t);case be.Reference:return n.visitReference(e,t);case be.AnimateChild:return n.visitAnimateChild(e,t);case be.AnimateRef:return n.visitAnimateRef(e,t);case be.Query:return n.visitQuery(e,t);case be.Stagger:return n.visitStagger(e,t);default:throw XU(e.type)}}function bp(n,e){return window.getComputedStyle(n)[e]}var SC=(()=>{class n{validateStyleProperty(t){return EO(t)}containsElement(t,r){return iC(t,r)}getParentElement(t){return yp(t)}query(t,r,i){return oC(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ei(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Is=class{static NOOP=new SC},Ds=class{};var cB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sp=class extends Ds{normalizePropertyName(e,t){return Cp(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(cB.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(JP(e,r))}return s+o}};var Tp="*";function lB(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>uB(r,t,e)):t.push(n),t}function uB(n,e,t){if(n[0]==":"){let c=dB(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(uO(n)),e;let i=r[1],o=r[2],s=r[3];e.push(MO(i,s));let a=i==Tp&&s==Tp;o[0]=="<"&&!a&&e.push(MO(s,i))}function dB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(dO(n)),"* => *"}}var wp=new Set(["true","1"]),Ep=new Set(["false","0"]);function MO(n,e){let t=wp.has(n)||Ep.has(n),r=wp.has(e)||Ep.has(e);return(i,o)=>{let s=n==Tp||n==i,a=e==Tp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?wp.has(n):Ep.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?wp.has(e):Ep.has(e)),s&&a}}var VO=":self",hB=new RegExp(`s*${VO}s*,?`,"g");function jO(n,e,t,r){return new gC(n).build(e,t,r)}var xO="",gC=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new mC(t);return this._resetContextStyleTimingState(i),vn(this,Ha(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=xO,e.collectedStyles=new Map,e.collectedStyles.set(xO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(XP()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==be.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==be.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(eO())}),{type:be.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{lC(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(tO(e.name,[...o.values()]))}return{type:be.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=vn(this,Ha(e.animation),t),i=lB(e.expr,t.errors);return{type:be.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Es(e.options)}}visitSequence(e,t){return{type:be.Sequence,steps:e.steps.map(r=>vn(this,r,t)),options:Es(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=vn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:be.Group,steps:o,options:Es(e.options)}}visitAnimate(e,t){let r=mB(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:J0({});if(o.type==be.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=J0(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:be.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===_r?r.push(a):t.errors.push(nO(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(sC)>=0){o=!0;break}}}),{type:be.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(rO(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&DO(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:be.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(iO()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(k=>{let H=this._makeStyleAst(k,t),G=H.offset!=null?H.offset:gB(H.styles),Q=0;return G!=null&&(o++,Q=H.offset=G),c=c||Q<0||Q>1,a=a||Q<u,u=Q,s.push(Q),H});c&&t.errors.push(oO()),a&&t.errors.push(sO());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(aO()):o==0&&(g=i/(f-1));let m=f-1,E=t.currentTime,M=t.currentAnimateTimings,P=M.duration;return d.forEach((k,H)=>{let G=g>0?H==m?1:g*H:s[H],Q=G*P;t.currentTime=E+M.delay+Q,M.duration=Q,this._validateStyleAst(k,t),k.offset=G,r.styles.push(k)}),r}visitReference(e,t){return{type:be.Reference,animation:vn(this,Ha(e.animation),t),options:Es(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:be.AnimateChild,options:Es(e.options)}}visitAnimateRef(e,t){return{type:be.AnimateRef,animation:this.visitReference(e.animation,t),options:Es(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=fB(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,_n(t.collectedStyles,t.currentQuerySelector,new Map);let a=vn(this,Ha(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:be.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Es(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(cO());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:pu(e.timings,t.errors,!0);return{type:be.Stagger,animation:vn(this,Ha(e.animation),t),timings:r,options:null}}};function fB(n){let e=!!n.split(/\s*,\s*/).find(t=>t==VO);return e&&(n=n.replace(hB,"")),n=n.replace(/@\*/g,fu).replace(/@\w+/g,t=>fu+"-"+t.slice(1)).replace(/:animating/g,vp),[n,e]}function pB(n){return n?U({},n):null}var mC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function gB(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function mB(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=pu(n,e).duration;return uC(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=uC(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=pu(t,e);return uC(i.duration,i.delay,i.easing)}function Es(n){return n?(n=U({},n),n.params&&(n.params=pB(n.params))):n={},n}function uC(n,e,t){return{duration:n,delay:e,easing:t}}function TC(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var mu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},yB=1,_B=":enter",vB=new RegExp(_B,"g"),CB=":leave",bB=new RegExp(CB,"g");function UO(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new yC().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var yC=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new mu;let f=new _C(e,t,u,i,o,d,[]);f.options=c;let g=c.delay?Lr(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),vn(this,r,f);let m=f.timelines.filter(E=>E.containsAnimation());if(m.length&&a.size){let E;for(let M=m.length-1;M>=0;M--){let P=m[M];if(P.element===t){E=P;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,c)}return m.length?m.map(E=>E.buildKeyframes()):[TC(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Lr(qa(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Lr(r.duration):null,a=r.delay!=null?Lr(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),vn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==be.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Mp);let s=Lr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>vn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Lr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),vn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?qa(r,t.params,t.errors):r;return pu(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==be.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Lr(i.delay):0;o&&(t.previousNode.type===be.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),vn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;vn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Mp={},_C=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Mp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new xp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Lr(r.duration)),r.delay!=null&&(i.delay=Lr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=qa(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Mp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new vC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(vB,"."+this._enterClassName),e=e.replace(bB,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(lO(t)),a}},xp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=yB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_r),this._currentKeyframe.set(t,_r);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=wB(e,this._globalTimelineStyles);for(let[a,c]of s){let u=qa(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_r),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===du?e.add(f):d===_r&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return TC(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},vC=class extends xp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",PO(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),E=t+m*r;g.set("offset",PO(E/s)),o.push(g)}r=s,t=0,i="",e=o}return TC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function PO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function wB(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,_r)}else for(let[o,s]of i)t.set(o,s)}),t}function OO(n,e,t,r,i,o,s,a,c,u,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var dC={},Pp=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return EB(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],g=this.ast.options&&this.ast.options.params||dC,m=a&&a.params||dC,E=this.buildStyles(r,m,f),M=c&&c.params||dC,P=this.buildStyles(i,M,f),k=new Set,H=new Map,G=new Map,Q=i==="void",Fe={params:BO(M,g),delay:this.ast.options?.delay},he=d?[]:UO(e,t,this.ast.animation,o,s,E,P,Fe,u,f),S=0;return he.forEach(b=>{S=Math.max(b.duration+b.delay,S)}),f.length?OO(t,this._triggerName,r,i,Q,E,P,[],[],H,G,S,f):(he.forEach(b=>{let I=b.element,T=_n(H,I,new Set);b.preStyleProps.forEach(R=>T.add(R));let O=_n(G,I,new Set);b.postStyleProps.forEach(R=>O.add(R)),I!==t&&k.add(I)}),OO(t,this._triggerName,r,i,Q,E,P,he,[...k.values()],H,G,S))}};function EB(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function BO(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var CC=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=BO(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=qa(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function IB(n,e,t){return new bC(n,e,t)}var bC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new CC(i.style,o,r))}),AO(this.states,"true","1"),AO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Pp(e,i,this.states))}),this.fallbackTransition=DB(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function DB(n,e,t){let r=[(s,a)=>!0],i={type:be.Sequence,steps:[],options:null},o={type:be.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Pp(n,o,e)}function AO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var SB=new mu,wC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=jO(this._driver,t,r,i);if(r.length)throw fO(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=nC(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=UO(this._driver,t,o,aC,_p,new Map,new Map,r,SB,i),s.forEach(d=>{let f=_n(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(pO()),s=[]),i.length)throw gO(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,_r))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Ii(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw mO(e);return t}listen(e,t,r,i){let o=mp(t,"","","");return gp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},RO="ng-animate-queued",TB=".ng-animate-queued",hC="ng-animate-disabled",MB=".ng-animate-disabled",xB="ng-star-inserted",PB=".ng-star-inserted",OB=[],zO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cr="__ng_removed",yu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=NB(i),r){let o=e,{value:s}=o,a=jo(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},gu="void",fC=new yu(gu),EC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Yn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw yO(r,t);if(r==null||r.length==0)throw _O(t);if(!kB(r))throw vO(r,t);let o=_n(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=_n(this._engine.statesByElement,e,new Map);return a.has(t)||(Yn(e,hu),Yn(e,hu+"-"+t),a.set(t,fC)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw CO(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new _u(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Yn(e,hu),Yn(e,hu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new yu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=fC),!(u.value===gu)&&c.value===u.value){if(!VB(c.params,u.params)){let M=[],P=o.matchStyles(c.value,c.params,M),k=o.matchStyles(u.value,u.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{fo(e,P),vr(e,k)})}return}let g=_n(this._engine.playersByElement,e,[]);g.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let m=o.matchTransition(c.value,u.value,e,u.params),E=!1;if(!m){if(!i)return;m=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:u,player:s,isFallbackTransition:E}),E||(Yn(e,RO),s.onStart(()=>{Ga(e,RO)})),s.onDone(()=>{let M=this.players.indexOf(s);M>=0&&this.players.splice(M,1);let P=this._engine.playersByElement.get(e);if(P){let k=P.indexOf(s);k>=0&&P.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,fu,!0);r.forEach(i=>{if(i[Cr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,gu,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ii(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||fC,d=new yu(gu),f=new _u(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Cr];(!o||o===zO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Yn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=mp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,gp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},IC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new EC(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Ip(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ip(t))return;let o=t[Cr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yn(e,hC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ga(e,hC))}removeNode(e,t,r){if(Ip(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Cr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ip(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,fu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,vp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ii(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Cr];if(t&&t.setForRemoval){if(e[Cr]=zO,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(hC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,MB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Yn(i,xB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ii(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw bO(e)}_flushAnimations(e,t){let r=new mu,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(K=>{d.add(K);let Z=this.driver.query(K,TB,!0);for(let te=0;te<Z.length;te++)d.add(Z[te])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=FO(g,this.collectedEnterElements),E=new Map,M=0;m.forEach((K,Z)=>{let te=aC+M++;E.set(Z,te),K.forEach(Se=>Yn(Se,te))});let P=[],k=new Set,H=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){let Z=this.collectedLeaveElements[K],te=Z[Cr];te&&te.setForRemoval&&(P.push(Z),k.add(Z),te.hasAnimation?this.driver.query(Z,PB,!0).forEach(Se=>k.add(Se)):H.add(Z))}let G=new Map,Q=FO(g,Array.from(k));Q.forEach((K,Z)=>{let te=_p+M++;G.set(Z,te),K.forEach(Se=>Yn(Se,te))}),e.push(()=>{m.forEach((K,Z)=>{let te=E.get(Z);K.forEach(Se=>Ga(Se,te))}),Q.forEach((K,Z)=>{let te=G.get(Z);K.forEach(Se=>Ga(Se,te))}),P.forEach(K=>{this.processLeaveNode(K)})});let Fe=[],he=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(te=>{let Se=te.player,lt=te.element;if(Fe.push(Se),this.collectedEnterElements.length){let it=lt[Cr];if(it&&it.setForMove){if(it.previousTriggersValues&&it.previousTriggersValues.has(te.triggerName)){let Jr=it.previousTriggersValues.get(te.triggerName),hn=this.statesByElement.get(te.element);if(hn&&hn.has(te.triggerName)){let Xr=hn.get(te.triggerName);Xr.value=Jr,hn.set(te.triggerName,Xr)}}Se.destroy();return}}let kn=!f||!this.driver.containsElement(f,lt),rt=G.get(lt),Ge=E.get(lt),We=this._buildInstruction(te,r,Ge,rt,kn);if(We.errors&&We.errors.length){he.push(We);return}if(kn){Se.onStart(()=>fo(lt,We.fromStyles)),Se.onDestroy(()=>vr(lt,We.toStyles)),i.push(Se);return}if(te.isFallbackTransition){Se.onStart(()=>fo(lt,We.fromStyles)),Se.onDestroy(()=>vr(lt,We.toStyles)),i.push(Se);return}let Ui=[];We.timelines.forEach(it=>{it.stretchStartingKeyframe=!0,this.disabledNodes.has(it.element)||Ui.push(it)}),We.timelines=Ui,r.append(lt,We.timelines);let Nm={instruction:We,player:Se,element:lt};s.push(Nm),We.queriedElements.forEach(it=>_n(a,it,[]).push(Se)),We.preStyleProps.forEach((it,Jr)=>{if(it.size){let hn=c.get(Jr);hn||c.set(Jr,hn=new Set),it.forEach((Xr,Bi)=>hn.add(Bi))}}),We.postStyleProps.forEach((it,Jr)=>{let hn=u.get(Jr);hn||u.set(Jr,hn=new Set),it.forEach((Xr,Bi)=>hn.add(Bi))})});if(he.length){let K=[];he.forEach(Z=>{K.push(wO(Z.triggerName,Z.errors))}),Fe.forEach(Z=>Z.destroy()),this.reportError(K)}let S=new Map,b=new Map;s.forEach(K=>{let Z=K.element;r.has(Z)&&(b.set(Z,Z),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,S))}),i.forEach(K=>{let Z=K.element;this._getPreviousPlayers(Z,!1,K.namespaceId,K.triggerName,null).forEach(Se=>{_n(S,Z,[]).push(Se),Se.destroy()})});let I=P.filter(K=>LO(K,c,u)),T=new Map;kO(T,this.driver,H,u,_r).forEach(K=>{LO(K,c,u)&&I.push(K)});let R=new Map;m.forEach((K,Z)=>{kO(R,this.driver,new Set(K),c,du)}),I.forEach(K=>{let Z=T.get(K),te=R.get(K);T.set(K,new Map([...Z?.entries()??[],...te?.entries()??[]]))});let D=[],Nn=[],ji={};s.forEach(K=>{let{element:Z,player:te,instruction:Se}=K;if(r.has(Z)){if(d.has(Z)){te.onDestroy(()=>vr(Z,Se.toStyles)),te.disabled=!0,te.overrideTotalTime(Se.totalTime),i.push(te);return}let lt=ji;if(b.size>1){let rt=Z,Ge=[];for(;rt=rt.parentNode;){let We=b.get(rt);if(We){lt=We;break}Ge.push(rt)}Ge.forEach(We=>b.set(We,lt))}let kn=this._buildAnimation(te.namespaceId,Se,S,o,R,T);if(te.setRealPlayer(kn),lt===ji)D.push(te);else{let rt=this.playersByElement.get(lt);rt&&rt.length&&(te.parentPlayer=Ii(rt)),i.push(te)}}else fo(Z,Se.fromStyles),te.onDestroy(()=>vr(Z,Se.toStyles)),Nn.push(te),d.has(Z)&&i.push(te)}),Nn.forEach(K=>{let Z=o.get(K.element);if(Z&&Z.length){let te=Ii(Z);K.setRealPlayer(te)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<P.length;K++){let Z=P[K],te=Z[Cr];if(Ga(Z,_p),te&&te.hasAnimation)continue;let Se=[];if(a.size){let kn=a.get(Z);kn&&kn.length&&Se.push(...kn);let rt=this.driver.query(Z,vp,!0);for(let Ge=0;Ge<rt.length;Ge++){let We=a.get(rt[Ge]);We&&We.length&&Se.push(...We)}}let lt=Se.filter(kn=>!kn.destroyed);lt.length?FB(this,Z,lt):this.processLeaveNode(Z)}return P.length=0,D.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();let Z=this.players.indexOf(K);this.players.splice(Z,1)}),K.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==gu;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=_n(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let E=m.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),m.destroy(),f.push(m)})}fo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,g=t.timelines.map(E=>{let M=E.element;d.add(M);let P=M[Cr];if(P&&P.removedBeforeQueried)return new Ei(E.duration,E.delay);let k=M!==c,H=LB((r.get(M)||OB).map(S=>S.getRealPlayer())).filter(S=>{let b=S;return b.element?b.element===M:!1}),G=o.get(M),Q=s.get(M),Fe=nC(this._normalizer,E.keyframes,G,Q),he=this._buildPlayer(E,Fe,H);if(E.subTimeline&&i&&f.add(M),k){let S=new _u(e,a,M);S.setRealPlayer(he),u.push(S)}return he});u.forEach(E=>{_n(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>RB(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>Yn(E,cC));let m=Ii(g);return m.onDestroy(()=>{d.forEach(E=>Ga(E,cC)),vr(c,t.toStyles)}),f.forEach(E=>{_n(i,E,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ei(e.duration,e.delay)}},_u=class{namespaceId;triggerName;element;_player=new Ei;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>gp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_n(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function RB(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function NB(n){return n??null}function Ip(n){return n&&n.nodeType===1}function kB(n){return n=="start"||n=="done"}function NO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function kO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(NO(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[Cr]=AB,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>NO(c,o[a++])),s}function FO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Yn(n,e){n.classList?.add(e)}function Ga(n,e){n.classList?.remove(e)}function FB(n,e,t){Ii(t).onDone(()=>n.processLeaveNode(e))}function LB(n){let e=[];return $O(n,e),e}function $O(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof $a?$O(r.players,e):e.push(r)}}function VB(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function LO(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Wa=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new IC(e.body,t,r),this._timelineEngine=new wC(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=jO(this._driver,o,c,u);if(c.length)throw hO(i,c);a=IB(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=rC(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=rC(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function jB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=pC(e[0]),e.length>1&&(r=pC(e[e.length-1]))):e instanceof Map&&(t=pC(e)),t||r?new UB(n,t,r):null}var UB=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vr(this._element,this._initialStyles),this._endStyles&&(vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fo(this._element,this._endStyles),this._endStyles=null),vr(this._element,this._initialStyles),this._state=3)}}return n})();function pC(n){let e=null;return n.forEach((t,r)=>{BB(r)&&(e=e||new Map,e.set(r,t))}),e}function BB(n){return n==="display"||n==="position"}var Op=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:bp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ap=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return iC(e,t)}getParentElement(e){return yp(e)}query(e,t,r){return oC(e,t,r)}computeStyle(e,t,r){return bp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(m=>m instanceof Op);SO(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((E,M)=>u.set(M,E))});let f=IO(t).map(m=>new Map(m));f=TO(e,f,u);let g=jB(e,f);return new Op(e,f,c,g)}};var Dp="@",HO="@.disabled",Rp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Dp&&t==HO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},DC=class extends Rp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Dp?t.charAt(1)=="."&&t==HO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Dp){let o=zB(e),s=t.slice(1),a="";return s.charAt(0)!=Dp&&([s,a]=$B(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function zB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function $B(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Np=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Rp(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new DC(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var qB=(()=>{class n extends Wa{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ne(yt),ne(Is),ne(Ds))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function GB(){return new Sp}function WB(n,e,t){return new Np(n,e,t)}var qO=[{provide:Ds,useFactory:GB},{provide:Wa,useClass:qB},{provide:pi,useFactory:WB,deps:[$l,Wa,st]}],Cse=[{provide:Is,useClass:SC},{provide:ff,useValue:"NoopAnimations"},...qO],KB=[{provide:Is,useFactory:()=>new Ap},{provide:ff,useFactory:()=>"BrowserAnimations"},...qO];function GO(){return us("NgEagerAnimations"),[...KB]}var n1=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(B(fr),B(sn))};static \u0275dir=$e({type:n})}return n})(),zp=(()=>{class n extends n1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=$e({type:n,features:[mn]})}return n})(),Du=new J("");var YB={provide:Du,useExisting:Tn(()=>go),multi:!0};function QB(){let n=Gn()?Gn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var ZB=new J(""),go=(()=>{class n extends n1{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!QB())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(B(fr),B(sn),B(ZB,8))};static \u0275dir=$e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Rr([YB]),mn]})}return n})();function JB(n){return n==null||XB(n)===0}function XB(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var $p=new J(""),r1=new J("");function e4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function t4(n){return JB(n.value)?{required:!0}:null}function WO(n){return null}function i1(n){return n!=null}function o1(n){return oo(n)?Xe(n):n}function s1(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function a1(n,e){return e.map(t=>t(n))}function n4(n){return!n.validate}function c1(n){return n.map(e=>n4(e)?e:t=>e.validate(t))}function r4(n){if(!n)return null;let e=n.filter(i1);return e.length==0?null:function(t){return s1(a1(t,e))}}function OC(n){return n!=null?r4(c1(n)):null}function i4(n){if(!n)return null;let e=n.filter(i1);return e.length==0?null:function(t){let r=a1(t,e).map(o1);return Ey(r).pipe(xe(s1))}}function AC(n){return n!=null?i4(c1(n)):null}function KO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function o4(n){return n._rawValidators}function s4(n){return n._rawAsyncValidators}function MC(n){return n?Array.isArray(n)?n:[n]:[]}function Fp(n,e){return Array.isArray(n)?n.includes(e):n===e}function YO(n,e){let t=MC(e);return MC(n).forEach(i=>{Fp(t,i)||t.push(i)}),t}function QO(n,e){return MC(e).filter(t=>!Fp(n,t))}var Lp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Qa=class extends Lp{name;get formDirective(){return null}get path(){return null}},Iu=class extends Lp{_parent=null;name=null;valueAccessor=null},Vp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},a4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vse=pe(U({},a4),{"[class.ng-submitted]":"isSubmitted"}),Za=(()=>{class n extends Vp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(Iu,2))};static \u0275dir=$e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mn]})}return n})(),Hp=(()=>{class n extends Vp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(Qa,10))};static \u0275dir=$e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mn]})}return n})();var vu="VALID",kp="INVALID",Ka="PENDING",Cu="DISABLED",po=class{},jp=class extends po{value;source;constructor(e,t){super(),this.value=e,this.source=t}},wu=class extends po{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Eu=class extends po{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ya=class extends po{status;source;constructor(e,t){super(),this.status=e,this.source=t}},xC=class extends po{source;constructor(e){super(),this.source=e}},PC=class extends po{source;constructor(e){super(),this.source=e}};function l1(n){return(qp(n)?n.validators:n)||null}function c4(n){return Array.isArray(n)?OC(n):n||null}function u1(n,e){return(qp(e)?e.asyncValidators:n)||null}function l4(n){return Array.isArray(n)?AC(n):n||null}function qp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function u4(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function d4(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Up=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(e){qn(()=>this.statusReactive.set(e))}_status=Ta(()=>this.statusReactive());statusReactive=di(void 0);get valid(){return this.status===vu}get invalid(){return this.status===kp}get pending(){return this.status==Ka}get disabled(){return this.status===Cu}get enabled(){return this.status!==Cu}errors;get pristine(){return qn(this.pristineReactive)}set pristine(e){qn(()=>this.pristineReactive.set(e))}_pristine=Ta(()=>this.pristineReactive());pristineReactive=di(!0);get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(e){qn(()=>this.touchedReactive.set(e))}_touched=Ta(()=>this.touchedReactive());touchedReactive=di(!1);get untouched(){return!this.touched}_events=new ut;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QO(e,this._rawAsyncValidators))}hasValidator(e){return Fp(this._rawValidators,e)}hasAsyncValidator(e){return Fp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Eu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Eu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new wu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new wu(!0,r))}markAsPending(e={}){this.status=Ka;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ya(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this.errors=null,this._forEachChild(i=>{i.disable(pe(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jp(this.value,r)),this._events.next(new Ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vu,this._forEachChild(r=>{r.enable(pe(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vu||this.status===Ka)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jp(this.value,t)),this._events.next(new Ya(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cu:vu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ka,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=o1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ya(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Cu:this.errors?kp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ka)?Ka:this._anyControlsHaveStatus(kp)?kp:vu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new wu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Eu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=c4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l4(this._rawAsyncValidators)}},Bp=class extends Up{constructor(e,t,r){super(l1(t),u1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){d4(this,!0,e),Object.keys(e).forEach(r=>{u4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var RC=new J("",{providedIn:"root",factory:()=>NC}),NC="always";function h4(n,e){return[...e.path,n]}function d1(n,e,t=NC){h1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),p4(n,e),m4(n,e),g4(n,e),f4(n,e)}function ZO(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function f4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function h1(n,e){let t=o4(n);e.validator!==null?n.setValidators(KO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=s4(n);e.asyncValidator!==null?n.setAsyncValidators(KO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ZO(e._rawValidators,i),ZO(e._rawAsyncValidators,i)}function p4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&f1(n,e)})}function g4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&f1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function f1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function y4(n,e){n==null,h1(n,e)}function _4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function v4(n){return Object.getPrototypeOf(n.constructor)===zp}function C4(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function b4(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===go?t=o:v4(o)?r=o:i=o}),i||r||t||null}var w4={provide:Qa,useExisting:Tn(()=>Su)},bu=Promise.resolve(),Su=(()=>{class n extends Qa{callSetDisabledState;get submitted(){return qn(this.submittedReactive)}_submitted=Ta(()=>this.submittedReactive());submittedReactive=di(!1);_directives=new Set;form;ngSubmit=new tt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Bp({},OC(t),AC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),d1(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bu.then(()=>{let r=this._findContainer(t.path),i=new Bp({});y4(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){bu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),C4(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new xC(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new PC(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(B($p,10),B(r1,10),B(RC,8))};static \u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rr([w4]),mn]})}return n})();function JO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var E4=class extends Up{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(l1(t),u1(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(XO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var I4={provide:Iu,useExisting:Tn(()=>Ss)},e1=Promise.resolve(),Ss=(()=>{class n extends Iu{_changeDetectorRef;callSetDisabledState;control=new E4;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new tt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=b4(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_4(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){d1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){e1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ps(r);e1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?h4(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(B(Qa,9),B($p,10),B(r1,10),B(Du,10),B(so,8),B(RC,8))};static \u0275dir=$e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Rr([I4]),mn,Or]})}return n})();var Gp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),D4={provide:Du,useExisting:Tn(()=>kC),multi:!0},kC=(()=>{class n extends zp{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Rr([D4]),mn]})}return n})();var S4={provide:Du,useExisting:Tn(()=>Wp),multi:!0};function p1(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function T4(n){return n.split(":")[0]}var Wp=(()=>{class n extends zp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=j(yi).injector;appRefDestroyRef=this.appRefInjector.get(cr);destroyRef=j(cr);cdr=j(so);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,Ef({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=p1(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=T4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rr([S4]),mn]})}return n})(),g1=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(p1(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(B(sn),B(fr),B(Wp,9))};static \u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),M4={provide:Du,useExisting:Tn(()=>m1),multi:!0};function t1(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function x4(n){return n.split(":")[0]}var m1=(()=>{class n extends zp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=x4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rr([M4]),mn]})}return n})(),y1=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(t1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(t1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(B(sn),B(fr),B(m1,9))};static \u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function P4(n){return typeof n=="number"?n:parseFloat(n)}var _1=(()=>{class n{_validator=WO;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):WO,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=$e({type:n,features:[Or]})}return n})();var O4={provide:$p,useExisting:Tn(()=>FC),multi:!0},FC=(()=>{class n extends _1{min;inputName="min";normalizeInput=t=>P4(t);createValidator=t=>e4(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&hs("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Rr([O4]),mn]})}return n})(),A4={provide:$p,useExisting:Tn(()=>Tu),multi:!0};var Tu=(()=>{class n extends _1{required;inputName="required";normalizeInput=ps;createValidator=t=>t4;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hr(n)))(i||n)}})();static \u0275dir=$e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&hs("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Rr([A4]),mn]})}return n})();var R4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=ir({})}return n})();var Ja=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RC,useValue:t.callSetDisabledState??NC}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=ir({imports:[R4]})}return n})();var v1=()=>{};var w1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},N4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},E1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):N4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new jC;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},jC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},k4=function(n){let e=w1(n);return E1.encodeByteArray(e,!0)},xu=function(n){return k4(n).replace(/\./g,"")},Yp=function(n){try{return E1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var F4=()=>I1().__FIREBASE_DEFAULTS__,L4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Yp(n[1]);return e&&JSON.parse(e)},Qp=()=>{try{return v1()||F4()||L4()||V4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BC=n=>{var e,t;return(t=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Zp=n=>{let e=BC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zC=()=>{var n;return(n=Qp())===null||n===void 0?void 0:n.config},$C=n=>{var e;return(e=Qp())===null||e===void 0?void 0:e[`_${n}`]};var Kp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Vr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Xa(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Jp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xu(JSON.stringify(t)),xu(JSON.stringify(s)),""].join(".")}var Mu={};function j4(){let n={prod:[],emulator:[]};for(let e of Object.keys(Mu))Mu[e]?n.emulator.push(e):n.prod.push(e);return n}function U4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var C1=!1;function ec(n,e){if(typeof window>"u"||typeof document>"u"||!Vr(window.location.host)||Mu[n]===e||Mu[n]||C1)return;Mu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=j4().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{C1=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=U4(r),m=t("text"),E=document.getElementById(m)||document.createElement("span"),M=t("learnmore"),P=document.getElementById(M)||document.createElement("a"),k=t("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let G=g.element;a(G),d(P,M);let Q=u();c(H,k),G.append(H,E,P,Q),document.body.appendChild(G)}o?(E.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function B4(){var n;let e=(n=Qp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x1(){let n=Ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P1(){return!B4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HC(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var z4="FirebaseError",un=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=z4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Di.prototype.create)}},Di=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new un(i,a,r)}};function $4(n,e){return n.replace(H4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var H4=/\{\$([^}]+)}/g;function A1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(b1(o)&&b1(s)){if(!jr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function b1(n){return n!==null&&typeof n=="object"}function Pu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R1(n,e){let t=new UC(n,e);return t.subscribe.bind(t)}var UC=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");q4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=VC),i.error===void 0&&(i.error=VC),i.complete===void 0&&(i.complete=VC);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function q4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function VC(){}var $se=4*60*60*1e3;function vt(n){return n&&n._delegate?n._delegate:n}var Cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ts="[DEFAULT]";var qC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Kp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W4(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function G4(n){return n===Ts?void 0:n}function W4(n){return n.instantiationMode==="EAGER"}var Xp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new qC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var K4=[],Te=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Te||{}),Y4={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Q4=Te.INFO,Z4={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},J4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Z4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mo=class{constructor(e){this.name=e,this._logLevel=Q4,this._logHandler=J4,this._userLogHandler=null,K4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};var X4=(n,e)=>e.some(t=>n instanceof t),N1,k1;function e6(){return N1||(N1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t6(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var F1=new WeakMap,WC=new WeakMap,L1=new WeakMap,GC=new WeakMap,YC=new WeakMap;function n6(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ur(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&F1.set(t,n)}).catch(()=>{}),YC.set(e,n),e}function r6(n){if(WC.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});WC.set(n,e)}var KC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return WC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||L1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ur(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function V1(n){KC=n(KC)}function i6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(eg(this),e,...t);return L1.set(r,e.sort?e.sort():[e]),Ur(r)}:t6().includes(n)?function(...e){return n.apply(eg(this),e),Ur(F1.get(this))}:function(...e){return Ur(n.apply(eg(this),e))}}function o6(n){return typeof n=="function"?i6(n):(n instanceof IDBTransaction&&r6(n),X4(n,e6())?new Proxy(n,KC):n)}function Ur(n){if(n instanceof IDBRequest)return n6(n);if(GC.has(n))return GC.get(n);let e=o6(n);return e!==n&&(GC.set(n,e),YC.set(e,n)),e}var eg=n=>YC.get(n);function U1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Ur(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ur(s.result),c.oldVersion,c.newVersion,Ur(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var s6=["get","getKey","getAll","getAllKeys","count"],a6=["put","add","delete","clear"],QC=new Map;function j1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(QC.get(e))return QC.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=a6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s6.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return QC.set(e,o),o}V1(n=>pe(U({},n),{get:(e,t,r)=>j1(e,t)||n.get(e,t,r),has:(e,t)=>!!j1(e,t)||n.has(e,t)}));var JC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c6(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function c6(n){let e=n.getComponent();return e?.type==="VERSION"}var XC="@firebase/app",B1="0.13.2";var Si=new mo("@firebase/app"),l6="@firebase/app-compat",u6="@firebase/analytics-compat",d6="@firebase/analytics",h6="@firebase/app-check-compat",f6="@firebase/app-check",p6="@firebase/auth",g6="@firebase/auth-compat",m6="@firebase/database",y6="@firebase/data-connect",_6="@firebase/database-compat",v6="@firebase/functions",C6="@firebase/functions-compat",b6="@firebase/installations",w6="@firebase/installations-compat",E6="@firebase/messaging",I6="@firebase/messaging-compat",D6="@firebase/performance",S6="@firebase/performance-compat",T6="@firebase/remote-config",M6="@firebase/remote-config-compat",x6="@firebase/storage",P6="@firebase/storage-compat",O6="@firebase/firestore",A6="@firebase/ai",R6="@firebase/firestore-compat",N6="firebase",k6="11.10.0";var eb="[DEFAULT]",F6={[XC]:"fire-core",[l6]:"fire-core-compat",[d6]:"fire-analytics",[u6]:"fire-analytics-compat",[f6]:"fire-app-check",[h6]:"fire-app-check-compat",[p6]:"fire-auth",[g6]:"fire-auth-compat",[m6]:"fire-rtdb",[y6]:"fire-data-connect",[_6]:"fire-rtdb-compat",[v6]:"fire-fn",[C6]:"fire-fn-compat",[b6]:"fire-iid",[w6]:"fire-iid-compat",[E6]:"fire-fcm",[I6]:"fire-fcm-compat",[D6]:"fire-perf",[S6]:"fire-perf-compat",[T6]:"fire-rc",[M6]:"fire-rc-compat",[x6]:"fire-gcs",[P6]:"fire-gcs-compat",[O6]:"fire-fst",[R6]:"fire-fst-compat",[A6]:"fire-vertex","fire-js":"fire-js",[N6]:"fire-js-all"};var tg=new Map,L6=new Map,tb=new Map;function z1(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Br(n){let e=n.name;if(tb.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,n);for(let t of tg.values())z1(t,n);for(let t of L6.values())z1(t,n);return!0}function Ms(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wn(n){return n==null?!1:n.settings!==void 0}var V6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Di("app","Firebase",V6);var nb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}};var zr=k6;function ob(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw yo.create("bad-app-name",{appName:String(i)});if(t||(t=zC()),!t)throw yo.create("no-options");let o=tg.get(i);if(o){if(jr(t,o.options)&&jr(r,o.config))return o;throw yo.create("duplicate-app",{appName:i})}let s=new Xp(i);for(let c of tb.values())s.addComponent(c);let a=new nb(t,r,s);return tg.set(i,a),a}function tc(n=eb){let e=tg.get(n);if(!e&&n===eb&&zC())return ob();if(!e)throw yo.create("no-app",{appName:n});return e}function bn(n,e,t){var r;let i=(r=F6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}Br(new Cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var j6="firebase-heartbeat-database",U6=1,Ou="firebase-heartbeat-store",ZC=null;function G1(){return ZC||(ZC=U1(j6,U6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw yo.create("idb-open",{originalErrorMessage:n.message})})),ZC}function B6(n){return C(this,null,function*(){try{let t=(yield G1()).transaction(Ou),r=yield t.objectStore(Ou).get(W1(n));return yield t.done,r}catch(e){if(e instanceof un)Si.warn(e.message);else{let t=yo.create("idb-get",{originalErrorMessage:e?.message});Si.warn(t.message)}}})}function $1(n,e){return C(this,null,function*(){try{let r=(yield G1()).transaction(Ou,"readwrite");yield r.objectStore(Ou).put(e,W1(n)),yield r.done}catch(t){if(t instanceof un)Si.warn(t.message);else{let r=yo.create("idb-set",{originalErrorMessage:t?.message});Si.warn(r.message)}}})}function W1(n){return`${n.name}!${n.options.appId}`}var z6=1024,$6=30,rb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ib(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=H1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>$6){let s=q6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=H1(),{heartbeatsToSend:r,unsentEntries:i}=H6(this._heartbeatsCache.heartbeats),o=xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Si.warn(t),""}})}};function H1(){return new Date().toISOString().substring(0,10)}function H6(n,e=z6){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),q1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),q1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ib=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return HC()?O1().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield B6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function q1(n){return xu(JSON.stringify({version:2,heartbeats:n})).length}function q6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function G6(n){Br(new Cn("platform-logger",e=>new JC(e),"PRIVATE")),Br(new Cn("heartbeat",e=>new rb(e),"PRIVATE")),bn(XC,B1,n),bn(XC,B1,"esm2017"),bn("fire-js","")}G6("");var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y1={};var Ti,sb;(function(){var n;function e(S,b){function I(){}I.prototype=b.prototype,S.D=b.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(T,O,R){for(var D=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)D[Nn-2]=arguments[Nn];return b.prototype[O].apply(T,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,I){I||(I=0);var T=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)T[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;16>O;++O)T[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=S.g[0],I=S.g[1],O=S.g[2];var R=S.g[3],D=b+(R^I&(O^R))+T[0]+3614090360&4294967295;b=I+(D<<7&4294967295|D>>>25),D=R+(O^b&(I^O))+T[1]+3905402710&4294967295,R=b+(D<<12&4294967295|D>>>20),D=O+(I^R&(b^I))+T[2]+606105819&4294967295,O=R+(D<<17&4294967295|D>>>15),D=I+(b^O&(R^b))+T[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(R^I&(O^R))+T[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=R+(O^b&(I^O))+T[5]+1200080426&4294967295,R=b+(D<<12&4294967295|D>>>20),D=O+(I^R&(b^I))+T[6]+2821735955&4294967295,O=R+(D<<17&4294967295|D>>>15),D=I+(b^O&(R^b))+T[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(R^I&(O^R))+T[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=R+(O^b&(I^O))+T[9]+2336552879&4294967295,R=b+(D<<12&4294967295|D>>>20),D=O+(I^R&(b^I))+T[10]+4294925233&4294967295,O=R+(D<<17&4294967295|D>>>15),D=I+(b^O&(R^b))+T[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(R^I&(O^R))+T[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=R+(O^b&(I^O))+T[13]+4254626195&4294967295,R=b+(D<<12&4294967295|D>>>20),D=O+(I^R&(b^I))+T[14]+2792965006&4294967295,O=R+(D<<17&4294967295|D>>>15),D=I+(b^O&(R^b))+T[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(O^R&(I^O))+T[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=R+(I^O&(b^I))+T[6]+3225465664&4294967295,R=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(R^b))+T[11]+643717713&4294967295,O=R+(D<<14&4294967295|D>>>18),D=I+(R^b&(O^R))+T[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(O^R&(I^O))+T[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=R+(I^O&(b^I))+T[10]+38016083&4294967295,R=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(R^b))+T[15]+3634488961&4294967295,O=R+(D<<14&4294967295|D>>>18),D=I+(R^b&(O^R))+T[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(O^R&(I^O))+T[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=R+(I^O&(b^I))+T[14]+3275163606&4294967295,R=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(R^b))+T[3]+4107603335&4294967295,O=R+(D<<14&4294967295|D>>>18),D=I+(R^b&(O^R))+T[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(O^R&(I^O))+T[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=R+(I^O&(b^I))+T[2]+4243563512&4294967295,R=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(R^b))+T[7]+1735328473&4294967295,O=R+(D<<14&4294967295|D>>>18),D=I+(R^b&(O^R))+T[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(I^O^R)+T[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=R+(b^I^O)+T[8]+2272392833&4294967295,R=b+(D<<11&4294967295|D>>>21),D=O+(R^b^I)+T[11]+1839030562&4294967295,O=R+(D<<16&4294967295|D>>>16),D=I+(O^R^b)+T[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(I^O^R)+T[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=R+(b^I^O)+T[4]+1272893353&4294967295,R=b+(D<<11&4294967295|D>>>21),D=O+(R^b^I)+T[7]+4139469664&4294967295,O=R+(D<<16&4294967295|D>>>16),D=I+(O^R^b)+T[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(I^O^R)+T[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=R+(b^I^O)+T[0]+3936430074&4294967295,R=b+(D<<11&4294967295|D>>>21),D=O+(R^b^I)+T[3]+3572445317&4294967295,O=R+(D<<16&4294967295|D>>>16),D=I+(O^R^b)+T[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(I^O^R)+T[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=R+(b^I^O)+T[12]+3873151461&4294967295,R=b+(D<<11&4294967295|D>>>21),D=O+(R^b^I)+T[15]+530742520&4294967295,O=R+(D<<16&4294967295|D>>>16),D=I+(O^R^b)+T[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(O^(I|~R))+T[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=R+(I^(b|~O))+T[7]+1126891415&4294967295,R=b+(D<<10&4294967295|D>>>22),D=O+(b^(R|~I))+T[14]+2878612391&4294967295,O=R+(D<<15&4294967295|D>>>17),D=I+(R^(O|~b))+T[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=b+(O^(I|~R))+T[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=R+(I^(b|~O))+T[3]+2399980690&4294967295,R=b+(D<<10&4294967295|D>>>22),D=O+(b^(R|~I))+T[10]+4293915773&4294967295,O=R+(D<<15&4294967295|D>>>17),D=I+(R^(O|~b))+T[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=b+(O^(I|~R))+T[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=R+(I^(b|~O))+T[15]+4264355552&4294967295,R=b+(D<<10&4294967295|D>>>22),D=O+(b^(R|~I))+T[6]+2734768916&4294967295,O=R+(D<<15&4294967295|D>>>17),D=I+(R^(O|~b))+T[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=b+(O^(I|~R))+T[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=R+(I^(b|~O))+T[11]+3174756917&4294967295,R=b+(D<<10&4294967295|D>>>22),D=O+(b^(R|~I))+T[2]+718787259&4294967295,O=R+(D<<15&4294967295|D>>>17),D=I+(R^(O|~b))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var I=b-this.blockSize,T=this.B,O=this.h,R=0;R<b;){if(O==0)for(;R<=I;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<b;)if(T[O++]=S.charCodeAt(R++),O==this.blockSize){i(this,T),O=0;break}}else for(;R<b;)if(T[O++]=S[R++],O==this.blockSize){i(this,T),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var I=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=I&255,I/=256;for(this.u(S),S=Array(16),b=I=0;4>b;++b)for(var T=0;32>T;T+=8)S[I++]=this.g[b]>>>T&255;return S};function o(S,b){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=b(S)}function s(S,b){this.h=b;for(var I=[],T=!0,O=S.length-1;0<=O;O--){var R=S[O]|0;T&&R==b||(I[O]=R,T=!1)}this.g=I}var a={};function c(S){return-128<=S&&128>S?o(S,function(b){return new s([b|0],0>b?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return P(u(-S));for(var b=[],I=1,T=0;S>=I;T++)b[T]=S/I|0,I*=4294967296;return new s(b,0)}function d(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return P(d(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(b,8)),T=f,O=0;O<S.length;O+=8){var R=Math.min(8,S.length-O),D=parseInt(S.substring(O,O+R),b);8>R?(R=u(Math.pow(b,R)),T=T.j(R).add(u(D))):(T=T.j(I),T=T.add(u(D)))}return T}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(M(this))return-P(this).m();for(var S=0,b=1,I=0;I<this.g.length;I++){var T=this.i(I);S+=(0<=T?T:4294967296+T)*b,b*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(M(this))return"-"+P(this).toString(S);for(var b=u(Math.pow(S,6)),I=this,T="";;){var O=Q(I,b).g;I=k(I,O.j(b));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=O,E(I))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function M(S){return S.h==-1}n.l=function(S){return S=k(this,S),M(S)?-1:E(S)?0:1};function P(S){for(var b=S.g.length,I=[],T=0;T<b;T++)I[T]=~S.g[T];return new s(I,~S.h).add(g)}n.abs=function(){return M(this)?P(this):this},n.add=function(S){for(var b=Math.max(this.g.length,S.g.length),I=[],T=0,O=0;O<=b;O++){var R=T+(this.i(O)&65535)+(S.i(O)&65535),D=(R>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);T=D>>>16,R&=65535,D&=65535,I[O]=D<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(S,b){return S.add(P(b))}n.j=function(S){if(E(this)||E(S))return f;if(M(this))return M(S)?P(this).j(P(S)):P(P(this).j(S));if(M(S))return P(this.j(P(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var b=this.g.length+S.g.length,I=[],T=0;T<2*b;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var O=0;O<S.g.length;O++){var R=this.i(T)>>>16,D=this.i(T)&65535,Nn=S.i(O)>>>16,ji=S.i(O)&65535;I[2*T+2*O]+=D*ji,H(I,2*T+2*O),I[2*T+2*O+1]+=R*ji,H(I,2*T+2*O+1),I[2*T+2*O+1]+=D*Nn,H(I,2*T+2*O+1),I[2*T+2*O+2]+=R*Nn,H(I,2*T+2*O+2)}for(T=0;T<b;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=b;T<2*b;T++)I[T]=0;return new s(I,0)};function H(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function G(S,b){this.g=S,this.h=b}function Q(S,b){if(E(b))throw Error("division by zero");if(E(S))return new G(f,f);if(M(S))return b=Q(P(S),b),new G(P(b.g),P(b.h));if(M(b))return b=Q(S,P(b)),new G(P(b.g),b.h);if(30<S.g.length){if(M(S)||M(b))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=b;0>=T.l(S);)I=Fe(I),T=Fe(T);var O=he(I,1),R=he(T,1);for(T=he(T,2),I=he(I,2);!E(T);){var D=R.add(T);0>=D.l(S)&&(O=O.add(I),R=D),T=he(T,1),I=he(I,1)}return b=k(S,O.j(b)),new G(O,b)}for(O=f;0<=S.l(b);){for(I=Math.max(1,Math.floor(S.m()/b.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=u(I),D=R.j(b);M(D)||0<D.l(S);)I-=T,R=u(I),D=R.j(b);E(R)&&(R=g),O=O.add(R),S=k(S,D)}return new G(O,S)}n.A=function(S){return Q(this,S).h},n.and=function(S){for(var b=Math.max(this.g.length,S.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)&S.i(T);return new s(I,this.h&S.h)},n.or=function(S){for(var b=Math.max(this.g.length,S.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)|S.i(T);return new s(I,this.h|S.h)},n.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)^S.i(T);return new s(I,this.h^S.h)};function Fe(S){for(var b=S.g.length+1,I=[],T=0;T<b;T++)I[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(I,S.h)}function he(S,b){var I=b>>5;b%=32;for(var T=S.g.length-I,O=[],R=0;R<T;R++)O[R]=0<b?S.i(R+I)>>>b|S.i(R+I+1)<<32-b:S.i(R+I);return new s(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sb=Y1.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ti=Y1.Integer=s}).apply(typeof K1<"u"?K1:typeof self<"u"?self:typeof window<"u"?window:{});var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={};var ab,W6,nc,cb,Au,rg,lb,ub,db;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ng=="object"&&ng];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var A=l[y];if(!(A in p))break e;p=p[A]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,y=!1,A={next:function(){if(!y&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),l.apply(h,A)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function E(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,A,N){for(var z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)z[ze-2]=arguments[ze];return h.prototype[A].apply(y,z)}}function M(l){let h=l.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function P(l,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let A=l.length||0,N=y.length||0;l.length=A+N;for(let z=0;z<N;z++)l[A+z]=y[z]}else l.push(y)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(l){return/^[\s\xa0]*$/.test(l)}function G(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Q(l){return Q[" "](l),l}Q[" "]=function(){};var Fe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function he(l,h,p){for(let y in l)h.call(p,l[y],y,l)}function S(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function b(l){let h={};for(let p in l)h[p]=l[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)l[p]=y[p];for(let N=0;N<I.length;N++)p=I[N],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function O(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function R(l){a.setTimeout(()=>{throw l},0)}function D(){var l=Se;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Nn{constructor(){this.h=this.g=null}add(h,p){let y=ji.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var ji=new k(()=>new K,l=>l.reset());class K{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,te=!1,Se=new Nn,lt=()=>{let l=a.Promise.resolve(void 0);Z=()=>{l.then(kn)}};var kn=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(p){R(p)}var h=ji;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}te=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Ui(l,h){if(Ge.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Fe){e:{try{Q(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Nm[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ui.aa.h.call(this)}}E(Ui,Ge);var Nm={2:"touch",3:"pen",4:"mouse"};Ui.prototype.h=function(){Ui.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Jr=0;function hn(l,h,p,y,A){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++Jr,this.da=this.fa=!1}function Xr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Bi(l){this.src=l,this.g={},this.h=0}Bi.prototype.add=function(l,h,p,y,A){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var z=Fm(l,h,y,A);return-1<z?(h=l[z],p||(h.fa=!1)):(h=new hn(h,this.src,N,!!y,A),h.fa=p,l.push(h)),h};function km(l,h){var p=h.type;if(p in l.g){var y=l.g[p],A=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=A)&&Array.prototype.splice.call(y,A,1),N&&(Xr(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Fm(l,h,p,y){for(var A=0;A<l.length;++A){var N=l[A];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return A}return-1}var Lm="closure_lm_"+(1e6*Math.random()|0),Vm={};function uI(l,h,p,y,A){if(y&&y.once)return hI(l,h,p,y,A);if(Array.isArray(h)){for(var N=0;N<h.length;N++)uI(l,h[N],p,y,A);return null}return p=zm(p),l&&l[it]?l.K(h,p,u(y)?!!y.capture:!!y,A):dI(l,h,p,!1,y,A)}function dI(l,h,p,y,A,N){if(!h)throw Error("Invalid event type");var z=u(A)?!!A.capture:!!A,ze=Um(l);if(ze||(l[Lm]=ze=new Bi(l)),p=ze.add(h,p,y,z,N),p.proxy)return p;if(y=Ek(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)We||(A=z),A===void 0&&(A=!1),l.addEventListener(h.toString(),y,A);else if(l.attachEvent)l.attachEvent(pI(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ek(){function l(p){return h.call(l.src,l.listener,p)}let h=Ik;return l}function hI(l,h,p,y,A){if(Array.isArray(h)){for(var N=0;N<h.length;N++)hI(l,h[N],p,y,A);return null}return p=zm(p),l&&l[it]?l.L(h,p,u(y)?!!y.capture:!!y,A):dI(l,h,p,!0,y,A)}function fI(l,h,p,y,A){if(Array.isArray(h))for(var N=0;N<h.length;N++)fI(l,h[N],p,y,A);else y=u(y)?!!y.capture:!!y,p=zm(p),l&&l[it]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=Fm(N,p,y,A),-1<p&&(Xr(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Um(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Fm(h,p,y,A)),(p=-1<l?h[l]:null)&&jm(p))}function jm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[it])km(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(pI(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Um(h))?(km(p,l),p.h==0&&(p.src=null,h[Lm]=null)):Xr(l)}}}function pI(l){return l in Vm?Vm[l]:Vm[l]="on"+l}function Ik(l,h){if(l.da)l=!0;else{h=new Ui(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&jm(l),l=p.call(y,h)}return l}function Um(l){return l=l[Lm],l instanceof Bi?l:null}var Bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function zm(l){return typeof l=="function"?l:(l[Bm]||(l[Bm]=function(h){return l.handleEvent(h)}),l[Bm])}function zt(){rt.call(this),this.i=new Bi(this),this.M=this,this.F=null}E(zt,rt),zt.prototype[it]=!0,zt.prototype.removeEventListener=function(l,h,p,y){fI(this,l,h,p,y)};function Xt(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new Ge(h,l);else if(h instanceof Ge)h.target=h.target||l;else{var A=h;h=new Ge(y,l),T(h,A)}if(A=!0,p)for(var N=p.length-1;0<=N;N--){var z=h.g=p[N];A=pd(z,y,!0,h)&&A}if(z=h.g=l,A=pd(z,y,!0,h)&&A,A=pd(z,y,!1,h)&&A,p)for(N=0;N<p.length;N++)z=h.g=p[N],A=pd(z,y,!1,h)&&A}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)Xr(p[y]);delete l.g[h],l.h--}}this.F=null},zt.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},zt.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function pd(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,N=0;N<h.length;++N){var z=h[N];if(z&&!z.da&&z.capture==p){var ze=z.listener,Nt=z.ha||z.src;z.fa&&km(l.i,z),A=ze.call(Nt,y)!==!1&&A}}return A&&!y.defaultPrevented}function gI(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function mI(l){l.g=gI(()=>{l.g=null,l.i&&(l.i=!1,mI(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class Dk extends rt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:mI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(l){rt.call(this),this.h=l,this.g={}}E(Oc,rt);var yI=[];function _I(l){he(l.g,function(h,p){this.g.hasOwnProperty(p)&&jm(h)},l),l.g={}}Oc.prototype.N=function(){Oc.aa.N.call(this),_I(this)},Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $m=a.JSON.stringify,Sk=a.JSON.parse,Tk=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Hm(){}Hm.prototype.h=null;function vI(l){return l.h||(l.h=l.i())}function CI(){}var Ac={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qm(){Ge.call(this,"d")}E(qm,Ge);function Gm(){Ge.call(this,"c")}E(Gm,Ge);var ko={},bI=null;function gd(){return bI=bI||new zt}ko.La="serverreachability";function wI(l){Ge.call(this,ko.La,l)}E(wI,Ge);function Rc(l){let h=gd();Xt(h,new wI(h))}ko.STAT_EVENT="statevent";function EI(l,h){Ge.call(this,ko.STAT_EVENT,l),this.stat=h}E(EI,Ge);function en(l){let h=gd();Xt(h,new EI(h,l))}ko.Ma="timingevent";function II(l,h){Ge.call(this,ko.Ma,l),this.size=h}E(II,Ge);function Nc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function kc(){this.g=!0}kc.prototype.xa=function(){this.g=!1};function Mk(l,h,p,y,A,N){l.info(function(){if(l.g)if(N)for(var z="",ze=N.split("&"),Nt=0;Nt<ze.length;Nt++){var Ne=ze[Nt].split("=");if(1<Ne.length){var $t=Ne[0];Ne=Ne[1];var Ht=$t.split("_");z=2<=Ht.length&&Ht[1]=="type"?z+($t+"="+Ne+"&"):z+($t+"=redacted&")}}else z=null;else z=N;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+z})}function xk(l,h,p,y,A,N,z){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+N+" "+z})}function Gs(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ok(l,p)+(y?" "+y:"")})}function Pk(l,h){l.info(function(){return"TIMEOUT: "+h})}kc.prototype.info=function(){};function Ok(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var N=A[0];if(N!="noop"&&N!="stop"&&N!="close")for(var z=1;z<A.length;z++)A[z]=""}}}}return $m(p)}catch{return h}}var md={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},DI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wm;function yd(){}E(yd,Hm),yd.prototype.g=function(){return new XMLHttpRequest},yd.prototype.i=function(){return{}},Wm=new yd;function zi(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new Oc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new SI}function SI(){this.i=null,this.g="",this.h=!1}var TI={},Km={};function Ym(l,h,p){l.L=1,l.v=bd(ei(h)),l.m=p,l.P=!0,MI(l,null)}function MI(l,h){l.F=Date.now(),_d(l),l.A=ei(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),zI(p.i,"t",y),l.C=0,p=l.j.J,l.h=new SI,l.g=sD(l.j,p?h:null,!l.m),0<l.O&&(l.M=new Dk(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var A="readystatechange";Array.isArray(A)||(A&&(yI[0]=A.toString()),A=yI);for(var N=0;N<A.length;N++){var z=uI(p,A[N],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Rc(),Mk(l.i,l.u,l.A,l.l,l.R,l.m)}zi.prototype.ca=function(l){l=l.target;let h=this.M;h&&ti(l)==3?h.j():this.Y(l)},zi.prototype.Y=function(l){try{if(l==this.g)e:{let Ht=ti(this.g);var h=this.g.Ba();let Ys=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||YI(this.g)))){this.J||Ht!=4||h==7||(h==8||0>=Ys?Rc(3):Rc(2)),Qm(this);var p=this.g.Z();this.X=p;t:if(xI(this)){var y=YI(this.g);l="";var A=y.length,N=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fo(this),Fc(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==A-1)});y.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,xk(this.i,this.u,this.A,this.l,this.R,Ht,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Nt=this.g;if((ze=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var Ne=ze;break t}}Ne=null}if(p=Ne)Gs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zm(this,p);else{this.o=!1,this.s=3,en(12),Fo(this),Fc(this);break e}}if(this.P){p=!0;let tr;for(;!this.J&&this.C<z.length;)if(tr=Ak(this,z),tr==Km){Ht==4&&(this.s=4,en(14),p=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==TI){this.s=4,en(15),Gs(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Gs(this.i,this.l,tr,null),Zm(this,tr);if(xI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||z.length!=0||this.h.h||(this.s=1,en(16),p=!1),this.o=this.o&&p,!p)Gs(this.i,this.l,z,"[Invalid Chunked Response]"),Fo(this),Fc(this);else if(0<z.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),ry($t),$t.M=!0,en(11))}}else Gs(this.i,this.l,z,null),Zm(this,z);Ht==4&&Fo(this),this.o&&!this.J&&(Ht==4?nD(this.j,this):(this.o=!1,_d(this)))}else Yk(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Fo(this),Fc(this)}}}catch{}finally{}};function xI(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ak(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?Km:(p=Number(h.substring(p,y)),isNaN(p)?TI:(y+=1,y+p>h.length?Km:(h=h.slice(y,y+p),l.C=y+p,h)))}zi.prototype.cancel=function(){this.J=!0,Fo(this)};function _d(l){l.S=Date.now()+l.I,PI(l,l.I)}function PI(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Nc(g(l.ba,l),h)}function Qm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}zi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(Pk(this.i,this.A),this.L!=2&&(Rc(),en(17)),Fo(this),this.s=2,Fc(this)):PI(this,this.S-l)};function Fc(l){l.j.G==0||l.J||nD(l.j,l)}function Fo(l){Qm(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,_I(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Zm(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Jm(p.h,l))){if(!l.K&&Jm(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Sd(p),Id(p);else break e;ny(p),en(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=Nc(g(p.Za,p),6e3));if(1>=RI(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Vo(p,11)}else if((l.K||p.g==l)&&Sd(p),!H(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Ne=A[h];if(p.T=Ne[0],Ne=Ne[1],p.G==2)if(Ne[0]=="c"){p.K=Ne[1],p.ia=Ne[2];let $t=Ne[3];$t!=null&&(p.la=$t,p.j.info("VER="+p.la));let Ht=Ne[4];Ht!=null&&(p.Aa=Ht,p.j.info("SVER="+p.Aa));let Ys=Ne[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(y=1.5*Ys,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let tr=l.g;if(tr){let Md=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Md){var N=y.h;N.g||Md.indexOf("spdy")==-1&&Md.indexOf("quic")==-1&&Md.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Xm(N,N.h),N.h=null))}if(y.D){let iy=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;iy&&(y.ya=iy,Ke(y.I,y.D,iy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var z=l;if(y.qa=oD(y,y.J?y.ia:null,y.W),z.K){NI(y.h,z);var ze=z,Nt=y.L;Nt&&(ze.I=Nt),ze.B&&(Qm(ze),_d(ze)),y.g=z}else eD(y);0<p.i.length&&Dd(p)}else Ne[0]!="stop"&&Ne[0]!="close"||Vo(p,7);else p.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Vo(p,7):ty(p):Ne[0]!="noop"&&p.l&&p.l.ta(Ne),p.v=0)}}Rc(4)}catch{}}var Rk=class{constructor(l,h){this.g=l,this.map=h}};function OI(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AI(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function RI(l){return l.h?1:l.g?l.g.size:0}function Jm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Xm(l,h){l.g?l.g.add(h):l.h=h}function NI(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}OI.prototype.cancel=function(){if(this.i=kI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function kI(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return M(l.i)}function Nk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function kk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let y in l)h[p++]=y;return h}}}function FI(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=kk(l),y=Nk(l),A=y.length,N=0;N<A;N++)h.call(void 0,y[N],p&&p[N],l)}var LI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fk(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),A=null;if(0<=y){var N=l[p].substring(0,y);A=l[p].substring(y+1)}else N=l[p];h(N,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Lo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Lo){this.h=l.h,vd(this,l.j),this.o=l.o,this.g=l.g,Cd(this,l.s),this.l=l.l;var h=l.i,p=new jc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),VI(this,p),this.m=l.m}else l&&(h=String(l).match(LI))?(this.h=!1,vd(this,h[1]||"",!0),this.o=Lc(h[2]||""),this.g=Lc(h[3]||"",!0),Cd(this,h[4]),this.l=Lc(h[5]||"",!0),VI(this,h[6]||"",!0),this.m=Lc(h[7]||"")):(this.h=!1,this.i=new jc(null,this.h))}Lo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Vc(h,jI,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Vc(h,jI,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Vc(p,p.charAt(0)=="/"?jk:Vk,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Vc(p,Bk)),l.join("")};function ei(l){return new Lo(l)}function vd(l,h,p){l.j=p?Lc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Cd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function VI(l,h,p){h instanceof jc?(l.i=h,zk(l.i,l.h)):(p||(h=Vc(h,Uk)),l.i=new jc(h,l.h))}function Ke(l,h,p){l.i.set(h,p)}function bd(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Lc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,Lk),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Lk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jI=/[#\/\?@]/g,Vk=/[#\?:]/g,jk=/[#\?]/g,Uk=/[#\?@]/g,Bk=/#/g;function jc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function $i(l){l.g||(l.g=new Map,l.h=0,l.i&&Fk(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=jc.prototype,n.add=function(l,h){$i(this),this.i=null,l=Ws(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function UI(l,h){$i(l),h=Ws(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function BI(l,h){return $i(l),h=Ws(l,h),l.g.has(h)}n.forEach=function(l,h){$i(this),this.g.forEach(function(p,y){p.forEach(function(A){l.call(h,A,y,this)},this)},this)},n.na=function(){$i(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let A=l[y];for(let N=0;N<A.length;N++)p.push(h[y])}return p},n.V=function(l){$i(this);let h=[];if(typeof l=="string")BI(this,l)&&(h=h.concat(this.g.get(Ws(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return $i(this),this.i=null,l=Ws(this,l),BI(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function zI(l,h,p){UI(l,h),0<p.length&&(l.i=null,l.g.set(Ws(l,h),M(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var A=N;z[y]!==""&&(A+="="+encodeURIComponent(String(z[y]))),l.push(A)}}return this.i=l.join("&")};function Ws(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function zk(l,h){h&&!l.j&&($i(l),l.i=null,l.g.forEach(function(p,y){var A=y.toLowerCase();y!=A&&(UI(this,y),zI(this,A,p))},l)),l.j=h}function $k(l,h){let p=new kc;if(a.Image){let y=new Image;y.onload=m(Hi,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(Hi,p,"TestLoadImage: error",!1,h,y),y.onabort=m(Hi,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(Hi,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function Hk(l,h){let p=new kc,y=new AbortController,A=setTimeout(()=>{y.abort(),Hi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(A),N.ok?Hi(p,"TestPingServer: ok",!0,h):Hi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),Hi(p,"TestPingServer: error",!1,h)})}function Hi(l,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function qk(){this.g=new Tk}function Gk(l,h,p){let y=p||"";try{FI(l,function(A,N){let z=A;u(A)&&(z=$m(A)),h.push(y+N+"="+encodeURIComponent(z))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function Uc(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Uc,Hm),Uc.prototype.g=function(){return new wd(this.l,this.j)},Uc.prototype.i=function(l){return function(){return l}}({});function wd(l,h){zt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(wd,zt),n=wd.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,zc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,zc(this)),this.g&&(this.readyState=3,zc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$I(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function $I(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Bc(this):zc(this),this.readyState==3&&$I(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Bc(this))},n.Qa=function(l){this.g&&(this.response=l,Bc(this))},n.ga=function(){this.g&&Bc(this)};function Bc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,zc(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function zc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function HI(l){let h="";return he(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function ey(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=HI(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ke(l,h,p))}function ot(l){zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ot,zt);var Wk=/^https?$/i,Kk=["POST","PUT"];n=ot.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wm.g(),this.v=this.o?vI(this.o):vI(Wm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){qI(this,N);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),A=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Kk,h,void 0))||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,z]of p)this.g.setRequestHeader(N,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KI(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){qI(this,N)}};function qI(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,GI(l),Ed(l)}function GI(l){l.A||(l.A=!0,Xt(l,"complete"),Xt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Xt(this,"complete"),Xt(this,"abort"),Ed(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ed(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?WI(this):this.bb())},n.bb=function(){WI(this)};function WI(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ti(l)!=4||l.Z()!=2)){if(l.u&&ti(l)==4)gI(l.Ea,0,l);else if(Xt(l,"readystatechange"),ti(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=z===0){var A=String(l.D).match(LI)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!Wk.test(A?A.toLowerCase():"")}p=y}if(p)Xt(l,"complete"),Xt(l,"success");else{l.m=6;try{var N=2<ti(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",GI(l)}}finally{Ed(l)}}}}function Ed(l,h){if(l.g){KI(l);let p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Xt(l,"ready");try{p.onreadystatechange=y}catch{}}}function KI(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ti(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Sk(h)}};function YI(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yk(l){let h={};l=(l.g&&2<=ti(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(H(l[y]))continue;var p=O(l[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[A]||[];h[A]=N,N.push(p)}S(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $c(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function QI(l){this.Aa=0,this.i=[],this.j=new kc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$c("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$c("baseRetryDelayMs",5e3,l),this.cb=$c("retryDelaySeedMs",1e4,l),this.Wa=$c("forwardChannelMaxRetries",2,l),this.wa=$c("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new OI(l&&l.concurrentRequestLimit),this.Da=new qk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=QI.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,y){en(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=oD(this,null,this.W),Dd(this)};function ty(l){if(ZI(l),l.G==3){var h=l.U++,p=ei(l.I);if(Ke(p,"SID",l.K),Ke(p,"RID",h),Ke(p,"TYPE","terminate"),Hc(l,p),h=new zi(l,l.j,h),h.L=2,h.v=bd(ei(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=sD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),_d(h)}iD(l)}function Id(l){l.g&&(ry(l),l.g.cancel(),l.g=null)}function ZI(l){Id(l),l.u&&(a.clearTimeout(l.u),l.u=null),Sd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Dd(l){if(!AI(l.h)&&!l.s){l.s=!0;var h=l.Ga;Z||lt(),te||(Z(),te=!0),Se.add(h,l),l.B=0}}function Qk(l,h){return RI(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Nc(g(l.Ga,l,h),rD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let A=new zi(this,this.j,l),N=this.o;if(this.S&&(N?(N=b(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(A.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=XI(this,A,h),p=ei(this.I),Ke(p,"RID",l),Ke(p,"CVER",22),this.D&&Ke(p,"X-HTTP-Session-Id",this.D),Hc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(HI(N)))+"&"+h:this.m&&ey(p,this.m,N)),Xm(this.h,A),this.Ua&&Ke(p,"TYPE","init"),this.P?(Ke(p,"$req",h),Ke(p,"SID","null"),A.T=!0,Ym(A,p,null)):Ym(A,p,h),this.G=2}}else this.G==3&&(l?JI(this,l):this.i.length==0||AI(this.h)||JI(this))};function JI(l,h){var p;h?p=h.l:p=l.U++;let y=ei(l.I);Ke(y,"SID",l.K),Ke(y,"RID",p),Ke(y,"AID",l.T),Hc(l,y),l.m&&l.o&&ey(y,l.m,l.o),p=new zi(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=XI(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Xm(l.h,p),Ym(p,y,h)}function Hc(l,h){l.H&&he(l.H,function(p,y){Ke(h,y,p)}),l.l&&FI({},function(p,y){Ke(h,y,p)})}function XI(l,h,p){p=Math.min(l.i.length,p);var y=l.l?g(l.l.Na,l.l,l):null;e:{var A=l.i;let N=-1;for(;;){let z=["count="+p];N==-1?0<p?(N=A[0].g,z.push("ofs="+N)):N=0:z.push("ofs="+N);let ze=!0;for(let Nt=0;Nt<p;Nt++){let Ne=A[Nt].g,$t=A[Nt].map;if(Ne-=N,0>Ne)N=Math.max(0,A[Nt].g-100),ze=!1;else try{Gk($t,z,"req"+Ne+"_")}catch{y&&y($t)}}if(ze){y=z.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function eD(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Z||lt(),te||(Z(),te=!0),Se.add(h,l),l.v=0}}function ny(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Nc(g(l.Fa,l),rD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,tD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nc(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Id(this),tD(this))};function ry(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function tD(l){l.g=new zi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=ei(l.qa);Ke(h,"RID","rpc"),Ke(h,"SID",l.K),Ke(h,"AID",l.T),Ke(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(h,"TO",l.ja),Ke(h,"TYPE","xmlhttp"),Hc(l,h),l.m&&l.o&&ey(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=bd(ei(h)),p.m=null,p.P=!0,MI(p,l)}n.Za=function(){this.C!=null&&(this.C=null,Id(this),ny(this),en(19))};function Sd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function nD(l,h){var p=null;if(l.g==h){Sd(l),ry(l),l.g=null;var y=2}else if(Jm(l.h,h))p=h.D,NI(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=l.B;y=gd(),Xt(y,new II(y,p)),Dd(l)}else eD(l);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&Qk(l,h)||y==2&&ny(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),A){case 1:Vo(l,5);break;case 4:Vo(l,10);break;case 3:Vo(l,6);break;default:Vo(l,2)}}}function rD(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Vo(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),y=l.Xa;let A=!y;y=new Lo(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vd(y,"https"),bd(y),A?$k(y.toString(),p):Hk(y.toString(),p)}else en(2);l.G=0,l.l&&l.l.sa(h),iD(l),ZI(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function iD(l){if(l.G=0,l.ka=[],l.l){let h=kI(l.h);(h.length!=0||l.i.length!=0)&&(P(l.ka,h),P(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function oD(l,h,p){var y=p instanceof Lo?ei(p):new Lo(p);if(y.g!="")h&&(y.g=h+"."+y.g),Cd(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var N=new Lo(null);y&&vd(N,y),h&&(N.g=h),A&&Cd(N,A),p&&(N.l=p),y=N}return p=l.D,h=l.ya,p&&h&&Ke(y,p,h),Ke(y,"VER",l.la),Hc(l,y),y}function sD(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ot(new Uc({eb:p})):new ot(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function aD(){}n=aD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Td(){}Td.prototype.g=function(l,h){return new In(l,h)};function In(l,h){zt.call(this),this.g=new QI(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!H(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ks(this)}E(In,zt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){ty(this.g)},In.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=$m(l),l=p);h.i.push(new Rk(h.Ya++,l)),h.G==3&&Dd(h)},In.prototype.N=function(){this.g.l=null,delete this.j,ty(this.g),delete this.g,In.aa.N.call(this)};function cD(l){qm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(cD,qm);function lD(){Gm.call(this),this.status=1}E(lD,Gm);function Ks(l){this.g=l}E(Ks,aD),Ks.prototype.ua=function(){Xt(this.g,"a")},Ks.prototype.ta=function(l){Xt(this.g,new cD(l))},Ks.prototype.sa=function(l){Xt(this.g,new lD)},Ks.prototype.ra=function(){Xt(this.g,"b")},Td.prototype.createWebChannel=Td.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,db=Mi.createWebChannelTransport=function(){return new Td},ub=Mi.getStatEventTarget=function(){return gd()},lb=Mi.Event=ko,rg=Mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},md.NO_ERROR=0,md.TIMEOUT=8,md.HTTP_ERROR=6,Au=Mi.ErrorCode=md,DI.COMPLETE="complete",cb=Mi.EventType=DI,CI.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",zt.prototype.listen=zt.prototype.K,nc=Mi.WebChannel=CI,W6=Mi.FetchXmlHttpFactory=Uc,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,ab=Mi.XhrIo=ot}).apply(typeof ng<"u"?ng:typeof self<"u"?self:typeof window<"u"?window:{});var Q1="@firebase/firestore",Z1="4.8.0";var At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");var wc="11.10.0";var Ns=new mo("@firebase/firestore");function rc(){return Ns.logLevel}function W(n,...e){if(Ns.logLevel<=Te.DEBUG){let t=e.map(Xw);Ns.debug(`Firestore (${wc}): ${n}`,...t)}}function xi(n,...e){if(Ns.logLevel<=Te.ERROR){let t=e.map(Xw);Ns.error(`Firestore (${wc}): ${n}`,...t)}}function wo(n,...e){if(Ns.logLevel<=Te.WARN){let t=e.map(Xw);Ns.warn(`Firestore (${wc}): ${n}`,...t)}}function Xw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$A(n,r,t)}function $A(n,e,t){let r=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw xi(r),new Error(r)}function je(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||$A(e,i,r)}function fe(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ug=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},mb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(At.UNAUTHENTICATED))}shutdown(){}},yb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},_b=class{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new br,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new br)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new ug(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new At(e)}},vb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Cb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new vb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bb=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function K6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function HA(){return new TextEncoder}var Vu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=K6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function wb(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return we(r,i);{let o=HA(),s=Y6(o.encode(J1(n,t)),o.encode(J1(e,t)));return s!==0?s:we(r,i)}}t+=r>65535?2:1}return we(n.length,e.length)}function J1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Y6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return we(n[t],e[t]);return we(n.length,e.length)}function uc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var X1="__name__",hg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return we(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):wb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}},Je=class n extends hg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rn=class n extends hg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Q6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X1}static keyField(){return new n([X1])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(Je.fromString(e))}static fromName(e){return new n(Je.fromString(e).popFirst(5))}static empty(){return new n(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Je(e.slice()))}};function qA(n,e,t){if(!t)throw new $(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z6(n,e,t,r){if(e===!0&&r===!0)throw new $(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eA(n){if(!re.isDocumentKey(n))throw new $(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tA(n){if(re.isDocumentKey(n))throw new $(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function En(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Hg(n);throw new $(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Et(n,e){let t={typeString:n};return e&&(t.value=e),t}function Xu(n,e){if(!GA(n))throw new $(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(F.INVALID_ARGUMENT,t);return!0}var nA=-62135596800,rA=1e6,It=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*rA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nA)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rA}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-nA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Et("string",It._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};var me=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new It(0,0))}static max(){return new n(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ju=-1,Eb=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Eb.UNKNOWN_ID=-1;function J6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new ks(i,re.empty(),e)}function X6(n){return new ks(n.readTime,n.key,ju)}var ks=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(me.min(),re.empty(),ju)}static max(){return new n(me.max(),re.empty(),ju)}};function ez(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var tz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ib=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ec(n){return C(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==tz)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function nz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ic(n){return n.name==="IndexedDbTransactionError"}var eE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),tE=-1;function qg(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function rz(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var WA="";function iz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iA(e)),e=oz(n.get(t),e);return iA(e)}function oz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case WA:t+="";break;default:t+=o}}return t}function iA(n){return n+WA+""}var sz="remoteDocuments",KA="owner";var YA="mutationQueues";var QA="mutations";var ZA="documentMutations",az="remoteDocumentsV14";var JA="remoteDocumentGlobal";var XA="targets";var eR="targetDocuments";var tR="targetGlobal",nR="collectionParents";var rR="clientMetadata";var iR="bundles";var oR="namedQueries";var cz="indexConfiguration";var lz="indexState";var uz="indexEntries";var sR="documentOverlays";var dz="globals";var hz=[YA,QA,ZA,sz,XA,KA,tR,eR,rR,JA,nR,iR,oR],Iae=[...hz,sR],fz=[YA,QA,ZA,az,XA,KA,tR,eR,rR,JA,nR,iR,oR,sR],pz=fz,gz=[...pz,cz,lz,uz];var Dae=[...gz,dz];function oA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ct=class n{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}},ac=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$r=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new $r(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class n{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fg(this.data.getIterator())}getIteratorFrom(e){return new fg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},fg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zn=class n{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Rt(Rn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var pg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Jt.EMPTY_BYTE_STRING=new Jt("");var mz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(je(!!n,39018),typeof n=="string"){let e=0,t=mz.exec(n);if(je(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oi(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}var cR="server_timestamp",lR="__type__",uR="__previous_value__",dR="__local_write_time__";function nE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lR])===null||t===void 0?void 0:t.stringValue)===cR}function Gg(n){let e=n.mapValue.fields[uR];return nE(e)?Gg(e):e}function Bu(n){let e=Pi(n.mapValue.fields[dR].timestampValue);return new It(e.seconds,e.nanos)}var Db=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},gg="(default)",mg=class n{constructor(e,t){this.projectId=e,this.database=t||gg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===gg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rE="__type__",hR="__max__",ig={mapValue:{fields:{__type__:{stringValue:hR}}}},iE="__vector__",dc="value";function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nE(n)?4:pR(n)?9007199254740991:fR(n)?10:11:oe(28295,{value:n})}function Wr(n,e){if(n===e)return!0;let t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pi(i.timestampValue),a=Pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Oi(i.bytesValue).isEqual(Oi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?Uu(s)===Uu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return uc(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(oA(s)!==oA(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wr(s[c],a[c])))return!1;return!0}(n,e);default:return oe(52216,{left:n})}}function zu(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function hc(n,e){if(n===e)return 0;let t=Eo(n),r=Eo(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ze(o.integerValue||o.doubleValue),c=Ze(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return sA(n.timestampValue,e.timestampValue);case 4:return sA(Bu(n),Bu(e));case 5:return wb(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Oi(o),c=Oi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=we(a[u],c[u]);if(d!==0)return d}return we(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(Ze(o.latitude),Ze(s.latitude));return a!==0?a:we(Ze(o.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return aA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},g=s.fields||{},m=(a=f[dc])===null||a===void 0?void 0:a.arrayValue,E=(c=g[dc])===null||c===void 0?void 0:c.arrayValue,M=we(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:aA(m,E)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ig.mapValue&&s===ig.mapValue)return 0;if(o===ig.mapValue)return 1;if(s===ig.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=wb(c[f],d[f]);if(g!==0)return g;let m=hc(a[c[f]],u[d[f]]);if(m!==0)return m}return we(c.length,d.length)}(n.mapValue,e.mapValue);default:throw oe(23264,{le:t})}}function sA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=Pi(n),r=Pi(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function aA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=hc(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function fc(n){return Sb(n)}function Sb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Pi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Sb(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Sb(t.fields[s])}`;return i+"}"}(n.mapValue):oe(61005,{value:n})}function ag(n){switch(Eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gg(n);return e?16+ag(e):16;case 5:return 2*n.stringValue.length;case 6:return Oi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ag(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Mo(r.fields,(o,s)=>{i+=o.length+ag(s)}),i}(n.mapValue);default:throw oe(13486,{value:n})}}function cA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tb(n){return!!n&&"integerValue"in n}function oE(n){return!!n&&"arrayValue"in n}function lA(n){return!!n&&"nullValue"in n}function uA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cg(n){return!!n&&"mapValue"in n}function fR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rE])===null||t===void 0?void 0:t.stringValue)===iE}function Nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Mo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hR}var Tae={mapValue:{fields:{[rE]:{stringValue:iE},[dc]:{arrayValue:{}}}}};var An=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(t)}setAll(e){let t=Rn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Nu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());cg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Mo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Nu(this.value))}};function gR(n){let e=[];return Mo(n.fields,(t,r)=>{let i=new Rn([t]);if(cg(r)){let o=gR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zn(e)}var wr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,me.min(),me.min(),me.min(),An.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,me.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,me.min(),me.min(),An.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,me.min(),me.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pc=class{constructor(e,t){this.position=e,this.inclusive=t}};function dA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),t.key):r=hc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}var Fs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function yz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var yg=class{},wt=class n extends yg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xb(e,t,r):t==="array-contains"?new Ab(e,r):t==="in"?new Rb(e,r):t==="not-in"?new Nb(e,r):t==="array-contains-any"?new kb(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Pb(e,r):new Ob(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hc(t,this.value)):t!==null&&Eo(this.value)===Eo(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Er=class n extends yg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return mR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function mR(n){return n.op==="and"}function yR(n){return _z(n)&&mR(n)}function _z(n){for(let e of n.filters)if(e instanceof Er)return!1;return!0}function Mb(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+fc(n.value);if(yR(n))return n.filters.map(e=>Mb(e)).join(",");{let e=n.filters.map(t=>Mb(t)).join(",");return`${n.op}(${e})`}}function _R(n,e){return n instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(n,e):n instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_R(s,i.filters[a]),!0):!1}(n,e):void oe(19439)}function vR(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${fc(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(vR).join(" ,")+"}"}(n):"Filter"}var xb=class extends wt{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},Pb=class extends wt{constructor(e,t){super(e,"in",t),this.keys=CR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Ob=class extends wt{constructor(e,t){super(e,"not-in",t),this.keys=CR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function CR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>re.fromName(r.referenceValue))}var Ab=class extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oE(t)&&zu(t.arrayValue,this.value)}},Rb=class extends wt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}},Nb=class extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}},kb=class extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}};var Fb=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function fA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Fb(n,e,t,r,i,o,s)}function sE(n){let e=fe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Mb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fc(r)).join(",")),e.Pe=t}return e.Pe}function aE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_R(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hA(n.startAt,e.startAt)&&hA(n.endAt,e.endAt)}function Lb(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Io=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function vz(n,e,t,r,i,o,s,a){return new Io(n,e,t,r,i,o,s,a)}function Wg(n){return new Io(n)}function pA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bR(n){return n.collectionGroup!==null}function ku(n){let e=fe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(Rn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Fs(o,r))}),t.has(Rn.keyField().canonicalString())||e.Te.push(new Fs(Rn.keyField(),r))}return e.Te}function Hr(n){let e=fe(n);return e.Ie||(e.Ie=Cz(e,ku(n))),e.Ie}function Cz(n,e){if(n.limitType==="F")return fA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Fs(i.field,o)});let t=n.endAt?new pc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pc(n.startAt.position,n.startAt.inclusive):null;return fA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vb(n,e){let t=n.filters.concat([e]);return new Io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jb(n,e,t){return new Io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kg(n,e){return aE(Hr(n),Hr(e))&&n.limitType===e.limitType}function wR(n){return`${sE(Hr(n))}|lt:${n.limitType}`}function ic(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>vR(i)).join(", ")}]`),qg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(Hr(n))}; limitType=${n.limitType})`}function Yg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of ku(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=dA(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,ku(r),i)||r.endAt&&!function(s,a,c){let u=dA(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,ku(r),i))}(n,e)}function bz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ER(n){return(e,t)=>{let r=!1;for(let i of ku(n)){let o=wz(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wz(n,e,t){let r=n.field.isKeyField()?re.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?hc(c,u):oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var Ai=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return aR(this.inner)}size(){return this.innerSize}};var Ez=new ct(re.comparator);function Ri(){return Ez}var IR=new ct(re.comparator);function Ru(...n){let e=IR;for(let t of n)e=e.insert(t.key,t);return e}function DR(n){let e=IR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xs(){return Fu()}function SR(){return Fu()}function Fu(){return new Ai(n=>n.toString(),(n,e)=>n.isEqual(e))}var Iz=new ct(re.comparator),Dz=new Rt(re.comparator);function Oe(...n){let e=Dz;for(let t of n)e=e.add(t);return e}var Sz=new Rt(we);function Tz(){return Sz}function cE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function TR(n){return{integerValue:""+n}}function Mz(n,e){return rz(e)?TR(e):cE(n,e)}var gc=class{constructor(){this._=void 0}};function xz(n,e,t){return n instanceof mc?function(i,o){let s={fields:{[lR]:{stringValue:cR},[dR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nE(o)&&(o=Gg(o)),o&&(s.fields[uR]=o),{mapValue:s}}(t,e):n instanceof Ls?xR(n,e):n instanceof Vs?PR(n,e):function(i,o){let s=MR(i,o),a=gA(s)+gA(i.Ee);return Tb(s)&&Tb(i.Ee)?TR(a):cE(i.serializer,a)}(n,e)}function Pz(n,e,t){return n instanceof Ls?xR(n,e):n instanceof Vs?PR(n,e):t}function MR(n,e){return n instanceof yc?function(r){return Tb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var mc=class extends gc{},Ls=class extends gc{constructor(e){super(),this.elements=e}};function xR(n,e){let t=OR(e);for(let r of n.elements)t.some(i=>Wr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Vs=class extends gc{constructor(e){super(),this.elements=e}};function PR(n,e){let t=OR(e);for(let r of n.elements)t=t.filter(i=>!Wr(i,r));return{arrayValue:{values:t}}}var yc=class extends gc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function gA(n){return Ze(n.integerValue||n.doubleValue)}function OR(n){return oE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Oz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ls&&i instanceof Ls||r instanceof Vs&&i instanceof Vs?uc(r.elements,i.elements,Wr):r instanceof yc&&i instanceof yc?Wr(r.Ee,i.Ee):r instanceof mc&&i instanceof mc}(n.transform,e.transform)}var Ub=class{constructor(e,t){this.version=e,this.transformResults=t}},qr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _c=class{};function AR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $u(n.key,qr.none()):new js(n.key,n.data,qr.none());{let t=n.data,r=An.empty(),i=new Rt(Rn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Kr(n.key,r,new Zn(i.toArray()),qr.none())}}function Az(n,e,t){n instanceof js?function(i,o,s){let a=i.value.clone(),c=yA(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Kr?function(i,o,s){if(!lg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=yA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(RR(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Lu(n,e,t,r){return n instanceof js?function(o,s,a,c){if(!lg(o.precondition,s))return a;let u=o.value.clone(),d=_A(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Kr?function(o,s,a,c){if(!lg(o.precondition,s))return a;let u=_A(o.fieldTransforms,c,s),d=s.data;return d.setAll(RR(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return lg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Rz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=MR(r.transform,i||null);o!=null&&(t===null&&(t=An.empty()),t.set(r.field,o))}return t||null}function mA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uc(r,i,(o,s)=>Oz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var js=class extends _c{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kr=class extends _c{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function RR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function yA(n,e,t){let r=new Map;je(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Pz(s,a,t[i]))}return r}function _A(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,xz(o,s,e))}return r}var $u=class extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Bb=class extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zb=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Az(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=SR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=AR(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(t,r)=>mA(t,r))&&uc(this.baseMutations,e.baseMutations,(t,r)=>mA(t,r))}},$b=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){je(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Iz}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Hb=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var qb=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ct,Re;function Nz(n){switch(n){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function NR(n){if(n===void 0)return xi("GRPC error has no .code"),F.UNKNOWN;switch(n){case Ct.OK:return F.OK;case Ct.CANCELLED:return F.CANCELLED;case Ct.UNKNOWN:return F.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return F.INTERNAL;case Ct.UNAVAILABLE:return F.UNAVAILABLE;case Ct.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ct.NOT_FOUND:return F.NOT_FOUND;case Ct.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ct.ABORTED:return F.ABORTED;case Ct.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ct.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:n})}}(Re=Ct||(Ct={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var vA=null;var kz=new Ti([4294967295,4294967295],0);function CA(n){let e=HA().encode(n),t=new sb;return t.update(e),new Uint8Array(t.digest())}function bA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ti([t,r],0),new Ti([i,o],0)]}var Gb=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ps(`Invalid padding: ${t}`);if(r<0)throw new Ps(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ps(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ps(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ti.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Ti.fromNumber(r)));return i.compare(kz)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=CA(e),[r,i]=bA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=CA(e),[r,i]=bA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ps=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _g=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(me.min(),i,new ct(we),Ri(),Oe())}},Hu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Oe(),Oe(),Oe())}};var cc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},vg=class{constructor(e,t){this.targetId=e,this.De=t}},Cg=class{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},bg=class{constructor(){this.ve=0,this.Ce=wA(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Oe(),t=Oe(),r=Oe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new Hu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=wA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Wb=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ri(),this.je=og(),this.Je=og(),this.He=new ct(we)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Lb(o))if(r===0){let s=new re(o.path);this.Xe(t,s,wr.newNoDocument(s,me.min()))}else je(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}vA?.ct(function(d,f,g,m,E){var M,P,k,H,G,Q;let Fe={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},he=f.unchangedNames;return he&&(Fe.bloomFilter={applied:E===0,hashCount:(M=he?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(H=(k=(P=he?.bits)===null||P===void 0?void 0:P.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(Q=(G=he?.bits)===null||G===void 0?void 0:G.padding)!==null&&Q!==void 0?Q:0,mightContain:S=>{var b;return(b=m?.mightContain(S))!==null&&b!==void 0&&b}}),Fe}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Oi(r).toUint8Array()}catch(c){if(c instanceof pg)return wo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Gb(s,i,o)}catch(c){return wo(c instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Lb(a.target)){let c=new re(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,wr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Oe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new _g(e,t,this.He,this.ze,r);return this.ze=Ri(),this.je=og(),this.Je=og(),this.He=new ct(we),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new bg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Rt(we),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Rt(we),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new bg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function og(){return new ct(re.comparator)}function wA(){return new ct(re.comparator)}var Fz={asc:"ASCENDING",desc:"DESCENDING"},Lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vz={and:"AND",or:"OR"},Kb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Yb(n,e){return n.useProto3Json||qg(e)?e:{value:e}}function wg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jz(n,e){return wg(n,e.toTimestamp())}function Gr(n){return je(!!n,49232),me.fromTimestamp(function(t){let r=Pi(t);return new It(r.seconds,r.nanos)}(n))}function lE(n,e){return Qb(n,e).canonicalString()}function Qb(n,e){let t=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function FR(n){let e=Je.fromString(n);return je(BR(e),10190,{key:e.toString()}),e}function Zb(n,e){return lE(n.databaseId,e.path)}function hb(n,e){let t=FR(e);if(t.get(1)!==n.databaseId.projectId)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(VR(t))}function LR(n,e){return lE(n.databaseId,e)}function Uz(n){let e=FR(n);return e.length===4?Je.emptyPath():VR(e)}function Jb(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VR(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function EA(n,e,t){return{name:Zb(n,e),fields:t.value.mapValue.fields}}function Bz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(je(d===void 0||typeof d=="string",58123),Jt.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Jt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?F.UNKNOWN:NR(u.code);return new $(d,u.message||"")}(s);t=new Cg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=hb(n,r.document.name),o=Gr(r.document.updateTime),s=r.document.createTime?Gr(r.document.createTime):me.min(),a=new An({mapValue:{fields:r.document.fields}}),c=wr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new cc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=hb(n,r.document),o=r.readTime?Gr(r.readTime):me.min(),s=wr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new cc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=hb(n,r.document),o=r.removedTargetIds||[];t=new cc([],o,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new qb(i,o),a=r.targetId;t=new vg(a,s)}}return t}function zz(n,e){let t;if(e instanceof js)t={update:EA(n,e.key,e.value)};else if(e instanceof $u)t={delete:Zb(n,e.key)};else if(e instanceof Kr)t={update:EA(n,e.key,e.data),updateMask:Zz(e.fieldMask)};else{if(!(e instanceof Bb))return oe(16599,{Rt:e.type});t={verify:Zb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof mc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(n,e.precondition)),t}function $z(n,e){return n&&n.length>0?(je(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Gr(i.updateTime):Gr(o);return s.isEqual(me.min())&&(s=Gr(o)),new Ub(s,i.transformResults||[])}(t,e))):[]}function Hz(n,e){return{documents:[LR(n,e.path)]}}function qz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=LR(n,i);let o=function(u){if(u.length!==0)return UR(Er.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:oc(g.field),direction:Kz(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Yb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function Gz(n){let e=Uz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){je(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let g=jR(f);return g instanceof Er&&yR(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(g=>function(E){return new Fs(sc(E.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,qg(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,m=f.values||[];return new pc(m,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,m=f.values||[];return new pc(m,g)}(t.endAt)),vz(e,i,s,o,a,"F",c,u)}function Wz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=sc(t.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=sc(t.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=sc(t.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=sc(t.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return wt.create(sc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(r=>jR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(t.compositeFilter.op))}(n):oe(30097,{filter:n})}function Kz(n){return Fz[n]}function Yz(n){return Lz[n]}function Qz(n){return Vz[n]}function oc(n){return{fieldPath:n.canonicalString()}}function sc(n){return Rn.fromServerFormat(n.fieldPath)}function UR(n){return n instanceof wt?function(t){if(t.op==="=="){if(uA(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NAN"}};if(lA(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uA(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NAN"}};if(lA(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(t.field),op:Yz(t.op),value:t.value}}}(n):n instanceof Er?function(t){let r=t.getFilters().map(i=>UR(i));return r.length===1?r[0]:{compositeFilter:{op:Qz(t.op),filters:r}}}(n):oe(54877,{filter:n})}function Zz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var qu=class n{constructor(e,t,r,i,o=me.min(),s=me.min(),a=Jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Xb=class{constructor(e){this.gt=e}};function Jz(n){let e=Gz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jb(e,e.limit,"L"):e}var Eg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Uu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Pi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Oi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?pR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):fR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):oe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=dc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ze(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),re.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Eg.Ut=new Eg;var ew=class{constructor(){this.Dn=new tw}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(ks.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},tw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(Je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Je.comparator)).toArray()}};var Mae=new Uint8Array(0);var IA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zR=41943040,Qn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(zR,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);var Gu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var DA="LruGarbageCollector",Xz=1048576;function SA([n,e],[t,r]){let i=we(n,t);return i===0?we(e,r):i}var nw=class{constructor(e){this.Tr=e,this.buffer=new Rt(SA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();SA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},rw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){W(DA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ic(t)?W(DA,"Ignoring IndexedDB error during garbage collection: ",t):yield Ec(t)}yield this.Rr(3e5)}))}},iw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(eE.ue);let r=new nw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(IA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),rc()<=Te.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function e$(n,e){return new iw(n,e)}var ow=class{constructor(){this.changes=new Ai(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var aw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Lu(r.mutation,i,Zn.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Oe()){let i=xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ru();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Oe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ri(),s=Fu(),a=function(){return Fu()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Kr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Lu(d.mutation,u,d.mutation.getFieldMask(),It.now())):s.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new sw(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Fu(),i=new ct((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Zn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Oe()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=SR();d.forEach(g=>{if(!o.has(g)){let m=AR(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(xs()),a=ju,c=o;return s.next(u=>V.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Oe())).next(d=>({batchId:a,changes:DR(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(r=>{let i=Ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ru();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,c=>{let u=function(f,g){return new Io(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,wr.newInvalidDocument(d)))});let a=Ru();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Lu(d.mutation,u,Zn.empty(),It.now()),Yg(t,u)&&(a=a.insert(c,u))}),a})}};var cw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Jz(i.bundledQuery),readTime:Gr(i.readTime)}}(t)),V.resolve()}};var lw=class{constructor(){this.overlays=new ct(re.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xs();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=xs(),o=t.length+1,s=new re(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ct((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=xs(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=xs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Hb(t,r));let o=this.kr.get(t);o===void 0&&(o=Oe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var uw=class{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Wu=class{constructor(){this.qr=new Rt(bt.Qr),this.$r=new Rt(bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new bt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new bt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new re(new Je([])),r=new bt(t,e),i=new bt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new re(new Je([])),r=new bt(t,e),i=new bt(t,e+1),o=Oe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new bt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},bt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return re.comparator(e.key,t.key)||we(e.Hr,t.Hr)}static Ur(e,t){return we(e.Hr,t.Hr)||re.comparator(e.key,t.key)}};var dw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Rt(bt.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zb(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new bt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?tE:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new bt(t,0),i=new bt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(we);return t.forEach(i=>{let o=new bt(i,0),s=new bt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new bt(new re(o),0),a=new Rt(we);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){je(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let o=new bt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new bt(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var hw=class{constructor(e){this.ni=e,this.docs=function(){return new ct(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wr.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ri(),s=t.path,a=new re(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||ez(X6(d),r)<=0||(i.has(d.key)||Yg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fw(this)}getSize(e){return V.resolve(this.size)}},fw=class extends ow{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var pw=class{constructor(e){this.persistence=e,this.ii=new Ai(t=>sE(t),aE),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.si=0,this.oi=new Wu,this.targetCount=0,this._i=Gu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Gu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var Ig=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new eE(0),this.ci=!1,this.ci=!0,this.li=new uw,this.referenceDelegate=e(this),this.hi=new pw(this),this.indexManager=new ew,this.remoteDocumentCache=function(i){return new hw(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Xb(t),this.Ti=new cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new dw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new gw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},gw=class extends Ib{constructor(e){super(),this.currentSequenceNumber=e}},mw=class n{constructor(e){this.persistence=e,this.Ai=new Wu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=re.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,me.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Dg=class n{constructor(e,t){this.persistence=e,this.gi=new Ai(r=>iz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=e$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,me.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ag(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var yw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Oe(),i=Oe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var _w=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return P1()?8:nz(Ot())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new _w;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(rc()<=Te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ic(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(rc()<=Te.DEBUG&&W("QueryEngine","Query:",ic(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(rc()<=Te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ic(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):V.resolve())}ps(e,t){if(pA(t))return V.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=jb(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Oe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,jb(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return pA(t)||i.isEqual(me.min())?V.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?V.resolve(null):(rc()<=Te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(t)),this.vs(e,s,t,J6(i,ju)).next(a=>a))})}bs(e,t){let r=new Rt(ER(e));return t.forEach((i,o)=>{Yg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return rc()<=Te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ic(t)),this.gs.getDocumentsMatchingQuery(e,t,ks.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var uE="LocalStore",t$=3e8,Cw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ct(we),this.Ms=new Ai(o=>sE(o),aE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function n$(n,e,t,r){return new Cw(n,e,t,r)}function $R(n,e){return C(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Oe();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function r$(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),m=V.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(M=>{let P=u.docVersions.get(E);je(P!==null,48541),M.version.compareTo(P)<0&&(f.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),d.addEntry(M)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function HR(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function i$(n,e){let t=fe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Jt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(M,P,k){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=t$?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=Ri(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(o$(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(me.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function o$(n,e,t){let r=Oe(),i=Oe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ri();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(uE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function s$(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new qu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function bw(n,e,t){return C(this,null,function*(){let r=fe(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ic(s))throw s;W(uE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function TA(n,e,t){let r=fe(n),i=me.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=fe(c),g=f.Ms.get(d);return g!==void 0?V.resolve(f.Fs.get(g)):f.hi.getTargetData(u,d)}(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:me.min(),t?o:Oe())).next(a=>(c$(r,bz(e),a),{documents:a,qs:o})))}function c$(n,e,t){let r=n.xs.get(e)||me.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Sg=class{constructor(){this.activeTargetIds=Tz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ww=class{constructor(){this.Fo=new Sg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ew=class{xo(e){}shutdown(){}};var MA="ConnectivityMonitor",Tg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){W(MA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){W(MA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sg=null;function Iw(){return sg===null?sg=function(){return 268435456+Math.round(2147483648*Math.random())}():sg++,"0x"+sg.toString(16)}var fb="RestConnection",l$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Dw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Iw(),a=this.Go(e,t.toUriEncodedString());W(fb,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=Vr(u);return this.jo(e,a,c,r,d).then(f=>(W(fb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw wo(fb,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=l$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Sw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Zt="WebChannelConnection",Tw=class extends Dw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Iw();return new Promise((a,c)=>{let u=new ab;u.setWithCredentials(!0),u.listenOnce(cb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Au.NO_ERROR:let f=u.getResponseJson();W(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Au.TIMEOUT:W(Zt,`RPC '${e}' ${s} timed out`),c(new $(F.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:let g=u.getStatus();if(W(Zt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let M=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(H)>=0?H:F.UNKNOWN}(E.status);c(new $(M,E.message))}else c(new $(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{W(Zt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);W(Zt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=Iw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=db(),a=ub(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");W(Zt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,E=new Sw({Ho:P=>{m?W(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(W(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),W(Zt,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},Yo:()=>f.close()}),M=(P,k,H)=>{P.listen(k,G=>{try{H(G)}catch(Q){setTimeout(()=>{throw Q},0)}})};return M(f,nc.EventType.OPEN,()=>{m||(W(Zt,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),M(f,nc.EventType.CLOSE,()=>{m||(m=!0,W(Zt,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),M(f,nc.EventType.ERROR,P=>{m||(m=!0,wo(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),E.__(new $(F.UNAVAILABLE,"The operation could not be completed")))}),M(f,nc.EventType.MESSAGE,P=>{var k;if(!m){let H=P.data[0];je(!!H,16349);let G=H,Q=G?.error||((k=G[0])===null||k===void 0?void 0:k.error);if(Q){W(Zt,`RPC '${e}' stream ${i} received error:`,Q);let Fe=Q.status,he=function(I){let T=Ct[I];if(T!==void 0)return NR(T)}(Fe),S=Q.message;he===void 0&&(he=F.INTERNAL,S="Unknown error status: "+Fe+" with message "+Q.message),m=!0,E.__(new $(he,S)),f.close()}else W(Zt,`RPC '${e}' stream ${i} received:`,H),E.a_(H)}}),M(a,lb.STAT_EVENT,P=>{P.stat===rg.PROXY?W(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===rg.NOPROXY&&W(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function pb(){return typeof document<"u"?document:null}function Qg(n){return new Kb(n,!0)}var Mg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var xA="PersistentStream",xg=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Mg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return W(xA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(W(xA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mw=class extends xg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Bz(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?Gr(s.readTime):me.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Jb(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Lb(c)?{documents:Hz(o,c)}:{query:qz(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kR(o,s.resumeToken);let u=Yb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=wg(o,s.snapshotVersion.toTimestamp());let u=Yb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Wz(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Jb(this.serializer),t.removeTarget=e,this.k_(t)}},xw=class extends xg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=$z(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Jb(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>zz(this.serializer,r))};this.k_(t)}};var Pw=class{},Ow=class extends Pw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Qb(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(F.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Qb(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(F.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Aw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xi(t),this._a=!1):W("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Us="RemoteStore",Rw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Bs(this)&&(W(Us,"Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let u=fe(c);u.Ia.add(4),yield ed(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Zg(u)})}(this))}))}),this.Aa=new Aw(r,i)}};function Zg(n){return C(this,null,function*(){if(Bs(n))for(let e of n.da)yield e(!0)})}function ed(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function qR(n,e){let t=fe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),pE(t)?fE(t):Dc(t).x_()&&hE(t,e))}function dE(n,e){let t=fe(n),r=Dc(t);t.Ta.delete(e),r.x_()&&GR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Bs(t)&&t.Aa.set("Unknown"))}function hE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).H_(e)}function GR(n,e){n.Ra.$e(e),Dc(n).Y_(e)}function fE(n){n.Ra=new Wb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.Aa.aa()}function pE(n){return Bs(n)&&!Dc(n).M_()&&n.Ta.size>0}function Bs(n){return fe(n).Ia.size===0}function WR(n){n.Ra=void 0}function u$(n){return C(this,null,function*(){n.Aa.set("Online")})}function d$(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{hE(n,e)})})}function h$(n,e){return C(this,null,function*(){WR(n),pE(n)?(n.Aa.la(e),fE(n)):n.Aa.set("Unknown")})}function f$(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof Cg&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){W(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pg(n,r)}else if(e instanceof cc?n.Ra.Ye(e):e instanceof vg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(me.min()))try{let r=yield HR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Jt.EMPTY_BYTE_STRING,d.snapshotVersion)),GR(o,c);let f=new qu(d.target,c,u,d.sequenceNumber);hE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W(Us,"Failed to raise snapshot:",r),yield Pg(n,r)}})}function Pg(n,e,t){return C(this,null,function*(){if(!Ic(e))throw e;n.Ia.add(1),yield ed(n),n.Aa.set("Offline"),t||(t=()=>HR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){W(Us,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Zg(n)}))})}function KR(n,e){return e().catch(t=>Pg(n,t,e))}function Jg(n){return C(this,null,function*(){let e=fe(n),t=Do(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tE;for(;p$(e);)try{let i=yield s$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,g$(e,i)}catch(i){yield Pg(e,i)}YR(e)&&QR(e)})}function p$(n){return Bs(n)&&n.Pa.length<10}function g$(n,e){n.Pa.push(e);let t=Do(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function YR(n){return Bs(n)&&!Do(n).M_()&&n.Pa.length>0}function QR(n){Do(n).start()}function m$(n){return C(this,null,function*(){Do(n).na()})}function y$(n){return C(this,null,function*(){let e=Do(n);for(let t of n.Pa)e.X_(t.mutations)})}function _$(n,e,t){return C(this,null,function*(){let r=n.Pa.shift(),i=$b.from(r,e,t);yield KR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jg(n)})}function v$(n,e){return C(this,null,function*(){e&&Do(n).Z_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return Nz(s)&&s!==F.ABORTED}(i.code)){let o=r.Pa.shift();Do(r).N_(),yield KR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Jg(r)}})}(n,e)),YR(n)&&QR(n)})}function PA(n,e){return C(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),W(Us,"RemoteStore received new credentials");let r=Bs(t);t.Ia.add(3),yield ed(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Zg(t)})}function C$(n,e){return C(this,null,function*(){let t=fe(n);e?(t.Ia.delete(2),yield Zg(t)):e||(t.Ia.add(2),yield ed(t),t.Aa.set("Unknown"))})}function Dc(n){return n.Va||(n.Va=function(t,r,i){let o=fe(t);return o.ia(),new Mw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:u$.bind(null,n),e_:d$.bind(null,n),n_:h$.bind(null,n),J_:f$.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),pE(n)?fE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),WR(n))}))),n.Va}function Do(n){return n.ma||(n.ma=function(t,r,i){let o=fe(t);return o.ia(),new xw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:m$.bind(null,n),n_:v$.bind(null,n),ea:y$.bind(null,n),ta:_$.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.ma.N_(),yield Jg(n)):(yield n.ma.stop(),n.Pa.length>0&&(W(Us,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Nw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gE(n,e){if(xi("AsyncQueue",`${e}: ${n}`),Ic(n))return new $(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Og=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=Ru(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ag=class{constructor(){this.fa=new ct(re.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},vc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Og.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var kw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Fw=class{constructor(){this.queries=OA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=fe(t),o=i.queries;i.queries=OA(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new $(F.ABORTED,"Firestore shutting down"))}};function OA(){return new Ai(n=>wR(n),Kg)}function mE(n,e){return C(this,null,function*(){let t=fe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new kw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=gE(s,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&_E(t)})}function yE(n,e){return C(this,null,function*(){let t=fe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function b$(n,e){let t=fe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&_E(t)}function w$(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function _E(n){n.Da.forEach(e=>{e.next()})}var Lw,AA;(AA=Lw||(Lw={})).Fa="default",AA.Cache="cache";var Ku=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Lw.Cache}};var Rg=class{constructor(e){this.key=e}},Ng=class{constructor(e){this.key=e}},Vw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Oe(),this.mutatedKeys=Oe(),this.Xa=ER(e),this.eu=new Og(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Ag,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=Yg(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),M=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),P=!1;g&&m?g.data.isEqual(m.data)?E!==M&&(r.track({type:3,doc:m}),P=!0):this.iu(g,m)||(r.track({type:2,doc:m}),P=!0,(c&&this.Xa(m,c)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),P=!0):g&&!m&&(r.track({type:1,doc:g}),P=!0,(c||u)&&(a=!0)),P&&(m?(s=s.add(m),o=M?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>function(m,E){let M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:P})}};return M(m)-M(E)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new vc(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ag,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Oe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Ng(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Rg(r))}),t}uu(e){this.Ha=e.qs,this.Za=Oe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return vc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},vE="SyncEngine",jw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Uw=class{constructor(e){this.key=e,this.lu=!1}},Bw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ai(a=>wR(a),Kg),this.Tu=new Map,this.Iu=new Set,this.du=new ct(re.comparator),this.Eu=new Map,this.Au=new Wu,this.Ru={},this.Vu=new Map,this.mu=Gu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function E$(n,e,t=!0){return C(this,null,function*(){let r=nN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield ZR(r,e,t,!0),i})}function I$(n,e){return C(this,null,function*(){let t=nN(n);yield ZR(t,e,!0,!1)})}function ZR(n,e,t,r){return C(this,null,function*(){let i=yield a$(n.localStore,Hr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield D$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&qR(n.remoteStore,i),a})}function D$(n,e,t,r,i){return C(this,null,function*(){n.gu=(f,g,m)=>function(M,P,k,H){return C(this,null,function*(){let G=P.view.nu(k);G.Ds&&(G=yield TA(M.localStore,P.query,!1).then(({documents:S})=>P.view.nu(S,G)));let Q=H&&H.targetChanges.get(P.targetId),Fe=H&&H.targetMismatches.get(P.targetId)!=null,he=P.view.applyChanges(G,M.isPrimaryClient,Q,Fe);return NA(M,P.targetId,he._u),he.snapshot})}(n,f,g,m);let o=yield TA(n.localStore,e,!0),s=new Vw(e,o.qs),a=s.nu(o.documents),c=Hu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);NA(n,t,u._u);let d=new jw(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function S$(n,e,t){return C(this,null,function*(){let r=fe(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Kg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield bw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dE(r.remoteStore,i.targetId),zw(r,i.targetId)}).catch(Ec))):(zw(r,i.targetId),yield bw(r.localStore,i.targetId,!0))})}function T$(n,e){return C(this,null,function*(){let t=fe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dE(t.remoteStore,r.targetId))})}function M$(n,e,t){return C(this,null,function*(){let r=k$(n);try{let i=yield function(s,a){let c=fe(s),u=It.now(),d=a.reduce((m,E)=>m.add(E.key),Oe()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Ri(),M=Oe();return c.Os.getEntries(m,d).next(P=>{E=P,E.forEach((k,H)=>{H.isValidDocument()||(M=M.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(P=>{f=P;let k=[];for(let H of a){let G=Rz(H,f.get(H.key).overlayedDocument);G!=null&&k.push(new Kr(H.key,G,gR(G.value.mapValue),qr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,k,a)}).next(P=>{g=P;let k=P.applyToLocalDocumentSet(f,M);return c.documentOverlayCache.saveOverlays(m,P.batchId,k)})}).then(()=>({batchId:g.batchId,changes:DR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new ct(we)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield td(r,i.changes),yield Jg(r.remoteStore)}catch(i){let o=gE(i,"Failed to persist write");t.reject(o)}})}function JR(n,e){return C(this,null,function*(){let t=fe(n);try{let r=yield i$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?je(s.lu,14607):i.removedDocuments.size>0&&(je(s.lu,42227),s.lu=!1))}),yield td(t,r,e)}catch(r){yield Ec(r)}})}function RA(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=fe(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(u=!0)}),u&&_E(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function x$(n,e,t){return C(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ct(re.comparator);s=s.insert(o,wr.newNoDocument(o,me.min()));let a=Oe().add(o),c=new _g(me.min(),new Map,new ct(we),s,a);yield JR(r,c),r.du=r.du.remove(o),r.Eu.delete(e),CE(r)}else yield bw(r.localStore,e,!1).then(()=>zw(r,e,t)).catch(Ec)})}function P$(n,e){return C(this,null,function*(){let t=fe(n),r=e.batch.batchId;try{let i=yield r$(t.localStore,e);eN(t,r,null),XR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield td(t,i)}catch(i){yield Ec(i)}})}function O$(n,e,t){return C(this,null,function*(){let r=fe(n);try{let i=yield function(s,a){let c=fe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(je(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);eN(r,e,t),XR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield td(r,i)}catch(i){yield Ec(i)}})}function XR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function eN(n,e,t){let r=fe(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function zw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||tN(n,r)})}function tN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(dE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),CE(n))}function NA(n,e,t){for(let r of t)r instanceof Rg?(n.Au.addReference(r.key,e),A$(n,r)):r instanceof Ng?(W(vE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||tN(n,r.key)):oe(19791,{yu:r})}function A$(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(W(vE,"New document in limbo: "+t),n.Iu.add(r),CE(n))}function CE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new re(Je.fromString(e)),r=n.mu.next();n.Eu.set(r,new Uw(t)),n.du=n.du.insert(t,r),qR(n.remoteStore,new qu(Hr(Wg(t.path)),r,"TargetPurposeLimboResolution",eE.ue))}}function td(n,e,t){return C(this,null,function*(){let r=fe(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=yw.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return C(this,null,function*(){let d=fe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,g=>V.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>V.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!Ic(f))throw f;W(uE,"Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),E=m.snapshotVersion,M=m.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,M)}}})}(r.localStore,o))})}function R$(n,e){return C(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){W(vE,"User change. New user:",e.toKey());let r=yield $R(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new $(F.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield td(t,r.Bs)}})}function N$(n,e){let t=fe(n),r=t.Eu.get(e);if(r&&r.lu)return Oe().add(r.key);{let i=Oe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function nN(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x$.bind(null,e),e.hu.J_=b$.bind(null,e.eventManager),e.hu.pu=w$.bind(null,e.eventManager),e}function k$(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O$.bind(null,e),e}var rN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Qg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return n$(this.persistence,new vw,t.initialUser,this.serializer)}Du(t){return new Ig(mw.Vi,this.serializer)}bu(t){return new ww}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),$w=class extends rN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){je(this.persistence.referenceDelegate instanceof Dg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new rw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new Ig(r=>Dg.Vi(r,t),this.serializer)}};var F$=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R$.bind(null,this.syncEngine),yield C$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Fw}()}createDatastore(t){let r=Qg(t.databaseInfo.databaseId),i=function(s){return new Tw(s)}(t.databaseInfo);return function(s,a,c,u){return new Ow(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new Rw(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>RA(this.syncEngine,r,0),function(){return Tg.C()?new Tg:new Ew}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let g=new Bw(o,s,a,c,u,d);return f&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=fe(o);W(Us,"RemoteStore shutting down."),s.Ia.add(5),yield ed(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Yu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var So="FirestoreClient",Hw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=Vu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){W(So,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(So,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function gb(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W(So,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield $R(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{wo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{W("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{wo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function kA(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield L$(n);W(So,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>PA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>PA(e.remoteStore,i)),n._onlineComponents=e})}function L$(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(So,"Using user provided OfflineComponentProvider");try{yield gb(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;wo("Error using user provided cache. Falling back to memory cache: "+t),yield gb(n,new rN)}}else W(So,"Using default OfflineComponentProvider"),yield gb(n,new $w(void 0));return n._offlineComponents})}function iN(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(So,"Using user provided OnlineComponentProvider"),yield kA(n,n._uninitializedComponentsProvider._online)):(W(So,"Using default OnlineComponentProvider"),yield kA(n,new F$))),n._onlineComponents})}function V$(n){return iN(n).then(e=>e.syncEngine)}function kg(n){return C(this,null,function*(){let e=yield iN(n),t=e.eventManager;return t.onListen=E$.bind(null,e.syncEngine),t.onUnlisten=S$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=T$.bind(null,e.syncEngine),t})}function j$(n,e,t={}){let r=new br;return n.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return function(o,s,a,c,u){let d=new Yu({next:g=>{d.Ou(),s.enqueueAndForget(()=>yE(o,f));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new $(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Ku(Wg(a.path),d,{includeMetadataChanges:!0,ka:!0});return mE(o,f)}(yield kg(n),n.asyncQueue,e,t,r)})),r.promise}function U$(n,e,t={}){let r=new br;return n.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return function(o,s,a,c,u){let d=new Yu({next:g=>{d.Ou(),s.enqueueAndForget(()=>yE(o,f)),g.fromCache&&c.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Ku(a,d,{includeMetadataChanges:!0,ka:!0});return mE(o,f)}(yield kg(n),n.asyncQueue,e,t,r)})),r.promise}function oN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var FA=new Map;var sN="firestore.googleapis.com",LA=!0,Fg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=LA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xz)throw new $(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mb;switch(r.type){case"firstParty":return new Cb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=FA.get(t);r&&(W("ComponentProvider","Removing Datastore"),FA.delete(t),r.terminate())}(this),Promise.resolve()}};function B$(n,e,t,r={}){var i;n=En(n,Cc);let o=Vr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Xa(`https://${c}`),ec("Firestore",!0)),s.host!==sN&&s.host!==c&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!jr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=At.MOCK_USER;else{d=Jp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new At(g)}n._authCredentials=new yb(new ug(d,f))}}var To=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},St=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xu(t,n._jsonSchema))return new n(e,r||null,new re(Je.fromString(t.referencePath)))}};St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Et("string",St._jsonSchemaVersion),referencePath:Et("string")};var _o=class n extends To{constructor(e,t,r){super(e,t,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Ni(n,e,...t){if(n=vt(n),qA("collection","path",e),n instanceof Cc){let r=Je.fromString(e,...t);return tA(r),new _o(n,null,r)}{if(!(n instanceof St||n instanceof _o))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Je.fromString(e,...t));return tA(r),new _o(n.firestore,null,r)}}function xo(n,e,...t){if(n=vt(n),arguments.length===1&&(e=Vu.newId()),qA("doc","path",e),n instanceof Cc){let r=Je.fromString(e,...t);return eA(r),new St(n,null,new re(r))}{if(!(n instanceof St||n instanceof _o))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Je.fromString(e,...t));return eA(r),new St(n.firestore,n instanceof _o?n.converter:null,new re(r))}}var VA="AsyncQueue",Lg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Mg(this,"async_queue_retry"),this.oc=()=>{let r=pb();r&&W(VA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=pb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=pb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new br;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ic(e))throw e;W(VA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,xi("INTERNAL UNHANDLED ERROR: ",jA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Nw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:jA(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function jA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function UA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ir=class extends Cc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lg(e),this._firestoreClient=void 0,yield e}})}};function aN(n,e){let t=typeof n=="object"?n:tc(),r=typeof n=="string"?n:e||gg,i=Ms(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Zp("firestore");o&&B$(i,...o)}return i}function Xg(n){if(n._terminated)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||z$(n),n._firestoreClient}function z$(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new Db(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Hw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var vo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Jt.fromBase64String(e))}catch(t){throw new $(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};vo._jsonSchemaVersion="firestore/bytes/1.0",vo._jsonSchema={type:Et("string",vo._jsonSchemaVersion),bytes:Et("string")};var bc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Qu=class{constructor(e){this._methodName=e}};var Co=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Co._jsonSchemaVersion="firestore/geoPoint/1.0",Co._jsonSchema={type:Et("string",Co._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};var bo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};bo._jsonSchemaVersion="firestore/vectorValue/1.0",bo._jsonSchema={type:Et("string",bo._jsonSchemaVersion),vectorValues:Et("object")};var $$=/^__.*__$/,qw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,t,this.fieldTransforms):new js(e,this.data,t,this.fieldTransforms)}},Vg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Kr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function cN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:n})}}var Gw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ug(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(cN(this.Ec)&&$$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Ww=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qg(e)}Dc(e,t,r,i=!1){return new Gw({Ec:e,methodName:t,bc:r,path:Rn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function em(n){let e=n._freezeSettings(),t=Qg(n._databaseId);return new Ww(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lN(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);bE("Data must be an object, but it was:",s,r);let a=uN(r,s),c,u;if(o.merge)c=new Zn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=Kw(e,f,t);if(!s.contains(g))throw new $(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);hN(d,g)||d.push(g)}c=new Zn(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new qw(new An(a),c,u)}var jg=class n extends Qu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function H$(n,e,t,r){let i=n.Dc(1,e,t);bE("Data must be an object, but it was:",i,r);let o=[],s=An.empty();Mo(r,(c,u)=>{let d=wE(e,c,t);u=vt(u);let f=i.gc(d);if(u instanceof jg)o.push(d);else{let g=nd(u,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new Zn(o);return new Vg(s,a,i.fieldTransforms)}function q$(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[Kw(e,r,t)],c=[i];if(o.length%2!=0)throw new $(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Kw(e,o[g])),c.push(o[g+1]);let u=[],d=An.empty();for(let g=a.length-1;g>=0;--g)if(!hN(u,a[g])){let m=a[g],E=c[g];E=vt(E);let M=s.gc(m);if(E instanceof jg)u.push(m);else{let P=nd(E,M);P!=null&&(u.push(m),d.set(m,P))}}let f=new Zn(u);return new Vg(d,f,s.fieldTransforms)}function G$(n,e,t,r=!1){return nd(t,n.Dc(r?4:3,e))}function nd(n,e){if(dN(n=vt(n)))return bE("Unsupported field value:",e,n),uN(n,e);if(n instanceof Qu)return function(r,i){if(!cN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=nd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=It.fromDate(r);return{timestampValue:wg(i.serializer,o)}}if(r instanceof It){let o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wg(i.serializer,o)}}if(r instanceof Co)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vo)return{bytesValue:kR(i.serializer,r._byteString)};if(r instanceof St){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bo)return function(s,a){return{mapValue:{fields:{[rE]:{stringValue:iE},[dc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return cE(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Hg(r)}`)}(n,e)}function uN(n,e){let t={};return aR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(n,(r,i)=>{let o=nd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function dN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Co||n instanceof vo||n instanceof St||n instanceof Qu||n instanceof bo)}function bE(n,e,t){if(!dN(t)||!GA(t)){let r=Hg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Kw(n,e,t){if((e=vt(e))instanceof bc)return e._internalPath;if(typeof e=="string")return wE(n,e);throw Ug("Field path arguments must be of type string or ",n,!1,void 0,t)}var W$=new RegExp("[~\\*/\\[\\]]");function wE(n,e,t){if(e.search(W$)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ug(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(F.INVALID_ARGUMENT,a+n+c)}function hN(n,e){return n.some(t=>t.isEqual(e))}var Bg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Yw=class extends Bg{data(){return super.data()}};function tm(n,e){return typeof e=="string"?wE(n,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function fN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zu=class{},zg=class extends Zu{};function rd(n,e,...t){let r=[];e instanceof Zu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof Qw).length,a=o.filter(c=>c instanceof $g).length;if(s>1||s>0&&a>0)throw new $(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var $g=class n extends zg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return pN(e._query,t),new To(e.firestore,e.converter,Vb(e._query,t))}_parse(e){let t=em(e.firestore);return function(o,s,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){zA(f,d);let E=[];for(let M of f)E.push(BA(c,o,M));g={arrayValue:{values:E}}}else g=BA(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zA(f,d),g=G$(a,s,f,d==="in"||d==="not-in");return wt.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function nm(n,e,t){let r=e,i=tm("where",n);return $g._create(i,r,t)}var Qw=class n extends Zu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)pN(s,c),s=Vb(s,c)}(e._query,t),new To(e.firestore,e.converter,Vb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Zw=class n extends zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fs(o,s)}(e._query,this._field,this._direction);return new To(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Io(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function rm(n,e="asc"){let t=e,r=tm("orderBy",n);return Zw._create(r,t)}function BA(n,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new $(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bR(e)&&t.indexOf("/")!==-1)throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Je.fromString(t));if(!re.isDocumentKey(r))throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cA(n,new re(r))}if(t instanceof St)return cA(n,t._key);throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(t)}.`)}function zA(n,e){if(!Array.isArray(n)||n.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pN(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Jw=class{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Mo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[dc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new bo(o)}convertGeoPoint(e){return new Co(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Gg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){let t=Pi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Je.fromString(e);je(BR(r),9688,{name:e});let i=new mg(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(t)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function gN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Os=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},As=class n extends Bg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:Et("string",As._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};var lc=class extends As{data(e={}){return super.data(e)}},Rs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lc(this._firestore,this._userDataWriter,r.key,r,new Os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new lc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new lc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:K$(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function K$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}function Sc(n){n=En(n,St);let e=En(n.firestore,Ir);return j$(Xg(e),n._key).then(t=>mN(e,n,t))}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:Et("string",Rs._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};var Ju=class extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}};function id(n){n=En(n,To);let e=En(n.firestore,Ir),t=Xg(e),r=new Ju(e);return fN(n._query),U$(t,n._query).then(i=>new Rs(e,r,n,i))}function EE(n,e,t){n=En(n,St);let r=En(n.firestore,Ir),i=gN(n.converter,e,t);return im(r,[lN(em(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qr.none())])}function IE(n,e,t,...r){n=En(n,St);let i=En(n.firestore,Ir),o=em(i),s;return s=typeof(e=vt(e))=="string"||e instanceof bc?q$(o,"updateDoc",n._key,e,t,r):H$(o,"updateDoc",n._key,e),im(i,[s.toMutation(n._key,qr.exists(!0))])}function DE(n){return im(En(n.firestore,Ir),[new $u(n._key,qr.none())])}function SE(n,e){let t=En(n.firestore,Ir),r=xo(n),i=gN(n.converter,e);return im(t,[lN(em(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}function TE(n,...e){var t,r,i;n=vt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||UA(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(UA(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof St)u=En(n.firestore,Ir),d=Wg(n._key.path),c={next:f=>{e[s]&&e[s](mN(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=En(n,To);u=En(f.firestore,Ir),d=f._query;let g=new Ju(u);c={next:m=>{e[s]&&e[s](new Rs(u,g,f,m))},error:e[s+1],complete:e[s+2]},fN(n._query)}return function(g,m,E,M){let P=new Yu(M),k=new Ku(m,P,E);return g.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return mE(yield kg(g),k)})),()=>{P.Ou(),g.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return yE(yield kg(g),k)}))}}(Xg(u),d,a,c)}function im(n,e){return function(r,i){let o=new br;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return M$(yield V$(r),i,o)})),o.promise}(Xg(n),e)}function mN(n,e,t){let r=t.docs.get(e._key),i=new Ju(n);return new As(n,i,e._key,r,new Os(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){wc=i})(zr),Br(new Cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ir(new _b(r.getProvider("auth-internal")),new bb(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bn(Q1,Z1,e),bn(Q1,Z1,"esm2017")})();var Y$="firebase",Q$="11.10.0";bn(Y$,Q$,"app");function ON(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var AN=ON,RN=new Di("auth","Firebase",ON());var um=new mo("@firebase/auth");function Z$(n,...e){um.logLevel<=Te.WARN&&um.warn(`Auth (${zr}): ${n}`,...e)}function sm(n,...e){um.logLevel<=Te.ERROR&&um.error(`Auth (${zr}): ${n}`,...e)}function Ao(n,...e){throw WE(n,...e)}function $s(n,...e){return WE(n,...e)}function NN(n,e,t){let r=Object.assign(Object.assign({},AN()),{[e]:t});return new Di("auth","Firebase",r).create(e,{appName:n.name})}function zs(n){return NN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RN.create(n,...e)}function ce(n,e,...t){if(!n)throw WE(e,...t)}function ki(n){let e="INTERNAL ASSERTION FAILED: "+n;throw sm(e),new Error(e)}function Ro(n,e){n||ki(e)}function OE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function J$(){return yN()==="http:"||yN()==="https:"}function yN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function X$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J$()||T1()||"connection"in navigator)?navigator.onLine:!0}function e8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Hs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ro(t>e,"Short delay should be less than long delay!"),this.isMobile=D1()||M1()}get(){return X$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function KE(n,e){Ro(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var dm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var t8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var n8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r8=new Hs(3e4,6e4);function YE(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Tc(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){return kN(n,i,()=>C(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Pu(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},u);return S1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Vr(n.emulatorConfig.host)&&(m.credentials="include"),dm.fetch()(yield FN(n,n.config.apiHost,t,f),m)}))})}function kN(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},t8),e);try{let i=new AE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw om(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw om(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw om(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NN(n,d,u);Ao(n,d)}}catch(i){if(i instanceof un)throw i;Ao(n,"network-request-failed",{message:String(i)})}})}function i8(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){let u=yield Tc(n,e,t,r,i);return"mfaPendingCredential"in u&&Ao(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function FN(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?KE(n.config,i):`${n.config.apiScheme}://${i}`;return n8.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var AE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),r8.get())})}};function om(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=$s(n,e,r);return i.customData._tokenResponse=t,i}function o8(n,e){return C(this,null,function*(){return Tc(n,"POST","/v1/accounts:delete",e)})}function hm(n,e){return C(this,null,function*(){return Tc(n,"POST","/v1/accounts:lookup",e)})}function od(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LN(n,e=!1){return C(this,null,function*(){let t=vt(n),r=yield t.getIdToken(e),i=QE(r);ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:od(ME(i.auth_time)),issuedAtTime:od(ME(i.iat)),expirationTime:od(ME(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ME(n){return Number(n)*1e3}function QE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yp(t);return i?JSON.parse(i):(sm("Failed to decode base64 JWT payload"),null)}catch(i){return sm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _N(n){let e=QE(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ad(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof un&&s8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function s8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var RE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var cd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fm(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ad(n,hm(t,{idToken:r}));ce(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jN(o.providerUserInfo):[],a=a8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function VN(n){return C(this,null,function*(){let e=vt(n);yield fm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function a8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jN(n){return n.map(e=>{var{providerId:t}=e,r=by(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function c8(n,e){return C(this,null,function*(){let t=yield kN(n,{},()=>C(null,null,function*(){let r=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield FN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Vr(n.emulatorConfig.host)&&(c.credentials="include"),dm.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function l8(n,e){return C(this,null,function*(){return Tc(n,"POST","/v2/accounts:revokeToken",YE(n,e))})}var sd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_N(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=_N(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield c8(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ki("not implemented")}};function Po(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Oo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=by(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield ad(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return LN(this,e)}reload(){return VN(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield fm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(wn(this.auth.app))return Promise.reject(zs(this.auth));let e=yield this.getIdToken();return yield ad(this,o8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=t.createdAt)!==null&&u!==void 0?u:void 0,H=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:G,emailVerified:Q,isAnonymous:Fe,providerData:he,stsTokenManager:S}=t;ce(G&&S,e,"internal-error");let b=sd.fromJSON(this.name,S);ce(typeof G=="string",e,"internal-error"),Po(f,e.name),Po(g,e.name),ce(typeof Q=="boolean",e,"internal-error"),ce(typeof Fe=="boolean",e,"internal-error"),Po(m,e.name),Po(E,e.name),Po(M,e.name),Po(P,e.name),Po(k,e.name),Po(H,e.name);let I=new n({uid:G,auth:e,email:g,emailVerified:Q,displayName:f,isAnonymous:Fe,photoURL:E,phoneNumber:m,tenantId:M,stsTokenManager:b,createdAt:k,lastLoginAt:H});return he&&Array.isArray(he)&&(I.providerData=he.map(T=>Object.assign({},T))),P&&(I._redirectEventId=P),I}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new sd;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?jN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new sd;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var vN=new Map;function Fi(n){Ro(n instanceof Function,"Expected a class definition");let e=vN.get(n);return e?(Ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vN.set(n,e),e)}var u8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),NE=u8;function am(n,e,t){return`firebase:${n}:${e}:${t}`}var pm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=am(this.userKey,i.apiKey,o),this.fullPersistenceKey=am("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield hm(this.auth,{idToken:e}).catch(()=>{});return t?Oo._fromGetAccountInfoResponse(this.auth,t,e):null}return Oo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(Fi(NE),e,r);let i=(yield Promise.all(t.map(u=>C(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Fi(NE),s=am(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f;if(typeof d=="string"){let g=yield hm(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield Oo._fromGetAccountInfoResponse(e,g,d)}else f=Oo._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>C(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function CN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($N(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qN(e))return"Blackberry";if(GN(e))return"Webos";if(BN(e))return"Safari";if((e.includes("chrome/")||zN(e))&&!e.includes("edge/"))return"Chrome";if(HN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function UN(n=Ot()){return/firefox\//i.test(n)}function BN(n=Ot()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zN(n=Ot()){return/crios\//i.test(n)}function $N(n=Ot()){return/iemobile/i.test(n)}function HN(n=Ot()){return/android/i.test(n)}function qN(n=Ot()){return/blackberry/i.test(n)}function GN(n=Ot()){return/webos/i.test(n)}function ZE(n=Ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function d8(n=Ot()){var e;return ZE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h8(){return x1()&&document.documentMode===10}function WN(n=Ot()){return ZE(n)||HN(n)||GN(n)||qN(n)||/windows phone/i.test(n)||$N(n)}function KN(n,e=[]){let t;switch(n){case"Browser":t=CN(Ot());break;case"Worker":t=`${CN(Ot())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zr}/${r}`}var kE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function f8(t){return C(this,arguments,function*(n,e={}){return Tc(n,"GET","/v2/passwordPolicy",YE(n,e))})}var p8=6,FE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:p8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var LE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gm(this),this.idTokenSubscription=new gm(this),this.beforeStateQueue=new kE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield pm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield hm(this,{idToken:e}),r=yield Oo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(wn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield fm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=e8()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(wn(this.app))return Promise.reject(zs(this));let t=e?vt(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return wn(this.app)?Promise.reject(zs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wn(this.app)?Promise.reject(zs(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield f8(this),t=new FE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Di("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield l8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Fi(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield pm.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Z$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function JE(n){return vt(n)}var gm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=R1(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var XE={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g8(n){XE=n}function m8(n){return XE.loadJS(n)}function y8(){return XE.gapiScript}function YN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function QN(n,e){let t=Ms(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(jr(o,e??{}))return i;Ao(i,"already-initialized")}return t.initialize({options:e})}function _8(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZN(n,e,t){let r=JE(n);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=JN(e),{host:s,port:a}=v8(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(jr(u,r.config.emulator)&&jr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Vr(s)?(Xa(`${o}//${s}${c}`),ec("Auth",!0)):i||C8()}function JN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function v8(n){let e=JN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:bN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:bN(s)}}}function bN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function C8(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var mm=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}};function xE(n,e){return C(this,null,function*(){return i8(n,"POST","/v1/accounts:signInWithIdp",YE(n,e))})}var ym=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var VE=class extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ld=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield Oo._fromIdTokenResponse(e,r,i),s=wN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=wN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function wN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var jE=class n extends un{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function XN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jE._fromErrorAndOperation(n,o,e,r):o})}function b8(n,e,t=!1){return C(this,null,function*(){let r=yield ad(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ld._forOperation(n,"link",r)})}function w8(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(wn(r.app))return Promise.reject(zs(r));let i="reauthenticate";try{let o=yield ad(n,XN(r,i,e,n),t);ce(o.idToken,r,"internal-error");let s=QE(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(n.uid===a,r,"user-mismatch"),ld._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ao(r,"user-mismatch"),o}})}function E8(n,e,t=!1){return C(this,null,function*(){if(wn(n.app))return Promise.reject(zs(n));let r="signIn",i=yield XN(n,r,e),o=yield ld._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function ek(n,e,t,r){return vt(n).onIdTokenChanged(e,t,r)}function tk(n,e,t){return vt(n).beforeAuthStateChanged(e,t)}var _m="__sak";var vm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var I8=1e3,D8=10,S8=(()=>{class n extends vm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);h8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,D8):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},I8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield qi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield qi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield qi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),nk=S8;var T8=(()=>{class n extends vm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),eI=T8;function M8(n){return Promise.all(n.map(e=>C(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var x8=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>C(this,null,function*(){return d(r.origin,s)})),u=yield M8(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function rk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var UE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=rk("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Yr(){return window}function P8(n){Yr().location.href=n}function ik(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}function O8(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function A8(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R8(){return ik()?self:null}var ok="firebaseLocalStorageDb",N8=1,Cm="firebaseLocalStorage",sk="fbase_key",qs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function wm(n,e){return n.transaction([Cm],e?"readwrite":"readonly").objectStore(Cm)}function k8(){let n=indexedDB.deleteDatabase(ok);return new qs(n).toPromise()}function BE(){let n=indexedDB.open(ok,N8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Cm,{keyPath:sk})}catch(i){t(i)}}),n.addEventListener("success",()=>C(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Cm)?e(r):(r.close(),yield k8(),e(yield BE()))}))})}function EN(n,e,t){return C(this,null,function*(){let r=wm(n,!0).put({[sk]:e,value:t});return new qs(r).toPromise()})}function F8(n,e){return C(this,null,function*(){let t=wm(n,!1).get(e),r=yield new qs(t).toPromise();return r===void 0?null:r.value})}function IN(n,e){let t=wm(n,!0).delete(e);return new qs(t).toPromise()}var L8=800,V8=3,j8=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield BE(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>V8)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return ik()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=x8._getInstance(R8()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield O8(),!this.activeServiceWorker)return;this.sender=new UE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||A8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield BE();return yield EN(t,_m,"1"),yield IN(t,_m),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>EN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>F8(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>IN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=wm(o,!1).getAll();return new qs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),L8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ak=j8;var $ae=YN("rcb"),Hae=new Hs(3e4,6e4);function U8(n,e){return e?Fi(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ud=class extends mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function B8(n){return E8(n.auth,new ud(n),n.bypassAuthState)}function z8(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),w8(t,new ud(n),n.bypassAuthState)}function $8(n){return C(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),b8(t,new ud(n),n.bypassAuthState)})}var zE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B8;case"linkViaPopup":case"linkViaRedirect":return $8;case"reauthViaPopup":case"reauthViaRedirect":return z8;default:Ao(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var qae=new Hs(2e3,1e4);var H8="pendingRedirect",cm=new Map,$E=class n extends zE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=cm.get(this.auth._key());if(!e){try{let r=(yield q8(this.resolver,this.auth))?yield qi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return qi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,qi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function q8(n,e){return C(this,null,function*(){let t=K8(e),r=W8(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function G8(n,e){cm.set(n._key(),e)}function W8(n){return Fi(n._redirectPersistence)}function K8(n){return am(H8,n.config.apiKey,n.name)}function Y8(n,e,t=!1){return C(this,null,function*(){if(wn(n.app))return Promise.reject(zs(n));let r=JE(n),i=U8(r,e),s=yield new $E(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Q8=10*60*1e3,HE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ck(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($s(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q8&&this.cachedEventUids.clear(),this.cachedEventUids.has(DN(e))}saveEventToCache(e){this.cachedEventUids.add(DN(e)),this.lastProcessedEventTime=Date.now()}};function DN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ck({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Z8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ck(n);default:return!1}}function J8(t){return C(this,arguments,function*(n,e={}){return Tc(n,"GET","/v1/projects",e)})}var X8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eH=/^https?/;function tH(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield J8(n);for(let t of e)try{if(nH(t))return}catch{}Ao(n,"unauthorized-domain")})}function nH(n){let e=OE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!eH.test(t))return!1;if(X8.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var rH=new Hs(3e4,6e4);function SN(){let n=Yr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iH(n){return new Promise((e,t)=>{var r,i,o;function s(){SN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SN(),t($s(n,"network-request-failed"))},timeout:rH.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)s();else{let a=YN("iframefcb");return Yr()[a]=()=>{gapi.load?s():t($s(n,"network-request-failed"))},m8(`${y8()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw lm=null,e})}var lm=null;function oH(n){return lm=lm||iH(n),lm}var sH=new Hs(5e3,15e3),aH="__/auth/iframe",cH="emulator/auth/iframe",lH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dH(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?KE(e,cH):`https://${n.config.authDomain}/${aH}`,r={apiKey:e.apiKey,appName:n.name,v:zr},i=uH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Pu(r).slice(1)}`}function hH(n){return C(this,null,function*(){let e=yield oH(n),t=Yr().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:dH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lH,dontclear:!0},r=>new Promise((i,o)=>C(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=$s(n,"network-request-failed"),a=Yr().setTimeout(()=>{o(s)},sH.get());function c(){Yr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var fH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pH=500,gH=600,mH="_blank",yH="http://localhost",bm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function _H(n,e,t,r=pH,i=gH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},fH),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ot().toLowerCase();t&&(a=zN(u)?mH:t),UN(u)&&(e=e||yH,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(d8(u)&&a!=="_self")return vH(e||"",a),new bm(null);let f=window.open(e||"",a,d);ce(f,n,"popup-blocked");try{f.focus()}catch{}return new bm(f)}function vH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var CH="__/auth/handler",bH="emulator/auth/handler",wH=encodeURIComponent("fac");function TN(n,e,t,r,i,o){return C(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:zr,eventId:i};if(e instanceof ym){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",A1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof VE){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${wH}=${encodeURIComponent(c)}`:"";return`${EH(n)}?${Pu(a).slice(1)}${u}`})}function EH({config:n}){return n.emulator?KE(n,bH):`https://${n.authDomain}/${CH}`}var PE="webStorageSupport",qE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eI,this._completeRedirectFn=Y8,this._overrideRedirectResult=G8}_openPopup(e,t,r,i){return C(this,null,function*(){var o;Ro((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield TN(e,t,r,OE(),i);return _H(e,s,rk())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield TN(e,t,r,OE(),i);return P8(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ro(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield hH(e),r=new HE(e);return t.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(PE,{type:PE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[PE];s!==void 0&&t(!!s),Ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WN()||BN()||ZE()}},lk=qE;var MN="@firebase/auth",xN="1.10.8";var GE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function IH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DH(n){Br(new Cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KN(n)},u=new LE(r,i,o,c);return _8(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Br(new Cn("auth-internal",e=>{let t=JE(e.getProvider("auth").getImmediate());return(r=>new GE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(MN,xN,IH(n)),bn(MN,xN,"esm2017")}var SH=5*60,TH=$C("authIdTokenMaxAge")||SH,PN=null,MH=n=>e=>C(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>TH)return;let i=t?.token;PN!==i&&(PN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tI(n=tc()){let e=Ms(n,"auth");if(e.isInitialized())return e.getImmediate();let t=QN(n,{popupRedirectResolver:lk,persistence:[ak,nk,eI]}),r=$C("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=MH(o.toString());tk(t,s,()=>s(t.currentUser)),ek(t,a=>s(a))}}let i=BC("auth");return i&&ZN(t,`http://${i}`),t}function xH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}g8({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=$s("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",xH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DH("Browser");var gk="firebasestorage.googleapis.com",PH="storageBucket",OH=2*60*1e3,AH=10*60*1e3;var Qr=class n extends un{constructor(e,t,r=0){super(nI(e),`Firebase Storage: ${t} (${nI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Vi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Vi||{});function nI(n){return"storage/"+n}function RH(){let n="An unknown error occurred, please check the error payload for server response.";return new Qr(Vi.UNKNOWN,n)}function NH(){return new Qr(Vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kH(){return new Qr(Vi.CANCELED,"User canceled the upload/download.")}function FH(n){return new Qr(Vi.INVALID_URL,"Invalid URL '"+n+"'.")}function LH(n){return new Qr(Vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uk(n){return new Qr(Vi.INVALID_ARGUMENT,n)}function mk(){return new Qr(Vi.APP_DELETED,"The Firebase app was deleted.")}function VH(n){return new Qr(Vi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Li=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw LH(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(Q){Q.path_=decodeURIComponent(Q.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},M=t===gk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",k=new RegExp(`^https?://${M}/${i}/${P}`,"i"),G=[{regex:a,indices:c,postModify:o},{regex:m,indices:E,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let Q=0;Q<G.length;Q++){let Fe=G[Q],he=Fe.regex.exec(e);if(he){let S=he[Fe.indices.bucket],b=he[Fe.indices.path];b||(b=""),r=new n(S,b),Fe.postModify(r);break}}if(r==null)throw FH(e);return r}},rI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function jH(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...P){u||(u=!0,e.apply(null,P))}function f(P){i=setTimeout(()=>{i=null,n(m,c())},P)}function g(){o&&clearTimeout(o)}function m(P,...k){if(u){g();return}if(P){g(),d.call(null,P,...k);return}if(c()||s){g(),d.call(null,P,...k);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,f(G)}let E=!1;function M(P){E||(E=!0,g(),!u&&(i!==null?(P||(a=2),clearTimeout(i),f(0)):P||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,M(!0)},t),M}function UH(n){n(!1)}function BH(n){return n!==void 0}function dk(n,e,t,r){if(r<e)throw uk(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw uk(`Invalid value for '${n}'. Expected ${t} or less.`)}function zH(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var iI=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(iI||{});function $H(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var oI=class{constructor(e,t,r,i,o,s,a,c,u,d,f,g=!0,m=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Mc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===iI.NO_ERROR,c=o.getStatus();if(!a||$H(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===iI.ABORT;r(!1,new Mc(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Mc(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());BH(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=RH();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?mk():kH();s(c)}else{let c=NH();s(c)}};this.canceled_?t(!1,new Mc(!1,null,!0)):this.backoffId_=jH(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Mc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function HH(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function qH(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GH(n,e){e&&(n["X-Firebase-GMPID"]=e)}function WH(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function KH(n,e,t,r,i,o,s=!0,a=!1){let c=zH(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return GH(d,e),HH(d,t),qH(d,o),WH(d,r),new oI(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function YH(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function QH(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var wle=256*1024;var sI=class n{constructor(e,t){this._service=e,t instanceof Li?this._location=t:this._location=Li.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Li(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QH(this._location.path)}get storage(){return this._service}get parent(){let e=YH(this._location.path);if(e===null)return null;let t=new Li(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw VH(e)}};function hk(n,e){let t=e?.[PH];return t==null?null:Li.makeFromBucketSpec(t,n)}function ZH(n,e,t,r={}){n.host=`${e}:${t}`;let i=Vr(e);i&&(Xa(`https://${n.host}/b`),ec("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Jp(o,n.app.options.projectId))}var aI=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=gk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OH,this._maxUploadRetryTime=AH,this._requests=new Set,i!=null?this._bucket=Li.makeFromBucketSpec(i,this._host):this._bucket=hk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Li.makeFromBucketSpec(this._url,e):this._bucket=hk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sI(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new rI(mk());{let s=KH(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},fk="@firebase/storage",pk="0.13.14";var yk="storage";function _k(n=tc(),e){n=vt(n);let r=Ms(n,yk).getImmediate({identifier:e}),i=Zp("storage");return i&&JH(r,...i),r}function JH(n,e,t,r={}){ZH(n,e,t,r)}function XH(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new aI(t,r,i,e,zr)}function e9(){Br(new Cn(yk,XH,"PUBLIC").setMultipleInstances(!0)),bn(fk,pk,""),bn(fk,pk,"esm2017")}e9();var t9={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"},cI=ob(t9),dn=aN(cI),Ole=tI(cI),Ale=_k(cI);var xc=class n{expensesSubject=new Ye([]);categoriesSubject=new Ye([]);userSettingsSubject=new Ye({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();constructor(){this.loadData()}loadData(){return C(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return C(this,null,function*(){try{let e=Ni(dn,"expenses"),t=rd(e,rm("date","desc")),r=yield id(t),i=[];return r.forEach(o=>{i.push(U({id:o.id},o.data()))}),this.expensesSubject.next(i),i}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return C(this,null,function*(){try{let t=Ni(dn,"expenses"),r=yield SE(t,e);return yield this.loadExpenses(),r.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return C(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=xo(dn,"expenses",e.id);if((yield Sc(i)).exists()){let r=e,{id:s}=r,a=jo(r,["id"]);yield IE(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=jo(t,["id"]);yield EE(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return C(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=xo(dn,"expenses",e);if(!(yield Sc(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield DE(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return C(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=jo(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return C(this,null,function*(){try{let e=Ni(dn,"categories"),t=yield id(e),r=[];return t.forEach(i=>{r.push(U({id:i.id},i.data()))}),this.categoriesSubject.next(r),r}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return C(this,null,function*(){try{let t=Ni(dn,"categories"),r=yield SE(t,e);return yield this.loadCategories(),r.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return C(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=xo(dn,"categories",e.id);if((yield Sc(r)).exists()){let t=e,{id:o}=t,s=jo(t,["id"]);yield IE(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return C(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=xo(dn,"categories",e),r=yield Sc(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield DE(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return C(this,null,function*(){try{let e=xo(dn,"userSettings","default"),t=yield Sc(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return C(this,null,function*(){try{let t=xo(dn,"userSettings","default");yield EE(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=Ni(dn,"expenses"),t=rd(e,rm("date","desc"));return new Ee(r=>TE(t,o=>{let s=[];o.forEach(a=>{s.push(U({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=Ni(dn,"categories");return new Ee(t=>TE(e,i=>{let o=[];i.forEach(s=>{o.push(U({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return C(this,null,function*(){try{let t=Ni(dn,"expenses"),r=rd(t,nm("categoryId","==",e)),i=yield id(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return C(this,null,function*(){try{let r=Ni(dn,"expenses"),i=rd(r,nm("date",">=",e),nm("date","<=",t),rm("date","desc")),o=yield id(i),s=[];return o.forEach(a=>{s.push(U({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zr=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return C(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return C(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return C(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return C(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return C(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return C(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return C(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return C(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return C(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(ne(xc))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jn=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return C(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return C(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return C(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return C(this,null,function*(){return yield this.loadCategories(),[...this.categories]})}add(e){return C(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return C(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return C(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return C(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}static \u0275fac=function(t){return new(t||n)(ne(xc))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xn=class n{loadingState=new Ye({isLoading:!1});loading$=this.loadingState.asObservable();show(e,t){this.loadingState.next({isLoading:!0,message:e||"Loading...",progress:t})}hide(){this.loadingState.next({isLoading:!1})}updateProgress(e,t){this.loadingState.next({isLoading:!0,message:t||"Loading...",progress:e})}getCurrentState(){return this.loadingState.value}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var er=class n{notifications=new Ye([]);notifications$=this.notifications.asObservable();success(e,t,r="\u2705",i=5e3){this.addNotification({id:this.generateId(),type:"success",title:e,message:t,icon:r,duration:i,autoClose:!0})}error(e,t,r="\u274C",i=8e3){this.addNotification({id:this.generateId(),type:"error",title:e,message:t,icon:r,duration:i,autoClose:!0})}warning(e,t,r="\u26A0\uFE0F",i=6e3){this.addNotification({id:this.generateId(),type:"warning",title:e,message:t,icon:r,duration:i,autoClose:!0})}info(e,t,r="\u2139\uFE0F",i=4e3){this.addNotification({id:this.generateId(),type:"info",title:e,message:t,icon:r,duration:i,autoClose:!0})}achievement(e,t,r="\u{1F389}"){this.addNotification({id:this.generateId(),type:"success",title:e,message:t,icon:r,duration:1e4,autoClose:!0})}addNotification(e){let t=this.notifications.value;this.notifications.next([...t,e]),e.autoClose&&e.duration&&setTimeout(()=>{this.removeNotification(e.id)},e.duration)}removeNotification(e){let t=this.notifications.value;this.notifications.next(t.filter(r=>r.id!==e))}clearAll(){this.notifications.next([])}generateId(){return Math.random().toString(36).substr(2,9)}handleError(e,t=""){let r="Error",i="Something went wrong. Please try again.";e?.message?i=e.message:typeof e=="string"&&(i=e),t&&(r=`${t} Error`),this.error(r,i)}expenseAdded(e){this.success("Expense Added! \u{1F4B8}",`Successfully added \u20B9${e.toLocaleString()} to your expenses.`,"\u2705")}expenseUpdated(e){this.success("Expense Updated! \u270F\uFE0F",`Successfully updated expense to \u20B9${e.toLocaleString()}.`,"\u2705")}expenseDeleted(){this.success("Expense Deleted! \u{1F5D1}\uFE0F","Expense has been removed from your records.","\u2705")}categoryAdded(e){this.success("Category Created! \u{1F3F7}\uFE0F",`New category "${e}" has been added successfully.`,"\u2705")}categoryUpdated(e){this.success("Category Updated! \u270F\uFE0F",`Category "${e}" has been updated successfully.`,"\u2705")}categoryDeleted(e){this.success("Category Deleted! \u{1F5D1}\uFE0F",`Category "${e}" has been removed successfully.`,"\u2705")}budgetSet(e){this.success("Budget Set! \u{1F4B0}",`Monthly budget has been set to \u20B9${e.toLocaleString()}.`,"\u2705")}goalUpdated(e){this.success("Goal Updated! \u{1F3AF}",`Financial goal "${e}" has been updated successfully.`,"\u2705")}streakAchievement(e){this.achievement("Streak Achievement! \u{1F525}",`Amazing! You've logged expenses for ${e} consecutive days!`,"\u{1F525}")}budgetGoalAchieved(){this.achievement("Budget Goal Achieved! \u{1F389}","Congratulations! You stayed within your budget this month!","\u{1F389}")}savingsMilestone(e){this.achievement("Savings Milestone! \u{1F48E}",`Fantastic! You've saved \u20B9${e.toLocaleString()} so far!`,"\u{1F48E}")}categoryMastery(e){this.achievement("Category Master! \u{1F3C6}",`You've become a master at tracking ${e} expenses!`,"\u{1F3C6}")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Im=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}getSpendingPatterns(e,t){let r=[],i=e.reduce((o,s)=>o+s.amount,0);return t.forEach(o=>{let s=e.filter(a=>a.categoryId===o.id);if(s.length>0){let a=s.reduce((P,k)=>P+k.amount,0),c=a/s.length,u=a/e.reduce((P,k)=>P+k.amount,0)*100,d=s.sort((P,k)=>new Date(P.date).getTime()-new Date(k.date).getTime()),f=d.slice(0,Math.floor(d.length/2)),g=d.slice(Math.floor(d.length/2)),m=f.reduce((P,k)=>P+k.amount,0),E=g.reduce((P,k)=>P+k.amount,0),M="stable";E>m*1.1?M="increasing":E<m*.9&&(M="decreasing"),r.push({category:o,totalAmount:a,averageAmount:c,frequency:s.length,trend:M,percentageOfTotal:u})}}),r.sort((o,s)=>s.totalAmount-o.totalAmount)}getSavingsOpportunities(e,t){let r=[];return this.getSpendingPatterns(e,t).forEach(o=>{let s=[],a=0,c="low";o.percentageOfTotal>30&&(s.push("This category represents a large portion of your spending. Consider reducing expenses here."),a=o.totalAmount*.2,c="high"),o.averageAmount>1e3&&(s.push("High average transaction amount. Look for bulk purchase opportunities or discounts."),a+=o.totalAmount*.15,c=c==="high"?"high":"medium"),o.frequency>10&&(s.push("Frequent small purchases. Consider consolidating or finding subscription alternatives."),a+=o.totalAmount*.1,c=c==="high"?"high":"medium"),o.trend==="increasing"&&(s.push("Spending is increasing in this category. Review recent expenses to identify unnecessary purchases."),a+=o.totalAmount*.25,c="high"),a>0&&r.push({category:o.category,currentSpending:o.totalAmount,potentialSavings:a,suggestions:s,priority:c})}),r.sort((o,s)=>s.potentialSavings-o.potentialSavings)}getActionableTips(e,t){let r=[],i=this.getSpendingPatterns(e,t),o=this.getSavingsOpportunities(e,t),s=i[0];s&&s.percentageOfTotal>40&&r.push({id:"high-spending",title:"High Spending Alert",message:`${s.category.name} accounts for ${s.percentageOfTotal.toFixed(1)}% of your spending. Consider setting a budget limit for this category.`,category:"budget",priority:"high",actionable:!0,actionLabel:"Set Category Budget",actionCallback:()=>{console.log("Set category budget for",s.category.name)}});let a=i.filter(M=>M.trend==="increasing");a.length>0&&r.push({id:"increasing-trend",title:"Spending Trend Alert",message:`${a.length} category(ies) show increasing spending trends. Review your recent expenses in these categories.`,category:"trend",priority:"medium",actionable:!0,actionLabel:"Review Expenses",actionCallback:()=>{console.log("Review expenses for increasing categories")}});let c=o[0];c&&c.potentialSavings>1e3&&r.push({id:"savings-opportunity",title:"Savings Opportunity",message:`You could save \u20B9${c.potentialSavings.toLocaleString()} by optimizing your ${c.category.name} spending.`,category:"savings",priority:"high",actionable:!0,actionLabel:"View Suggestions",actionCallback:()=>{console.log("Show savings suggestions for",c.category.name)}});let u=e.reduce((M,P)=>M+P.amount,0),d=new Date().getMonth(),f=new Date().getFullYear(),g=new Date(f,d+1,0).getDate(),m=new Date().getDate(),E=u/m*g;return E>5e4&&r.push({id:"high-projection",title:"High Spending Projection",message:`Your projected monthly spending is \u20B9${E.toLocaleString()}. Consider reviewing your budget and spending habits.`,category:"budget",priority:"high",actionable:!0,actionLabel:"Review Budget",actionCallback:()=>{console.log("Review budget settings")}}),i.length<5&&r.push({id:"category-diversity",title:"Improve Category Diversity",message:"You're using only a few categories. Adding more categories helps better track and analyze your spending patterns.",category:"organization",priority:"medium",actionable:!0,actionLabel:"Add Categories",actionCallback:()=>{console.log("Navigate to categories page")}}),r.sort((M,P)=>{let k={high:3,medium:2,low:1};return k[P.priority]-k[M.priority]})}getFinancialHealthInsights(e,t){let r=this.getSpendingPatterns(e,t),i=e.reduce((s,a)=>s+a.amount,0),o=i/e.length;return{totalCategories:r.length,averageSpendingPerCategory:i/r.length,mostExpensiveCategory:r[0]?.category,leastExpensiveCategory:r[r.length-1]?.category,averageExpenseAmount:o,spendingConsistency:this.calculateSpendingConsistency(e),categoryDiversity:r.length,topSpendingDay:this.findTopSpendingDay(e)}}calculateSpendingConsistency(e){if(e.length<2)return .5;let t=e.map(s=>s.amount),r=t.reduce((s,a)=>s+a,0)/t.length,i=t.reduce((s,a)=>s+Math.pow(a-r,2),0)/t.length,o=Math.sqrt(i);return Math.max(0,1-o/r)}findTopSpendingDay(e){let t={};e.forEach(i=>{let o=new Date(i.date).getDate();t[o]=(t[o]||0)+i.amount});let r=Object.entries(t).sort(([,i],[,o])=>o-i)[0];return r?`${r[0]}th`:"N/A"}static \u0275fac=function(t){return new(t||n)(ne(Zr),ne(Jn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function r9(n,e){if(n&1&&(_(0,"div",64)(1,"span",65),w(2),v(),_(3,"span",66),w(4),v()()),n&2){let t=e.$implicit;$n("alert-"+t.type),x(2),ie(t.icon),x(2),ie(t.message)}}function i9(n,e){if(n&1&&(_(0,"div",61)(1,"div",62),ue(2,r9,5,4,"div",63),v()()),n&2){let t=ee();x(2),Y("ngForOf",t.alerts.slice(0,3))}}function o9(n,e){if(n&1){let t=ht();_(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",70)(4,"span",10),w(5,"\u{1F4B0}"),v(),_(6,"h3"),w(7,"Monthly Budget"),v()(),_(8,"div",71),w(9),ve(10,"number"),v()(),_(11,"div",72)(12,"div",73),at(13,"div",74),v(),_(14,"div",75)(15,"div",76)(16,"span",77),w(17,"Spent:"),v(),_(18,"span",78),w(19),ve(20,"number"),v()(),_(21,"div",76)(22,"span",77),w(23,"Remaining:"),v(),_(24,"span",78),w(25),ve(26,"number"),v()(),_(27,"div",76)(28,"span",77),w(29,"Status:"),v(),_(30,"span",78),w(31),v()()()(),_(32,"div",79)(33,"button",80),X("click",function(){Ie(t);let i=ee();return De(i.setBudgetWithPrompt())}),_(34,"span",81),w(35,"\u270F\uFE0F"),v(),w(36," Edit Budget "),v()()()()}if(n&2){let t=ee();x(9),de("\u20B9",pt(10,12,t.budgetLimit)),x(4),ft("width",t.getBudgetPercentage(),"%")("background-color",t.getBudgetStatusColor()),x(6),de("\u20B9",pt(20,14,t.monthlyTotal)),x(5),$n(t.getBudgetRemaining()<0?"negative":"positive"),x(),de(" \u20B9",pt(26,16,t.getBudgetRemaining())," "),x(5),ft("color",t.getBudgetStatusColor()),x(),de(" ",t.getBudgetStatusText()," ")}}function s9(n,e){n&1&&(_(0,"div",89),w(1," First Month "),v())}function a9(n,e){if(n&1&&(_(0,"div",82)(1,"div",83)(2,"div",84)(3,"h3"),w(4,"Monthly Comparison"),v(),_(5,"span",85),w(6,"vs Last Month"),v()(),_(7,"div",86)(8,"div",87)(9,"div",78),w(10),ve(11,"currency"),v(),_(12,"div",77),w(13,"Change"),v()(),_(14,"div",87)(15,"div",78),w(16),ve(17,"number"),v(),_(18,"div",77),w(19,"Percentage"),v()(),_(20,"div",87),ue(21,s9,2,0,"div",88),_(22,"div",77),w(23,"Status"),v()()()()()),n&2){let t=ee();x(9),$n(t.getMonthlyComparison().change<0?"positive":"negative"),x(),de(" ",Qe(11,7,t.getMonthlyComparison().change,"INR")," "),x(5),$n(t.getMonthlyComparison().percentage<0?"positive":"negative"),x(),de(" ",Qe(17,10,t.getMonthlyComparison().percentage,"1.0-1"),"% "),x(5),Y("ngIf",!t.getMonthlyComparison().hasPreviousData&&t.monthlyTotal>0)}}function c9(n,e){if(n&1){let t=ht();_(0,"div",90)(1,"div",91)(2,"label",92),w(3,"Start Date:"),v(),_(4,"input",93),Ut("ngModelChange",function(i){Ie(t);let o=ee();return Kt(o.customStartDate,i)||(o.customStartDate=i),De(i)}),X("change",function(){Ie(t);let i=ee();return De(i.onFilterChange())}),v()(),_(5,"div",91)(6,"label",92),w(7,"End Date:"),v(),_(8,"input",93),Ut("ngModelChange",function(i){Ie(t);let o=ee();return Kt(o.customEndDate,i)||(o.customEndDate=i),De(i)}),X("change",function(){Ie(t);let i=ee();return De(i.onFilterChange())}),v()()()}if(n&2){let t=ee();x(4),jt("ngModel",t.customStartDate),x(4),jt("ngModel",t.customEndDate)}}function l9(n,e){if(n&1&&(_(0,"div",100)(1,"div",101)(2,"span",102),w(3),v(),_(4,"div",103)(5,"div",104),w(6),v(),_(7,"div",105),w(8),ve(9,"number"),v()()(),_(10,"div",106)(11,"div",107),w(12),ve(13,"number"),v(),_(14,"div",108),w(15),ve(16,"number"),v()(),_(17,"div",109)(18,"span",43),w(19),v()()()),n&2){let t=e.$implicit;x(2),ft("background-color",t.category.color),x(),ie(t.category.icon),x(3),ie(t.category.name),x(2),Hn(" ",t.frequency," expenses \u2022 \u20B9",Qe(9,11,t.averageAmount,"1.0-0")," avg "),x(4),de("\u20B9",pt(13,14,t.totalAmount)),x(3),de("",Qe(16,16,t.percentageOfTotal,"1.0-1"),"%"),x(2),$n(t.trend),x(2),de(" ",t.trend==="increasing"?"\u{1F4C8}":t.trend==="decreasing"?"\u{1F4C9}":"\u27A1\uFE0F"," ")}}function u9(n,e){if(n&1&&(_(0,"div",94)(1,"div",95)(2,"div",96)(3,"h3"),w(4,"Spending Patterns"),v(),_(5,"span",97),w(6,"Category-wise analysis"),v()(),_(7,"div",98),ue(8,l9,20,19,"div",99),v()()()),n&2){let t=ee();x(8),Y("ngForOf",t.spendingPatterns.slice(0,5))}}function d9(n,e){if(n&1&&(_(0,"div",116)(1,"div",117)(2,"span",102),w(3),v(),_(4,"div",103)(5,"div",104),w(6),v(),_(7,"div",118),w(8),ve(9,"number"),v()()(),_(10,"div",119)(11,"div",120),w(12),ve(13,"number"),v(),_(14,"div",121),w(15,"Potential Savings"),v()(),_(16,"div",122),w(17),ve(18,"titlecase"),v()()),n&2){let t=e.$implicit;x(2),ft("background-color",t.category.color),x(),ie(t.category.icon),x(3),ie(t.category.name),x(2),de("\u20B9",pt(9,9,t.currentSpending)," spent"),x(4),de("\u20B9",pt(13,11,t.potentialSavings)),x(4),$n(t.priority),x(),de(" ",pt(18,13,t.priority)," ")}}function h9(n,e){if(n&1&&(_(0,"div",110)(1,"div",111)(2,"div",112)(3,"h3"),w(4,"Savings Opportunities"),v(),_(5,"span",113),w(6,"Potential savings by category"),v()(),_(7,"div",114),ue(8,d9,19,15,"div",115),v()()()),n&2){let t=ee();x(8),Y("ngForOf",t.savingsOpportunities.slice(0,3))}}function f9(n,e){if(n&1){let t=ht();_(0,"button",140),X("click",function(){Ie(t);let i=ee().$implicit,o=ee(2);return De((i==null?null:i.id)==="emergency"?o.updateEmergencyFundWithPrompt():(i==null?null:i.id)==="vacation"?o.updateVacationFundWithPrompt():null)}),w(1," \u270F\uFE0F "),v()}}function p9(n,e){if(n&1&&(_(0,"div",129)(1,"div",130)(2,"h6",131),w(3),v(),_(4,"div",132)(5,"span",133),w(6),ve(7,"number"),v(),ue(8,f9,2,0,"button",134),v()(),_(9,"div",135),at(10,"div",136),v(),_(11,"div",137)(12,"span",138),w(13),ve(14,"number"),v(),_(15,"span",139),w(16),ve(17,"number"),v()()()),n&2){let t=e.$implicit,r=ee(2);x(3),ie((t==null?null:t.name)||"Unknown Goal"),x(3),de("",Qe(7,7,r.goalProgress[(t==null?null:t.id)||""],"1.0-0"),"%"),x(2),Y("ngIf",(t==null?null:t.id)==="emergency"||(t==null?null:t.id)==="vacation"),x(2),ft("width",r.goalProgress[(t==null?null:t.id)||""],"%"),x(3),de("\u20B9",pt(14,10,(t==null?null:t.current)||0)),x(3),de("of \u20B9",pt(17,12,(t==null?null:t.target)||0))}}function g9(n,e){if(n&1&&(_(0,"div",123)(1,"div",124)(2,"div",125)(3,"h3"),w(4,"Financial Goals"),v(),_(5,"span",126),w(6,"Track your progress"),v()(),_(7,"div",127),ue(8,p9,18,14,"div",128),v()()()),n&2){let t=ee();x(8),Y("ngForOf",t.financialGoals)}}function m9(n,e){if(n&1&&(_(0,"div",143)(1,"div",103)(2,"span",102),w(3),v(),_(4,"div",144)(5,"div",104),w(6),v(),_(7,"div",145),w(8),v()()(),_(9,"div",146),w(10),ve(11,"number"),v()()),n&2){let t=e.$implicit,r=ee(2);x(2),ft("background-color",(t==null?null:t.color)||"#999"),x(),ie((t==null?null:t.icon)||"\u{1F4CC}"),x(3),ie((t==null?null:t.name)||"Unknown"),x(2),de(" ",r.getExpensesByCategory((t==null?null:t.id)||"").length," expenses "),x(2),de(" \u20B9",pt(11,6,r.categoryTotals[(t==null?null:t.id)||""]||0)," ")}}function y9(n,e){if(n&1&&(_(0,"div",141),ue(1,m9,12,8,"div",142),v()),n&2){let t=ee();x(),Y("ngForOf",t.categories)}}function _9(n,e){n&1&&(_(0,"div",147)(1,"div",148),w(2,"\u{1F3F7}\uFE0F"),v(),_(3,"h6"),w(4,"No Categories Found"),v(),_(5,"p"),w(6,"Add some categories to start tracking your expenses!"),v()())}function v9(n,e){if(n&1&&(_(0,"div",151)(1,"div",152)(2,"span",153),w(3),v(),_(4,"div",154)(5,"div",155),w(6),v(),_(7,"div",156),w(8),ve(9,"date"),v()()(),_(10,"div",157),w(11),ve(12,"number"),v()()),n&2){let t=e.$implicit,r=ee(2);x(2),ft("background-color",r.getCategoryColor(t.categoryId)),x(),de(" ",r.getCategoryIcon(t.categoryId)," "),x(3),ie(t.description||"No description"),x(2),ie(Qe(9,6,t.date,"MMM dd")),x(3),de("\u20B9",pt(12,9,t.amount))}}function C9(n,e){if(n&1&&(_(0,"div",149),ue(1,v9,13,11,"div",150),v()),n&2){let t=ee();x(),Y("ngForOf",t.getFilteredExpenses().slice(0,5))}}function b9(n,e){n&1&&(_(0,"div",147)(1,"div",148),w(2,"\u{1F4DD}"),v(),_(3,"h6"),w(4,"No Expenses Found"),v(),_(5,"p"),w(6,"Add some expenses to see them here!"),v()())}var Dm=class n{constructor(e,t,r,i,o){this.expenseService=e;this.categoryService=t;this.loadingService=r;this.notificationService=i;this.insightsService=o}expenses=[];categories=[];totalSpent=0;categoryTotals={};monthlyTotal=0;weeklyTotal=0;selectedFilter="all";customStartDate="";customEndDate="";budgetLimit=0;budgetProgress=0;spendingTrend="stable";topSpendingDay="";averageDailySpending=0;projectedMonthlySpending=0;financialHealthScore=0;alerts=[];overspendingCategories=[];unusualSpending=[];financialGoals=[];goalProgress={};spendingPatterns=[];savingsOpportunities=[];financialHealthInsights={};subscription=new Le;ngOnInit(){this.loadData(),this.loadFinancialGoals(),this.loadBudgetData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return C(this,null,function*(){this.loadingService.show("Loading your financial data...");try{let[e,t]=yield Promise.all([Promise.resolve(this.expenseService.getAll()),Promise.resolve(this.categoryService.getAll())]);this.expenses=e||[],this.categories=t||[],this.calculateTotals(),this.analyzeFinancialHealth(),this.generateInsights(),this.generateAdvancedInsights(),this.checkAlerts(),this.notificationService.success("Dashboard Loaded! \u{1F4CA}","Your financial overview is ready with personalized insights.","\u2705")}catch(e){this.notificationService.handleError(e,"Dashboard")}finally{this.loadingService.hide()}})}calculateTotals(){let e=this.getFilteredExpenses();this.totalSpent=e.reduce((t,r)=>t+r.amount,0),this.monthlyTotal=this.getCurrentMonthExpenses().reduce((t,r)=>t+r.amount,0),this.weeklyTotal=this.getCurrentWeekExpenses().reduce((t,r)=>t+r.amount,0),this.categoryTotals={},e.forEach(t=>{this.categoryTotals[t.categoryId]=(this.categoryTotals[t.categoryId]||0)+t.amount}),this.budgetLimit>0&&(this.budgetProgress=this.monthlyTotal/this.budgetLimit*100)}getFilteredExpenses(){switch(this.selectedFilter){case"monthly":return this.getCurrentMonthExpenses();case"yearly":return this.getCurrentYearExpenses();case"custom":return this.getCustomDateRangeExpenses();default:return this.expenses}}getCurrentYearExpenses(){let e=new Date().getFullYear();return this.expenses.filter(t=>new Date(t.date).getFullYear()===e)}getCustomDateRangeExpenses(){if(!this.customStartDate||!this.customEndDate)return this.expenses;let e=new Date(this.customStartDate),t=new Date(this.customEndDate);return this.expenses.filter(r=>{let i=new Date(r.date);return i>=e&&i<=t})}onFilterChange(){this.calculateTotals(),this.generateAdvancedInsights()}getFilterLabel(){switch(this.selectedFilter){case"monthly":return"Current Month";case"yearly":return"Current Year";case"custom":return`Custom Range (${this.customStartDate} to ${this.customEndDate})`;default:return"All Time"}}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}analyzeFinancialHealth(){let e=this.getCurrentMonthExpenses(),t=this.getPreviousMonthExpenses(),r=e.reduce((d,f)=>d+f.amount,0),i=t.reduce((d,f)=>d+f.amount,0);r>i*1.1?this.spendingTrend="increasing":r<i*.9?this.spendingTrend="decreasing":this.spendingTrend="stable";let o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();this.averageDailySpending=r/o;let s=new Date().getDate();this.projectedMonthlySpending=r/s*o;let a=this.categories.length,c=this.calculateSpendingConsistency(),u=this.calculateBudgetAdherence();this.financialHealthScore=Math.min(100,a*10+c*30+u*60),this.findTopSpendingDay()}generateAdvancedInsights(){let e=this.getFilteredExpenses();this.spendingPatterns=this.insightsService.getSpendingPatterns(e,this.categories),this.savingsOpportunities=this.insightsService.getSavingsOpportunities(e,this.categories),this.financialHealthInsights=this.insightsService.getFinancialHealthInsights(e,this.categories)}generateInsights(){this.alerts=[],this.overspendingCategories=[],this.unusualSpending=[];let e=this.getCurrentMonthExpenses(),t=this.calculateCategoryAverages();this.categories.forEach(o=>{let s=e.filter(c=>c.categoryId===o.id).reduce((c,u)=>c+u.amount,0),a=t[o.id]||0;s>a*1.5&&(this.overspendingCategories.push({category:o,current:s,average:a,percentage:((s-a)/a*100).toFixed(1)}),this.alerts.push({type:"warning",message:`You're spending ${((s-a)/a*100).toFixed(1)}% more on ${o.name} than usual`,icon:"\u26A0\uFE0F"}))});let r=e.slice(-5),i=e.reduce((o,s)=>o+s.amount,0)/e.length;r.forEach(o=>{o.amount>i*2&&(this.unusualSpending.push(o),this.alerts.push({type:"info",message:`Unusual high expense: \u20B9${o.amount} on ${this.getCategoryName(o.categoryId)}`,icon:"\u{1F4A1}"}))}),this.budgetLimit>0&&this.monthlyTotal>this.budgetLimit*.8&&this.alerts.push({type:"danger",message:`You've used ${(this.monthlyTotal/this.budgetLimit*100).toFixed(1)}% of your monthly budget`,icon:"\u{1F6A8}"})}checkAlerts(){let e=this.getCurrentMonthExpenses(),t=new Date,r=e.filter(c=>new Date(c.date).toDateString()===t.toDateString());r.length>3&&this.alerts.push({type:"info",message:`You've made ${r.length} expenses today. Consider consolidating purchases.`,icon:"\u{1F4DD}"});let i=e.filter(c=>{let u=new Date(c.date).getDay();return u===0||u===6}),o=e.filter(c=>{let u=new Date(c.date).getDay();return u!==0&&u!==6}),s=i.reduce((c,u)=>c+u.amount,0),a=o.reduce((c,u)=>c+u.amount,0);s>a*1.5&&this.alerts.push({type:"warning",message:"You spend significantly more on weekends. Consider planning your weekend activities.",icon:"\u{1F4C5}"})}loadFinancialGoals(){let e=localStorage.getItem("financialGoals");e?this.financialGoals=JSON.parse(e):(this.financialGoals=[{id:"emergency",name:"Emergency Fund",target:5e4,current:0,type:"savings"},{id:"vacation",name:"Vacation Fund",target:1e5,current:0,type:"savings"},{id:"monthly",name:"Monthly Budget",target:3e4,current:this.monthlyTotal,type:"budget"}],localStorage.setItem("financialGoals",JSON.stringify(this.financialGoals))),this.calculateGoalProgress()}calculateGoalProgress(){this.goalProgress={},this.financialGoals.forEach(e=>{this.goalProgress[e.id]=Math.min(100,e.current/e.target*100)})}calculateSpendingConsistency(){let e=this.getCurrentMonthExpenses();if(e.length<2)return .5;let t=e.map(s=>s.amount),r=t.reduce((s,a)=>s+a,0)/t.length,i=t.reduce((s,a)=>s+Math.pow(a-r,2),0)/t.length,o=Math.sqrt(i);return Math.max(0,1-o/r)}calculateBudgetAdherence(){if(this.budgetLimit===0)return .5;let e=1-this.monthlyTotal/this.budgetLimit;return Math.max(0,Math.min(1,e))}calculateCategoryAverages(){let e=this.getMonthlyExpenses(),t={};return this.categories.forEach(r=>{let i=Object.values(e).flat().filter(o=>o.categoryId===r.id);i.length>0&&(t[r.id]=i.reduce((o,s)=>o+s.amount,0)/i.length)}),t}findTopSpendingDay(){let e=this.getCurrentMonthExpenses(),t={};e.forEach(i=>{let o=new Date(i.date).getDate();t[o]=(t[o]||0)+i.amount});let r=Object.entries(t).sort(([,i],[,o])=>o-i)[0];r&&(this.topSpendingDay=`${r[0]}th`)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentWeekExpenses(){let e=new Date,t=new Date(e);return t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.expenses.filter(r=>new Date(r.date)>=t)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthExpenses().reduce((o,s)=>o+s.amount,0),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getTopSpendingCategories(){let e=this.getCurrentMonthExpenses(),t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({category:this.categories.find(o=>o.id===r),amount:i})).filter(r=>r.category).sort((r,i)=>i.amount-r.amount).slice(0,5)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getExpensesByCategory(e){return this.getFilteredExpenses().filter(t=>t.categoryId===e)}loadBudgetData(){let e=localStorage.getItem("monthlyBudget");if(e){let t=parseFloat(e);!isNaN(t)&&t>0?(this.budgetLimit=t,this.syncBudgetWithFinancialGoals(t)):this.clearBudget()}}syncBudgetWithFinancialGoals(e){let t=localStorage.getItem("financialGoals");if(t){let r=JSON.parse(t),i=r.find(o=>o.id==="monthly");i&&i.target!==e&&(i.target=e,i.current=this.monthlyTotal,localStorage.setItem("financialGoals",JSON.stringify(r)))}}setBudgetWithPrompt(){let e=this.budgetLimit>0?this.budgetLimit.toString():"",t=window.prompt("Enter your monthly budget amount (\u20B9):",e);if(t!==null&&t.trim()!==""){let r=parseFloat(t);!isNaN(r)&&r>=0?this.setBudgetLimit(r):this.notificationService.error("Invalid Amount","Please enter a valid number greater than or equal to 0.")}}setBudgetLimit(e){this.budgetLimit=e,localStorage.setItem("monthlyBudget",e.toString()),this.updateFinancialGoalsBudget(e),this.calculateTotals(),this.notificationService.budgetSet(e)}updateFinancialGoalsBudget(e){let t=this.financialGoals.find(r=>r.id==="monthly");t?(t.target=e,t.current=this.monthlyTotal):this.financialGoals.push({id:"monthly",name:"Monthly Budget",target:e,current:this.monthlyTotal,type:"budget"}),localStorage.setItem("financialGoals",JSON.stringify(this.financialGoals)),this.calculateGoalProgress()}updateEmergencyFundWithPrompt(){let e=this.financialGoals.find(i=>i.id==="emergency"),t=e?e.target.toString():"",r=window.prompt("Enter your Emergency Fund target amount (\u20B9):",t);if(r!==null&&r.trim()!==""){let i=parseFloat(r);!isNaN(i)&&i>=0?this.updateFinancialGoal("emergency",i):this.notificationService.error("Invalid Amount","Please enter a valid amount greater than or equal to 0.")}}updateVacationFundWithPrompt(){let e=this.financialGoals.find(i=>i.id==="vacation"),t=e?e.target.toString():"",r=window.prompt("Enter your Vacation Fund target amount (\u20B9):",t);if(r!==null&&r.trim()!==""){let i=parseFloat(r);!isNaN(i)&&i>=0?this.updateFinancialGoal("vacation",i):this.notificationService.error("Invalid Amount","Please enter a valid amount greater than or equal to 0.")}}updateFinancialGoal(e,t){let r=this.financialGoals.find(i=>i.id===e);r&&(r.target=t,localStorage.setItem("financialGoals",JSON.stringify(this.financialGoals)),this.calculateGoalProgress(),this.notificationService.goalUpdated(r.name))}clearBudget(){this.budgetLimit=0,this.budgetProgress=0,localStorage.removeItem("monthlyBudget");let e=this.financialGoals.find(t=>t.id==="monthly");e&&(e.target=0,localStorage.setItem("financialGoals",JSON.stringify(this.financialGoals)),this.calculateGoalProgress())}getBudgetStatus(){return this.budgetLimit===0?"not-set":this.budgetProgress>=100?"exceeded":this.budgetProgress>=80?"warning":"good"}getBudgetStatusText(){switch(this.getBudgetStatus()){case"not-set":return"Not Set";case"exceeded":return"Exceeded";case"warning":return"Warning";case"good":return"Good";default:return"Unknown"}}getBudgetStatusColor(){switch(this.getBudgetStatus()){case"not-set":return"#6c757d";case"exceeded":return"#dc3545";case"warning":return"#ffc107";case"good":return"#28a745";default:return"#6c757d"}}getBudgetRemaining(){return this.budgetLimit-this.monthlyTotal}getBudgetPercentage(){if(this.budgetLimit===0)return 0;let e=this.monthlyTotal/this.budgetLimit*100;return Math.min(100,Math.max(0,e))}static \u0275fac=function(t){return new(t||n)(B(Zr),B(Jn),B(Xn),B(er),B(Im))};static \u0275cmp=dt({type:n,selectors:[["app-dashboard"]],decls:142,vars:59,consts:[[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"budget-setup"],[1,"btn","btn-outline-primary",3,"click"],[1,"budget-icon"],["class","alerts-section mb-4",4,"ngIf"],[1,"health-score-section","mb-4"],[1,"health-card"],[1,"health-header"],[1,"health-score"],[1,"health-bar"],[1,"health-fill"],[1,"health-status"],[1,"status-text"],["class","budget-status-section mb-4",4,"ngIf"],[1,"summary-cards","mb-4"],[1,"summary-card","total-spent","hover-lift"],[1,"card-icon"],[1,"card-content"],[1,"card-title"],[1,"card-amount"],[1,"card-subtitle"],[1,"summary-card","monthly-spent","hover-lift"],[1,"summary-card","weekly-spent","hover-lift"],["class","monthly-comparison mb-4",4,"ngIf"],[1,"filter-controls","mb-4"],[1,"filter-buttons"],[1,"filter-btn",3,"click"],["class","custom-date-inputs",4,"ngIf"],[1,"insights-section","mb-4"],[1,"insights-card"],[1,"insights-header"],[1,"insights-subtitle"],[1,"insights-grid"],[1,"insight-item"],[1,"insight-label"],[1,"insight-value"],[1,"trend-icon"],[1,"trend-text"],["class","patterns-section mb-4",4,"ngIf"],["class","savings-section mb-4",4,"ngIf"],["class","goals-section mb-4",4,"ngIf"],[1,"dashboard-content"],[1,"content-grid"],[1,"content-card","category-breakdown"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"mb-0"],[1,"filter-info"],[1,"filter-label"],[1,"filter-total"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-expenses"],["class","expenses-list",4,"ngIf"],[1,"alerts-section","mb-4"],[1,"alerts-container"],["class","alert-item",3,"class",4,"ngFor","ngForOf"],[1,"alert-item"],[1,"alert-icon"],[1,"alert-message"],[1,"budget-status-section","mb-4"],[1,"budget-card"],[1,"budget-header"],[1,"budget-title"],[1,"budget-amount"],[1,"budget-progress-section"],[1,"budget-progress-bar"],[1,"budget-progress-fill"],[1,"budget-stats"],[1,"budget-stat"],[1,"stat-label"],[1,"stat-value"],[1,"budget-actions"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"action-icon"],[1,"monthly-comparison","mb-4"],[1,"comparison-card"],[1,"comparison-header"],[1,"comparison-period"],[1,"comparison-content"],[1,"comparison-stat"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"custom-date-inputs"],[1,"date-input-group"],[1,"date-label"],["type","date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"patterns-section","mb-4"],[1,"patterns-card"],[1,"patterns-header"],[1,"patterns-subtitle"],[1,"patterns-list"],["class","pattern-item",4,"ngFor","ngForOf"],[1,"pattern-item"],[1,"pattern-category"],[1,"category-icon"],[1,"category-info"],[1,"category-name"],[1,"category-stats"],[1,"pattern-amount"],[1,"amount-value"],[1,"amount-percentage"],[1,"pattern-trend"],[1,"savings-section","mb-4"],[1,"savings-card"],[1,"savings-header"],[1,"savings-subtitle"],[1,"savings-list"],["class","savings-item",4,"ngFor","ngForOf"],[1,"savings-item"],[1,"savings-category"],[1,"category-current"],[1,"savings-potential"],[1,"potential-amount"],[1,"potential-label"],[1,"savings-priority"],[1,"goals-section","mb-4"],[1,"goals-card"],[1,"goals-header"],[1,"goals-subtitle"],[1,"goals-list"],["class","goal-card",4,"ngFor","ngForOf"],[1,"goal-card"],[1,"goal-header"],[1,"goal-name"],[1,"goal-actions"],[1,"goal-progress"],["class","btn btn-sm btn-outline-primary goal-edit-btn",3,"click",4,"ngIf"],[1,"goal-bar"],[1,"goal-fill"],[1,"goal-amounts"],[1,"current-amount"],[1,"target-amount"],[1,"btn","btn-sm","btn-outline-primary","goal-edit-btn",3,"click"],[1,"category-list"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-details"],[1,"category-count"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-info"],[1,"expense-category-icon"],[1,"expense-details"],[1,"expense-description"],[1,"expense-date"],[1,"expense-amount"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),w(6,"\u{1F4CA}"),v()(),_(7,"div")(8,"h1",6),w(9,"Financial Dashboard"),v(),_(10,"p",7),w(11,"Your complete financial overview and insights"),v()()(),_(12,"div",8)(13,"button",9),X("click",function(){return r.setBudgetWithPrompt()}),_(14,"span",10),w(15,"\u{1F4B0}"),v(),w(16),ve(17,"number"),v()()()(),ue(18,i9,3,1,"div",11),_(19,"div",12)(20,"div",13)(21,"div",14)(22,"h3"),w(23,"Financial Health Score"),v(),_(24,"div",15),w(25),ve(26,"number"),v()(),_(27,"div",16),at(28,"div",17),v(),_(29,"div",18)(30,"span",19),w(31),v()()()(),ue(32,o9,37,18,"div",20),_(33,"div",21)(34,"div",22)(35,"div",23),w(36,"\u{1F4B8}"),v(),_(37,"div",24)(38,"h3",25),w(39,"Total Spent"),v(),_(40,"div",26),w(41),ve(42,"number"),v(),_(43,"div",27),w(44),v()()(),_(45,"div",28)(46,"div",23),w(47,"\u{1F4C5}"),v(),_(48,"div",24)(49,"h3",25),w(50,"This Month"),v(),_(51,"div",26),w(52),ve(53,"number"),v(),_(54,"div",27),w(55,"Current Month"),v()()(),_(56,"div",29)(57,"div",23),w(58,"\u{1F4CA}"),v(),_(59,"div",24)(60,"h3",25),w(61,"This Week"),v(),_(62,"div",26),w(63),ve(64,"number"),v(),_(65,"div",27),w(66,"Current Week"),v()()()(),ue(67,a9,24,13,"div",30),_(68,"div",31)(69,"div",32)(70,"button",33),X("click",function(){return r.selectedFilter="all",r.onFilterChange()}),w(71," All Time "),v(),_(72,"button",33),X("click",function(){return r.selectedFilter="monthly",r.onFilterChange()}),w(73," Monthly "),v(),_(74,"button",33),X("click",function(){return r.selectedFilter="yearly",r.onFilterChange()}),w(75," Yearly "),v(),_(76,"button",33),X("click",function(){return r.selectedFilter="custom",r.onFilterChange()}),w(77," Custom "),v()(),ue(78,c9,9,2,"div",34),v(),_(79,"div",35)(80,"div",36)(81,"div",37)(82,"h3"),w(83,"Financial Insights"),v(),_(84,"span",38),w(85,"Personalized recommendations"),v()(),_(86,"div",39)(87,"div",40)(88,"div",41),w(89,"Average Daily"),v(),_(90,"div",42),w(91),ve(92,"number"),v()(),_(93,"div",40)(94,"div",41),w(95,"Spending Trend"),v(),_(96,"div",42)(97,"span",43),w(98),v(),_(99,"span",44),w(100),v()()(),_(101,"div",40)(102,"div",41),w(103,"Projected Monthly"),v(),_(104,"div",42),w(105),ve(106,"currency"),v()(),_(107,"div",40)(108,"div",41),w(109,"Top Spending Day"),v(),_(110,"div",42),w(111),v()()()()(),ue(112,u9,9,1,"div",45)(113,h9,9,1,"div",46)(114,g9,9,1,"div",47),_(115,"div",48)(116,"div",49)(117,"div",50)(118,"div",51)(119,"div",2)(120,"div",3)(121,"span",52),w(122,"\u{1F3F7}\uFE0F"),v(),_(123,"h5",53),w(124,"Category-wise Spending"),v()(),_(125,"div",54)(126,"span",55),w(127),v(),_(128,"span",56),w(129),ve(130,"currency"),v()()()(),ue(131,y9,2,1,"div",57)(132,_9,7,0,"div",58),v(),_(133,"div",59)(134,"div",51)(135,"div",3)(136,"span",52),w(137,"\u{1F4DD}"),v(),_(138,"h5",53),w(139,"Recent Expenses"),v()()(),ue(140,C9,2,1,"div",60)(141,b9,7,0,"div",58),v()()()()),t&2&&(x(16),de(" ",r.budgetLimit>0?"\u20B9"+pt(17,39,r.budgetLimit):"Set Budget"," "),x(2),Y("ngIf",r.alerts.length>0),x(7),de("",Qe(26,41,r.financialHealthScore,"1.0-0"),"/100"),x(3),ft("width",r.financialHealthScore,"%"),x(2),$n(r.financialHealthScore>=70?"excellent":r.financialHealthScore>=50?"good":"needs-improvement"),x(),de(" ",r.financialHealthScore>=70?"Excellent":r.financialHealthScore>=50?"Good":"Needs Improvement"," "),x(),Y("ngIf",r.budgetLimit>0),x(9),de("\u20B9",pt(42,44,r.totalSpent)),x(3),ie(r.getFilterLabel()),x(8),de("\u20B9",pt(53,46,r.monthlyTotal)),x(11),de("\u20B9",pt(64,48,r.weeklyTotal)),x(4),Y("ngIf",r.getMonthlyComparison().hasPreviousData||r.monthlyTotal>0),x(3),Wt("active",r.selectedFilter==="all"),x(2),Wt("active",r.selectedFilter==="monthly"),x(2),Wt("active",r.selectedFilter==="yearly"),x(2),Wt("active",r.selectedFilter==="custom"),x(2),Y("ngIf",r.selectedFilter==="custom"),x(13),de("\u20B9",Qe(92,50,r.averageDailySpending,"1.0-0")),x(6),$n(r.spendingTrend),x(),de(" ",r.spendingTrend==="increasing"?"\u{1F4C8}":r.spendingTrend==="decreasing"?"\u{1F4C9}":"\u27A1\uFE0F"," "),x(2),de(" ",r.spendingTrend==="increasing"?"Increasing":r.spendingTrend==="decreasing"?"Decreasing":"Stable"," "),x(5),de(" ",Qe(106,53,r.projectedMonthlySpending,"INR")," "),x(6),de(" ",r.topSpendingDay||"N/A"," "),x(),Y("ngIf",r.spendingPatterns.length>0),x(),Y("ngIf",r.savingsOpportunities.length>0),x(),Y("ngIf",r.financialGoals.length>0),x(13),ie(r.getFilterLabel()),x(2),ie(Qe(130,56,r.getFilteredTotal(),"INR")),x(2),Y("ngIf",r.categories.length>0),x(),Y("ngIf",r.categories.length===0),x(8),Y("ngIf",r.getFilteredExpenses().length>0),x(),Y("ngIf",r.getFilteredExpenses().length===0))},dependencies:[Qt,Kn,cn,Ja,go,Za,Ss,Vl,_0,ms,gs],styles:[".page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:16px;margin-bottom:2rem;box-shadow:0 8px 32px #667eea4d}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#fffc!important;font-size:1.1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:.75rem 1.5rem;border-radius:12px;transition:all .3s ease}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 8px 25px #0003}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.error-message[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33;padding:1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.success-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successPulse .6s ease-out}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f8f9fa;border-radius:16px;border:2px dashed #dee2e6}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.6}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0}.alerts-section[_ngcontent-%COMP%]   .alerts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.alerts-section[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{padding:1rem;border-radius:12px;display:flex;align-items:center;gap:.75rem;font-weight:500}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.alerts-section[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.2rem}.alerts-section[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1}.health-score-section[_ngcontent-%COMP%]   .health-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a;text-align:center}.health-score-section[_ngcontent-%COMP%]   .health-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.health-score-section[_ngcontent-%COMP%]   .health-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:600}.health-score-section[_ngcontent-%COMP%]   .health-header[_ngcontent-%COMP%]   .health-score[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#007bff}.health-score-section[_ngcontent-%COMP%]   .health-bar[_ngcontent-%COMP%]{height:12px;background:#f0f0f0;border-radius:6px;overflow:hidden;margin-bottom:1rem}.health-score-section[_ngcontent-%COMP%]   .health-bar[_ngcontent-%COMP%]   .health-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#28a745,#20c997);border-radius:6px;transition:width .8s ease}.health-score-section[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.health-score-section[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]   .status-text.excellent[_ngcontent-%COMP%]{color:#28a745}.health-score-section[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]   .status-text.good[_ngcontent-%COMP%]{color:#17a2b8}.health-score-section[_ngcontent-%COMP%]   .health-status[_ngcontent-%COMP%]   .status-text.needs-improvement[_ngcontent-%COMP%]{color:#ffc107}.budget-status-section[_ngcontent-%COMP%]   .budget-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.budget-status-section[_ngcontent-%COMP%]   .budget-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.budget-status-section[_ngcontent-%COMP%]   .budget-header[_ngcontent-%COMP%]   .budget-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.budget-status-section[_ngcontent-%COMP%]   .budget-header[_ngcontent-%COMP%]   .budget-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:600}.budget-status-section[_ngcontent-%COMP%]   .budget-header[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#007bff}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-progress-bar[_ngcontent-%COMP%]{height:12px;background:#f0f0f0;border-radius:6px;overflow:hidden;margin-bottom:1rem}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-progress-bar[_ngcontent-%COMP%]   .budget-progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .8s ease}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .budget-stat[_ngcontent-%COMP%]{text-align:center}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .budget-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;display:block;margin-bottom:.25rem}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .budget-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .budget-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.budget-status-section[_ngcontent-%COMP%]   .budget-progress-section[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .budget-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.budget-status-section[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]{text-align:center}.budget-status-section[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:8px;font-weight:500}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center;gap:1.5rem;transition:all .3s ease}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000026}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#666;margin-bottom:.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.25rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:#999}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-weight:600}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{text-align:center}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#007bff}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}@media (max-width: 768px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}}@media (max-width: 480px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 768px) and (orientation: landscape){.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.4rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.filter-controls[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 8px 32px #0000001a;margin-bottom:2rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e9ecef;background:#fff;color:#666;border-radius:8px;font-weight:500;transition:all .3s ease;min-height:44px}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;color:#007bff}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:#007bff;border-color:#007bff;color:#fff}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #e9ecef;border-radius:8px;transition:border-color .3s ease;min-height:44px;font-size:16px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}@media (max-width: 768px){.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px}}@media (max-width: 480px){.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-weight:600}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background:#f8f9fa;border-radius:12px}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}@media (max-width: 768px){.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.3rem}}@media (max-width: 480px){.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px) and (orientation: landscape){.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.1rem}}.patterns-section[_ngcontent-%COMP%]   .patterns-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.patterns-section[_ngcontent-%COMP%]   .patterns-header[_ngcontent-%COMP%]{margin-bottom:2rem}.patterns-section[_ngcontent-%COMP%]   .patterns-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-weight:600}.patterns-section[_ngcontent-%COMP%]   .patterns-header[_ngcontent-%COMP%]   .patterns-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:12px}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-category[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-category[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-amount[_ngcontent-%COMP%]{text-align:right}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-amount[_ngcontent-%COMP%]   .amount-percentage[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-trend[_ngcontent-%COMP%]{margin-left:1rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-trend[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1.2rem}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-trend.increasing[_ngcontent-%COMP%]{color:#dc3545}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-trend.decreasing[_ngcontent-%COMP%]{color:#28a745}.patterns-section[_ngcontent-%COMP%]   .patterns-list[_ngcontent-%COMP%]   .pattern-item[_ngcontent-%COMP%]   .pattern-trend.stable[_ngcontent-%COMP%]{color:#6c757d}.savings-section[_ngcontent-%COMP%]   .savings-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.savings-section[_ngcontent-%COMP%]   .savings-header[_ngcontent-%COMP%]{margin-bottom:2rem}.savings-section[_ngcontent-%COMP%]   .savings-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-weight:600}.savings-section[_ngcontent-%COMP%]   .savings-header[_ngcontent-%COMP%]   .savings-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8f9fa;border-radius:12px}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-category[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-category[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-current[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-potential[_ngcontent-%COMP%]{text-align:center;margin:0 1rem}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-potential[_ngcontent-%COMP%]   .potential-amount[_ngcontent-%COMP%]{font-weight:700;color:#28a745;margin-bottom:.25rem}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-potential[_ngcontent-%COMP%]   .potential-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-priority[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-priority.high[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-priority.medium[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.savings-section[_ngcontent-%COMP%]   .savings-list[_ngcontent-%COMP%]   .savings-item[_ngcontent-%COMP%]   .savings-priority.low[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.tips-section[_ngcontent-%COMP%]   .tips-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.tips-section[_ngcontent-%COMP%]   .tips-header[_ngcontent-%COMP%]{margin-bottom:2rem}.tips-section[_ngcontent-%COMP%]   .tips-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-weight:600}.tips-section[_ngcontent-%COMP%]   .tips-header[_ngcontent-%COMP%]   .tips-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:#f8f9fa;border-radius:12px}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]   .tip-content[_ngcontent-%COMP%]{flex:1}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]   .tip-content[_ngcontent-%COMP%]   .tip-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]   .tip-content[_ngcontent-%COMP%]   .tip-message[_ngcontent-%COMP%]{color:#666;font-size:.9rem;line-height:1.4}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]   .tip-action[_ngcontent-%COMP%]{margin-left:1rem}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]   .tip-action[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#007bff;color:#fff;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .3s ease}.tips-section[_ngcontent-%COMP%]   .tips-list[_ngcontent-%COMP%]   .tip-item[_ngcontent-%COMP%]   .tip-action[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.goals-section[_ngcontent-%COMP%]   .goals-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.goals-section[_ngcontent-%COMP%]   .goals-header[_ngcontent-%COMP%]{margin-bottom:2rem}.goals-section[_ngcontent-%COMP%]   .goals-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333;font-weight:600}.goals-section[_ngcontent-%COMP%]   .goals-header[_ngcontent-%COMP%]   .goals-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]{padding:1.5rem;background:#f8f9fa;border-radius:12px}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-header[_ngcontent-%COMP%]   .goal-name[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#333}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-header[_ngcontent-%COMP%]   .goal-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-header[_ngcontent-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .goal-progress[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#007bff}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-header[_ngcontent-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .goal-edit-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.8rem;border-radius:4px;background:transparent;border:1px solid #007bff;color:#007bff;cursor:pointer;transition:all .2s ease}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-header[_ngcontent-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .goal-edit-btn[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:translateY(-1px)}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-bar[_ngcontent-%COMP%]{height:8px;background:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:1rem}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-bar[_ngcontent-%COMP%]   .goal-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#28a745,#20c997);border-radius:4px;transition:width .8s ease}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-amounts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-amounts[_ngcontent-%COMP%]   .current-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.goals-section[_ngcontent-%COMP%]   .goals-list[_ngcontent-%COMP%]   .goal-card[_ngcontent-%COMP%]   .goal-amounts[_ngcontent-%COMP%]   .target-amount[_ngcontent-%COMP%]{color:#666}.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:600}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.insights-grid[_ngcontent-%COMP%], .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.pattern-item[_ngcontent-%COMP%], .savings-item[_ngcontent-%COMP%], .tip-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (prefers-color-scheme: dark){.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d3748,#1a202c)}.health-card[_ngcontent-%COMP%], .budget-card[_ngcontent-%COMP%], .summary-card[_ngcontent-%COMP%], .comparison-card[_ngcontent-%COMP%], .filter-controls[_ngcontent-%COMP%], .insights-card[_ngcontent-%COMP%], .patterns-card[_ngcontent-%COMP%], .savings-card[_ngcontent-%COMP%], .tips-card[_ngcontent-%COMP%], .goals-card[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]{background:#2d3748!important;color:#fff!important;border-color:#4a5568!important}.empty-state[_ngcontent-%COMP%]{background:#4a5568;border-color:#718096}.pattern-item[_ngcontent-%COMP%], .savings-item[_ngcontent-%COMP%], .tip-item[_ngcontent-%COMP%], .goal-card[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%], .expense-item[_ngcontent-%COMP%], .insight-item[_ngcontent-%COMP%]{background:#4a5568!important;color:#fff!important}.category-breakdown[_ngcontent-%COMP%]{background:#2d3748!important;color:#fff!important}.category-breakdown[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:#4a5568!important;color:#fff!important;border-bottom-color:#718096!important}.category-breakdown[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#e2e8f0!important}.category-breakdown[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{color:#cbd5e0!important}.category-breakdown[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{color:#e2e8f0!important}.recent-expenses[_ngcontent-%COMP%]{background:#2d3748!important;color:#fff!important}.recent-expenses[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{background:#4a5568!important;color:#fff!important;border-bottom-color:#718096!important}.recent-expenses[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{color:#e2e8f0!important}.recent-expenses[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{color:#cbd5e0!important}.recent-expenses[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{color:#e2e8f0!important}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important}.form-control[_ngcontent-%COMP%]{background:#4a5568!important;border-color:#718096!important;color:#e2e8f0!important}.btn[_ngcontent-%COMP%]{border-color:#718096!important}.btn-outline-primary[_ngcontent-%COMP%]{color:#667eea!important;border-color:#667eea!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#667eea!important;color:#fff!important}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-card[_ngcontent-%COMP%]{padding:1.25rem}.card-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-amount[_ngcontent-%COMP%]{font-size:1.5rem}.card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.comparison-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.comparison-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.3rem}.stat-label[_ngcontent-%COMP%]{font-size:.8rem}.filter-section[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.category-breakdown[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.breakdown-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.category-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem;text-align:center}.category-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem;margin:0 auto}.category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.recent-expenses[_ngcontent-%COMP%]{padding:1.25rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.5rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.85rem}.expense-date[_ngcontent-%COMP%]{font-size:.8rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;width:100%}.insights-section[_ngcontent-%COMP%], .patterns-section[_ngcontent-%COMP%], .savings-section[_ngcontent-%COMP%], .tips-section[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.section-title[_ngcontent-%COMP%]{font-size:1.2rem}.insight-item[_ngcontent-%COMP%], .pattern-item[_ngcontent-%COMP%], .opportunity-item[_ngcontent-%COMP%], .tip-item[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem}.insight-title[_ngcontent-%COMP%], .pattern-title[_ngcontent-%COMP%], .opportunity-title[_ngcontent-%COMP%], .tip-title[_ngcontent-%COMP%]{font-size:1rem}.insight-message[_ngcontent-%COMP%], .pattern-message[_ngcontent-%COMP%], .opportunity-message[_ngcontent-%COMP%], .tip-message[_ngcontent-%COMP%]{font-size:.9rem}.goals-section[_ngcontent-%COMP%]{padding:1.25rem}.goal-item[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem}.goal-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.goal-name[_ngcontent-%COMP%]{font-size:1rem}.goal-progress[_ngcontent-%COMP%]{font-size:.9rem}.goal-amounts[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;text-align:center}.current-amount[_ngcontent-%COMP%], .target-amount[_ngcontent-%COMP%]{font-size:.9rem}.budget-section[_ngcontent-%COMP%]{padding:1.25rem}.budget-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.budget-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-set-budget[_ngcontent-%COMP%], .btn-update-emergency[_ngcontent-%COMP%], .btn-update-vacation[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-set-budget[_ngcontent-%COMP%], .btn-update-emergency[_ngcontent-%COMP%], .btn-update-vacation[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.summary-card[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%], .expense-item[_ngcontent-%COMP%], .insight-item[_ngcontent-%COMP%], .goal-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.summary-card[_ngcontent-%COMP%]:active, .category-item[_ngcontent-%COMP%]:active, .expense-item[_ngcontent-%COMP%]:active, .insight-item[_ngcontent-%COMP%]:active, .goal-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-set-budget[_ngcontent-%COMP%]:active, .btn-update-emergency[_ngcontent-%COMP%]:active, .btn-update-vacation[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.summary-card[_ngcontent-%COMP%], .monthly-comparison[_ngcontent-%COMP%], .category-breakdown[_ngcontent-%COMP%], .recent-expenses[_ngcontent-%COMP%], .insights-section[_ngcontent-%COMP%], .patterns-section[_ngcontent-%COMP%], .savings-section[_ngcontent-%COMP%], .tips-section[_ngcontent-%COMP%], .goals-section[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]{padding:1rem}.card-amount[_ngcontent-%COMP%]{font-size:1.3rem}.stat-value[_ngcontent-%COMP%]{font-size:1.2rem}.category-amount[_ngcontent-%COMP%]{font-size:1rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.1rem}.insight-title[_ngcontent-%COMP%], .pattern-title[_ngcontent-%COMP%], .opportunity-title[_ngcontent-%COMP%], .tip-title[_ngcontent-%COMP%], .goal-name[_ngcontent-%COMP%]{font-size:.95rem}.btn-set-budget[_ngcontent-%COMP%], .btn-update-emergency[_ngcontent-%COMP%], .btn-update-vacation[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px) and (orientation: landscape){.summary-cards[_ngcontent-%COMP%], .comparison-stats[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.category-info[_ngcontent-%COMP%]{flex-direction:row}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;overflow-x:hidden}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem;border-radius:12px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.5rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem;min-height:44px}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem;gap:1rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.8rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px;min-height:44px}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.3rem}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.content-card[_ngcontent-%COMP%]{padding:1.5rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.8rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-size:1rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:1rem 0}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{gap:.75rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.95rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:1rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:1rem 0}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.75rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.95rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.8rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1.25rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.6rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.9rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.25rem;gap:.75rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.6rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]{padding:1.25rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}}.budget-setup[_ngcontent-%COMP%]{display:flex;gap:1rem}.budget-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.1rem}.budget-status-section[_ngcontent-%COMP%]{margin-bottom:2rem}.budget-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #e0e0e0}.budget-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.budget-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.budget-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.budget-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea}.budget-progress-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.budget-progress-bar[_ngcontent-%COMP%]{width:100%;height:12px;background:#e9ecef;border-radius:6px;overflow:hidden;margin-bottom:1rem}.budget-progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .8s ease}.budget-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.budget-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#ffffffb3;border-radius:8px;border:1px solid #e0e0e0}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#333}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.budget-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.action-icon[_ngcontent-%COMP%]{margin-right:.5rem}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#666;cursor:pointer;padding:.5rem;border-radius:50%;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#333}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8;transform:translateY(-2px);box-shadow:0 5px 15px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}"]})};var w9=n=>({background:n});function E9(n,e){if(n&1&&(_(0,"option",56),w(1),v()),n&2){let t=e.$implicit;Y("value",t.id),x(),Hn(" ",t.icon," ",t.name," ")}}function I9(n,e){if(n&1){let t=ht();_(0,"button",57),X("click",function(){Ie(t);let i=ee();return De(i.clearCategory())}),w(1," \u2715 "),v()}}function D9(n,e){if(n&1&&(_(0,"option",56),w(1),v()),n&2){let t=e.$implicit;Y("value",t.id),x(),Hn("",t.icon," ",t.name)}}function S9(n,e){if(n&1){let t=ht();_(0,"div",60)(1,"div",61)(2,"div",62),w(3),ve(4,"currency"),v(),_(5,"div",63)(6,"span",64),w(7),v()()(),_(8,"div",65)(9,"div",66),w(10),ve(11,"date"),v(),_(12,"div",67),w(13),v()(),_(14,"div",68)(15,"button",69),X("click",function(){let i=Ie(t).$implicit,o=ee(2);return De(o.editExpense(i))}),_(16,"span",70),w(17,"\u270F\uFE0F"),v()(),_(18,"button",71),X("click",function(){let i=Ie(t).$implicit,o=ee(2);return De(o.deleteExpense(i))}),_(19,"span",70),w(20,"\u{1F5D1}\uFE0F"),v()()()()}if(n&2){let t=e.$implicit,r=e.index,i=ee(2);ft("animation-delay",r*.1+"s"),x(3),ie(Qe(4,8,t.amount,"INR")),x(3),Y("ngStyle",Pl(13,w9,i.getCategoryColor(t.categoryId))),x(),Hn(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),x(3),ie(pt(11,11,t.date)),x(3),ie(t.description||"No description")}}function T9(n,e){if(n&1&&(_(0,"div",58),ue(1,S9,21,15,"div",59),v()),n&2){let t=ee();x(),Y("ngForOf",t.getFilteredExpenses())}}function M9(n,e){n&1&&(_(0,"div",72)(1,"div",73),w(2,"\u{1F4CB}"),v(),_(3,"h6"),w(4,"No expenses found"),v(),_(5,"p"),w(6,"Add your first expense using the form above!"),v()())}var Sm=class n{constructor(e,t,r,i){this.expenseService=e;this.categoryService=t;this.loadingService=r;this.notificationService=i}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";subscription=new Le;ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return C(this,null,function*(){this.loadingService.show("Loading expenses...");try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`),this.notificationService.success("Expenses Loaded! \u{1F4DD}",`Found ${this.expenses.length} expenses in your records.`,"\u2705")}catch(e){console.error("Error loading data:",e),this.notificationService.handleError(e,"Expenses")}finally{this.loadingService.hide()}})}addExpense(){return C(this,null,function*(){if(this.validateExpense()){this.loadingService.show("Adding expense...");try{let e={description:this.newExpense.description,amount:parseFloat(this.newExpense.amount.toString()),date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},t=yield this.expenseService.add(e);console.log(`Expense added with Firebase ID: ${t}`),yield this.loadData(),this.resetForm(),this.notificationService.expenseAdded(e.amount),this.checkAchievements()}catch(e){this.notificationService.handleError(e,"Add Expense")}finally{this.loadingService.hide()}}})}editExpense(e){return C(this,null,function*(){this.loadingService.show("Opening expense editor...");try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=parseFloat(r);if(isNaN(i)||i<=0){this.notificationService.error("Invalid Amount!","Please enter a valid number greater than 0.");return}let o=pe(U({},e),{description:t,amount:i});yield this.expenseService.update(o),yield this.loadData(),this.notificationService.expenseUpdated(o.amount)}catch(t){this.notificationService.handleError(t,"Edit Expense")}finally{this.loadingService.hide()}})}deleteExpense(e){return C(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`)){this.loadingService.show("Deleting expense...");try{yield this.expenseService.delete(e.id),yield this.loadData(),this.notificationService.expenseDeleted()}catch(r){this.notificationService.handleError(r,"Delete Expense")}finally{this.loadingService.hide()}}})}validateExpense(){return this.newExpense.description?.trim()?!this.newExpense.amount||this.newExpense.amount<=0?(this.notificationService.error("Validation Error","Please enter a valid amount greater than 0."),!1):this.newExpense.categoryId?this.newExpense.date?!0:(this.notificationService.error("Validation Error","Please select a date."),!1):(this.notificationService.error("Validation Error","Please select a category."),!1):(this.notificationService.error("Validation Error","Please enter a description."),!1)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""}}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo=""}clearCategory(){this.newExpense.categoryId=""}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?this.notificationService.achievement("10 Expenses Milestone! \u{1F3AF}","Congratulations! You've logged your 10th expense. Keep up the great tracking!","\u{1F389}"):e===50?this.notificationService.achievement("50 Expenses Milestone! \u{1F3C6}","Amazing! You've logged 50 expenses. You're becoming a tracking expert!","\u{1F3C6}"):e===100&&this.notificationService.achievement("100 Expenses Milestone! \u{1F48E}","Incredible! You've logged 100 expenses. You're a financial tracking master!","\u{1F48E}");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);this.notificationService.categoryMastery(o)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&this.notificationService.streakAchievement(o)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}static \u0275fac=function(t){return new(t||n)(B(Zr),B(Jn),B(Xn),B(er))};static \u0275cmp=dt({type:n,selectors:[["app-expenses"]],decls:108,vars:20,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"mb-0"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","number","id","expenseAmount","placeholder","0.00","name","amount","step","0.01","min","0","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseCategory",1,"form-label-modern"],[1,"position-relative","category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","btn btn-sm btn-outline-danger position-absolute clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"filters-card","mb-4"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterAmount",1,"form-label-modern"],["type","number","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],[3,"value"],["type","button","title","Clear selection",1,"btn","btn-sm","btn-outline-danger","position-absolute","clear-category-btn",3,"click"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"]],template:function(t,r){if(t&1){let i=ht();_(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),w(5,"\u{1F4B8}"),v()(),_(6,"div")(7,"h1",7),w(8,"Expenses"),v(),_(9,"p",8),w(10,"Track and manage your daily expenses"),v()()()(),_(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),w(15,"\u2795"),v(),_(16,"h5",12),w(17,"Add New Expense"),v()()(),_(18,"div",13)(19,"form",14,0),X("ngSubmit",function(){return Ie(i),De(r.addExpense())}),_(21,"div",15)(22,"div",16)(23,"label",17),w(24,"Amount"),v(),_(25,"div",18)(26,"span",19),w(27,"\u20B9"),v(),_(28,"input",20),Ut("ngModelChange",function(s){return Ie(i),Kt(r.newExpense.amount,s)||(r.newExpense.amount=s),De(s)}),v()()(),_(29,"div",16)(30,"label",21),w(31,"Date"),v(),_(32,"input",22),Ut("ngModelChange",function(s){return Ie(i),Kt(r.newExpense.date,s)||(r.newExpense.date=s),De(s)}),v()(),_(33,"div",16)(34,"label",23),w(35,"Category"),v(),_(36,"div",24)(37,"select",25),Ut("ngModelChange",function(s){return Ie(i),Kt(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),De(s)}),_(38,"option",26),w(39,"\u{1F3F7}\uFE0F Select a category"),v(),ue(40,E9,2,3,"option",27),v(),ue(41,I9,2,0,"button",28),v()(),_(42,"div",16)(43,"label",29),w(44,"Description"),v(),_(45,"input",30),Ut("ngModelChange",function(s){return Ie(i),Kt(r.newExpense.description,s)||(r.newExpense.description=s),De(s)}),v()(),_(46,"div",31)(47,"label",32),w(48,"\xA0"),v(),_(49,"button",33)(50,"span",34),w(51,"\u2795"),v(),_(52,"span",35),w(53,"Add Expense"),v()()()()()()(),_(54,"div",36)(55,"div",10)(56,"div",4)(57,"span",11),w(58,"\u{1F50D}"),v(),_(59,"h5",12),w(60,"Filters"),v()()(),_(61,"div",13)(62,"div",37)(63,"div",38)(64,"label",39),w(65,"Category"),v(),_(66,"select",40),Ut("ngModelChange",function(s){return Ie(i),Kt(r.filterCategory,s)||(r.filterCategory=s),De(s)}),_(67,"option",41),w(68,"\u{1F3F7}\uFE0F All Categories"),v(),ue(69,D9,2,3,"option",27),v()(),_(70,"div",38)(71,"label",42),w(72,"From Date"),v(),_(73,"input",43),Ut("ngModelChange",function(s){return Ie(i),Kt(r.filterDateFrom,s)||(r.filterDateFrom=s),De(s)}),v()(),_(74,"div",38)(75,"label",44),w(76,"To Date"),v(),_(77,"input",45),Ut("ngModelChange",function(s){return Ie(i),Kt(r.filterDateTo,s)||(r.filterDateTo=s),De(s)}),v()(),_(78,"div",38)(79,"label",46),w(80,"Min Amount"),v(),_(81,"input",47),Ut("ngModelChange",function(s){return Ie(i),Kt(r.filterAmount,s)||(r.filterAmount=s),De(s)}),v()(),_(82,"div",48)(83,"label",32),w(84,"\xA0"),v(),_(85,"button",49),X("click",function(){return Ie(i),De(r.clearFilters())}),_(86,"span",34),w(87,"\u{1F504}"),v(),_(88,"span",35),w(89,"Clear Filters"),v()()()()()(),_(90,"div",50)(91,"div",10)(92,"div",51)(93,"div",4)(94,"span",11),w(95,"\u{1F4CB}"),v(),_(96,"h5",12),w(97,"All Expenses"),v()(),_(98,"div",52)(99,"div",53),w(100),ve(101,"currency"),v(),_(102,"div",54),w(103),v()()()(),_(104,"div",13),ue(105,T9,2,1,"div",55)(106,M9,7,0,"ng-template",null,1,Kv),v()()()}if(t&2){let i=Df(20),o=Df(107);x(28),jt("ngModel",r.newExpense.amount),x(4),jt("ngModel",r.newExpense.date),x(5),jt("ngModel",r.newExpense.categoryId),x(),Y("selected",!r.newExpense.categoryId),x(2),Y("ngForOf",r.categories),x(),Y("ngIf",r.newExpense.categoryId),x(4),jt("ngModel",r.newExpense.description),x(4),Y("disabled",!i.form.valid),x(17),jt("ngModel",r.filterCategory),x(3),Y("ngForOf",r.categories),x(4),jt("ngModel",r.filterDateFrom),x(4),jt("ngModel",r.filterDateTo),x(4),jt("ngModel",r.filterAmount),x(19),ie(Qe(101,17,r.getTotalAmount(),"INR")),x(3),de("",r.getFilteredExpenses().length," expenses"),x(2),Y("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",o)}},dependencies:[Qt,Kn,cn,Ll,Ja,Gp,g1,y1,go,kC,Wp,Za,Hp,Tu,FC,Ss,Su,ms,gs],styles:['.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr auto;gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.3;margin-top:.25rem;text-align:center;width:100%}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:40px;top:50%;transform:translateY(-50%);z-index:10;width:20px;height:20px;padding:0;display:flex;align-items:center;justify-content:center;font-size:10px;background:#fffffff2;border-radius:50%;border:1px solid #dc3545;color:#dc3545;transition:all .2s ease;box-shadow:0 1px 3px #0000001a}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:translateY(-50%) scale(1.1)}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:70px;max-height:200px;overflow-y:auto}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:55px;width:55px;font-size:1.2rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:10000;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:10001;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})};var x9=n=>({background:n});function P9(n,e){n&1&&(_(0,"div",35)(1,"span",36),w(2,"\u26A0\uFE0F"),v(),w(3," Category name already exists! "),v())}function O9(n,e){if(n&1){let t=ht();_(0,"div",37)(1,"p",38),w(2,"No categories found. Would you like to initialize default categories?"),v(),_(3,"button",39),X("click",function(){Ie(t);let i=ee();return De(i.initializeDefaultCategories())}),_(4,"span",40),w(5,"\u{1F4C2}"),v(),w(6," Initialize Default Categories "),v()()}}function A9(n,e){if(n&1){let t=ht();_(0,"div",43)(1,"div",44)(2,"div",45),at(3,"div",46),_(4,"div",47),w(5),v(),_(6,"div",48),w(7),v()(),_(8,"div",49)(9,"button",50),X("click",function(){let i=Ie(t).$implicit,o=ee(2);return De(o.updateCategory(i))}),_(10,"span",51),w(11,"\u270F\uFE0F"),v(),_(12,"span",52),w(13,"Edit"),v()(),_(14,"button",53),X("click",function(){let i=Ie(t).$implicit,o=ee(2);return De(o.confirmDelete(i))}),_(15,"span",54),w(16,"\u{1F5D1}\uFE0F"),v(),_(17,"span",55),w(18,"Delete"),v()()()()()}if(n&2){let t=e.$implicit;x(3),Y("ngStyle",Pl(3,x9,t.color)),x(2),ie(t.icon),x(2),ie(t.name)}}function R9(n,e){if(n&1&&(_(0,"div",41),ue(1,A9,19,5,"div",42),v()),n&2){let t=ee();x(),Y("ngForOf",t.categories)}}function N9(n,e){n&1&&(_(0,"div",56)(1,"div",57),w(2,"\u{1F4C2}"),v(),_(3,"h6",58),w(4,"No Categories Yet"),v(),_(5,"p",59),w(6,"Start by adding your first expense category above."),v()())}var Tm=class n{constructor(e,t,r){this.categoryService=e;this.loadingService=t;this.notificationService=r}categories=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";sortBy="name";sortOrder="asc";isDuplicateCategory=!1;subscription=new Le;ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return C(this,null,function*(){this.loadingService.show("Loading categories...");try{this.categories=yield this.categoryService.getAll(),this.notificationService.success("Categories Loaded! \u{1F4C2}",`Found ${this.categories.length} categories.`,"\u2705")}catch(e){this.notificationService.handleError(e,"Categories")}finally{this.loadingService.hide()}})}initializeDefaultCategories(){return C(this,null,function*(){this.loadingService.show("Initializing default categories...");try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData(),this.notificationService.success("Default Categories Added! \u{1F4C2}","Default categories have been initialized successfully.","\u2705")}catch(e){this.notificationService.handleError(e,"Initialize Categories")}finally{this.loadingService.hide()}})}addCategory(){return C(this,null,function*(){if(this.validateCategory()){this.loadingService.show("Adding category...");try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),yield this.loadData(),this.resetForm(),this.notificationService.categoryAdded(e.name)}catch(e){this.notificationService.handleError(e,"Add Category")}finally{this.loadingService.hide()}}})}updateCategory(e){return C(this,null,function*(){this.loadingService.show("Opening category editor...");try{console.log(`Updating category: ${e.name} (ID: ${e.id}, length: ${e.id.length})`);let t=window.prompt("Category name:",e.name)||e.name,r=window.prompt("Category color (hex):",e.color)||e.color;if(!t.trim()){this.notificationService.error("Invalid Name!","Please enter a valid category name.");return}let i=pe(U({},e),{name:t.trim(),color:r});console.log(`Sending update to Firebase for category ID: ${i.id}`),yield this.categoryService.update(i),console.log("Category updated successfully"),yield this.loadData(),this.notificationService.categoryUpdated(i.name)}catch(t){console.error("Error updating category:",t),this.notificationService.handleError(t,"Update Category")}finally{this.loadingService.hide()}})}deleteCategory(e){return C(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"? This will also delete all associated expenses.`)){this.loadingService.show("Deleting category...");try{console.log(`Deleting category: ${e.name} (ID: ${e.id})`),yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),yield this.loadData(),this.notificationService.categoryDeleted(e.name)}catch(r){console.error("Error deleting category:",r),this.notificationService.handleError(r,"Delete Category")}finally{this.loadingService.hide()}}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){if(!this.newCategory.name?.trim())return this.notificationService.error("Validation Error","Please enter a category name."),!1;let e=this.categories.find(t=>t.name.toLowerCase()===this.newCategory.name.toLowerCase());return this.isDuplicateCategory=!!e,this.isDuplicateCategory?(this.notificationService.error("Duplicate Category","A category with this name already exists. Please choose a different name."),!1):!0}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];return this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":i=this.getCategoryUsage(t.id),o=this.getCategoryUsage(r.id);break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryUsage(e){return Math.floor(Math.random()*100)}clearSearch(){this.searchTerm=""}generateId(){return Math.random().toString(36).substr(2,9)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#ff8e53","#2ecc71","#e74c3c","#f39c12","#9b59b6","#34495e","#1abc9c","#e67e22","#3498db","#8e44ad","#16a085"]}getIconPresets(){return["\u{1F37D}\uFE0F","\u{1F697}","\u{1F6CD}\uFE0F","\u{1F3AC}","\u{1F4A1}","\u{1F3E5}","\u{1F4DA}","\u{1F3E0}","\u{1F6E1}\uFE0F","\u{1F4B0}","\u{1F355}","\u2615","\u{1F3B5}","\u{1F3AE}","\u{1F3C3}","\u{1F9D8}","\u{1F4F1}","\u{1F4BB}","\u{1F4F7}","\u{1F3A8}","\u{1F331}","\u{1F415}","\u{1F431}","\u{1F99C}","\u{1F420}","\u{1F33A}","\u{1F332}","\u{1F30A}","\u26F0\uFE0F","\u{1F3D6}\uFE0F"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets(),t=Math.floor(Math.random()*e.length);this.newCategory.color=e[t]}getCategoryCount(){return this.getFilteredCategories().length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)>r?t:e})}getLeastUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)<r?t:e})}static \u0275fac=function(t){return new(t||n)(B(Jn),B(Xn),B(er))};static \u0275cmp=dt({type:n,selectors:[["app-categories"]],decls:52,vars:11,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"random-icon"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"error-message"],[1,"error-icon"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"\u{1F4C2}"),v(),_(5,"div",4)(6,"h1",5),w(7,"Categories"),v(),_(8,"p",6),w(9,"Manage your expense categories and organize your spending"),v()()()(),_(10,"div",7)(11,"div",8)(12,"div",2)(13,"span",3),w(14,"\u2795"),v(),_(15,"h3",9),w(16,"Add New Category"),v()()(),_(17,"div",10)(18,"form",11),X("ngSubmit",function(){return r.addCategory()}),_(19,"div",12)(20,"div",13)(21,"label",14),w(22,"Category Name"),v(),_(23,"input",15),Ut("ngModelChange",function(o){return Kt(r.newCategory.name,o)||(r.newCategory.name=o),o}),X("input",function(){return r.clearValidationErrors()}),v(),ue(24,P9,4,0,"div",16),v(),_(25,"div",13)(26,"label",17),w(27,"Color"),v(),_(28,"div",18)(29,"input",19),Ut("ngModelChange",function(o){return Kt(r.newCategory.color,o)||(r.newCategory.color=o),o}),v(),_(30,"button",20),X("click",function(){return r.setRandomColor()}),_(31,"span",21),w(32,"\u{1F3B2}"),v(),w(33," Random "),v()()()(),_(34,"div",22)(35,"button",23)(36,"span",24),w(37,"\u2795"),v(),_(38,"span",25),w(39,"Add Category"),v()()()()()(),_(40,"div",26)(41,"div",27)(42,"div",28)(43,"span",29),w(44,"\u{1F4C2}"),v(),_(45,"h3",30),w(46,"Your Categories"),v()(),_(47,"div",31),w(48),v()(),ue(49,O9,7,0,"div",32)(50,R9,2,1,"div",33)(51,N9,7,0,"div",34),v()()),t&2&&(x(23),Wt("error",r.isDuplicateCategory),jt("ngModel",r.newCategory.name),x(),Y("ngIf",r.isDuplicateCategory),x(5),jt("ngModel",r.newCategory.color),x(6),Y("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),x(13),Hn("",r.categories.length," ",r.categories.length===1?"Category":"Categories"),x(),Y("ngIf",r.categories.length===0),x(),Y("ngIf",r.categories.length>0),x(),Y("ngIf",r.categories.length===0))},dependencies:[Qt,Kn,cn,Ll,Ja,Gp,go,Za,Hp,Tu,Ss,Su],styles:['.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.add-category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:200px}.form-group[_ngcontent-%COMP%]:first-child{flex:2;min-width:300px}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem;display:block}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:12px;padding:.875rem 1rem;font-size:1rem;transition:all .3s ease;background:#f8f9fa;width:100%;height:50px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;background:#fff;transform:translateY(-2px)}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354526}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem;background:#dc35451a;border-radius:8px;border-left:3px solid #dc3545}.error-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1rem}.color-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;height:50px}.color-input[_ngcontent-%COMP%]{width:60px;height:50px;border:none;border-radius:12px;cursor:pointer;transition:transform .3s ease;flex-shrink:0}.color-input[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-random-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:.75rem 1.5rem;display:flex;align-items:center;gap:.5rem;font-weight:600;transition:all .3s ease;cursor:pointer;height:50px}.btn-random-color[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.random-icon[_ngcontent-%COMP%]{font-size:1.1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;border:none;border-radius:15px;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #fa709a4d;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 25px #fa709a66}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;justify-content:space-between}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.3rem;background:#fff3;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0}.category-count[_ngcontent-%COMP%]{background:#fff3;padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;padding:2rem}.category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .6s ease-out}.category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#fa709a,#fee140);transform:scaleX(0);transition:transform .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 10px 30px #0000001f}.category-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.category-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-color-indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;flex-shrink:0;box-shadow:0 2px 8px #0000001a}.category-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:1rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;flex-grow:1}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;border:none;border-radius:10px;padding:.75rem 1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.9rem;min-width:100px}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #ff6b6b66}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-size:.85rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-description[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:10000}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:10000;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]:first-child, .color-group[_ngcontent-%COMP%]{flex:none;min-width:auto}.button-container[_ngcontent-%COMP%]{margin-top:0}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px}.color-input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.color-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1rem}.color-controls[_ngcontent-%COMP%], .color-input-group[_ngcontent-%COMP%]{justify-content:space-between;gap:1rem}.form-control-color-modern[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;height:60px;border-radius:15px;flex:1;justify-content:center}.form-control-modern[_ngcontent-%COMP%]{height:60px;font-size:1.1rem;padding:1rem 1.25rem}.form-label-modern[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.5rem}.category-card[_ngcontent-%COMP%]{padding:1.25rem}.category-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}.category-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{width:100%}.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}}.category-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.category-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.category-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.category-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.category-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.category-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.category-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.form-control[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem;width:100%;margin-bottom:0}.color-group[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;width:100%}.color-input[_ngcontent-%COMP%]{width:100%;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem;padding:.75rem 1rem;border-radius:15px;justify-content:center;margin:0}.button-container[_ngcontent-%COMP%]{margin-top:2.5rem;width:100%;display:flex;justify-content:center}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px;margin:0}.section-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.3rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.category-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.category-color-indicator[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem}.category-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.category-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.category-count[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-category[_ngcontent-%COMP%], .btn-random-color[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem}.category-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.category-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-category[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.section-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.categories-grid[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%]{padding:.75rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 768px){.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;display:block}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem;border-radius:8px}.form-group[_ngcontent-%COMP%] + .form-group[_ngcontent-%COMP%]{margin-top:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}}']})};function k9(n,e){if(n&1&&(_(0,"div",19),w(1),ve(2,"currency"),v()),n&2){let t=ee(2);Wt("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),x(),de(" ",Qe(2,5,t.getMonthlyComparison().change,"INR")," ")}}function F9(n,e){n&1&&(_(0,"div",23),w(1," First Month "),v())}function L9(n,e){if(n&1&&(_(0,"div",13)(1,"div",14)(2,"div",15)(3,"h3"),w(4,"Current Month Overview"),v(),_(5,"span",16),w(6),v()(),_(7,"div",17)(8,"div",18)(9,"div",19),w(10),ve(11,"currency"),v(),_(12,"div",20),w(13,"Total Spent"),v()(),_(14,"div",18)(15,"div",19),w(16),v(),_(17,"div",20),w(18,"Expenses"),v()(),_(19,"div",18),ue(20,k9,3,8,"div",21)(21,F9,2,0,"div",22),_(22,"div",20),w(23,"vs Last Month"),v()()()()()),n&2){let t,r,i,o,s=ee();x(6),ie((t=s.getCurrentMonthReport())==null?null:t.monthName),x(4),ie(Qe(11,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),x(6),ie((i=s.getCurrentMonthReport())==null?null:i.expenseCount),x(4),Y("ngIf",s.getMonthlyComparison().hasPreviousData),x(),Y("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function V9(n,e){if(n&1&&(_(0,"div",35)(1,"span",36),w(2),v(),_(3,"span",37),w(4),v(),_(5,"span",38),w(6),ve(7,"currency"),v()()),n&2){let t=e.$implicit;x(),ft("background-color",t.category.color),x(),ie(t.category.icon),x(2),ie(t.category.name),x(2),ie(Qe(7,5,t.amount,"INR"))}}function j9(n,e){if(n&1){let t=ht();_(0,"div",26),X("click",function(){let i=Ie(t).$implicit,o=ee(2);return De(o.selectMonth(i.monthKey))}),_(1,"div",27)(2,"h4",28),w(3),v(),_(4,"div",29),w(5,"\u2192"),v()(),_(6,"div",30)(7,"div",31),w(8),ve(9,"currency"),v(),_(10,"div",32),w(11),v()(),_(12,"div",33),ue(13,V9,8,8,"div",34),v()()}if(n&2){let t=e.$implicit;x(3),ie(t.monthName),x(5),ie(Qe(9,4,t.totalAmount,"INR")),x(3),de("",t.expenseCount," expenses"),x(2),Y("ngForOf",t.categoryBreakdown.slice(0,3))}}function U9(n,e){if(n&1&&(_(0,"div",24),ue(1,j9,14,7,"div",25),v()),n&2){let t=ee();x(),Y("ngForOf",t.monthlyReports)}}function B9(n,e){n&1&&(_(0,"div",39)(1,"div",40),w(2,"\u{1F4CA}"),v(),_(3,"h6"),w(4,"No Reports Available"),v(),_(5,"p"),w(6,"Add some expenses to see your monthly reports!"),v()())}function z9(n,e){if(n&1&&(_(0,"div",51)(1,"div",52)(2,"span",36),w(3),v(),_(4,"div",53)(5,"div",37),w(6),v(),_(7,"div",54),w(8),v()()(),_(9,"div",38),w(10),ve(11,"currency"),v()()),n&2){let t=e.$implicit;x(2),ft("background-color",t.category.color),x(),ie(t.category.icon),x(3),ie(t.category.name),x(2),de("",t.count," expenses"),x(2),ie(Qe(11,6,t.amount,"INR"))}}function $9(n,e){if(n&1&&(_(0,"div",55)(1,"div",56)(2,"div",57),w(3),ve(4,"currency"),v(),_(5,"div",58)(6,"span",59),w(7),v()()(),_(8,"div",60)(9,"div",61),w(10),ve(11,"date"),v(),_(12,"div",62),w(13),v()()()),n&2){let t=e.$implicit,r=ee(2);x(3),ie(Qe(4,7,t.amount,"INR")),x(3),ft("background-color",r.getCategoryColor(t.categoryId)),x(),Hn(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),x(3),ie(pt(11,10,t.date)),x(3),ie(t.description||"No description")}}function H9(n,e){if(n&1){let t=ht();_(0,"div",41)(1,"div",42)(2,"button",43),X("click",function(){Ie(t);let i=ee();return De(i.showDetailedView=!1)}),w(3,"\u2190 Back to Overview"),v(),_(4,"h3"),w(5),v()(),_(6,"div",44)(7,"div",45)(8,"h4"),w(9,"Category Breakdown"),v(),_(10,"div",46),ue(11,z9,12,9,"div",47),v()(),_(12,"div",48)(13,"h4"),w(14,"All Expenses"),v(),_(15,"div",49),ue(16,$9,14,12,"div",50),v()()()()}if(n&2){let t,r,i,o=ee();x(5),de("",(t=o.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),x(6),Y("ngForOf",(r=o.getSelectedMonthReport())==null?null:r.categoryBreakdown),x(5),Y("ngForOf",(i=o.getSelectedMonthReport())==null?null:i.expenses)}}var Mm=class n{constructor(e,t,r,i){this.expenseService=e;this.categoryService=t;this.loadingService=r;this.notificationService=i}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;ngOnInit(){this.loadData()}loadData(){return C(this,null,function*(){this.loadingService.show("Loading reports...");try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports(),this.notificationService.success("Reports Loaded! \u{1F4CA}",`Found ${this.expenses.length} expenses for analysis.`,"\u2705")}catch(e){this.notificationService.handleError(e,"Reports")}finally{this.loadingService.hide()}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r})})}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0,o=i?r/t.totalAmount*100:0;return{change:r,percentage:o,hasPreviousData:i}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}static \u0275fac=function(t){return new(t||n)(B(Zr),B(Jn),B(Xn),B(er))};static \u0275cmp=dt({type:n,selectors:[["app-monthly-reports"]],decls:20,vars:4,consts:[[1,"monthly-reports-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","overview-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],["class","reports-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-name"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"detailed-content"],[1,"breakdown-section"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"expense-item"],[1,"expense-info"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"\u{1F4CA}"),v(),_(5,"div",4)(6,"h1",5),w(7,"Monthly Reports"),v(),_(8,"p",6),w(9,"Track your spending patterns and get insights"),v()()()(),ue(10,L9,24,8,"div",7),_(11,"div",8)(12,"div",9)(13,"h3"),w(14,"Monthly Breakdown"),v(),_(15,"p"),w(16,"Click on any month to view detailed breakdown"),v()(),ue(17,U9,2,1,"div",10)(18,B9,7,0,"div",11),v(),ue(19,H9,17,3,"div",12),v()),t&2&&(x(10),Y("ngIf",r.getCurrentMonthReport()),x(7),Y("ngIf",r.monthlyReports.length>0),x(),Y("ngIf",r.monthlyReports.length===0),x(),Y("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[Qt,Kn,cn,ms,gs],styles:['.monthly-reports-page[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #667eea26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.overview-section[_ngcontent-%COMP%]{margin-bottom:2rem}.overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3}.overview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.month-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background:#fff;border-radius:15px;box-shadow:0 5px 15px #00000014;border:1px solid #f0f0f0}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.stat-value.new-month[_ngcontent-%COMP%]{color:#17a2b8;font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.reports-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#333;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.report-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.report-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#667eea,#764ba2);transform:scaleX(0);transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001f}.report-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.month-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin:0}.report-arrow[_ngcontent-%COMP%]{font-size:1.5rem;color:#667eea;transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.report-amount[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:.25rem}.report-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:8px}.category-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.category-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;color:#333;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:600}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.detailed-view[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden;margin-top:2rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;gap:1rem}.back-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:background-color .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.detailed-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.detailed-content[_ngcontent-%COMP%]{padding:2rem}.breakdown-section[_ngcontent-%COMP%]{margin-bottom:2rem}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.expenses-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.expense-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.category-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:15px;color:#fff;font-size:.8rem;font-weight:500;display:inline-flex;align-items:center;gap:.25rem}.expense-details[_ngcontent-%COMP%]{text-align:right}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-bottom:.25rem}.expense-description[_ngcontent-%COMP%]{font-size:.85rem;color:#999}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:1rem}.overview-stats[_ngcontent-%COMP%], .reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.detailed-content[_ngcontent-%COMP%]{padding:1rem}}']})};var Ck=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:Dm},{path:"expenses",component:Sm},{path:"categories",component:Tm},{path:"reports",component:Mm}];var bk={providers:[D_(),Zv({eventCoalescing:!0}),Z0(Ck),GO()]};var No=class n{themeKey="theme";currentTheme="light";constructor(){let e=localStorage.getItem(this.themeKey);this.currentTheme=e||"light",this.applyTheme()}toggleTheme(){this.currentTheme=this.currentTheme==="light"?"dark":"light",localStorage.setItem(this.themeKey,this.currentTheme),this.applyTheme()}getTheme(){return this.currentTheme}applyTheme(){document.documentElement.setAttribute("data-theme",this.currentTheme)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Pc=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var xm=class n{constructor(e,t){this.themeService=e;this.scrollService=t}toggleTheme(){this.themeService.toggleTheme()}onNavClick(){this.scrollService.scrollToTop()}static \u0275fac=function(t){return new(t||n)(B(No),B(Pc))};static \u0275cmp=dt({type:n,selectors:[["app-navbar"]],decls:41,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-modern","fixed-top",2,"position","fixed !important","top","0 !important","left","0 !important","right","0 !important","z-index","1030 !important","width","100% !important"],[1,"container-fluid","px-4"],["routerLink","/dashboard",1,"navbar-brand-modern",3,"click"],[1,"brand-icon"],[1,"brand-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler-modern","d-lg-none"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link-modern",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link-modern",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link-modern",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link-modern",3,"click"],[1,"btn-theme-toggle",3,"click"],[1,"theme-icon"],[1,"theme-text"]],template:function(t,r){t&1&&(_(0,"nav",0)(1,"div",1)(2,"a",2),X("click",function(){return r.onNavClick()}),_(3,"span",3),w(4,"\u{1F4B0}"),v(),_(5,"span",4),w(6,"Expense Tracker"),v()(),_(7,"button",5),at(8,"span",6),v(),_(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),X("click",function(){return r.onNavClick()}),_(13,"span",11),w(14,"\u{1F4CA}"),v(),_(15,"span",12),w(16,"Dashboard"),v()()(),_(17,"li",9)(18,"a",13),X("click",function(){return r.onNavClick()}),_(19,"span",11),w(20,"\u{1F4B8}"),v(),_(21,"span",12),w(22,"Expenses"),v()()(),_(23,"li",9)(24,"a",14),X("click",function(){return r.onNavClick()}),_(25,"span",11),w(26,"\u{1F3F7}\uFE0F"),v(),_(27,"span",12),w(28,"Categories"),v()()(),_(29,"li",9)(30,"a",15),X("click",function(){return r.onNavClick()}),_(31,"span",11),w(32,"\u{1F4CA}"),v(),_(33,"span",12),w(34,"Reports"),v()()(),_(35,"li",9)(36,"button",16),X("click",function(){return r.toggleTheme()}),_(37,"span",17),w(38),v(),_(39,"span",18),w(40,"Theme"),v()()()()()()()),t&2&&(x(38),ie(r.themeService.getTheme()==="light"?"\u{1F319}":"\u2600\uFE0F"))},dependencies:[ho,uu],styles:[`.navbar-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 4px 20px #ff6b354d;padding:1rem 0;position:fixed!important;top:0!important;left:0!important;right:0!important;width:100%!important;margin:0;animation:slideInUp .6s ease-out;z-index:1030!important;overflow:hidden;pointer-events:auto}.navbar-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 3s infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.navbar-brand-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#fff;text-decoration:none;font-size:1.5rem;font-weight:700;transition:all .3s ease;position:relative;z-index:1031;pointer-events:auto;cursor:pointer}.navbar-brand-modern[_ngcontent-%COMP%]:hover{color:#fff;transform:translateY(-2px);text-decoration:none}.brand-icon[_ngcontent-%COMP%]{font-size:2rem;background:#fff3;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.navbar-brand-modern[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1)}.brand-text[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.navbar-toggler-modern[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.3);border-radius:8px;padding:.5rem;transition:all .3s ease;position:relative;z-index:1031;pointer-events:auto;cursor:pointer}.navbar-toggler-modern[_ngcontent-%COMP%]:hover{border-color:#fff9;background:#ffffff1a}.navbar-toggler-modern[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ffffff40}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.nav-link-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fffc!important;text-decoration:none;padding:.75rem 1rem;border-radius:12px;transition:all .3s ease;position:relative;z-index:1031;font-weight:500;pointer-events:auto;cursor:pointer}.nav-link-modern[_ngcontent-%COMP%]:hover{color:#fff!important;background:#ffffff1a;transform:translateY(-2px);text-decoration:none}.nav-link-modern.active[_ngcontent-%COMP%]{color:#fff!important;background:linear-gradient(135deg,#ffffff40,#ffffff26);font-weight:600;border:2px solid rgba(255,255,255,.4);box-shadow:0 4px 15px #fff3;transform:translateY(-1px)}.nav-icon[_ngcontent-%COMP%]{font-size:1.2rem;background:#ffffff1a;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.nav-link-modern[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%], .nav-link-modern.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#fff3;transform:scale(1.1)}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff4d,#fff3);transform:scale(1.15);box-shadow:0 2px 8px #ffffff4d}.nav-text[_ngcontent-%COMP%]{font-weight:500}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}.navbar-nav[_ngcontent-%COMP%]{gap:.5rem;padding-right:1.5rem;pointer-events:auto;position:relative;z-index:1031}.btn-theme-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:2px solid rgba(255,255,255,.4);border-radius:15px;padding:.75rem 1.5rem;font-weight:600;transition:all .3s ease;cursor:pointer;position:relative;z-index:1031;margin-left:1rem;box-shadow:0 4px 15px #ffd23f4d;pointer-events:auto}.btn-theme-toggle[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3ec300,#ffd23f);border-color:#fff9;transform:translateY(-3px) scale(1.02);color:#fff;text-decoration:none;box-shadow:0 8px 25px #ffd23f66}.theme-icon[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;box-shadow:0 2px 8px #ffffff4d}.btn-theme-toggle[_ngcontent-%COMP%]:hover   .theme-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.15);box-shadow:0 4px 12px #fff6}.theme-text[_ngcontent-%COMP%]{font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.1)}@media (max-width: 991.98px){.navbar-modern[_ngcontent-%COMP%]{padding:.75rem 0;height:60px;min-height:60px;max-height:60px}.navbar-brand-modern[_ngcontent-%COMP%]{font-size:1.25rem;pointer-events:auto;cursor:pointer}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.nav-link-modern[_ngcontent-%COMP%]{padding:1rem;margin:.25rem 0;pointer-events:auto;cursor:pointer;min-height:44px}.nav-link-modern.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff40,#ffffff26);border:2px solid rgba(255,255,255,.4);box-shadow:0 4px 15px #fff3;transform:translateY(-1px)}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff4d,#fff3);transform:scale(1.15);box-shadow:0 2px 8px #ffffff4d}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}.btn-theme-toggle[_ngcontent-%COMP%]{margin-top:1rem;width:100%;justify-content:center;background:linear-gradient(135deg,#ffd23f,#3ec300);border:2px solid rgba(255,255,255,.4);box-shadow:0 4px 15px #ffd23f4d;pointer-events:auto;cursor:pointer;min-height:44px}.btn-theme-toggle[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3ec300,#ffd23f);transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #ffd23f66}.btn-theme-toggle[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{background:#fff3;box-shadow:0 2px 8px #ffffff4d}.btn-theme-toggle[_ngcontent-%COMP%]:hover   .theme-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.15);box-shadow:0 4px 12px #fff6}.btn-theme-toggle[_ngcontent-%COMP%]   .theme-text[_ngcontent-%COMP%]{font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.1)}.navbar-collapse[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031}.navbar-toggler-modern[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:1031;min-height:44px;min-width:44px}}[data-theme=dark][_ngcontent-%COMP%]   .navbar-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e)}[data-theme=dark][_ngcontent-%COMP%]   .navbar-modern[_ngcontent-%COMP%]:before{background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%)}.navbar-modern[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1030!important;pointer-events:auto;background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 4px 20px #ff6b354d;width:100%!important;height:80px!important;min-height:80px!important;max-height:80px!important}.navbar-brand-modern[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:1031;color:#fff;text-decoration:none;display:flex;align-items:center;gap:.75rem;font-weight:700;font-size:1.2rem}.nav-link-modern[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:1031;color:#fff;text-decoration:none;padding:.75rem 1rem;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;margin:0 .25rem;height:auto;min-height:44px}.nav-link-modern[_ngcontent-%COMP%]:hover{background:#ffffff26;color:#fff;text-decoration:none;transform:translateY(-1px)}.nav-link-modern.active[_ngcontent-%COMP%]{background:#fff3;color:#fff;text-decoration:none;box-shadow:0 2px 8px #0000001a}.btn-theme-toggle[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:1031;background:linear-gradient(135deg,#ffd23f,#3ec300);border:2px solid rgba(255,255,255,.6);border-radius:12px;color:#fff;padding:.6rem 1.2rem;transition:all .3s ease;display:flex;align-items:center;gap:.6rem;font-size:.9rem;font-weight:600;margin:0 .5rem;min-height:48px;box-shadow:0 4px 15px #ffd23f4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);text-transform:uppercase;letter-spacing:.5px}.btn-theme-toggle[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3ec300,#ffd23f);border-color:#fffc;color:#fff;transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.btn-theme-toggle[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #ffd23f4d}.btn-theme-toggle[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{font-size:1.2rem;display:flex;align-items:center;justify-content:center;background:#fff3;border-radius:50%;width:28px;height:28px;transition:all .3s ease}.btn-theme-toggle[_ngcontent-%COMP%]:hover   .theme-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1)}.btn-theme-toggle[_ngcontent-%COMP%]   .theme-text[_ngcontent-%COMP%]{font-weight:600;font-size:.85rem;text-shadow:0 1px 2px rgba(0,0,0,.1)}.navbar-nav[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031;display:flex;align-items:center;gap:.5rem}.navbar-collapse[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031}.nav-item[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031;display:flex;align-items:center}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;display:flex;align-items:center;justify-content:center}.nav-text[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem}.theme-icon[_ngcontent-%COMP%]{font-size:1.1rem;display:flex;align-items:center;justify-content:center}.theme-text[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem}@media (min-width: 769px){.navbar-modern[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1030!important;height:80px!important;min-height:80px!important;max-height:80px!important;width:100%!important;pointer-events:auto}.navbar-container[_ngcontent-%COMP%]{height:100%;min-height:80px;max-height:80px;pointer-events:auto}.navbar-brand-modern[_ngcontent-%COMP%]{height:100%;min-height:80px;max-height:80px;pointer-events:auto;cursor:pointer}.navbar-nav-modern[_ngcontent-%COMP%]{height:100%;min-height:80px;max-height:80px;pointer-events:auto}.nav-link-modern[_ngcontent-%COMP%]{height:auto;min-height:44px;max-height:none;display:flex;align-items:center;pointer-events:auto;cursor:pointer;position:relative;z-index:1031}.nav-item[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031;height:auto}.btn-theme-toggle[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:1031;height:auto;min-height:44px;max-height:none}.navbar-collapse[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031}}@media (max-width: 768px){.navbar-modern[_ngcontent-%COMP%]{height:50px;min-height:50px;max-height:50px;pointer-events:auto;z-index:1030}.navbar-container[_ngcontent-%COMP%]{height:100%;min-height:50px;max-height:50px;pointer-events:auto}.navbar-brand-modern[_ngcontent-%COMP%]{height:100%;min-height:50px;max-height:50px;pointer-events:auto;cursor:pointer}.navbar-nav-modern[_ngcontent-%COMP%]{height:100%;min-height:50px;max-height:50px;pointer-events:auto}.nav-link-modern[_ngcontent-%COMP%]{height:100%;min-height:50px;max-height:50px;display:flex;align-items:center;pointer-events:auto;cursor:pointer;position:relative;z-index:1031}.nav-item[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031}.btn-theme-toggle[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:1031}.navbar-collapse[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:1031}}@media (max-width: 480px){.navbar-modern[_ngcontent-%COMP%]{height:45px;min-height:45px;max-height:45px}.navbar-container[_ngcontent-%COMP%], .navbar-brand-modern[_ngcontent-%COMP%], .navbar-nav-modern[_ngcontent-%COMP%], .nav-link-modern[_ngcontent-%COMP%]{height:100%;min-height:45px;max-height:45px}}@media (max-width: 768px) and (orientation: landscape){.navbar-modern[_ngcontent-%COMP%]{height:40px;min-height:40px;max-height:40px}.navbar-container[_ngcontent-%COMP%]{height:100%;min-height:40px;max-height:40px}}`]})};var Pm=class n{constructor(e,t){this.themeService=e;this.scrollService=t}close=new tt;toggleTheme(){this.themeService.toggleTheme()}onNavClick(){this.close.emit(),this.scrollService.scrollToTop()}static \u0275fac=function(t){return new(t||n)(B(No),B(Pc))};static \u0275cmp=dt({type:n,selectors:[["app-sidebar"]],outputs:{close:"close"},decls:33,vars:0,consts:[[1,"sidebar-overlay",3,"click"],[1,"sidebar-modern",3,"click"],[1,"sidebar-header-modern"],[1,"sidebar-brand"],[1,"brand-icon"],[1,"brand-text"],[1,"sidebar-nav"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"],["routerLink","/categories","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"],["routerLink","/reports","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"]],template:function(t,r){t&1&&(_(0,"div",0),X("click",function(){return r.close.emit()}),_(1,"div",1),X("click",function(o){return o.stopPropagation()}),_(2,"div",2)(3,"div",3)(4,"span",4),w(5,"\u{1F4B0}"),v(),_(6,"span",5),w(7,"Expense Tracker"),v()()(),_(8,"ul",6)(9,"li",7)(10,"a",8),X("click",function(){return r.onNavClick()}),_(11,"span",9),w(12,"\u{1F4CA}"),v(),_(13,"span",10),w(14,"Dashboard"),v()()(),_(15,"li",7)(16,"a",11),X("click",function(){return r.onNavClick()}),_(17,"span",9),w(18,"\u{1F4B8}"),v(),_(19,"span",10),w(20,"Expenses"),v()()(),_(21,"li",7)(22,"a",12),X("click",function(){return r.onNavClick()}),_(23,"span",9),w(24,"\u{1F3F7}\uFE0F"),v(),_(25,"span",10),w(26,"Categories"),v()()(),_(27,"li",7)(28,"a",13),X("click",function(){return r.onNavClick()}),_(29,"span",9),w(30,"\u{1F4CA}"),v(),_(31,"span",10),w(32,"Reports"),v()()()()()())},dependencies:[ho,uu],styles:['.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0009;z-index:1050;display:flex;justify-content:flex-start;align-items:stretch;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);overflow:hidden;touch-action:none}.sidebar-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);color:#fff;height:100vh;width:65vw;max-width:400px;min-width:280px;display:flex;flex-direction:column;box-shadow:4px 0 20px #00000026,0 0 30px #ff8c424d;overflow:hidden;position:relative;transform:translate(-100%);animation:_ngcontent-%COMP%_slideIn .3s ease-out forwards;border-top-right-radius:25px;border-bottom-right-radius:25px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.sidebar-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 4s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1.5rem 1rem 1rem;border-bottom:1px solid rgba(255,255,255,.2);display:flex;align-items:center;justify-content:center;position:relative;z-index:1;border-top-right-radius:25px}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem;background:#fff3;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.sidebar-brand[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1);box-shadow:0 4px 15px #fff3}.brand-text[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#fff;letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.1)}.sidebar-nav[_ngcontent-%COMP%]{list-style:none;padding:1rem .5rem;margin:0;flex-grow:1;position:relative;z-index:1;display:flex;flex-direction:column;align-items:center}.nav-item[_ngcontent-%COMP%]{margin:.25rem 0;width:90%;max-width:280px}.nav-link-modern[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;color:#ffffffe6;text-decoration:none;padding:.75rem 1rem;border-radius:12px;transition:all .3s ease;font-weight:500;position:relative;overflow:hidden;margin:.25rem 0}.nav-link-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s ease}.nav-link-modern[_ngcontent-%COMP%]:hover:before{left:100%}.nav-link-modern[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a;transform:translate(5px);text-decoration:none}.nav-link-modern.router-link-active[_ngcontent-%COMP%]{color:#fff;background:#fff3;font-weight:600;border:none;box-shadow:0 4px 15px #fff3;transform:translate(5px);margin-left:-10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;background:#ffffff1a;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.nav-link-modern[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%], .nav-link-modern.router-link-active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#fff3;transform:scale(1.1)}.nav-link-modern.router-link-active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.15);box-shadow:0 2px 8px #ffffff4d}.nav-text[_ngcontent-%COMP%]{font-weight:500;flex-grow:1;color:inherit;text-shadow:0 1px 2px rgba(0,0,0,.1)}.nav-link-modern.router-link-active[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-weight:700;color:#fff}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-top:1px solid rgba(255,255,255,.2);display:flex;justify-content:center;align-items:center;position:relative;z-index:1}.theme-toggle-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1rem;border-radius:12px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);min-height:44px;min-width:44px}.theme-toggle-btn[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff4d;transform:translateY(-2px);box-shadow:0 4px 12px #fff3}.theme-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.theme-toggle-btn[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.theme-toggle-btn[_ngcontent-%COMP%]:hover   .theme-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.theme-toggle-btn[_ngcontent-%COMP%]   .theme-text[_ngcontent-%COMP%]{font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.1)}[data-theme=dark][_ngcontent-%COMP%]   .sidebar-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02)}[data-theme=dark][_ngcontent-%COMP%]   .sidebar-modern[_ngcontent-%COMP%]:before{background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.15) 50%,transparent 70%)}[data-theme=dark][_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .nav-link-modern[_ngcontent-%COMP%]{color:#fff}[data-theme=dark][_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{color:inherit}@media (max-width: 768px){.sidebar-modern[_ngcontent-%COMP%]{width:65vw;max-width:none}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1.5rem 1rem 1rem}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.nav-link-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.nav-icon[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.4rem}}@media (max-width: 768px){.sidebar-modern[_ngcontent-%COMP%]{width:85vw;max-width:350px;min-width:280px;position:fixed;left:0;top:0;height:100vh;z-index:1050;overflow-x:hidden;overflow-y:auto}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden;z-index:1040}body.sidebar-open[_ngcontent-%COMP%]{overflow:hidden;position:fixed;width:100%}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1rem 1rem}.brand-icon[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar-nav-modern[_ngcontent-%COMP%]{padding:1rem .75rem;overflow-x:hidden}.nav-item[_ngcontent-%COMP%]{margin:.5rem 0;width:100%;max-width:none}.nav-link-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem;border-radius:12px;margin:.25rem 0;min-height:50px;display:flex;align-items:center;gap:.75rem;width:100%;max-width:none}.nav-link-modern.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;box-shadow:0 4px 12px #9b6b9b4d}.nav-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.nav-text[_ngcontent-%COMP%]{font-weight:500}.nav-link-modern[_ngcontent-%COMP%]:active{transform:scale(.95)}.sidebar-content[_ngcontent-%COMP%]{padding:.75rem;overflow-x:hidden}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem .75rem;overflow-x:hidden}.theme-toggle-btn[_ngcontent-%COMP%]{min-height:50px;min-width:50px;font-size:1.2rem;border-radius:12px;width:100%;max-width:none}.nav-link-modern[_ngcontent-%COMP%], .theme-toggle-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px}}@media (max-width: 768px){.sidebar-modern[_ngcontent-%COMP%], .sidebar-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh;overflow-y:auto;overflow-x:hidden}.sidebar-nav-modern[_ngcontent-%COMP%]{height:calc(100dvh - 120px);min-height:calc(100dvh - 120px);max-height:calc(100dvh - 120px);overflow-y:auto;overflow-x:hidden}.sidebar-header-modern[_ngcontent-%COMP%], .sidebar-footer[_ngcontent-%COMP%]{height:80px;min-height:80px;max-height:80px}.sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 480px){.sidebar-modern[_ngcontent-%COMP%]{width:90vw;max-width:320px}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1rem .75rem .75rem}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.3rem}.brand-text[_ngcontent-%COMP%]{font-size:1rem}.nav-link-modern[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:20px;height:20px}.theme-toggle-btn[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar-nav-modern[_ngcontent-%COMP%]{padding:.75rem .5rem}.sidebar-content[_ngcontent-%COMP%]{padding:.5rem}.sidebar-footer[_ngcontent-%COMP%]{padding:.75rem .5rem}}@media (max-width: 768px) and (orientation: landscape){.sidebar-modern[_ngcontent-%COMP%], .sidebar-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}.sidebar-nav-modern[_ngcontent-%COMP%]{height:calc(100dvh - 80px);min-height:calc(100dvh - 80px);max-height:calc(100dvh - 80px)}.sidebar-header-modern[_ngcontent-%COMP%], .sidebar-footer[_ngcontent-%COMP%]{height:50px;min-height:50px;max-height:50px}}']})};function q9(n,e){if(n&1){let t=ht();_(0,"div",11)(1,"button",12),X("click",function(i){Ie(t);let o=ee().$implicit,s=ee();return De(s.executeAction(o.action.callback,i))}),w(2),v()()}if(n&2){let t=ee().$implicit;x(2),de(" ",t.action.label," ")}}function G9(n,e){if(n&1&&(_(0,"div",13)(1,"div",14),at(2,"div",15),v()()),n&2){let t=ee().$implicit,r=ee();x(2),ft("width",r.getProgress(t),"%")}}function W9(n,e){if(n&1){let t=ht();_(0,"div",2),X("click",function(){let i=Ie(t).$implicit,o=ee();return De(o.removeNotification(i.id))}),_(1,"div",3)(2,"div",4),w(3),v(),_(4,"div",5)(5,"div",6),w(6),v(),_(7,"div",7),w(8),v()(),_(9,"button",8),X("click",function(i){let o=Ie(t).$implicit,s=ee();return De(s.removeNotification(o.id,i))}),w(10," \u2715 "),v()(),ue(11,q9,3,1,"div",9)(12,G9,3,2,"div",10),v()}if(n&2){let t=e.$implicit;$n("notification-"+t.type),x(3),ie(t.icon),x(3),ie(t.title),x(2),ie(t.message),x(3),Y("ngIf",t.action),x(),Y("ngIf",t.duration)}}var Om=class n{constructor(e){this.notificationService=e}notifications=[];subscription=new Le;ngOnInit(){this.subscription.add(this.notificationService.notifications$.subscribe(e=>{this.notifications=e}))}ngOnDestroy(){this.subscription.unsubscribe()}removeNotification(e,t){t&&t.stopPropagation(),this.notificationService.removeNotification(e)}executeAction(e,t){t.stopPropagation(),e()}trackByNotification(e,t){return t.id}getProgress(e){if(!e.duration)return 100;let t=Date.now()-parseInt(e.id),r=Math.max(0,100-t/e.duration*100);return Math.min(100,Math.max(0,r))}static \u0275fac=function(t){return new(t||n)(B(er))};static \u0275cmp=dt({type:n,selectors:[["app-notifications"]],decls:2,vars:2,consts:[[1,"notifications-container"],["class","notification-item",3,"class","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notification-item",3,"click"],[1,"notification-content"],[1,"notification-icon"],[1,"notification-text"],[1,"notification-title"],[1,"notification-message"],[1,"notification-close",3,"click"],["class","notification-action",4,"ngIf"],["class","notification-progress",4,"ngIf"],[1,"notification-action"],[1,"action-button",3,"click"],[1,"notification-progress"],[1,"progress-bar"],[1,"progress-fill"]],template:function(t,r){t&1&&(_(0,"div",0),ue(1,W9,13,7,"div",1),v()),t&2&&(x(),Y("ngForOf",r.notifications)("ngForTrackBy",r.trackByNotification))},dependencies:[Qt,Kn,cn],styles:[".notifications-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:10001!important;max-width:400px;width:100%;pointer-events:none}.notification-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 8px 32px #0000001f;margin-bottom:12px;overflow:hidden;animation:_ngcontent-%COMP%_slideInRight .3s ease-out;border-left:4px solid;transition:all .3s ease;pointer-events:auto;z-index:10002!important}.notification-item[_ngcontent-%COMP%]:hover{transform:translate(-4px);box-shadow:0 12px 40px #00000026}.notification-item.notification-success[_ngcontent-%COMP%]{border-left-color:#28a745}.notification-item.notification-success[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#28a745}.notification-item.notification-error[_ngcontent-%COMP%]{border-left-color:#dc3545}.notification-item.notification-error[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#dc3545}.notification-item.notification-warning[_ngcontent-%COMP%]{border-left-color:#ffc107}.notification-item.notification-warning[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#ffc107}.notification-item.notification-info[_ngcontent-%COMP%]{border-left-color:#17a2b8}.notification-item.notification-info[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#17a2b8}.notification-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px;gap:12px;min-height:60px;pointer-events:auto}.notification-icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0;margin-top:2px;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.notification-text[_ngcontent-%COMP%]{flex:1;min-width:0;overflow:hidden}.notification-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#333;margin-bottom:4px;line-height:1.3;overflow-wrap:break-word;word-wrap:break-word}.notification-message[_ngcontent-%COMP%]{font-size:.9rem;color:#666;line-height:1.4;overflow-wrap:break-word;word-wrap:break-word}.notification-close[_ngcontent-%COMP%]{background:none;border:none;color:#999;font-size:1.2rem;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease;flex-shrink:0;min-width:32px;height:32px;display:flex;align-items:center;justify-content:center;pointer-events:auto;z-index:10003!important}.notification-close[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#666}.notification-close[_ngcontent-%COMP%]:active{transform:scale(.95)}.notification-action[_ngcontent-%COMP%]{padding:0 16px 16px}.notification-action[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .2s ease}.notification-action[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.notification-progress[_ngcontent-%COMP%]{height:3px;background:#f0f0f0}.notification-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#007bff,#0056b3);transition:width .1s linear}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideOutRight{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100%)}}.notification-item.notification-success.achievement[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff}.notification-item.notification-success.achievement[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%], .notification-item.notification-success.achievement[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{color:#fff}.notification-item.notification-success.achievement[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:#fff;animation:_ngcontent-%COMP%_bounce .6s ease-in-out}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}@media (prefers-color-scheme: dark){.notification-item[_ngcontent-%COMP%]{background:#2d3748;color:#fff}.notification-item[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{color:#e2e8f0}.notification-item[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{color:#cbd5e0}.notification-item[_ngcontent-%COMP%]   .notification-close[_ngcontent-%COMP%]{color:#a0aec0}.notification-item[_ngcontent-%COMP%]   .notification-close[_ngcontent-%COMP%]:hover{background:#4a5568;color:#e2e8f0}}@media (max-width: 768px){.notifications-container[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px;left:10px;max-width:none;width:calc(100vw - 20px);z-index:10000}.notification-item[_ngcontent-%COMP%]{margin-bottom:8px;width:100%;max-width:100%;box-sizing:border-box}.notification-content[_ngcontent-%COMP%]{padding:12px;gap:10px;min-height:50px}.notification-title[_ngcontent-%COMP%]{font-size:.9rem;word-wrap:break-word;overflow-wrap:break-word}.notification-message[_ngcontent-%COMP%]{font-size:.85rem;word-wrap:break-word;overflow-wrap:break-word}.notification-icon[_ngcontent-%COMP%]{font-size:1.3rem;flex-shrink:0;width:20px;height:20px}.notification-close[_ngcontent-%COMP%]{font-size:1.1rem;padding:6px;min-width:28px;height:28px}}@media (max-width: 480px){.notifications-container[_ngcontent-%COMP%]{top:5px;right:5px;left:5px;width:calc(100vw - 10px)}.notification-content[_ngcontent-%COMP%]{padding:10px;gap:8px;min-height:45px}.notification-title[_ngcontent-%COMP%]{font-size:.85rem}.notification-message[_ngcontent-%COMP%]{font-size:.8rem}.notification-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:18px;height:18px}.notification-close[_ngcontent-%COMP%]{font-size:1rem;padding:4px;min-width:24px;height:24px}}@media (max-width: 768px) and (orientation: landscape){.notifications-container[_ngcontent-%COMP%]{top:5px;right:5px;left:5px;width:calc(100vw - 10px)}.notification-content[_ngcontent-%COMP%]{padding:8px;gap:6px;min-height:40px}.notification-title[_ngcontent-%COMP%]{font-size:.8rem}.notification-message[_ngcontent-%COMP%]{font-size:.75rem}.notification-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:16px;height:16px}}"]})};function K9(n,e){if(n&1&&(_(0,"div",8)(1,"div",9),at(2,"div",10),v(),_(3,"div",11),w(4),ve(5,"number"),v()()),n&2){let t=ee(2);x(2),ft("width",t.loadingState.progress,"%"),x(2),de("",Qe(5,3,t.loadingState.progress,"1.0-0"),"%")}}function Y9(n,e){if(n&1&&(_(0,"div",1)(1,"div",2)(2,"div",3),at(3,"div",4),v(),_(4,"div",5)(5,"div",6),w(6),v(),ue(7,K9,6,6,"div",7),v()()()),n&2){let t=ee();x(6),ie(t.loadingState.message),x(),Y("ngIf",t.loadingState.progress!==void 0)}}var Am=class n{constructor(e){this.loadingService=e}loadingState={isLoading:!1};subscription=new Le;ngOnInit(){this.subscription.add(this.loadingService.loading$.subscribe(e=>{this.loadingState=e}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(B(Xn))};static \u0275cmp=dt({type:n,selectors:[["app-loading"]],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"loading-container"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-content"],[1,"loading-message"],["class","loading-progress",4,"ngIf"],[1,"loading-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"]],template:function(t,r){t&1&&ue(0,Y9,8,2,"div",0),t&2&&Y("ngIf",r.loadingState.isLoading)},dependencies:[Qt,cn,Vl],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.loading-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:400px;width:90%;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:1.5rem}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid #f3f3f3;border-top:4px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}.loading-content[_ngcontent-%COMP%]{color:#333}.loading-message[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin-bottom:1rem;color:#555}.loading-progress[_ngcontent-%COMP%]{margin-top:1rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#f0f0f0;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#007bff,#0056b3);border-radius:4px;transition:width .3s ease;animation:_ngcontent-%COMP%_progressPulse 2s ease-in-out infinite}.progress-text[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_progressPulse{0%,to{opacity:1}50%{opacity:.7}}@media (prefers-color-scheme: dark){.loading-container[_ngcontent-%COMP%]{background:#2d3748;color:#fff}.loading-content[_ngcontent-%COMP%]{color:#e2e8f0}.loading-message[_ngcontent-%COMP%]{color:#cbd5e0}.progress-text[_ngcontent-%COMP%]{color:#a0aec0}.spinner[_ngcontent-%COMP%]{border-color:#4a5568;border-top-color:#007bff}}@media (max-width: 768px){.loading-container[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px}.loading-message[_ngcontent-%COMP%]{font-size:1rem}}"]})};function Q9(n,e){if(n&1){let t=ht();_(0,"div",7)(1,"div",8)(2,"button",9),X("click",function(){Ie(t);let i=ee();return De(i.openSidebar())}),_(3,"span",10),w(4,"\u2630"),v()(),_(5,"div",11)(6,"span",12),w(7,"\u{1F4B0}"),v(),_(8,"span",13),w(9,"Expense Tracker"),v()(),_(10,"button",14),X("click",function(){Ie(t);let i=ee();return De(i.toggleTheme())}),_(11,"span",15),w(12),v()()()()}if(n&2){let t=ee();x(12),ie(t.getThemeIcon())}}function Z9(n,e){if(n&1){let t=ht();_(0,"app-sidebar",16),X("close",function(){Ie(t);let i=ee();return De(i.closeSidebar())}),v()}}var Rm=class n{constructor(e){this.themeService=e;this.checkScreenSize(),window.addEventListener("resize",()=>{this.checkScreenSize(),this.removeBlurEffect()}),window.addEventListener("scroll",t=>{this.sidebarOpen&&(t.preventDefault(),window.scrollTo(0,0))},{passive:!1}),window.addEventListener("touchmove",t=>{this.sidebarOpen&&t.preventDefault()},{passive:!1}),this.forceNavbarFixed(),window.addEventListener("scroll",()=>{this.forceNavbarFixed()})}sidebarOpen=!1;isMobile=!1;forceNavbarFixed(){if(window.innerWidth>=769){let e=document.querySelector(".navbar-modern");e&&(e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.zIndex="1030",e.style.width="100%",e.style.height="80px",e.style.minHeight="80px",e.style.maxHeight="80px",e.style.background="linear-gradient(135deg, #ff6b35 0%, #f7931e 100%)",e.style.boxShadow="0 4px 20px rgba(255, 107, 53, 0.3)");let t=document.querySelector(".main-content");t&&(t.style.paddingTop="80px",t.style.minHeight="calc(100vh - 80px)")}}checkScreenSize(){this.isMobile=window.innerWidth<992,this.removeBlurEffect()}removeBlurEffect(){if(!this.sidebarOpen){let e=document.querySelector(".main-content");e&&e.classList.remove("blurred")}}openSidebar(){this.sidebarOpen=!0,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`}closeSidebar(){this.sidebarOpen=!1;let e=document.body.style.top;document.body.style.position="",document.body.style.overflow="",document.body.style.touchAction="",document.body.style.width="",document.body.style.top="",window.scrollTo(0,parseInt(e||"0")*-1)}toggleTheme(){this.themeService.toggleTheme()}getThemeIcon(){return this.themeService.getTheme()==="light"?"\u{1F319}":"\u2600\uFE0F"}static \u0275fac=function(t){return new(t||n)(B(No))};static \u0275cmp=dt({type:n,selectors:[["app-root"]],decls:10,vars:4,consts:[[1,"d-none","d-lg-block",2,"position","fixed","top","0","left","0","right","0","z-index","1030"],["class","mobile-navbar d-lg-none",4,"ngIf"],["class","d-lg-none",3,"close",4,"ngIf"],[1,"main-content"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"mobile-navbar","d-lg-none"],[1,"mobile-navbar-content"],[1,"sidebar-toggle-btn",3,"click"],[1,"toggle-icon"],[1,"mobile-brand"],[1,"brand-icon"],[1,"brand-text"],[1,"mobile-theme-toggle",3,"click"],[1,"theme-icon"],[1,"d-lg-none",3,"close"]],template:function(t,r){t&1&&(at(0,"app-navbar",0),ue(1,Q9,13,1,"div",1)(2,Z9,1,0,"app-sidebar",2),at(3,"app-loading"),_(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),at(8,"router-outlet"),v()()()(),at(9,"app-notifications")),t&2&&(x(),Y("ngIf",r.isMobile),x(),Y("ngIf",r.sidebarOpen),x(2),Wt("blurred",r.sidebarOpen))},dependencies:[au,Qt,cn,xm,Pm,Om,Am],styles:['.mobile-navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 4px 20px #ff6b354d;position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1030!important;padding:1rem 0;width:100%!important;margin:0;pointer-events:auto}.mobile-navbar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 3s infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.mobile-navbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1.5rem;position:relative;z-index:1031!important;width:100%;pointer-events:auto}.sidebar-toggle-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);border-radius:50%;width:45px;height:45px;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .3s ease;cursor:pointer;pointer-events:auto;z-index:1032!important;min-height:44px;min-width:44px}.sidebar-toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#fff9;transform:scale(1.1)}.sidebar-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.toggle-icon[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600}.mobile-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#fff;flex:1;justify-content:center;pointer-events:auto;z-index:1032!important}.brand-icon[_ngcontent-%COMP%]{font-size:1.8rem;background:#fff3;border-radius:50%;width:45px;height:45px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.mobile-brand[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1)}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;letter-spacing:.5px}.mobile-theme-toggle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);border:2px solid rgba(255,255,255,.4);border-radius:50%;width:45px;height:45px;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .3s ease;cursor:pointer;box-shadow:0 4px 15px #ffd23f4d;pointer-events:auto;z-index:1032!important;min-height:44px;min-width:44px}.mobile-theme-toggle[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3ec300,#ffd23f);border-color:#fff9;transform:scale(1.15);box-shadow:0 8px 25px #ffd23f66}.mobile-theme-toggle[_ngcontent-%COMP%]:active{transform:scale(.95)}.theme-icon[_ngcontent-%COMP%]{font-size:1.3rem;background:#ffffff1a;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.mobile-theme-toggle[_ngcontent-%COMP%]:hover   .theme-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.15);box-shadow:0 4px 12px #fff6}.main-content[_ngcontent-%COMP%]{transition:filter .3s ease;padding-top:80px;min-height:100vh;position:relative;z-index:1}.main-content.blurred[_ngcontent-%COMP%]{filter:blur(5px);pointer-events:none;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative;z-index:1}@media (max-width: 768px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], .app-container[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh;overflow-x:hidden}.main-content[_ngcontent-%COMP%]{height:calc(100dvh - 60px);min-height:calc(100dvh - 60px);max-height:calc(100dvh - 60px);overflow-y:auto;overflow-x:hidden;padding-top:60px;position:relative;z-index:1}.mobile-navbar[_ngcontent-%COMP%]{height:50px;min-height:50px;max-height:50px;padding:.5rem 0;z-index:1030!important}.mobile-navbar-content[_ngcontent-%COMP%]{padding:0 1rem;z-index:1031!important}.sidebar-toggle-btn[_ngcontent-%COMP%], .mobile-theme-toggle[_ngcontent-%COMP%]{width:40px;height:40px;min-height:44px;min-width:44px;z-index:1032!important}.brand-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1rem}body.sidebar-open[_ngcontent-%COMP%]{height:100dvh;overflow:hidden;position:fixed;width:100%}.notifications-container[_ngcontent-%COMP%]{z-index:10001!important;top:70px!important;right:10px!important;left:10px!important;max-width:none!important;width:calc(100vw - 20px)!important}.notification-item[_ngcontent-%COMP%]{z-index:10002!important;pointer-events:auto!important}.notification-close[_ngcontent-%COMP%]{z-index:10003!important;pointer-events:auto!important}}@media (max-width: 480px){.main-content[_ngcontent-%COMP%]{height:calc(100dvh - 50px);min-height:calc(100dvh - 50px);max-height:calc(100dvh - 50px);padding-top:50px}.mobile-navbar[_ngcontent-%COMP%]{height:45px;min-height:45px;max-height:45px;padding:.4rem 0}.sidebar-toggle-btn[_ngcontent-%COMP%], .mobile-theme-toggle[_ngcontent-%COMP%]{width:35px;height:35px;min-height:44px;min-width:44px}.brand-icon[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1.3rem}.brand-text[_ngcontent-%COMP%]{font-size:.9rem}.notifications-container[_ngcontent-%COMP%]{top:60px!important}}@media (max-width: 768px) and (orientation: landscape){.main-content[_ngcontent-%COMP%]{height:calc(100dvh - 45px);min-height:calc(100dvh - 45px);max-height:calc(100dvh - 45px);padding-top:45px}.mobile-navbar[_ngcontent-%COMP%]{height:40px;min-height:40px;max-height:40px;padding:.3rem 0}.sidebar-toggle-btn[_ngcontent-%COMP%], .mobile-theme-toggle[_ngcontent-%COMP%]{width:32px;height:32px;min-height:44px;min-width:44px}.brand-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:1.2rem}.brand-text[_ngcontent-%COMP%]{font-size:.85rem}.notifications-container[_ngcontent-%COMP%]{top:55px!important}}@media (min-width: 769px){.navbar-modern[_ngcontent-%COMP%]{position:fixed!important;top:0;left:0;right:0;z-index:1030}.main-content[_ngcontent-%COMP%]{padding-top:80px}}']})};T0(Rm,bk).catch(n=>console.error(n));
