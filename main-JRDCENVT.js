var Bk=Object.defineProperty,$k=Object.defineProperties;var zk=Object.getOwnPropertyDescriptors;var wd=Object.getOwnPropertySymbols,Hk=Object.getPrototypeOf,tD=Object.prototype.hasOwnProperty,nD=Object.prototype.propertyIsEnumerable,qk=Reflect.get;var eD=(n,e,t)=>e in n?Bk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})tD.call(e,t)&&eD(n,t,e[t]);if(wd)for(var t of wd(e))nD.call(e,t)&&eD(n,t,e[t]);return n},ue=(n,e)=>$k(n,zk(e));var Ro=(n,e)=>{var t={};for(var r in n)tD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&wd)for(var r of wd(n))e.indexOf(r)<0&&nD.call(n,r)&&(t[r]=n[r]);return t};var ji=(n,e,t)=>qk(Hk(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Km;function Cd(){return Km}function _r(n){let e=Km;return Km=n,e}var rD=Symbol("NotFound");function qs(n){return n===rD||n?.name==="\u0275NotFound"}function Sd(n,e){return Object.is(n,e)}var vt=null,bd=!1,Qm=1,Gk=null,Ut=Symbol("SIGNAL");function pe(n){let e=vt;return vt=n,e}function Md(){return vt}var No={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gs(n){if(bd)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(n);let e=vt.nextProducerIndex++;if(Od(vt),e<vt.producerNode.length&&vt.producerNode[e]!==n&&Bc(vt)){let t=vt.producerNode[e];Ad(t,vt.producerIndexOfThis[e])}vt.producerNode[e]!==n&&(vt.producerNode[e]=n,vt.producerIndexOfThis[e]=Bc(vt)?oD(n,vt,e):0),vt.producerLastReadVersion[e]=n.version}function iD(){Qm++}function xd(n){if(!(Bc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Qm)){if(!n.producerMustRecompute(n)&&!$c(n)){Td(n);return}n.producerRecomputeValue(n),Td(n)}}function Ym(n){if(n.liveConsumerNode===void 0)return;let e=bd;bd=!0;try{for(let t of n.liveConsumerNode)t.dirty||Wk(t)}finally{bd=e}}function Zm(){return vt?.consumerAllowSignalWrites!==!1}function Wk(n){n.dirty=!0,Ym(n),n.consumerMarkedDirty?.(n)}function Td(n){n.dirty=!1,n.lastCleanEpoch=Qm}function ko(n){return n&&(n.nextProducerIndex=0),pe(n)}function Ws(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Bc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ad(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $c(n){Od(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xd(t),r!==t.version))return!0}return!1}function Pd(n){if(Od(n),Bc(n))for(let e=0;e<n.producerNode.length;e++)Ad(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function oD(n,e,t){if(sD(n),n.liveConsumerNode.length===0&&aD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=oD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ad(n,e){if(sD(n),n.liveConsumerNode.length===1&&aD(n))for(let r=0;r<n.producerNode.length;r++)Ad(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Od(i),i.producerIndexOfThis[r]=e}}function Bc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Od(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function sD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function aD(n){return n.producerNode!==void 0}function Rd(n){Gk?.(n)}function Nd(n,e){let t=Object.create(Kk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(xd(t),Gs(t),t.value===Uc)throw t.error;return t.value};return r[Ut]=t,Rd(t),r}var Id=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Uc=Symbol("ERRORED"),Kk=ue(U({},No),{value:Id,dirty:!0,error:null,equal:Sd,kind:"computed",producerMustRecompute(n){return n.value===Id||n.value===Dd},producerRecomputeValue(n){if(n.value===Dd)throw new Error("");let e=n.value;n.value=Dd;let t=ko(n),r,i=!1;try{r=n.computation(),pe(null),i=e!==Id&&e!==Uc&&r!==Uc&&n.equal(e,r)}catch(o){r=Uc,n.error=o}finally{Ws(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Qk(){throw new Error}var cD=Qk;function lD(n){cD(n)}function Jm(n){cD=n}var Yk=null;function Xm(n,e){let t=Object.create(kd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>uD(t);return r[Ut]=t,Rd(t),[r,s=>Ks(t,s),s=>ey(t,s)]}function uD(n){return Gs(n),n.value}function Ks(n,e){Zm()||lD(n),n.equal(n.value,e)||(n.value=e,Zk(n))}function ey(n,e){Zm()||lD(n),Ks(n,e(n.value))}var kd=ue(U({},No),{equal:Sd,value:void 0,kind:"signal"});function Zk(n){n.version++,iD(),Ym(n),Yk?.(n)}function de(n){return typeof n=="function"}function Qs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fd=Qs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function zc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof Fd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dD(o)}catch(s){e=e??[],s instanceof Fd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Fd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&zc(t,e)}remove(e){let{_finalizers:t}=this;t&&zc(t,e),e instanceof n&&e._removeParent(this)}};Be.EMPTY=(()=>{let n=new Be;return n.closed=!0,n})();var ty=Be.EMPTY;function Ld(n){return n instanceof Be||n&&"closed"in n&&de(n.remove)&&de(n.add)&&de(n.unsubscribe)}function dD(n){de(n)?n():n.unsubscribe()}var Gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ys={setTimeout(n,e,...t){let{delegate:r}=Ys;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ys;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Vd(n){Ys.setTimeout(()=>{let{onUnhandledError:e}=Gn;if(e)e(n);else throw n})}function Hc(){}var hD=ny("C",void 0,void 0);function fD(n){return ny("E",void 0,n)}function pD(n){return ny("N",n,void 0)}function ny(n,e,t){return{kind:n,value:e,error:t}}var Fo=null;function Zs(n){if(Gn.useDeprecatedSynchronousErrorHandling){let e=!Fo;if(e&&(Fo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fo;if(Fo=null,t)throw r}}else n()}function gD(n){Gn.useDeprecatedSynchronousErrorHandling&&Fo&&(Fo.errorThrown=!0,Fo.error=n)}var Lo=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ld(e)&&e.add(this)):this.destination=eF}static create(e,t,r){return new Js(e,t,r)}next(e){this.isStopped?iy(pD(e),this):this._next(e)}error(e){this.isStopped?iy(fD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?iy(hD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jk=Function.prototype.bind;function ry(n,e){return Jk.call(n,e)}var oy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){jd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){jd(r)}else jd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){jd(t)}}},Js=class extends Lo{constructor(e,t,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ry(e.next,o),error:e.error&&ry(e.error,o),complete:e.complete&&ry(e.complete,o)}):i=e}this.destination=new oy(i)}};function jd(n){Gn.useDeprecatedSynchronousErrorHandling?gD(n):Vd(n)}function Xk(n){throw n}function iy(n,e){let{onStoppedNotification:t}=Gn;t&&Ys.setTimeout(()=>t(n,e))}var eF={closed:!0,next:Hc,error:Xk,complete:Hc};var Xs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function En(n){return n}function sy(...n){return ay(n)}function ay(n){return n.length===0?En:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=nF(t)?t:new Js(t,r,i);return Zs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=mD(r),new r((i,o)=>{let s=new Js({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Xs](){return this}pipe(...t){return ay(t)(this)}toPromise(t){return t=mD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function mD(n){var e;return(e=n??Gn.Promise)!==null&&e!==void 0?e:Promise}function tF(n){return n&&de(n.next)&&de(n.error)&&de(n.complete)}function nF(n){return n&&n instanceof Lo||tF(n)&&Ld(n)}function cy(n){return de(n?.lift)}function De(n){return e=>{if(cy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new ly(n,e,t,r,i)}var ly=class extends Lo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ea(){return De((n,e)=>{let t=null;n._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ta=class extends _e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,cy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let t=this.getSubject();e.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return ea()(this)}};var yD=Qs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ud(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new yD}next(t){Zs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Zs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Zs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ty:(this.currentObservers=null,o.push(t),new Be(()=>{this.currentObservers=null,zc(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new Ud(e,t),n})(),Ud=class extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ty}};var st=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cn=new _e(n=>n.complete());function _D(n){return n&&de(n.schedule)}function vD(n){return n[n.length-1]}function Bd(n){return de(vD(n))?n.pop():void 0}function Ui(n){return _D(vD(n))?n.pop():void 0}function uy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function wD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function ED(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vo(n){return this instanceof Vo?(this.v=n,this):new Vo(n)}function CD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,f)}}function a(m,E){r[m]&&(i[m]=function(x){return new Promise(function(O,L){o.push([m,x,O,L])>1||c(m,x)})},E&&(i[m]=E(i[m])))}function c(m,E){try{u(r[m](E))}catch(x){g(o[0][3],x)}}function u(m){m.value instanceof Vo?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function bD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ED=="function"?ED(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var $d=n=>n&&typeof n.length=="number"&&typeof n!="function";function zd(n){return de(n?.then)}function Hd(n){return de(n[Xs])}function qd(n){return Symbol.asyncIterator&&de(n?.[Symbol.asyncIterator])}function Gd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wd=rF();function Kd(n){return de(n?.[Wd])}function Qd(n){return CD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vo(t.read());if(i)return yield Vo(void 0);yield yield Vo(r)}}finally{t.releaseLock()}})}function Yd(n){return de(n?.getReader)}function ct(n){if(n instanceof _e)return n;if(n!=null){if(Hd(n))return iF(n);if($d(n))return oF(n);if(zd(n))return sF(n);if(qd(n))return ID(n);if(Kd(n))return aF(n);if(Yd(n))return cF(n)}throw Gd(n)}function iF(n){return new _e(e=>{let t=n[Xs]();if(de(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oF(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function sF(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Vd)})}function aF(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ID(n){return new _e(e=>{lF(n,e).catch(t=>e.error(t))})}function cF(n){return ID(Qd(n))}function lF(n,e){var t,r,i,o;return wD(this,void 0,void 0,function*(){try{for(t=bD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function ln(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Zd(n,e=0){return De((t,r)=>{t.subscribe(we(r,i=>ln(r,n,()=>r.next(i),e),()=>ln(r,n,()=>r.complete(),e),i=>ln(r,n,()=>r.error(i),e)))})}function Jd(n,e=0){return De((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function DD(n,e){return ct(n).pipe(Jd(e),Zd(e))}function TD(n,e){return ct(n).pipe(Jd(e),Zd(e))}function SD(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function MD(n,e){return new _e(t=>{let r;return ln(t,e,()=>{r=n[Wd](),ln(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Xd(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{ln(t,e,()=>{let r=n[Symbol.asyncIterator]();ln(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function xD(n,e){return Xd(Qd(n),e)}function PD(n,e){if(n!=null){if(Hd(n))return DD(n,e);if($d(n))return SD(n,e);if(zd(n))return TD(n,e);if(qd(n))return Xd(n,e);if(Kd(n))return MD(n,e);if(Yd(n))return xD(n,e)}throw Gd(n)}function Qe(n,e){return e?PD(n,e):ct(n)}function re(...n){let e=Ui(n);return Qe(n,e)}function na(n,e){let t=de(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function dy(n){return!!n&&(n instanceof _e||de(n.lift)&&de(n.subscribe))}var Zr=Qs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ce(n,e){return De((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:uF}=Array;function dF(n,e){return uF(e)?n(...e):n(e)}function eh(n){return Ce(e=>dF(n,e))}var{isArray:hF}=Array,{getPrototypeOf:fF,prototype:pF,keys:gF}=Object;function th(n){if(n.length===1){let e=n[0];if(hF(e))return{args:e,keys:null};if(mF(e)){let t=gF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function mF(n){return n&&typeof n=="object"&&fF(n)===pF}function nh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function rh(...n){let e=Ui(n),t=Bd(n),{args:r,keys:i}=th(n);if(r.length===0)return Qe([],e);let o=new _e(yF(r,e,i?s=>nh(i,s):En));return t?o.pipe(eh(t)):o}function yF(n,e,t=En){return r=>{AD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)AD(e,()=>{let u=Qe(n[c],e),d=!1;u.subscribe(we(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function AD(n,e,t){n?ln(t,n,e):e()}function OD(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},m=x=>u<r?E(x):c.push(x),E=x=>{o&&e.next(x),u++;let O=!1;ct(t(x,d++)).subscribe(we(e,L=>{i?.(L),o?m(L):e.next(L)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;c.length&&u<r;){let L=c.shift();s?ln(e,s,()=>E(L)):E(L)}g()}catch(L){e.error(L)}}))};return n.subscribe(we(e,m,()=>{f=!0,g()})),()=>{a?.()}}function lt(n,e,t=1/0){return de(e)?lt((r,i)=>Ce((o,s)=>e(r,o,i,s))(ct(n(r,i))),t):(typeof e=="number"&&(t=e),De((r,i)=>OD(r,i,n,t)))}function ra(n=1/0){return lt(En,n)}function RD(){return ra(1)}function ia(...n){return RD()(Qe(n,Ui(n)))}function qc(n){return new _e(e=>{ct(n()).subscribe(e)})}function hy(...n){let e=Bd(n),{args:t,keys:r}=th(n),i=new _e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;ct(t[d]).subscribe(we(o,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?nh(r,a):a),o.complete())}))}});return e?i.pipe(eh(e)):i}function wn(n,e){return De((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Jr(n){return De((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=ct(n(s,Jr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ND(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(we(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function jo(n,e){return de(e)?lt(n,e,1):lt(n,1)}function Bi(n){return De((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xr(n){return n<=0?()=>cn:De((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ih(n=_F){return De((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _F(){return new Zr}function Gc(n){return De((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ei(n,e){let t=arguments.length>=2;return r=>r.pipe(n?wn((i,o)=>n(i,o,r)):En,Xr(1),t?Bi(e):ih(()=>new Zr))}function oa(n){return n<=0?()=>cn:De((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function fy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?wn((i,o)=>n(i,o,r)):En,oa(1),t?Bi(e):ih(()=>new Zr))}function py(n,e){return De(ND(n,e,arguments.length>=2,!0))}function gy(...n){let e=Ui(n);return De((t,r)=>{(e?ia(n,t,e):ia(n,t)).subscribe(r)})}function An(n,e){return De((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,c=>{i?.unsubscribe();let u=0,d=o++;ct(n(c,d)).subscribe(i=we(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function oh(n){return De((e,t)=>{ct(n).subscribe(we(t,()=>t.complete(),Hc)),!t.closed&&e.subscribe(t)})}function wt(n,e,t){let r=de(n)||e||t?{next:n,error:e,complete:t}:n;return r?De((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):En}function kD(n){let e=pe(null);try{return n()}finally{pe(e)}}var uh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(Zc(e,t)),this.code=e}};function vF(n){return`NG0${Math.abs(n)}`}function Zc(n,e){return`${vF(n)}${e?": "+e:""}`}var ri=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("")}function VD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ni(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ni).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function dh(n,e){return n?e?`${n} ${e}`:n:e||""}var EF=Re({__forward_ref__:Re});function Cn(n){return n.__forward_ref__=Cn,n.toString=function(){return ni(this())},n}function xt(n){return My(n)?n():n}function My(n){return typeof n=="function"&&n.hasOwnProperty(EF)&&n.__forward_ref__===Cn}function jD(n,e){n==null&&xy(e,n,null,"!=")}function xy(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jc(n){return wF(n,hh)}function Py(n){return Jc(n)!==null}function wF(n,e){return n.hasOwnProperty(e)&&n[e]||null}function CF(n){let e=n?.[hh]??null;return e||null}function yy(n){return n&&n.hasOwnProperty(ah)?n[ah]:null}var hh=Re({\u0275prov:Re}),ah=Re({\u0275inj:Re}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ay(n){return n&&!!n.\u0275providers}var Oy=Re({\u0275cmp:Re}),Ry=Re({\u0275dir:Re}),Ny=Re({\u0275pipe:Re}),ky=Re({\u0275mod:Re}),Qc=Re({\u0275fac:Re}),Ho=Re({__NG_ELEMENT_ID__:Re}),FD=Re({__NG_ENV_ID__:Re});function qo(n){return typeof n=="string"?n:n==null?"":String(n)}function ch(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qo(n)}var Fy=Re({ngErrorCode:Re}),UD=Re({ngErrorMessage:Re}),Kc=Re({ngTokenPath:Re});function Ly(n,e){return BD("",-200,e)}function fh(n,e){throw new F(-201,!1)}function bF(n,e){n[Kc]??=[];let t=n[Kc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(jD(e.provide,"Token with multi: true should have a provide property"),r=ch(e.provide)):r=ch(e),t[0]!==r&&n[Kc].unshift(r)}function IF(n,e){let t=n[Kc],r=n[Fy],i=n[UD]||n.message;return n.message=TF(i,r,t,e),n}function BD(n,e,t){let r=new F(e,n);return r[Fy]=e,r[UD]=n,t&&(r[Kc]=t),r}function DF(n){return n[Fy]}function TF(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Zc(e,`${n}${o}${i}`)}var _y;function $D(){return _y}function Yt(n){let e=_y;return _y=n,e}function Vy(n,e,t){let r=Jc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;fh(n,"Injector")}var SF={},Uo=SF,vy="__NG_DI_FLAG__",Ey=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Bo(t)||0;try{return this.injector.get(e,r&8?null:Uo,r)}catch(i){if(qs(i))return i;throw i}}};function MF(n,e=0){let t=Cd();if(t===void 0)throw new F(-203,!1);if(t===null)return Vy(n,void 0,e);{let r=xF(e),i=t.retrieve(n,r);if(qs(i)){if(r.optional)return null;throw i}return i}}function ee(n,e=0){return($D()||MF)(xt(n),e)}function j(n,e){return ee(n,Bo(e))}function Bo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xF(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function wy(n){let e=[];for(let t=0;t<n.length;t++){let r=xt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=PF(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ee(i,o))}else e.push(ee(r))}return e}function jy(n,e){return n[vy]=e,n.prototype[vy]=e,n}function PF(n){return n[vy]}function $i(n,e){let t=n.hasOwnProperty(Qc);return t?n[Qc]:null}function zD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function HD(n){return n.flat(Number.POSITIVE_INFINITY)}function ph(n,e){n.forEach(t=>Array.isArray(t)?ph(t,e):e(t))}function Uy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function gh(n,e,t){let r=aa(n,e);return r>=0?n[r|1]=t:(r=~r,qD(n,r,e,t)),r}function mh(n,e){let t=aa(n,e);if(t>=0)return n[t|1]}function aa(n,e){return AF(n,e,1)}function AF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var qi={},Zt=[],ii=new Z(""),By=new Z("",-1),$y=new Z(""),Yc=class{get(e,t=Uo){if(t===Uo){let i=BD("",-201);throw i.name="\u0275NotFound",i}return t}};function zy(n){return n[ky]||null}function Gi(n){return n[Oy]||null}function Hy(n){return n[Ry]||null}function GD(n){return n[Ny]||null}function Go(n){return{\u0275providers:n}}function WD(n){return Go([{provide:ii,multi:!0,useValue:n}])}function KD(...n){return{\u0275providers:qy(!0,n),\u0275fromNgModule:!0}}function qy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ph(e,s=>{let a=s;lh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&QD(i,o),t}function QD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Gy(i,o=>{e(o,r)})}}function lh(n,e,t,r){if(n=xt(n),!n)return!1;let i=null,o=yy(n),s=!o&&Gi(n);if(!o&&!s){let c=n.ngModule;if(o=yy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)lh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ph(o.imports,d=>{lh(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&QD(u,e)}if(!a){let u=$i(i)||(()=>new i);e({provide:i,useFactory:u,deps:Zt},i),e({provide:$y,useValue:i,multi:!0},i),e({provide:ii,useValue:()=>ee(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;Gy(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Gy(n,e){for(let t of n)Ay(t)&&(t=t.\u0275providers),Array.isArray(t)?Gy(t,e):e(t)}var OF=Re({provide:String,useValue:Re});function YD(n){return n!==null&&typeof n=="object"&&OF in n}function RF(n){return!!(n&&n.useExisting)}function NF(n){return!!(n&&n.useFactory)}function $o(n){return typeof n=="function"}function ZD(n){return!!n.useClass}var el=new Z(""),sh={},LD={},my;function tl(){return my===void 0&&(my=new Yc),my}var Ct=class{},zo=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,by(e,s=>this.processProvider(s)),this.records.set(By,sa(void 0,this)),i.has("environment")&&this.records.set(Ct,sa(void 0,this));let o=this.records.get(el);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($y,Zt,{self:!0}))}retrieve(e,t){let r=Bo(t)||0;try{return this.get(e,Uo,r)}catch(i){if(qs(i))return i;throw i}}destroy(){Wc(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Wc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Wc(this);let t=_r(this),r=Yt(void 0),i;try{return e()}finally{_r(t),Yt(r)}}get(e,t=Uo,r){if(Wc(this),e.hasOwnProperty(FD))return e[FD](this);let i=Bo(r),o,s=_r(this),a=Yt(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=jF(e)&&Jc(e);d&&this.injectableDefInScope(d)?u=sa(Cy(e),sh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?tl():this.parent;return t=i&8&&t===Uo?null:t,c.get(e,t)}catch(c){let u=DF(c);throw u===-200||u===-201?new F(u,null):c}finally{Yt(a),_r(s)}}resolveInjectorInitializers(){let e=pe(null),t=_r(this),r=Yt(void 0),i;try{let o=this.get(ii,Zt,{self:!0});for(let s of o)s()}finally{_r(t),Yt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ni(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=xt(e);let t=$o(e)?e:xt(e&&e.provide),r=FF(e);if(!$o(e)&&e.multi===!0){let i=this.records.get(t);i||(i=sa(void 0,sh,!0),i.factory=()=>wy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=pe(null);try{if(t.value===LD)throw Ly(ni(e));return t.value===sh&&(t.value=LD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&VF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=xt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cy(n){let e=Jc(n),t=e!==null?e.factory:$i(n);if(t!==null)return t;if(n instanceof Z)throw new F(204,!1);if(n instanceof Function)return kF(n);throw new F(204,!1)}function kF(n){if(n.length>0)throw new F(204,!1);let t=CF(n);return t!==null?()=>t.factory(n):()=>new n}function FF(n){if(YD(n))return sa(void 0,n.useValue);{let e=Wy(n);return sa(e,sh)}}function Wy(n,e,t){let r;if($o(n)){let i=xt(n);return $i(i)||Cy(i)}else if(YD(n))r=()=>xt(n.useValue);else if(NF(n))r=()=>n.useFactory(...wy(n.deps||[]));else if(RF(n))r=(i,o)=>ee(xt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=xt(n&&(n.useClass||n.provide));if(LF(n))r=()=>new i(...wy(n.deps));else return $i(i)||Cy(i)}return r}function Wc(n){if(n.destroyed)throw new F(205,!1)}function sa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function LF(n){return!!n.deps}function VF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function jF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function by(n,e){for(let t of n)Array.isArray(t)?by(t,e):t&&Ay(t)?by(t.\u0275providers,e):e(t)}function Jt(n,e){let t;n instanceof zo?(Wc(n),t=n):t=new Ey(n);let r,i=_r(t),o=Yt(void 0);try{return e()}finally{_r(i),Yt(o)}}function JD(){return $D()!==void 0||Cd()!=null}var Qn=0,ie=1,se=2,bt=3,Rn=4,Nn=5,nl=6,ca=7,Bt=8,Wo=9,vr=10,Ye=11,la=12,Ky=13,Ko=14,kn=15,Wi=16,Qo=17,Er=18,rl=19,Qy=20,ti=21,yh=22,il=23,bn=24,Yo=25,Pt=26,XD=1;var Ki=7,ol=8,Zo=9,Xt=10;function wr(n){return Array.isArray(n)&&typeof n[XD]=="object"}function Yn(n){return Array.isArray(n)&&n[XD]===!0}function Yy(n){return(n.flags&4)!==0}function Qi(n){return n.componentOffset>-1}function sl(n){return(n.flags&1)===1}function Cr(n){return!!n.template}function ua(n){return(n[se]&512)!==0}function Jo(n){return(n[se]&256)===256}var eT="svg",tT="math";function Fn(n){for(;Array.isArray(n);)n=n[Qn];return n}function Zy(n,e){return Fn(e[n])}function Zn(n,e){return Fn(e[n.index])}function _h(n,e){return n.data[e]}function vh(n,e){return n[e]}function Jy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ln(n,e){let t=e[n];return wr(t)?t:t[Qn]}function nT(n){return(n[se]&4)===4}function Eh(n){return(n[se]&128)===128}function rT(n){return Yn(n[bt])}function al(n,e){return e==null?null:n[e]}function Xy(n){n[Qo]=0}function e_(n){n[se]&1024||(n[se]|=1024,Eh(n)&&da(n))}function iT(n,e){for(;n>0;)e=e[Ko],n--;return e}function cl(n){return!!(n[se]&9216||n[bn]?.dirty)}function wh(n){n[vr].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),cl(n)&&da(n)}function da(n){n[vr].changeDetectionScheduler?.notify(0);let e=zi(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Eh(e)));)e=zi(e)}function t_(n,e){if(Jo(n))throw new F(911,!1);n[ti]===null&&(n[ti]=[]),n[ti].push(e)}function oT(n,e){if(n[ti]===null)return;let t=n[ti].indexOf(e);t!==-1&&n[ti].splice(t,1)}function zi(n){let e=n[bt];return Yn(e)?e[bt]:e}function n_(n){return n[ca]??=[]}function r_(n){return n.cleanup??=[]}function sT(n,e,t,r){let i=n_(e);i.push(t),n.firstCreatePass&&r_(n).push(r,i.length-1)}var ge={lFrame:bT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ll=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(ll||{}),UF=0,Iy=!1;function aT(){return ge.lFrame.elementDepthCount}function cT(){ge.lFrame.elementDepthCount++}function lT(){ge.lFrame.elementDepthCount--}function i_(){return ge.bindingsEnabled}function uT(){return ge.skipHydrationRootTNode!==null}function dT(n){return ge.skipHydrationRootTNode===n}function hT(){ge.skipHydrationRootTNode=null}function be(){return ge.lFrame.lView}function At(){return ge.lFrame.tView}function Ne(n){return ge.lFrame.contextLView=n,n[Bt]}function ke(n){return ge.lFrame.contextLView=null,n}function Ot(){let n=o_();for(;n!==null&&n.type===64;)n=n.parent;return n}function o_(){return ge.lFrame.currentTNode}function fT(){let n=ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ha(n,e){let t=ge.lFrame;t.currentTNode=n,t.isParent=e}function s_(){return ge.lFrame.isParent}function pT(){ge.lFrame.isParent=!1}function gT(){return ge.lFrame.contextLView}function a_(n){xy("Must never be called in production mode"),UF=n}function c_(){return Iy}function l_(n){let e=Iy;return Iy=n,e}function Ch(){let n=ge.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mT(){return ge.lFrame.bindingIndex}function yT(n){return ge.lFrame.bindingIndex=n}function ul(){return ge.lFrame.bindingIndex++}function bh(n){let e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _T(){return ge.lFrame.inI18n}function vT(n,e){let t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ih(e)}function ET(){return ge.lFrame.currentDirectiveIndex}function Ih(n){ge.lFrame.currentDirectiveIndex=n}function wT(n){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function u_(){return ge.lFrame.currentQueryIndex}function Dh(n){ge.lFrame.currentQueryIndex=n}function BF(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Nn]:null}function d_(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=BF(o),i===null||(o=o[Ko],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ge.lFrame=CT();return r.currentTNode=e,r.lView=n,!0}function Th(n){let e=CT(),t=n[ie];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function CT(){let n=ge.lFrame,e=n===null?null:n.child;return e===null?bT(n):e}function bT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function IT(){let n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var h_=IT;function Sh(){let n=IT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function DT(n){return(ge.lFrame.contextLView=iT(n,ge.lFrame.contextLView))[Bt]}function oi(){return ge.lFrame.selectedIndex}function Yi(n){ge.lFrame.selectedIndex=n}function Mh(){let n=ge.lFrame;return _h(n.tView,n.selectedIndex)}function TT(){return ge.lFrame.currentNamespace}var ST=!0;function xh(){return ST}function Ph(n){ST=n}function Dy(n,e=null,t=null,r){let i=f_(n,e,t,r);return i.resolveInjectorInitializers(),i}function f_(n,e=null,t=null,r,i=new Set){let o=[t||Zt,KD(n)];return r=r||(typeof n=="object"?void 0:ni(n)),new zo(o,e||tl(),r||null,i)}var On=class n{static THROW_IF_NOT_FOUND=Uo;static NULL=new Yc;static create(e,t){if(Array.isArray(e))return Dy({name:""},t,e,"");{let r=e.name??"";return Dy({name:r},e.parent,e.providers,r)}}static \u0275prov=K({token:n,providedIn:"any",factory:()=>ee(By)});static __NG_ELEMENT_ID__=-1},ut=new Z(""),Jn=(()=>{class n{static __NG_ELEMENT_ID__=$F;static __NG_ENV_ID__=t=>t}return n})(),Ty=class extends Jn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Jo(this._lView)}onDestroy(e){let t=this._lView;return t_(t,e),()=>oT(t,e)}};function $F(){return new Ty(be())}var Wn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},un=new Z("",{providedIn:"root",factory:()=>{let n=j(Ct),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Wn),e.handleError(t))}}}),MT={provide:ii,useValue:()=>void j(Wn),multi:!0},zF=new Z("",{providedIn:"root",factory:()=>{let n=j(ut).defaultView;if(!n)return;let e=j(un),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),j(Jn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function p_(){return Go([WD(()=>void j(zF))])}function g_(n){return typeof n=="function"&&n[Ut]!==void 0}function si(n,e){let[t,r,i]=Xm(n,e?.equal),o=t,s=o[Ut];return o.set=r,o.update=i,o.asReadonly=xT.bind(o),o}function xT(){let n=this[Ut];if(n.readonlyFn===void 0){let e=()=>this();e[Ut]=n,n.readonlyFn=e}return n.readonlyFn}function m_(n){return g_(n)&&typeof n.set=="function"}var Hi=class{},dl=new Z("",{providedIn:"root",factory:()=>!1});var y_=new Z(""),__=new Z("");var Ah=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=HF}return n})();function HF(){return new Ah(be(),Ot())}var ai=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new st(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})();function hl(...n){}var v_=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new Sy})}return n})(),Sy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function _a(n){return{toString:n}.toString()}var Oh="__parameters__";function XF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function sS(n,e,t){return _a(()=>{let r=XF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Oh)?c[Oh]:Object.defineProperty(c,Oh,{value:[]})[Oh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var rv=jy(sS("Optional"),8);var iv=jy(sS("SkipSelf"),4);function eL(n){return typeof n=="function"}var jh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function aS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ir=(()=>{let n=()=>cS;return n.ngInherit=!0,n})();function cS(n){return n.type.prototype.ngOnChanges&&(n.setInput=nL),tL}function tL(){let n=uS(this),e=n?.current;if(e){let t=n.previous;if(t===qi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function nL(n,e,t,r,i){let o=this.declaredInputs[r],s=uS(n)||rL(n,{previous:qi,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new jh(u&&u.currentValue,t,c===qi),aS(n,e,i,t)}var lS="__ngSimpleChanges__";function uS(n){return n[lS]||null}function rL(n,e){return n[lS]=e}var PT=[];var Le=function(n,e=null,t){for(let r=0;r<PT.length;r++){let i=PT[r];i(n,e,t)}};function iL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function dS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function kh(n,e,t){hS(n,e,3,t)}function Fh(n,e,t,r){(n[se]&3)===t&&hS(n,e,t,r)}function E_(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function hS(n,e,t,r){let i=r!==void 0?n[Qo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Qo]+=65536),(a<o||o==-1)&&(oL(n,t,e,c),n[Qo]=(n[Qo]&4294901760)+c+2),c++}function AT(n,e){Le(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Le(5,n,e)}}function oL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[Qo]>>16&&(n[se]&3)===e&&(n[se]+=16384,AT(a,o)):AT(a,o)}var pa=-1,ts=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function sL(n){return(n.flags&8)!==0}function aL(n){return(n.flags&16)!==0}function cL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];lL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function fS(n){return n===3||n===4||n===6}function lL(n){return n.charCodeAt(0)===64}function gl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?OT(n,t,i,null,e[++r]):OT(n,t,i,null,null))}}return n}function OT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function pS(n){return n!==pa}function Uh(n){return n&32767}function uL(n){return n>>16}function Bh(n,e){let t=uL(n),r=e;for(;t>0;)r=r[Ko],t--;return r}var A_=!0;function $h(n){let e=A_;return A_=n,e}var dL=256,gS=dL-1,mS=5,hL=0,br={};function fL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ho)&&(r=t[Ho]),r==null&&(r=t[Ho]=hL++);let i=r&gS,o=1<<i;e.data[n+(i>>mS)]|=o}function zh(n,e){let t=yS(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,w_(r.data,n),w_(e,null),w_(r.blueprint,null));let i=ov(n,e),o=n.injectorIndex;if(pS(i)){let s=Uh(i),a=Bh(i,e),c=a[ie].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function w_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function yS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ov(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=CS(i),r===null)return pa;if(t++,i=i[Ko],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return pa}function O_(n,e,t){fL(n,e,t)}function pL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(fS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function _S(n,e,t){if(t&8||n!==void 0)return n;fh(e,"NodeInjector")}function vS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Wo],o=Yt(void 0);try{return i?i.get(e,r,t&8):Vy(e,r,t&8)}finally{Yt(o)}}return _S(r,e,t)}function ES(n,e,t,r=0,i){if(n!==null){if(e[se]&2048&&!(r&2)){let s=_L(n,e,t,r,br);if(s!==br)return s}let o=wS(n,e,t,r,br);if(o!==br)return o}return vS(e,t,r,i)}function wS(n,e,t,r,i){let o=mL(t);if(typeof o=="function"){if(!d_(e,n,r))return r&1?_S(i,t,r):vS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))fh(t);else return s}finally{h_()}}else if(typeof o=="number"){let s=null,a=yS(n,e),c=pa,u=r&1?e[kn][Nn]:null;for((a===-1||r&4)&&(c=a===-1?ov(n,e):e[a+8],c===pa||!NT(r,!1)?a=-1:(s=e[ie],a=Uh(c),e=Bh(c,e)));a!==-1;){let d=e[ie];if(RT(o,a,d.data)){let f=gL(a,e,t,s,r,u);if(f!==br)return f}c=e[a+8],c!==pa&&NT(r,e[ie].data[a+8]===u)&&RT(o,a,e)?(s=d,a=Uh(c),e=Bh(c,e)):a=-1}}return i}function gL(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],c=r==null?Qi(a)&&A_:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=Lh(a,s,t,c,u);return d!==null?ml(e,s,d,a,i):br}function Lh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let m=f;m<g;m++){let E=s[m];if(m<c&&t===E||m>=c&&E.type===t)return m}if(i){let m=s[c];if(m&&Cr(m)&&m.type===t)return c}return null}function ml(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ts){let a=o;if(a.resolving){let m=ch(s[t]);throw Ly(m)}let c=$h(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?Yt(a.injectImpl):null,g=d_(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&iL(t,s[t],e)}finally{f!==null&&Yt(f),$h(c),a.resolving=!1,h_()}}return o}function mL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ho)?n[Ho]:void 0;return typeof e=="number"?e>=0?e&gS:yL:e}function RT(n,e,t){let r=1<<n;return!!(t[e+(n>>mS)]&r)}function NT(n,e){return!(n&2)&&!(n&1&&e)}var es=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ES(this._tNode,this._lView,e,Bo(r),t)}};function yL(){return new es(Ot(),be())}function nr(n){return _a(()=>{let e=n.prototype.constructor,t=e[Qc]||R_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Qc]||R_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function R_(n){return My(n)?()=>{let e=R_(xt(n));return e&&e()}:$i(n)}function _L(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!ua(s);){let a=wS(o,s,t,r|2,br);if(a!==br)return a;let c=o.parent;if(!c){let u=s[Qy];if(u){let d=u.get(t,br,r);if(d!==br)return d}c=CS(s),s=s[Ko]}o=c}return i}function CS(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Nn]:null}function El(n){return pL(Ot(),n)}function vL(){return va(Ot(),be())}function va(n,e){return new en(Zn(n,e))}var en=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vL}return n})();function EL(n){return n instanceof en?n.nativeElement:n}function wL(){return this._results[Symbol.iterator]()}var Hh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ot}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=HD(e);(this._changesDetected=!zD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wL};function bS(n){return(n.flags&128)===128}var sv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(sv||{}),IS=new Map,CL=0;function bL(){return CL++}function IL(n){IS.set(n[rl],n)}function N_(n){IS.delete(n[rl])}var kT="__ngContext__";function ga(n,e){wr(e)?(n[kT]=e[rl],IL(e)):n[kT]=e}function DS(n){return SS(n[la])}function TS(n){return SS(n[Rn])}function SS(n){for(;n!==null&&!Yn(n);)n=n[Rn];return n}var k_;function av(n){k_=n}function MS(){if(k_!==void 0)return k_;if(typeof document<"u")return document;throw new F(210,!1)}var nf=new Z("",{providedIn:"root",factory:()=>DL}),DL="ng",rf=new Z(""),Ea=new Z("",{providedIn:"platform",factory:()=>"unknown"});var of=new Z(""),sf=new Z("",{providedIn:"root",factory:()=>MS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TL="h",SL="b";var xS=!1,PS=new Z("",{providedIn:"root",factory:()=>xS});var ML=(n,e,t,r)=>{};function xL(n,e,t,r){ML(n,e,t,r)}function cv(n){return(n.flags&32)===32}var PL=()=>null;function AS(n,e,t=!1){return PL(n,e,t)}function OS(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Dh(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function F_(n,e,t){Dh(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function RS(n,e,t){if(Yy(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{pe(r)}}}var ci=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ci||{});var Rh;function AL(){if(Rh===void 0&&(Rh=null,ri.trustedTypes))try{Rh=ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rh}function FT(n){return AL()?.createScriptURL(n)||n}var qh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uh})`}};function wl(n){return n instanceof qh?n.changingThisBreaksApplicationSecurity:n}function lv(n,e){let t=NS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${uh})`)}return t===e}function NS(n){return n instanceof qh&&n.getTypeName()||null}var OL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kS(n){return n=String(n),n.match(OL)?n:"unsafe:"+n}var af=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(af||{});function FS(n){let e=VS();return e?e.sanitize(af.URL,n)||"":lv(n,"URL")?wl(n):kS(qo(n))}function LS(n){let e=VS();if(e)return FT(e.sanitize(af.RESOURCE_URL,n)||"");if(lv(n,"ResourceURL"))return FT(wl(n));throw new F(904,!1)}function RL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?LS:FS}function uv(n,e,t){return RL(e,t)(n)}function VS(){let n=be();return n&&n[vr].sanitizer}function jS(n){return n instanceof Function?n():n}function NL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var US="ng-template";function kL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(dv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function dv(n){return n.type===4&&n.value!==US}function FL(n,e,t){let r=n.type===4&&!t?US:n.value;return e===r}function LL(n,e,t){let r=4,i=n.attrs,o=i!==null?UL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Xn(r)&&!Xn(c))return!1;if(s&&Xn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!FL(n,c,t)||c===""&&e.length===1){if(Xn(r))return!1;s=!0}}else if(r&8){if(i===null||!kL(n,i,c,t)){if(Xn(r))return!1;s=!0}}else{let u=e[++a],d=VL(c,i,dv(n),t);if(d===-1){if(Xn(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(Xn(r))return!1;s=!0}}}}return Xn(r)||s}function Xn(n){return(n&1)===0}function VL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BL(e,n)}function jL(n,e,t=!1){for(let r=0;r<e.length;r++)if(LL(n,e[r],t))return!0;return!1}function UL(n){for(let e=0;e<n.length;e++){let t=n[e];if(fS(t))return e}return n.length}function BL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function LT(n,e){return n?":not("+e.trim()+")":e}function $L(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xn(s)&&(e+=LT(o,i),i=""),r=s,o=o||!Xn(r);t++}return i!==""&&(e+=LT(o,i)),e}function zL(n){return n.map($L).join(",")}function HL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Xn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var In={};function qL(n,e){return n.createText(e)}function GL(n,e,t){n.setValue(e,t)}function BS(n,e,t){return n.createElement(e,t)}function Gh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function $S(n,e,t){n.appendChild(e,t)}function VT(n,e,t,r,i){r!==null?Gh(n,e,t,r,i):$S(n,e,t)}function WL(n,e,t){n.removeChild(null,e,t)}function KL(n,e,t){n.setAttribute(e,"style",t)}function QL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&cL(n,e,r),i!==null&&QL(n,e,i),o!==null&&KL(n,e,o)}function hv(n,e,t,r,i,o,s,a,c,u,d){let f=Pt+r,g=f+i,m=YL(f,g),E=typeof u=="function"?u():u;return m[ie]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function YL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:In);return t}function ZL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=hv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fv(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[Qn]=i,f[se]=r|4|128|8|64|1024,(u!==null||n&&n[se]&2048)&&(f[se]|=2048),Xy(f),f[bt]=f[Ko]=n,f[Bt]=t,f[vr]=s||n&&n[vr],f[Ye]=a||n&&n[Ye],f[Wo]=c||n&&n[Wo]||null,f[Nn]=o,f[rl]=bL(),f[nl]=d,f[Qy]=u,f[kn]=e.type==2?n[kn]:f,f}function JL(n,e,t){let r=Zn(e,n),i=ZL(t),o=n[vr].rendererFactory,s=pv(n,fv(n,i,null,HS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function HS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function qS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function pv(n,e){return n[la]?n[Ky][Rn]=e:n[la]=e,n[Ky]=e,e}function k(n=1){GS(At(),be(),oi()+n,!1)}function GS(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&kh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Fh(e,o,0,t)}Yi(t)}var cf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(cf||{});function L_(n,e,t,r){let i=pe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&cf.SignalBased)!==0&&(c=e[o][Ut]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):aS(e,c,o,r)}finally{pe(i)}}var tr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(tr||{}),XL;function gv(n,e){return XL(n,e)}function fa(n,e,t,r,i){if(r!=null){let o,s=!1;Yn(r)?o=r:wr(r)&&(s=!0,r=r[Qn]);let a=Fn(r);n===0&&t!==null?i==null?$S(e,t,a):Gh(e,t,a,i||null,!0):n===1&&t!==null?Gh(e,t,a,i||null,!0):n===2?WL(e,a,s):n===3&&e.destroyNode(a),o!=null&&dV(e,n,o,t,i)}}function eV(n,e){WS(n,e),e[Qn]=null,e[Nn]=null}function tV(n,e,t,r,i,o){r[Qn]=i,r[Nn]=e,lf(n,r,t,1,i,o)}function WS(n,e){e[vr].changeDetectionScheduler?.notify(9),lf(n,e,e[Ye],2,null,null)}function nV(n){let e=n[la];if(!e)return C_(n[ie],n);for(;e;){let t=null;if(wr(e))t=e[la];else{let r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[Rn]&&e!==n;)wr(e)&&C_(e[ie],e),e=e[bt];e===null&&(e=n),wr(e)&&C_(e[ie],e),t=e&&e[Rn]}e=t}}function mv(n,e){let t=n[Zo],r=t.indexOf(e);t.splice(r,1)}function KS(n,e){if(Jo(e))return;let t=e[Ye];t.destroyNode&&lf(n,e,t,3,null,null),nV(e)}function C_(n,e){if(Jo(e))return;let t=pe(null);try{e[se]&=-129,e[se]|=256,e[bn]&&Pd(e[bn]),iV(n,e),rV(n,e),e[ie].type===1&&e[Ye].destroy();let r=e[Wi];if(r!==null&&Yn(e[bt])){r!==e[bt]&&mv(r,e);let i=e[Er];i!==null&&i.detachView(n)}N_(e)}finally{pe(t)}}function rV(n,e){let t=n.cleanup,r=e[ca];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ca]=null);let i=e[ti];if(i!==null){e[ti]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[il];if(o!==null){e[il]=null;for(let s of o)s.destroy()}}function iV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ts)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Le(4,a,c);try{c.call(a)}finally{Le(5,a,c)}}else{Le(4,i,o);try{o.call(i)}finally{Le(5,i,o)}}}}}function oV(n,e,t){return sV(n,e.parent,t)}function sV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Qn];if(Qi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ci.None||i===ci.Emulated)return null}return Zn(r,t)}function aV(n,e,t){return lV(n,e,t)}function cV(n,e,t){return n.type&40?Zn(n,t):null}var lV=cV,jT;function yv(n,e,t,r){let i=oV(n,r,e),o=e[Ye],s=r.parent||e[Nn],a=aV(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)VT(o,i,t[c],a,!1);else VT(o,i,t,a,!1);jT!==void 0&&jT(o,r,e,t,i)}function fl(n,e){if(e!==null){let t=e.type;if(t&3)return Zn(e,n);if(t&4)return V_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return fl(n,r);{let i=n[e.index];return Yn(i)?V_(-1,i):Fn(i)}}else{if(t&128)return fl(n,e.next);if(t&32)return gv(e,n)()||Fn(n[e.index]);{let r=QS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(n[kn]);return fl(i,r)}else return fl(n,e.next)}}}return null}function QS(n,e){if(e!==null){let r=n[kn][Nn],i=e.projection;return r.projection[i]}return null}function V_(n,e){let t=Xt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return fl(r,i)}return e[Ki]}function _v(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&ga(Fn(a),r),t.flags|=2),!cv(t))if(c&8)_v(n,e,t.child,r,i,o,!1),fa(e,n,i,a,o);else if(c&32){let u=gv(t,r),d;for(;d=u();)fa(e,n,i,d,o);fa(e,n,i,a,o)}else c&16?uV(n,e,r,t,i,o):fa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function lf(n,e,t,r,i,o){_v(t,r,n.firstChild,e,i,o,!1)}function uV(n,e,t,r,i,o){let s=t[kn],c=s[Nn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];fa(e,n,i,d,o)}else{let u=c,d=s[bt];bS(r)&&(u.flags|=128),_v(n,e,u,d,i,o,!0)}}function dV(n,e,t,r,i){let o=t[Ki],s=Fn(t);o!==s&&fa(e,n,r,o,i);for(let a=Xt;a<t.length;a++){let c=t[a];lf(c[ie],c,n,e,r,o)}}function hV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:tr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tr.Important),n.setStyle(t,r,i,o))}}function YS(n,e,t,r,i){let o=oi(),s=r&2;try{Yi(-1),s&&e.length>Pt&&GS(n,e,Pt,!1),Le(s?2:0,i,t),t(r,i)}finally{Yi(o),Le(s?3:1,i,t)}}function vv(n,e,t){vV(n,e,t),(t.flags&64)===64&&EV(n,e,t)}function ZS(n,e,t=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function fV(n,e,t,r){let o=r.get(PS,xS)||t===ci.ShadowDom,s=n.selectRootElement(e,o);return pV(s),s}function pV(n){gV(n)}var gV=()=>null;function mV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function JS(n,e,t,r,i,o){let s=e[ie];if(Ev(n,s,e,t,r)){Qi(n)&&_V(e,n.index);return}n.type&3&&(t=mV(t)),yV(n,e,t,r,i,o)}function yV(n,e,t,r,i,o){if(n.type&3){let s=Zn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function _V(n,e){let t=Ln(e,n);t[se]&16||(t[se]|=64)}function vV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Qi(t)&&JL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=ml(e,n,s,t);if(ga(c,e),o!==null&&IV(e,s-r,c,a,t,o),Cr(a)){let u=Ln(t.index,e);u[Bt]=ml(e,n,s,t)}}}function EV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=ET();try{Yi(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Ih(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wV(c,u)}}finally{Yi(-1),Ih(s)}}function wV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function XS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jL(e,o.selectors,!1)&&(r??=[],Cr(o)?r.unshift(o):r.push(o))}return r}function CV(n,e,t,r,i,o){let s=Zn(n,e);bV(e[Ye],s,o,n.value,t,r,i)}function bV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?qo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function IV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];L_(r,t,c,u)}}function DV(n,e,t,r,i){let o=Pt+t,s=e[ie],a=i(s,e,n,r,t);e[o]=a,ha(n,!0);let c=n.type===2;return c?(zS(e[Ye],a,n),(aT()===0||sl(n))&&ga(a,e),cT()):ga(a,e),xh()&&(!c||!cv(n))&&yv(s,e,a,n),n}function TV(n){let e=n;return s_()?pT():(e=e.parent,ha(e,!1)),e}function SV(n,e){let t=n[Wo];if(!t)return;t.get(un,null)?.(e)}function Ev(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];L_(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];L_(d,u,r,i),a=!0}return a}function MV(n,e){let t=Ln(e,n),r=t[ie];xV(r,t);let i=t[Qn];i!==null&&t[nl]===null&&(t[nl]=AS(i,t[Wo])),Le(18),wv(r,t,t[Bt]),Le(19,t[Bt])}function xV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function wv(n,e,t){Th(e);try{let r=n.viewQuery;r!==null&&F_(1,r,t);let i=n.template;i!==null&&YS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Er]?.finishViewCreation(n),n.staticContentQueries&&OS(n,e),n.staticViewQueries&&F_(2,n.viewQuery,t);let o=n.components;o!==null&&PV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,Sh()}}function PV(n,e){for(let t=0;t<e.length;t++)MV(n,e[t])}function AV(n,e,t,r){let i=pe(null);try{let o=e.tView,a=n[se]&4096?4096:16,c=fv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Wi]=u;let d=n[Er];return d!==null&&(c[Er]=d.createEmbeddedView(o)),wv(o,c,t),c}finally{pe(i)}}function UT(n,e){return!e||e.firstChild===null||bS(n)}var BT=!1,OV=new Z("");function yl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Fn(o)),Yn(o)&&eM(o,r);let s=t.type;if(s&8)yl(n,e,t.child,r);else if(s&32){let a=gv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=QS(e,t);if(Array.isArray(a))r.push(...a);else{let c=zi(e[kn]);yl(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eM(n,e){for(let t=Xt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&yl(r[ie],r,i,e)}n[Ki]!==n[Qn]&&e.push(n[Ki])}function tM(n){if(n[Yo]!==null){for(let e of n[Yo])e.impl.addSequence(e);n[Yo].length=0}}var nM=[];function RV(n){return n[bn]??NV(n)}function NV(n){let e=nM.pop()??Object.create(FV);return e.lView=n,e}function kV(n){n.lView[bn]!==n&&(n.lView=null,nM.push(n))}var FV=ue(U({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{da(n.lView)},consumerOnSignalRead(){this.lView[bn]=this}});function LV(n){let e=n[bn]??Object.create(VV);return e.lView=n,e}var VV=ue(U({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=zi(n.lView);for(;e&&!rM(e[ie]);)e=zi(e);e&&e_(e)},consumerOnSignalRead(){this.lView[bn]=this}});function rM(n){return n.type!==2}function iM(n){if(n[il]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[il])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var jV=100;function Cv(n,e=0){let r=n[vr].rendererFactory,i=!1;i||r.begin?.();try{UV(n,e)}finally{i||r.end?.()}}function UV(n,e){let t=c_();try{l_(!0),j_(n,e);let r=0;for(;cl(n);){if(r===jV)throw new F(103,!1);r++,j_(n,1)}}finally{l_(t)}}function oM(n,e){a_(e?ll.Exhaustive:ll.OnlyDirtyViews);try{Cv(n)}finally{a_(ll.Off)}}function BV(n,e,t,r){if(Jo(e))return;let i=e[se],o=!1,s=!1;Th(e);let a=!0,c=null,u=null;o||(rM(n)?(u=RV(e),c=ko(u)):Md()===null?(a=!1,u=LV(e),c=ko(u)):e[bn]&&(Pd(e[bn]),e[bn]=null));try{Xy(e),yT(n.bindingStartIndex),t!==null&&YS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&kh(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Fh(e,m,0,null),E_(e,0)}if(s||$V(e),iM(e),sM(e,0),n.contentQueries!==null&&OS(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&kh(e,m)}else{let m=n.contentHooks;m!==null&&Fh(e,m,1),E_(e,1)}HV(n,e);let f=n.components;f!==null&&cM(e,f,0);let g=n.viewQuery;if(g!==null&&F_(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&kh(e,m)}else{let m=n.viewHooks;m!==null&&Fh(e,m,2),E_(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[yh]){for(let m of e[yh])m();e[yh]=null}o||(tM(e),e[se]&=-73)}catch(d){throw o||da(e),d}finally{u!==null&&(Ws(u,c),a&&kV(u)),Sh()}}function sM(n,e){for(let t=DS(n);t!==null;t=TS(t))for(let r=Xt;r<t.length;r++){let i=t[r];aM(i,e)}}function $V(n){for(let e=DS(n);e!==null;e=TS(e)){if(!(e[se]&2))continue;let t=e[Zo];for(let r=0;r<t.length;r++){let i=t[r];e_(i)}}}function zV(n,e,t){Le(18);let r=Ln(e,n);aM(r,t),Le(19,r[Bt])}function aM(n,e){Eh(n)&&j_(n,e)}function j_(n,e){let r=n[ie],i=n[se],o=n[bn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$c(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)BV(r,n,r.template,n[Bt]);else if(i&8192){let a=pe(null);try{iM(n),sM(n,1);let c=r.components;c!==null&&cM(n,c,1),tM(n)}finally{pe(a)}}}function cM(n,e,t){for(let r=0;r<e.length;r++)zV(n,e[r],t)}function HV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Yi(~i);else{let o=i,s=t[++r],a=t[++r];vT(s,o);let c=e[o];Le(24,c),a(2,c),Le(25,c)}}}finally{Yi(-1)}}function bv(n,e){let t=c_()?64:1088;for(n[vr].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=zi(n);if(ua(n)&&!r)return n;n=r}return null}function lM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qV(n,e,t,r=!0){let i=e[ie];if(GV(i,e,n,t),r){let s=V_(t,n),a=e[Ye],c=a.parentNode(n[Ki]);c!==null&&tV(i,n[Nn],a,e,c,s)}let o=e[nl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function U_(n,e){if(n.length<=Xt)return;let t=Xt+e,r=n[t];if(r){let i=r[Wi];i!==null&&i!==n&&mv(i,r),e>0&&(n[t-1][Rn]=r[Rn]);let o=Xc(n,Xt+e);eV(r[ie],r);let s=o[Er];s!==null&&s.detachView(o[ie]),r[bt]=null,r[Rn]=null,r[se]&=-129}return r}function GV(n,e,t,r){let i=Xt+r,o=t.length;r>0&&(t[i-1][Rn]=e),r<o-Xt?(e[Rn]=t[i],Uy(t,Xt+r,e)):(t.push(e),e[Rn]=null),e[bt]=t;let s=e[Wi];s!==null&&t!==s&&uM(s,e);let a=e[Er];a!==null&&a.insertView(n),wh(e),e[se]|=128}function uM(n,e){let t=n[Zo],r=e[bt];if(wr(r))n[se]|=2;else{let i=r[bt][kn];e[kn]!==i&&(n[se]|=2)}t===null?n[Zo]=[e]:t.push(e)}var Zi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ie];return yl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return Jo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bt];if(Yn(e)){let t=e[ol],r=t?t.indexOf(this):-1;r>-1&&(U_(e,r),Xc(t,r))}this._attachedToViewContainer=!1}KS(this._lView[ie],this._lView)}onDestroy(e){t_(this._lView,e)}markForCheck(){bv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){wh(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,Cv(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Wo].get(OV,BT)}catch{this.exhaustive=BT}}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ua(this._lView),t=this._lView[Wi];t!==null&&!e&&mv(t,this._lView),WS(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=ua(this._lView),r=this._lView[Wi];r!==null&&!t&&uM(r,this._lView),wh(this._lView)}};var Ji=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=AV(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Zi(o)}}return n})();function WV(){return uf(Ot(),be())}function uf(n,e){return n.type&4?new Ji(e,n,va(n,e)):null}function Iv(n,e,t,r,i){let o=n.data[e];if(o===null)o=KV(n,e,t,r,i),_T()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=fT();o.injectorIndex=s===null?-1:s.injectorIndex}return ha(o,!0),o}function KV(n,e,t,r,i){let o=o_(),s=s_(),a=s?o:o&&o.parent,c=n.data[e]=YV(n,a,t,e,r,i);return QV(n,c,o,s),c}function QV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function YV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return uT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FY=new RegExp(`^(\\d+)*(${SL}|${TL})*(.*)`);var ZV=()=>null;function $T(n,e){return ZV(n,e)}var dM=class{},df=class{},B_=class{resolveComponentFactory(e){throw new F(917,!1)}},Cl=class{static NULL=new B_},li=class{},rr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>JV()}return n})();function JV(){let n=be(),e=Ot(),t=Ln(e.index,n);return(wr(t)?t:n)[Ye]}var hM=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>null})}return n})();var Vh={},$_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Vh,r);return i!==Vh||t===Vh?i:this.parentInjector.get(e,t,r)}};function zT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=dh(i,a);else if(o==2){let c=a,u=e[++s];r=dh(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function q(n,e=0){let t=be();if(t===null)return ee(n,e);let r=Ot();return ES(r,t,xt(n),e)}function fM(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}t2(n,e,t,a,o,c,u)}o!==null&&r!==null&&XV(t,r,o)}function XV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function e2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function t2(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&Cr(m)&&(c=!0,e2(n,t,g)),O_(zh(t,e),n,m.type)}a2(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=qS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=gl(t.mergedAttrs,m.hostAttrs),r2(n,t,e,f,m),s2(f,m,i),s!==null&&s.has(m)){let[x,O]=s.get(m);t.directiveToIndex.set(m.type,[f,x+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let E=m.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}n2(n,t,o)}function n2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))HT(0,e,i,r),HT(1,e,i,r),GT(e,r,!1);else{let o=t.get(i);qT(0,e,o,r),qT(1,e,o,r),GT(e,r,!0)}}}function HT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),pM(e,o)}}function qT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),pM(e,s)}}function pM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function GT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||dv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function r2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=$i(i.type,!0)),s=new ts(o,Cr(i),q,null);n.blueprint[r]=s,t[r]=s,i2(n,e,r,qS(n,t,i.hostVars,In),i)}function i2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;o2(s)!=a&&s.push(a),s.push(t,r,o)}}function o2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function s2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Cr(e)&&(t[""]=n)}}function a2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function gM(n,e,t,r,i,o,s,a){let c=e[ie],u=c.consts,d=al(u,s),f=Iv(c,n,t,r,d);return o&&fM(c,e,f,al(u,a),i),f.mergedAttrs=gl(f.mergedAttrs,f.attrs),f.attrs!==null&&zT(f,f.attrs,!1),f.mergedAttrs!==null&&zT(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function mM(n,e){dS(n,e),Yy(e)&&n.queries.elementEnd(e)}function Dv(n){return hf(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function yM(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function hf(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function _M(n,e,t){return n[e]=t}function ui(n,e,t){if(t===In)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vM(n,e,t,r){let i=ui(n,e,t);return ui(n,e+1,r)||i}function b_(n,e,t){return function r(i){let o=Qi(n)?Ln(n.index,e):e;bv(o,5);let s=e[Bt],a=WT(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=WT(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function WT(n,e,t,r){let i=pe(null);try{return Le(6,e,t),t(r)!==!1}catch(o){return SV(n,o),!1}finally{Le(7,e,t),pe(i)}}function c2(n,e,t,r,i,o,s,a){let c=sl(n),u=!1,d=null;if(!r&&c&&(d=l2(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=Zn(n,t),g=r?r(f):f;xL(t,g,o,a);let m=i.listen(g,o,a),E=r?x=>r(Fn(x[n.index])):n.index;EM(E,e,t,o,a,m,!1)}return u}function l2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ca],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function EM(n,e,t,r,i,o,s){let a=e.firstCreatePass?r_(e):null,c=n_(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function KT(n,e,t,r,i,o){let s=e[t],a=e[ie],u=a.data[t].outputs[r],f=s[u].subscribe(o);EM(n.index,a,e,i,o,f,!0)}var z_=Symbol("BINDING");var Wh=class extends Cl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Gi(e);return new ma(t,this.ngModule)}};function u2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&cf.SignalBased)!==0};return i&&(o.transform=i),o})}function d2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function h2(n,e,t){let r=e instanceof Ct?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new $_(t,r):t}function f2(n){let e=n.get(li,null);if(e===null)throw new F(407,!1);let t=n.get(hM,null),r=n.get(Hi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function p2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return BS(e,t,t==="svg"?eT:t==="math"?tT:null)}var ma=class extends df{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=u2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=d2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=zL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Le(22);let a=pe(null);try{let c=this.componentDef,u=g2(r,c,s,o),d=h2(c,i||this.ngModule,e),f=f2(d),g=f.rendererFactory.createRenderer(null,c),m=r?fV(g,r,c.encapsulation,d):p2(c,g),E=s?.some(QT)||o?.some(L=>typeof L!="function"&&L.bindings.some(QT)),x=fv(null,u,null,512|HS(c),null,null,f,g,d,null,AS(m,d,!0));x[Pt]=m,Th(x);let O=null;try{let L=gM(Pt,x,2,"#host",()=>u.directiveRegistry,!0,0);m&&(zS(g,m,L),ga(m,x)),vv(u,x,L),RS(u,L,x),mM(u,L),t!==void 0&&y2(L,this.ngContentSelectors,t),O=Ln(L.index,x),x[Bt]=O[Bt],wv(u,x,null)}catch(L){throw O!==null&&N_(O),N_(x),L}finally{Le(23),Sh()}return new Kh(this.componentType,x,!!E)}finally{pe(a)}}};function g2(n,e,t,r){let i=n?["ng-version","20.1.3"]:HL(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[z_].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[z_].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=Hy(f);c.push(g)}return hv(0,null,m2(o,s),1,a,c,null,null,null,[i],null)}function m2(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function QT(n){let e=n[z_].kind;return e==="input"||e==="twoWay"}var Kh=class extends dM{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=_h(t[ie],Pt),this.location=va(this._tNode,t),this.instance=Ln(this._tNode.index,t)[Bt],this.hostView=this.changeDetectorRef=new Zi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ev(r,i[ie],i,e,t);this.previousInputValues.set(e,t);let s=Ln(r.index,i);bv(s,1)}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function y2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var di=(()=>{class n{static __NG_ELEMENT_ID__=_2}return n})();function _2(){let n=Ot();return CM(n,be())}var v2=di,wM=class extends v2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return va(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){let e=ov(this._hostTNode,this._hostLView);if(pS(e)){let t=Bh(e,this._hostLView),r=Uh(e),i=t[ie].data[r+8];return new es(i,t)}else return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=YT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$T(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,UT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!eL(e),u;if(c)u=t;else{let O=t||{};u=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef,s=O.directives,a=O.bindings}let d=c?e:new ma(Gi(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let L=(c?f:this.parentInjector).get(Ct,null);L&&(o=L)}let g=Gi(d.componentType??{}),m=$T(this._lContainer,g?.id??null),E=m?.firstChild??null,x=d.create(f,i,E,o,s,a);return this.insertImpl(x.hostView,u,UT(this._hostTNode,m)),x}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(rT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[bt],u=new wM(c,c[Nn],c[bt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qV(s,i,o,r),e.attachToViewContainerRef(),Uy(I_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=YT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=U_(this._lContainer,t);r&&(Xc(I_(this._lContainer),t),KS(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=U_(this._lContainer,t);return r&&Xc(I_(this._lContainer),t)!=null?new Zi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YT(n){return n[ol]}function I_(n){return n[ol]||(n[ol]=[])}function CM(n,e){let t,r=e[n.index];return Yn(r)?t=r:(t=lM(r,e,null,n),e[n.index]=t,pv(e,t)),w2(t,e,n,r),new wM(t,n,e)}function E2(n,e){let t=n[Ye],r=t.createComment(""),i=Zn(e,n),o=t.parentNode(i);return Gh(t,o,r,t.nextSibling(i),!1),r}var w2=I2,C2=()=>!1;function b2(n,e,t){return C2(n,e,t)}function I2(n,e,t,r){if(n[Ki])return;let i;t.type&8?i=Fn(r):i=E2(e,t),n[Ki]=i}var H_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},q_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Tv(e,t).matches!==null&&this.queries[t].setDirty()}},G_=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=O2(e):this.predicate=e}},W_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},K_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,D2(t,o)),this.matchTNodeWithReadOption(e,t,Lh(t,e,o,!1,!1))}else r===Ji?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Lh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===en||i===di||i===Ji&&t.type&4)this.addMatch(t.index,-2);else{let o=Lh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function D2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function T2(n,e){return n.type&11?va(n,e):n.type&4?uf(n,e):null}function S2(n,e,t,r){return t===-1?T2(e,n):t===-2?M2(n,e,r):ml(n,n[ie],t,e)}function M2(n,e,t){if(t===en)return va(e,n);if(t===Ji)return uf(e,n);if(t===di)return CM(e,n)}function bM(n,e,t,r){let i=e[Er].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(S2(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Q_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=bM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=Xt;f<d.length;f++){let g=d[f];g[Wi]===g[bt]&&Q_(g[ie],g,u,r)}if(d[Zo]!==null){let f=d[Zo];for(let g=0;g<f.length;g++){let m=f[g];Q_(m[ie],m,u,r)}}}}}return r}function x2(n,e){return n[Er].queries[e].queryList}function P2(n,e,t){let r=new Hh((t&4)===4);return sT(n,e,r,r.destroy),(e[Er]??=new q_).queries.push(new H_(r))-1}function A2(n,e,t,r){let i=At();if(i.firstCreatePass){let o=Ot();R2(i,new G_(e,t,r),o.index),N2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return P2(i,be(),t)}function O2(n){return n.split(",").map(e=>e.trim())}function R2(n,e,t){n.queries===null&&(n.queries=new W_),n.queries.track(new K_(e,t))}function N2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Tv(n,e){return n.queries.getByIndex(e)}function k2(n,e){let t=n[ie],r=Tv(t,e);return r.crossesNgTemplate?Q_(t,n,e,[]):bM(t,n,r,e)}var ZT=new Set;function is(n){ZT.has(n)||(ZT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ns=class{},ff=class{};var Qh=class extends ns{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=zy(e);this._bootstrapComponents=jS(o.bootstrap),this._r3Injector=f_(e,t,[{provide:ns,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver},...r],ni(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yh=class extends ff{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Qh(this.moduleType,e,[])}};var _l=class extends ns{injector;componentFactoryResolver=new Wh(this);instance=null;constructor(e){super();let t=new zo([...e.providers,{provide:ns,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],e.parent||tl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bl(n,e,t=null){return new _l({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var F2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=qy(!1,t.type),i=r.length>0?bl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(ee(Ct))})}return n})();function Rt(n){return _a(()=>{let e=IM(n),t=ue(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(F2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ci.Emulated,styles:n.styles||Zt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&is("NgStandalone"),DM(t);let r=n.dependencies;return t.directiveDefs=JT(r,L2),t.pipeDefs=JT(r,GD),t.id=U2(t),t})}function L2(n){return Gi(n)||Hy(n)}function Dr(n){return _a(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function V2(n,e){if(n==null)return qi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=cf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function j2(n){if(n==null)return qi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ue(n){return _a(()=>{let e=IM(n);return DM(e),e})}function Il(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function IM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||qi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:V2(n.inputs,e),outputs:j2(n.outputs),debugInfo:null}}function DM(n){n.features?.forEach(e=>e(n))}function JT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function U2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function B2(n){return Object.getPrototypeOf(n.prototype).constructor}function dn(n){let e=B2(n.type),t=!0,r=[n];for(;e;){let i;if(Cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=D_(n.inputs),s.declaredInputs=D_(n.declaredInputs),s.outputs=D_(n.outputs);let a=i.hostBindings;a&&G2(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&H2(n,c),u&&q2(n,u),$2(n,i),VD(n.outputs,i.outputs),Cr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===dn&&(t=!1)}}e=Object.getPrototypeOf(e)}z2(r)}function $2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function z2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gl(i.hostAttrs,t=gl(t,i.hostAttrs))}}function D_(n){return n===qi?{}:n===Zt?[]:n}function H2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function q2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function G2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function W2(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=gl(n.mergedAttrs,n.attrs);let d=n.tView=hv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ha(n,!1);let c=Q2(t,e,n,r);xh()&&yv(t,e,c,n),ga(c,e);let u=lM(c,e,c,n);e[r+Pt]=u,pv(e,u),b2(u,n,e)}function K2(n,e,t,r,i,o,s,a,c,u,d){let f=t+Pt,g;return e.firstCreatePass?(g=Iv(e,f,4,s||null,a||null),i_()&&fM(e,n,g,al(e.consts,u),XS),dS(e,g)):g=e.data[f],W2(g,n,e,t,r,i,o,c),sl(g)&&vv(e,n,g),u!=null&&ZS(n,g,d),g}function Pe(n,e,t,r,i,o,s,a){let c=be(),u=At(),d=al(u.consts,o);return K2(c,u,n,e,t,r,i,d,void 0,s,a),Pe}var Q2=Y2;function Y2(n,e,t,r){return Ph(!0),e[Ye].createComment("")}var pf=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(pf||{}),os=new Z(""),TM=!1,Y_=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,JD()&&(this.destroyRef=j(Jn,{optional:!0})??void 0,this.pendingTasks=j(ai,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Be&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=Y_;function SM(n){let e,t;function r(){n=hl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function XT(n){return queueMicrotask(()=>n()),()=>{n=hl}}var Sv="isAngularZone",Zh=Sv+"_ID",Z2=0,nt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=TM}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ej(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,J2,hl,hl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},J2={};function Mv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function X2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){SM(()=>{n.callbackScheduled=!1,Z_(n),n.isCheckStableRunning=!0,Mv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Z_(n)}function ej(n){let e=()=>{X2(n)},t=Z2++;n._inner=n._inner.fork({name:"angular",properties:{[Sv]:!0,[Zh]:t,[Zh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(tj(c))return r.invokeTask(o,s,a,c);try{return eS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),tS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return eS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nj(c)&&e(),tS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Z_(n),Mv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Z_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function eS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tS(n){n._nesting--,Mv(n)}var Jh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function tj(n){return MM(n,"__ignore_ng_zone__")}function nj(n){return MM(n,"__scheduler_tick__")}function MM(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),xM=[0,1,2,3],PM=(()=>{class n{ngZone=j(nt);scheduler=j(Hi);errorHandler=j(Wn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){j(os,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Le(16),this.executing=!0;for(let r of xM)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Le(17)}register(t){let{view:r}=t;r!==void 0?((r[Yo]??=[]).push(t),da(r),r[se]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(pf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Yo];e&&(this.view[Yo]=e.filter(t=>t!==this))}};function gf(n,e){let t=e?.injector??j(On);return is("NgAfterNextRender"),ij(n,t,e,!0)}function rj(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function ij(n,e,t,r){let i=e.get(xv);i.impl??=e.get(PM);let o=e.get(os,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Jn):null,a=e.get(Ah,null,{optional:!0}),c=new Xh(i.impl,rj(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Pv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Av=new Z("");function Xi(n){return!!n&&typeof n.then=="function"}function Ov(n){return!!n&&typeof n.subscribe=="function"}var AM=new Z("");var Rv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=j(AM,{optional:!0})??[];injector=j(On);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Jt(this.injector,i);if(Xi(o))t.push(o);else if(Ov(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mf=new Z("");function OM(){Jm(()=>{let n="";throw new F(600,n)})}function RM(n){return n.isBoundToModule}var oj=10;var hi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=j(un);afterRenderManager=j(xv);zonelessEnabled=j(dl);rootEffectScheduler=j(v_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ot;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=j(ai);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ce(t=>!t))}constructor(){j(os,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=j(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=On.NULL){return this._injector.get(nt).run(()=>{Le(10);let s=t instanceof df;if(!this._injector.get(Rv).done){let E="";throw new F(405,E)}let c;s?c=t:c=this._injector.get(Cl).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=RM(c)?void 0:this._injector.get(ns),d=r||c.selector,f=c.create(i,[],d,u),g=f.location.nativeElement,m=f.injector.get(Av,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),pl(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Le(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(pf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),Le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(li,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<oj;)Le(14),this.synchronizeOnce(),Le(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!cl(i))continue;let o=r&&!this.zonelessEnabled?0:1;Cv(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;pl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(mf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ss(n,e,t,r){let i=be(),o=ul();if(ui(i,o,e)){let s=At(),a=Mh();CV(a,i,n,e,t,r)}return ss}function ce(n,e,t){let r=be(),i=ul();if(ui(r,i,e)){let o=At(),s=Mh();JS(s,r,n,e,r[Ye],t)}return ce}function J_(n,e,t,r,i){Ev(e,n,t,i?"class":"style",r)}function w(n,e,t,r){let i=be(),o=i[ie],s=n+Pt,a=o.firstCreatePass?gM(s,i,2,e,XS,i_(),t,r):o.data[s];if(DV(a,i,n,e,sj),sl(a)){let c=i[ie];vv(c,i,a),RS(c,a,i)}return r!=null&&ZS(i,a),w}function I(){let n=At(),e=Ot(),t=TV(e);return n.firstCreatePass&&mM(n,t),dT(t)&&hT(),lT(),t.classesWithoutHost!=null&&sL(t)&&J_(n,t,be(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&aL(t)&&J_(n,t,be(),t.stylesWithoutHost,!1),I}function eo(n,e,t,r){return w(n,e,t,r),I(),eo}var sj=(n,e,t,r,i)=>(Ph(!0),BS(e[Ye],r,TT()));function tn(){return be()}var Xo=void 0;function aj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var cj=["en",[["a","p"],["AM","PM"],Xo],[["AM","PM"],Xo,Xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xo,"{1} 'at' {0}",Xo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",aj],T_={};function nn(n){let e=lj(n),t=nS(e);if(t)return t;let r=e.split("-")[0];if(t=nS(r),t)return t;if(r==="en")return cj;throw new F(701,!1)}function nS(n){return n in T_||(T_[n]=ri.ng&&ri.ng.common&&ri.ng.common.locales&&ri.ng.common.locales[n]),T_[n]}var Ze=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ze||{});function lj(n){return n.toLowerCase().replace(/_/g,"-")}var Dl="en-US",uj="USD";var dj=Dl;function NM(n){typeof n=="string"&&(dj=n.toLowerCase().replace(/_/g,"-"))}function te(n,e,t){let r=be(),i=At(),o=Ot();return kM(i,r,r[Ye],o,n,e,t),te}function kM(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=b_(r,e,o),c2(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=b_(r,e,o),KT(r,e,g,m,i,c)}if(u&&u.length)for(let f of u)c??=b_(r,e,o),KT(r,e,f,i,i,c)}}function Se(n=1){return DT(n)}function Nv(n,e,t,r){A2(n,e,t,r)}function kv(n){let e=be(),t=At(),r=u_();Dh(r+1);let i=Tv(t,r);if(n.dirty&&nT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=k2(e,r);n.reset(o,EL),n.notifyOnChanges()}return!0}return!1}function Fv(){return x2(be(),u_())}function yf(n){let e=gT();return vh(e,Pt+n)}function Nh(n,e){return n<<17|e<<2}function rs(n){return n>>17&32767}function hj(n){return(n&2)==2}function fj(n,e){return n&131071|e<<17}function X_(n){return n|2}function ya(n){return(n&131068)>>2}function S_(n,e){return n&-131069|e<<2}function pj(n){return(n&1)===1}function ev(n){return n|1}function gj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=rs(s),c=ya(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||aa(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=rs(n[a+1]);n[r+1]=Nh(g,a),g!==0&&(n[g+1]=S_(n[g+1],r)),n[a+1]=fj(n[a+1],r)}else n[r+1]=Nh(a,0),a!==0&&(n[a+1]=S_(n[a+1],r)),a=r;else n[r+1]=Nh(c,0),a===0?a=r:n[c+1]=S_(n[c+1],r),c=r;u&&(n[r+1]=X_(n[r+1])),rS(n,d,r,!0),rS(n,d,r,!1),mj(e,d,n,r,o),s=Nh(a,c),o?e.classBindings=s:e.styleBindings=s}function mj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&aa(o,e)>=0&&(t[r+1]=ev(t[r+1]))}function rS(n,e,t,r){let i=n[t+1],o=e===null,s=r?rs(i):ya(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];yj(c,e)&&(a=!0,n[s+1]=r?ev(u):X_(u)),s=r?rs(u):ya(u)}a&&(n[t+1]=r?X_(i):ev(i))}function yj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?aa(n,e)>=0:!1}var er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _j(n){return n.substring(er.key,er.keyEnd)}function vj(n){return Ej(n),FM(n,LM(n,0,er.textEnd))}function FM(n,e){let t=er.textEnd;return t===e?-1:(e=er.keyEnd=wj(n,er.key=e,t),LM(n,e,t))}function Ej(n){er.key=0,er.keyEnd=0,er.value=0,er.valueEnd=0,er.textEnd=n.length}function LM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function wj(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ir(n,e,t){return VM(n,e,t,!1),ir}function $t(n,e){return VM(n,e,null,!0),$t}function _f(n){bj(xj,Cj,n,!0)}function Cj(n,e){for(let t=vj(e);t>=0;t=FM(e,t))gh(n,_j(e),!0)}function VM(n,e,t,r){let i=be(),o=At(),s=bh(2);if(o.firstUpdatePass&&UM(o,n,s,r),e!==In&&ui(i,s,e)){let a=o.data[oi()];BM(o,a,i,i[Ye],n,i[s+1]=Aj(e,t),r,s)}}function bj(n,e,t,r){let i=At(),o=bh(2);i.firstUpdatePass&&UM(i,null,o,r);let s=be();if(t!==In&&ui(s,o,t)){let a=i.data[oi()];if($M(a,r)&&!jM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=dh(c,t||"")),J_(i,a,s,t,r)}else Pj(i,a,s,s[Ye],s[o+1],s[o+1]=Mj(n,e,t),r,o)}}function jM(n,e){return e>=n.expandoStartIndex}function UM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[oi()],s=jM(n,t);$M(o,r)&&e===null&&!s&&(e=!1),e=Ij(i,o,e,r),gj(i,o,e,t,s,r)}}function Ij(n,e,t,r){let i=wT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=M_(null,n,e,t,r),t=vl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=M_(i,n,e,t,r),o===null){let c=Dj(n,e,r);c!==void 0&&Array.isArray(c)&&(c=M_(null,n,e,c[1],r),c=vl(c,e.attrs,r),Tj(n,e,r,c))}else o=Sj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Dj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ya(r)!==0)return n[rs(r)]}function Tj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[rs(i)]=r}function Sj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=vl(r,s,t)}return vl(r,e.attrs,t)}function M_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=vl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function vl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),gh(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Mj(n,e,t){if(t==null||t==="")return Zt;let r=[],i=wl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function xj(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&gh(n,r,t)}function Pj(n,e,t,r,i,o,s,a){i===In&&(i=Zt);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,E=null,x;d===f?(c+=2,u+=2,g!==m&&(E=f,x=m)):f===null||d!==null&&d<f?(c+=2,E=d):(u+=2,E=f,x=m),E!==null&&BM(n,e,t,r,E,x,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function BM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=pj(u)?iS(c,e,t,i,ya(u),s):void 0;if(!ef(d)){ef(o)||hj(u)&&(o=iS(c,null,t,i,a,s));let f=Zy(oi(),t);hV(r,s,f,i,o)}}function iS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=t[i+1];g===In&&(g=f?Zt:void 0);let m=f?mh(g,r):d===r?g:void 0;if(u&&!ef(m)&&(m=mh(c,r)),ef(m)&&(a=m,s))return a;let E=n[i+1];i=s?rs(E):ya(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=mh(c,r))}return a}function ef(n){return n!==void 0}function Aj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ni(wl(n)))),n}function $M(n,e){return(n.flags&(e?8:16))!==0}function S(n,e=""){let t=be(),r=At(),i=n+Pt,o=r.firstCreatePass?Iv(r,i,1,e,null):r.data[i],s=Oj(r,t,o,e,n);t[i]=s,xh()&&yv(r,t,s,o),ha(o,!1)}var Oj=(n,e,t,r,i)=>(Ph(!0),qL(e[Ye],r));function Rj(n,e,t,r=""){return ui(n,ul(),t)?e+qo(t)+r:In}function Nj(n,e,t,r,i,o=""){let s=mT(),a=vM(n,s,t,i);return bh(2),a?e+qo(t)+r+qo(i)+o:In}function Me(n){return dt("",n),Me}function dt(n,e,t){let r=be(),i=Rj(r,n,e,t);return i!==In&&zM(r,oi(),i),dt}function Tr(n,e,t,r,i){let o=be(),s=Nj(o,n,e,t,r,i);return s!==In&&zM(o,oi(),s),Tr}function zM(n,e,t){let r=Zy(e,n);GL(n[Ye],r,t)}function Nt(n,e,t){m_(e)&&(e=e());let r=be(),i=ul();if(ui(r,i,e)){let o=At(),s=Mh();JS(s,r,n,e,r[Ye],t)}return Nt}function zt(n,e){let t=m_(n);return t&&n.set(e),t}function kt(n,e){let t=be(),r=At(),i=Ot();return kM(r,t,t[Ye],i,n,e),kt}function kj(n,e,t){let r=At();if(r.firstCreatePass){let i=Cr(n);tv(t,r.data,r.blueprint,i,!0),tv(e,r.data,r.blueprint,i,!1)}}function tv(n,e,t,r,i){if(n=xt(n),Array.isArray(n))for(let o=0;o<n.length;o++)tv(n[o],e,t,r,i);else{let o=At(),s=be(),a=Ot(),c=$o(n)?n:xt(n.provide),u=Wy(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if($o(n)||!n.multi){let m=new ts(u,i,q,null),E=P_(c,e,i?d:d+g,f);E===-1?(O_(zh(a,s),o,c),x_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[E]=m,s[E]=m)}else{let m=P_(c,e,d+g,f),E=P_(c,e,d,d+g),x=m>=0&&t[m],O=E>=0&&t[E];if(i&&!O||!i&&!x){O_(zh(a,s),o,c);let L=Vj(i?Lj:Fj,t.length,i,r,u,n);!i&&O&&(t[E].providerFactory=L),x_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=HM(t[i?E:m],u,!i&&r);x_(o,n,m>-1?m:E,L)}!i&&r&&O&&t[E].componentProviders++}}}function x_(n,e,t,r){let i=$o(e),o=ZD(e);if(i||o){let c=(o?xt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function HM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function P_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Fj(n,e,t,r,i){return nv(this.multi,[])}function Lj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ml(r,r[ie],this.providerFactory.index,i);s=c.slice(0,a),nv(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],nv(o,s);return s}function nv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Vj(n,e,t,r,i,o){let s=new ts(n,t,q,null);return s.multi=[],s.index=e,s.componentProviders=0,HM(s,i,r&&!t),s}function Sr(n,e=[]){return t=>{t.providersResolver=(r,i)=>kj(r,i?i(n):n,e)}}function Tl(n,e,t,r){return GM(be(),Ch(),n,e,t,r)}function qM(n,e){let t=n[e];return t===In?void 0:t}function GM(n,e,t,r,i,o){let s=e+t;return ui(n,s,i)?_M(n,s+1,o?r.call(o,i):r(i)):qM(n,s+1)}function jj(n,e,t,r,i,o,s){let a=e+t;return vM(n,a,i,o)?_M(n,a+2,s?r.call(s,i,o):r(i,o)):qM(n,a+2)}function Je(n,e){let t=At(),r,i=n+Pt;t.firstCreatePass?(r=Uj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=$i(r.type,!0)),s,a=Yt(q);try{let c=$h(!1),u=o();return $h(c),Jy(t,be(),i,u),u}finally{Yt(a)}}function Uj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function or(n,e,t){let r=n+Pt,i=be(),o=vh(i,r);return WM(i,r)?GM(i,Ch(),e,o.transform,t,o):o.transform(t)}function Ht(n,e,t,r){let i=n+Pt,o=be(),s=vh(o,i);return WM(o,i)?jj(o,Ch(),e,s.transform,t,r,s):s.transform(t,r)}function WM(n,e){return n[ie].data[e].pure}function Lv(n,e){return uf(n,e)}var tf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Vv=(()=>{class n{compileModuleSync(t){return new Yh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=zy(t),o=jS(i.declarations).reduce((s,a)=>{let c=Gi(a);return c&&s.push(new ma(c)),s},[]);return new tf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bj=(()=>{class n{zone=j(nt);changeDetectionScheduler=j(Hi);applicationRef=j(hi);applicationErrorHandler=j(un);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KM=new Z("",{factory:()=>!1});function jv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new nt(ue(U({},Bv()),{scheduleInRootZone:t})),[{provide:nt,useFactory:n},{provide:ii,multi:!0,useFactory:()=>{let r=j(Bj,{optional:!0});return()=>r.initialize()}},{provide:ii,multi:!0,useFactory:()=>{let r=j($j);return()=>{r.initialize()}}},e===!0?{provide:y_,useValue:!0}:[],{provide:__,useValue:t??TM},{provide:un,useFactory:()=>{let r=j(nt),i=j(Ct),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Wn),o.handleError(s))})}}}]}function Uv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=jv({ngZoneFactory:()=>{let i=Bv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&is("NgZone_CoalesceEvent"),new nt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Go([{provide:KM,useValue:!0},{provide:dl,useValue:!1},r])}function Bv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $j=(()=>{class n{subscription=new Be;initialized=!1;zone=j(nt);pendingTasks=j(ai);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{nt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{nt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QM=(()=>{class n{applicationErrorHandler=j(un);appRef=j(hi);taskService=j(ai);ngZone=j(nt);zonelessEnabled=j(dl);tracing=j(os,{optional:!0});disableScheduling=j(y_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(__,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?XT:SM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,XT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zj(){return typeof $localize<"u"&&$localize.locale||Dl}var as=new Z("",{providedIn:"root",factory:()=>j(as,{optional:!0,skipSelf:!0})||zj()}),$v=new Z("",{providedIn:"root",factory:()=>uj});function Vn(n){return kD(n)}function wa(n,e){return Nd(n,e?.equal)}var YM=class{[Ut];constructor(e){this[Ut]=e}destroy(){this[Ut].destroy()}};var tx=Symbol("InputSignalNode#UNSET"),tU=ue(U({},kd),{transformFn:void 0,applyValueToInputSignal(n,e){Ks(n,e)}});function nx(n,e){let t=Object.create(tU);t.value=n,t.transformFn=e?.transform;function r(){if(Gs(t),t.value===tx){let i=null;throw new F(-950,i)}return t.value}return r[Ut]=t,r}var Ef=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>El(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},nU=new Z("");nU.__NG_ELEMENT_ID__=n=>{let e=Ot();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function ZM(n,e){return nx(n,e)}function rU(n){return nx(tx,n)}var rx=(ZM.required=rU,ZM);var zv=new Z(""),iU=new Z("");function Sl(n){return!n.moduleRef}function oU(n){let e=Sl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(nt);return t.run(()=>{Sl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(un),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Sl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(zv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(zv);s.add(o),n.moduleRef.onDestroy(()=>{pl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return aU(r,t,()=>{let o=e.get(ai),s=o.add(),a=e.get(Rv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(as,Dl);if(NM(c||Dl),!e.get(iU,!0))return Sl(n)?e.get(hi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Sl(n)){let d=e.get(hi);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return sU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var sU;function aU(n,e,t){try{let r=t();return Xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var vf=null;function cU(n=[],e){return On.create({name:e,providers:[{provide:el,useValue:"platform"},{provide:zv,useValue:new Set([()=>vf=null])},...n]})}function lU(n=[]){if(vf)return vf;let e=cU(n);return vf=e,OM(),uU(e),e}function uU(n){let e=n.get(rf,null);Jt(n,()=>{e?.forEach(t=>t())})}var to=(()=>{class n{static __NG_ELEMENT_ID__=dU}return n})();function dU(n){return hU(Ot(),be(),(n&16)===16)}function hU(n,e,t){if(Qi(n)&&!t){let r=Ln(n.index,e);return new Zi(r,r)}else if(n.type&175){let r=e[kn];return new Zi(r,e)}return null}var Hv=class{constructor(){}supports(e){return Dv(e)}create(e){return new qv(e)}},fU=(n,e)=>e,qv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||fU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<JM(r,i,o)?t:r,a=JM(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let m=g<o.length?o[g]:o[g]=0,E=m+g;d<=E&&E<u&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Dv(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,yM(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Gv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new wf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Wv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},wf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Wv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function JM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Kv=class{constructor(){}supports(e){return e instanceof Map||hf(e)}create(){return new Qv}},Qv=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||hf(e)))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Yv(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Yv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function XM(){return new Zv([new Hv])}var Zv=(()=>{class n{factories;static \u0275prov=K({token:n,providedIn:"root",factory:XM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XM()),deps:[[n,new iv,new rv]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function ex(){return new Jv([new Kv])}var Jv=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:ex});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ex()),deps:[[n,new iv,new rv]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new F(901,!1)}}return n})();function ix(n){Le(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=lU(r),o=[jv({}),{provide:Hi,useExisting:QM},MT,...t||[]],s=new _l({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return oU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Le(9)}}function ls(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var ax=null;function jn(){return ax}function Xv(n){ax??=n}var Ml=class{},eE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>j(cx),providedIn:"platform"})}return n})();var cx=(()=>{class n extends eE{_location;_history;_doc=j(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(t){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function lx(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function ox(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function no(n){return n&&n[0]!=="?"?`?${n}`:n}var Ca=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>j(dx),providedIn:"root"})}return n})(),ux=new Z(""),dx=(()=>{class n extends Ca{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lx(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+no(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+no(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+no(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ee(eE),ee(ux,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ba=(()=>{class n{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=mU(ox(sx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+no(r))}normalize(t){return n.stripTrailingSlash(gU(this._basePath,sx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+no(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+no(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=no;static joinWithSlash=lx;static stripTrailingSlash=ox;static \u0275fac=function(r){return new(r||n)(ee(Ca))};static \u0275prov=K({token:n,factory:()=>pU(),providedIn:"root"})}return n})();function pU(){return new ba(ee(Ca))}function gU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function sx(n){return n.replace(/\/index.html$/,"")}function mU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var yx={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Af=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Af||{});var qt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(qt||{}),Ve=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ve||{}),hn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(hn||{}),Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _x(n){return nn(n)[Ze.LocaleId]}function vx(n,e,t){let r=nn(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=Un(i,e);return Un(o,t)}function Ex(n,e,t){let r=nn(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=Un(i,e);return Un(o,t)}function wx(n,e,t){let r=nn(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=Un(i,e);return Un(o,t)}function Cx(n,e){let r=nn(n)[Ze.Eras];return Un(r,e)}function xl(n,e){let t=nn(n);return Un(t[Ze.DateFormat],e)}function Pl(n,e){let t=nn(n);return Un(t[Ze.TimeFormat],e)}function Al(n,e){let r=nn(n)[Ze.DateTimeFormat];return Un(r,e)}function ar(n,e){let t=nn(n),r=t[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===Ft.CurrencyDecimal)return t[Ze.NumberSymbols][Ft.Decimal];if(e===Ft.CurrencyGroup)return t[Ze.NumberSymbols][Ft.Group]}return r}function sE(n,e){return nn(n)[Ze.NumberFormats][e]}function yU(n){return nn(n)[Ze.Currencies]}function bx(n){if(!n[Ze.ExtraData])throw new F(2303,!1)}function Ix(n){let e=nn(n);return bx(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?tE(r):[tE(r[0]),tE(r[1])])}function Dx(n,e,t){let r=nn(n);bx(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=Un(i,e)||[];return Un(o,t)||[]}function Un(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new F(2304,!1)}function tE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function Tx(n,e,t="en"){let r=yU(t)[n]||yx[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var _U=2;function Sx(n){let e,t=yx[n];return t&&(e=t[2]),typeof e=="number"?e:_U}var vU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cf={},EU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Mx(n,e,t,r){let i=xU(n);e=fi(t,e)||e;let s=[],a;for(;e;)if(a=EU.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=Px(r,c),i=MU(i,r));let u="";return s.forEach(d=>{let f=TU(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Sf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function fi(n,e){let t=_x(n);if(Cf[t]??={},Cf[t][e])return Cf[t][e];let r="";switch(e){case"shortDate":r=xl(n,hn.Short);break;case"mediumDate":r=xl(n,hn.Medium);break;case"longDate":r=xl(n,hn.Long);break;case"fullDate":r=xl(n,hn.Full);break;case"shortTime":r=Pl(n,hn.Short);break;case"mediumTime":r=Pl(n,hn.Medium);break;case"longTime":r=Pl(n,hn.Long);break;case"fullTime":r=Pl(n,hn.Full);break;case"short":let i=fi(n,"shortTime"),o=fi(n,"shortDate");r=bf(Al(n,hn.Short),[i,o]);break;case"medium":let s=fi(n,"mediumTime"),a=fi(n,"mediumDate");r=bf(Al(n,hn.Medium),[s,a]);break;case"long":let c=fi(n,"longTime"),u=fi(n,"longDate");r=bf(Al(n,hn.Long),[c,u]);break;case"full":let d=fi(n,"fullTime"),f=fi(n,"fullDate");r=bf(Al(n,hn.Full),[d,f]);break}return r&&(Cf[t][e]=r),r}function bf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function sr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function wU(n,e){return sr(n,3).substring(0,e)}function ht(n,e,t=0,r=!1,i=!1){return function(o,s){let a=CU(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return wU(a,e);let c=ar(s,Ft.MinusSign);return sr(a,e,c,r,i)}}function CU(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new F(2301,!1)}}function $e(n,e,t=qt.Format,r=!1){return function(i,o){return bU(i,o,n,e,t,r)}}function bU(n,e,t,r,i,o){switch(t){case 2:return wx(e,i,r)[n.getMonth()];case 1:return Ex(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=Ix(e),d=Dx(e,i,r),f=u.findIndex(g=>{if(Array.isArray(g)){let[m,E]=g,x=s>=m.hours&&a>=m.minutes,O=s<E.hours||s===E.hours&&a<E.minutes;if(m.hours<E.hours){if(x&&O)return!0}else if(x||O)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return vx(e,i,r)[s<12?0:1];case 3:return Cx(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new F(2302,!1)}}function If(n){return function(e,t,r){let i=-1*r,o=ar(t,Ft.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+sr(s,2,o)+sr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+sr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+sr(s,2,o)+":"+sr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+sr(s,2,o)+":"+sr(Math.abs(i%60),2,o);default:throw new F(2302,!1)}}}var IU=0,Tf=4;function DU(n){let e=Sf(n,IU,1).getDay();return Sf(n,0,1+(e<=Tf?Tf:Tf+7)-e)}function xx(n){let e=n.getDay(),t=e===0?-3:Tf-e;return Sf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function nE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=xx(t),s=DU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return sr(i,n,ar(r,Ft.MinusSign))}}function Df(n,e=!1){return function(t,r){let o=xx(t).getFullYear();return sr(o,n,ar(r,Ft.MinusSign),e)}}var rE={};function TU(n){if(rE[n])return rE[n];let e;switch(n){case"G":case"GG":case"GGG":e=$e(3,Ve.Abbreviated);break;case"GGGG":e=$e(3,Ve.Wide);break;case"GGGGG":e=$e(3,Ve.Narrow);break;case"y":e=ht(0,1,0,!1,!0);break;case"yy":e=ht(0,2,0,!0,!0);break;case"yyy":e=ht(0,3,0,!1,!0);break;case"yyyy":e=ht(0,4,0,!1,!0);break;case"Y":e=Df(1);break;case"YY":e=Df(2,!0);break;case"YYY":e=Df(3);break;case"YYYY":e=Df(4);break;case"M":case"L":e=ht(1,1,1);break;case"MM":case"LL":e=ht(1,2,1);break;case"MMM":e=$e(2,Ve.Abbreviated);break;case"MMMM":e=$e(2,Ve.Wide);break;case"MMMMM":e=$e(2,Ve.Narrow);break;case"LLL":e=$e(2,Ve.Abbreviated,qt.Standalone);break;case"LLLL":e=$e(2,Ve.Wide,qt.Standalone);break;case"LLLLL":e=$e(2,Ve.Narrow,qt.Standalone);break;case"w":e=nE(1);break;case"ww":e=nE(2);break;case"W":e=nE(1,!0);break;case"d":e=ht(2,1);break;case"dd":e=ht(2,2);break;case"c":case"cc":e=ht(7,1);break;case"ccc":e=$e(1,Ve.Abbreviated,qt.Standalone);break;case"cccc":e=$e(1,Ve.Wide,qt.Standalone);break;case"ccccc":e=$e(1,Ve.Narrow,qt.Standalone);break;case"cccccc":e=$e(1,Ve.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=$e(1,Ve.Abbreviated);break;case"EEEE":e=$e(1,Ve.Wide);break;case"EEEEE":e=$e(1,Ve.Narrow);break;case"EEEEEE":e=$e(1,Ve.Short);break;case"a":case"aa":case"aaa":e=$e(0,Ve.Abbreviated);break;case"aaaa":e=$e(0,Ve.Wide);break;case"aaaaa":e=$e(0,Ve.Narrow);break;case"b":case"bb":case"bbb":e=$e(0,Ve.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=$e(0,Ve.Wide,qt.Standalone,!0);break;case"bbbbb":e=$e(0,Ve.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=$e(0,Ve.Abbreviated,qt.Format,!0);break;case"BBBB":e=$e(0,Ve.Wide,qt.Format,!0);break;case"BBBBB":e=$e(0,Ve.Narrow,qt.Format,!0);break;case"h":e=ht(3,1,-12);break;case"hh":e=ht(3,2,-12);break;case"H":e=ht(3,1);break;case"HH":e=ht(3,2);break;case"m":e=ht(4,1);break;case"mm":e=ht(4,2);break;case"s":e=ht(5,1);break;case"ss":e=ht(5,2);break;case"S":e=ht(6,1);break;case"SS":e=ht(6,2);break;case"SSS":e=ht(6,3);break;case"Z":case"ZZ":case"ZZZ":e=If(0);break;case"ZZZZZ":e=If(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=If(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=If(2);break;default:return null}return rE[n]=e,e}function Px(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function SU(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function MU(n,e,t){let i=n.getTimezoneOffset(),o=Px(e,i);return SU(n,-1*(o-i))}function xU(n){if(hx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Sf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(vU))return PU(r)}let e=new Date(n);if(!hx(e))throw new F(2302,!1);return e}function PU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function hx(n){return n instanceof Date&&!isNaN(n.valueOf())}var AU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fx=22,Mf=".",Ol="0",OU=";",RU=",",iE="#",px="\xA4";function Ax(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=ar(t,Ft.Infinity);else{let u=kU(n);s&&(u=NU(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let z=o.match(AU);if(z===null)throw new F(2306,!1);let H=z[1],Q=z[3],Oe=z[5];H!=null&&(d=oE(H)),Q!=null&&(f=oE(Q)),Oe!=null?g=oE(Oe):Q!=null&&f>g&&(g=f)}FU(u,f,g);let m=u.digits,E=u.integerLen,x=u.exponent,O=[];for(c=m.every(z=>!z);E<d;E++)m.unshift(0);for(;E<0;E++)m.unshift(0);E>0?O=m.splice(E,m.length):(O=m,m=[0]);let L=[];for(m.length>=e.lgSize&&L.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)L.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&L.unshift(m.join("")),a=L.join(ar(t,r)),O.length&&(a+=ar(t,i)+O.join("")),x&&(a+=ar(t,Ft.Exponential)+"+"+x)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Ox(n,e,t,r,i){let o=sE(e,Af.Currency),s=Nx(o,ar(e,Ft.MinusSign));return s.minFrac=Sx(r),s.maxFrac=s.minFrac,Ax(n,s,e,Ft.CurrencyGroup,Ft.CurrencyDecimal,i).replace(px,t).replace(px,"").trim()}function Rx(n,e,t){let r=sE(e,Af.Decimal),i=Nx(r,ar(e,Ft.MinusSign));return Ax(n,i,e,Ft.Group,Ft.Decimal,t)}function Nx(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(OU),i=r[0],o=r[1],s=i.indexOf(Mf)!==-1?i.split(Mf):[i.substring(0,i.lastIndexOf(Ol)+1),i.substring(i.lastIndexOf(Ol)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(iE));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Ol?t.minFrac=t.maxFrac=d+1:f===iE?t.maxFrac=d+1:t.posSuf+=f}let u=a.split(RU);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(iE);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function NU(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function kU(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Mf))>-1&&(e=e.replace(Mf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ol;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Ol;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>fx&&(r=r.splice(0,fx-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function FU(n,e,t){if(e>t)throw new F(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(f,g,m,E){return g=g+f,E[m]=g<10?g:g-10,c&&(E[m]===0&&m>=u?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function oE(n){let e=parseInt(n);if(isNaN(e))throw new F(2305,!1);return e}var xf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new xf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gx(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(di),q(Ji),q(Zv))};static \u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function gx(n,e){n.context.$implicit=e.item}var cr=(()=>{class n{_viewContainer;_context=new Pf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mx(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mx(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(di),q(Ji))};static \u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Pf=class{$implicit=null;ngIf=null};function mx(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}var Rl=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:tr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(q(en),q(Jv),q(rr))};static \u0275dir=Ue({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function aE(n,e){return new F(2100,!1)}var LU="mediumDate",kx=new Z(""),Fx=new Z(""),us=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??LU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Mx(t,s,o||this.locale,a)}catch(s){throw aE(n,s.message)}}static \u0275fac=function(r){return new(r||n)(q(as,16),q(kx,24),q(Fx,24))};static \u0275pipe=Il({name:"date",type:n,pure:!0})}return n})();var cE=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!Lx(t))return null;i||=this._locale;try{let o=Vx(t);return Rx(o,i,r)}catch(o){throw aE(n,o.message)}}static \u0275fac=function(r){return new(r||n)(q(as,16))};static \u0275pipe=Il({name:"number",type:n,pure:!0})}return n})();var ds=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!Lx(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=Tx(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=Vx(t);return Ox(c,s,a,r,o)}catch(c){throw aE(n,c.message)}}static \u0275fac=function(r){return new(r||n)(q(as,16),q($v,16))};static \u0275pipe=Il({name:"currency",type:n,pure:!0})}return n})();function Lx(n){return!(n==null||n===""||n!==n)}function Vx(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new F(2309,!1);return n}var Bn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Kn({})}return n})();function lE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Nl=class{};var jx="browser";var Rf=new Z(""),pE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ee(Rf),ee(nt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),kl=class{_doc;constructor(e){this._doc=e}manager},uE="ng-app-id";function Ux(n){for(let e of n)e.remove()}function Bx(n,e){let t=e.createElement("style");return t.textContent=n,t}function VU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${uE}="${e}"],link[${uE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(uE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,VU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Bx);r?.forEach(i=>this.addUsage(i,this.external,hE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Ux(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ux(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Bx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ee(ut),ee(nf),ee(sf,8),ee(Ea))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),dE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mE=/%COMP%/g;var zx="%COMP%",jU=`_nghost-${zx}`,UU=`_ngcontent-${zx}`,BU=!0,$U=new Z("",{providedIn:"root",factory:()=>BU});function zU(n){return UU.replace(mE,n)}function HU(n){return jU.replace(mE,n)}function Hx(n,e){return e.map(t=>t.replace(mE,n))}var Vl=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Fl(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Of?i.applyToHost(t):i instanceof Ll&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case ci.Emulated:o=new Of(c,u,r,this.appId,d,s,a,f,g);break;case ci.ShadowDom:return new fE(c,u,t,r,s,a,this.nonce,f,g);default:o=new Ll(c,u,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ee(pE),ee(gE),ee(nf),ee($U),ee(ut),ee(Ea),ee(nt),ee(sf),ee(os,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Fl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(dE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($x(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($x(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=dE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=dE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(tr.DashCase|tr.Important)?e.style.setProperty(t,r,i&tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function $x(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fE=class extends Fl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Hx(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=hE(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ll=class extends Fl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?Hx(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Of=class extends Ll{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=zU(d),this.hostAttr=HU(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Nf=class n extends Ml{supportsDOMEvents=!0;static makeCurrent(){Xv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=qU();return t==null?null:GU(t)}resetBaseElement(){jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lE(document.cookie,e)}},jl=null;function qU(){return jl=jl||document.head.querySelector("base"),jl?jl.getAttribute("href"):null}function GU(n){return new URL(n,document.baseURI).pathname}var WU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Gx=(()=>{class n extends kl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ee(ut))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),qx=["alt","control","meta","shift"],KU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Wx=(()=>{class n extends kl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=KU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qx.forEach(s=>{if(s!==i){let a=QU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ee(ut))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function yE(n,e){let t=U({rootComponent:n},YU(e));return ix(t)}function YU(n){return{appProviders:[...t5,...n?.providers??[]],platformProviders:e5}}function ZU(){Nf.makeCurrent()}function JU(){return new Wn}function XU(){return av(document),document}var e5=[{provide:Ea,useValue:jx},{provide:rf,useValue:ZU,multi:!0},{provide:ut,useFactory:XU}];var t5=[{provide:el,useValue:"root"},{provide:Wn,useFactory:JU},{provide:Rf,useClass:Gx,multi:!0,deps:[ut]},{provide:Rf,useClass:Wx,multi:!0,deps:[ut]},Vl,gE,pE,{provide:li,useExisting:Vl},{provide:Nl,useClass:WU},[]];var Kx=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ee(ut))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fe="primary",eu=Symbol("RouteTitle"),CE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ps(n){return new CE(n)}function nP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function r5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xr(n[t],e[t]))return!1;return!0}function xr(n,e){let t=n?bE(n):void 0,r=e?bE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rP(n[i],e[i]))return!1;return!0}function bE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function iP(n){return n.length>0?n[n.length-1]:null}function mi(n){return dy(n)?n:Xi(n)?Qe(Promise.resolve(n)):re(n)}var i5={exact:sP,subset:aP},oP={exact:o5,subset:s5,ignored:()=>!0};function Qx(n,e,t){return i5[t.paths](n.root,e.root,t.matrixParams)&&oP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function o5(n,e){return xr(n,e)}function sP(n,e,t){if(!hs(n.segments,e.segments)||!Lf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sP(n.children[r],e.children[r],t))return!1;return!0}function s5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rP(n[t],e[t]))}function aP(n,e,t){return cP(n,e,e.segments,t)}function cP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!hs(i,t)||e.hasChildren()||!Lf(i,t,r))}else if(n.segments.length===t.length){if(!hs(n.segments,t)||!Lf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!aP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!hs(n.segments,i)||!Lf(n.segments,i,r)||!n.children[fe]?!1:cP(n.children[fe],e,o,r)}}function Lf(n,e,t){return e.every((r,i)=>oP[t](n[i].parameters,r.parameters))}var Ar=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ae([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ps(this.queryParams),this._queryParamMap}toString(){return l5.serialize(this)}},Ae=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vf(this)}},ro=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ps(this.parameters),this._parameterMap}toString(){return uP(this)}};function a5(n,e){return hs(n,e)&&n.every((t,r)=>xr(t.parameters,e[r].parameters))}function hs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function c5(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===fe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==fe&&(t=t.concat(e(i,r)))}),t}var tu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new gs,providedIn:"root"})}return n})(),gs=class{parse(e){let t=new DE(e);return new Ar(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ul(e.root,!0)}`,r=h5(e.queryParams),i=typeof e.fragment=="string"?`#${u5(e.fragment)}`:"";return`${t}${r}${i}`}},l5=new gs;function Vf(n){return n.segments.map(e=>uP(e)).join("/")}function Ul(n,e){if(!n.hasChildren())return Vf(n);if(e){let t=n.children[fe]?Ul(n.children[fe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${Ul(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=c5(n,(r,i)=>i===fe?[Ul(n.children[fe],!1)]:[`${i}:${Ul(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${Vf(n)}/${t[0]}`:`${Vf(n)}/(${t.join("//")})`}}function lP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kf(n){return lP(n).replace(/%3B/gi,";")}function u5(n){return encodeURI(n)}function IE(n){return lP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jf(n){return decodeURIComponent(n)}function Yx(n){return jf(n.replace(/\+/g,"%20"))}function uP(n){return`${IE(n.path)}${d5(n.parameters)}`}function d5(n){return Object.entries(n).map(([e,t])=>`;${IE(e)}=${IE(t)}`).join("")}function h5(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${kf(t)}=${kf(i)}`).join("&"):`${kf(t)}=${kf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var f5=/^[^\/()?;#]+/;function _E(n){let e=n.match(f5);return e?e[0]:""}var p5=/^[^\/()?;=#]+/;function g5(n){let e=n.match(p5);return e?e[0]:""}var m5=/^[^=?&#]+/;function y5(n){let e=n.match(m5);return e?e[0]:""}var _5=/^[^&#]+/;function v5(n){let e=n.match(_5);return e?e[0]:""}var DE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new Ae(e,t)),r}parseSegment(){let e=_E(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new ro(jf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=g5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_E(this.remaining);i&&(r=i,this.capture(r))}e[jf(t)]=jf(r)}parseQueryParam(e){let t=y5(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=v5(this.remaining);s&&(r=s,this.capture(r))}let i=Yx(t),o=Yx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_E(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[fe]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function dP(n){return n.segments.length>0?new Ae([],{[fe]:n}):n}function hP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=hP(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ae(n.segments,e);return E5(t)}function E5(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new Ae(n.segments.concat(e.segments),e.children)}return n}function io(n){return n instanceof Ar}function fP(n,e,t=null,r=null){let i=pP(n);return gP(i,e,t,r)}function pP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ae(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=dP(r);return e??i}function gP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return vE(i,i,i,t,r);let o=w5(e);if(o.toRoot())return vE(i,i,new Ae([],{}),t,r);let s=C5(o,i,n),a=s.processChildren?$l(s.segmentGroup,s.index,o.commands):yP(s.segmentGroup,s.index,o.commands);return vE(i,s.segmentGroup,a,t,r)}function Uf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ql(n){return typeof n=="object"&&n!=null&&n.outlets}function vE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=mP(n,e,t);let a=dP(hP(s));return new Ar(a,o,i)}function mP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=mP(o,e,t)}),new Ae(n.segments,r)}var Bf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Uf(r[0]))throw new F(4003,!1);let i=r.find(ql);if(i&&i!==iP(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function w5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bf(t,e,r)}var Sa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function C5(n,e,t){if(n.isAbsolute)return new Sa(e,!0,0);if(!t)return new Sa(e,!1,NaN);if(t.parent===null)return new Sa(t,!0,0);let r=Uf(n.commands[0])?0:1,i=t.segments.length-1+r;return b5(t,i,n.numberOfDoubleDots)}function b5(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Sa(r,!1,i-o)}function I5(n){return ql(n[0])?n[0].outlets:{[fe]:n}}function yP(n,e,t){if(n??=new Ae([],{}),n.segments.length===0&&n.hasChildren())return $l(n,e,t);let r=D5(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ae(n.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Ae(n.segments.slice(r.pathIndex),n.children),$l(o,0,i)}else return r.match&&i.length===0?new Ae(n.segments,{}):r.match&&!n.hasChildren()?TE(n,e,t):r.match?$l(n,0,i):TE(n,e,t)}function $l(n,e,t){if(t.length===0)return new Ae(n.segments,{});{let r=I5(t),i={};if(Object.keys(r).some(o=>o!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let o=$l(n.children[fe],e,t);return new Ae(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(n.segments,i)}}function D5(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ql(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Jx(c,u,s))return o;r+=2}else{if(!Jx(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function TE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ql(o)){let c=T5(o.outlets);return new Ae(r,c)}if(i===0&&Uf(t[0])){let c=n.segments[e];r.push(new ro(c.path,Zx(t[0]))),i++;continue}let s=ql(o)?o.outlets[fe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Uf(a)?(r.push(new ro(s,Zx(a))),i+=2):(r.push(new ro(s,{})),i++)}return new Ae(r,{})}function T5(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=TE(new Ae([],{}),0,r))}),e}function Zx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Jx(n,e,t){return n==t.path&&xr(e,t.parameters)}var zl="imperative",It=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(It||{}),Tn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ms=class extends Tn{type=It.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ur=class extends Tn{urlAfterRedirects;type=It.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(rn||{}),Gl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Gl||{}),Pr=class extends Tn{reason;code;type=It.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pi=class extends Tn{reason;code;type=It.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},xa=class extends Tn{error;target;type=It.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wl=class extends Tn{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Tn{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class extends Tn{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hf=class extends Tn{urlAfterRedirects;state;type=It.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends Tn{urlAfterRedirects;state;type=It.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gf=class{route;type=It.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wf=class{route;type=It.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kf=class{snapshot;type=It.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{snapshot;type=It.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{snapshot;type=It.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{snapshot;type=It.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Kl=class{},Pa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function S5(n){return!(n instanceof Kl)&&!(n instanceof Pa)}function M5(n,e){return n.providers&&!n._injector&&(n._injector=bl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function lr(n){return n.outlet||fe}function x5(n,e){let t=n.filter(r=>lr(r)===e);return t.push(...n.filter(r=>lr(r)!==e)),t}function Ra(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Jf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ra(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Na(this.rootInjector)}},Na=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Jf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ee(Ct))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=SE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=SE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ME(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ME(e,this._root).map(t=>t.value)}};function SE(n,e){if(n===e.value)return e;for(let t of e.children){let r=SE(n,t);if(r)return r}return null}function ME(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ME(n,t);if(r.length)return r.unshift(e),r}return[]}var Dn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ta(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ql=class extends Xf{snapshot;constructor(e,t){super(e),this.snapshot=t,FE(this,e)}toString(){return this.snapshot.toString()}};function _P(n){let e=P5(n),t=new st([new ro("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new gi(t,r,o,s,i,fe,n,e.root);return a.snapshot=e.root,new Ql(new Dn(a,[]),e)}function P5(n){let e={},t={},r={},i="",o=new fs([],e,r,i,t,fe,n,null,{});return new Yl("",new Dn(o,[]))}var gi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ce(u=>u[eu]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ce(e=>ps(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ce(e=>ps(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ep(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&EP(i)&&(r.resolve[eu]=i.title),r}var fs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[eu]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ps(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Yl=class extends Xf{url;constructor(e,t){super(t),this.url=e,FE(this,t)}toString(){return vP(this._root)}};function FE(n,e){e.value._routerState=n,e.children.forEach(t=>FE(n,t))}function vP(n){let e=n.children.length>0?` { ${n.children.map(vP).join(", ")} } `:"";return`${n.value}${e}`}function EE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xr(e.params,t.params)||n.paramsSubject.next(t.params),r5(e.url,t.url)||n.urlSubject.next(t.url),xr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xE(n,e){let t=xr(n.params,e.params)&&a5(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||xE(n.parent,e.parent))}function EP(n){return typeof n.title=="string"||n.title===null}var wP=new Z(""),nu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=fe;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=rx(void 0);parentContexts=j(Na);location=j(di);changeDetector=j(to);inputBinder=j(ip,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new PE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ir]})}return n})(),PE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===gi?this.route:e===Na?this.childContexts:e===wP?this.outletData:this.parent.get(e,t)}},ip=new Z("");var LE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&eo(0,"router-outlet")},dependencies:[nu],encapsulation:2})}return n})();function VE(n){let e=n.children&&n.children.map(VE),t=e?ue(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=LE),t}function A5(n,e,t){let r=Zl(n,e._root,t?t._root:void 0);return new Ql(r,e)}function Zl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=O5(n,e,t);return new Dn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Zl(n,a)),s}}let r=R5(e.value),i=e.children.map(o=>Zl(n,o));return new Dn(r,i)}}function O5(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zl(n,r,i);return Zl(n,r)})}function R5(n){return new gi(new st(n.url),new st(n.params),new st(n.queryParams),new st(n.fragment),new st(n.data),n.outlet,n.component,n)}var Aa=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CP="ngNavigationCancelingError";function tp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bP(!1,rn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function bP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CP]=!0,t.cancellationCode=e,t}function N5(n){return IP(n)&&io(n.url)}function IP(n){return!!n&&n[CP]}var k5=(n,e,t,r)=>Ce(i=>(new AE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),AE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),EE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ta(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ta(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(EE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),EE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},np=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ma=class{component;route;constructor(e,t){this.component=e,this.route=t}};function F5(n,e,t){let r=n._root,i=e?e._root:null;return Bl(r,i,t,[r.value])}function L5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Py(n)?n:e.get(n):r}function Bl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ta(e);return n.children.forEach(s=>{V5(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Hl(a,t.getContext(s),i)),i}function V5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=j5(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new np(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Bl(n,e,a?a.children:null,r,i):Bl(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ma(a.outlet.component,s))}else s&&Hl(e,a,i),i.canActivateChecks.push(new np(r)),o.component?Bl(n,null,a?a.children:null,r,i):Bl(n,null,t,r,i);return i}function j5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!hs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hs(n.url,e.url)||!xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xE(n,e)||!xr(n.queryParams,e.queryParams);case"paramsChange":default:return!xE(n,e)}}function Hl(n,e,t){let r=Ta(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Hl(s,e.children.getContext(o),t):Hl(s,null,t):Hl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ma(e.outlet.component,i)):t.canDeactivateChecks.push(new Ma(null,i)):t.canDeactivateChecks.push(new Ma(null,i))}function ru(n){return typeof n=="function"}function U5(n){return typeof n=="boolean"}function B5(n){return n&&ru(n.canLoad)}function $5(n){return n&&ru(n.canActivate)}function z5(n){return n&&ru(n.canActivateChild)}function H5(n){return n&&ru(n.canDeactivate)}function q5(n){return n&&ru(n.canMatch)}function DP(n){return n instanceof Zr||n?.name==="EmptyError"}var Ff=Symbol("INITIAL_VALUE");function Oa(){return An(n=>rh(n.map(e=>e.pipe(Xr(1),gy(Ff)))).pipe(Ce(e=>{for(let t of e)if(t!==!0){if(t===Ff)return Ff;if(t===!1||G5(t))return t}return!0}),wn(e=>e!==Ff),Xr(1)))}function G5(n){return io(n)||n instanceof Aa}function W5(n,e){return lt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(ue(U({},t),{guardsResult:!0})):K5(s,r,i,n).pipe(lt(a=>a&&U5(a)?Q5(r,o,n,e):re(a)),Ce(a=>ue(U({},t),{guardsResult:a})))})}function K5(n,e,t,r){return Qe(n).pipe(lt(i=>eB(i.component,i.route,t,e,r)),ei(i=>i!==!0,!0))}function Q5(n,e,t,r){return Qe(e).pipe(jo(i=>ia(Z5(i.route.parent,r),Y5(i.route,r),X5(n,i.path,t),J5(n,i.route,t))),ei(i=>i!==!0,!0))}function Y5(n,e){return n!==null&&e&&e(new Yf(n)),re(!0)}function Z5(n,e){return n!==null&&e&&e(new Kf(n)),re(!0)}function J5(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>qc(()=>{let s=Ra(e)??t,a=ka(o,s),c=$5(a)?a.canActivate(e,n):Jt(s,()=>a(e,n));return mi(c).pipe(ei())}));return re(i).pipe(Oa())}function X5(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>L5(s)).filter(s=>s!==null).map(s=>qc(()=>{let a=s.guards.map(c=>{let u=Ra(s.node)??t,d=ka(c,u),f=z5(d)?d.canActivateChild(r,n):Jt(u,()=>d(r,n));return mi(f).pipe(ei())});return re(a).pipe(Oa())}));return re(o).pipe(Oa())}function eB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let c=Ra(e)??i,u=ka(a,c),d=H5(u)?u.canDeactivate(n,e,t,r):Jt(c,()=>u(n,e,t,r));return mi(d).pipe(ei())});return re(s).pipe(Oa())}function tB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=ka(s,n),c=B5(a)?a.canLoad(e,t):Jt(n,()=>a(e,t));return mi(c)});return re(o).pipe(Oa(),TP(r))}function TP(n){return sy(wt(e=>{if(typeof e!="boolean")throw tp(n,e)}),Ce(e=>e===!0))}function nB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=ka(s,n),c=q5(a)?a.canMatch(e,t):Jt(n,()=>a(e,t));return mi(c)});return re(o).pipe(Oa(),TP(r))}var Jl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Xl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Da(n){return na(new Jl(n))}function rB(n){return na(new F(4e3,!1))}function iB(n){return na(bP(!1,rn.GuardRejected))}var OE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[fe])return rB(`${e.redirectTo}`);i=i.children[fe]}}applyRedirectCommands(e,t,r,i,o){return oB(t,i,o).pipe(Ce(s=>{if(s instanceof Ar)throw new Xl(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Xl(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ar(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ae(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function oB(n,e,t){if(typeof n=="string")return re(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:f}=e;return mi(Jt(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var RE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sB(n,e,t,r,i){let o=SP(n,e,t);return o.matched?(r=M5(e,r),nB(r,e,t,i).pipe(Ce(s=>s===!0?o:U({},RE)))):re(o)}function SP(n,e,t){if(e.path==="**")return aB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},RE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nP)(t,n,e);if(!i)return U({},RE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aB(n){return{matched:!0,parameters:n.length>0?iP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Xx(n,e,t,r){return t.length>0&&uB(n,t,r)?{segmentGroup:new Ae(e,lB(r,new Ae(t,n.children))),slicedSegments:[]}:t.length===0&&dB(n,t,r)?{segmentGroup:new Ae(n.segments,cB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function cB(n,e,t,r){let i={};for(let o of t)if(op(n,e,o)&&!r[lr(o)]){let s=new Ae([],{});i[lr(o)]=s}return U(U({},r),i)}function lB(n,e){let t={};t[fe]=e;for(let r of n)if(r.path===""&&lr(r)!==fe){let i=new Ae([],{});t[lr(r)]=i}return t}function uB(n,e,t){return t.some(r=>op(n,e,r)&&lr(r)!==fe)}function dB(n,e,t){return t.some(r=>op(n,e,r))}function op(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function hB(n,e,t){return e.length===0&&!n.children[t]}var NE=class{};function fB(n,e,t,r,i,o,s="emptyOnly"){return new kE(n,e,t,r,i,s,o).recognize()}var pB=31,kE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new OE(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=Xx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ce(({children:t,rootSnapshot:r})=>{let i=new Dn(r,t),o=new Yl("",i),s=fP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new fs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,t).pipe(Ce(r=>({children:r,rootSnapshot:t})),Jr(r=>{if(r instanceof Xl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Jl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Ce(s=>s instanceof Dn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Qe(o).pipe(jo(s=>{let a=r.children[s],c=x5(t,s);return this.processSegmentGroup(e,c,a,s,i)}),py((s,a)=>(s.push(...a),s)),Bi(null),fy(),lt(s=>{if(s===null)return Da(r);let a=MP(s);return gB(a),re(a)}))}processSegment(e,t,r,i,o,s,a){return Qe(t).pipe(jo(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Jr(u=>{if(u instanceof Jl)return re(null);throw u}))),ei(c=>!!c),Jr(c=>{if(DP(c))return hB(r,i,o)?re(new NE):Da(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return lr(r)!==s&&(s===fe||!op(i,o,r))?Da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Da(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=SP(t,i,o);if(!c)return Da(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pB&&(this.allowRedirects=!1));let m=new fs(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,eP(i),lr(i),i.component??i._loadedComponent??null,i,tP(i)),E=ep(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(An(O=>this.applyRedirects.lineralizeSegments(i,O)),lt(O=>this.processSegment(e,r,t,O.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=sB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(An(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(An(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,E=new fs(g,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,eP(r),lr(r),r.component??r._loadedComponent??null,r,tP(r)),x=ep(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data);let{segmentGroup:O,slicedSegments:L}=Xx(t,g,m,u);if(L.length===0&&O.hasChildren())return this.processChildren(d,u,O,E).pipe(Ce(H=>new Dn(E,H)));if(u.length===0&&L.length===0)return re(new Dn(E,[]));let z=lr(r)===o;return this.processSegment(d,u,O,L,z?fe:o,!0,E).pipe(Ce(H=>new Dn(E,H instanceof Dn?[H]:[])))}))):Da(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):tB(e,t,r,this.urlSerializer).pipe(lt(i=>i?this.configLoader.loadChildren(e,t).pipe(wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iB(t))):re({routes:[],injector:e})}};function gB(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}function mB(n){let e=n.value.routeConfig;return e&&e.path===""}function MP(n){let e=[],t=new Set;for(let r of n){if(!mB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=MP(r.children);e.push(new Dn(r.value,i))}return e.filter(r=>!t.has(r))}function eP(n){return n.data||{}}function tP(n){return n.resolve||{}}function yB(n,e,t,r,i,o){return lt(s=>fB(n,e,t,r,s.extractedUrl,i,o).pipe(Ce(({state:a,tree:c})=>ue(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function _B(n,e){return lt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of xP(c))s.add(u);let a=0;return Qe(s).pipe(jo(c=>o.has(c)?vB(c,r,n,e):(c.data=ep(c,c.parent,n).resolve,re(void 0))),wt(()=>a++),oa(1),lt(c=>a===s.size?re(t):cn))})}function xP(n){let e=n.children.map(t=>xP(t)).flat();return[n,...e]}function vB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!EP(i)&&(o[eu]=i.title),qc(()=>(n.data=ep(n,n.parent,t).resolve,EB(o,n,e,r).pipe(Ce(s=>(n._resolvedData=s,n.data=U(U({},n.data),s),null)))))}function EB(n,e,t,r){let i=bE(n);if(i.length===0)return re({});let o={};return Qe(i).pipe(lt(s=>wB(n[s],e,t,r).pipe(ei(),wt(a=>{if(a instanceof Aa)throw tp(new gs,a);o[s]=a}))),oa(1),Ce(()=>o),Jr(s=>DP(s)?cn:na(s)))}function wB(n,e,t,r){let i=Ra(e)??r,o=ka(n,i),s=o.resolve?o.resolve(e,t):Jt(i,()=>o(e,t));return mi(s)}function wE(n){return An(e=>{let t=n(e);return t?Qe(t).pipe(Ce(()=>e)):re(e)})}var jE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[eu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>j(PP),providedIn:"root"})}return n})(),PP=(()=>{class n extends jE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ee(Kx))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fa=new Z("",{providedIn:"root",factory:()=>({})}),iu=new Z(""),AP=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=j(Vv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=mi(Jt(t,()=>r.loadComponent())).pipe(Ce(RP),wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Gc(()=>{this.componentLoaders.delete(r)})),o=new ta(i,()=>new ot).pipe(ea());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=OP(r,this.compiler,t,this.onLoadEndListener).pipe(Gc(()=>{this.childrenLoaders.delete(r)})),s=new ta(o,()=>new ot).pipe(ea());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OP(n,e,t,r){return mi(Jt(t,()=>n.loadChildren())).pipe(Ce(RP),lt(i=>i instanceof ff||Array.isArray(i)?re(i):Qe(e.compileModuleAsync(i))),Ce(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(iu,[],{optional:!0,self:!0}).flat()),{routes:s.map(VE),injector:o}}))}function CB(n){return n&&typeof n=="object"&&"default"in n}function RP(n){return CB(n)?n.default:n}var sp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>j(bB),providedIn:"root"})}return n})(),bB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NP=new Z("");var kP=new Z(""),FP=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortWithErrorSubject=new ot;configLoader=j(AP);environmentInjector=j(Ct);destroyRef=j(Jn);urlSerializer=j(tu);rootContexts=j(Na);location=j(ba);inputBindingEnabled=j(ip,{optional:!0})!==null;titleStrategy=j(jE);options=j(Fa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=j(sp);createViewTransition=j(NP,{optional:!0});navigationErrorHandler=j(kP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>re(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Gf(i)),r=i=>this.events.next(new Wf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new st(null),this.transitions.pipe(wn(r=>r!==null),An(r=>{let i=!1;return re(r).pipe(An(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rn.SupersededByNewNavigation),cn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ue(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new pi(o.id,this.urlSerializer.serialize(o.rawUrl),c,Gl.IgnoredSameUrlNavigation)),o.resolve(!1),cn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return re(o).pipe(An(c=>(this.events.next(new ms(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?cn:Promise.resolve(c))),yB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ue(U({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Wl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:g}=o,m=new ms(c,this.urlSerializer.serialize(u),d,f);this.events.next(m);let E=_P(this.rootComponentType).snapshot;return this.currentTransition=r=ue(U({},o),{targetSnapshot:E,urlAfterRedirects:u,extras:ue(U({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,re(r)}else{let c="";return this.events.next(new pi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Gl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),cn}}),wt(o=>{let s=new $f(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ce(o=>(this.currentTransition=r=ue(U({},o),{guards:F5(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),W5(this.environmentInjector,o=>this.events.next(o)),wt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw tp(this.urlSerializer,o.guardsResult);let s=new zf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),wn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",rn.GuardRejected),!1)),wE(o=>{if(o.guards.canActivateChecks.length!==0)return re(o).pipe(wt(s=>{let a=new Hf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),An(s=>{let a=!1;return re(s).pipe(_B(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",rn.NoDataFromResolver)}}))}),wt(s=>{let a=new qf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),wE(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=Ra(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(wt(d=>{a.component=d}),Ce(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return rh(s(o.targetSnapshot.root)).pipe(Bi(null),Xr(1))}),wE(()=>this.afterPreactivation()),An(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Qe(a).pipe(Ce(()=>r)):re(r)}),Ce(o=>{let s=A5(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ue(U({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),wt(()=>{this.events.next(new Kl)}),k5(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xr(1),oh(new _e(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(wn(()=>!i&&!r.targetRouterState),wt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",rn.Aborted)}))),wt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ur(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),oh(this.transitionAbortWithErrorSubject.pipe(wt(o=>{throw o}))),Gc(()=>{i||this.cancelNavigationTransition(r,"",rn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jr(o=>{if(this.destroyed)return r.resolve(!1),cn;if(i=!0,IP(o))this.events.next(new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),N5(o)?this.events.next(new Pa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new xa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Aa){let{message:c,cancellationCode:u}=tp(this.urlSerializer,a);this.events.next(new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Pa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return cn}))}))}cancelNavigationTransition(t,r,i){let o=new Pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IB(n){return n!==zl}var LP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>j(DB),providedIn:"root"})}return n})(),rp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},DB=(()=>{class n extends rp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VP=(()=>{class n{urlSerializer=j(tu);options=j(Fa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=j(ba);urlHandlingStrategy=j(sp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ar;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ar?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=_P(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>j(TB),providedIn:"root"})}return n})(),TB=(()=>{class n extends VP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ms?this.updateStateMemento():t instanceof pi?this.commitTransition(r):t instanceof Wl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Kl?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pr&&t.code!==rn.SupersededByNewNavigation&&t.code!==rn.Redirect?this.restoreHistory(r):t instanceof xa?this.restoreHistory(r,!0):t instanceof ur&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UE(n,e){n.events.pipe(wn(t=>t instanceof ur||t instanceof Pr||t instanceof xa||t instanceof pi),Ce(t=>t instanceof ur||t instanceof pi?0:(t instanceof Pr?t.code===rn.Redirect||t.code===rn.SupersededByNewNavigation:!1)?2:1),wn(t=>t!==2),Xr(1)).subscribe(()=>{e()})}var SB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},La=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=j(Pv);stateManager=j(VP);options=j(Fa,{optional:!0})||{};pendingTasks=j(ai);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=j(FP);urlSerializer=j(tu);location=j(ba);urlHandlingStrategy=j(sp);injector=j(Ct);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=j(LP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=j(iu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!j(ip,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Be;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==rn.Redirect&&r.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ur)this.navigated=!0;else if(r instanceof Pa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IB(i.source)},s);this.scheduleNavigation(a,zl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}S5(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(un)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(VE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=pP(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return gP(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=io(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zl,null,r)}navigate(t,r={skipLocationChange:!1}){return xB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},SB):r===!1?i=U({},MB):i=r,io(t))return Qx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Qx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return UE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var oo=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=si(null);get href(){return Vn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;applicationErrorHandler=j(un);options=j(Fa,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(j(new Ef("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ur&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(io(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:io(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(q(La),q(gi),El("tabindex"),q(rr),q(en),q(Ca))};static \u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&te("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ss("href",i.reactiveHref(),uv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ls],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ls],replaceUrl:[2,"replaceUrl","replaceUrl",ls],routerLink:"routerLink"},features:[Ir]})}return n})(),ou=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ge;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ur&&this.update()})}ngAfterContentInit(){re(this.links.changes,re(null)).pipe(ra()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Qe(t).pipe(ra()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=AB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(q(La),q(en),q(rr),q(to),q(oo,8))};static \u0275dir=Ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Nv(o,oo,5),r&2){let s;kv(s=Fv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ir]})}return n})();function AB(n){return!!n.paths}var OB=new Z("");function BE(n,...e){return Go([{provide:iu,multi:!0,useValue:n},[],{provide:gi,useFactory:RB,deps:[La]},{provide:mf,multi:!0,useFactory:NB},e.map(t=>t.\u0275providers)])}function RB(n){return n.routerState.root}function NB(){let n=j(On);return e=>{let t=n.get(hi);if(e!==t.components[0])return;let r=n.get(La),i=n.get(kB);n.get(FB)===1&&r.initialNavigation(),n.get(LB,null,{optional:!0})?.setUpPreloading(),n.get(OB,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var kB=new Z("",{factory:()=>new ot}),FB=new Z("",{providedIn:"root",factory:()=>1});var LB=new Z("");var me=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(me||{}),dr="*";function jP(n,e=null){return{type:me.Sequence,steps:n,options:e}}function $E(n){return{type:me.Style,styles:n,offset:null}}var yi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Va=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},su="!";function UP(n){return new F(3e3,!1)}function VB(){return new F(3100,!1)}function jB(){return new F(3101,!1)}function UB(n){return new F(3001,!1)}function BB(n){return new F(3003,!1)}function $B(n){return new F(3004,!1)}function $P(n,e){return new F(3005,!1)}function zP(){return new F(3006,!1)}function HP(){return new F(3007,!1)}function qP(n,e){return new F(3008,!1)}function GP(n){return new F(3002,!1)}function WP(n,e,t,r,i){return new F(3010,!1)}function KP(){return new F(3011,!1)}function QP(){return new F(3012,!1)}function YP(){return new F(3200,!1)}function ZP(){return new F(3202,!1)}function JP(){return new F(3013,!1)}function XP(n){return new F(3014,!1)}function eA(n){return new F(3015,!1)}function tA(n){return new F(3016,!1)}function nA(n,e){return new F(3404,!1)}function zB(n){return new F(3502,!1)}function rA(n){return new F(3503,!1)}function iA(){return new F(3300,!1)}function oA(n){return new F(3504,!1)}function sA(n){return new F(3301,!1)}function aA(n,e){return new F(3302,!1)}function cA(n){return new F(3303,!1)}function lA(n,e){return new F(3400,!1)}function uA(n){return new F(3401,!1)}function dA(n){return new F(3402,!1)}function hA(n,e){return new F(3505,!1)}function _i(n){switch(n.length){case 0:return new yi;case 1:return n[0];default:return new Va(n)}}function GE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((g,m)=>{let E=m,x=g;if(m!=="offset")switch(E=n.normalizePropertyName(E,i),x){case su:x=t.get(m);break;case dr:x=r.get(m);break;default:x=n.normalizeStyleValue(m,E,x,i);break}f.set(E,x)}),d||o.push(f),a=f,s=u}),i.length)throw zB(i);return o}function ap(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&zE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&zE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&zE(t,"destroy",n)));break}}function zE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=cp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function cp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function fn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function WE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var HB=typeof document>"u"?null:document.documentElement;function lp(n){let e=n.parentNode||n.host||null;return e===HB?null:e}function qB(n){return n.substring(1,6)=="ebkit"}var ys=null,BP=!1;function fA(n){ys||(ys=GB()||{},BP=ys.style?"WebkitAppearance"in ys.style:!1);let e=!0;return ys.style&&!qB(n)&&(e=n in ys.style,!e&&BP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ys.style)),e}function GB(){return typeof document<"u"?document.body:null}function KE(n,e){for(;e;){if(e===n)return!0;e=lp(e)}return!1}function QE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var WB=1e3,YE="{{",KB="}}",ZE="ng-enter",up="ng-leave",au="ng-trigger",cu=".ng-trigger",JE="ng-animating",dp=".ng-animating";function Or(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:HE(parseFloat(e[1]),e[2])}function HE(n,e){switch(e){case"s":return n*WB;default:return n}}function lu(n,e,t){return n.hasOwnProperty("duration")?n:QB(n,e,t)}function QB(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(UP(n)),{duration:0,delay:0,easing:""};i=HE(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=HE(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(VB()),a=!0),o<0&&(e.push(jB()),a=!0),a&&e.splice(c,0,UP(n))}return{duration:i,delay:o,easing:s}}function pA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function hr(n,e,t){e.forEach((r,i)=>{let o=hp(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function so(n,e){e.forEach((t,r)=>{let i=hp(r);n.style[i]=""})}function ja(n){return Array.isArray(n)?n.length==1?n[0]:jP(n):n}function gA(n,e,t){let r=e.params||{},i=XE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(UB(o))})}var qE=new RegExp(`${YE}\\s*(.+?)\\s*${KB}`,"g");function XE(n){let e=[];if(typeof n=="string"){let t;for(;t=qE.exec(n);)e.push(t[1]);qE.lastIndex=0}return e}function Ua(n,e,t){let r=`${n}`,i=r.replace(qE,(o,s)=>{let a=e[s];return a==null&&(t.push(BB(s)),a=""),a.toString()});return i==r?n:i}var YB=/-+([a-z0-9])/g;function hp(n){return n.replace(YB,(...e)=>e[1].toUpperCase())}function mA(n,e){return n===0||e===0}function yA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,fp(n,a)))}}return e}function pn(n,e,t){switch(e.type){case me.Trigger:return n.visitTrigger(e,t);case me.State:return n.visitState(e,t);case me.Transition:return n.visitTransition(e,t);case me.Sequence:return n.visitSequence(e,t);case me.Group:return n.visitGroup(e,t);case me.Animate:return n.visitAnimate(e,t);case me.Keyframes:return n.visitKeyframes(e,t);case me.Style:return n.visitStyle(e,t);case me.Reference:return n.visitReference(e,t);case me.AnimateChild:return n.visitAnimateChild(e,t);case me.AnimateRef:return n.visitAnimateRef(e,t);case me.Query:return n.visitQuery(e,t);case me.Stagger:return n.visitStagger(e,t);default:throw $B(e.type)}}function fp(n,e){return window.getComputedStyle(n)[e]}var mw=(()=>{class n{validateStyleProperty(t){return fA(t)}containsElement(t,r){return KE(t,r)}getParentElement(t){return lp(t)}query(t,r,i){return QE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new yi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),vs=class{static NOOP=new mw},Es=class{};var ZB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),_p=class extends Es{normalizePropertyName(e,t){return hp(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(ZB.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push($P(e,r))}return s+o}};var vp="*";function JB(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>XB(r,t,e)):t.push(n),t}function XB(n,e,t){if(n[0]==":"){let c=e3(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(eA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(_A(i,s));let a=i==vp&&s==vp;o[0]=="<"&&!a&&e.push(_A(s,i))}function e3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(tA(n)),"* => *"}}var pp=new Set(["true","1"]),gp=new Set(["false","0"]);function _A(n,e){let t=pp.has(n)||gp.has(n),r=pp.has(e)||gp.has(e);return(i,o)=>{let s=n==vp||n==i,a=e==vp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?pp.has(n):gp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?pp.has(e):gp.has(e)),s&&a}}var MA=":self",t3=new RegExp(`s*${MA}s*,?`,"g");function xA(n,e,t,r){return new ow(n).build(e,t,r)}var vA="",ow=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new sw(t);return this._resetContextStyleTimingState(i),pn(this,ja(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=vA,e.collectedStyles=new Map,e.collectedStyles.set(vA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(zP()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==me.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==me.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(HP())}),{type:me.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{XE(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(qP(e.name,[...o.values()]))}return{type:me.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=pn(this,ja(e.animation),t),i=JB(e.expr,t.errors);return{type:me.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_s(e.options)}}visitSequence(e,t){return{type:me.Sequence,steps:e.steps.map(r=>pn(this,r,t)),options:_s(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=pn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:me.Group,steps:o,options:_s(e.options)}}visitAnimate(e,t){let r=o3(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:$E({});if(o.type==me.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=$E(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:me.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===dr?r.push(a):t.errors.push(GP(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(YE)>=0){o=!0;break}}}),{type:me.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(WP(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&gA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:me.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(KP()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(L=>{let z=this._makeStyleAst(L,t),H=z.offset!=null?z.offset:i3(z.styles),Q=0;return H!=null&&(o++,Q=z.offset=H),c=c||Q<0||Q>1,a=a||Q<u,u=Q,s.push(Q),z});c&&t.errors.push(QP()),a&&t.errors.push(YP());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(ZP()):o==0&&(g=i/(f-1));let m=f-1,E=t.currentTime,x=t.currentAnimateTimings,O=x.duration;return d.forEach((L,z)=>{let H=g>0?z==m?1:g*z:s[z],Q=H*O;t.currentTime=E+x.delay+Q,x.duration=Q,this._validateStyleAst(L,t),L.offset=H,r.styles.push(L)}),r}visitReference(e,t){return{type:me.Reference,animation:pn(this,ja(e.animation),t),options:_s(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:me.AnimateChild,options:_s(e.options)}}visitAnimateRef(e,t){return{type:me.AnimateRef,animation:this.visitReference(e.animation,t),options:_s(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=n3(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,fn(t.collectedStyles,t.currentQuerySelector,new Map);let a=pn(this,ja(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:me.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:_s(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(JP());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:lu(e.timings,t.errors,!0);return{type:me.Stagger,animation:pn(this,ja(e.animation),t),timings:r,options:null}}};function n3(n){let e=!!n.split(/\s*,\s*/).find(t=>t==MA);return e&&(n=n.replace(t3,"")),n=n.replace(/@\*/g,cu).replace(/@\w+/g,t=>cu+"-"+t.slice(1)).replace(/:animating/g,dp),[n,e]}function r3(n){return n?U({},n):null}var sw=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function i3(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function o3(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=lu(n,e).duration;return ew(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ew(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=lu(t,e);return ew(i.duration,i.delay,i.easing)}function _s(n){return n?(n=U({},n),n.params&&(n.params=r3(n.params))):n={},n}function ew(n,e,t){return{duration:n,delay:e,easing:t}}function yw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var du=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},s3=1,a3=":enter",c3=new RegExp(a3,"g"),l3=":leave",u3=new RegExp(l3,"g");function PA(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new aw().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var aw=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new du;let f=new cw(e,t,u,i,o,d,[]);f.options=c;let g=c.delay?Or(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),pn(this,r,f);let m=f.timelines.filter(E=>E.containsAnimation());if(m.length&&a.size){let E;for(let x=m.length-1;x>=0;x--){let O=m[x];if(O.element===t){E=O;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,c)}return m.length?m.map(E=>E.buildKeyframes()):[yw(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Or(Ua(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Or(r.duration):null,a=r.delay!=null?Or(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),pn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==me.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ep);let s=Or(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>pn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Or(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),pn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Ua(r,t.params,t.errors):r;return lu(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==me.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Or(i.delay):0;o&&(t.previousNode.type===me.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ep);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),pn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;pn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Ep={},cw=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ep;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new wp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Or(r.duration)),r.delay!=null&&(i.delay=Or(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ua(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ep,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new lw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(c3,"."+this._enterClassName),e=e.replace(u3,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(XP(t)),a}},wp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=s3,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||dr),this._currentKeyframe.set(t,dr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=d3(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Ua(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??dr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===su?e.add(f):d===dr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return yw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},lw=class extends wp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",EA(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),E=t+m*r;g.set("offset",EA(E/s)),o.push(g)}r=s,t=0,i="",e=o}return yw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function EA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function d3(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,dr)}else for(let[o,s]of i)t.set(o,s)}),t}function wA(n,e,t,r,i,o,s,a,c,u,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var tw={},Cp=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return h3(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],g=this.ast.options&&this.ast.options.params||tw,m=a&&a.params||tw,E=this.buildStyles(r,m,f),x=c&&c.params||tw,O=this.buildStyles(i,x,f),L=new Set,z=new Map,H=new Map,Q=i==="void",Oe={params:AA(x,g),delay:this.ast.options?.delay},ae=d?[]:PA(e,t,this.ast.animation,o,s,E,O,Oe,u,f),D=0;return ae.forEach(v=>{D=Math.max(v.duration+v.delay,D)}),f.length?wA(t,this._triggerName,r,i,Q,E,O,[],[],z,H,D,f):(ae.forEach(v=>{let C=v.element,T=fn(z,C,new Set);v.preStyleProps.forEach(A=>T.add(A));let M=fn(H,C,new Set);v.postStyleProps.forEach(A=>M.add(A)),C!==t&&L.add(C)}),wA(t,this._triggerName,r,i,Q,E,O,ae,[...L.values()],z,H,D))}};function h3(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function AA(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var uw=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=AA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Ua(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function f3(n,e,t){return new dw(n,e,t)}var dw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new uw(i.style,o,r))}),CA(this.states,"true","1"),CA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Cp(e,i,this.states))}),this.fallbackTransition=p3(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function p3(n,e,t){let r=[(s,a)=>!0],i={type:me.Sequence,steps:[],options:null},o={type:me.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Cp(n,o,e)}function CA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var g3=new du,hw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=xA(this._driver,t,r,i);if(r.length)throw rA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=GE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=PA(this._driver,t,o,ZE,up,new Map,new Map,r,g3,i),s.forEach(d=>{let f=fn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(iA()),s=[]),i.length)throw oA(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,dr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=_i(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw sA(e);return t}listen(e,t,r,i){let o=cp(t,"","","");return ap(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},bA="ng-animate-queued",m3=".ng-animate-queued",nw="ng-animate-disabled",y3=".ng-animate-disabled",_3="ng-star-inserted",v3=".ng-star-inserted",E3=[],OA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},w3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fr="__ng_removed",hu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=b3(i),r){let o=e,{value:s}=o,a=Ro(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},uu="void",rw=new hu(uu),fw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,$n(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw aA(r,t);if(r==null||r.length==0)throw cA(t);if(!I3(r))throw lA(r,t);let o=fn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=fn(this._engine.statesByElement,e,new Map);return a.has(t)||($n(e,au),$n(e,au+"-"+t),a.set(t,rw)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw uA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new fu(this.id,t,e),a=this._engine.statesByElement.get(e);a||($n(e,au),$n(e,au+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new hu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=rw),!(u.value===uu)&&c.value===u.value){if(!S3(c.params,u.params)){let x=[],O=o.matchStyles(c.value,c.params,x),L=o.matchStyles(u.value,u.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{so(e,O),hr(e,L)})}return}let g=fn(this._engine.playersByElement,e,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let m=o.matchTransition(c.value,u.value,e,u.params),E=!1;if(!m){if(!i)return;m=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:u,player:s,isFallbackTransition:E}),E||($n(e,bA),s.onStart(()=>{Ba(e,bA)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);let O=this._engine.playersByElement.get(e);if(O){let L=O.indexOf(s);L>=0&&O.splice(L,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,cu,!0);r.forEach(i=>{if(i[fr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,uu,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&_i(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||rw,d=new hu(uu),f=new fu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[fr];(!o||o===OA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){$n(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=cp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ap(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},pw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new fw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(mp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mp(t))return;let o=t[fr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$n(e,nw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ba(e,nw))}removeNode(e,t,r){if(mp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[fr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return mp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,cu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,dp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _i(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[fr];if(t&&t.setForRemoval){if(e[fr]=OA,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(nw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,y3,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];$n(i,_3)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?_i(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw dA(e)}_flushAnimations(e,t){let r=new du,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(W=>{d.add(W);let Y=this.driver.query(W,m3,!0);for(let J=0;J<Y.length;J++)d.add(Y[J])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=TA(g,this.collectedEnterElements),E=new Map,x=0;m.forEach((W,Y)=>{let J=ZE+x++;E.set(Y,J),W.forEach(ve=>$n(ve,J))});let O=[],L=new Set,z=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){let Y=this.collectedLeaveElements[W],J=Y[fr];J&&J.setForRemoval&&(O.push(Y),L.add(Y),J.hasAnimation?this.driver.query(Y,v3,!0).forEach(ve=>L.add(ve)):z.add(Y))}let H=new Map,Q=TA(g,Array.from(L));Q.forEach((W,Y)=>{let J=up+x++;H.set(Y,J),W.forEach(ve=>$n(ve,J))}),e.push(()=>{m.forEach((W,Y)=>{let J=E.get(Y);W.forEach(ve=>Ba(ve,J))}),Q.forEach((W,Y)=>{let J=H.get(Y);W.forEach(ve=>Ba(ve,J))}),O.forEach(W=>{this.processLeaveNode(W)})});let Oe=[],ae=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(J=>{let ve=J.player,it=J.element;if(Oe.push(ve),this.collectedEnterElements.length){let et=it[fr];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(J.triggerName)){let Wr=et.previousTriggersValues.get(J.triggerName),an=this.statesByElement.get(J.element);if(an&&an.has(J.triggerName)){let Kr=an.get(J.triggerName);Kr.value=Wr,an.set(J.triggerName,Kr)}}ve.destroy();return}}let Pn=!f||!this.driver.containsElement(f,it),Xe=H.get(it),ze=E.get(it),He=this._buildInstruction(J,r,ze,Xe,Pn);if(He.errors&&He.errors.length){ae.push(He);return}if(Pn){ve.onStart(()=>so(it,He.fromStyles)),ve.onDestroy(()=>hr(it,He.toStyles)),i.push(ve);return}if(J.isFallbackTransition){ve.onStart(()=>so(it,He.fromStyles)),ve.onDestroy(()=>hr(it,He.toStyles)),i.push(ve);return}let Ni=[];He.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||Ni.push(et)}),He.timelines=Ni,r.append(it,He.timelines);let bm={instruction:He,player:ve,element:it};s.push(bm),He.queriedElements.forEach(et=>fn(a,et,[]).push(ve)),He.preStyleProps.forEach((et,Wr)=>{if(et.size){let an=c.get(Wr);an||c.set(Wr,an=new Set),et.forEach((Kr,ki)=>an.add(ki))}}),He.postStyleProps.forEach((et,Wr)=>{let an=u.get(Wr);an||u.set(Wr,an=new Set),et.forEach((Kr,ki)=>an.add(ki))})});if(ae.length){let W=[];ae.forEach(Y=>{W.push(hA(Y.triggerName,Y.errors))}),Oe.forEach(Y=>Y.destroy()),this.reportError(W)}let D=new Map,v=new Map;s.forEach(W=>{let Y=W.element;r.has(Y)&&(v.set(Y,Y),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,D))}),i.forEach(W=>{let Y=W.element;this._getPreviousPlayers(Y,!1,W.namespaceId,W.triggerName,null).forEach(ve=>{fn(D,Y,[]).push(ve),ve.destroy()})});let C=O.filter(W=>SA(W,c,u)),T=new Map;DA(T,this.driver,z,u,dr).forEach(W=>{SA(W,c,u)&&C.push(W)});let A=new Map;m.forEach((W,Y)=>{DA(A,this.driver,new Set(W),c,su)}),C.forEach(W=>{let Y=T.get(W),J=A.get(W);T.set(W,new Map([...Y?.entries()??[],...J?.entries()??[]]))});let b=[],xn=[],Ri={};s.forEach(W=>{let{element:Y,player:J,instruction:ve}=W;if(r.has(Y)){if(d.has(Y)){J.onDestroy(()=>hr(Y,ve.toStyles)),J.disabled=!0,J.overrideTotalTime(ve.totalTime),i.push(J);return}let it=Ri;if(v.size>1){let Xe=Y,ze=[];for(;Xe=Xe.parentNode;){let He=v.get(Xe);if(He){it=He;break}ze.push(Xe)}ze.forEach(He=>v.set(He,it))}let Pn=this._buildAnimation(J.namespaceId,ve,D,o,A,T);if(J.setRealPlayer(Pn),it===Ri)b.push(J);else{let Xe=this.playersByElement.get(it);Xe&&Xe.length&&(J.parentPlayer=_i(Xe)),i.push(J)}}else so(Y,ve.fromStyles),J.onDestroy(()=>hr(Y,ve.toStyles)),xn.push(J),d.has(Y)&&i.push(J)}),xn.forEach(W=>{let Y=o.get(W.element);if(Y&&Y.length){let J=_i(Y);W.setRealPlayer(J)}}),i.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<O.length;W++){let Y=O[W],J=Y[fr];if(Ba(Y,up),J&&J.hasAnimation)continue;let ve=[];if(a.size){let Pn=a.get(Y);Pn&&Pn.length&&ve.push(...Pn);let Xe=this.driver.query(Y,dp,!0);for(let ze=0;ze<Xe.length;ze++){let He=a.get(Xe[ze]);He&&He.length&&ve.push(...He)}}let it=ve.filter(Pn=>!Pn.destroyed);it.length?D3(this,Y,it):this.processLeaveNode(Y)}return O.length=0,b.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();let Y=this.players.indexOf(W);this.players.splice(Y,1)}),W.play()}),b}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==uu;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=fn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let E=m.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),m.destroy(),f.push(m)})}so(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,g=t.timelines.map(E=>{let x=E.element;d.add(x);let O=x[fr];if(O&&O.removedBeforeQueried)return new yi(E.duration,E.delay);let L=x!==c,z=T3((r.get(x)||E3).map(D=>D.getRealPlayer())).filter(D=>{let v=D;return v.element?v.element===x:!1}),H=o.get(x),Q=s.get(x),Oe=GE(this._normalizer,E.keyframes,H,Q),ae=this._buildPlayer(E,Oe,z);if(E.subTimeline&&i&&f.add(x),L){let D=new fu(e,a,x);D.setRealPlayer(ae),u.push(D)}return ae});u.forEach(E=>{fn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>C3(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>$n(E,JE));let m=_i(g);return m.onDestroy(()=>{d.forEach(E=>Ba(E,JE)),hr(c,t.toStyles)}),f.forEach(E=>{fn(i,E,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yi(e.duration,e.delay)}},fu=class{namespaceId;triggerName;element;_player=new yi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ap(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function C3(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function b3(n){return n??null}function mp(n){return n&&n.nodeType===1}function I3(n){return n=="start"||n=="done"}function IA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function DA(n,e,t,r,i){let o=[];t.forEach(c=>o.push(IA(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[fr]=w3,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>IA(c,o[a++])),s}function TA(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function $n(n,e){n.classList?.add(e)}function Ba(n,e){n.classList?.remove(e)}function D3(n,e,t){_i(t).onDone(()=>n.processLeaveNode(e))}function T3(n){let e=[];return RA(n,e),e}function RA(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Va?RA(r.players,e):e.push(r)}}function S3(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function SA(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var $a=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new pw(e.body,t,r),this._timelineEngine=new hw(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=xA(this._driver,o,c,u);if(c.length)throw nA(i,c);a=f3(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=WE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=WE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function M3(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=iw(e[0]),e.length>1&&(r=iw(e[e.length-1]))):e instanceof Map&&(t=iw(e)),t||r?new x3(n,t,r):null}var x3=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hr(this._element,this._initialStyles),this._endStyles&&(hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(so(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(so(this._element,this._endStyles),this._endStyles=null),hr(this._element,this._initialStyles),this._state=3)}}return n})();function iw(n){let e=null;return n.forEach((t,r)=>{P3(r)&&(e=e||new Map,e.set(r,t))}),e}function P3(n){return n==="display"||n==="position"}var bp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:fp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ip=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return KE(e,t)}getParentElement(e){return lp(e)}query(e,t,r){return QE(e,t,r)}computeStyle(e,t,r){return fp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(m=>m instanceof bp);mA(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((E,x)=>u.set(x,E))});let f=pA(t).map(m=>new Map(m));f=yA(e,f,u);let g=M3(e,f);return new bp(e,f,c,g)}};var yp="@",NA="@.disabled",Dp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==yp&&t==NA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},gw=class extends Dp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==yp?t.charAt(1)=="."&&t==NA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==yp){let o=A3(e),s=t.slice(1),a="";return s.charAt(0)!=yp&&([s,a]=O3(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function A3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function O3(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Tp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Dp(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new gw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var N3=(()=>{class n extends $a{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ee(ut),ee(vs),ee(Es))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function k3(){return new _p}function F3(n,e,t){return new Tp(n,e,t)}var kA=[{provide:Es,useFactory:k3},{provide:$a,useClass:N3},{provide:li,useFactory:F3,deps:[Vl,$a,nt]}],Woe=[{provide:vs,useClass:mw},{provide:of,useValue:"NoopAnimations"},...kA],L3=[{provide:vs,useFactory:()=>new Ip},{provide:of,useFactory:()=>"BrowserAnimations"},...kA];function FA(){return is("NgEagerAnimations"),[...L3]}var GA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(q(rr),q(en))};static \u0275dir=Ue({type:n})}return n})(),Np=(()=>{class n extends GA{static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275dir=Ue({type:n,features:[dn]})}return n})(),Eu=new Z("");var V3={provide:Eu,useExisting:Cn(()=>co),multi:!0};function j3(){let n=jn()?jn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var U3=new Z(""),co=(()=>{class n extends GA{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!j3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(q(rr),q(en),q(U3,8))};static \u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Sr([V3]),dn]})}return n})();function B3(n){return n==null||$3(n)===0}function $3(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var kp=new Z(""),WA=new Z("");function z3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function H3(n){return B3(n.value)?{required:!0}:null}function LA(n){return null}function KA(n){return n!=null}function QA(n){return Xi(n)?Qe(n):n}function YA(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function ZA(n,e){return e.map(t=>t(n))}function q3(n){return!n.validate}function JA(n){return n.map(e=>q3(e)?e:t=>e.validate(t))}function G3(n){if(!n)return null;let e=n.filter(KA);return e.length==0?null:function(t){return YA(ZA(t,e))}}function ww(n){return n!=null?G3(JA(n)):null}function W3(n){if(!n)return null;let e=n.filter(KA);return e.length==0?null:function(t){let r=ZA(t,e).map(QA);return hy(r).pipe(Ce(YA))}}function Cw(n){return n!=null?W3(JA(n)):null}function VA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function K3(n){return n._rawValidators}function Q3(n){return n._rawAsyncValidators}function _w(n){return n?Array.isArray(n)?n:[n]:[]}function Mp(n,e){return Array.isArray(n)?n.includes(e):n===e}function jA(n,e){let t=_w(e);return _w(n).forEach(i=>{Mp(t,i)||t.push(i)}),t}function UA(n,e){return _w(e).filter(t=>!Mp(n,t))}var xp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ww(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},qa=class extends xp{name;get formDirective(){return null}get path(){return null}},vu=class extends xp{_parent=null;name=null;valueAccessor=null},Pp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Y3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dse=ue(U({},Y3),{"[class.ng-submitted]":"isSubmitted"}),Ga=(()=>{class n extends Pp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(vu,2))};static \u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$t("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[dn]})}return n})(),Fp=(()=>{class n extends Pp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(qa,10))};static \u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&$t("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[dn]})}return n})();var pu="VALID",Sp="INVALID",za="PENDING",gu="DISABLED",ao=class{},Ap=class extends ao{value;source;constructor(e,t){super(),this.value=e,this.source=t}},yu=class extends ao{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},_u=class extends ao{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ha=class extends ao{status;source;constructor(e,t){super(),this.status=e,this.source=t}},vw=class extends ao{source;constructor(e){super(),this.source=e}},Ew=class extends ao{source;constructor(e){super(),this.source=e}};function XA(n){return(Lp(n)?n.validators:n)||null}function Z3(n){return Array.isArray(n)?ww(n):n||null}function eO(n,e){return(Lp(e)?e.asyncValidators:n)||null}function J3(n){return Array.isArray(n)?Cw(n):n||null}function Lp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function X3(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function e4(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new F(1002,"")})}var Op=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vn(this.statusReactive)}set status(e){Vn(()=>this.statusReactive.set(e))}_status=wa(()=>this.statusReactive());statusReactive=si(void 0);get valid(){return this.status===pu}get invalid(){return this.status===Sp}get pending(){return this.status==za}get disabled(){return this.status===gu}get enabled(){return this.status!==gu}errors;get pristine(){return Vn(this.pristineReactive)}set pristine(e){Vn(()=>this.pristineReactive.set(e))}_pristine=wa(()=>this.pristineReactive());pristineReactive=si(!0);get dirty(){return!this.pristine}get touched(){return Vn(this.touchedReactive)}set touched(e){Vn(()=>this.touchedReactive.set(e))}_touched=wa(()=>this.touchedReactive());touchedReactive=si(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UA(e,this._rawAsyncValidators))}hasValidator(e){return Mp(this._rawValidators,e)}hasAsyncValidator(e){return Mp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new _u(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new _u(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new yu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new yu(!0,r))}markAsPending(e={}){this.status=za;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ha(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gu,this.errors=null,this._forEachChild(i=>{i.disable(ue(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ap(this.value,r)),this._events.next(new Ha(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=pu,this._forEachChild(r=>{r.enable(ue(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pu||this.status===za)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ap(this.value,t)),this._events.next(new Ha(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gu:pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=za,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=QA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ha(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?gu:this.errors?Sp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(za)?za:this._anyControlsHaveStatus(Sp)?Sp:pu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new yu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new _u(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Z3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=J3(this._rawAsyncValidators)}},Rp=class extends Op{constructor(e,t,r){super(XA(t),eO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){e4(this,!0,e),Object.keys(e).forEach(r=>{X3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bw=new Z("",{providedIn:"root",factory:()=>Iw}),Iw="always";function t4(n,e){return[...e.path,n]}function tO(n,e,t=Iw){nO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),r4(n,e),o4(n,e),i4(n,e),n4(n,e)}function BA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function n4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function nO(n,e){let t=K3(n);e.validator!==null?n.setValidators(VA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Q3(n);e.asyncValidator!==null?n.setAsyncValidators(VA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();BA(e._rawValidators,i),BA(e._rawAsyncValidators,i)}function r4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rO(n,e)})}function i4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function rO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function s4(n,e){n==null,nO(n,e)}function a4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function c4(n){return Object.getPrototypeOf(n.constructor)===Np}function l4(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function u4(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===co?t=o:c4(o)?r=o:i=o}),i||r||t||null}var d4={provide:qa,useExisting:Cn(()=>wu)},mu=Promise.resolve(),wu=(()=>{class n extends qa{callSetDisabledState;get submitted(){return Vn(this.submittedReactive)}_submitted=wa(()=>this.submittedReactive());submittedReactive=si(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Rp({},ww(t),Cw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),tO(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mu.then(()=>{let r=this._findContainer(t.path),i=new Rp({});s4(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){mu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),l4(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new vw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Ew(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(q(kp,10),q(WA,10),q(bw,8))};static \u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&te("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Sr([d4]),dn]})}return n})();function $A(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var h4=class extends Op{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(XA(t),eO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$A(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$A(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var f4={provide:vu,useExisting:Cn(()=>ws)},HA=Promise.resolve(),ws=(()=>{class n extends vu{_changeDetectorRef;callSetDisabledState;control=new h4;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=u4(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),a4(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){HA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ls(r);HA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?t4(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(q(qa,9),q(kp,10),q(WA,10),q(Eu,10),q(to,8),q(bw,8))};static \u0275dir=Ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Sr([f4]),dn,Ir]})}return n})();var Vp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),p4={provide:Eu,useExisting:Cn(()=>Dw),multi:!0},Dw=(()=>{class n extends Np{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Sr([p4]),dn]})}return n})();var g4={provide:Eu,useExisting:Cn(()=>jp),multi:!0};function iO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function m4(n){return n.split(":")[0]}var jp=(()=>{class n extends Np{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=j(hi).injector;appRefDestroyRef=this.appRefInjector.get(Jn);destroyRef=j(Jn);cdr=j(to);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,gf({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=iO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=m4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Sr([g4]),dn]})}return n})(),oO=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(iO(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(q(en),q(rr),q(jp,9))};static \u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),y4={provide:Eu,useExisting:Cn(()=>sO),multi:!0};function qA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function _4(n){return n.split(":")[0]}var sO=(()=>{class n extends Np{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=_4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Sr([y4]),dn]})}return n})(),aO=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(qA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(qA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(q(en),q(rr),q(sO,9))};static \u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function v4(n){return typeof n=="number"?n:parseFloat(n)}var cO=(()=>{class n{_validator=LA;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):LA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,features:[Ir]})}return n})();var E4={provide:kp,useExisting:Cn(()=>Tw),multi:!0},Tw=(()=>{class n extends cO{min;inputName="min";normalizeInput=t=>v4(t);createValidator=t=>z3(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ss("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Sr([E4]),dn]})}return n})(),w4={provide:kp,useExisting:Cn(()=>Cu),multi:!0};var Cu=(()=>{class n extends cO{required;inputName="required";normalizeInput=ls;createValidator=t=>H3;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=nr(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ss("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Sr([w4]),dn]})}return n})();var C4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Kn({})}return n})();var Wa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bw,useValue:t.callSetDisabledState??Iw}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Kn({imports:[C4]})}return n})();var lO=()=>{};var hO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},b4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):b4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new xw;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},I4=function(n){let e=hO(n);return fO.encodeByteArray(e,!0)},Iu=function(n){return I4(n).replace(/\./g,"")},Bp=function(n){try{return fO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var D4=()=>pO().__FIREBASE_DEFAULTS__,T4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},S4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Bp(n[1]);return e&&JSON.parse(e)},$p=()=>{try{return lO()||D4()||T4()||S4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Aw=n=>{var e,t;return(t=(e=$p())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zp=n=>{let e=Aw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ow=()=>{var n;return(n=$p())===null||n===void 0?void 0:n.config},Rw=n=>{var e;return(e=$p())===null||e===void 0?void 0:e[`_${n}`]};var Up=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Rr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ka(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Hp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Iu(JSON.stringify(t)),Iu(JSON.stringify(s)),""].join(".")}var bu={};function M4(){let n={prod:[],emulator:[]};for(let e of Object.keys(bu))bu[e]?n.emulator.push(e):n.prod.push(e);return n}function x4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var uO=!1;function Qa(n,e){if(typeof window>"u"||typeof document>"u"||!Rr(window.location.host)||bu[n]===e||bu[n]||uO)return;bu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=M4().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{uO=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=x4(r),m=t("text"),E=document.getElementById(m)||document.createElement("span"),x=t("learnmore"),O=document.getElementById(x)||document.createElement("a"),L=t("preprendIcon"),z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),d(O,x);let Q=u();c(z,L),H.append(z,E,O,Q),document.body.appendChild(H)}o?(E.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function P4(){var n;let e=(n=$p())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vO(){let n=Dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function EO(){return!P4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var A4="FirebaseError",on=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=A4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vi.prototype.create)}},vi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?O4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new on(i,a,r)}};function O4(n,e){return n.replace(R4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var R4=/\{\$([^}]+)}/g;function CO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(dO(o)&&dO(s)){if(!Nr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function dO(n){return n!==null&&typeof n=="object"}function Du(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bO(n,e){let t=new Pw(n,e);return t.subscribe.bind(t)}var Pw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");N4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Mw),i.error===void 0&&(i.error=Mw),i.complete===void 0&&(i.complete=Mw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function N4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mw(){}var mse=4*60*60*1e3;function ft(n){return n&&n._delegate?n._delegate:n}var gn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Cs="[DEFAULT]";var kw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Up;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F4(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function k4(n){return n===Cs?void 0:n}function F4(n){return n.instantiationMode==="EAGER"}var qp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new kw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var L4=[],Ee=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ee||{}),V4={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},j4=Ee.INFO,U4={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},B4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=U4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lo=class{constructor(e){this.name=e,this._logLevel=j4,this._logHandler=B4,this._userLogHandler=null,L4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};var $4=(n,e)=>e.some(t=>n instanceof t),IO,DO;function z4(){return IO||(IO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H4(){return DO||(DO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TO=new WeakMap,Lw=new WeakMap,SO=new WeakMap,Fw=new WeakMap,jw=new WeakMap;function q4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(kr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&TO.set(t,n)}).catch(()=>{}),jw.set(e,n),e}function G4(n){if(Lw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Lw.set(n,e)}var Vw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function MO(n){Vw=n(Vw)}function W4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Gp(this),e,...t);return SO.set(r,e.sort?e.sort():[e]),kr(r)}:H4().includes(n)?function(...e){return n.apply(Gp(this),e),kr(TO.get(this))}:function(...e){return kr(n.apply(Gp(this),e))}}function K4(n){return typeof n=="function"?W4(n):(n instanceof IDBTransaction&&G4(n),$4(n,z4())?new Proxy(n,Vw):n)}function kr(n){if(n instanceof IDBRequest)return q4(n);if(Fw.has(n))return Fw.get(n);let e=K4(n);return e!==n&&(Fw.set(n,e),jw.set(e,n)),e}var Gp=n=>jw.get(n);function PO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=kr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(kr(s.result),c.oldVersion,c.newVersion,kr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Q4=["get","getKey","getAll","getAllKeys","count"],Y4=["put","add","delete","clear"],Uw=new Map;function xO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uw.get(e))return Uw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Y4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q4.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Uw.set(e,o),o}MO(n=>ue(U({},n),{get:(e,t,r)=>xO(e,t)||n.get(e,t,r),has:(e,t)=>!!xO(e,t)||n.has(e,t)}));var $w=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Z4(n){let e=n.getComponent();return e?.type==="VERSION"}var zw="@firebase/app",AO="0.13.2";var Ei=new lo("@firebase/app"),J4="@firebase/app-compat",X4="@firebase/analytics-compat",e6="@firebase/analytics",t6="@firebase/app-check-compat",n6="@firebase/app-check",r6="@firebase/auth",i6="@firebase/auth-compat",o6="@firebase/database",s6="@firebase/data-connect",a6="@firebase/database-compat",c6="@firebase/functions",l6="@firebase/functions-compat",u6="@firebase/installations",d6="@firebase/installations-compat",h6="@firebase/messaging",f6="@firebase/messaging-compat",p6="@firebase/performance",g6="@firebase/performance-compat",m6="@firebase/remote-config",y6="@firebase/remote-config-compat",_6="@firebase/storage",v6="@firebase/storage-compat",E6="@firebase/firestore",w6="@firebase/ai",C6="@firebase/firestore-compat",b6="firebase",I6="11.10.0";var Hw="[DEFAULT]",D6={[zw]:"fire-core",[J4]:"fire-core-compat",[e6]:"fire-analytics",[X4]:"fire-analytics-compat",[n6]:"fire-app-check",[t6]:"fire-app-check-compat",[r6]:"fire-auth",[i6]:"fire-auth-compat",[o6]:"fire-rtdb",[s6]:"fire-data-connect",[a6]:"fire-rtdb-compat",[c6]:"fire-fn",[l6]:"fire-fn-compat",[u6]:"fire-iid",[d6]:"fire-iid-compat",[h6]:"fire-fcm",[f6]:"fire-fcm-compat",[p6]:"fire-perf",[g6]:"fire-perf-compat",[m6]:"fire-rc",[y6]:"fire-rc-compat",[_6]:"fire-gcs",[v6]:"fire-gcs-compat",[E6]:"fire-fst",[C6]:"fire-fst-compat",[w6]:"fire-vertex","fire-js":"fire-js",[b6]:"fire-js-all"};var Wp=new Map,T6=new Map,qw=new Map;function OO(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fr(n){let e=n.name;if(qw.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;qw.set(e,n);for(let t of Wp.values())OO(t,n);for(let t of T6.values())OO(t,n);return!0}function bs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yn(n){return n==null?!1:n.settings!==void 0}var S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new vi("app","Firebase",S6);var Gw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}};var Lr=I6;function Qw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(t||(t=Ow()),!t)throw uo.create("no-options");let o=Wp.get(i);if(o){if(Nr(t,o.options)&&Nr(r,o.config))return o;throw uo.create("duplicate-app",{appName:i})}let s=new qp(i);for(let c of qw.values())s.addComponent(c);let a=new Gw(t,r,s);return Wp.set(i,a),a}function Ya(n=Hw){let e=Wp.get(n);if(!e&&n===Hw&&Ow())return Qw();if(!e)throw uo.create("no-app",{appName:n});return e}function mn(n,e,t){var r;let i=(r=D6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}Fr(new gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var M6="firebase-heartbeat-database",x6=1,Tu="firebase-heartbeat-store",Bw=null;function FO(){return Bw||(Bw=PO(M6,x6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw uo.create("idb-open",{originalErrorMessage:n.message})})),Bw}function P6(n){return _(this,null,function*(){try{let t=(yield FO()).transaction(Tu),r=yield t.objectStore(Tu).get(LO(n));return yield t.done,r}catch(e){if(e instanceof on)Ei.warn(e.message);else{let t=uo.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(t.message)}}})}function RO(n,e){return _(this,null,function*(){try{let r=(yield FO()).transaction(Tu,"readwrite");yield r.objectStore(Tu).put(e,LO(n)),yield r.done}catch(t){if(t instanceof on)Ei.warn(t.message);else{let r=uo.create("idb-set",{originalErrorMessage:t?.message});Ei.warn(r.message)}}})}function LO(n){return`${n.name}!${n.options.appId}`}var A6=1024,O6=30,Ww=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Kw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>O6){let s=N6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ei.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=NO(),{heartbeatsToSend:r,unsentEntries:i}=R6(this._heartbeatsCache.heartbeats),o=Iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ei.warn(t),""}})}};function NO(){return new Date().toISOString().substring(0,10)}function R6(n,e=A6){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Kw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Nw()?wO().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield P6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kO(n){return Iu(JSON.stringify({version:2,heartbeats:n})).length}function N6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function k6(n){Fr(new gn("platform-logger",e=>new $w(e),"PRIVATE")),Fr(new gn("heartbeat",e=>new Ww(e),"PRIVATE")),mn(zw,AO,n),mn(zw,AO,"esm2017"),mn("fire-js","")}k6("");var VO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jO={};var wi,Yw;(function(){var n;function e(D,v){function C(){}C.prototype=v.prototype,D.D=v.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(T,M,A){for(var b=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)b[xn-2]=arguments[xn];return v.prototype[M].apply(T,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,C){C||(C=0);var T=Array(16);if(typeof v=="string")for(var M=0;16>M;++M)T[M]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(M=0;16>M;++M)T[M]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=D.g[0],C=D.g[1],M=D.g[2];var A=D.g[3],b=v+(A^C&(M^A))+T[0]+3614090360&4294967295;v=C+(b<<7&4294967295|b>>>25),b=A+(M^v&(C^M))+T[1]+3905402710&4294967295,A=v+(b<<12&4294967295|b>>>20),b=M+(C^A&(v^C))+T[2]+606105819&4294967295,M=A+(b<<17&4294967295|b>>>15),b=C+(v^M&(A^v))+T[3]+3250441966&4294967295,C=M+(b<<22&4294967295|b>>>10),b=v+(A^C&(M^A))+T[4]+4118548399&4294967295,v=C+(b<<7&4294967295|b>>>25),b=A+(M^v&(C^M))+T[5]+1200080426&4294967295,A=v+(b<<12&4294967295|b>>>20),b=M+(C^A&(v^C))+T[6]+2821735955&4294967295,M=A+(b<<17&4294967295|b>>>15),b=C+(v^M&(A^v))+T[7]+4249261313&4294967295,C=M+(b<<22&4294967295|b>>>10),b=v+(A^C&(M^A))+T[8]+1770035416&4294967295,v=C+(b<<7&4294967295|b>>>25),b=A+(M^v&(C^M))+T[9]+2336552879&4294967295,A=v+(b<<12&4294967295|b>>>20),b=M+(C^A&(v^C))+T[10]+4294925233&4294967295,M=A+(b<<17&4294967295|b>>>15),b=C+(v^M&(A^v))+T[11]+2304563134&4294967295,C=M+(b<<22&4294967295|b>>>10),b=v+(A^C&(M^A))+T[12]+1804603682&4294967295,v=C+(b<<7&4294967295|b>>>25),b=A+(M^v&(C^M))+T[13]+4254626195&4294967295,A=v+(b<<12&4294967295|b>>>20),b=M+(C^A&(v^C))+T[14]+2792965006&4294967295,M=A+(b<<17&4294967295|b>>>15),b=C+(v^M&(A^v))+T[15]+1236535329&4294967295,C=M+(b<<22&4294967295|b>>>10),b=v+(M^A&(C^M))+T[1]+4129170786&4294967295,v=C+(b<<5&4294967295|b>>>27),b=A+(C^M&(v^C))+T[6]+3225465664&4294967295,A=v+(b<<9&4294967295|b>>>23),b=M+(v^C&(A^v))+T[11]+643717713&4294967295,M=A+(b<<14&4294967295|b>>>18),b=C+(A^v&(M^A))+T[0]+3921069994&4294967295,C=M+(b<<20&4294967295|b>>>12),b=v+(M^A&(C^M))+T[5]+3593408605&4294967295,v=C+(b<<5&4294967295|b>>>27),b=A+(C^M&(v^C))+T[10]+38016083&4294967295,A=v+(b<<9&4294967295|b>>>23),b=M+(v^C&(A^v))+T[15]+3634488961&4294967295,M=A+(b<<14&4294967295|b>>>18),b=C+(A^v&(M^A))+T[4]+3889429448&4294967295,C=M+(b<<20&4294967295|b>>>12),b=v+(M^A&(C^M))+T[9]+568446438&4294967295,v=C+(b<<5&4294967295|b>>>27),b=A+(C^M&(v^C))+T[14]+3275163606&4294967295,A=v+(b<<9&4294967295|b>>>23),b=M+(v^C&(A^v))+T[3]+4107603335&4294967295,M=A+(b<<14&4294967295|b>>>18),b=C+(A^v&(M^A))+T[8]+1163531501&4294967295,C=M+(b<<20&4294967295|b>>>12),b=v+(M^A&(C^M))+T[13]+2850285829&4294967295,v=C+(b<<5&4294967295|b>>>27),b=A+(C^M&(v^C))+T[2]+4243563512&4294967295,A=v+(b<<9&4294967295|b>>>23),b=M+(v^C&(A^v))+T[7]+1735328473&4294967295,M=A+(b<<14&4294967295|b>>>18),b=C+(A^v&(M^A))+T[12]+2368359562&4294967295,C=M+(b<<20&4294967295|b>>>12),b=v+(C^M^A)+T[5]+4294588738&4294967295,v=C+(b<<4&4294967295|b>>>28),b=A+(v^C^M)+T[8]+2272392833&4294967295,A=v+(b<<11&4294967295|b>>>21),b=M+(A^v^C)+T[11]+1839030562&4294967295,M=A+(b<<16&4294967295|b>>>16),b=C+(M^A^v)+T[14]+4259657740&4294967295,C=M+(b<<23&4294967295|b>>>9),b=v+(C^M^A)+T[1]+2763975236&4294967295,v=C+(b<<4&4294967295|b>>>28),b=A+(v^C^M)+T[4]+1272893353&4294967295,A=v+(b<<11&4294967295|b>>>21),b=M+(A^v^C)+T[7]+4139469664&4294967295,M=A+(b<<16&4294967295|b>>>16),b=C+(M^A^v)+T[10]+3200236656&4294967295,C=M+(b<<23&4294967295|b>>>9),b=v+(C^M^A)+T[13]+681279174&4294967295,v=C+(b<<4&4294967295|b>>>28),b=A+(v^C^M)+T[0]+3936430074&4294967295,A=v+(b<<11&4294967295|b>>>21),b=M+(A^v^C)+T[3]+3572445317&4294967295,M=A+(b<<16&4294967295|b>>>16),b=C+(M^A^v)+T[6]+76029189&4294967295,C=M+(b<<23&4294967295|b>>>9),b=v+(C^M^A)+T[9]+3654602809&4294967295,v=C+(b<<4&4294967295|b>>>28),b=A+(v^C^M)+T[12]+3873151461&4294967295,A=v+(b<<11&4294967295|b>>>21),b=M+(A^v^C)+T[15]+530742520&4294967295,M=A+(b<<16&4294967295|b>>>16),b=C+(M^A^v)+T[2]+3299628645&4294967295,C=M+(b<<23&4294967295|b>>>9),b=v+(M^(C|~A))+T[0]+4096336452&4294967295,v=C+(b<<6&4294967295|b>>>26),b=A+(C^(v|~M))+T[7]+1126891415&4294967295,A=v+(b<<10&4294967295|b>>>22),b=M+(v^(A|~C))+T[14]+2878612391&4294967295,M=A+(b<<15&4294967295|b>>>17),b=C+(A^(M|~v))+T[5]+4237533241&4294967295,C=M+(b<<21&4294967295|b>>>11),b=v+(M^(C|~A))+T[12]+1700485571&4294967295,v=C+(b<<6&4294967295|b>>>26),b=A+(C^(v|~M))+T[3]+2399980690&4294967295,A=v+(b<<10&4294967295|b>>>22),b=M+(v^(A|~C))+T[10]+4293915773&4294967295,M=A+(b<<15&4294967295|b>>>17),b=C+(A^(M|~v))+T[1]+2240044497&4294967295,C=M+(b<<21&4294967295|b>>>11),b=v+(M^(C|~A))+T[8]+1873313359&4294967295,v=C+(b<<6&4294967295|b>>>26),b=A+(C^(v|~M))+T[15]+4264355552&4294967295,A=v+(b<<10&4294967295|b>>>22),b=M+(v^(A|~C))+T[6]+2734768916&4294967295,M=A+(b<<15&4294967295|b>>>17),b=C+(A^(M|~v))+T[13]+1309151649&4294967295,C=M+(b<<21&4294967295|b>>>11),b=v+(M^(C|~A))+T[4]+4149444226&4294967295,v=C+(b<<6&4294967295|b>>>26),b=A+(C^(v|~M))+T[11]+3174756917&4294967295,A=v+(b<<10&4294967295|b>>>22),b=M+(v^(A|~C))+T[2]+718787259&4294967295,M=A+(b<<15&4294967295|b>>>17),b=C+(A^(M|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(M+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var C=v-this.blockSize,T=this.B,M=this.h,A=0;A<v;){if(M==0)for(;A<=C;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(T[M++]=D.charCodeAt(A++),M==this.blockSize){i(this,T),M=0;break}}else for(;A<v;)if(T[M++]=D[A++],M==this.blockSize){i(this,T),M=0;break}}this.h=M,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var C=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=C&255,C/=256;for(this.u(D),D=Array(16),v=C=0;4>v;++v)for(var T=0;32>T;T+=8)D[C++]=this.g[v]>>>T&255;return D};function o(D,v){var C=a;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=v(D)}function s(D,v){this.h=v;for(var C=[],T=!0,M=D.length-1;0<=M;M--){var A=D[M]|0;T&&A==v||(C[M]=A,T=!1)}this.g=C}var a={};function c(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return O(u(-D));for(var v=[],C=1,T=0;D>=C;T++)v[T]=D/C|0,C*=4294967296;return new s(v,0)}function d(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return O(d(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(v,8)),T=f,M=0;M<D.length;M+=8){var A=Math.min(8,D.length-M),b=parseInt(D.substring(M,M+A),v);8>A?(A=u(Math.pow(v,A)),T=T.j(A).add(u(b))):(T=T.j(C),T=T.add(u(b)))}return T}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(x(this))return-O(this).m();for(var D=0,v=1,C=0;C<this.g.length;C++){var T=this.i(C);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(x(this))return"-"+O(this).toString(D);for(var v=u(Math.pow(D,6)),C=this,T="";;){var M=Q(C,v).g;C=L(C,M.j(v));var A=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=M,E(C))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function x(D){return D.h==-1}n.l=function(D){return D=L(this,D),x(D)?-1:E(D)?0:1};function O(D){for(var v=D.g.length,C=[],T=0;T<v;T++)C[T]=~D.g[T];return new s(C,~D.h).add(g)}n.abs=function(){return x(this)?O(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),C=[],T=0,M=0;M<=v;M++){var A=T+(this.i(M)&65535)+(D.i(M)&65535),b=(A>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);T=b>>>16,A&=65535,b&=65535,C[M]=b<<16|A}return new s(C,C[C.length-1]&-2147483648?-1:0)};function L(D,v){return D.add(O(v))}n.j=function(D){if(E(this)||E(D))return f;if(x(this))return x(D)?O(this).j(O(D)):O(O(this).j(D));if(x(D))return O(this.j(O(D)));if(0>this.l(m)&&0>D.l(m))return u(this.m()*D.m());for(var v=this.g.length+D.g.length,C=[],T=0;T<2*v;T++)C[T]=0;for(T=0;T<this.g.length;T++)for(var M=0;M<D.g.length;M++){var A=this.i(T)>>>16,b=this.i(T)&65535,xn=D.i(M)>>>16,Ri=D.i(M)&65535;C[2*T+2*M]+=b*Ri,z(C,2*T+2*M),C[2*T+2*M+1]+=A*Ri,z(C,2*T+2*M+1),C[2*T+2*M+1]+=b*xn,z(C,2*T+2*M+1),C[2*T+2*M+2]+=A*xn,z(C,2*T+2*M+2)}for(T=0;T<v;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=v;T<2*v;T++)C[T]=0;return new s(C,0)};function z(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function H(D,v){this.g=D,this.h=v}function Q(D,v){if(E(v))throw Error("division by zero");if(E(D))return new H(f,f);if(x(D))return v=Q(O(D),v),new H(O(v.g),O(v.h));if(x(v))return v=Q(D,O(v)),new H(O(v.g),v.h);if(30<D.g.length){if(x(D)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var C=g,T=v;0>=T.l(D);)C=Oe(C),T=Oe(T);var M=ae(C,1),A=ae(T,1);for(T=ae(T,2),C=ae(C,2);!E(T);){var b=A.add(T);0>=b.l(D)&&(M=M.add(C),A=b),T=ae(T,1),C=ae(C,1)}return v=L(D,M.j(v)),new H(M,v)}for(M=f;0<=D.l(v);){for(C=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(C)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=u(C),b=A.j(v);x(b)||0<b.l(D);)C-=T,A=u(C),b=A.j(v);E(A)&&(A=g),M=M.add(A),D=L(D,b)}return new H(M,D)}n.A=function(D){return Q(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),C=[],T=0;T<v;T++)C[T]=this.i(T)&D.i(T);return new s(C,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),C=[],T=0;T<v;T++)C[T]=this.i(T)|D.i(T);return new s(C,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),C=[],T=0;T<v;T++)C[T]=this.i(T)^D.i(T);return new s(C,this.h^D.h)};function Oe(D){for(var v=D.g.length+1,C=[],T=0;T<v;T++)C[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(C,D.h)}function ae(D,v){var C=v>>5;v%=32;for(var T=D.g.length-C,M=[],A=0;A<T;A++)M[A]=0<v?D.i(A+C)>>>v|D.i(A+C+1)<<32-v:D.i(A+C);return new s(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yw=jO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,wi=jO.Integer=s}).apply(typeof VO<"u"?VO:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ci={};var Zw,F6,Za,Jw,Su,Qp,Xw,e0,t0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in p))break e;p=p[P]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,y=!1,P={next:function(){if(!y&&p<l.length){var R=p++;return{value:h(R,l[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(h,P)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function E(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,P,R){for(var B=Array(arguments.length-2),je=2;je<arguments.length;je++)B[je-2]=arguments[je];return h.prototype[P].apply(y,B)}}function x(l){let h=l.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function O(l,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let P=l.length||0,R=y.length||0;l.length=P+R;for(let B=0;B<R;B++)l[P+B]=y[B]}else l.push(y)}}class L{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(l){return/^[\s\xa0]*$/.test(l)}function H(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Q(l){return Q[" "](l),l}Q[" "]=function(){};var Oe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ae(l,h,p){for(let y in l)h.call(p,l[y],y,l)}function D(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function v(l){let h={};for(let p in l)h[p]=l[p];return h}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(p in y)l[p]=y[p];for(let R=0;R<C.length;R++)p=C[R],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function M(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function b(){var l=ve;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class xn{constructor(){this.h=this.g=null}add(h,p){let y=Ri.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var Ri=new L(()=>new W,l=>l.reset());class W{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,J=!1,ve=new xn,it=()=>{let l=a.Promise.resolve(void 0);Y=()=>{l.then(Pn)}};var Pn=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){A(p)}var h=Ri;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}J=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var He=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Ni(l,h){if(ze.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Oe){e:{try{Q(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:bm[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ni.aa.h.call(this)}}E(Ni,ze);var bm={2:"touch",3:"pen",4:"mouse"};Ni.prototype.h=function(){Ni.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Wr=0;function an(l,h,p,y,P){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=P,this.key=++Wr,this.da=this.fa=!1}function Kr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ki(l){this.src=l,this.g={},this.h=0}ki.prototype.add=function(l,h,p,y,P){var R=l.toString();l=this.g[R],l||(l=this.g[R]=[],this.h++);var B=Dm(l,h,y,P);return-1<B?(h=l[B],p||(h.fa=!1)):(h=new an(h,this.src,R,!!y,P),h.fa=p,l.push(h)),h};function Im(l,h){var p=h.type;if(p in l.g){var y=l.g[p],P=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=P)&&Array.prototype.splice.call(y,P,1),R&&(Kr(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Dm(l,h,p,y){for(var P=0;P<l.length;++P){var R=l[P];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return P}return-1}var Tm="closure_lm_"+(1e6*Math.random()|0),Sm={};function eI(l,h,p,y,P){if(y&&y.once)return nI(l,h,p,y,P);if(Array.isArray(h)){for(var R=0;R<h.length;R++)eI(l,h[R],p,y,P);return null}return p=Am(p),l&&l[et]?l.K(h,p,u(y)?!!y.capture:!!y,P):tI(l,h,p,!1,y,P)}function tI(l,h,p,y,P,R){if(!h)throw Error("Invalid event type");var B=u(P)?!!P.capture:!!P,je=xm(l);if(je||(l[Tm]=je=new ki(l)),p=je.add(h,p,y,B,R),p.proxy)return p;if(y=fk(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)He||(P=B),P===void 0&&(P=!1),l.addEventListener(h.toString(),y,P);else if(l.attachEvent)l.attachEvent(iI(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function fk(){function l(p){return h.call(l.src,l.listener,p)}let h=pk;return l}function nI(l,h,p,y,P){if(Array.isArray(h)){for(var R=0;R<h.length;R++)nI(l,h[R],p,y,P);return null}return p=Am(p),l&&l[et]?l.L(h,p,u(y)?!!y.capture:!!y,P):tI(l,h,p,!0,y,P)}function rI(l,h,p,y,P){if(Array.isArray(h))for(var R=0;R<h.length;R++)rI(l,h[R],p,y,P);else y=u(y)?!!y.capture:!!y,p=Am(p),l&&l[et]?(l=l.i,h=String(h).toString(),h in l.g&&(R=l.g[h],p=Dm(R,p,y,P),-1<p&&(Kr(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete l.g[h],l.h--)))):l&&(l=xm(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Dm(h,p,y,P)),(p=-1<l?h[l]:null)&&Mm(p))}function Mm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[et])Im(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(iI(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=xm(h))?(Im(p,l),p.h==0&&(p.src=null,h[Tm]=null)):Kr(l)}}}function iI(l){return l in Sm?Sm[l]:Sm[l]="on"+l}function pk(l,h){if(l.da)l=!0;else{h=new Ni(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&Mm(l),l=p.call(y,h)}return l}function xm(l){return l=l[Tm],l instanceof ki?l:null}var Pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Am(l){return typeof l=="function"?l:(l[Pm]||(l[Pm]=function(h){return l.handleEvent(h)}),l[Pm])}function Lt(){Xe.call(this),this.i=new ki(this),this.M=this,this.F=null}E(Lt,Xe),Lt.prototype[et]=!0,Lt.prototype.removeEventListener=function(l,h,p,y){rI(this,l,h,p,y)};function Kt(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new ze(h,l);else if(h instanceof ze)h.target=h.target||l;else{var P=h;h=new ze(y,l),T(h,P)}if(P=!0,p)for(var R=p.length-1;0<=R;R--){var B=h.g=p[R];P=sd(B,y,!0,h)&&P}if(B=h.g=l,P=sd(B,y,!0,h)&&P,P=sd(B,y,!1,h)&&P,p)for(R=0;R<p.length;R++)B=h.g=p[R],P=sd(B,y,!1,h)&&P}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)Kr(p[y]);delete l.g[h],l.h--}}this.F=null},Lt.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},Lt.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function sd(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,R=0;R<h.length;++R){var B=h[R];if(B&&!B.da&&B.capture==p){var je=B.listener,Mt=B.ha||B.src;B.fa&&Im(l.i,B),P=je.call(Mt,y)!==!1&&P}}return P&&!y.defaultPrevented}function oI(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function sI(l){l.g=oI(()=>{l.g=null,l.i&&(l.i=!1,sI(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class gk extends Xe{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:sI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tc(l){Xe.call(this),this.h=l,this.g={}}E(Tc,Xe);var aI=[];function cI(l){ae(l.g,function(h,p){this.g.hasOwnProperty(p)&&Mm(h)},l),l.g={}}Tc.prototype.N=function(){Tc.aa.N.call(this),cI(this)},Tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Om=a.JSON.stringify,mk=a.JSON.parse,yk=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Rm(){}Rm.prototype.h=null;function lI(l){return l.h||(l.h=l.i())}function uI(){}var Sc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nm(){ze.call(this,"d")}E(Nm,ze);function km(){ze.call(this,"c")}E(km,ze);var xo={},dI=null;function ad(){return dI=dI||new Lt}xo.La="serverreachability";function hI(l){ze.call(this,xo.La,l)}E(hI,ze);function Mc(l){let h=ad();Kt(h,new hI(h))}xo.STAT_EVENT="statevent";function fI(l,h){ze.call(this,xo.STAT_EVENT,l),this.stat=h}E(fI,ze);function Qt(l){let h=ad();Kt(h,new fI(h,l))}xo.Ma="timingevent";function pI(l,h){ze.call(this,xo.Ma,l),this.size=h}E(pI,ze);function xc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Pc(){this.g=!0}Pc.prototype.xa=function(){this.g=!1};function _k(l,h,p,y,P,R){l.info(function(){if(l.g)if(R)for(var B="",je=R.split("&"),Mt=0;Mt<je.length;Mt++){var xe=je[Mt].split("=");if(1<xe.length){var Vt=xe[0];xe=xe[1];var jt=Vt.split("_");B=2<=jt.length&&jt[1]=="type"?B+(Vt+"="+xe+"&"):B+(Vt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+p+`
`+B})}function vk(l,h,p,y,P,R,B){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+p+`
`+R+" "+B})}function Bs(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+wk(l,p)+(y?" "+y:"")})}function Ek(l,h){l.info(function(){return"TIMEOUT: "+h})}Pc.prototype.info=function(){};function wk(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var R=P[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<P.length;B++)P[B]=""}}}}return Om(p)}catch{return h}}var cd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fm;function ld(){}E(ld,Rm),ld.prototype.g=function(){return new XMLHttpRequest},ld.prototype.i=function(){return{}},Fm=new ld;function Fi(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new Tc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mI}function mI(){this.i=null,this.g="",this.h=!1}var yI={},Lm={};function Vm(l,h,p){l.L=1,l.v=fd(Qr(h)),l.m=p,l.P=!0,_I(l,null)}function _I(l,h){l.F=Date.now(),ud(l),l.A=Qr(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),OI(p.i,"t",y),l.C=0,p=l.j.J,l.h=new mI,l.g=YI(l.j,p?h:null,!l.m),0<l.O&&(l.M=new gk(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(aI[0]=P.toString()),P=aI);for(var R=0;R<P.length;R++){var B=eI(p,P[R],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Mc(),_k(l.i,l.u,l.A,l.l,l.R,l.m)}Fi.prototype.ca=function(l){l=l.target;let h=this.M;h&&Yr(l)==3?h.j():this.Y(l)},Fi.prototype.Y=function(l){try{if(l==this.g)e:{let jt=Yr(this.g);var h=this.g.Ba();let Hs=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||jI(this.g)))){this.J||jt!=4||h==7||(h==8||0>=Hs?Mc(3):Mc(2)),jm(this);var p=this.g.Z();this.X=p;t:if(vI(this)){var y=jI(this.g);l="";var P=y.length,R=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),Ac(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(R&&h==P-1)});y.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=p==200,vk(this.i,this.u,this.A,this.l,this.R,jt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Mt=this.g;if((je=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(je)){var xe=je;break t}}xe=null}if(p=xe)Bs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Um(this,p);else{this.o=!1,this.s=3,Qt(12),Po(this),Ac(this);break e}}if(this.P){p=!0;let qn;for(;!this.J&&this.C<B.length;)if(qn=Ck(this,B),qn==Lm){jt==4&&(this.s=4,Qt(14),p=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==yI){this.s=4,Qt(15),Bs(this.i,this.l,B,"[Invalid Chunk]"),p=!1;break}else Bs(this.i,this.l,qn,null),Um(this,qn);if(vI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||B.length!=0||this.h.h||(this.s=1,Qt(16),p=!1),this.o=this.o&&p,!p)Bs(this.i,this.l,B,"[Invalid Chunked Response]"),Po(this),Ac(this);else if(0<B.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Gm(Vt),Vt.M=!0,Qt(11))}}else Bs(this.i,this.l,B,null),Um(this,B);jt==4&&Po(this),this.o&&!this.J&&(jt==4?GI(this.j,this):(this.o=!1,ud(this)))}else jk(this.g),p==400&&0<B.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Po(this),Ac(this)}}}catch{}finally{}};function vI(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ck(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?Lm:(p=Number(h.substring(p,y)),isNaN(p)?yI:(y+=1,y+p>h.length?Lm:(h=h.slice(y,y+p),l.C=y+p,h)))}Fi.prototype.cancel=function(){this.J=!0,Po(this)};function ud(l){l.S=Date.now()+l.I,EI(l,l.I)}function EI(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xc(g(l.ba,l),h)}function jm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Fi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(Ek(this.i,this.A),this.L!=2&&(Mc(),Qt(17)),Po(this),this.s=2,Ac(this)):EI(this,this.S-l)};function Ac(l){l.j.G==0||l.J||GI(l.j,l)}function Po(l){jm(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,cI(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Um(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Bm(p.h,l))){if(!l.K&&Bm(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)_d(p),md(p);else break e;qm(p),Qt(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=xc(g(p.Za,p),6e3));if(1>=bI(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Oo(p,11)}else if((l.K||p.g==l)&&_d(p),!z(h))for(P=p.Da.g.parse(h),h=0;h<P.length;h++){let xe=P[h];if(p.T=xe[0],xe=xe[1],p.G==2)if(xe[0]=="c"){p.K=xe[1],p.ia=xe[2];let Vt=xe[3];Vt!=null&&(p.la=Vt,p.j.info("VER="+p.la));let jt=xe[4];jt!=null&&(p.Aa=jt,p.j.info("SVER="+p.Aa));let Hs=xe[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(y=1.5*Hs,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let qn=l.g;if(qn){let Ed=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ed){var R=y.h;R.g||Ed.indexOf("spdy")==-1&&Ed.indexOf("quic")==-1&&Ed.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&($m(R,R.h),R.h=null))}if(y.D){let Wm=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wm&&(y.ya=Wm,qe(y.I,y.D,Wm))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var B=l;if(y.qa=QI(y,y.J?y.ia:null,y.W),B.K){II(y.h,B);var je=B,Mt=y.L;Mt&&(je.I=Mt),je.B&&(jm(je),ud(je)),y.g=B}else HI(y);0<p.i.length&&yd(p)}else xe[0]!="stop"&&xe[0]!="close"||Oo(p,7);else p.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Oo(p,7):Hm(p):xe[0]!="noop"&&p.l&&p.l.ta(xe),p.v=0)}}Mc(4)}catch{}}var bk=class{constructor(l,h){this.g=l,this.map=h}};function wI(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CI(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function bI(l){return l.h?1:l.g?l.g.size:0}function Bm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function $m(l,h){l.g?l.g.add(h):l.h=h}function II(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}wI.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function DI(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return x(l.i)}function Ik(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function Dk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let y in l)h[p++]=y;return h}}}function TI(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=Dk(l),y=Ik(l),P=y.length,R=0;R<P;R++)h.call(void 0,y[R],p&&p[R],l)}var SI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tk(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),P=null;if(0<=y){var R=l[p].substring(0,y);P=l[p].substring(y+1)}else R=l[p];h(R,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Ao(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ao){this.h=l.h,dd(this,l.j),this.o=l.o,this.g=l.g,hd(this,l.s),this.l=l.l;var h=l.i,p=new Nc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),MI(this,p),this.m=l.m}else l&&(h=String(l).match(SI))?(this.h=!1,dd(this,h[1]||"",!0),this.o=Oc(h[2]||""),this.g=Oc(h[3]||"",!0),hd(this,h[4]),this.l=Oc(h[5]||"",!0),MI(this,h[6]||"",!0),this.m=Oc(h[7]||"")):(this.h=!1,this.i=new Nc(null,this.h))}Ao.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Rc(h,xI,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Rc(h,xI,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Rc(p,p.charAt(0)=="/"?xk:Mk,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Rc(p,Ak)),l.join("")};function Qr(l){return new Ao(l)}function dd(l,h,p){l.j=p?Oc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function hd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function MI(l,h,p){h instanceof Nc?(l.i=h,Ok(l.i,l.h)):(p||(h=Rc(h,Pk)),l.i=new Nc(h,l.h))}function qe(l,h,p){l.i.set(h,p)}function fd(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Oc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Rc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,Sk),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Sk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var xI=/[#\/\?@]/g,Mk=/[#\?:]/g,xk=/[#\?]/g,Pk=/[#\?@]/g,Ak=/#/g;function Nc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Li(l){l.g||(l.g=new Map,l.h=0,l.i&&Tk(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Nc.prototype,n.add=function(l,h){Li(this),this.i=null,l=$s(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function PI(l,h){Li(l),h=$s(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function AI(l,h){return Li(l),h=$s(l,h),l.g.has(h)}n.forEach=function(l,h){Li(this),this.g.forEach(function(p,y){p.forEach(function(P){l.call(h,P,y,this)},this)},this)},n.na=function(){Li(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let P=l[y];for(let R=0;R<P.length;R++)p.push(h[y])}return p},n.V=function(l){Li(this);let h=[];if(typeof l=="string")AI(this,l)&&(h=h.concat(this.g.get($s(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return Li(this),this.i=null,l=$s(this,l),AI(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function OI(l,h,p){PI(l,h),0<p.length&&(l.i=null,l.g.set($s(l,h),x(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var P=R;B[y]!==""&&(P+="="+encodeURIComponent(String(B[y]))),l.push(P)}}return this.i=l.join("&")};function $s(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Ok(l,h){h&&!l.j&&(Li(l),l.i=null,l.g.forEach(function(p,y){var P=y.toLowerCase();y!=P&&(PI(this,y),OI(this,P,p))},l)),l.j=h}function Rk(l,h){let p=new Pc;if(a.Image){let y=new Image;y.onload=m(Vi,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(Vi,p,"TestLoadImage: error",!1,h,y),y.onabort=m(Vi,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(Vi,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function Nk(l,h){let p=new Pc,y=new AbortController,P=setTimeout(()=>{y.abort(),Vi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(R=>{clearTimeout(P),R.ok?Vi(p,"TestPingServer: ok",!0,h):Vi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),Vi(p,"TestPingServer: error",!1,h)})}function Vi(l,h,p,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(p)}catch{}}function kk(){this.g=new yk}function Fk(l,h,p){let y=p||"";try{TI(l,function(P,R){let B=P;u(P)&&(B=Om(P)),h.push(y+R+"="+encodeURIComponent(B))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function kc(l){this.l=l.Ub||null,this.j=l.eb||!1}E(kc,Rm),kc.prototype.g=function(){return new pd(this.l,this.j)},kc.prototype.i=function(l){return function(){return l}}({});function pd(l,h){Lt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(pd,Lt),n=pd.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Lc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RI(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function RI(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Fc(this):Lc(this),this.readyState==3&&RI(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Fc(this))},n.Qa=function(l){this.g&&(this.response=l,Fc(this))},n.ga=function(){this.g&&Fc(this)};function Fc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Lc(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Lc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function NI(l){let h="";return ae(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function zm(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=NI(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):qe(l,h,p))}function tt(l){Lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(tt,Lt);var Lk=/^https?$/i,Vk=["POST","PUT"];n=tt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fm.g(),this.v=this.o?lI(this.o):lI(Fm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(R){kI(this,R);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)p.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Vk,h,void 0))||y||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of p)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{VI(this),this.u=!0,this.g.send(l),this.u=!1}catch(R){kI(this,R)}};function kI(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,FI(l),gd(l)}function FI(l){l.A||(l.A=!0,Kt(l,"complete"),Kt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Kt(this,"complete"),Kt(this,"abort"),gd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gd(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?LI(this):this.bb())},n.bb=function(){LI(this)};function LI(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Yr(l)!=4||l.Z()!=2)){if(l.u&&Yr(l)==4)oI(l.Ea,0,l);else if(Kt(l,"readystatechange"),Yr(l)==4){l.h=!1;try{let B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=B===0){var P=String(l.D).match(SI)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!Lk.test(P?P.toLowerCase():"")}p=y}if(p)Kt(l,"complete"),Kt(l,"success");else{l.m=6;try{var R=2<Yr(l)?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.Z()+"]",FI(l)}}finally{gd(l)}}}}function gd(l,h){if(l.g){VI(l);let p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Kt(l,"ready");try{p.onreadystatechange=y}catch{}}}function VI(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Yr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),mk(h)}};function jI(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jk(l){let h={};l=(l.g&&2<=Yr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(z(l[y]))continue;var p=M(l[y]);let P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[P]||[];h[P]=R,R.push(p)}D(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function UI(l){this.Aa=0,this.i=[],this.j=new Pc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,l),this.cb=Vc("retryDelaySeedMs",1e4,l),this.Wa=Vc("forwardChannelMaxRetries",2,l),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new wI(l&&l.concurrentRequestLimit),this.Da=new kk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=UI.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,y){Qt(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=QI(this,null,this.W),yd(this)};function Hm(l){if(BI(l),l.G==3){var h=l.U++,p=Qr(l.I);if(qe(p,"SID",l.K),qe(p,"RID",h),qe(p,"TYPE","terminate"),jc(l,p),h=new Fi(l,l.j,h),h.L=2,h.v=fd(Qr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=YI(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ud(h)}KI(l)}function md(l){l.g&&(Gm(l),l.g.cancel(),l.g=null)}function BI(l){md(l),l.u&&(a.clearTimeout(l.u),l.u=null),_d(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function yd(l){if(!CI(l.h)&&!l.s){l.s=!0;var h=l.Ga;Y||it(),J||(Y(),J=!0),ve.add(h,l),l.B=0}}function Uk(l,h){return bI(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xc(g(l.Ga,l,h),WI(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new Fi(this,this.j,l),R=this.o;if(this.S&&(R?(R=v(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(P.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=zI(this,P,h),p=Qr(this.I),qe(p,"RID",l),qe(p,"CVER",22),this.D&&qe(p,"X-HTTP-Session-Id",this.D),jc(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(NI(R)))+"&"+h:this.m&&zm(p,this.m,R)),$m(this.h,P),this.Ua&&qe(p,"TYPE","init"),this.P?(qe(p,"$req",h),qe(p,"SID","null"),P.T=!0,Vm(P,p,null)):Vm(P,p,h),this.G=2}}else this.G==3&&(l?$I(this,l):this.i.length==0||CI(this.h)||$I(this))};function $I(l,h){var p;h?p=h.l:p=l.U++;let y=Qr(l.I);qe(y,"SID",l.K),qe(y,"RID",p),qe(y,"AID",l.T),jc(l,y),l.m&&l.o&&zm(y,l.m,l.o),p=new Fi(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=zI(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),$m(l.h,p),Vm(p,y,h)}function jc(l,h){l.H&&ae(l.H,function(p,y){qe(h,y,p)}),l.l&&TI({},function(p,y){qe(h,y,p)})}function zI(l,h,p){p=Math.min(l.i.length,p);var y=l.l?g(l.l.Na,l.l,l):null;e:{var P=l.i;let R=-1;for(;;){let B=["count="+p];R==-1?0<p?(R=P[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let je=!0;for(let Mt=0;Mt<p;Mt++){let xe=P[Mt].g,Vt=P[Mt].map;if(xe-=R,0>xe)R=Math.max(0,P[Mt].g-100),je=!1;else try{Fk(Vt,B,"req"+xe+"_")}catch{y&&y(Vt)}}if(je){y=B.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function HI(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Y||it(),J||(Y(),J=!0),ve.add(h,l),l.v=0}}function qm(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xc(g(l.Fa,l),WI(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,qI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xc(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),md(this),qI(this))};function Gm(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function qI(l){l.g=new Fi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Qr(l.qa);qe(h,"RID","rpc"),qe(h,"SID",l.K),qe(h,"AID",l.T),qe(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(h,"TO",l.ja),qe(h,"TYPE","xmlhttp"),jc(l,h),l.m&&l.o&&zm(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=fd(Qr(h)),p.m=null,p.P=!0,_I(p,l)}n.Za=function(){this.C!=null&&(this.C=null,md(this),qm(this),Qt(19))};function _d(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function GI(l,h){var p=null;if(l.g==h){_d(l),Gm(l),l.g=null;var y=2}else if(Bm(l.h,h))p=h.D,II(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var P=l.B;y=ad(),Kt(y,new pI(y,p)),yd(l)}else HI(l);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&Uk(l,h)||y==2&&qm(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),P){case 1:Oo(l,5);break;case 4:Oo(l,10);break;case 3:Oo(l,6);break;default:Oo(l,2)}}}function WI(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Oo(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),y=l.Xa;let P=!y;y=new Ao(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dd(y,"https"),fd(y),P?Rk(y.toString(),p):Nk(y.toString(),p)}else Qt(2);l.G=0,l.l&&l.l.sa(h),KI(l),BI(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function KI(l){if(l.G=0,l.ka=[],l.l){let h=DI(l.h);(h.length!=0||l.i.length!=0)&&(O(l.ka,h),O(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function QI(l,h,p){var y=p instanceof Ao?Qr(p):new Ao(p);if(y.g!="")h&&(y.g=h+"."+y.g),hd(y,y.s);else{var P=a.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var R=new Ao(null);y&&dd(R,y),h&&(R.g=h),P&&hd(R,P),p&&(R.l=p),y=R}return p=l.D,h=l.ya,p&&h&&qe(y,p,h),qe(y,"VER",l.la),jc(l,y),y}function YI(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new tt(new kc({eb:p})):new tt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZI(){}n=ZI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vd(){}vd.prototype.g=function(l,h){return new vn(l,h)};function vn(l,h){Lt.call(this),this.g=new UI(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!z(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new zs(this)}E(vn,Lt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Hm(this.g)},vn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Om(l),l=p);h.i.push(new bk(h.Ya++,l)),h.G==3&&yd(h)},vn.prototype.N=function(){this.g.l=null,delete this.j,Hm(this.g),delete this.g,vn.aa.N.call(this)};function JI(l){Nm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(JI,Nm);function XI(){km.call(this),this.status=1}E(XI,km);function zs(l){this.g=l}E(zs,ZI),zs.prototype.ua=function(){Kt(this.g,"a")},zs.prototype.ta=function(l){Kt(this.g,new JI(l))},zs.prototype.sa=function(l){Kt(this.g,new XI)},zs.prototype.ra=function(){Kt(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,t0=Ci.createWebChannelTransport=function(){return new vd},e0=Ci.getStatEventTarget=function(){return ad()},Xw=Ci.Event=xo,Qp=Ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cd.NO_ERROR=0,cd.TIMEOUT=8,cd.HTTP_ERROR=6,Su=Ci.ErrorCode=cd,gI.COMPLETE="complete",Jw=Ci.EventType=gI,uI.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,Za=Ci.WebChannel=uI,F6=Ci.FetchXmlHttpFactory=kc,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Zw=Ci.XhrIo=tt}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var UO="@firebase/firestore",BO="4.8.0";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var yc="11.10.0";var xs=new lo("@firebase/firestore");function Ja(){return xs.logLevel}function G(n,...e){if(xs.logLevel<=Ee.DEBUG){let t=e.map(zC);xs.debug(`Firestore (${yc}): ${n}`,...t)}}function bi(n,...e){if(xs.logLevel<=Ee.ERROR){let t=e.map(zC);xs.error(`Firestore (${yc}): ${n}`,...t)}}function mo(n,...e){if(xs.logLevel<=Ee.WARN){let t=e.map(zC);xs.warn(`Firestore (${yc}): ${n}`,...t)}}function zC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,R1(n,r,t)}function R1(n,e,t){let r=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw bi(r),new Error(r)}function Fe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||R1(e,i,r)}function le(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends on{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ng=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},s0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tt.UNAUTHENTICATED))}shutdown(){}},a0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},c0=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new ng(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}},l0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},u0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new l0(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},d0=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function L6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function N1(){return new TextEncoder}var Ru=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=L6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ye(n,e){return n<e?-1:n>e?1:0}function h0(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ye(r,i);{let o=N1(),s=V6(o.encode($O(n,t)),o.encode($O(e,t)));return s!==0?s:ye(r,i)}}t+=r>65535?2:1}return ye(n.length,e.length)}function $O(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function V6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ye(n[t],e[t]);return ye(n.length,e.length)}function oc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var zO="__name__",ig=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ye(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):h0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}},Ke=class n extends ig{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},j6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mn=class n extends ig{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return j6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zO}static keyField(){return new n([zO])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ke.fromString(e))}static fromName(e){return new n(Ke.fromString(e).popFirst(5))}static empty(){return new n(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ke(e.slice()))}};function k1(n,e,t){if(!t)throw new $(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U6(n,e,t,r){if(e===!0&&r===!0)throw new $(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HO(n){if(!X.isDocumentKey(n))throw new $(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qO(n){if(X.isDocumentKey(n))throw new $(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne(12329,{type:typeof n})}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Fg(n);throw new $(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ku(n,e){if(!F1(n))throw new $(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(N.INVALID_ARGUMENT,t);return!0}var GO=-62135596800,WO=1e6,_t=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*WO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GO)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WO}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-GO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:yt("string",_t._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};var he=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new _t(0,0))}static max(){return new n(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Nu=-1,f0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};f0.UNKNOWN_ID=-1;function B6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new Ps(i,X.empty(),e)}function $6(n){return new Ps(n.readTime,n.key,Nu)}var Ps=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(he.min(),X.empty(),Nu)}static max(){return new n(he.max(),X.empty(),Nu)}};function z6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:ye(n.largestBatchId,e.largestBatchId))}var H6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",p0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _c(n){return _(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==H6)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function q6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vc(n){return n.name==="IndexedDbTransactionError"}var HC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),qC=-1;function Lg(n){return n==null}function ku(n){return n===0&&1/n==-1/0}function G6(n){return typeof n=="number"&&Number.isInteger(n)&&!ku(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var L1="";function W6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KO(e)),e=K6(n.get(t),e);return KO(e)}function K6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case L1:t+="";break;default:t+=o}}return t}function KO(n){return n+L1+""}var Q6="remoteDocuments",V1="owner";var j1="mutationQueues";var U1="mutations";var B1="documentMutations",Y6="remoteDocumentsV14";var $1="remoteDocumentGlobal";var z1="targets";var H1="targetDocuments";var q1="targetGlobal",G1="collectionParents";var W1="clientMetadata";var K1="bundles";var Q1="namedQueries";var Z6="indexConfiguration";var J6="indexState";var X6="indexEntries";var Y1="documentOverlays";var e$="globals";var t$=[j1,U1,B1,Q6,z1,V1,q1,H1,W1,$1,G1,K1,Q1],Zse=[...t$,Y1],n$=[j1,U1,B1,Y6,z1,V1,q1,H1,W1,$1,G1,K1,Q1,Y1],r$=n$,i$=[...r$,Z6,J6,X6];var Jse=[...i$,e$];function QO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Co(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Z1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var rt=class n{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}},nc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}};Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var St=class n{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new og(this.data.getIterator())}getIteratorFrom(e){return new og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},og=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hn=class n{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new n([])}unionWith(e){let t=new St(Mn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var sg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wt.EMPTY_BYTE_STRING=new Wt("");var o$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(Fe(!!n,39018),typeof n=="string"){let e=0,t=o$.exec(n);if(Fe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}var J1="server_timestamp",X1="__type__",eR="__previous_value__",tR="__local_write_time__";function GC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[X1])===null||t===void 0?void 0:t.stringValue)===J1}function Vg(n){let e=n.mapValue.fields[eR];return GC(e)?Vg(e):e}function Fu(n){let e=Ii(n.mapValue.fields[tR].timestampValue);return new _t(e.seconds,e.nanos)}var g0=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},ag="(default)",cg=class n{constructor(e,t){this.projectId=e,this.database=t||ag}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ag}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var WC="__type__",nR="__max__",Yp={mapValue:{fields:{__type__:{stringValue:nR}}}},KC="__vector__",sc="value";function yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GC(n)?4:iR(n)?9007199254740991:rR(n)?10:11:ne(28295,{value:n})}function $r(n,e){if(n===e)return!0;let t=yo(n);if(t!==yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fu(n).isEqual(Fu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ii(i.timestampValue),a=Ii(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Di(i.bytesValue).isEqual(Di(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=We(i.doubleValue),a=We(o.doubleValue);return s===a?ku(s)===ku(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return oc(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(QO(s)!==QO(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!$r(s[c],a[c])))return!1;return!0}(n,e);default:return ne(52216,{left:n})}}function Lu(n,e){return(n.values||[]).find(t=>$r(t,e))!==void 0}function ac(n,e){if(n===e)return 0;let t=yo(n),r=yo(e);if(t!==r)return ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ye(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=We(o.integerValue||o.doubleValue),c=We(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return YO(n.timestampValue,e.timestampValue);case 4:return YO(Fu(n),Fu(e));case 5:return h0(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Di(o),c=Di(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=ye(a[u],c[u]);if(d!==0)return d}return ye(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ye(We(o.latitude),We(s.latitude));return a!==0?a:ye(We(o.longitude),We(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ZO(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},g=s.fields||{},m=(a=f[sc])===null||a===void 0?void 0:a.arrayValue,E=(c=g[sc])===null||c===void 0?void 0:c.arrayValue,x=ye(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:ZO(m,E)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Yp.mapValue&&s===Yp.mapValue)return 0;if(o===Yp.mapValue)return 1;if(s===Yp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=h0(c[f],d[f]);if(g!==0)return g;let m=ac(a[c[f]],u[d[f]]);if(m!==0)return m}return ye(c.length,d.length)}(n.mapValue,e.mapValue);default:throw ne(23264,{le:t})}}function YO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ye(n,e);let t=Ii(n),r=Ii(e),i=ye(t.seconds,r.seconds);return i!==0?i:ye(t.nanos,r.nanos)}function ZO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ac(t[i],r[i]);if(o)return o}return ye(t.length,r.length)}function cc(n){return m0(n)}function m0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ii(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Di(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=m0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${m0(t.fields[s])}`;return i+"}"}(n.mapValue):ne(61005,{value:n})}function Xp(n){switch(yo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Vg(n);return e?16+Xp(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Xp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Co(r.fields,(o,s)=>{i+=o.length+Xp(s)}),i}(n.mapValue);default:throw ne(13486,{value:n})}}function JO(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y0(n){return!!n&&"integerValue"in n}function QC(n){return!!n&&"arrayValue"in n}function XO(n){return!!n&&"nullValue"in n}function e1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eg(n){return!!n&&"mapValue"in n}function rR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[WC])===null||t===void 0?void 0:t.stringValue)===KC}function xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}var eae={mapValue:{fields:{[WC]:{stringValue:KC},[sc]:{arrayValue:{}}}}};var Sn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=Mn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=xu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Co(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(xu(this.value))}};function oR(n){let e=[];return Co(n.fields,(t,r)=>{let i=new Mn([t]);if(eg(r)){let o=oR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Hn(e)}var gr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,he.min(),he.min(),he.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,he.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,he.min(),he.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,he.min(),he.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var lc=class{constructor(e,t){this.position=e,this.inclusive=t}};function t1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=ac(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function n1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}var As=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function s$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var lg=class{},mt=class n extends lg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new v0(e,t,r):t==="array-contains"?new C0(e,r):t==="in"?new b0(e,r):t==="not-in"?new I0(e,r):t==="array-contains-any"?new D0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E0(e,r):new w0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ac(t,this.value)):t!==null&&yo(this.value)===yo(t)&&this.matchesComparison(ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mr=class n extends lg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return sR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function sR(n){return n.op==="and"}function aR(n){return a$(n)&&sR(n)}function a$(n){for(let e of n.filters)if(e instanceof mr)return!1;return!0}function _0(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(aR(n))return n.filters.map(e=>_0(e)).join(",");{let e=n.filters.map(t=>_0(t)).join(",");return`${n.op}(${e})`}}function cR(n,e){return n instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(n,e):n instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&cR(s,i.filters[a]),!0):!1}(n,e):void ne(19439)}function lR(n){return n instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`}(n):n instanceof mr?function(t){return t.op.toString()+" {"+t.getFilters().map(lR).join(" ,")+"}"}(n):"Filter"}var v0=class extends mt{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},E0=class extends mt{constructor(e,t){super(e,"in",t),this.keys=uR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},w0=class extends mt{constructor(e,t){super(e,"not-in",t),this.keys=uR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function uR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var C0=class extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return QC(t)&&Lu(t.arrayValue,this.value)}},b0=class extends mt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}},I0=class extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lu(this.value.arrayValue,t)}},D0=class extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!QC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}};var T0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function r1(n,e=null,t=[],r=[],i=null,o=null,s=null){return new T0(n,e,t,r,i,o,s)}function YC(n){let e=le(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.Pe=t}return e.Pe}function ZC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!n1(n.startAt,e.startAt)&&n1(n.endAt,e.endAt)}function S0(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var _o=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function c$(n,e,t,r,i,o,s,a){return new _o(n,e,t,r,i,o,s,a)}function jg(n){return new _o(n)}function i1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dR(n){return n.collectionGroup!==null}function Pu(n){let e=le(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new St(Mn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new As(o,r))}),t.has(Mn.keyField().canonicalString())||e.Te.push(new As(Mn.keyField(),r))}return e.Te}function jr(n){let e=le(n);return e.Ie||(e.Ie=l$(e,Pu(n))),e.Ie}function l$(n,e){if(n.limitType==="F")return r1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new As(i.field,o)});let t=n.endAt?new lc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lc(n.startAt.position,n.startAt.inclusive):null;return r1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function M0(n,e){let t=n.filters.concat([e]);return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function x0(n,e,t){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ug(n,e){return ZC(jr(n),jr(e))&&n.limitType===e.limitType}function hR(n){return`${YC(jr(n))}|lt:${n.limitType}`}function Xa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lR(i)).join(", ")}]`),Lg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cc(i)).join(",")),`Target(${r})`}(jr(n))}; limitType=${n.limitType})`}function Bg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Pu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=t1(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Pu(r),i)||r.endAt&&!function(s,a,c){let u=t1(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Pu(r),i))}(n,e)}function u$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fR(n){return(e,t)=>{let r=!1;for(let i of Pu(n)){let o=d$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function d$(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ac(c,u):ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:n.dir})}}var Ti=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}};var h$=new rt(X.comparator);function Si(){return h$}var pR=new rt(X.comparator);function Mu(...n){let e=pR;for(let t of n)e=e.insert(t.key,t);return e}function gR(n){let e=pR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Is(){return Au()}function mR(){return Au()}function Au(){return new Ti(n=>n.toString(),(n,e)=>n.isEqual(e))}var f$=new rt(X.comparator),p$=new St(X.comparator);function Ie(...n){let e=p$;for(let t of n)e=e.add(t);return e}var g$=new St(ye);function m$(){return g$}function JC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function yR(n){return{integerValue:""+n}}function y$(n,e){return G6(e)?yR(e):JC(n,e)}var uc=class{constructor(){this._=void 0}};function _$(n,e,t){return n instanceof dc?function(i,o){let s={fields:{[X1]:{stringValue:J1},[tR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&GC(o)&&(o=Vg(o)),o&&(s.fields[eR]=o),{mapValue:s}}(t,e):n instanceof Os?vR(n,e):n instanceof Rs?ER(n,e):function(i,o){let s=_R(i,o),a=o1(s)+o1(i.Ee);return y0(s)&&y0(i.Ee)?yR(a):JC(i.serializer,a)}(n,e)}function v$(n,e,t){return n instanceof Os?vR(n,e):n instanceof Rs?ER(n,e):t}function _R(n,e){return n instanceof hc?function(r){return y0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var dc=class extends uc{},Os=class extends uc{constructor(e){super(),this.elements=e}};function vR(n,e){let t=wR(e);for(let r of n.elements)t.some(i=>$r(i,r))||t.push(r);return{arrayValue:{values:t}}}var Rs=class extends uc{constructor(e){super(),this.elements=e}};function ER(n,e){let t=wR(e);for(let r of n.elements)t=t.filter(i=>!$r(i,r));return{arrayValue:{values:t}}}var hc=class extends uc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function o1(n){return We(n.integerValue||n.doubleValue)}function wR(n){return QC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function E$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Os&&i instanceof Os||r instanceof Rs&&i instanceof Rs?oc(r.elements,i.elements,$r):r instanceof hc&&i instanceof hc?$r(r.Ee,i.Ee):r instanceof dc&&i instanceof dc}(n.transform,e.transform)}var P0=class{constructor(e,t){this.version=e,this.transformResults=t}},Ur=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var fc=class{};function CR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vu(n.key,Ur.none()):new Ns(n.key,n.data,Ur.none());{let t=n.data,r=Sn.empty(),i=new St(Mn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zr(n.key,r,new Hn(i.toArray()),Ur.none())}}function w$(n,e,t){n instanceof Ns?function(i,o,s){let a=i.value.clone(),c=a1(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof zr?function(i,o,s){if(!tg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=a1(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(bR(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ou(n,e,t,r){return n instanceof Ns?function(o,s,a,c){if(!tg(o.precondition,s))return a;let u=o.value.clone(),d=c1(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof zr?function(o,s,a,c){if(!tg(o.precondition,s))return a;let u=c1(o.fieldTransforms,c,s),d=s.data;return d.setAll(bR(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return tg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function C$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=_R(r.transform,i||null);o!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,o))}return t||null}function s1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oc(r,i,(o,s)=>E$(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ns=class extends fc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zr=class extends fc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function a1(n,e,t){let r=new Map;Fe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,v$(s,a,t[i]))}return r}function c1(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,_$(o,s,e))}return r}var Vu=class extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},A0=class extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var O0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&w$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=mR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=CR(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ie())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(t,r)=>s1(t,r))&&oc(this.baseMutations,e.baseMutations,(t,r)=>s1(t,r))}},R0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return f$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var N0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var k0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var pt,Te;function b$(n){switch(n){case N.OK:return ne(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return ne(15467,{code:n})}}function IR(n){if(n===void 0)return bi("GRPC error has no .code"),N.UNKNOWN;switch(n){case pt.OK:return N.OK;case pt.CANCELLED:return N.CANCELLED;case pt.UNKNOWN:return N.UNKNOWN;case pt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case pt.INTERNAL:return N.INTERNAL;case pt.UNAVAILABLE:return N.UNAVAILABLE;case pt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case pt.NOT_FOUND:return N.NOT_FOUND;case pt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case pt.ABORTED:return N.ABORTED;case pt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case pt.DATA_LOSS:return N.DATA_LOSS;default:return ne(39323,{code:n})}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var l1=null;var I$=new wi([4294967295,4294967295],0);function u1(n){let e=N1().encode(n),t=new Yw;return t.update(e),new Uint8Array(t.digest())}function d1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wi([t,r],0),new wi([i,o],0)]}var F0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ds(`Invalid padding: ${t}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=wi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(wi.fromNumber(r)));return i.compare(I$)===1&&(i=new wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=u1(e),[r,i]=d1(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=u1(e),[r,i]=d1(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ds=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ug=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(he.min(),i,new rt(ye),Si(),Ie())}},ju=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ie(),Ie(),Ie())}};var rc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},dg=class{constructor(e,t){this.targetId=e,this.De=t}},hg=class{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},fg=class{constructor(){this.ve=0,this.Ce=h1(),this.Fe=Wt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ie(),t=Ie(),r=Ie();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:o})}}),new ju(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=h1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},L0=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Si(),this.je=Zp(),this.Je=Zp(),this.He=new rt(ye)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(S0(o))if(r===0){let s=new X(o.path);this.Xe(t,s,gr.newNoDocument(s,he.min()))}else Fe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}l1?.ct(function(d,f,g,m,E){var x,O,L,z,H,Q;let Oe={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},ae=f.unchangedNames;return ae&&(Oe.bloomFilter={applied:E===0,hashCount:(x=ae?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(z=(L=(O=ae?.bits)===null||O===void 0?void 0:O.bitmap)===null||L===void 0?void 0:L.length)!==null&&z!==void 0?z:0,padding:(Q=(H=ae?.bits)===null||H===void 0?void 0:H.padding)!==null&&Q!==void 0?Q:0,mightContain:D=>{var v;return(v=m?.mightContain(D))!==null&&v!==void 0&&v}}),Oe}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Di(r).toUint8Array()}catch(c){if(c instanceof sg)return mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new F0(s,i,o)}catch(c){return mo(c instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&S0(a.target)){let c=new X(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,gr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ie();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new ug(e,t,this.He,this.ze,r);return this.ze=Si(),this.je=Zp(),this.Je=Zp(),this.He=new rt(ye),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new fg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new St(ye),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new St(ye),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Zp(){return new rt(X.comparator)}function h1(){return new rt(X.comparator)}var D$={asc:"ASCENDING",desc:"DESCENDING"},T$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S$={and:"AND",or:"OR"},V0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function j0(n,e){return n.useProto3Json||Lg(e)?e:{value:e}}function pg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M$(n,e){return pg(n,e.toTimestamp())}function Br(n){return Fe(!!n,49232),he.fromTimestamp(function(t){let r=Ii(t);return new _t(r.seconds,r.nanos)}(n))}function XC(n,e){return U0(n,e).canonicalString()}function U0(n,e){let t=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TR(n){let e=Ke.fromString(n);return Fe(AR(e),10190,{key:e.toString()}),e}function B0(n,e){return XC(n.databaseId,e.path)}function n0(n,e){let t=TR(e);if(t.get(1)!==n.databaseId.projectId)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(MR(t))}function SR(n,e){return XC(n.databaseId,e)}function x$(n){let e=TR(n);return e.length===4?Ke.emptyPath():MR(e)}function $0(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MR(n){return Fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function f1(n,e,t){return{name:B0(n,e),fields:t.value.mapValue.fields}}function P$(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Fe(d===void 0||typeof d=="string",58123),Wt.fromBase64String(d||"")):(Fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Wt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?N.UNKNOWN:IR(u.code);return new $(d,u.message||"")}(s);t=new hg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=n0(n,r.document.name),o=Br(r.document.updateTime),s=r.document.createTime?Br(r.document.createTime):he.min(),a=new Sn({mapValue:{fields:r.document.fields}}),c=gr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new rc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=n0(n,r.document),o=r.readTime?Br(r.readTime):he.min(),s=gr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new rc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=n0(n,r.document),o=r.removedTargetIds||[];t=new rc([],o,i,null)}else{if(!("filter"in e))return ne(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new k0(i,o),a=r.targetId;t=new dg(a,s)}}return t}function A$(n,e){let t;if(e instanceof Ns)t={update:f1(n,e.key,e.value)};else if(e instanceof Vu)t={delete:B0(n,e.key)};else if(e instanceof zr)t={update:f1(n,e.key,e.data),updateMask:U$(e.fieldMask)};else{if(!(e instanceof A0))return ne(16599,{Rt:e.type});t={verify:B0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Os)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ne(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:M$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne(27497)}(n,e.precondition)),t}function O$(n,e){return n&&n.length>0?(Fe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Br(i.updateTime):Br(o);return s.isEqual(he.min())&&(s=Br(o)),new P0(s,i.transformResults||[])}(t,e))):[]}function R$(n,e){return{documents:[SR(n,e.path)]}}function N$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=SR(n,i);let o=function(u){if(u.length!==0)return PR(mr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:ec(g.field),direction:L$(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=j0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function k$(n){let e=x$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let g=xR(f);return g instanceof mr&&aR(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(g=>function(E){return new As(tc(E.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Lg(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,m=f.values||[];return new lc(m,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,m=f.values||[];return new lc(m,g)}(t.endAt)),c$(e,i,s,o,a,"F",c,u)}function F$(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=tc(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=tc(t.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=tc(t.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=tc(t.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return mt.create(tc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mr.create(t.compositeFilter.filters.map(r=>xR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(t.compositeFilter.op))}(n):ne(30097,{filter:n})}function L$(n){return D$[n]}function V$(n){return T$[n]}function j$(n){return S$[n]}function ec(n){return{fieldPath:n.canonicalString()}}function tc(n){return Mn.fromServerFormat(n.fieldPath)}function PR(n){return n instanceof mt?function(t){if(t.op==="=="){if(e1(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NAN"}};if(XO(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(e1(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NAN"}};if(XO(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(t.field),op:V$(t.op),value:t.value}}}(n):n instanceof mr?function(t){let r=t.getFilters().map(i=>PR(i));return r.length===1?r[0]:{compositeFilter:{op:j$(t.op),filters:r}}}(n):ne(54877,{filter:n})}function U$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uu=class n{constructor(e,t,r,i,o=he.min(),s=he.min(),a=Wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var z0=class{constructor(e){this.gt=e}};function B$(n){let e=k$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?x0(e,e.limit,"L"):e}var gg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ku(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ii(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Di(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?iR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):rR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ne(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=sc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(We(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};gg.Ut=new gg;var H0=class{constructor(){this.Dn=new q0}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Ps.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},q0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new St(Ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Ke.comparator)).toArray()}};var tae=new Uint8Array(0);var p1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040,zn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(OR,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var Bu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var g1="LruGarbageCollector",$$=1048576;function m1([n,e],[t,r]){let i=ye(n,t);return i===0?ye(e,r):i}var G0=class{constructor(e){this.Tr=e,this.buffer=new St(m1),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();m1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},W0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(g1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){vc(t)?G(g1,"Ignoring IndexedDB error during garbage collection: ",t):yield _c(t)}yield this.Rr(3e5)}))}},K0=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(HC.ue);let r=new G0(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(p1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ja()<=Ee.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function z$(n,e){return new K0(n,e)}var Q0=class{constructor(){this.changes=new Ti(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Y0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Z0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ou(r.mutation,i,Hn.empty(),_t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ie()){let i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Mu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ie()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Si(),s=Au(),a=function(){return Au()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof zr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Ou(d.mutation,u,d.mutation.getFieldMask(),_t.now())):s.set(u.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new Y0(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Au(),i=new rt((s,a)=>s-a),o=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Hn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Ie()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=mR();d.forEach(g=>{if(!o.has(g)){let m=CR(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(Is()),a=Nu,c=o;return s.next(u=>V.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Ie())).next(d=>({batchId:a,changes:gR(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Mu();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,c=>{let u=function(f,g){return new _o(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,gr.newInvalidDocument(d)))});let a=Mu();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Ou(d.mutation,u,Hn.empty(),_t.now()),Bg(t,u)&&(a=a.insert(c,u))}),a})}};var J0=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:B$(i.bundledQuery),readTime:Br(i.readTime)}}(t)),V.resolve()}};var X0=class{constructor(){this.overlays=new rt(X.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Is();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=Is(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Is(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Is(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new N0(t,r));let o=this.kr.get(t);o===void 0&&(o=Ie(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var eC=class{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var $u=class{constructor(){this.qr=new St(gt.Qr),this.$r=new St(gt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new gt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new gt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new X(new Ke([])),r=new gt(t,e),i=new gt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new X(new Ke([])),r=new gt(t,e),i=new gt(t,e+1),o=Ie();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new gt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},gt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||ye(e.Hr,t.Hr)}static Ur(e,t){return ye(e.Hr,t.Hr)||X.comparator(e.key,t.key)}};var tC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new St(gt.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new O0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?qC:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new gt(t,0),i=new gt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(ye);return t.forEach(i=>{let o=new gt(i,0),s=new gt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new gt(new X(o),0),a=new St(ye);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let o=new gt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new gt(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var nC=class{constructor(e){this.ni=e,this.docs=function(){return new rt(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(t))}getEntries(e,t){let r=Si();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gr.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Si(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||z6($6(d),r)<=0||(i.has(d.key)||Bg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rC(this)}getSize(e){return V.resolve(this.size)}},rC=class extends Q0{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var iC=class{constructor(e){this.persistence=e,this.ii=new Ti(t=>YC(t),ZC),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.si=0,this.oi=new $u,this.targetCount=0,this._i=Bu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Bu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var mg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new HC(0),this.ci=!1,this.ci=!0,this.li=new eC,this.referenceDelegate=e(this),this.hi=new iC(this),this.indexManager=new H0,this.remoteDocumentCache=function(i){return new nC(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new z0(t),this.Ti=new J0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new X0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new tC(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new oC(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},oC=class extends p0{constructor(e){super(),this.currentSequenceNumber=e}},sC=class n{constructor(e){this.persistence=e,this.Ai=new $u,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ne(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,he.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},yg=class n{constructor(e,t){this.persistence=e,this.gi=new Ti(r=>W6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=z$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xp(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var aC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ie(),i=Ie();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var cC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var lC=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return EO()?8:q6(Dt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new cC;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ja()<=Ee.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(Ja()<=Ee.DEBUG&&G("QueryEngine","Query:",Xa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ja()<=Ee.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):V.resolve())}ps(e,t){if(i1(t))return V.resolve(null);let r=jr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=x0(t,null,"F"),r=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ie(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,x0(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return i1(t)||i.isEqual(he.min())?V.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?V.resolve(null):(Ja()<=Ee.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(t)),this.vs(e,s,t,B6(i,Nu)).next(a=>a))})}bs(e,t){let r=new St(fR(e));return t.forEach((i,o)=>{Bg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ja()<=Ee.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Xa(t)),this.gs.getDocumentsMatchingQuery(e,t,Ps.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var eb="LocalStore",H$=3e8,uC=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new rt(ye),this.Ms=new Ti(o=>YC(o),ZC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z0(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function q$(n,e,t,r){return new uC(n,e,t,r)}function RR(n,e){return _(this,null,function*(){let t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ie();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function G$(n,e){let t=le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),m=V.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(x=>{let O=u.docVersions.get(E);Fe(O!==null,48541),x.version.compareTo(O)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function NR(n){let e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function W$(n,e){let t=le(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Wt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(x,O,L){return x.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=H$?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=Si(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(K$(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(he.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function K$(n,e,t){let r=Ie(),i=Ie();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Si();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G(eb,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function Q$(n,e){let t=le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y$(n,e){let t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Uu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function dC(n,e,t){return _(this,null,function*(){let r=le(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!vc(s))throw s;G(eb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function y1(n,e,t){let r=le(n),i=he.min(),o=Ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=le(c),g=f.Ms.get(d);return g!==void 0?V.resolve(f.Fs.get(g)):f.hi.getTargetData(u,d)}(r,s,jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:he.min(),t?o:Ie())).next(a=>(Z$(r,u$(e),a),{documents:a,qs:o})))}function Z$(n,e,t){let r=n.xs.get(e)||he.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var _g=class{constructor(){this.activeTargetIds=m$()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var hC=class{constructor(){this.Fo=new _g,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _g,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fC=class{xo(e){}shutdown(){}};var _1="ConnectivityMonitor",vg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(_1,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(_1,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jp=null;function pC(){return Jp===null?Jp=function(){return 268435456+Math.round(2147483648*Math.random())}():Jp++,"0x"+Jp.toString(16)}var r0="RestConnection",J$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gC=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ag?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=pC(),a=this.Go(e,t.toUriEncodedString());G(r0,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=Rr(u);return this.jo(e,a,c,r,d).then(f=>(G(r0,`Received RPC '${e}' ${s}: `,f),f),f=>{throw mo(r0,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=J$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var mC=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Gt="WebChannelConnection",yC=class extends gC{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=pC();return new Promise((a,c)=>{let u=new Zw;u.setWithCredentials(!0),u.listenOnce(Jw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Su.NO_ERROR:let f=u.getResponseJson();G(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Su.TIMEOUT:G(Gt,`RPC '${e}' ${s} timed out`),c(new $(N.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:let g=u.getStatus();if(G(Gt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let x=function(L){let z=L.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(z)>=0?z:N.UNKNOWN}(E.status);c(new $(x,E.message))}else c(new $(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(N.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{G(Gt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);G(Gt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=pC(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=t0(),a=e0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");G(Gt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,E=new mC({Ho:O=>{m?G(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(g||(G(Gt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),G(Gt,`RPC '${e}' stream ${i} sending:`,O),f.send(O))},Yo:()=>f.close()}),x=(O,L,z)=>{O.listen(L,H=>{try{z(H)}catch(Q){setTimeout(()=>{throw Q},0)}})};return x(f,Za.EventType.OPEN,()=>{m||(G(Gt,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),x(f,Za.EventType.CLOSE,()=>{m||(m=!0,G(Gt,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),x(f,Za.EventType.ERROR,O=>{m||(m=!0,mo(Gt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),E.__(new $(N.UNAVAILABLE,"The operation could not be completed")))}),x(f,Za.EventType.MESSAGE,O=>{var L;if(!m){let z=O.data[0];Fe(!!z,16349);let H=z,Q=H?.error||((L=H[0])===null||L===void 0?void 0:L.error);if(Q){G(Gt,`RPC '${e}' stream ${i} received error:`,Q);let Oe=Q.status,ae=function(C){let T=pt[C];if(T!==void 0)return IR(T)}(Oe),D=Q.message;ae===void 0&&(ae=N.INTERNAL,D="Unknown error status: "+Oe+" with message "+Q.message),m=!0,E.__(new $(ae,D)),f.close()}else G(Gt,`RPC '${e}' stream ${i} received:`,z),E.a_(z)}}),x(a,Xw.STAT_EVENT,O=>{O.stat===Qp.PROXY?G(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Qp.NOPROXY&&G(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function i0(){return typeof document<"u"?document:null}function $g(n){return new V0(n,!0)}var Eg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var v1="PersistentStream",wg=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Eg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(v1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(v1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},_C=class extends wg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=P$(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Br(s.readTime):he.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=$0(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=S0(c)?{documents:R$(o,c)}:{query:N$(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=DR(o,s.resumeToken);let u=j0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=pg(o,s.snapshotVersion.toTimestamp());let u=j0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=F$(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=$0(this.serializer),t.removeTarget=e,this.k_(t)}},vC=class extends wg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=O$(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=$0(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>A$(this.serializer,r))};this.k_(t)}};var EC=class{},wC=class extends EC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,U0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,U0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},CC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(bi(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ks="RemoteStore",bC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Fs(this)&&(G(ks,"Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=le(c);u.Ia.add(4),yield Qu(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield zg(u)})}(this))}))}),this.Aa=new CC(r,i)}};function zg(n){return _(this,null,function*(){if(Fs(n))for(let e of n.da)yield e(!0)})}function Qu(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function kR(n,e){let t=le(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ib(t)?rb(t):Ec(t).x_()&&nb(t,e))}function tb(n,e){let t=le(n),r=Ec(t);t.Ta.delete(e),r.x_()&&FR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Fs(t)&&t.Aa.set("Unknown"))}function nb(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ec(n).H_(e)}function FR(n,e){n.Ra.$e(e),Ec(n).Y_(e)}function rb(n){n.Ra=new L0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ec(n).start(),n.Aa.aa()}function ib(n){return Fs(n)&&!Ec(n).M_()&&n.Ta.size>0}function Fs(n){return le(n).Ia.size===0}function LR(n){n.Ra=void 0}function X$(n){return _(this,null,function*(){n.Aa.set("Online")})}function ez(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{nb(n,e)})})}function tz(n,e){return _(this,null,function*(){LR(n),ib(n)?(n.Aa.la(e),rb(n)):n.Aa.set("Unknown")})}function nz(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof hg&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){G(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cg(n,r)}else if(e instanceof rc?n.Ra.Ye(e):e instanceof dg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(he.min()))try{let r=yield NR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Wt.EMPTY_BYTE_STRING,d.snapshotVersion)),FR(o,c);let f=new Uu(d.target,c,u,d.sequenceNumber);nb(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){G(ks,"Failed to raise snapshot:",r),yield Cg(n,r)}})}function Cg(n,e,t){return _(this,null,function*(){if(!vc(e))throw e;n.Ia.add(1),yield Qu(n),n.Aa.set("Offline"),t||(t=()=>NR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){G(ks,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield zg(n)}))})}function VR(n,e){return e().catch(t=>Cg(n,t,e))}function Hg(n){return _(this,null,function*(){let e=le(n),t=vo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qC;for(;rz(e);)try{let i=yield Q$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,iz(e,i)}catch(i){yield Cg(e,i)}jR(e)&&UR(e)})}function rz(n){return Fs(n)&&n.Pa.length<10}function iz(n,e){n.Pa.push(e);let t=vo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function jR(n){return Fs(n)&&!vo(n).M_()&&n.Pa.length>0}function UR(n){vo(n).start()}function oz(n){return _(this,null,function*(){vo(n).na()})}function sz(n){return _(this,null,function*(){let e=vo(n);for(let t of n.Pa)e.X_(t.mutations)})}function az(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=R0.from(r,e,t);yield VR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hg(n)})}function cz(n,e){return _(this,null,function*(){e&&vo(n).Z_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return b$(s)&&s!==N.ABORTED}(i.code)){let o=r.Pa.shift();vo(r).N_(),yield VR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hg(r)}})}(n,e)),jR(n)&&UR(n)})}function E1(n,e){return _(this,null,function*(){let t=le(n);t.asyncQueue.verifyOperationInProgress(),G(ks,"RemoteStore received new credentials");let r=Fs(t);t.Ia.add(3),yield Qu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield zg(t)})}function lz(n,e){return _(this,null,function*(){let t=le(n);e?(t.Ia.delete(2),yield zg(t)):e||(t.Ia.add(2),yield Qu(t),t.Aa.set("Unknown"))})}function Ec(n){return n.Va||(n.Va=function(t,r,i){let o=le(t);return o.ia(),new _C(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:X$.bind(null,n),e_:ez.bind(null,n),n_:tz.bind(null,n),J_:nz.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),ib(n)?rb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),LR(n))}))),n.Va}function vo(n){return n.ma||(n.ma=function(t,r,i){let o=le(t);return o.ia(),new vC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:oz.bind(null,n),n_:cz.bind(null,n),ea:sz.bind(null,n),ta:az.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield Hg(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(ks,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var IC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ob(n,e){if(bi("AsyncQueue",`${e}: ${n}`),vc(n))return new $(N.UNAVAILABLE,`${e}: ${n}`);throw n}var bg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Mu(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ig=class{constructor(){this.fa=new rt(X.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},pc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,bg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var DC=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},TC=class{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=le(t),o=i.queries;i.queries=w1(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new $(N.ABORTED,"Firestore shutting down"))}};function w1(){return new Ti(n=>hR(n),Ug)}function sb(n,e){return _(this,null,function*(){let t=le(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new DC,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ob(s,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&cb(t)})}function ab(n,e){return _(this,null,function*(){let t=le(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function uz(n,e){let t=le(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&cb(t)}function dz(n,e,t){let r=le(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function cb(n){n.Da.forEach(e=>{e.next()})}var SC,C1;(C1=SC||(SC={})).Fa="default",C1.Cache="cache";var zu=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==SC.Cache}};var Dg=class{constructor(e){this.key=e}},Tg=class{constructor(e){this.key=e}},MC=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ie(),this.mutatedKeys=Ie(),this.Xa=fR(e),this.eu=new bg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Ig,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=Bg(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),O=!1;g&&m?g.data.isEqual(m.data)?E!==x&&(r.track({type:3,doc:m}),O=!0):this.iu(g,m)||(r.track({type:2,doc:m}),O=!0,(c&&this.Xa(m,c)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),O=!0):g&&!m&&(r.track({type:1,doc:g}),O=!0,(c||u)&&(a=!0)),O&&(m?(s=s.add(m),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>function(m,E){let x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{At:O})}};return x(m)-x(E)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new pc(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ig,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Tg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Dg(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ie();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return pc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},lb="SyncEngine",xC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},PC=class{constructor(e){this.key=e,this.lu=!1}},AC=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ti(a=>hR(a),Ug),this.Tu=new Map,this.Iu=new Set,this.du=new rt(X.comparator),this.Eu=new Map,this.Au=new $u,this.Ru={},this.Vu=new Map,this.mu=Bu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function hz(n,e,t=!0){return _(this,null,function*(){let r=GR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield BR(r,e,t,!0),i})}function fz(n,e){return _(this,null,function*(){let t=GR(n);yield BR(t,e,!0,!1)})}function BR(n,e,t,r){return _(this,null,function*(){let i=yield Y$(n.localStore,jr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield pz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&kR(n.remoteStore,i),a})}function pz(n,e,t,r,i){return _(this,null,function*(){n.gu=(f,g,m)=>function(x,O,L,z){return _(this,null,function*(){let H=O.view.nu(L);H.Ds&&(H=yield y1(x.localStore,O.query,!1).then(({documents:D})=>O.view.nu(D,H)));let Q=z&&z.targetChanges.get(O.targetId),Oe=z&&z.targetMismatches.get(O.targetId)!=null,ae=O.view.applyChanges(H,x.isPrimaryClient,Q,Oe);return I1(x,O.targetId,ae._u),ae.snapshot})}(n,f,g,m);let o=yield y1(n.localStore,e,!0),s=new MC(e,o.qs),a=s.nu(o.documents),c=ju.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);I1(n,t,u._u);let d=new xC(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function gz(n,e,t){return _(this,null,function*(){let r=le(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Ug(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&tb(r.remoteStore,i.targetId),OC(r,i.targetId)}).catch(_c))):(OC(r,i.targetId),yield dC(r.localStore,i.targetId,!0))})}function mz(n,e){return _(this,null,function*(){let t=le(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tb(t.remoteStore,r.targetId))})}function yz(n,e,t){return _(this,null,function*(){let r=Iz(n);try{let i=yield function(s,a){let c=le(s),u=_t.now(),d=a.reduce((m,E)=>m.add(E.key),Ie()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Si(),x=Ie();return c.Os.getEntries(m,d).next(O=>{E=O,E.forEach((L,z)=>{z.isValidDocument()||(x=x.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(O=>{f=O;let L=[];for(let z of a){let H=C$(z,f.get(z.key).overlayedDocument);H!=null&&L.push(new zr(z.key,H,oR(H.value.mapValue),Ur.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,L,a)}).next(O=>{g=O;let L=O.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(m,O.batchId,L)})}).then(()=>({batchId:g.batchId,changes:gR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new rt(ye)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Yu(r,i.changes),yield Hg(r.remoteStore)}catch(i){let o=ob(i,"Failed to persist write");t.reject(o)}})}function $R(n,e){return _(this,null,function*(){let t=le(n);try{let r=yield W$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Fe(s.lu,14607):i.removedDocuments.size>0&&(Fe(s.lu,42227),s.lu=!1))}),yield Yu(t,r,e)}catch(r){yield _c(r)}})}function b1(n,e,t){let r=le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=le(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(u=!0)}),u&&cb(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _z(n,e,t){return _(this,null,function*(){let r=le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new rt(X.comparator);s=s.insert(o,gr.newNoDocument(o,he.min()));let a=Ie().add(o),c=new ug(he.min(),new Map,new rt(ye),s,a);yield $R(r,c),r.du=r.du.remove(o),r.Eu.delete(e),ub(r)}else yield dC(r.localStore,e,!1).then(()=>OC(r,e,t)).catch(_c)})}function vz(n,e){return _(this,null,function*(){let t=le(n),r=e.batch.batchId;try{let i=yield G$(t.localStore,e);HR(t,r,null),zR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yu(t,i)}catch(i){yield _c(i)}})}function Ez(n,e,t){return _(this,null,function*(){let r=le(n);try{let i=yield function(s,a){let c=le(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Fe(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);HR(r,e,t),zR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(r,i)}catch(i){yield _c(i)}})}function zR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function HR(n,e,t){let r=le(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function OC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||qR(n,r)})}function qR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(tb(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ub(n))}function I1(n,e,t){for(let r of t)r instanceof Dg?(n.Au.addReference(r.key,e),wz(n,r)):r instanceof Tg?(G(lb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||qR(n,r.key)):ne(19791,{yu:r})}function wz(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(lb,"New document in limbo: "+t),n.Iu.add(r),ub(n))}function ub(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new X(Ke.fromString(e)),r=n.mu.next();n.Eu.set(r,new PC(t)),n.du=n.du.insert(t,r),kR(n.remoteStore,new Uu(jr(jg(t.path)),r,"TargetPurposeLimboResolution",HC.ue))}}function Yu(n,e,t){return _(this,null,function*(){let r=le(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=aC.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return _(this,null,function*(){let d=le(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,g=>V.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>V.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!vc(f))throw f;G(eb,"Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),E=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,x)}}})}(r.localStore,o))})}function Cz(n,e){return _(this,null,function*(){let t=le(n);if(!t.currentUser.isEqual(e)){G(lb,"User change. New user:",e.toKey());let r=yield RR(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new $(N.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yu(t,r.Bs)}})}function bz(n,e){let t=le(n),r=t.Eu.get(e);if(r&&r.lu)return Ie().add(r.key);{let i=Ie(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function GR(n){let e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_z.bind(null,e),e.hu.J_=uz.bind(null,e.eventManager),e.hu.pu=dz.bind(null,e.eventManager),e}function Iz(n){let e=le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ez.bind(null,e),e}var WR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=$g(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return q$(this.persistence,new lC,t.initialUser,this.serializer)}Du(t){return new mg(sC.Vi,this.serializer)}bu(t){return new hC}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),RC=class extends WR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof yg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new W0(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new mg(r=>yg.Vi(r,t),this.serializer)}};var Dz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cz.bind(null,this.syncEngine),yield lz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new TC}()}createDatastore(t){let r=$g(t.databaseInfo.databaseId),i=function(s){return new yC(s)}(t.databaseInfo);return function(s,a,c,u){return new wC(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new bC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>b1(this.syncEngine,r,0),function(){return vg.C()?new vg:new fC}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let g=new AC(o,s,a,c,u,d);return f&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=le(o);G(ks,"RemoteStore shutting down."),s.Ia.add(5),yield Qu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Hu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Eo="FirestoreClient",NC=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=Ru.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){G(Eo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(Eo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ob(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function o0(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(Eo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield RR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{mo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{mo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function D1(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Tz(n);G(Eo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>E1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>E1(e.remoteStore,i)),n._onlineComponents=e})}function Tz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(Eo,"Using user provided OfflineComponentProvider");try{yield o0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;mo("Error using user provided cache. Falling back to memory cache: "+t),yield o0(n,new WR)}}else G(Eo,"Using default OfflineComponentProvider"),yield o0(n,new RC(void 0));return n._offlineComponents})}function KR(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(Eo,"Using user provided OnlineComponentProvider"),yield D1(n,n._uninitializedComponentsProvider._online)):(G(Eo,"Using default OnlineComponentProvider"),yield D1(n,new Dz))),n._onlineComponents})}function Sz(n){return KR(n).then(e=>e.syncEngine)}function Sg(n){return _(this,null,function*(){let e=yield KR(n),t=e.eventManager;return t.onListen=hz.bind(null,e.syncEngine),t.onUnlisten=gz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mz.bind(null,e.syncEngine),t})}function Mz(n,e,t={}){let r=new pr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,u){let d=new Hu({next:g=>{d.Ou(),s.enqueueAndForget(()=>ab(o,f));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new $(N.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?u.reject(new $(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new zu(jg(a.path),d,{includeMetadataChanges:!0,ka:!0});return sb(o,f)}(yield Sg(n),n.asyncQueue,e,t,r)})),r.promise}function xz(n,e,t={}){let r=new pr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,u){let d=new Hu({next:g=>{d.Ou(),s.enqueueAndForget(()=>ab(o,f)),g.fromCache&&c.source==="server"?u.reject(new $(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new zu(a,d,{includeMetadataChanges:!0,ka:!0});return sb(o,f)}(yield Sg(n),n.asyncQueue,e,t,r)})),r.promise}function QR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var T1=new Map;var YR="firestore.googleapis.com",S1=!0,Mg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YR,this.ssl=S1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:S1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$$)throw new $(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new s0;switch(r.type){case"firstParty":return new u0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=T1.get(t);r&&(G("ComponentProvider","Removing Datastore"),T1.delete(t),r.terminate())}(this),Promise.resolve()}};function Pz(n,e,t,r={}){var i;n=_n(n,gc);let o=Rr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Ka(`https://${c}`),Qa("Firestore",!0)),s.host!==YR&&s.host!==c&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Nr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Tt.MOCK_USER;else{d=Hp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(g)}n._authCredentials=new a0(new ng(d,f))}}var wo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Et=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ku(t,n._jsonSchema))return new n(e,r||null,new X(Ke.fromString(t.referencePath)))}};Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:yt("string",Et._jsonSchemaVersion),referencePath:yt("string")};var ho=class n extends wo{constructor(e,t,r){super(e,t,jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Mi(n,e,...t){if(n=ft(n),k1("collection","path",e),n instanceof gc){let r=Ke.fromString(e,...t);return qO(r),new ho(n,null,r)}{if(!(n instanceof Et||n instanceof ho))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ke.fromString(e,...t));return qO(r),new ho(n.firestore,null,r)}}function bo(n,e,...t){if(n=ft(n),arguments.length===1&&(e=Ru.newId()),k1("doc","path",e),n instanceof gc){let r=Ke.fromString(e,...t);return HO(r),new Et(n,null,new X(r))}{if(!(n instanceof Et||n instanceof ho))throw new $(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ke.fromString(e,...t));return HO(r),new Et(n.firestore,n instanceof ho?n.converter:null,new X(r))}}var M1="AsyncQueue",xg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Eg(this,"async_queue_retry"),this.oc=()=>{let r=i0();r&&G(M1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=i0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=i0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new pr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!vc(e))throw e;G(M1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,bi("INTERNAL UNHANDLED ERROR: ",x1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=IC.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ne(47125,{hc:x1(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function x1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function P1(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var yr=class extends gc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xg(e),this._firestoreClient=void 0,yield e}})}};function ZR(n,e){let t=typeof n=="object"?n:Ya(),r=typeof n=="string"?n:e||ag,i=bs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zp("firestore");o&&Pz(i,...o)}return i}function qg(n){if(n._terminated)throw new $(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Az(n),n._firestoreClient}function Az(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new g0(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new NC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var fo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Wt.fromBase64String(e))}catch(t){throw new $(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};fo._jsonSchemaVersion="firestore/bytes/1.0",fo._jsonSchema={type:yt("string",fo._jsonSchemaVersion),bytes:yt("string")};var mc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qu=class{constructor(e){this._methodName=e}};var po=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};po._jsonSchemaVersion="firestore/geoPoint/1.0",po._jsonSchema={type:yt("string",po._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};var go=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:yt("string",go._jsonSchemaVersion),vectorValues:yt("object")};var Oz=/^__.*__$/,kC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ns(e,this.data,t,this.fieldTransforms)}},Pg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function JR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ec:n})}}var FC=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Og(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(JR(this.Ec)&&Oz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},LC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||$g(e)}Dc(e,t,r,i=!1){return new FC({Ec:e,methodName:t,bc:r,path:Mn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Gg(n){let e=n._freezeSettings(),t=$g(n._databaseId);return new LC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XR(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);db("Data must be an object, but it was:",s,r);let a=eN(r,s),c,u;if(o.merge)c=new Hn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=VC(e,f,t);if(!s.contains(g))throw new $(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);nN(d,g)||d.push(g)}c=new Hn(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new kC(new Sn(a),c,u)}var Ag=class n extends qu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Rz(n,e,t,r){let i=n.Dc(1,e,t);db("Data must be an object, but it was:",i,r);let o=[],s=Sn.empty();Co(r,(c,u)=>{let d=hb(e,c,t);u=ft(u);let f=i.gc(d);if(u instanceof Ag)o.push(d);else{let g=Zu(u,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new Hn(o);return new Pg(s,a,i.fieldTransforms)}function Nz(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[VC(e,r,t)],c=[i];if(o.length%2!=0)throw new $(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(VC(e,o[g])),c.push(o[g+1]);let u=[],d=Sn.empty();for(let g=a.length-1;g>=0;--g)if(!nN(u,a[g])){let m=a[g],E=c[g];E=ft(E);let x=s.gc(m);if(E instanceof Ag)u.push(m);else{let O=Zu(E,x);O!=null&&(u.push(m),d.set(m,O))}}let f=new Hn(u);return new Pg(d,f,s.fieldTransforms)}function kz(n,e,t,r=!1){return Zu(t,n.Dc(r?4:3,e))}function Zu(n,e){if(tN(n=ft(n)))return db("Unsupported field value:",e,n),eN(n,e);if(n instanceof qu)return function(r,i){if(!JR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Zu(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=_t.fromDate(r);return{timestampValue:pg(i.serializer,o)}}if(r instanceof _t){let o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pg(i.serializer,o)}}if(r instanceof po)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fo)return{bytesValue:DR(i.serializer,r._byteString)};if(r instanceof Et){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:XC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof go)return function(s,a){return{mapValue:{fields:{[WC]:{stringValue:KC},[sc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return JC(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Fg(r)}`)}(n,e)}function eN(n,e){let t={};return Z1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(n,(r,i)=>{let o=Zu(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function tN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof po||n instanceof fo||n instanceof Et||n instanceof qu||n instanceof go)}function db(n,e,t){if(!tN(t)||!F1(t)){let r=Fg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function VC(n,e,t){if((e=ft(e))instanceof mc)return e._internalPath;if(typeof e=="string")return hb(n,e);throw Og("Field path arguments must be of type string or ",n,!1,void 0,t)}var Fz=new RegExp("[~\\*/\\[\\]]");function hb(n,e,t){if(e.search(Fz)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mc(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Og(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(N.INVALID_ARGUMENT,a+n+c)}function nN(n,e){return n.some(t=>t.isEqual(e))}var Rg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Wg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},jC=class extends Rg{data(){return super.data()}};function Wg(n,e){return typeof e=="string"?hb(n,e):e instanceof mc?e._internalPath:e._delegate._internalPath}function rN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gu=class{},Ng=class extends Gu{};function Ju(n,e,...t){let r=[];e instanceof Gu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof UC).length,a=o.filter(c=>c instanceof kg).length;if(s>1||s>0&&a>0)throw new $(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var kg=class n extends Ng{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return iN(e._query,t),new wo(e.firestore,e.converter,M0(e._query,t))}_parse(e){let t=Gg(e.firestore);return function(o,s,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){O1(f,d);let E=[];for(let x of f)E.push(A1(c,o,x));g={arrayValue:{values:E}}}else g=A1(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||O1(f,d),g=kz(a,s,f,d==="in"||d==="not-in");return mt.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Kg(n,e,t){let r=e,i=Wg("where",n);return kg._create(i,r,t)}var UC=class n extends Gu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)iN(s,c),s=M0(s,c)}(e._query,t),new wo(e.firestore,e.converter,M0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var BC=class n extends Ng{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new $(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new As(o,s)}(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new _o(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Qg(n,e="asc"){let t=e,r=Wg("orderBy",n);return BC._create(r,t)}function A1(n,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new $(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dR(e)&&t.indexOf("/")!==-1)throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ke.fromString(t));if(!X.isDocumentKey(r))throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JO(n,new X(r))}if(t instanceof Et)return JO(n,t._key);throw new $(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(t)}.`)}function O1(n,e){if(!Array.isArray(n)||n.length===0)throw new $(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iN(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var $C=class{convertValue(e,t="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Co(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[sc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>We(s.doubleValue));return new go(o)}convertGeoPoint(e){return new po(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Vg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){let t=Ii(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ke.fromString(e);Fe(AR(r),9688,{name:e});let i=new cg(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||bi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function oN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ts=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ss=class n extends Rg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ss._jsonSchema={type:yt("string",Ss._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};var ic=class extends Ss{data(e={}){return super.data(e)}},Ms=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ts(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ic(this._firestore,this._userDataWriter,r.key,r,new Ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ts(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ts(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Lz(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ru.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Lz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:n})}}function wc(n){n=_n(n,Et);let e=_n(n.firestore,yr);return Mz(qg(e),n._key).then(t=>sN(e,n,t))}Ms._jsonSchemaVersion="firestore/querySnapshot/1.0",Ms._jsonSchema={type:yt("string",Ms._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};var Wu=class extends $C{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}};function Xu(n){n=_n(n,wo);let e=_n(n.firestore,yr),t=qg(e),r=new Wu(e);return rN(n._query),xz(t,n._query).then(i=>new Ms(e,r,n,i))}function fb(n,e,t){n=_n(n,Et);let r=_n(n.firestore,yr),i=oN(n.converter,e,t);return Yg(r,[XR(Gg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ur.none())])}function pb(n,e,t,...r){n=_n(n,Et);let i=_n(n.firestore,yr),o=Gg(i),s;return s=typeof(e=ft(e))=="string"||e instanceof mc?Nz(o,"updateDoc",n._key,e,t,r):Rz(o,"updateDoc",n._key,e),Yg(i,[s.toMutation(n._key,Ur.exists(!0))])}function gb(n){return Yg(_n(n.firestore,yr),[new Vu(n._key,Ur.none())])}function mb(n,e){let t=_n(n.firestore,yr),r=bo(n),i=oN(n.converter,e);return Yg(t,[XR(Gg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}function yb(n,...e){var t,r,i;n=ft(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||P1(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(P1(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof Et)u=_n(n.firestore,yr),d=jg(n._key.path),c={next:f=>{e[s]&&e[s](sN(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=_n(n,wo);u=_n(f.firestore,yr),d=f._query;let g=new Wu(u);c={next:m=>{e[s]&&e[s](new Ms(u,g,f,m))},error:e[s+1],complete:e[s+2]},rN(n._query)}return function(g,m,E,x){let O=new Hu(x),L=new zu(m,O,E);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return sb(yield Sg(g),L)})),()=>{O.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return ab(yield Sg(g),L)}))}}(qg(u),d,a,c)}function Yg(n,e){return function(r,i){let o=new pr;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return yz(yield Sz(r),i,o)})),o.promise}(qg(n),e)}function sN(n,e,t){let r=t.docs.get(e._key),i=new Wu(n);return new Ss(n,i,e._key,r,new Ts(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){yc=i})(Lr),Fr(new gn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new yr(new c0(r.getProvider("auth-internal")),new d0(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cg(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),mn(UO,BO,e),mn(UO,BO,"esm2017")})();var Vz="firebase",jz="11.10.0";mn(Vz,jz,"app");function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var CN=wN,bN=new vi("auth","Firebase",wN());var nm=new lo("@firebase/auth");function Uz(n,...e){nm.logLevel<=Ee.WARN&&nm.warn(`Auth (${Lr}): ${n}`,...e)}function Jg(n,...e){nm.logLevel<=Ee.ERROR&&nm.error(`Auth (${Lr}): ${n}`,...e)}function To(n,...e){throw Lb(n,...e)}function Vs(n,...e){return Lb(n,...e)}function IN(n,e,t){let r=Object.assign(Object.assign({},CN()),{[e]:t});return new vi("auth","Firebase",r).create(e,{appName:n.name})}function Ls(n){return IN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bN.create(n,...e)}function oe(n,e,...t){if(!n)throw Lb(e,...t)}function xi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Jg(e),new Error(e)}function So(n,e){n||xi(e)}function wb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Bz(){return aN()==="http:"||aN()==="https:"}function aN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function $z(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bz()||yO()||"connection"in navigator)?navigator.onLine:!0}function zz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var js=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,So(t>e,"Short delay should be less than long delay!"),this.isMobile=gO()||_O()}get(){return $z()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vb(n,e){So(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Hz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Gz=new js(3e4,6e4);function jb(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Cc(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){return DN(n,i,()=>_(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Du(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},u);return mO()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Rr(n.emulatorConfig.host)&&(m.credentials="include"),rm.fetch()(yield TN(n,n.config.apiHost,t,f),m)}))})}function DN(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Hz),e);try{let i=new Cb(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Zg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Zg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IN(n,d,u);To(n,d)}}catch(i){if(i instanceof on)throw i;To(n,"network-request-failed",{message:String(i)})}})}function Wz(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){let u=yield Cc(n,e,t,r,i);return"mfaPendingCredential"in u&&To(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function TN(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Vb(n.config,i):`${n.config.apiScheme}://${i}`;return qz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Cb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),Gz.get())})}};function Zg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Vs(n,e,r);return i.customData._tokenResponse=t,i}function Kz(n,e){return _(this,null,function*(){return Cc(n,"POST","/v1/accounts:delete",e)})}function im(n,e){return _(this,null,function*(){return Cc(n,"POST","/v1/accounts:lookup",e)})}function ed(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function SN(n,e=!1){return _(this,null,function*(){let t=ft(n),r=yield t.getIdToken(e),i=Ub(r);oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ed(_b(i.auth_time)),issuedAtTime:ed(_b(i.iat)),expirationTime:ed(_b(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _b(n){return Number(n)*1e3}function Ub(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bp(t);return i?JSON.parse(i):(Jg("Failed to decode base64 JWT payload"),null)}catch(i){return Jg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cN(n){let e=Ub(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nd(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof on&&Qz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Qz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var bb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function om(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield nd(n,im(t,{idToken:r}));oe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xN(o.providerUserInfo):[],a=Yz(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function MN(n){return _(this,null,function*(){let e=ft(n);yield om(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Yz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xN(n){return n.map(e=>{var{providerId:t}=e,r=uy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Zz(n,e){return _(this,null,function*(){let t=yield DN(n,{},()=>_(null,null,function*(){let r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield TN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Rr(n.emulatorConfig.host)&&(c.credentials="include"),rm.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Jz(n,e){return _(this,null,function*(){return Cc(n,"POST","/v2/accounts:revokeToken",jb(n,e))})}var td=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let t=cN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Zz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return xi("not implemented")}};function Io(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Do=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield nd(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return SN(this,e)}reload(){return MN(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield om(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(yn(this.auth.app))return Promise.reject(Ls(this.auth));let e=yield this.getIdToken();return yield nd(this,Kz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,L=(u=t.createdAt)!==null&&u!==void 0?u:void 0,z=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:Q,isAnonymous:Oe,providerData:ae,stsTokenManager:D}=t;oe(H&&D,e,"internal-error");let v=td.fromJSON(this.name,D);oe(typeof H=="string",e,"internal-error"),Io(f,e.name),Io(g,e.name),oe(typeof Q=="boolean",e,"internal-error"),oe(typeof Oe=="boolean",e,"internal-error"),Io(m,e.name),Io(E,e.name),Io(x,e.name),Io(O,e.name),Io(L,e.name),Io(z,e.name);let C=new n({uid:H,auth:e,email:g,emailVerified:Q,displayName:f,isAnonymous:Oe,photoURL:E,phoneNumber:m,tenantId:x,stsTokenManager:v,createdAt:L,lastLoginAt:z});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(T=>Object.assign({},T))),O&&(C._redirectEventId=O),C}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new td;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield om(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];oe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?xN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new td;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var lN=new Map;function Pi(n){So(n instanceof Function,"Expected a class definition");let e=lN.get(n);return e?(So(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lN.set(n,e),e)}var Xz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ib=Xz;function Xg(n,e,t){return`firebase:${n}:${e}:${t}`}var sm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Xg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield im(this.auth,{idToken:e}).catch(()=>{});return t?Do._fromGetAccountInfoResponse(this.auth,t,e):null}return Do._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Pi(Ib),e,r);let i=(yield Promise.all(t.map(u=>_(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Pi(Ib),s=Xg(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f;if(typeof d=="string"){let g=yield im(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield Do._fromGetAccountInfoResponse(e,g,d)}else f=Do._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>_(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function uN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kN(e))return"Blackberry";if(FN(e))return"Webos";if(AN(e))return"Safari";if((e.includes("chrome/")||ON(e))&&!e.includes("edge/"))return"Chrome";if(NN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function PN(n=Dt()){return/firefox\//i.test(n)}function AN(n=Dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ON(n=Dt()){return/crios\//i.test(n)}function RN(n=Dt()){return/iemobile/i.test(n)}function NN(n=Dt()){return/android/i.test(n)}function kN(n=Dt()){return/blackberry/i.test(n)}function FN(n=Dt()){return/webos/i.test(n)}function Bb(n=Dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eH(n=Dt()){var e;return Bb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tH(){return vO()&&document.documentMode===10}function LN(n=Dt()){return Bb(n)||NN(n)||FN(n)||kN(n)||/windows phone/i.test(n)||RN(n)}function VN(n,e=[]){let t;switch(n){case"Browser":t=uN(Dt());break;case"Worker":t=`${uN(Dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lr}/${r}`}var Db=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function nH(t){return _(this,arguments,function*(n,e={}){return Cc(n,"GET","/v2/passwordPolicy",jb(n,e))})}var rH=6,Tb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:rH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Sb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new am(this),this.idTokenSubscription=new am(this),this.beforeStateQueue=new Db(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield sm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield im(this,{idToken:e}),r=yield Do._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(yn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield om(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zz()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(yn(this.app))return Promise.reject(Ls(this));let t=e?ft(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yn(this.app)?Promise.reject(Ls(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yn(this.app)?Promise.reject(Ls(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Pi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield nH(this),t=new Tb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Jz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Pi(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=yield sm.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Uz(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function $b(n){return ft(n)}var am=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bO(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var zb={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iH(n){zb=n}function oH(n){return zb.loadJS(n)}function sH(){return zb.gapiScript}function jN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function UN(n,e){let t=bs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Nr(o,e??{}))return i;To(i,"already-initialized")}return t.initialize({options:e})}function aH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function BN(n,e,t){let r=$b(n);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=$N(e),{host:s,port:a}=cH(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Nr(u,r.config.emulator)&&Nr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Rr(s)?(Ka(`${o}//${s}${c}`),Qa("Auth",!0)):i||lH()}function $N(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cH(n){let e=$N(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:dN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:dN(s)}}}function dN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function lH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var cm=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}};function vb(n,e){return _(this,null,function*(){return Wz(n,"POST","/v1/accounts:signInWithIdp",jb(n,e))})}var lm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Mb=class extends lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var id=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Do._fromIdTokenResponse(e,r,i),s=hN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=hN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function hN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var xb=class n extends on{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function zN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xb._fromErrorAndOperation(n,o,e,r):o})}function uH(n,e,t=!1){return _(this,null,function*(){let r=yield nd(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return id._forOperation(n,"link",r)})}function dH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(yn(r.app))return Promise.reject(Ls(r));let i="reauthenticate";try{let o=yield nd(n,zN(r,i,e,n),t);oe(o.idToken,r,"internal-error");let s=Ub(o.idToken);oe(s,r,"internal-error");let{sub:a}=s;return oe(n.uid===a,r,"user-mismatch"),id._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&To(r,"user-mismatch"),o}})}function hH(n,e,t=!1){return _(this,null,function*(){if(yn(n.app))return Promise.reject(Ls(n));let r="signIn",i=yield zN(n,r,e),o=yield id._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function HN(n,e,t,r){return ft(n).onIdTokenChanged(e,t,r)}function qN(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}var um="__sak";var dm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var fH=1e3,pH=10,gH=(()=>{class n extends dm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);tH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,pH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},fH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield ji(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield ji(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield ji(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),GN=gH;var mH=(()=>{class n extends dm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Hb=mH;function yH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var _H=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>_(this,null,function*(){return d(r.origin,s)})),u=yield yH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function WN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Pb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=WN("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Hr(){return window}function vH(n){Hr().location.href=n}function KN(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}function EH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function CH(){return KN()?self:null}var QN="firebaseLocalStorageDb",bH=1,hm="firebaseLocalStorage",YN="fbase_key",Us=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function pm(n,e){return n.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function IH(){let n=indexedDB.deleteDatabase(QN);return new Us(n).toPromise()}function Ab(){let n=indexedDB.open(QN,bH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(hm,{keyPath:YN})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),yield IH(),e(yield Ab()))}))})}function fN(n,e,t){return _(this,null,function*(){let r=pm(n,!0).put({[YN]:e,value:t});return new Us(r).toPromise()})}function DH(n,e){return _(this,null,function*(){let t=pm(n,!1).get(e),r=yield new Us(t).toPromise();return r===void 0?null:r.value})}function pN(n,e){let t=pm(n,!0).delete(e);return new Us(t).toPromise()}var TH=800,SH=3,MH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Ab(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>SH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return KN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=_H._getInstance(CH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield EH(),!this.activeServiceWorker)return;this.sender=new Pb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Ab();return yield fN(t,um,"1"),yield pN(t,um),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>fN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>DH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>pN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=pm(o,!1).getAll();return new Us(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),TH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ZN=MH;var mae=jN("rcb"),yae=new js(3e4,6e4);function xH(n,e){return e?Pi(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var od=class extends cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function PH(n){return hH(n.auth,new od(n),n.bypassAuthState)}function AH(n){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),dH(t,new od(n),n.bypassAuthState)}function OH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),uH(t,new od(n),n.bypassAuthState)})}var Ob=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PH;case"linkViaPopup":case"linkViaRedirect":return OH;case"reauthViaPopup":case"reauthViaRedirect":return AH;default:To(this.auth,"internal-error")}}resolve(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _ae=new js(2e3,1e4);var RH="pendingRedirect",em=new Map,Rb=class n extends Ob{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=em.get(this.auth._key());if(!e){try{let r=(yield NH(this.resolver,this.auth))?yield ji(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}em.set(this.auth._key(),e)}return this.bypassAuthState||em.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return ji(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ji(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function NH(n,e){return _(this,null,function*(){let t=LH(e),r=FH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function kH(n,e){em.set(n._key(),e)}function FH(n){return Pi(n._redirectPersistence)}function LH(n){return Xg(RH,n.config.apiKey,n.name)}function VH(n,e,t=!1){return _(this,null,function*(){if(yn(n.app))return Promise.reject(Ls(n));let r=$b(n),i=xH(r,e),s=yield new Rb(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var jH=10*60*1e3,Nb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jH&&this.cachedEventUids.clear(),this.cachedEventUids.has(gN(e))}saveEventToCache(e){this.cachedEventUids.add(gN(e)),this.lastProcessedEventTime=Date.now()}};function gN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function UH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JN(n);default:return!1}}function BH(t){return _(this,arguments,function*(n,e={}){return Cc(n,"GET","/v1/projects",e)})}var $H=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zH=/^https?/;function HH(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield BH(n);for(let t of e)try{if(qH(t))return}catch{}To(n,"unauthorized-domain")})}function qH(n){let e=wb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!zH.test(t))return!1;if($H.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var GH=new js(3e4,6e4);function mN(){let n=Hr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WH(n){return new Promise((e,t)=>{var r,i,o;function s(){mN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mN(),t(Vs(n,"network-request-failed"))},timeout:GH.get()})}if(!((i=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hr().gapi)===null||o===void 0)&&o.load)s();else{let a=jN("iframefcb");return Hr()[a]=()=>{gapi.load?s():t(Vs(n,"network-request-failed"))},oH(`${sH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw tm=null,e})}var tm=null;function KH(n){return tm=tm||WH(n),tm}var QH=new js(5e3,15e3),YH="__/auth/iframe",ZH="emulator/auth/iframe",JH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e8(n){let e=n.config;oe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Vb(e,ZH):`https://${n.config.authDomain}/${YH}`,r={apiKey:e.apiKey,appName:n.name,v:Lr},i=XH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Du(r).slice(1)}`}function t8(n){return _(this,null,function*(){let e=yield KH(n),t=Hr().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:e8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JH,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Vs(n,"network-request-failed"),a=Hr().setTimeout(()=>{o(s)},QH.get());function c(){Hr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var n8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r8=500,i8=600,o8="_blank",s8="http://localhost",fm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function a8(n,e,t,r=r8,i=i8){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},n8),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Dt().toLowerCase();t&&(a=ON(u)?o8:t),PN(u)&&(e=e||s8,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(eH(u)&&a!=="_self")return c8(e||"",a),new fm(null);let f=window.open(e||"",a,d);oe(f,n,"popup-blocked");try{f.focus()}catch{}return new fm(f)}function c8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var l8="__/auth/handler",u8="emulator/auth/handler",d8=encodeURIComponent("fac");function yN(n,e,t,r,i,o){return _(this,null,function*(){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Lr,eventId:i};if(e instanceof lm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",CO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof Mb){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${d8}=${encodeURIComponent(c)}`:"";return`${h8(n)}?${Du(a).slice(1)}${u}`})}function h8({config:n}){return n.emulator?Vb(n,u8):`https://${n.authDomain}/${l8}`}var Eb="webStorageSupport",kb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hb,this._completeRedirectFn=VH,this._overrideRedirectResult=kH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;So((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield yN(e,t,r,wb(),i);return a8(e,s,WN())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield yN(e,t,r,wb(),i);return vH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(So(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield t8(e),r=new Nb(e);return t.register("authEvent",i=>(oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eb,{type:Eb},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Eb];s!==void 0&&t(!!s),To(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LN()||AN()||Bb()}},XN=kb;var _N="@firebase/auth",vN="1.10.8";var Fb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function f8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p8(n){Fr(new gn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(n)},u=new Sb(r,i,o,c);return aH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new gn("auth-internal",e=>{let t=$b(e.getProvider("auth").getImmediate());return(r=>new Fb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(_N,vN,f8(n)),mn(_N,vN,"esm2017")}var g8=5*60,m8=Rw("authIdTokenMaxAge")||g8,EN=null,y8=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>m8)return;let i=t?.token;EN!==i&&(EN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function qb(n=Ya()){let e=bs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=UN(n,{popupRedirectResolver:XN,persistence:[ZN,GN,Hb]}),r=Rw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=y8(o.toString());qN(t,s,()=>s(t.currentUser)),HN(t,a=>s(a))}}let i=Aw("auth");return i&&BN(t,`http://${i}`),t}function _8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}iH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Vs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",_8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p8("Browser");var ok="firebasestorage.googleapis.com",v8="storageBucket",E8=2*60*1e3,w8=10*60*1e3;var qr=class n extends on{constructor(e,t,r=0){super(Gb(e),`Firebase Storage: ${t} (${Gb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Oi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Oi||{});function Gb(n){return"storage/"+n}function C8(){let n="An unknown error occurred, please check the error payload for server response.";return new qr(Oi.UNKNOWN,n)}function b8(){return new qr(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I8(){return new qr(Oi.CANCELED,"User canceled the upload/download.")}function D8(n){return new qr(Oi.INVALID_URL,"Invalid URL '"+n+"'.")}function T8(n){return new qr(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ek(n){return new qr(Oi.INVALID_ARGUMENT,n)}function sk(){return new qr(Oi.APP_DELETED,"The Firebase app was deleted.")}function S8(n){return new qr(Oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ai=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw T8(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(Q){Q.path_=decodeURIComponent(Q.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},x=t===ok?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",L=new RegExp(`^https?://${x}/${i}/${O}`,"i"),H=[{regex:a,indices:c,postModify:o},{regex:m,indices:E,postModify:u},{regex:L,indices:{bucket:1,path:2},postModify:u}];for(let Q=0;Q<H.length;Q++){let Oe=H[Q],ae=Oe.regex.exec(e);if(ae){let D=ae[Oe.indices.bucket],v=ae[Oe.indices.path];v||(v=""),r=new n(D,v),Oe.postModify(r);break}}if(r==null)throw D8(e);return r}},Wb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function M8(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...O){u||(u=!0,e.apply(null,O))}function f(O){i=setTimeout(()=>{i=null,n(m,c())},O)}function g(){o&&clearTimeout(o)}function m(O,...L){if(u){g();return}if(O){g(),d.call(null,O,...L);return}if(c()||s){g(),d.call(null,O,...L);return}r<64&&(r*=2);let H;a===1?(a=2,H=0):H=(r+Math.random())*1e3,f(H)}let E=!1;function x(O){E||(E=!0,g(),!u&&(i!==null?(O||(a=2),clearTimeout(i),f(0)):O||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,x(!0)},t),x}function x8(n){n(!1)}function P8(n){return n!==void 0}function tk(n,e,t,r){if(r<e)throw ek(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ek(`Invalid value for '${n}'. Expected ${t} or less.`)}function A8(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Kb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Kb||{});function O8(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var Qb=class{constructor(e,t,r,i,o,s,a,c,u,d,f,g=!0,m=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,x)=>{this.resolve_=E,this.reject_=x,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new bc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Kb.NO_ERROR,c=o.getStatus();if(!a||O8(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===Kb.ABORT;r(!1,new bc(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new bc(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());P8(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=C8();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?sk():I8();s(c)}else{let c=b8();s(c)}};this.canceled_?t(!1,new bc(!1,null,!0)):this.backoffId_=M8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},bc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function R8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function N8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function F8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function L8(n,e,t,r,i,o,s=!0,a=!1){let c=A8(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return k8(d,e),R8(d,t),N8(d,o),F8(d,r),new Qb(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function V8(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function j8(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Qce=256*1024;var Yb=class n{constructor(e,t){this._service=e,t instanceof Ai?this._location=t:this._location=Ai.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j8(this._location.path)}get storage(){return this._service}get parent(){let e=V8(this._location.path);if(e===null)return null;let t=new Ai(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw S8(e)}};function nk(n,e){let t=e?.[v8];return t==null?null:Ai.makeFromBucketSpec(t,n)}function U8(n,e,t,r={}){n.host=`${e}:${t}`;let i=Rr(e);i&&(Ka(`https://${n.host}/b`),Qa("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Hp(o,n.app.options.projectId))}var Zb=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=ok,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E8,this._maxUploadRetryTime=w8,this._requests=new Set,i!=null?this._bucket=Ai.makeFromBucketSpec(i,this._host):this._bucket=nk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ai.makeFromBucketSpec(this._url,e):this._bucket=nk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yb(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Wb(sk());{let s=L8(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},rk="@firebase/storage",ik="0.13.14";var ak="storage";function ck(n=Ya(),e){n=ft(n);let r=bs(n,ak).getImmediate({identifier:e}),i=zp("storage");return i&&B8(r,...i),r}function B8(n,e,t,r={}){U8(n,e,t,r)}function $8(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Zb(t,r,i,e,Lr)}function z8(){Fr(new gn(ak,$8,"PUBLIC").setMultipleInstances(!0)),mn(rk,ik,""),mn(rk,ik,"esm2017")}z8();var H8={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"},Jb=Qw(H8),sn=ZR(Jb),ile=qb(Jb),ole=ck(Jb);var Ic=class n{expensesSubject=new st([]);categoriesSubject=new st([]);userSettingsSubject=new st({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();constructor(){this.loadData()}loadData(){return _(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return _(this,null,function*(){try{let e=Mi(sn,"expenses"),t=Ju(e,Qg("date","desc")),r=yield Xu(t),i=[];return r.forEach(o=>{i.push(U({id:o.id},o.data()))}),this.expensesSubject.next(i),i}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return _(this,null,function*(){try{let t=Mi(sn,"expenses"),r=yield mb(t,e);return yield this.loadExpenses(),r.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return _(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=bo(sn,"expenses",e.id);if((yield wc(i)).exists()){let r=e,{id:s}=r,a=Ro(r,["id"]);yield pb(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=Ro(t,["id"]);yield fb(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return _(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=bo(sn,"expenses",e);if(!(yield wc(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield gb(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return _(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=Ro(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return _(this,null,function*(){try{let e=Mi(sn,"categories"),t=yield Xu(e),r=[];return t.forEach(i=>{r.push(U({id:i.id},i.data()))}),this.categoriesSubject.next(r),r}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return _(this,null,function*(){try{let t=Mi(sn,"categories"),r=yield mb(t,e);return yield this.loadCategories(),r.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return _(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=bo(sn,"categories",e.id);if((yield wc(r)).exists()){let t=e,{id:o}=t,s=Ro(t,["id"]);yield pb(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return _(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=bo(sn,"categories",e),r=yield wc(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield gb(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return _(this,null,function*(){try{let e=bo(sn,"userSettings","default"),t=yield wc(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return _(this,null,function*(){try{let t=bo(sn,"userSettings","default");yield fb(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=Mi(sn,"expenses"),t=Ju(e,Qg("date","desc"));return new _e(r=>yb(t,o=>{let s=[];o.forEach(a=>{s.push(U({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=Mi(sn,"categories");return new _e(t=>yb(e,i=>{let o=[];i.forEach(s=>{o.push(U({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return _(this,null,function*(){try{let t=Mi(sn,"expenses"),r=Ju(t,Kg("categoryId","==",e)),i=yield Xu(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return _(this,null,function*(){try{let r=Mi(sn,"expenses"),i=Ju(r,Kg("date",">=",e),Kg("date","<=",t),Qg("date","desc")),o=yield Xu(i),s=[];return o.forEach(a=>{s.push(U({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mo=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return _(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return _(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return _(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return _(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return _(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return _(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return _(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return _(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return _(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(ee(Ic))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Gr=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return _(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return _(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return _(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return _(this,null,function*(){return yield this.loadCategories(),[...this.categories]})}add(e){return _(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return _(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return _(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return _(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}static \u0275fac=function(t){return new(t||n)(ee(Ic))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function q8(n,e){n&1&&(w(0,"div",44),S(1," First Month "),I())}function G8(n,e){if(n&1&&(w(0,"div",35)(1,"div",36)(2,"div",37)(3,"h3"),S(4,"Monthly Comparison"),I(),w(5,"span",38),S(6,"vs Last Month"),I()(),w(7,"div",39)(8,"div",40)(9,"div",41),S(10),Je(11,"currency"),I(),w(12,"div",42),S(13,"Change"),I()(),w(14,"div",40)(15,"div",41),S(16),Je(17,"number"),I(),w(18,"div",42),S(19,"Percentage"),I()(),w(20,"div",40),Pe(21,q8,2,0,"div",43),w(22,"div",42),S(23,"Status"),I()()()()()),n&2){let t=Se();k(9),_f(t.getMonthlyComparison().change<0?"positive":"negative"),k(),dt(" ",Ht(11,7,t.getMonthlyComparison().change,"INR")," "),k(5),_f(t.getMonthlyComparison().percentage<0?"positive":"negative"),k(),dt(" ",Ht(17,10,t.getMonthlyComparison().percentage,"1.0-1"),"% "),k(5),ce("ngIf",!t.getMonthlyComparison().hasPreviousData&&t.monthlyTotal>0)}}function W8(n,e){if(n&1){let t=tn();w(0,"div",45)(1,"div",46)(2,"label",47),S(3,"Start Date:"),I(),w(4,"input",48),kt("ngModelChange",function(i){Ne(t);let o=Se();return zt(o.customStartDate,i)||(o.customStartDate=i),ke(i)}),te("change",function(){Ne(t);let i=Se();return ke(i.onFilterChange())}),I()(),w(5,"div",46)(6,"label",47),S(7,"End Date:"),I(),w(8,"input",48),kt("ngModelChange",function(i){Ne(t);let o=Se();return zt(o.customEndDate,i)||(o.customEndDate=i),ke(i)}),te("change",function(){Ne(t);let i=Se();return ke(i.onFilterChange())}),I()()()}if(n&2){let t=Se();k(4),Nt("ngModel",t.customStartDate),k(4),Nt("ngModel",t.customEndDate)}}function K8(n,e){if(n&1&&(w(0,"div",51)(1,"div",52)(2,"span",53),S(3),I(),w(4,"div",54)(5,"div",55),S(6),I(),w(7,"div",56),S(8),I()()(),w(9,"div",57),S(10),Je(11,"number"),I()()),n&2){let t=e.$implicit,r=Se(2);k(2),ir("background-color",(t==null?null:t.color)||"#999"),k(),Me((t==null?null:t.icon)||"\u{1F4CC}"),k(3),Me((t==null?null:t.name)||"Unknown"),k(2),dt(" ",r.getExpensesByCategory((t==null?null:t.id)||"").length," expenses "),k(2),dt(" \u20B9",or(11,6,r.categoryTotals[(t==null?null:t.id)||""]||0)," ")}}function Q8(n,e){if(n&1&&(w(0,"div",49),Pe(1,K8,12,8,"div",50),I()),n&2){let t=Se();k(),ce("ngForOf",t.categories)}}function Y8(n,e){n&1&&(w(0,"div",58)(1,"div",59),S(2,"\u{1F3F7}\uFE0F"),I(),w(3,"h6"),S(4,"No Categories Found"),I(),w(5,"p"),S(6,"Add some categories to start tracking your expenses!"),I()())}function Z8(n,e){if(n&1&&(w(0,"div",62)(1,"div",63)(2,"span",64),S(3),I(),w(4,"div",65)(5,"div",66),S(6),I(),w(7,"div",67),S(8),Je(9,"date"),I()()(),w(10,"div",68),S(11),Je(12,"number"),I()()),n&2){let t=e.$implicit,r=Se(2);k(2),ir("background-color",r.getCategoryColor(t.categoryId)),k(),dt(" ",r.getCategoryIcon(t.categoryId)," "),k(3),Me(t.description||"No description"),k(2),Me(Ht(9,6,t.date,"MMM dd")),k(3),dt("\u20B9",or(12,9,t.amount))}}function J8(n,e){if(n&1&&(w(0,"div",60),Pe(1,Z8,13,11,"div",61),I()),n&2){let t=Se();k(),ce("ngForOf",t.getFilteredExpenses().slice(0,5))}}function X8(n,e){n&1&&(w(0,"div",58)(1,"div",59),S(2,"\u{1F4DD}"),I(),w(3,"h6"),S(4,"No Expenses Found"),I(),w(5,"p"),S(6,"Add some expenses to see them here!"),I()())}var mm=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";customStartDate="";customEndDate="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;previousMonthTotal=0;monthlyChange=0;monthlyChangePercentage=0;weeklyTotal=0;subscription=new Be;ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){this.recentExpenses=[...this.expenses].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5)}calculateMonthlyData(){let e=new Date,t=e.getMonth(),r=e.getFullYear();this.currentMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===t&&a.getFullYear()===r}).reduce((s,a)=>s+a.amount,0);let i=t===0?11:t-1,o=t===0?r-1:r;this.previousMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===i&&a.getFullYear()===o}).reduce((s,a)=>s+a.amount,0),this.monthlyChange=this.currentMonthTotal-this.previousMonthTotal,this.monthlyChangePercentage=this.previousMonthTotal>0?this.monthlyChange/this.previousMonthTotal*100:0}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date,r=new Date;switch(this.selectedPeriod){case"today":r.setHours(0,0,0,0);break;case"week":r.setDate(t.getDate()-7);break;case"month":r.setMonth(t.getMonth()-1);break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(i=>{let o=new Date(i.date),s=new Date(this.customStartDate),a=new Date(this.customEndDate);return o>=s&&o<=a}));break}this.selectedPeriod!=="custom"&&(e=e.filter(i=>new Date(i.date)>=r))}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"today":return"Today";case"week":return"This Week";case"month":return"This Month";case"custom":return"Custom Period";default:return"All Time"}}onFilterChange(){}getExpensesByCategory(e){return this.expenses.filter(t=>t.categoryId===e)}get categoryTotals(){let e={};return this.categories.forEach(t=>{e[t.id]=this.getExpensesByCategory(t.id).reduce((r,i)=>r+i.amount,0)}),e}getMonthlyComparison(){let e=this.previousMonthTotal>0;return{change:this.monthlyChange,percentage:this.monthlyChangePercentage,hasPreviousData:e}}get monthlyTotal(){return this.currentMonthTotal}static \u0275fac=function(t){return new(t||n)(q(Mo),q(Gr))};static \u0275cmp=Rt({type:n,selectors:[["app-dashboard"]],decls:85,vars:29,consts:[[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"summary-cards","mb-4"],[1,"summary-card","total-spent","hover-lift"],[1,"card-icon"],[1,"card-content"],[1,"card-title"],[1,"card-amount"],[1,"card-subtitle"],[1,"summary-card","monthly-spent","hover-lift"],[1,"summary-card","weekly-spent","hover-lift"],["class","monthly-comparison mb-4",4,"ngIf"],[1,"filter-controls","mb-4"],[1,"filter-buttons"],[1,"filter-btn",3,"click"],["class","custom-date-inputs",4,"ngIf"],[1,"dashboard-content"],[1,"content-grid"],[1,"content-card","category-breakdown"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"mb-0"],[1,"filter-info"],[1,"filter-label"],[1,"filter-total"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-expenses"],["class","expenses-list",4,"ngIf"],[1,"monthly-comparison","mb-4"],[1,"comparison-card"],[1,"comparison-header"],[1,"comparison-period"],[1,"comparison-content"],[1,"comparison-stat"],[1,"stat-value"],[1,"stat-label"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"custom-date-inputs"],[1,"date-input-group"],[1,"date-label"],["type","date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"category-list"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-info"],[1,"category-icon"],[1,"category-details"],[1,"category-name"],[1,"category-count"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-info"],[1,"expense-category-icon"],[1,"expense-details"],[1,"expense-description"],[1,"expense-date"],[1,"expense-amount"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),S(6,"\u{1F4CA}"),I()(),w(7,"div")(8,"h1",6),S(9,"Financial Dashboard"),I(),w(10,"p",7),S(11,"Your complete financial overview"),I()()()()(),w(12,"div",8)(13,"div",9)(14,"div",10),S(15,"\u{1F4B8}"),I(),w(16,"div",11)(17,"h3",12),S(18,"Total Spent"),I(),w(19,"div",13),S(20),Je(21,"number"),I(),w(22,"div",14),S(23),I()()(),w(24,"div",15)(25,"div",10),S(26,"\u{1F4C5}"),I(),w(27,"div",11)(28,"h3",12),S(29,"This Month"),I(),w(30,"div",13),S(31),Je(32,"number"),I(),w(33,"div",14),S(34,"Current Month"),I()()(),w(35,"div",16)(36,"div",10),S(37,"\u{1F4CA}"),I(),w(38,"div",11)(39,"h3",12),S(40,"This Week"),I(),w(41,"div",13),S(42),Je(43,"number"),I(),w(44,"div",14),S(45,"Current Week"),I()()()(),Pe(46,G8,24,13,"div",17),w(47,"div",18)(48,"div",19)(49,"button",20),te("click",function(){return r.selectedPeriod="all",r.onFilterChange()}),S(50," All Time "),I(),w(51,"button",20),te("click",function(){return r.selectedPeriod="monthly",r.onFilterChange()}),S(52," Monthly "),I(),w(53,"button",20),te("click",function(){return r.selectedPeriod="yearly",r.onFilterChange()}),S(54," Yearly "),I(),w(55,"button",20),te("click",function(){return r.selectedPeriod="custom",r.onFilterChange()}),S(56," Custom "),I()(),Pe(57,W8,9,2,"div",21),I(),w(58,"div",22)(59,"div",23)(60,"div",24)(61,"div",25)(62,"div",2)(63,"div",3)(64,"span",26),S(65,"\u{1F3F7}\uFE0F"),I(),w(66,"h5",27),S(67,"Category-wise Spending"),I()(),w(68,"div",28)(69,"span",29),S(70),I(),w(71,"span",30),S(72),Je(73,"currency"),I()()()(),Pe(74,Q8,2,1,"div",31)(75,Y8,7,0,"div",32),I(),w(76,"div",33)(77,"div",25)(78,"div",3)(79,"span",26),S(80,"\u{1F4DD}"),I(),w(81,"h5",27),S(82,"Recent Expenses"),I()()(),Pe(83,J8,2,1,"div",34)(84,X8,7,0,"div",32),I()()()()),t&2&&(k(20),dt("\u20B9",or(21,20,r.totalSpent)),k(3),Me(r.getFilterLabel()),k(8),dt("\u20B9",or(32,22,r.monthlyTotal)),k(11),dt("\u20B9",or(43,24,r.weeklyTotal)),k(4),ce("ngIf",r.getMonthlyComparison().hasPreviousData||r.monthlyTotal>0),k(3),$t("active",r.selectedPeriod==="all"),k(2),$t("active",r.selectedPeriod==="monthly"),k(2),$t("active",r.selectedPeriod==="yearly"),k(2),$t("active",r.selectedPeriod==="custom"),k(2),ce("ngIf",r.selectedPeriod==="custom"),k(13),Me(r.getFilterLabel()),k(2),Me(Ht(73,26,r.getFilteredTotal(),"INR")),k(2),ce("ngIf",r.categories.length>0),k(),ce("ngIf",r.categories.length===0),k(8),ce("ngIf",r.getFilteredExpenses().length>0),k(),ce("ngIf",r.getFilteredExpenses().length===0))},dependencies:[Bn,Mr,cr,Wa,co,Ga,ws,cE,ds,us],styles:[".page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:16px;margin-bottom:2rem;box-shadow:0 8px 32px #667eea4d}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#fffc!important;font-size:1.1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:.75rem 1.5rem;border-radius:12px;transition:all .3s ease}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 8px 25px #0003}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9997}.error-message[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33;padding:1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.success-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successPulse .6s ease-out}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f8f9fa;border-radius:16px;border:2px dashed #dee2e6}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.6}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0}.alerts-section[_ngcontent-%COMP%]   .alerts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.alerts-section[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{padding:1rem;border-radius:12px;display:flex;align-items:center;gap:.75rem;font-weight:500}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.alerts-section[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.2rem}.alerts-section[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--card-bg, white)!important;border-radius:16px!important;padding:2rem;box-shadow:0 8px 32px #0000001a!important;display:flex!important;align-items:center;gap:1.5rem;transition:all .3s ease}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000026}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text, #666);margin-bottom:.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text, #333);margin-bottom:.25rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text, #999)}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text, #333);font-weight:600}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{color:var(--text, #666);font-size:.9rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{text-align:center}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#007bff}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}@media (max-width: 768px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}}@media (max-width: 480px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 768px) and (orientation: landscape){.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.4rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.filter-controls[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:1.5rem;box-shadow:0 8px 32px #0000001a;margin-bottom:2rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e9ecef;background:#fff;color:#666;border-radius:8px;font-weight:500;transition:all .3s ease;min-height:44px}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;color:#007bff}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:#007bff;border-color:#007bff;color:#fff}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #e9ecef;border-radius:8px;transition:border-color .3s ease;min-height:44px;font-size:16px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}@media (max-width: 768px){.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px}}@media (max-width: 480px){.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}}.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:600}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0 1rem}.content-card[_ngcontent-%COMP%]{width:100%;max-width:100%}.pattern-item[_ngcontent-%COMP%], .savings-item[_ngcontent-%COMP%], .tip-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-card[_ngcontent-%COMP%]{padding:1.25rem;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center;gap:1.5rem}.card-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-amount[_ngcontent-%COMP%]{font-size:1.5rem}.card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.comparison-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.comparison-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.3rem}.stat-label[_ngcontent-%COMP%]{font-size:.8rem}.filter-section[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.category-breakdown[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.breakdown-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.category-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem;text-align:center}.category-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem;margin:0 auto}.category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.recent-expenses[_ngcontent-%COMP%]{padding:1.25rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.5rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.85rem}.expense-date[_ngcontent-%COMP%]{font-size:.8rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.summary-card[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%], .expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.summary-card[_ngcontent-%COMP%]:active, .category-item[_ngcontent-%COMP%]:active, .expense-item[_ngcontent-%COMP%]:active, .insight-item[_ngcontent-%COMP%]:active, .goal-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-set-budget[_ngcontent-%COMP%]:active, .btn-update-emergency[_ngcontent-%COMP%]:active, .btn-update-vacation[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;overflow-x:hidden}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem;border-radius:12px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.5rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem;min-height:44px}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem;gap:1rem;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.8rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px;min-height:44px}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.3rem}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.content-card[_ngcontent-%COMP%]{padding:1.5rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.8rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-size:1rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:1rem 0}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{gap:.75rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.95rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:1rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:1rem 0}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.75rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.95rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.8rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1.25rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.6rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.9rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.25rem;gap:.75rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.6rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]{padding:1.25rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}}.budget-setup[_ngcontent-%COMP%]{display:flex;gap:1rem}.budget-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.1rem}.budget-status-section[_ngcontent-%COMP%]{margin-bottom:2rem}.budget-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #e0e0e0}.budget-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.budget-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.budget-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.budget-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea}.budget-progress-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.budget-progress-bar[_ngcontent-%COMP%]{width:100%;height:12px;background:#e9ecef;border-radius:6px;overflow:hidden;margin-bottom:1rem}.budget-progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .8s ease}.budget-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.budget-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#ffffffb3;border-radius:8px;border:1px solid #e0e0e0}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#333}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.budget-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.action-icon[_ngcontent-%COMP%]{margin-right:.5rem}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#666;cursor:pointer;padding:.5rem;border-radius:50%;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#333}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8;transform:translateY(-2px);box-shadow:0 5px 15px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}"]})};var e9=n=>({background:n});function t9(n,e){if(n&1&&(w(0,"option",56),S(1),I()),n&2){let t=e.$implicit;ce("value",t.id),k(),Tr(" ",t.icon," ",t.name," ")}}function n9(n,e){if(n&1){let t=tn();w(0,"button",57),te("click",function(){Ne(t);let i=Se();return ke(i.clearCategory())}),S(1," \u2715 "),I()}}function r9(n,e){if(n&1&&(w(0,"option",56),S(1),I()),n&2){let t=e.$implicit;ce("value",t.id),k(),Tr("",t.icon," ",t.name)}}function i9(n,e){if(n&1){let t=tn();w(0,"div",60)(1,"div",61)(2,"div",62),S(3),Je(4,"currency"),I(),w(5,"div",63)(6,"span",64),S(7),I()()(),w(8,"div",65)(9,"div",66),S(10),Je(11,"date"),I(),w(12,"div",67),S(13),I()(),w(14,"div",68)(15,"button",69),te("click",function(){let i=Ne(t).$implicit,o=Se(2);return ke(o.editExpense(i))}),w(16,"span",70),S(17,"\u270F\uFE0F"),I()(),w(18,"button",71),te("click",function(){let i=Ne(t).$implicit,o=Se(2);return ke(o.deleteExpense(i))}),w(19,"span",70),S(20,"\u{1F5D1}\uFE0F"),I()()()()}if(n&2){let t=e.$implicit,r=e.index,i=Se(2);ir("animation-delay",r*.1+"s"),k(3),Me(Ht(4,8,t.amount,"INR")),k(3),ce("ngStyle",Tl(13,e9,i.getCategoryColor(t.categoryId))),k(),Tr(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),k(3),Me(or(11,11,t.date)),k(3),Me(t.description||"No description")}}function o9(n,e){if(n&1&&(w(0,"div",58),Pe(1,i9,21,15,"div",59),I()),n&2){let t=Se();k(),ce("ngForOf",t.getFilteredExpenses())}}function s9(n,e){n&1&&(w(0,"div",72)(1,"div",73),S(2,"\u{1F4CB}"),I(),w(3,"h6"),S(4,"No expenses found"),I(),w(5,"p"),S(6,"Add your first expense using the form above!"),I()())}var ym=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";subscription=new Be;ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{}})}addExpense(){return _(this,null,function*(){if(this.validateExpense())try{let e={description:this.newExpense.description,amount:parseFloat(this.newExpense.amount.toString()),date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},t=yield this.expenseService.add(e);console.log(`Expense added with Firebase ID: ${t}`),yield this.loadData(),this.resetForm(),this.checkAchievements()}catch(e){console.error("Error adding expense:",e)}finally{}})}editExpense(e){return _(this,null,function*(){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=parseFloat(r);if(isNaN(i)||i<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}let o=ue(U({},e),{description:t,amount:i});yield this.expenseService.update(o),yield this.loadData()}catch(t){console.error("Error editing expense:",t)}finally{}})}deleteExpense(e){return _(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`))try{yield this.expenseService.delete(e.id),yield this.loadData()}catch(r){console.error("Error deleting expense:",r)}finally{}})}validateExpense(){return this.newExpense.description?.trim()?!this.newExpense.amount||this.newExpense.amount<=0?(alert("Please enter a valid amount greater than 0."),!1):this.newExpense.categoryId?this.newExpense.date?!0:(alert("Please select a date."),!1):(alert("Please select a category."),!1):(alert("Please enter a description."),!1)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""}}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo=""}clearCategory(){this.newExpense.categoryId=""}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?alert("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?alert("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&alert("Incredible! You've logged 100 expenses. You're a financial tracking master!");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);alert(`${o} mastery achieved! You've logged 10 expenses in this category.`)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&alert(`Daily streak of ${o} days achieved! Keep it up!`)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}static \u0275fac=function(t){return new(t||n)(q(Mo),q(Gr))};static \u0275cmp=Rt({type:n,selectors:[["app-expenses"]],decls:108,vars:20,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"mb-0"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","number","id","expenseAmount","placeholder","0.00","name","amount","step","0.01","min","0","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseCategory",1,"form-label-modern"],[1,"position-relative","category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","btn btn-sm btn-outline-danger position-absolute clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"filters-card","mb-4"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterAmount",1,"form-label-modern"],["type","number","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],[3,"value"],["type","button","title","Clear selection",1,"btn","btn-sm","btn-outline-danger","position-absolute","clear-category-btn",3,"click"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"]],template:function(t,r){if(t&1){let i=tn();w(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),S(5,"\u{1F4B8}"),I()(),w(6,"div")(7,"h1",7),S(8,"Expenses"),I(),w(9,"p",8),S(10,"Track and manage your daily expenses"),I()()()(),w(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),S(15,"\u2795"),I(),w(16,"h5",12),S(17,"Add New Expense"),I()()(),w(18,"div",13)(19,"form",14,0),te("ngSubmit",function(){return Ne(i),ke(r.addExpense())}),w(21,"div",15)(22,"div",16)(23,"label",17),S(24,"Amount"),I(),w(25,"div",18)(26,"span",19),S(27,"\u20B9"),I(),w(28,"input",20),kt("ngModelChange",function(s){return Ne(i),zt(r.newExpense.amount,s)||(r.newExpense.amount=s),ke(s)}),I()()(),w(29,"div",16)(30,"label",21),S(31,"Date"),I(),w(32,"input",22),kt("ngModelChange",function(s){return Ne(i),zt(r.newExpense.date,s)||(r.newExpense.date=s),ke(s)}),I()(),w(33,"div",16)(34,"label",23),S(35,"Category"),I(),w(36,"div",24)(37,"select",25),kt("ngModelChange",function(s){return Ne(i),zt(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),ke(s)}),w(38,"option",26),S(39,"\u{1F3F7}\uFE0F Select a category"),I(),Pe(40,t9,2,3,"option",27),I(),Pe(41,n9,2,0,"button",28),I()(),w(42,"div",16)(43,"label",29),S(44,"Description"),I(),w(45,"input",30),kt("ngModelChange",function(s){return Ne(i),zt(r.newExpense.description,s)||(r.newExpense.description=s),ke(s)}),I()(),w(46,"div",31)(47,"label",32),S(48,"\xA0"),I(),w(49,"button",33)(50,"span",34),S(51,"\u2795"),I(),w(52,"span",35),S(53,"Add Expense"),I()()()()()()(),w(54,"div",36)(55,"div",10)(56,"div",4)(57,"span",11),S(58,"\u{1F50D}"),I(),w(59,"h5",12),S(60,"Filters"),I()()(),w(61,"div",13)(62,"div",37)(63,"div",38)(64,"label",39),S(65,"Category"),I(),w(66,"select",40),kt("ngModelChange",function(s){return Ne(i),zt(r.filterCategory,s)||(r.filterCategory=s),ke(s)}),w(67,"option",41),S(68,"\u{1F3F7}\uFE0F All Categories"),I(),Pe(69,r9,2,3,"option",27),I()(),w(70,"div",38)(71,"label",42),S(72,"From Date"),I(),w(73,"input",43),kt("ngModelChange",function(s){return Ne(i),zt(r.filterDateFrom,s)||(r.filterDateFrom=s),ke(s)}),I()(),w(74,"div",38)(75,"label",44),S(76,"To Date"),I(),w(77,"input",45),kt("ngModelChange",function(s){return Ne(i),zt(r.filterDateTo,s)||(r.filterDateTo=s),ke(s)}),I()(),w(78,"div",38)(79,"label",46),S(80,"Min Amount"),I(),w(81,"input",47),kt("ngModelChange",function(s){return Ne(i),zt(r.filterAmount,s)||(r.filterAmount=s),ke(s)}),I()(),w(82,"div",48)(83,"label",32),S(84,"\xA0"),I(),w(85,"button",49),te("click",function(){return Ne(i),ke(r.clearFilters())}),w(86,"span",34),S(87,"\u{1F504}"),I(),w(88,"span",35),S(89,"Clear Filters"),I()()()()()(),w(90,"div",50)(91,"div",10)(92,"div",51)(93,"div",4)(94,"span",11),S(95,"\u{1F4CB}"),I(),w(96,"h5",12),S(97,"All Expenses"),I()(),w(98,"div",52)(99,"div",53),S(100),Je(101,"currency"),I(),w(102,"div",54),S(103),I()()()(),w(104,"div",13),Pe(105,o9,2,1,"div",55)(106,s9,7,0,"ng-template",null,1,Lv),I()()()}if(t&2){let i=yf(20),o=yf(107);k(28),Nt("ngModel",r.newExpense.amount),k(4),Nt("ngModel",r.newExpense.date),k(5),Nt("ngModel",r.newExpense.categoryId),k(),ce("selected",!r.newExpense.categoryId),k(2),ce("ngForOf",r.categories),k(),ce("ngIf",r.newExpense.categoryId),k(4),Nt("ngModel",r.newExpense.description),k(4),ce("disabled",!i.form.valid),k(17),Nt("ngModel",r.filterCategory),k(3),ce("ngForOf",r.categories),k(4),Nt("ngModel",r.filterDateFrom),k(4),Nt("ngModel",r.filterDateTo),k(4),Nt("ngModel",r.filterAmount),k(19),Me(Ht(101,17,r.getTotalAmount(),"INR")),k(3),dt("",r.getFilteredExpenses().length," expenses"),k(2),ce("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",o)}},dependencies:[Bn,Mr,cr,Rl,Wa,Vp,oO,aO,co,Dw,jp,Ga,Fp,Cu,Tw,ws,wu,ds,us],styles:['.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.3;margin-top:.25rem;text-align:center;width:100%}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:40px;top:50%;transform:translateY(-50%);z-index:10;width:20px;height:20px;padding:0;display:flex;align-items:center;justify-content:center;font-size:10px;background:#fffffff2;border-radius:50%;border:1px solid #dc3545;color:#dc3545;transition:all .2s ease;box-shadow:0 1px 3px #0000001a}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:translateY(-50%) scale(1.1)}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:70px;max-height:200px;overflow-y:auto}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:55px;width:55px;font-size:1.2rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})};var a9=n=>({background:n});function c9(n,e){n&1&&(w(0,"div",35)(1,"span",36),S(2,"\u26A0\uFE0F"),I(),S(3," Category name already exists! "),I())}function l9(n,e){if(n&1){let t=tn();w(0,"div",37)(1,"p",38),S(2,"No categories found. Would you like to initialize default categories?"),I(),w(3,"button",39),te("click",function(){Ne(t);let i=Se();return ke(i.initializeDefaultCategories())}),w(4,"span",40),S(5,"\u{1F4C2}"),I(),S(6," Initialize Default Categories "),I()()}}function u9(n,e){if(n&1){let t=tn();w(0,"div",43)(1,"div",44)(2,"div",45),eo(3,"div",46),w(4,"div",47),S(5),I(),w(6,"div",48),S(7),I()(),w(8,"div",49)(9,"button",50),te("click",function(){let i=Ne(t).$implicit,o=Se(2);return ke(o.updateCategory(i))}),w(10,"span",51),S(11,"\u270F\uFE0F"),I(),w(12,"span",52),S(13,"Edit"),I()(),w(14,"button",53),te("click",function(){let i=Ne(t).$implicit,o=Se(2);return ke(o.confirmDelete(i))}),w(15,"span",54),S(16,"\u{1F5D1}\uFE0F"),I(),w(17,"span",55),S(18,"Delete"),I()()()()()}if(n&2){let t=e.$implicit;k(3),ce("ngStyle",Tl(3,a9,t.color)),k(2),Me(t.icon),k(2),Me(t.name)}}function d9(n,e){if(n&1&&(w(0,"div",41),Pe(1,u9,19,5,"div",42),I()),n&2){let t=Se();k(),ce("ngForOf",t.categories)}}function h9(n,e){n&1&&(w(0,"div",56)(1,"div",57),S(2,"\u{1F4C2}"),I(),w(3,"h6",58),S(4,"No Categories Yet"),I(),w(5,"p",59),S(6,"Start by adding your first expense category above."),I()())}var _m=class n{constructor(e){this.categoryService=e}categories=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";sortBy="name";sortOrder="asc";isDuplicateCategory=!1;subscription=new Be;ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{this.categories=yield this.categoryService.getAll()}catch{}finally{}})}initializeDefaultCategories(){return _(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData()}catch{}finally{}})}addCategory(){return _(this,null,function*(){if(this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),yield this.loadData(),this.resetForm()}catch{}finally{}})}updateCategory(e){return _(this,null,function*(){try{console.log(`Updating category: ${e.name} (ID: ${e.id}, length: ${e.id.length})`);let t=window.prompt("Category name:",e.name)||e.name,r=window.prompt("Category color (hex):",e.color)||e.color;if(!t.trim())return;let i=ue(U({},e),{name:t.trim(),color:r});console.log(`Sending update to Firebase for category ID: ${i.id}`),yield this.categoryService.update(i),console.log("Category updated successfully"),yield this.loadData()}catch(t){console.error("Error updating category:",t)}finally{}})}deleteCategory(e){return _(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"? This will also delete all associated expenses.`))try{console.log(`Deleting category: ${e.name} (ID: ${e.id})`),yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),yield this.loadData()}catch(r){console.error("Error deleting category:",r)}finally{}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){if(!this.newCategory.name?.trim())return!1;let e=this.categories.find(t=>t.name.toLowerCase()===this.newCategory.name.toLowerCase());return this.isDuplicateCategory=!!e,!this.isDuplicateCategory}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];return this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":i=this.getCategoryUsage(t.id),o=this.getCategoryUsage(r.id);break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryUsage(e){return Math.floor(Math.random()*100)}clearSearch(){this.searchTerm=""}generateId(){return Math.random().toString(36).substr(2,9)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#ff8e53","#2ecc71","#e74c3c","#f39c12","#9b59b6","#34495e","#1abc9c","#e67e22","#3498db","#8e44ad","#16a085"]}getIconPresets(){return["\u{1F37D}\uFE0F","\u{1F697}","\u{1F6CD}\uFE0F","\u{1F3AC}","\u{1F4A1}","\u{1F3E5}","\u{1F4DA}","\u{1F3E0}","\u{1F6E1}\uFE0F","\u{1F4B0}","\u{1F355}","\u2615","\u{1F3B5}","\u{1F3AE}","\u{1F3C3}","\u{1F9D8}","\u{1F4F1}","\u{1F4BB}","\u{1F4F7}","\u{1F3A8}","\u{1F331}","\u{1F415}","\u{1F431}","\u{1F99C}","\u{1F420}","\u{1F33A}","\u{1F332}","\u{1F30A}","\u26F0\uFE0F","\u{1F3D6}\uFE0F"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets(),t=Math.floor(Math.random()*e.length);this.newCategory.color=e[t]}getCategoryCount(){return this.getFilteredCategories().length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)>r?t:e})}getLeastUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)<r?t:e})}static \u0275fac=function(t){return new(t||n)(q(Gr))};static \u0275cmp=Rt({type:n,selectors:[["app-categories"]],decls:52,vars:11,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"random-icon"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"error-message"],[1,"error-icon"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),S(4,"\u{1F4C2}"),I(),w(5,"div",4)(6,"h1",5),S(7,"Categories"),I(),w(8,"p",6),S(9,"Manage your expense categories and organize your spending"),I()()()(),w(10,"div",7)(11,"div",8)(12,"div",2)(13,"span",3),S(14,"\u2795"),I(),w(15,"h3",9),S(16,"Add New Category"),I()()(),w(17,"div",10)(18,"form",11),te("ngSubmit",function(){return r.addCategory()}),w(19,"div",12)(20,"div",13)(21,"label",14),S(22,"Category Name"),I(),w(23,"input",15),kt("ngModelChange",function(o){return zt(r.newCategory.name,o)||(r.newCategory.name=o),o}),te("input",function(){return r.clearValidationErrors()}),I(),Pe(24,c9,4,0,"div",16),I(),w(25,"div",13)(26,"label",17),S(27,"Color"),I(),w(28,"div",18)(29,"input",19),kt("ngModelChange",function(o){return zt(r.newCategory.color,o)||(r.newCategory.color=o),o}),I(),w(30,"button",20),te("click",function(){return r.setRandomColor()}),w(31,"span",21),S(32,"\u{1F3B2}"),I(),S(33," Random "),I()()()(),w(34,"div",22)(35,"button",23)(36,"span",24),S(37,"\u2795"),I(),w(38,"span",25),S(39,"Add Category"),I()()()()()(),w(40,"div",26)(41,"div",27)(42,"div",28)(43,"span",29),S(44,"\u{1F4C2}"),I(),w(45,"h3",30),S(46,"Your Categories"),I()(),w(47,"div",31),S(48),I()(),Pe(49,l9,7,0,"div",32)(50,d9,2,1,"div",33)(51,h9,7,0,"div",34),I()()),t&2&&(k(23),$t("error",r.isDuplicateCategory),Nt("ngModel",r.newCategory.name),k(),ce("ngIf",r.isDuplicateCategory),k(5),Nt("ngModel",r.newCategory.color),k(6),ce("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),k(13),Tr("",r.categories.length," ",r.categories.length===1?"Category":"Categories"),k(),ce("ngIf",r.categories.length===0),k(),ce("ngIf",r.categories.length>0),k(),ce("ngIf",r.categories.length===0))},dependencies:[Bn,Mr,cr,Rl,Wa,Vp,co,Ga,Fp,Cu,ws,wu],styles:['.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.add-category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:200px}.form-group[_ngcontent-%COMP%]:first-child{flex:2;min-width:300px}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem;display:block}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:12px;padding:.875rem 1rem;font-size:1rem;transition:all .3s ease;background:#f8f9fa;width:100%;height:50px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;background:#fff;transform:translateY(-2px)}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354526}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem;background:#dc35451a;border-radius:8px;border-left:3px solid #dc3545}.error-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1rem}.color-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;height:50px}.color-input[_ngcontent-%COMP%]{width:60px;height:50px;border:none;border-radius:12px;cursor:pointer;transition:transform .3s ease;flex-shrink:0}.color-input[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-random-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:.75rem 1.5rem;display:flex;align-items:center;gap:.5rem;font-weight:600;transition:all .3s ease;cursor:pointer;height:50px}.btn-random-color[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.random-icon[_ngcontent-%COMP%]{font-size:1.1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;border:none;border-radius:15px;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #fa709a4d;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 25px #fa709a66}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;justify-content:space-between}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.3rem;background:#fff3;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0}.category-count[_ngcontent-%COMP%]{background:#fff3;padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;padding:2rem}.category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .6s ease-out}.category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#fa709a,#fee140);transform:scaleX(0);transition:transform .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 10px 30px #0000001f}.category-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.category-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-color-indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;flex-shrink:0;box-shadow:0 2px 8px #0000001a}.category-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:1rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;flex-grow:1}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;border:none;border-radius:10px;padding:.75rem 1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.9rem;min-width:100px}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #ff6b6b66}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-size:.85rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-description[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]:first-child, .color-group[_ngcontent-%COMP%]{flex:none;min-width:auto}.button-container[_ngcontent-%COMP%]{margin-top:0}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px}.color-input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.color-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1rem}.color-controls[_ngcontent-%COMP%], .color-input-group[_ngcontent-%COMP%]{justify-content:space-between;gap:1rem}.form-control-color-modern[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;height:60px;border-radius:15px;flex:1;justify-content:center}.form-control-modern[_ngcontent-%COMP%]{height:60px;font-size:1.1rem;padding:1rem 1.25rem}.form-label-modern[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.5rem}.category-card[_ngcontent-%COMP%]{padding:1.25rem}.category-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}.category-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{width:100%}.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}}.category-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.category-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.category-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.category-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.category-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.category-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.category-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.form-control[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem;width:100%;margin-bottom:0}.color-group[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;width:100%}.color-input[_ngcontent-%COMP%]{width:100%;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem;padding:.75rem 1rem;border-radius:15px;justify-content:center;margin:0}.button-container[_ngcontent-%COMP%]{margin-top:2.5rem;width:100%;display:flex;justify-content:center}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px;margin:0}.section-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.3rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.category-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.category-color-indicator[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem}.category-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.category-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.category-count[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-category[_ngcontent-%COMP%], .btn-random-color[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem}.category-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.category-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-category[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.section-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.categories-grid[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%]{padding:.75rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 768px){.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;display:block}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem;border-radius:8px}.form-group[_ngcontent-%COMP%] + .form-group[_ngcontent-%COMP%]{margin-top:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}}']})};function f9(n,e){if(n&1&&(w(0,"div",19),S(1),Je(2,"currency"),I()),n&2){let t=Se(2);$t("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),k(),dt(" ",Ht(2,5,t.getMonthlyComparison().change,"INR")," ")}}function p9(n,e){n&1&&(w(0,"div",23),S(1," First Month "),I())}function g9(n,e){if(n&1&&(w(0,"div",13)(1,"div",14)(2,"div",15)(3,"h3"),S(4,"Current Month Overview"),I(),w(5,"span",16),S(6),I()(),w(7,"div",17)(8,"div",18)(9,"div",19),S(10),Je(11,"currency"),I(),w(12,"div",20),S(13,"Total Spent"),I()(),w(14,"div",18)(15,"div",19),S(16),I(),w(17,"div",20),S(18,"Expenses"),I()(),w(19,"div",18),Pe(20,f9,3,8,"div",21)(21,p9,2,0,"div",22),w(22,"div",20),S(23,"vs Last Month"),I()()()()()),n&2){let t,r,i,o,s=Se();k(6),Me((t=s.getCurrentMonthReport())==null?null:t.monthName),k(4),Me(Ht(11,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),k(6),Me((i=s.getCurrentMonthReport())==null?null:i.expenseCount),k(4),ce("ngIf",s.getMonthlyComparison().hasPreviousData),k(),ce("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function m9(n,e){if(n&1&&(w(0,"div",35)(1,"span",36),S(2),I(),w(3,"span",37),S(4),I(),w(5,"span",38),S(6),Je(7,"currency"),I()()),n&2){let t=e.$implicit;k(),ir("background-color",t.category.color),k(),Me(t.category.icon),k(2),Me(t.category.name),k(2),Me(Ht(7,5,t.amount,"INR"))}}function y9(n,e){if(n&1){let t=tn();w(0,"div",26),te("click",function(){let i=Ne(t).$implicit,o=Se(2);return ke(o.selectMonth(i.monthKey))}),w(1,"div",27)(2,"h4",28),S(3),I(),w(4,"div",29),S(5,"\u2192"),I()(),w(6,"div",30)(7,"div",31),S(8),Je(9,"currency"),I(),w(10,"div",32),S(11),I()(),w(12,"div",33),Pe(13,m9,8,8,"div",34),I()()}if(n&2){let t=e.$implicit;k(3),Me(t.monthName),k(5),Me(Ht(9,4,t.totalAmount,"INR")),k(3),dt("",t.expenseCount," expenses"),k(2),ce("ngForOf",t.categoryBreakdown.slice(0,3))}}function _9(n,e){if(n&1&&(w(0,"div",24),Pe(1,y9,14,7,"div",25),I()),n&2){let t=Se();k(),ce("ngForOf",t.monthlyReports)}}function v9(n,e){n&1&&(w(0,"div",39)(1,"div",40),S(2,"\u{1F4CA}"),I(),w(3,"h6"),S(4,"No Reports Available"),I(),w(5,"p"),S(6,"Add some expenses to see your monthly reports!"),I()())}function E9(n,e){if(n&1&&(w(0,"div",51)(1,"div",52)(2,"span",36),S(3),I(),w(4,"div",53)(5,"div",37),S(6),I(),w(7,"div",54),S(8),I()()(),w(9,"div",38),S(10),Je(11,"currency"),I()()),n&2){let t=e.$implicit;k(2),ir("background-color",t.category.color),k(),Me(t.category.icon),k(3),Me(t.category.name),k(2),dt("",t.count," expenses"),k(2),Me(Ht(11,6,t.amount,"INR"))}}function w9(n,e){if(n&1&&(w(0,"div",55)(1,"div",56)(2,"div",57),S(3),Je(4,"currency"),I(),w(5,"div",58)(6,"span",59),S(7),I()()(),w(8,"div",60)(9,"div",61),S(10),Je(11,"date"),I(),w(12,"div",62),S(13),I()()()),n&2){let t=e.$implicit,r=Se(2);k(3),Me(Ht(4,7,t.amount,"INR")),k(3),ir("background-color",r.getCategoryColor(t.categoryId)),k(),Tr(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),k(3),Me(or(11,10,t.date)),k(3),Me(t.description||"No description")}}function C9(n,e){if(n&1){let t=tn();w(0,"div",41)(1,"div",42)(2,"button",43),te("click",function(){Ne(t);let i=Se();return ke(i.showDetailedView=!1)}),S(3,"\u2190 Back to Overview"),I(),w(4,"h3"),S(5),I()(),w(6,"div",44)(7,"div",45)(8,"h4"),S(9,"Category Breakdown"),I(),w(10,"div",46),Pe(11,E9,12,9,"div",47),I()(),w(12,"div",48)(13,"h4"),S(14,"All Expenses"),I(),w(15,"div",49),Pe(16,w9,14,12,"div",50),I()()()()}if(n&2){let t,r,i,o=Se();k(5),dt("",(t=o.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),k(6),ce("ngForOf",(r=o.getSelectedMonthReport())==null?null:r.categoryBreakdown),k(5),ce("ngForOf",(i=o.getSelectedMonthReport())==null?null:i.expenses)}}var vm=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;ngOnInit(){this.loadData()}loadData(){return _(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports()}catch(e){console.error("Error loading reports:",e)}finally{}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r})})}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0,o=i?r/t.totalAmount*100:0;return{change:r,percentage:o,hasPreviousData:i}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}static \u0275fac=function(t){return new(t||n)(q(Mo),q(Gr))};static \u0275cmp=Rt({type:n,selectors:[["app-monthly-reports"]],decls:20,vars:4,consts:[[1,"monthly-reports-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","overview-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],["class","reports-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-name"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"detailed-content"],[1,"breakdown-section"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"expense-item"],[1,"expense-info"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),S(4,"\u{1F4CA}"),I(),w(5,"div",4)(6,"h1",5),S(7,"Monthly Reports"),I(),w(8,"p",6),S(9,"Track your spending patterns and get insights"),I()()()(),Pe(10,g9,24,8,"div",7),w(11,"div",8)(12,"div",9)(13,"h3"),S(14,"Monthly Breakdown"),I(),w(15,"p"),S(16,"Click on any month to view detailed breakdown"),I()(),Pe(17,_9,2,1,"div",10)(18,v9,7,0,"div",11),I(),Pe(19,C9,17,3,"div",12),I()),t&2&&(k(10),ce("ngIf",r.getCurrentMonthReport()),k(7),ce("ngIf",r.monthlyReports.length>0),k(),ce("ngIf",r.monthlyReports.length===0),k(),ce("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[Bn,Mr,cr,ds,us],styles:['.monthly-reports-page[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #667eea26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.overview-section[_ngcontent-%COMP%]{margin-bottom:2rem}.overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3}.overview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.month-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background:#fff;border-radius:15px;box-shadow:0 5px 15px #00000014;border:1px solid #f0f0f0}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.stat-value.new-month[_ngcontent-%COMP%]{color:#17a2b8;font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.reports-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#333;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.report-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.report-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#667eea,#764ba2);transform:scaleX(0);transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001f}.report-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.month-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin:0}.report-arrow[_ngcontent-%COMP%]{font-size:1.5rem;color:#667eea;transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.report-amount[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:.25rem}.report-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:8px}.category-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.category-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;color:#333;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:600}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.detailed-view[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden;margin-top:2rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;gap:1rem}.back-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:background-color .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.detailed-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.detailed-content[_ngcontent-%COMP%]{padding:2rem}.breakdown-section[_ngcontent-%COMP%]{margin-bottom:2rem}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.expenses-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.expense-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.category-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:15px;color:#fff;font-size:.8rem;font-weight:500;display:inline-flex;align-items:center;gap:.25rem}.expense-details[_ngcontent-%COMP%]{text-align:right}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-bottom:.25rem}.expense-description[_ngcontent-%COMP%]{font-size:.85rem;color:#999}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:1rem}.overview-stats[_ngcontent-%COMP%], .reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.detailed-content[_ngcontent-%COMP%]{padding:1rem}}']})};var uk=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:mm},{path:"expenses",component:ym},{path:"categories",component:_m},{path:"reports",component:vm}];var dk={providers:[p_(),Uv({eventCoalescing:!0}),BE(uk),FA()]};var Dc=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Em=class n{constructor(e){this.scrollService=e}sidebarToggle=new Ge;toggleSidebar(){console.log("Navbar toggleSidebar called"),this.sidebarToggle.emit()}onNavClick(){this.scrollService.scrollToTop()}static \u0275fac=function(t){return new(t||n)(q(Dc))};static \u0275cmp=Rt({type:n,selectors:[["app-navbar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:36,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-modern"],[1,"container-fluid","px-4"],["routerLink","/dashboard",1,"navbar-brand-modern",3,"click"],[1,"brand-icon"],[1,"brand-text"],["type","button","aria-label","Toggle sidebar",1,"navbar-toggler-modern","d-lg-none",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link-modern",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link-modern",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link-modern",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link-modern",3,"click"]],template:function(t,r){t&1&&(w(0,"nav",0)(1,"div",1)(2,"a",2),te("click",function(){return r.onNavClick()}),w(3,"span",3),S(4,"\u{1F4B0}"),I(),w(5,"span",4),S(6,"Expense Tracker"),I()(),w(7,"button",5),te("click",function(){return r.toggleSidebar()}),w(8,"span",6),S(9,"\u2630"),I()(),w(10,"div",7)(11,"ul",8)(12,"li",9)(13,"a",10),te("click",function(){return r.onNavClick()}),w(14,"span",11),S(15,"\u{1F4CA}"),I(),w(16,"span",12),S(17,"Dashboard"),I()()(),w(18,"li",9)(19,"a",13),te("click",function(){return r.onNavClick()}),w(20,"span",11),S(21,"\u{1F4B8}"),I(),w(22,"span",12),S(23,"Expenses"),I()()(),w(24,"li",9)(25,"a",14),te("click",function(){return r.onNavClick()}),w(26,"span",11),S(27,"\u{1F3F7}\uFE0F"),I(),w(28,"span",12),S(29,"Categories"),I()()(),w(30,"li",9)(31,"a",15),te("click",function(){return r.onNavClick()}),w(32,"span",11),S(33,"\u{1F4CA}"),I(),w(34,"span",12),S(35,"Reports"),I()()()()()()())},dependencies:[oo,ou],styles:[`.navbar-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 4px 20px #ff6b354d;padding:1rem 0;position:relative;width:100%;margin:0;animation:slideInUp .6s ease-out;z-index:1;overflow:hidden;pointer-events:auto}.navbar-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 3s infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.navbar-brand-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#fff;text-decoration:none;font-size:1.5rem;font-weight:700;transition:all .3s ease;position:relative;z-index:2;pointer-events:auto;cursor:pointer}.navbar-brand-modern[_ngcontent-%COMP%]:hover{color:#fff;transform:translateY(-2px);text-decoration:none}.brand-icon[_ngcontent-%COMP%]{font-size:2rem;background:#fff3;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.navbar-brand-modern[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1)}.brand-text[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.navbar-toggler-modern[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.3);border-radius:8px;padding:.5rem;transition:all .3s ease;position:relative;z-index:2;pointer-events:auto;cursor:pointer;min-height:44px;min-width:44px}.navbar-toggler-modern[_ngcontent-%COMP%]:hover{border-color:#fff9;background:#ffffff1a}.navbar-toggler-modern[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ffffff40}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.nav-link-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fffc!important;text-decoration:none;padding:.75rem 1rem;border-radius:12px;transition:all .3s ease;position:relative;z-index:2;font-weight:500;pointer-events:auto;cursor:pointer;min-height:44px}.nav-link-modern[_ngcontent-%COMP%]:hover{color:#fff!important;background:#ffffff1a;transform:translateY(-2px);text-decoration:none}.nav-link-modern.active[_ngcontent-%COMP%]{color:#fff!important;background:linear-gradient(135deg,#ffffff40,#ffffff26);font-weight:600;border:2px solid rgba(255,255,255,.4);box-shadow:0 4px 15px #fff3;transform:translateY(-1px)}.nav-icon[_ngcontent-%COMP%]{font-size:1.2rem;background:#ffffff1a;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.nav-link-modern[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%], .nav-link-modern.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#fff3;transform:scale(1.1)}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff4d,#fff3);transform:scale(1.15);box-shadow:0 2px 8px #ffffff4d}.nav-text[_ngcontent-%COMP%]{font-weight:500}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}.navbar-nav[_ngcontent-%COMP%]{gap:.5rem;padding-right:1.5rem;pointer-events:auto;position:relative;z-index:2}@media (max-width: 991.98px){.navbar-modern[_ngcontent-%COMP%]{padding:.75rem 0;height:80px;min-height:80px;max-height:80px}.navbar-brand-modern[_ngcontent-%COMP%]{font-size:1.25rem;pointer-events:auto;cursor:pointer}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.nav-link-modern[_ngcontent-%COMP%]{padding:1rem;margin:.25rem 0;pointer-events:auto;cursor:pointer;min-height:44px}.nav-link-modern.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff40,#ffffff26);border:2px solid rgba(255,255,255,.4);box-shadow:0 4px 15px #fff3;transform:translateY(-1px)}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff4d,#fff3);transform:scale(1.15);box-shadow:0 2px 8px #ffffff4d}.nav-link-modern.active[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.1)}.navbar-collapse[_ngcontent-%COMP%], .navbar-nav[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]{pointer-events:auto;position:relative;z-index:2}.navbar-toggler-modern[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer;position:relative;z-index:2;min-height:44px;min-width:44px}}`]})};var wm=class n{constructor(e){this.scrollService=e;console.log("Sidebar component initialized")}close=new Ge;onNavClick(){console.log("Sidebar nav click"),this.close.emit(),this.scrollService.scrollToTop()}static \u0275fac=function(t){return new(t||n)(q(Dc))};static \u0275cmp=Rt({type:n,selectors:[["app-sidebar"]],outputs:{close:"close"},decls:33,vars:0,consts:[[1,"sidebar-overlay",3,"click"],[1,"sidebar-modern",3,"click"],[1,"sidebar-header-modern"],[1,"sidebar-brand"],[1,"brand-icon"],[1,"brand-text"],[1,"sidebar-nav"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"],["routerLink","/categories","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"],["routerLink","/reports","routerLinkActive","router-link-active",1,"nav-link-modern",3,"click"]],template:function(t,r){t&1&&(w(0,"div",0),te("click",function(){return r.close.emit()}),w(1,"div",1),te("click",function(o){return o.stopPropagation()}),w(2,"div",2)(3,"div",3)(4,"span",4),S(5,"\u{1F4B0}"),I(),w(6,"span",5),S(7,"Expense Tracker"),I()()(),w(8,"ul",6)(9,"li",7)(10,"a",8),te("click",function(){return r.onNavClick()}),w(11,"span",9),S(12,"\u{1F4CA}"),I(),w(13,"span",10),S(14,"Dashboard"),I()()(),w(15,"li",7)(16,"a",11),te("click",function(){return r.onNavClick()}),w(17,"span",9),S(18,"\u{1F4B8}"),I(),w(19,"span",10),S(20,"Expenses"),I()()(),w(21,"li",7)(22,"a",12),te("click",function(){return r.onNavClick()}),w(23,"span",9),S(24,"\u{1F3F7}\uFE0F"),I(),w(25,"span",10),S(26,"Categories"),I()()(),w(27,"li",7)(28,"a",13),te("click",function(){return r.onNavClick()}),w(29,"span",9),S(30,"\u{1F4CA}"),I(),w(31,"span",10),S(32,"Reports"),I()()()()()())},dependencies:[oo,ou],styles:['.sidebar-overlay[_ngcontent-%COMP%], .sidebar-modern[_ngcontent-%COMP%]{z-index:999999!important}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0009;z-index:999999!important;display:flex;justify-content:flex-start;align-items:stretch;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);overflow:hidden;touch-action:none}.sidebar-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);color:#fff;height:100vh;width:65vw;max-width:400px;min-width:280px;display:flex;flex-direction:column;box-shadow:4px 0 20px #00000026,0 0 30px #ff8c424d;overflow:hidden;position:relative;transform:translate(-100%);animation:_ngcontent-%COMP%_slideIn .3s ease-out forwards;border-top-right-radius:25px;border-bottom-right-radius:25px;z-index:1000000!important}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}.sidebar-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 4s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1.5rem 1rem 1rem;border-bottom:1px solid rgba(255,255,255,.2);display:flex;align-items:center;justify-content:center;position:relative;z-index:1;border-top-right-radius:25px}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem;background:#fff3;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.sidebar-brand[_ngcontent-%COMP%]:hover   .brand-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.1);box-shadow:0 4px 15px #fff3}.brand-text[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#fff;letter-spacing:.5px;text-shadow:0 2px 4px rgba(0,0,0,.1)}.sidebar-nav[_ngcontent-%COMP%]{list-style:none;padding:1rem .5rem;margin:0;flex-grow:1;position:relative;z-index:1;display:flex;flex-direction:column;align-items:center}.nav-item[_ngcontent-%COMP%]{margin:.25rem 0;width:90%;max-width:280px}.nav-link-modern[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;color:#ffffffe6;text-decoration:none;padding:.75rem 1rem;border-radius:12px;transition:all .3s ease;font-weight:500;position:relative;overflow:hidden;margin:.25rem 0}.nav-link-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s ease}.nav-link-modern[_ngcontent-%COMP%]:hover:before{left:100%}.nav-link-modern[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a;transform:translate(5px);text-decoration:none}.nav-link-modern.router-link-active[_ngcontent-%COMP%]{color:#fff;background:#fff3;font-weight:600;border:none;box-shadow:0 4px 15px #fff3;transform:translate(5px);margin-left:-10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;background:#ffffff1a;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.nav-link-modern[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%], .nav-link-modern.router-link-active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#fff3;transform:scale(1.1)}.nav-link-modern.router-link-active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#ffffff4d;transform:scale(1.15);box-shadow:0 2px 8px #ffffff4d}.nav-text[_ngcontent-%COMP%]{font-weight:500;flex-grow:1;color:inherit;text-shadow:0 1px 2px rgba(0,0,0,.1)}.nav-link-modern.router-link-active[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-weight:700;color:#fff}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-top:1px solid rgba(255,255,255,.2);display:flex;justify-content:center;align-items:center;position:relative;z-index:1}.theme-toggle-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1rem;border-radius:12px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);min-height:44px;min-width:44px}.theme-toggle-btn[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff4d;transform:translateY(-2px);box-shadow:0 4px 12px #fff3}.theme-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.theme-toggle-btn[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.theme-toggle-btn[_ngcontent-%COMP%]:hover   .theme-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.theme-toggle-btn[_ngcontent-%COMP%]   .theme-text[_ngcontent-%COMP%]{font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.1)}@media (max-width: 768px){.sidebar-modern[_ngcontent-%COMP%]{width:65vw;max-width:none}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1.5rem 1rem 1rem}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.nav-link-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.nav-icon[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.4rem}}@media (max-width: 768px){.sidebar-modern[_ngcontent-%COMP%]{width:85vw;max-width:350px;min-width:280px;position:fixed;left:0;top:0;height:100vh;z-index:1000000!important;overflow-x:hidden;overflow-y:auto}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden;z-index:999999!important}body.sidebar-open[_ngcontent-%COMP%]{overflow:hidden;position:fixed;width:100%}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1rem 1rem}.brand-icon[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar-nav-modern[_ngcontent-%COMP%]{padding:1rem .75rem;overflow-x:hidden}.nav-item[_ngcontent-%COMP%]{margin:.5rem 0;width:100%;max-width:none}.nav-link-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem;border-radius:12px;margin:.25rem 0;min-height:50px;display:flex;align-items:center;gap:.75rem;width:100%;max-width:none}.nav-link-modern.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;box-shadow:0 4px 12px #9b6b9b4d}.nav-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.nav-text[_ngcontent-%COMP%]{font-weight:500}.nav-link-modern[_ngcontent-%COMP%]:active{transform:scale(.95)}.sidebar-content[_ngcontent-%COMP%]{padding:.75rem;overflow-x:hidden}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem .75rem;overflow-x:hidden}.theme-toggle-btn[_ngcontent-%COMP%]{min-height:50px;min-width:50px;font-size:1.2rem;border-radius:12px;width:100%;max-width:none}.nav-link-modern[_ngcontent-%COMP%], .theme-toggle-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px}}@media (max-width: 768px){.sidebar-modern[_ngcontent-%COMP%], .sidebar-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh;overflow-y:auto;overflow-x:hidden}.sidebar-nav-modern[_ngcontent-%COMP%]{height:calc(100dvh - 120px);min-height:calc(100dvh - 120px);max-height:calc(100dvh - 120px);overflow-y:auto;overflow-x:hidden}.sidebar-header-modern[_ngcontent-%COMP%], .sidebar-footer[_ngcontent-%COMP%]{height:80px;min-height:80px;max-height:80px}.sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 480px){.sidebar-modern[_ngcontent-%COMP%]{width:90vw;max-width:320px}.sidebar-header-modern[_ngcontent-%COMP%]{padding:1rem .75rem .75rem}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.3rem}.brand-text[_ngcontent-%COMP%]{font-size:1rem}.nav-link-modern[_ngcontent-%COMP%]{padding:.75rem;font-size:.9rem}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:20px;height:20px}.theme-toggle-btn[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar-nav-modern[_ngcontent-%COMP%]{padding:.75rem .5rem}.sidebar-content[_ngcontent-%COMP%]{padding:.5rem}.sidebar-footer[_ngcontent-%COMP%]{padding:.75rem .5rem}}@media (max-width: 768px) and (orientation: landscape){.sidebar-modern[_ngcontent-%COMP%], .sidebar-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}.sidebar-nav-modern[_ngcontent-%COMP%]{height:calc(100dvh - 80px);min-height:calc(100dvh - 80px);max-height:calc(100dvh - 80px)}.sidebar-header-modern[_ngcontent-%COMP%], .sidebar-footer[_ngcontent-%COMP%]{height:50px;min-height:50px;max-height:50px}}']})};function b9(n,e){if(n&1){let t=tn();w(0,"app-sidebar",6),te("close",function(){Ne(t);let i=Se();return ke(i.closeSidebar())}),I()}}var Cm=class n{sidebarOpen=!1;constructor(){}openSidebar(){console.log("Opening sidebar"),this.sidebarOpen=!0,document.body.style.overflow="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`}closeSidebar(){console.log("Closing sidebar"),this.sidebarOpen=!1;let e=document.body.style.top;document.body.style.position="",document.body.style.overflow="",document.body.style.touchAction="",document.body.style.width="",document.body.style.top="",window.scrollTo(0,parseInt(e||"0")*-1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-root"]],decls:7,vars:3,consts:[[3,"sidebarToggle"],[3,"close",4,"ngIf"],[1,"main-content"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[3,"close"]],template:function(t,r){t&1&&(w(0,"app-navbar",0),te("sidebarToggle",function(){return r.openSidebar()}),I(),Pe(1,b9,1,0,"app-sidebar",1),w(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),eo(6,"router-outlet"),I()()()()),t&2&&(k(),ce("ngIf",r.sidebarOpen),k(),$t("blurred",r.sidebarOpen))},dependencies:[nu,Bn,cr,Em,wm],styles:["app-sidebar[_ngcontent-%COMP%]{z-index:999999!important}.main-content[_ngcontent-%COMP%]{min-height:100vh;position:relative;z-index:1;transition:filter .3s ease}.main-content.blurred[_ngcontent-%COMP%]{filter:blur(5px);pointer-events:none;-webkit-user-select:none;user-select:none;overflow:hidden;z-index:0;position:relative}@media (max-width: 768px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], .app-container[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh;overflow-x:hidden}.main-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh;overflow-y:auto;overflow-x:hidden;position:relative;z-index:1}}@media (max-width: 480px){.main-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px) and (orientation: landscape){.main-content[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}"]})};yE(Cm,dk).catch(n=>console.error(n));
