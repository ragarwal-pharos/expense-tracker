var YL=Object.defineProperty,ZL=Object.defineProperties;var XL=Object.getOwnPropertyDescriptors;var yh=Object.getOwnPropertySymbols,JL=Object.getPrototypeOf,RD=Object.prototype.hasOwnProperty,ND=Object.prototype.propertyIsEnumerable,eV=Reflect.get;var AD=(n,e,t)=>e in n?YL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})RD.call(e,t)&&AD(n,t,e[t]);if(yh)for(var t of yh(e))ND.call(e,t)&&AD(n,t,e[t]);return n},le=(n,e)=>ZL(n,XL(e));var us=(n,e)=>{var t={};for(var r in n)RD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&yh)for(var r of yh(n))e.indexOf(r)<0&&ND.call(n,r)&&(t[r]=n[r]);return t};var fo=(n,e,t)=>eV(JL(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Jy;function _h(){return Jy}function Rr(n){let e=Jy;return Jy=n,e}var kD=Symbol("NotFound");function xa(n){return n===kD||n?.name==="\u0275NotFound"}function bh(n,e){return Object.is(n,e)}var Pt=null,vh=!1,e_=1,tV=null,Jt=Symbol("SIGNAL");function Ce(n){let e=Pt;return Pt=n,e}function Ih(){return Pt}var ds={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Aa(n){if(vh)throw new Error("");if(Pt===null)return;Pt.consumerOnSignalRead(n);let e=Pt.nextProducerIndex++;if(Ph(Pt),e<Pt.producerNode.length&&Pt.producerNode[e]!==n&&Al(Pt)){let t=Pt.producerNode[e];Th(t,Pt.producerIndexOfThis[e])}Pt.producerNode[e]!==n&&(Pt.producerNode[e]=n,Pt.producerIndexOfThis[e]=Al(Pt)?LD(n,Pt,e):0),Pt.producerLastReadVersion[e]=n.version}function FD(){e_++}function Mh(n){if(!(Al(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===e_)){if(!n.producerMustRecompute(n)&&!Rl(n)){Eh(n);return}n.producerRecomputeValue(n),Eh(n)}}function t_(n){if(n.liveConsumerNode===void 0)return;let e=vh;vh=!0;try{for(let t of n.liveConsumerNode)t.dirty||nV(t)}finally{vh=e}}function n_(){return Pt?.consumerAllowSignalWrites!==!1}function nV(n){n.dirty=!0,t_(n),n.consumerMarkedDirty?.(n)}function Eh(n){n.dirty=!1,n.lastCleanEpoch=e_}function hs(n){return n&&(n.nextProducerIndex=0),Ce(n)}function Ra(n,e){if(Ce(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Al(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Th(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rl(n){Ph(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Mh(t),r!==t.version))return!0}return!1}function Dh(n){if(Ph(n),Al(n))for(let e=0;e<n.producerNode.length;e++)Th(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function LD(n,e,t){if(VD(n),n.liveConsumerNode.length===0&&jD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=LD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Th(n,e){if(VD(n),n.liveConsumerNode.length===1&&jD(n))for(let r=0;r<n.producerNode.length;r++)Th(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ph(i),i.producerIndexOfThis[r]=e}}function Al(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ph(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function VD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function jD(n){return n.producerNode!==void 0}function Sh(n){tV?.(n)}function Oh(n,e){let t=Object.create(rV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Mh(t),Aa(t),t.value===xl)throw t.error;return t.value};return r[Jt]=t,Sh(t),r}var Ch=Symbol("UNSET"),wh=Symbol("COMPUTING"),xl=Symbol("ERRORED"),rV=le(j({},ds),{value:Ch,dirty:!0,error:null,equal:bh,kind:"computed",producerMustRecompute(n){return n.value===Ch||n.value===wh},producerRecomputeValue(n){if(n.value===wh)throw new Error("");let e=n.value;n.value=wh;let t=hs(n),r,i=!1;try{r=n.computation(),Ce(null),i=e!==Ch&&e!==xl&&r!==xl&&n.equal(e,r)}catch(o){r=xl,n.error=o}finally{Ra(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function iV(){throw new Error}var UD=iV;function BD(n){UD(n)}function r_(n){UD=n}var oV=null;function i_(n,e){let t=Object.create(xh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>$D(t);return r[Jt]=t,Sh(t),[r,s=>Na(t,s),s=>o_(t,s)]}function $D(n){return Aa(n),n.value}function Na(n,e){n_()||BD(n),n.equal(n.value,e)||(n.value=e,sV(n))}function o_(n,e){n_()||BD(n),Na(n,e(n.value))}var xh=le(j({},ds),{equal:bh,value:void 0,kind:"signal"});function sV(n){n.version++,FD(),t_(n),oV?.(n)}function me(n){return typeof n=="function"}function ka(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ah=ka(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function fs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(me(r))try{r()}catch(o){e=o instanceof Ah?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zD(o)}catch(s){e=e??[],s instanceof Ah?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ah(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fs(t,e)}remove(e){let{_finalizers:t}=this;t&&fs(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var s_=je.EMPTY;function Rh(n){return n instanceof je||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function zD(n){me(n)?n():n.unsubscribe()}var sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fa={setTimeout(n,e,...t){let{delegate:r}=Fa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Nh(n){Fa.setTimeout(()=>{let{onUnhandledError:e}=sr;if(e)e(n);else throw n})}function ps(){}var HD=a_("C",void 0,void 0);function qD(n){return a_("E",void 0,n)}function GD(n){return a_("N",n,void 0)}function a_(n,e,t){return{kind:n,value:e,error:t}}var gs=null;function La(n){if(sr.useDeprecatedSynchronousErrorHandling){let e=!gs;if(e&&(gs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=gs;if(gs=null,t)throw r}}else n()}function WD(n){sr.useDeprecatedSynchronousErrorHandling&&gs&&(gs.errorThrown=!0,gs.error=n)}var ms=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rh(e)&&e.add(this)):this.destination=lV}static create(e,t,r){return new Va(e,t,r)}next(e){this.isStopped?l_(GD(e),this):this._next(e)}error(e){this.isStopped?l_(qD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?l_(HD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aV=Function.prototype.bind;function c_(n,e){return aV.call(n,e)}var u_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){kh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){kh(r)}else kh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){kh(t)}}},Va=class extends ms{constructor(e,t,r){super();let i;if(me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&sr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&c_(e.next,o),error:e.error&&c_(e.error,o),complete:e.complete&&c_(e.complete,o)}):i=e}this.destination=new u_(i)}};function kh(n){sr.useDeprecatedSynchronousErrorHandling?WD(n):Nh(n)}function cV(n){throw n}function l_(n,e){let{onStoppedNotification:t}=sr;t&&Fa.setTimeout(()=>t(n,e))}var lV={closed:!0,next:ps,error:cV,complete:ps};var ja=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rn(n){return n}function d_(...n){return h_(n)}function h_(n){return n.length===0?Rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=dV(t)?t:new Va(t,r,i);return La(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=KD(r),new r((i,o)=>{let s=new Va({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ja](){return this}pipe(...t){return h_(t)(this)}toPromise(t){return t=KD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function KD(n){var e;return(e=n??sr.Promise)!==null&&e!==void 0?e:Promise}function uV(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}function dV(n){return n&&n instanceof ms||uV(n)&&Rh(n)}function f_(n){return me(n?.lift)}function Oe(n){return e=>{if(f_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(n,e,t,r,i){return new p_(n,e,t,r,i)}var p_=class extends ms{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ua(){return Oe((n,e)=>{let t=null;n._refCount++;let r=De(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ba=class extends se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,f_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(De(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Ua()(this)}};var QD=ka(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class n extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Fh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new QD}next(t){La(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){La(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){La(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?s_:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,fs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return n.create=(e,t)=>new Fh(e,t),n})(),Fh=class extends Ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:s_}};var ot=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var g_={now(){return(g_.delegate||Date).now()},delegate:void 0};var Lh=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}};var Nl={setInterval(n,e,...t){let{delegate:r}=Nl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Nl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var $a=class extends Lh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Nl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Nl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var za=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};za.now=g_.now;var Ha=class extends za{constructor(e,t=za.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var m_=new Ha($a);var Vh=class extends $a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var jh=class extends Ha{};var y_=new jh(Vh);var wn=new se(n=>n.complete());function YD(n){return n&&me(n.schedule)}function ZD(n){return n[n.length-1]}function Uh(n){return me(ZD(n))?n.pop():void 0}function po(n){return YD(ZD(n))?n.pop():void 0}function __(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function XD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ys(n){return this instanceof ys?(this.v=n,this):new ys(n)}function eT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(E){return Promise.resolve(E).then(m,f)}}function a(m,E){r[m]&&(i[m]=function(S){return new Promise(function(A,V){o.push([m,S,A,V])>1||c(m,S)})},E&&(i[m]=E(i[m])))}function c(m,E){try{u(r[m](E))}catch(S){g(o[0][3],S)}}function u(m){m.value instanceof ys?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,E){m(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function tT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof XD=="function"?XD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Bh=n=>n&&typeof n.length=="number"&&typeof n!="function";function $h(n){return me(n?.then)}function zh(n){return me(n[ja])}function Hh(n){return Symbol.asyncIterator&&me(n?.[Symbol.asyncIterator])}function qh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gh=hV();function Wh(n){return me(n?.[Gh])}function Kh(n){return eT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ys(t.read());if(i)return yield ys(void 0);yield yield ys(r)}}finally{t.releaseLock()}})}function Qh(n){return me(n?.getReader)}function mt(n){if(n instanceof se)return n;if(n!=null){if(zh(n))return fV(n);if(Bh(n))return pV(n);if($h(n))return gV(n);if(Hh(n))return nT(n);if(Wh(n))return mV(n);if(Qh(n))return yV(n)}throw qh(n)}function fV(n){return new se(e=>{let t=n[ja]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pV(n){return new se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function gV(n){return new se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Nh)})}function mV(n){return new se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function nT(n){return new se(e=>{_V(n,e).catch(t=>e.error(t))})}function yV(n){return nT(Kh(n))}function _V(n,e){var t,r,i,o;return JD(this,void 0,void 0,function*(){try{for(t=tT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function En(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function go(n,e=0){return Oe((t,r)=>{t.subscribe(De(r,i=>En(r,n,()=>r.next(i),e),()=>En(r,n,()=>r.complete(),e),i=>En(r,n,()=>r.error(i),e)))})}function mo(n,e=0){return Oe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function rT(n,e){return mt(n).pipe(mo(e),go(e))}function iT(n,e){return mt(n).pipe(mo(e),go(e))}function oT(n,e){return new se(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function sT(n,e){return new se(t=>{let r;return En(t,e,()=>{r=n[Gh](),En(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>me(r?.return)&&r.return()})}function Yh(n,e){if(!n)throw new Error("Iterable cannot be null");return new se(t=>{En(t,e,()=>{let r=n[Symbol.asyncIterator]();En(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function aT(n,e){return Yh(Kh(n),e)}function cT(n,e){if(n!=null){if(zh(n))return rT(n,e);if(Bh(n))return oT(n,e);if($h(n))return iT(n,e);if(Hh(n))return Yh(n,e);if(Wh(n))return sT(n,e);if(Qh(n))return aT(n,e)}throw qh(n)}function st(n,e){return e?cT(n,e):mt(n)}function ue(...n){let e=po(n);return st(n,e)}function qa(n,e){let t=me(n)?n:()=>n,r=i=>i.error(t());return new se(e?i=>e.schedule(r,0,i):r)}function v_(n){return!!n&&(n instanceof se||me(n.lift)&&me(n.subscribe))}var _i=ka(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function he(n,e){return Oe((t,r)=>{let i=0;t.subscribe(De(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:vV}=Array;function CV(n,e){return vV(e)?n(...e):n(e)}function Zh(n){return he(e=>CV(n,e))}var{isArray:wV}=Array,{getPrototypeOf:EV,prototype:bV,keys:IV}=Object;function Xh(n){if(n.length===1){let e=n[0];if(wV(e))return{args:e,keys:null};if(MV(e)){let t=IV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function MV(n){return n&&typeof n=="object"&&EV(n)===bV}function Jh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ef(...n){let e=po(n),t=Uh(n),{args:r,keys:i}=Xh(n);if(r.length===0)return st([],e);let o=new se(DV(r,e,i?s=>Jh(i,s):Rn));return t?o.pipe(Zh(t)):o}function DV(n,e,t=Rn){return r=>{lT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lT(e,()=>{let u=st(n[c],e),d=!1;u.subscribe(De(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lT(n,e,t){n?En(t,n,e):e()}function uT(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},m=S=>u<r?E(S):c.push(S),E=S=>{o&&e.next(S),u++;let A=!1;mt(t(S,d++)).subscribe(De(e,V=>{i?.(V),o?m(V):e.next(V)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<r;){let V=c.shift();s?En(e,s,()=>E(V)):E(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(De(e,m,()=>{f=!0,g()})),()=>{a?.()}}function yt(n,e,t=1/0){return me(e)?yt((r,i)=>he((o,s)=>e(r,o,i,s))(mt(n(r,i))),t):(typeof e=="number"&&(t=e),Oe((r,i)=>uT(r,i,n,t)))}function Ga(n=1/0){return yt(Rn,n)}function dT(){return Ga(1)}function Wa(...n){return dT()(st(n,po(n)))}function kl(n){return new se(e=>{mt(n()).subscribe(e)})}function C_(...n){let e=Uh(n),{args:t,keys:r}=Xh(n),i=new se(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;mt(t[d]).subscribe(De(o,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?Jh(r,a):a),o.complete())}))}});return e?i.pipe(Zh(e)):i}var vi=new se(ps);function _t(n,e){return Oe((t,r)=>{let i=0;t.subscribe(De(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ci(n){return Oe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(De(t,void 0,void 0,s=>{o=mt(n(s,Ci(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function hT(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(De(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function _s(n,e){return me(e)?yt(n,e,1):yt(n,1)}function yo(n){return Oe((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function St(n){return n<=0?()=>wn:Oe((e,t)=>{let r=0;e.subscribe(De(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function tf(n=TV){return Oe((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TV(){return new _i}function Fl(n){return Oe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function wi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_t((i,o)=>n(i,o,r)):Rn,St(1),t?yo(e):tf(()=>new _i))}function Ka(n){return n<=0?()=>wn:Oe((e,t)=>{let r=[];e.subscribe(De(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function w_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_t((i,o)=>n(i,o,r)):Rn,Ka(1),t?yo(e):tf(()=>new _i))}function E_(n,e){return Oe(hT(n,e,arguments.length>=2,!0))}function b_(...n){let e=po(n);return Oe((t,r)=>{(e?Wa(n,t,e):Wa(n,t)).subscribe(r)})}function Ut(n,e){return Oe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(De(r,c=>{i?.unsubscribe();let u=0,d=o++;mt(n(c,d)).subscribe(i=De(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function nf(n){return Oe((e,t)=>{mt(n).subscribe(De(t,()=>t.complete(),ps)),!t.closed&&e.subscribe(t)})}function At(n,e,t){let r=me(n)||e||t?{next:n,error:e,complete:t}:n;return r?Oe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Rn}function fT(n){let e=Ce(null);try{return n()}finally{Ce(e)}}var cf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(bs(e,t)),this.code=e}};function PV(n){return`NG0${Math.abs(n)}`}function bs(n,e){return`${PV(n)}${e?": "+e:""}`}var Mi=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("")}function mT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(bi).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function lf(n,e){return n?e?`${n} ${e}`:n:e||""}var SV=Fe({__forward_ref__:Fe});function bn(n){return n.__forward_ref__=bn,n.toString=function(){return bi(this())},n}function Bt(n){return F_(n)?n():n}function F_(n){return typeof n=="function"&&n.hasOwnProperty(SV)&&n.__forward_ref__===bn}function yT(n,e){n==null&&L_(e,n,null,"!=")}function L_(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bl(n){return OV(n,uf)}function V_(n){return Bl(n)!==null}function OV(n,e){return n.hasOwnProperty(e)&&n[e]||null}function xV(n){let e=n?.[uf]??null;return e||null}function M_(n){return n&&n.hasOwnProperty(of)?n[of]:null}var uf=Fe({\u0275prov:Fe}),of=Fe({\u0275inj:Fe}),W=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function j_(n){return n&&!!n.\u0275providers}var U_=Fe({\u0275cmp:Fe}),B_=Fe({\u0275dir:Fe}),$_=Fe({\u0275pipe:Fe}),z_=Fe({\u0275mod:Fe}),jl=Fe({\u0275fac:Fe}),Is=Fe({__NG_ELEMENT_ID__:Fe}),pT=Fe({__NG_ENV_ID__:Fe});function Ms(n){return typeof n=="string"?n:n==null?"":String(n)}function sf(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ms(n)}var H_=Fe({ngErrorCode:Fe}),_T=Fe({ngErrorMessage:Fe}),Vl=Fe({ngTokenPath:Fe});function q_(n,e){return vT("",-200,e)}function df(n,e){throw new L(-201,!1)}function AV(n,e){n[Vl]??=[];let t=n[Vl],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(yT(e.provide,"Token with multi: true should have a provide property"),r=sf(e.provide)):r=sf(e),t[0]!==r&&n[Vl].unshift(r)}function RV(n,e){let t=n[Vl],r=n[H_],i=n[_T]||n.message;return n.message=kV(i,r,t,e),n}function vT(n,e,t){let r=new L(e,n);return r[H_]=e,r[_T]=n,t&&(r[Vl]=t),r}function NV(n){return n[H_]}function kV(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return bs(e,`${n}${o}${i}`)}var D_;function CT(){return D_}function un(n){let e=D_;return D_=n,e}function G_(n,e,t){let r=Bl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;df(n,"Injector")}var FV={},vs=FV,T_="__NG_DI_FLAG__",P_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Cs(t)||0;try{return this.injector.get(e,r&8?null:vs,r)}catch(i){if(xa(i))return i;throw i}}};function LV(n,e=0){let t=_h();if(t===void 0)throw new L(-203,!1);if(t===null)return G_(n,void 0,e);{let r=VV(e),i=t.retrieve(n,r);if(xa(i)){if(r.optional)return null;throw i}return i}}function Y(n,e=0){return(CT()||LV)(Bt(n),e)}function F(n,e){return Y(n,Cs(e))}function Cs(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function VV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function S_(n){let e=[];for(let t=0;t<n.length;t++){let r=Bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=jV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function W_(n,e){return n[T_]=e,n.prototype[T_]=e,n}function jV(n){return n[T_]}function _o(n,e){let t=n.hasOwnProperty(jl);return t?n[jl]:null}function wT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function ET(n){return n.flat(Number.POSITIVE_INFINITY)}function hf(n,e){n.forEach(t=>Array.isArray(t)?hf(t,e):e(t))}function K_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function $l(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function bT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ff(n,e,t){let r=Ya(n,e);return r>=0?n[r|1]=t:(r=~r,bT(n,r,e,t)),r}function pf(n,e){let t=Ya(n,e);if(t>=0)return n[t|1]}function Ya(n,e){return UV(n,e,1)}function UV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Co={},dn=[],Di=new W(""),Q_=new W("",-1),Y_=new W(""),Ul=class{get(e,t=vs){if(t===vs){let i=vT("",-201);throw i.name="\u0275NotFound",i}return t}};function Z_(n){return n[z_]||null}function wo(n){return n[U_]||null}function X_(n){return n[B_]||null}function IT(n){return n[$_]||null}function Nt(n){return{\u0275providers:n}}function MT(n){return Nt([{provide:Di,multi:!0,useValue:n}])}function DT(...n){return{\u0275providers:J_(!0,n),\u0275fromNgModule:!0}}function J_(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return hf(e,s=>{let a=s;af(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TT(i,o),t}function TT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ev(i,o=>{e(o,r)})}}function af(n,e,t,r){if(n=Bt(n),!n)return!1;let i=null,o=M_(n),s=!o&&wo(n);if(!o&&!s){let c=n.ngModule;if(o=M_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)af(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{hf(o.imports,d=>{af(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&TT(u,e)}if(!a){let u=_o(i)||(()=>new i);e({provide:i,useFactory:u,deps:dn},i),e({provide:Y_,useValue:i,multi:!0},i),e({provide:Di,useValue:()=>Y(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;ev(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function ev(n,e){for(let t of n)j_(t)&&(t=t.\u0275providers),Array.isArray(t)?ev(t,e):e(t)}var BV=Fe({provide:String,useValue:Fe});function PT(n){return n!==null&&typeof n=="object"&&BV in n}function $V(n){return!!(n&&n.useExisting)}function zV(n){return!!(n&&n.useFactory)}function ws(n){return typeof n=="function"}function ST(n){return!!n.useClass}var zl=new W(""),rf={},gT={},I_;function Hl(){return I_===void 0&&(I_=new Ul),I_}var vt=class{},Es=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,x_(e,s=>this.processProvider(s)),this.records.set(Q_,Qa(void 0,this)),i.has("environment")&&this.records.set(vt,Qa(void 0,this));let o=this.records.get(zl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Y_,dn,{self:!0}))}retrieve(e,t){let r=Cs(t)||0;try{return this.get(e,vs,r)}catch(i){if(xa(i))return i;throw i}}destroy(){Ll(this),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return Ll(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ll(this);let t=Rr(this),r=un(void 0),i;try{return e()}finally{Rr(t),un(r)}}get(e,t=vs,r){if(Ll(this),e.hasOwnProperty(pT))return e[pT](this);let i=Cs(r),o,s=Rr(this),a=un(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=KV(e)&&Bl(e);d&&this.injectableDefInScope(d)?u=Qa(O_(e),rf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?Hl():this.parent;return t=i&8&&t===vs?null:t,c.get(e,t)}catch(c){let u=NV(c);throw u===-200||u===-201?new L(u,null):c}finally{un(a),Rr(s)}}resolveInjectorInitializers(){let e=Ce(null),t=Rr(this),r=un(void 0),i;try{let o=this.get(Di,dn,{self:!0});for(let s of o)s()}finally{Rr(t),un(r),Ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(bi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Bt(e);let t=ws(e)?e:Bt(e&&e.provide),r=qV(e);if(!ws(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qa(void 0,rf,!0),i.factory=()=>S_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ce(null);try{if(t.value===gT)throw q_(bi(e));return t.value===rf&&(t.value=gT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&WV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function O_(n){let e=Bl(n),t=e!==null?e.factory:_o(n);if(t!==null)return t;if(n instanceof W)throw new L(204,!1);if(n instanceof Function)return HV(n);throw new L(204,!1)}function HV(n){if(n.length>0)throw new L(204,!1);let t=xV(n);return t!==null?()=>t.factory(n):()=>new n}function qV(n){if(PT(n))return Qa(void 0,n.useValue);{let e=tv(n);return Qa(e,rf)}}function tv(n,e,t){let r;if(ws(n)){let i=Bt(n);return _o(i)||O_(i)}else if(PT(n))r=()=>Bt(n.useValue);else if(zV(n))r=()=>n.useFactory(...S_(n.deps||[]));else if($V(n))r=(i,o)=>Y(Bt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Bt(n&&(n.useClass||n.provide));if(GV(n))r=()=>new i(...S_(n.deps));else return _o(i)||O_(i)}return r}function Ll(n){if(n.destroyed)throw new L(205,!1)}function Qa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function GV(n){return!!n.deps}function WV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function KV(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function x_(n,e){for(let t of n)Array.isArray(t)?x_(t,e):t&&j_(t)?x_(t.\u0275providers,e):e(t)}function Ot(n,e){let t;n instanceof Es?(Ll(n),t=n):t=new P_(n);let r,i=Rr(t),o=un(void 0);try{return e()}finally{Rr(i),un(o)}}function OT(){return CT()!==void 0||_h()!=null}var cr=0,de=1,fe=2,Rt=3,Hn=4,qn=5,ql=6,Za=7,en=8,Ds=9,Nr=10,at=11,Xa=12,nv=13,Ts=14,Gn=15,Eo=16,Ps=17,kr=18,Gl=19,rv=20,Ei=21,gf=22,Wl=23,Nn=24,Ss=25,$t=26,xT=1;var bo=7,Kl=8,Os=9,hn=10;function Fr(n){return Array.isArray(n)&&typeof n[xT]=="object"}function lr(n){return Array.isArray(n)&&n[xT]===!0}function iv(n){return(n.flags&4)!==0}function Io(n){return n.componentOffset>-1}function Ql(n){return(n.flags&1)===1}function Lr(n){return!!n.template}function Ja(n){return(n[fe]&512)!==0}function xs(n){return(n[fe]&256)===256}var AT="svg",RT="math";function Wn(n){for(;Array.isArray(n);)n=n[cr];return n}function ov(n,e){return Wn(e[n])}function ur(n,e){return Wn(e[n.index])}function mf(n,e){return n.data[e]}function yf(n,e){return n[e]}function sv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Kn(n,e){let t=e[n];return Fr(t)?t:t[cr]}function NT(n){return(n[fe]&4)===4}function _f(n){return(n[fe]&128)===128}function kT(n){return lr(n[Rt])}function Yl(n,e){return e==null?null:n[e]}function av(n){n[Ps]=0}function cv(n){n[fe]&1024||(n[fe]|=1024,_f(n)&&ec(n))}function FT(n,e){for(;n>0;)e=e[Ts],n--;return e}function Zl(n){return!!(n[fe]&9216||n[Nn]?.dirty)}function vf(n){n[Nr].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),Zl(n)&&ec(n)}function ec(n){n[Nr].changeDetectionScheduler?.notify(0);let e=vo(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!_f(e)));)e=vo(e)}function lv(n,e){if(xs(n))throw new L(911,!1);n[Ei]===null&&(n[Ei]=[]),n[Ei].push(e)}function LT(n,e){if(n[Ei]===null)return;let t=n[Ei].indexOf(e);t!==-1&&n[Ei].splice(t,1)}function vo(n){let e=n[Rt];return lr(e)?e[Rt]:e}function uv(n){return n[Za]??=[]}function dv(n){return n.cleanup??=[]}function VT(n,e,t,r){let i=uv(e);i.push(t),n.firstCreatePass&&dv(n).push(r,i.length-1)}var we={lFrame:tP(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Xl=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Xl||{}),QV=0,A_=!1;function jT(){return we.lFrame.elementDepthCount}function UT(){we.lFrame.elementDepthCount++}function BT(){we.lFrame.elementDepthCount--}function hv(){return we.bindingsEnabled}function $T(){return we.skipHydrationRootTNode!==null}function zT(n){return we.skipHydrationRootTNode===n}function HT(){we.skipHydrationRootTNode=null}function Te(){return we.lFrame.lView}function zt(){return we.lFrame.tView}function ne(n){return we.lFrame.contextLView=n,n[en]}function re(n){return we.lFrame.contextLView=null,n}function Ht(){let n=fv();for(;n!==null&&n.type===64;)n=n.parent;return n}function fv(){return we.lFrame.currentTNode}function qT(){let n=we.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function tc(n,e){let t=we.lFrame;t.currentTNode=n,t.isParent=e}function pv(){return we.lFrame.isParent}function GT(){we.lFrame.isParent=!1}function WT(){return we.lFrame.contextLView}function gv(n){L_("Must never be called in production mode"),QV=n}function mv(){return A_}function yv(n){let e=A_;return A_=n,e}function Cf(){let n=we.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function KT(){return we.lFrame.bindingIndex}function QT(n){return we.lFrame.bindingIndex=n}function Jl(){return we.lFrame.bindingIndex++}function wf(n){let e=we.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function YT(){return we.lFrame.inI18n}function ZT(n,e){let t=we.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ef(e)}function XT(){return we.lFrame.currentDirectiveIndex}function Ef(n){we.lFrame.currentDirectiveIndex=n}function JT(n){let e=we.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _v(){return we.lFrame.currentQueryIndex}function bf(n){we.lFrame.currentQueryIndex=n}function YV(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[qn]:null}function vv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=YV(o),i===null||(o=o[Ts],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=we.lFrame=eP();return r.currentTNode=e,r.lView=n,!0}function If(n){let e=eP(),t=n[de];we.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eP(){let n=we.lFrame,e=n===null?null:n.child;return e===null?tP(n):e}function tP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function nP(){let n=we.lFrame;return we.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Cv=nP;function Mf(){let n=nP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rP(n){return(we.lFrame.contextLView=FT(n,we.lFrame.contextLView))[en]}function Ti(){return we.lFrame.selectedIndex}function Mo(n){we.lFrame.selectedIndex=n}function Df(){let n=we.lFrame;return mf(n.tView,n.selectedIndex)}function iP(){return we.lFrame.currentNamespace}var oP=!0;function Tf(){return oP}function Pf(n){oP=n}function R_(n,e=null,t=null,r){let i=wv(n,e,t,r);return i.resolveInjectorInitializers(),i}function wv(n,e=null,t=null,r,i=new Set){let o=[t||dn,DT(n)];return r=r||(typeof n=="object"?void 0:bi(n)),new Es(o,e||Hl(),r||null,i)}var tt=class n{static THROW_IF_NOT_FOUND=vs;static NULL=new Ul;static create(e,t){if(Array.isArray(e))return R_({name:""},t,e,"");{let r=e.name??"";return R_({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>Y(Q_)});static __NG_ELEMENT_ID__=-1},Ct=new W(""),Qn=(()=>{class n{static __NG_ELEMENT_ID__=ZV;static __NG_ENV_ID__=t=>t}return n})(),N_=class extends Qn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xs(this._lView)}onDestroy(e){let t=this._lView;return lv(t,e),()=>LT(t,e)}};function ZV(){return new N_(Te())}var ar=class{_console=console;handleError(e){this._console.error("ERROR",e)}},tn=new W("",{providedIn:"root",factory:()=>{let n=F(vt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(ar),e.handleError(t))}}}),sP={provide:Di,useValue:()=>void F(ar),multi:!0},XV=new W("",{providedIn:"root",factory:()=>{let n=F(Ct).defaultView;if(!n)return;let e=F(tn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),F(Qn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Ev(){return Nt([MT(()=>void F(XV))])}function bv(n){return typeof n=="function"&&n[Jt]!==void 0}function Vr(n,e){let[t,r,i]=i_(n,e?.equal),o=t,s=o[Jt];return o.set=r,o.update=i,o.asReadonly=aP.bind(o),o}function aP(){let n=this[Jt];if(n.readonlyFn===void 0){let e=()=>this();e[Jt]=n,n.readonlyFn=e}return n.readonlyFn}function Iv(n){return bv(n)&&typeof n.set=="function"}var Ii=class{},eu=new W("",{providedIn:"root",factory:()=>!1});var Mv=new W(""),Dv=new W("");var Sf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=JV}return n})();function JV(){return new Sf(Te(),Ht())}var jr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new se(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),nc=(()=>{class n{internalPendingTasks=F(jr);scheduler=F(Ii);errorHandler=F(tn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function tu(...n){}var Tv=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new k_})}return n})(),k_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function cc(n){return{toString:n}.toString()}var Of="__parameters__";function a2(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function VP(n,e,t){return cc(()=>{let r=a2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Of)?c[Of]:Object.defineProperty(c,Of,{value:[]})[Of];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var wt=W_(VP("Optional"),8);var dC=W_(VP("SkipSelf"),4);function c2(n){return typeof n=="function"}var Lf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function jP(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Br=(()=>{let n=()=>UP;return n.ngInherit=!0,n})();function UP(n){return n.type.prototype.ngOnChanges&&(n.setInput=u2),l2}function l2(){let n=$P(this),e=n?.current;if(e){let t=n.previous;if(t===Co)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function u2(n,e,t,r,i){let o=this.declaredInputs[r],s=$P(n)||d2(n,{previous:Co,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Lf(u&&u.currentValue,t,c===Co),jP(n,e,i,t)}var BP="__ngSimpleChanges__";function $P(n){return n[BP]||null}function d2(n,e){return n[BP]=e}var cP=[];var Ve=function(n,e=null,t){for(let r=0;r<cP.length;r++){let i=cP[r];i(n,e,t)}};function h2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=UP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function zP(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Rf(n,e,t){HP(n,e,3,t)}function Nf(n,e,t,r){(n[fe]&3)===t&&HP(n,e,t,r)}function Pv(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function HP(n,e,t,r){let i=r!==void 0?n[Ps]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ps]+=65536),(a<o||o==-1)&&(f2(n,t,e,c),n[Ps]=(n[Ps]&4294901760)+c+2),c++}function lP(n,e){Ve(4,n,e);let t=Ce(null);try{e.call(n)}finally{Ce(t),Ve(5,n,e)}}function f2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[fe]>>14<n[Ps]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,lP(a,o)):lP(a,o)}var ic=-1,Ns=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function p2(n){return(n.flags&8)!==0}function g2(n){return(n.flags&16)!==0}function m2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];y2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qP(n){return n===3||n===4||n===6}function y2(n){return n.charCodeAt(0)===64}function iu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?uP(n,t,i,null,e[++r]):uP(n,t,i,null,null))}}return n}function uP(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function GP(n){return n!==ic}function Vf(n){return n&32767}function _2(n){return n>>16}function jf(n,e){let t=_2(n),r=e;for(;t>0;)r=r[Ts],t--;return r}var jv=!0;function Uf(n){let e=jv;return jv=n,e}var v2=256,WP=v2-1,KP=5,C2=0,Ur={};function w2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Is)&&(r=t[Is]),r==null&&(r=t[Is]=C2++);let i=r&WP,o=1<<i;e.data[n+(i>>KP)]|=o}function Bf(n,e){let t=QP(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,Sv(r.data,n),Sv(e,null),Sv(r.blueprint,null));let i=hC(n,e),o=n.injectorIndex;if(GP(i)){let s=Vf(i),a=jf(i,e),c=a[de].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Sv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function QP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=eS(i),r===null)return ic;if(t++,i=i[Ts],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ic}function Uv(n,e,t){w2(n,e,t)}function E2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(qP(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function YP(n,e,t){if(t&8||n!==void 0)return n;df(e,"NodeInjector")}function ZP(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ds],o=un(void 0);try{return i?i.get(e,r,t&8):G_(e,r,t&8)}finally{un(o)}}return YP(r,e,t)}function XP(n,e,t,r=0,i){if(n!==null){if(e[fe]&2048&&!(r&2)){let s=D2(n,e,t,r,Ur);if(s!==Ur)return s}let o=JP(n,e,t,r,Ur);if(o!==Ur)return o}return ZP(e,t,r,i)}function JP(n,e,t,r,i){let o=I2(t);if(typeof o=="function"){if(!vv(e,n,r))return r&1?YP(i,t,r):ZP(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))df(t);else return s}finally{Cv()}}else if(typeof o=="number"){let s=null,a=QP(n,e),c=ic,u=r&1?e[Gn][qn]:null;for((a===-1||r&4)&&(c=a===-1?hC(n,e):e[a+8],c===ic||!hP(r,!1)?a=-1:(s=e[de],a=Vf(c),e=jf(c,e)));a!==-1;){let d=e[de];if(dP(o,a,d.data)){let f=b2(a,e,t,s,r,u);if(f!==Ur)return f}c=e[a+8],c!==ic&&hP(r,e[de].data[a+8]===u)&&dP(o,a,e)?(s=d,a=Vf(c),e=jf(c,e)):a=-1}}return i}function b2(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],c=r==null?Io(a)&&jv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=kf(a,s,t,c,u);return d!==null?ou(e,s,d,a,i):Ur}function kf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let m=f;m<g;m++){let E=s[m];if(m<c&&t===E||m>=c&&E.type===t)return m}if(i){let m=s[c];if(m&&Lr(m)&&m.type===t)return c}return null}function ou(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ns){let a=o;if(a.resolving){let m=sf(s[t]);throw q_(m)}let c=Uf(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?un(a.injectImpl):null,g=vv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&h2(t,s[t],e)}finally{f!==null&&un(f),Uf(c),a.resolving=!1,Cv()}}return o}function I2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Is)?n[Is]:void 0;return typeof e=="number"?e>=0?e&WP:M2:e}function dP(n,e,t){let r=1<<n;return!!(t[e+(n>>KP)]&r)}function hP(n,e){return!(n&2)&&!(n&1&&e)}var Rs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return XP(this._tNode,this._lView,e,Cs(r),t)}};function M2(){return new Rs(Ht(),Te())}function Yn(n){return cc(()=>{let e=n.prototype.constructor,t=e[jl]||Bv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[jl]||Bv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bv(n){return F_(n)?()=>{let e=Bv(Bt(n));return e&&e()}:_o(n)}function D2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!Ja(s);){let a=JP(o,s,t,r|2,Ur);if(a!==Ur)return a;let c=o.parent;if(!c){let u=s[rv];if(u){let d=u.get(t,Ur,r);if(d!==Ur)return d}c=eS(s),s=s[Ts]}o=c}return i}function eS(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[qn]:null}function lu(n){return E2(Ht(),n)}function T2(){return lc(Ht(),Te())}function lc(n,e){return new fn(ur(n,e))}var fn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=T2}return n})();function P2(n){return n instanceof fn?n.nativeElement:n}function S2(){return this._results[Symbol.iterator]()}var $f=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ze}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=ET(e);(this._changesDetected=!wT(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=S2};function tS(n){return(n.flags&128)===128}var fC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fC||{}),nS=new Map,O2=0;function x2(){return O2++}function A2(n){nS.set(n[Gl],n)}function $v(n){nS.delete(n[Gl])}var fP="__ngContext__";function oc(n,e){Fr(e)?(n[fP]=e[Gl],A2(e)):n[fP]=e}function rS(n){return oS(n[Xa])}function iS(n){return oS(n[Hn])}function oS(n){for(;n!==null&&!lr(n);)n=n[Hn];return n}var zv;function pC(n){zv=n}function sS(){if(zv!==void 0)return zv;if(typeof document<"u")return document;throw new L(210,!1)}var ep=new W("",{providedIn:"root",factory:()=>R2}),R2="ng",tp=new W(""),Po=new W("",{providedIn:"platform",factory:()=>"unknown"});var np=new W(""),rp=new W("",{providedIn:"root",factory:()=>sS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var N2="h",k2="b";var aS=!1,cS=new W("",{providedIn:"root",factory:()=>aS});var F2=(n,e,t,r)=>{};function L2(n,e,t,r){F2(n,e,t,r)}function gC(n){return(n.flags&32)===32}var V2=()=>null;function lS(n,e,t=!1){return V2(n,e,t)}function uS(n,e){let t=n.contentQueries;if(t!==null){let r=Ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];bf(o),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function Hv(n,e,t){bf(0);let r=Ce(null);try{e(n,t)}finally{Ce(r)}}function dS(n,e,t){if(iv(e)){let r=Ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ce(r)}}}var Pi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pi||{});var xf;function j2(){if(xf===void 0&&(xf=null,Mi.trustedTypes))try{xf=Mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xf}function pP(n){return j2()?.createScriptURL(n)||n}var zf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cf})`}};function uu(n){return n instanceof zf?n.changingThisBreaksApplicationSecurity:n}function mC(n,e){let t=hS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${cf})`)}return t===e}function hS(n){return n instanceof zf&&n.getTypeName()||null}var U2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fS(n){return n=String(n),n.match(U2)?n:"unsafe:"+n}var ip=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ip||{});function pS(n){let e=mS();return e?e.sanitize(ip.URL,n)||"":mC(n,"URL")?uu(n):fS(Ms(n))}function gS(n){let e=mS();if(e)return pP(e.sanitize(ip.RESOURCE_URL,n)||"");if(mC(n,"ResourceURL"))return pP(uu(n));throw new L(904,!1)}function B2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?gS:pS}function yC(n,e,t){return B2(e,t)(n)}function mS(){let n=Te();return n&&n[Nr].sanitizer}function yS(n){return n instanceof Function?n():n}function $2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var _S="ng-template";function z2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(_C(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function _C(n){return n.type===4&&n.value!==_S}function H2(n,e,t){let r=n.type===4&&!t?_S:n.value;return e===r}function q2(n,e,t){let r=4,i=n.attrs,o=i!==null?K2(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dr(r)&&!dr(c))return!1;if(s&&dr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!H2(n,c,t)||c===""&&e.length===1){if(dr(r))return!1;s=!0}}else if(r&8){if(i===null||!z2(n,i,c,t)){if(dr(r))return!1;s=!0}}else{let u=e[++a],d=G2(c,i,_C(n),t);if(d===-1){if(dr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(dr(r))return!1;s=!0}}}}return dr(r)||s}function dr(n){return(n&1)===0}function G2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Q2(e,n)}function W2(n,e,t=!1){for(let r=0;r<e.length;r++)if(q2(n,e[r],t))return!0;return!1}function K2(n){for(let e=0;e<n.length;e++){let t=n[e];if(qP(t))return e}return n.length}function Q2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function gP(n,e){return n?":not("+e.trim()+")":e}function Y2(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dr(s)&&(e+=gP(o,i),i=""),r=s,o=o||!dr(r);t++}return i!==""&&(e+=gP(o,i)),e}function Z2(n){return n.map(Y2).join(",")}function X2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!dr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var kn={};function J2(n,e){return n.createText(e)}function ej(n,e,t){n.setValue(e,t)}function vS(n,e,t){return n.createElement(e,t)}function Hf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function CS(n,e,t){n.appendChild(e,t)}function mP(n,e,t,r,i){r!==null?Hf(n,e,t,r,i):CS(n,e,t)}function tj(n,e,t){n.removeChild(null,e,t)}function nj(n,e,t){n.setAttribute(e,"style",t)}function rj(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&m2(n,e,r),i!==null&&rj(n,e,i),o!==null&&nj(n,e,o)}function vC(n,e,t,r,i,o,s,a,c,u,d){let f=$t+r,g=f+i,m=ij(f,g),E=typeof u=="function"?u():u;return m[de]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function ij(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:kn);return t}function oj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=vC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function CC(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[cr]=i,f[fe]=r|4|128|8|64|1024,(u!==null||n&&n[fe]&2048)&&(f[fe]|=2048),av(f),f[Rt]=f[Ts]=n,f[en]=t,f[Nr]=s||n&&n[Nr],f[at]=a||n&&n[at],f[Ds]=c||n&&n[Ds]||null,f[qn]=o,f[Gl]=x2(),f[ql]=d,f[rv]=u,f[Gn]=e.type==2?n[Gn]:f,f}function sj(n,e,t){let r=ur(e,n),i=oj(t),o=n[Nr].rendererFactory,s=wC(n,CC(n,i,null,ES(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function ES(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function bS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wC(n,e){return n[Xa]?n[nv][Hn]=e:n[Xa]=e,n[nv]=e,e}function N(n=1){IS(zt(),Te(),Ti()+n,!1)}function IS(n,e,t,r){if(!r)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Rf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Nf(e,o,0,t)}Mo(t)}var op=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(op||{});function qv(n,e,t,r){let i=Ce(null);try{let[o,s,a]=n.inputs[t],c=null;(s&op.SignalBased)!==0&&(c=e[o][Jt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):jP(e,c,o,r)}finally{Ce(i)}}var fr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fr||{}),aj;function EC(n,e){return aj(n,e)}function rc(n,e,t,r,i){if(r!=null){let o,s=!1;lr(r)?o=r:Fr(r)&&(s=!0,r=r[cr]);let a=Wn(r);n===0&&t!==null?i==null?CS(e,t,a):Hf(e,t,a,i||null,!0):n===1&&t!==null?Hf(e,t,a,i||null,!0):n===2?tj(e,a,s):n===3&&e.destroyNode(a),o!=null&&vj(e,n,o,t,i)}}function cj(n,e){MS(n,e),e[cr]=null,e[qn]=null}function lj(n,e,t,r,i,o){r[cr]=i,r[qn]=e,sp(n,r,t,1,i,o)}function MS(n,e){e[Nr].changeDetectionScheduler?.notify(9),sp(n,e,e[at],2,null,null)}function uj(n){let e=n[Xa];if(!e)return Ov(n[de],n);for(;e;){let t=null;if(Fr(e))t=e[Xa];else{let r=e[hn];r&&(t=r)}if(!t){for(;e&&!e[Hn]&&e!==n;)Fr(e)&&Ov(e[de],e),e=e[Rt];e===null&&(e=n),Fr(e)&&Ov(e[de],e),t=e&&e[Hn]}e=t}}function bC(n,e){let t=n[Os],r=t.indexOf(e);t.splice(r,1)}function DS(n,e){if(xs(e))return;let t=e[at];t.destroyNode&&sp(n,e,t,3,null,null),uj(e)}function Ov(n,e){if(xs(e))return;let t=Ce(null);try{e[fe]&=-129,e[fe]|=256,e[Nn]&&Dh(e[Nn]),hj(n,e),dj(n,e),e[de].type===1&&e[at].destroy();let r=e[Eo];if(r!==null&&lr(e[Rt])){r!==e[Rt]&&bC(r,e);let i=e[kr];i!==null&&i.detachView(n)}$v(e)}finally{Ce(t)}}function dj(n,e){let t=n.cleanup,r=e[Za];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Za]=null);let i=e[Ei];if(i!==null){e[Ei]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Wl];if(o!==null){e[Wl]=null;for(let s of o)s.destroy()}}function hj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ns)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ve(4,a,c);try{c.call(a)}finally{Ve(5,a,c)}}else{Ve(4,i,o);try{o.call(i)}finally{Ve(5,i,o)}}}}}function fj(n,e,t){return pj(n,e.parent,t)}function pj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[cr];if(Io(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Pi.None||i===Pi.Emulated)return null}return ur(r,t)}function gj(n,e,t){return yj(n,e,t)}function mj(n,e,t){return n.type&40?ur(n,t):null}var yj=mj,yP;function IC(n,e,t,r){let i=fj(n,r,e),o=e[at],s=r.parent||e[qn],a=gj(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)mP(o,i,t[c],a,!1);else mP(o,i,t,a,!1);yP!==void 0&&yP(o,r,e,t,i)}function nu(n,e){if(e!==null){let t=e.type;if(t&3)return ur(e,n);if(t&4)return Gv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return nu(n,r);{let i=n[e.index];return lr(i)?Gv(-1,i):Wn(i)}}else{if(t&128)return nu(n,e.next);if(t&32)return EC(e,n)()||Wn(n[e.index]);{let r=TS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vo(n[Gn]);return nu(i,r)}else return nu(n,e.next)}}}return null}function TS(n,e){if(e!==null){let r=n[Gn][qn],i=e.projection;return r.projection[i]}return null}function Gv(n,e){let t=hn+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return nu(r,i)}return e[bo]}function MC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&oc(Wn(a),r),t.flags|=2),!gC(t))if(c&8)MC(n,e,t.child,r,i,o,!1),rc(e,n,i,a,o);else if(c&32){let u=EC(t,r),d;for(;d=u();)rc(e,n,i,d,o);rc(e,n,i,a,o)}else c&16?_j(n,e,r,t,i,o):rc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function sp(n,e,t,r,i,o){MC(t,r,n.firstChild,e,i,o,!1)}function _j(n,e,t,r,i,o){let s=t[Gn],c=s[qn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];rc(e,n,i,d,o)}else{let u=c,d=s[Rt];tS(r)&&(u.flags|=128),MC(n,e,u,d,i,o,!0)}}function vj(n,e,t,r,i){let o=t[bo],s=Wn(t);o!==s&&rc(e,n,r,o,i);for(let a=hn;a<t.length;a++){let c=t[a];sp(c[de],c,n,e,r,o)}}function Cj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fr.Important),n.setStyle(t,r,i,o))}}function PS(n,e,t,r,i){let o=Ti(),s=r&2;try{Mo(-1),s&&e.length>$t&&IS(n,e,$t,!1),Ve(s?2:0,i,t),t(r,i)}finally{Mo(o),Ve(s?3:1,i,t)}}function DC(n,e,t){Tj(n,e,t),(t.flags&64)===64&&Pj(n,e,t)}function SS(n,e,t=ur){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function wj(n,e,t,r){let o=r.get(cS,aS)||t===Pi.ShadowDom,s=n.selectRootElement(e,o);return Ej(s),s}function Ej(n){bj(n)}var bj=()=>null;function Ij(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function OS(n,e,t,r,i,o){let s=e[de];if(TC(n,s,e,t,r)){Io(n)&&Dj(e,n.index);return}n.type&3&&(t=Ij(t)),Mj(n,e,t,r,i,o)}function Mj(n,e,t,r,i,o){if(n.type&3){let s=ur(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Dj(n,e){let t=Kn(e,n);t[fe]&16||(t[fe]|=64)}function Tj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Io(t)&&sj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Bf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=ou(e,n,s,t);if(oc(c,e),o!==null&&Aj(e,s-r,c,a,t,o),Lr(a)){let u=Kn(t.index,e);u[en]=ou(e,n,s,t)}}}function Pj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=XT();try{Mo(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Ef(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Sj(c,u)}}finally{Mo(-1),Ef(s)}}function Sj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function xS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];W2(e,o.selectors,!1)&&(r??=[],Lr(o)?r.unshift(o):r.push(o))}return r}function Oj(n,e,t,r,i,o){let s=ur(n,e);xj(e[at],s,o,n.value,t,r,i)}function xj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ms(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Aj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];qv(r,t,c,u)}}function Rj(n,e,t,r,i){let o=$t+t,s=e[de],a=i(s,e,n,r,t);e[o]=a,tc(n,!0);let c=n.type===2;return c?(wS(e[at],a,n),(jT()===0||Ql(n))&&oc(a,e),UT()):oc(a,e),Tf()&&(!c||!gC(n))&&IC(s,e,a,n),n}function Nj(n){let e=n;return pv()?GT():(e=e.parent,tc(e,!1)),e}function kj(n,e){let t=n[Ds];if(!t)return;t.get(tn,null)?.(e)}function TC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];qv(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];qv(d,u,r,i),a=!0}return a}function Fj(n,e){let t=Kn(e,n),r=t[de];Lj(r,t);let i=t[cr];i!==null&&t[ql]===null&&(t[ql]=lS(i,t[Ds])),Ve(18),PC(r,t,t[en]),Ve(19,t[en])}function Lj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function PC(n,e,t){If(e);try{let r=n.viewQuery;r!==null&&Hv(1,r,t);let i=n.template;i!==null&&PS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[kr]?.finishViewCreation(n),n.staticContentQueries&&uS(n,e),n.staticViewQueries&&Hv(2,n.viewQuery,t);let o=n.components;o!==null&&Vj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[fe]&=-5,Mf()}}function Vj(n,e){for(let t=0;t<e.length;t++)Fj(n,e[t])}function jj(n,e,t,r){let i=Ce(null);try{let o=e.tView,a=n[fe]&4096?4096:16,c=CC(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Eo]=u;let d=n[kr];return d!==null&&(c[kr]=d.createEmbeddedView(o)),PC(o,c,t),c}finally{Ce(i)}}function _P(n,e){return!e||e.firstChild===null||tS(n)}var vP=!1,Uj=new W("");function su(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Wn(o)),lr(o)&&AS(o,r);let s=t.type;if(s&8)su(n,e,t.child,r);else if(s&32){let a=EC(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=TS(e,t);if(Array.isArray(a))r.push(...a);else{let c=vo(e[Gn]);su(c[de],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function AS(n,e){for(let t=hn;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&su(r[de],r,i,e)}n[bo]!==n[cr]&&e.push(n[bo])}function RS(n){if(n[Ss]!==null){for(let e of n[Ss])e.impl.addSequence(e);n[Ss].length=0}}var NS=[];function Bj(n){return n[Nn]??$j(n)}function $j(n){let e=NS.pop()??Object.create(Hj);return e.lView=n,e}function zj(n){n.lView[Nn]!==n&&(n.lView=null,NS.push(n))}var Hj=le(j({},ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ec(n.lView)},consumerOnSignalRead(){this.lView[Nn]=this}});function qj(n){let e=n[Nn]??Object.create(Gj);return e.lView=n,e}var Gj=le(j({},ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=vo(n.lView);for(;e&&!kS(e[de]);)e=vo(e);e&&cv(e)},consumerOnSignalRead(){this.lView[Nn]=this}});function kS(n){return n.type!==2}function FS(n){if(n[Wl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Wl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[fe]&8192)}}var Wj=100;function SC(n,e=0){let r=n[Nr].rendererFactory,i=!1;i||r.begin?.();try{Kj(n,e)}finally{i||r.end?.()}}function Kj(n,e){let t=mv();try{yv(!0),Wv(n,e);let r=0;for(;Zl(n);){if(r===Wj)throw new L(103,!1);r++,Wv(n,1)}}finally{yv(t)}}function LS(n,e){gv(e?Xl.Exhaustive:Xl.OnlyDirtyViews);try{SC(n)}finally{gv(Xl.Off)}}function Qj(n,e,t,r){if(xs(e))return;let i=e[fe],o=!1,s=!1;If(e);let a=!0,c=null,u=null;o||(kS(n)?(u=Bj(e),c=hs(u)):Ih()===null?(a=!1,u=qj(e),c=hs(u)):e[Nn]&&(Dh(e[Nn]),e[Nn]=null));try{av(e),QT(n.bindingStartIndex),t!==null&&PS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Rf(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Nf(e,m,0,null),Pv(e,0)}if(s||Yj(e),FS(e),VS(e,0),n.contentQueries!==null&&uS(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Rf(e,m)}else{let m=n.contentHooks;m!==null&&Nf(e,m,1),Pv(e,1)}Xj(n,e);let f=n.components;f!==null&&US(e,f,0);let g=n.viewQuery;if(g!==null&&Hv(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Rf(e,m)}else{let m=n.viewHooks;m!==null&&Nf(e,m,2),Pv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[gf]){for(let m of e[gf])m();e[gf]=null}o||(RS(e),e[fe]&=-73)}catch(d){throw o||ec(e),d}finally{u!==null&&(Ra(u,c),a&&zj(u)),Mf()}}function VS(n,e){for(let t=rS(n);t!==null;t=iS(t))for(let r=hn;r<t.length;r++){let i=t[r];jS(i,e)}}function Yj(n){for(let e=rS(n);e!==null;e=iS(e)){if(!(e[fe]&2))continue;let t=e[Os];for(let r=0;r<t.length;r++){let i=t[r];cv(i)}}}function Zj(n,e,t){Ve(18);let r=Kn(e,n);jS(r,t),Ve(19,r[en])}function jS(n,e){_f(n)&&Wv(n,e)}function Wv(n,e){let r=n[de],i=n[fe],o=n[Nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rl(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)Qj(r,n,r.template,n[en]);else if(i&8192){let a=Ce(null);try{FS(n),VS(n,1);let c=r.components;c!==null&&US(n,c,1),RS(n)}finally{Ce(a)}}}function US(n,e,t){for(let r=0;r<e.length;r++)Zj(n,e[r],t)}function Xj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Mo(~i);else{let o=i,s=t[++r],a=t[++r];ZT(s,o);let c=e[o];Ve(24,c),a(2,c),Ve(25,c)}}}finally{Mo(-1)}}function OC(n,e){let t=mv()?64:1088;for(n[Nr].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let r=vo(n);if(Ja(n)&&!r)return n;n=r}return null}function BS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Jj(n,e,t,r=!0){let i=e[de];if(eU(i,e,n,t),r){let s=Gv(t,n),a=e[at],c=a.parentNode(n[bo]);c!==null&&lj(i,n[qn],a,e,c,s)}let o=e[ql];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kv(n,e){if(n.length<=hn)return;let t=hn+e,r=n[t];if(r){let i=r[Eo];i!==null&&i!==n&&bC(i,r),e>0&&(n[t-1][Hn]=r[Hn]);let o=$l(n,hn+e);cj(r[de],r);let s=o[kr];s!==null&&s.detachView(o[de]),r[Rt]=null,r[Hn]=null,r[fe]&=-129}return r}function eU(n,e,t,r){let i=hn+r,o=t.length;r>0&&(t[i-1][Hn]=e),r<o-hn?(e[Hn]=t[i],K_(t,hn+r,e)):(t.push(e),e[Hn]=null),e[Rt]=t;let s=e[Eo];s!==null&&t!==s&&$S(s,e);let a=e[kr];a!==null&&a.insertView(n),vf(e),e[fe]|=128}function $S(n,e){let t=n[Os],r=e[Rt];if(Fr(r))n[fe]|=2;else{let i=r[Rt][Gn];e[Gn]!==i&&(n[fe]|=2)}t===null?n[Os]=[e]:t.push(e)}var Do=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[de];return su(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[en]}set context(e){this._lView[en]=e}get destroyed(){return xs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(lr(e)){let t=e[Kl],r=t?t.indexOf(this):-1;r>-1&&(Kv(e,r),$l(t,r))}this._attachedToViewContainer=!1}DS(this._lView[de],this._lView)}onDestroy(e){lv(this._lView,e)}markForCheck(){OC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){vf(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,SC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ds].get(Uj,vP)}catch{this.exhaustive=vP}}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ja(this._lView),t=this._lView[Eo];t!==null&&!e&&bC(t,this._lView),MS(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Ja(this._lView),r=this._lView[Eo];r!==null&&!t&&$S(r,this._lView),vf(this._lView)}};var To=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=tU;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=jj(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Do(o)}}return n})();function tU(){return ap(Ht(),Te())}function ap(n,e){return n.type&4?new To(e,n,lc(n,e)):null}function xC(n,e,t,r,i){let o=n.data[e];if(o===null)o=nU(n,e,t,r,i),YT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=qT();o.injectorIndex=s===null?-1:s.injectorIndex}return tc(o,!0),o}function nU(n,e,t,r,i){let o=fv(),s=pv(),a=s?o:o&&o.parent,c=n.data[e]=iU(n,a,t,e,r,i);return rU(n,c,o,s),c}function rU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function iU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $T()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Dte=new RegExp(`^(\\d+)*(${k2}|${N2})*(.*)`);var oU=()=>null;function CP(n,e){return oU(n,e)}var zS=class{},cp=class{},Qv=class{resolveComponentFactory(e){throw new L(917,!1)}},du=class{static NULL=new Qv},Si=class{},pr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>sU()}return n})();function sU(){let n=Te(),e=Ht(),t=Kn(e.index,n);return(Fr(t)?t:n)[at]}var HS=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var Ff={},Yv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Ff,r);return i!==Ff||t===Ff?i:this.parentInjector.get(e,t,r)}};function wP(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lf(i,a);else if(o==2){let c=a,u=e[++s];r=lf(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function $(n,e=0){let t=Te();if(t===null)return Y(n,e);let r=Ht();return XP(r,t,Bt(n),e)}function qS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}lU(n,e,t,a,o,c,u)}o!==null&&r!==null&&aU(t,r,o)}function aU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function cU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function lU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&Lr(m)&&(c=!0,cU(n,t,g)),Uv(Bf(t,e),n,m.type)}gU(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=bS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=iu(t.mergedAttrs,m.hostAttrs),dU(n,t,e,f,m),pU(f,m,i),s!==null&&s.has(m)){let[S,A]=s.get(m);t.directiveToIndex.set(m.type,[f,S+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let E=m.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}uU(n,t,o)}function uU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))EP(0,e,i,r),EP(1,e,i,r),IP(e,r,!1);else{let o=t.get(i);bP(0,e,o,r),bP(1,e,o,r),IP(e,r,!0)}}}function EP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),GS(e,o)}}function bP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),GS(e,s)}}function GS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function IP(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||_C(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function dU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=_o(i.type,!0)),s=new Ns(o,Lr(i),$,null);n.blueprint[r]=s,t[r]=s,hU(n,e,r,bS(n,t,i.hostVars,kn),i)}function hU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;fU(s)!=a&&s.push(a),s.push(t,r,o)}}function fU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function pU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Lr(e)&&(t[""]=n)}}function gU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function WS(n,e,t,r,i,o,s,a){let c=e[de],u=c.consts,d=Yl(u,s),f=xC(c,n,t,r,d);return o&&qS(c,e,f,Yl(u,a),i),f.mergedAttrs=iu(f.mergedAttrs,f.attrs),f.attrs!==null&&wP(f,f.attrs,!1),f.mergedAttrs!==null&&wP(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function KS(n,e){zP(n,e),iv(e)&&n.queries.elementEnd(e)}function AC(n){return lp(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function QS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function lp(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function YS(n,e,t){return n[e]=t}function Oi(n,e,t){if(t===kn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ZS(n,e,t,r){let i=Oi(n,e,t);return Oi(n,e+1,r)||i}function xv(n,e,t){return function r(i){let o=Io(n)?Kn(n.index,e):e;OC(o,5);let s=e[en],a=MP(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=MP(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function MP(n,e,t,r){let i=Ce(null);try{return Ve(6,e,t),t(r)!==!1}catch(o){return kj(n,o),!1}finally{Ve(7,e,t),Ce(i)}}function mU(n,e,t,r,i,o,s,a){let c=Ql(n),u=!1,d=null;if(!r&&c&&(d=yU(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=ur(n,t),g=r?r(f):f;L2(t,g,o,a);let m=i.listen(g,o,a),E=r?S=>r(Wn(S[n.index])):n.index;XS(E,e,t,o,a,m,!1)}return u}function yU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Za],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function XS(n,e,t,r,i,o,s){let a=e.firstCreatePass?dv(e):null,c=uv(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function DP(n,e,t,r,i,o){let s=e[t],a=e[de],u=a.data[t].outputs[r],f=s[u].subscribe(o);XS(n.index,a,e,i,o,f,!0)}var Zv=Symbol("BINDING");var qf=class extends du{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=wo(e);return new sc(t,this.ngModule)}};function _U(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&op.SignalBased)!==0};return i&&(o.transform=i),o})}function vU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function CU(n,e,t){let r=e instanceof vt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Yv(t,r):t}function wU(n){let e=n.get(Si,null);if(e===null)throw new L(407,!1);let t=n.get(HS,null),r=n.get(Ii,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function EU(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return vS(e,t,t==="svg"?AT:t==="math"?RT:null)}var sc=class extends cp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_U(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Z2(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ve(22);let a=Ce(null);try{let c=this.componentDef,u=bU(r,c,s,o),d=CU(c,i||this.ngModule,e),f=wU(d),g=f.rendererFactory.createRenderer(null,c),m=r?wj(g,r,c.encapsulation,d):EU(c,g),E=s?.some(TP)||o?.some(V=>typeof V!="function"&&V.bindings.some(TP)),S=CC(null,u,null,512|ES(c),null,null,f,g,d,null,lS(m,d,!0));S[$t]=m,If(S);let A=null;try{let V=WS($t,S,2,"#host",()=>u.directiveRegistry,!0,0);m&&(wS(g,m,V),oc(m,S)),DC(u,S,V),dS(u,V,S),KS(u,V),t!==void 0&&MU(V,this.ngContentSelectors,t),A=Kn(V.index,S),S[en]=A[en],PC(u,S,null)}catch(V){throw A!==null&&$v(A),$v(S),V}finally{Ve(23),Mf()}return new Gf(this.componentType,S,!!E)}finally{Ce(a)}}};function bU(n,e,t,r){let i=n?["ng-version","20.1.3"]:X2(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Zv].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[Zv].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=X_(f);c.push(g)}return vC(0,null,IU(o,s),1,a,c,null,null,null,[i],null)}function IU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function TP(n){let e=n[Zv].kind;return e==="input"||e==="twoWay"}var Gf=class extends zS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=mf(t[de],$t),this.location=lc(this._tNode,t),this.instance=Kn(this._tNode.index,t)[en],this.hostView=this.changeDetectorRef=new Do(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=TC(r,i[de],i,e,t);this.previousInputValues.set(e,t);let s=Kn(r.index,i);OC(s,1)}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var xi=(()=>{class n{static __NG_ELEMENT_ID__=DU}return n})();function DU(){let n=Ht();return eO(n,Te())}var TU=xi,JS=class extends TU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){let e=hC(this._hostTNode,this._hostLView);if(GP(e)){let t=jf(e,this._hostLView),r=Vf(e),i=t[de].data[r+8];return new Rs(i,t)}else return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=PP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=CP(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,_P(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!c2(e),u;if(c)u=t;else{let A=t||{};u=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let d=c?e:new sc(wo(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let V=(c?f:this.parentInjector).get(vt,null);V&&(o=V)}let g=wo(d.componentType??{}),m=CP(this._lContainer,g?.id??null),E=m?.firstChild??null,S=d.create(f,i,E,o,s,a);return this.insertImpl(S.hostView,u,_P(this._hostTNode,m)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(kT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Rt],u=new JS(c,c[qn],c[Rt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Jj(s,i,o,r),e.attachToViewContainerRef(),K_(Av(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=PP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Kv(this._lContainer,t);r&&($l(Av(this._lContainer),t),DS(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=Kv(this._lContainer,t);return r&&$l(Av(this._lContainer),t)!=null?new Do(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function PP(n){return n[Kl]}function Av(n){return n[Kl]||(n[Kl]=[])}function eO(n,e){let t,r=e[n.index];return lr(r)?t=r:(t=BS(r,e,null,n),e[n.index]=t,wC(e,t)),SU(t,e,n,r),new JS(t,n,e)}function PU(n,e){let t=n[at],r=t.createComment(""),i=ur(e,n),o=t.parentNode(i);return Hf(t,o,r,t.nextSibling(i),!1),r}var SU=AU,OU=()=>!1;function xU(n,e,t){return OU(n,e,t)}function AU(n,e,t,r){if(n[bo])return;let i;t.type&8?i=Wn(r):i=PU(e,t),n[bo]=i}var Xv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Jv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)RC(e,t).matches!==null&&this.queries[t].setDirty()}},eC=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=UU(e):this.predicate=e}},tC=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},nC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,RU(t,o)),this.matchTNodeWithReadOption(e,t,kf(t,e,o,!1,!1))}else r===To?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,kf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===fn||i===xi||i===To&&t.type&4)this.addMatch(t.index,-2);else{let o=kf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function RU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function NU(n,e){return n.type&11?lc(n,e):n.type&4?ap(n,e):null}function kU(n,e,t,r){return t===-1?NU(e,n):t===-2?FU(n,e,r):ou(n,n[de],t,e)}function FU(n,e,t){if(t===fn)return lc(e,n);if(t===To)return ap(e,n);if(t===xi)return eO(e,n)}function tO(n,e,t,r){let i=e[kr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(kU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function rC(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=tO(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=hn;f<d.length;f++){let g=d[f];g[Eo]===g[Rt]&&rC(g[de],g,u,r)}if(d[Os]!==null){let f=d[Os];for(let g=0;g<f.length;g++){let m=f[g];rC(m[de],m,u,r)}}}}}return r}function LU(n,e){return n[kr].queries[e].queryList}function VU(n,e,t){let r=new $f((t&4)===4);return VT(n,e,r,r.destroy),(e[kr]??=new Jv).queries.push(new Xv(r))-1}function jU(n,e,t,r){let i=zt();if(i.firstCreatePass){let o=Ht();BU(i,new eC(e,t,r),o.index),$U(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return VU(i,Te(),t)}function UU(n){return n.split(",").map(e=>e.trim())}function BU(n,e,t){n.queries===null&&(n.queries=new tC),n.queries.track(new nC(e,t))}function $U(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function RC(n,e){return n.queries.getByIndex(e)}function zU(n,e){let t=n[de],r=RC(t,e);return r.crossesNgTemplate?rC(t,n,e,[]):tO(t,n,r,e)}var SP=new Set;function Ls(n){SP.has(n)||(SP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ks=class{},up=class{};var Wf=class extends ks{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Z_(e);this._bootstrapComponents=yS(o.bootstrap),this._r3Injector=wv(e,t,[{provide:ks,useValue:this},{provide:du,useValue:this.componentFactoryResolver},...r],bi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kf=class extends up{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Wf(this.moduleType,e,[])}};var au=class extends ks{injector;componentFactoryResolver=new qf(this);instance=null;constructor(e){super();let t=new Es([...e.providers,{provide:ks,useValue:this},{provide:du,useValue:this.componentFactoryResolver}],e.parent||Hl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hu(n,e,t=null){return new au({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var HU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=J_(!1,t.type),i=r.length>0?hu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Y(vt))})}return n})();function qt(n){return cc(()=>{let e=nO(n),t=le(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(HU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pi.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ls("NgStandalone"),rO(t);let r=n.dependencies;return t.directiveDefs=OP(r,qU),t.pipeDefs=OP(r,IT),t.id=KU(t),t})}function qU(n){return wo(n)||X_(n)}function gr(n){return cc(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function GU(n,e){if(n==null)return Co;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=op.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function WU(n){if(n==null)return Co;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ue(n){return cc(()=>{let e=nO(n);return rO(e),e})}function uc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function nO(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Co,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:GU(n.inputs,e),outputs:WU(n.outputs),debugInfo:null}}function rO(n){n.features?.forEach(e=>e(n))}function OP(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function KU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function QU(n){return Object.getPrototypeOf(n.prototype).constructor}function pn(n){let e=QU(n.type),t=!0,r=[n];for(;e;){let i;if(Lr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Rv(n.inputs),s.declaredInputs=Rv(n.declaredInputs),s.outputs=Rv(n.outputs);let a=i.hostBindings;a&&eB(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&XU(n,c),u&&JU(n,u),YU(n,i),mT(n.outputs,i.outputs),Lr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===pn&&(t=!1)}}e=Object.getPrototypeOf(e)}ZU(r)}function YU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function ZU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=iu(i.hostAttrs,t=iu(t,i.hostAttrs))}}function Rv(n){return n===Co?{}:n===dn?[]:n}function XU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function JU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function eB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tB(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=iu(n.mergedAttrs,n.attrs);let d=n.tView=vC(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),tc(n,!1);let c=rB(t,e,n,r);Tf()&&IC(t,e,c,n),oc(c,e);let u=BS(c,e,c,n);e[r+$t]=u,wC(e,u),xU(u,n,e)}function nB(n,e,t,r,i,o,s,a,c,u,d){let f=t+$t,g;return e.firstCreatePass?(g=xC(e,f,4,s||null,a||null),hv()&&qS(e,n,g,Yl(e.consts,u),xS),zP(e,g)):g=e.data[f],tB(g,n,e,t,r,i,o,c),Ql(g)&&DC(e,n,g),u!=null&&SS(n,g,d),g}function _e(n,e,t,r,i,o,s,a){let c=Te(),u=zt(),d=Yl(u.consts,o);return nB(c,u,n,e,t,r,i,d,void 0,s,a),_e}var rB=iB;function iB(n,e,t,r){return Pf(!0),e[at].createComment("")}var dp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(dp||{}),Vs=new W(""),iO=!1,iC=class extends Ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,OT()&&(this.destroyRef=F(Qn,{optional:!0})??void 0,this.pendingTasks=F(jr,{optional:!0})??void 0)}emit(e){let t=Ce(null);try{super.next(e)}finally{Ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pt=iC;function oO(n){let e,t;function r(){n=tu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xP(n){return queueMicrotask(()=>n()),()=>{n=tu}}var NC="isAngularZone",Qf=NC+"_ID",oB=0,Pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pt(!1);onMicrotaskEmpty=new pt(!1);onStable=new pt(!1);onError=new pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=iO}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,cB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(NC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,sB,tu,tu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},sB={};function kC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aB(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){oO(()=>{n.callbackScheduled=!1,oC(n),n.isCheckStableRunning=!0,kC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),oC(n)}function cB(n){let e=()=>{aB(n)},t=oB++;n._inner=n._inner.fork({name:"angular",properties:{[NC]:!0,[Qf]:t,[Qf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(lB(c))return r.invokeTask(o,s,a,c);try{return AP(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),RP(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return AP(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!uB(c)&&e(),RP(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,oC(n),kC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function oC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function AP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RP(n){n._nesting--,kC(n)}var Yf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pt;onMicrotaskEmpty=new pt;onStable=new pt;onError=new pt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function lB(n){return sO(n,"__ignore_ng_zone__")}function uB(n){return sO(n,"__scheduler_tick__")}function sO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var FC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),aO=[0,1,2,3],cO=(()=>{class n{ngZone=F(Pe);scheduler=F(Ii);errorHandler=F(ar,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Vs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ve(16),this.executing=!0;for(let r of aO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ve(17)}register(t){let{view:r}=t;r!==void 0?((r[Ss]??=[]).push(t),ec(r),r[fe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(dp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ss];e&&(this.view[Ss]=e.filter(t=>t!==this))}};function hp(n,e){let t=e?.injector??F(tt);return Ls("NgAfterNextRender"),hB(n,t,e,!0)}function dB(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function hB(n,e,t,r){let i=e.get(FC);i.impl??=e.get(cO);let o=e.get(Vs,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Qn):null,a=e.get(Sf,null,{optional:!0}),c=new Zf(i.impl,dB(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var LC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var VC=new W("");function Ai(n){return!!n&&typeof n.then=="function"}function fp(n){return!!n&&typeof n.subscribe=="function"}var jC=new W("");function pp(n){return Nt([{provide:jC,multi:!0,useValue:n}])}var UC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(jC,{optional:!0})??[];injector=F(tt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ot(this.injector,i);if(Ai(o))t.push(o);else if(fp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gp=new W("");function lO(){r_(()=>{let n="";throw new L(600,n)})}function uO(n){return n.isBoundToModule}var fB=10;var Zn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(tn);afterRenderManager=F(FC);zonelessEnabled=F(eu);rootEffectScheduler=F(Tv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ze;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(jr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(he(t=>!t))}constructor(){F(Vs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=tt.NULL){return this._injector.get(Pe).run(()=>{Ve(10);let s=t instanceof cp;if(!this._injector.get(UC).done){let E="";throw new L(405,E)}let c;s?c=t:c=this._injector.get(du).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=uO(c)?void 0:this._injector.get(ks),d=r||c.selector,f=c.create(i,[],d,u),g=f.location.nativeElement,m=f.injector.get(VC,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),ru(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Ve(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(dp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=Ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ce(t),this.afterTick.next(),Ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Si,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<fB;)Ve(14),this.synchronizeOnce(),Ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Zl(i))continue;let o=r&&!this.zonelessEnabled?0:1;SC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ru(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(gp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ru(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ru(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function So(n,e,t,r){let i=Te(),o=Jl();if(Oi(i,o,e)){let s=zt(),a=Df();Oj(a,i,n,e,t,r)}return So}function J(n,e,t){let r=Te(),i=Jl();if(Oi(r,i,e)){let o=zt(),s=Df();OS(s,r,n,e,r[at],t)}return J}function sC(n,e,t,r,i){TC(e,n,t,i?"class":"style",r)}function v(n,e,t,r){let i=Te(),o=i[de],s=n+$t,a=o.firstCreatePass?WS(s,i,2,e,xS,hv(),t,r):o.data[s];if(Rj(a,i,n,e,pB),Ql(a)){let c=i[de];DC(c,i,a),dS(c,a,i)}return r!=null&&SS(i,a),v}function C(){let n=zt(),e=Ht(),t=Nj(e);return n.firstCreatePass&&KS(n,t),zT(t)&&HT(),BT(),t.classesWithoutHost!=null&&p2(t)&&sC(n,t,Te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&g2(t)&&sC(n,t,Te(),t.stylesWithoutHost,!1),C}function Ri(n,e,t,r){return v(n,e,t,r),C(),Ri}var pB=(n,e,t,r,i)=>(Pf(!0),vS(e[at],r,iP()));function gt(){return Te()}var As=void 0;function gB(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var mB=["en",[["a","p"],["AM","PM"],As],[["AM","PM"],As,As],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],As,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],As,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",As,"{1} 'at' {0}",As],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gB],Nv={};function gn(n){let e=yB(n),t=NP(e);if(t)return t;let r=e.split("-")[0];if(t=NP(r),t)return t;if(r==="en")return mB;throw new L(701,!1)}function NP(n){return n in Nv||(Nv[n]=Mi.ng&&Mi.ng.common&&Mi.ng.common.locales&&Mi.ng.common.locales[n]),Nv[n]}var ct=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ct||{});function yB(n){return n.toLowerCase().replace(/_/g,"-")}var fu="en-US",_B="USD";var vB=fu;function dO(n){typeof n=="string"&&(vB=n.toLowerCase().replace(/_/g,"-"))}function ie(n,e,t){let r=Te(),i=zt(),o=Ht();return hO(i,r,r[at],o,n,e,t),ie}function hO(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=xv(r,e,o),mU(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=xv(r,e,o),DP(r,e,g,m,i,c)}if(u&&u.length)for(let f of u)c??=xv(r,e,o),DP(r,e,f,i,i,c)}}function ae(n=1){return rP(n)}function BC(n,e,t,r){jU(n,e,t,r)}function $C(n){let e=Te(),t=zt(),r=_v();bf(r+1);let i=RC(t,r);if(n.dirty&&NT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=zU(e,r);n.reset(o,P2),n.notifyOnChanges()}return!0}return!1}function zC(){return LU(Te(),_v())}function Oo(n){let e=WT();return yf(e,$t+n)}function Af(n,e){return n<<17|e<<2}function Fs(n){return n>>17&32767}function CB(n){return(n&2)==2}function wB(n,e){return n&131071|e<<17}function aC(n){return n|2}function ac(n){return(n&131068)>>2}function kv(n,e){return n&-131069|e<<2}function EB(n){return(n&1)===1}function cC(n){return n|1}function bB(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fs(s),c=ac(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Ya(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=Fs(n[a+1]);n[r+1]=Af(g,a),g!==0&&(n[g+1]=kv(n[g+1],r)),n[a+1]=wB(n[a+1],r)}else n[r+1]=Af(a,0),a!==0&&(n[a+1]=kv(n[a+1],r)),a=r;else n[r+1]=Af(c,0),a===0?a=r:n[c+1]=kv(n[c+1],r),c=r;u&&(n[r+1]=aC(n[r+1])),kP(n,d,r,!0),kP(n,d,r,!1),IB(e,d,n,r,o),s=Af(a,c),o?e.classBindings=s:e.styleBindings=s}function IB(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ya(o,e)>=0&&(t[r+1]=cC(t[r+1]))}function kP(n,e,t,r){let i=n[t+1],o=e===null,s=r?Fs(i):ac(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];MB(c,e)&&(a=!0,n[s+1]=r?cC(u):aC(u)),s=r?Fs(u):ac(u)}a&&(n[t+1]=r?aC(i):cC(i))}function MB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ya(n,e)>=0:!1}var hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DB(n){return n.substring(hr.key,hr.keyEnd)}function TB(n){return PB(n),fO(n,pO(n,0,hr.textEnd))}function fO(n,e){let t=hr.textEnd;return t===e?-1:(e=hr.keyEnd=SB(n,hr.key=e,t),pO(n,e,t))}function PB(n){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=n.length}function pO(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function SB(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function mr(n,e,t){return gO(n,e,t,!1),mr}function Gt(n,e){return gO(n,e,null,!0),Gt}function mp(n){xB(LB,OB,n,!0)}function OB(n,e){for(let t=TB(e);t>=0;t=fO(e,t))ff(n,DB(e),!0)}function gO(n,e,t,r){let i=Te(),o=zt(),s=wf(2);if(o.firstUpdatePass&&yO(o,n,s,r),e!==kn&&Oi(i,s,e)){let a=o.data[Ti()];_O(o,a,i,i[at],n,i[s+1]=jB(e,t),r,s)}}function xB(n,e,t,r){let i=zt(),o=wf(2);i.firstUpdatePass&&yO(i,null,o,r);let s=Te();if(t!==kn&&Oi(s,o,t)){let a=i.data[Ti()];if(vO(a,r)&&!mO(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=lf(c,t||"")),sC(i,a,s,t,r)}else VB(i,a,s,s[at],s[o+1],s[o+1]=FB(n,e,t),r,o)}}function mO(n,e){return e>=n.expandoStartIndex}function yO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ti()],s=mO(n,t);vO(o,r)&&e===null&&!s&&(e=!1),e=AB(i,o,e,r),bB(i,o,e,t,s,r)}}function AB(n,e,t,r){let i=JT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Fv(null,n,e,t,r),t=cu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Fv(i,n,e,t,r),o===null){let c=RB(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Fv(null,n,e,c[1],r),c=cu(c,e.attrs,r),NB(n,e,r,c))}else o=kB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function RB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ac(r)!==0)return n[Fs(r)]}function NB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Fs(i)]=r}function kB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=cu(r,s,t)}return cu(r,e.attrs,t)}function Fv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=cu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function cu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ff(n,s,t?!0:e[++o]))}return n===void 0?null:n}function FB(n,e,t){if(t==null||t==="")return dn;let r=[],i=uu(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function LB(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ff(n,r,t)}function VB(n,e,t,r,i,o,s,a){i===kn&&(i=dn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,E=null,S;d===f?(c+=2,u+=2,g!==m&&(E=f,S=m)):f===null||d!==null&&d<f?(c+=2,E=d):(u+=2,E=f,S=m),E!==null&&_O(n,e,t,r,E,S,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function _O(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=EB(u)?FP(c,e,t,i,ac(u),s):void 0;if(!Xf(d)){Xf(o)||CB(u)&&(o=FP(c,null,t,i,a,s));let f=ov(Ti(),t);Cj(r,s,f,i,o)}}function FP(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=t[i+1];g===kn&&(g=f?dn:void 0);let m=f?pf(g,r):d===r?g:void 0;if(u&&!Xf(m)&&(m=pf(c,r)),Xf(m)&&(a=m,s))return a;let E=n[i+1];i=s?Fs(E):ac(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=pf(c,r))}return a}function Xf(n){return n!==void 0}function jB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bi(uu(n)))),n}function vO(n,e){return(n.flags&(e?8:16))!==0}function M(n,e=""){let t=Te(),r=zt(),i=n+$t,o=r.firstCreatePass?xC(r,i,1,e,null):r.data[i],s=UB(r,t,o,e,n);t[i]=s,Tf()&&IC(r,t,s,o),tc(o,!1)}var UB=(n,e,t,r,i)=>(Pf(!0),J2(e[at],r));function BB(n,e,t,r=""){return Oi(n,Jl(),t)?e+Ms(t)+r:kn}function $B(n,e,t,r,i,o=""){let s=KT(),a=ZS(n,s,t,i);return wf(2),a?e+Ms(t)+r+Ms(i)+o:kn}function Ae(n){return qe("",n),Ae}function qe(n,e,t){let r=Te(),i=BB(r,n,e,t);return i!==kn&&CO(r,Ti(),i),qe}function $r(n,e,t,r,i){let o=Te(),s=$B(o,n,e,t,r,i);return s!==kn&&CO(o,Ti(),s),$r}function CO(n,e,t){let r=ov(e,n);ej(n[at],r,t)}function Xe(n,e,t){Iv(e)&&(e=e());let r=Te(),i=Jl();if(Oi(r,i,e)){let o=zt(),s=Df();OS(s,r,n,e,r[at],t)}return Xe}function nt(n,e){let t=Iv(n);return t&&n.set(e),t}function Je(n,e){let t=Te(),r=zt(),i=Ht();return hO(r,t,t[at],i,n,e),Je}function zB(n,e,t){let r=zt();if(r.firstCreatePass){let i=Lr(n);lC(t,r.data,r.blueprint,i,!0),lC(e,r.data,r.blueprint,i,!1)}}function lC(n,e,t,r,i){if(n=Bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)lC(n[o],e,t,r,i);else{let o=zt(),s=Te(),a=Ht(),c=ws(n)?n:Bt(n.provide),u=tv(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(ws(n)||!n.multi){let m=new Ns(u,i,$,null),E=Vv(c,e,i?d:d+g,f);E===-1?(Uv(Bf(a,s),o,c),Lv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[E]=m,s[E]=m)}else{let m=Vv(c,e,d+g,f),E=Vv(c,e,d,d+g),S=m>=0&&t[m],A=E>=0&&t[E];if(i&&!A||!i&&!S){Uv(Bf(a,s),o,c);let V=GB(i?qB:HB,t.length,i,r,u,n);!i&&A&&(t[E].providerFactory=V),Lv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=wO(t[i?E:m],u,!i&&r);Lv(o,n,m>-1?m:E,V)}!i&&r&&A&&t[E].componentProviders++}}}function Lv(n,e,t,r){let i=ws(e),o=ST(e);if(i||o){let c=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function wO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function HB(n,e,t,r,i){return uC(this.multi,[])}function qB(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ou(r,r[de],this.providerFactory.index,i);s=c.slice(0,a),uC(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],uC(o,s);return s}function uC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function GB(n,e,t,r,i,o){let s=new Ns(n,t,$,null);return s.multi=[],s.index=e,s.componentProviders=0,wO(s,i,r&&!t),s}function yr(n,e=[]){return t=>{t.providersResolver=(r,i)=>zB(r,i?i(n):n,e)}}function pu(n,e,t,r){return bO(Te(),Cf(),n,e,t,r)}function EO(n,e){let t=n[e];return t===kn?void 0:t}function bO(n,e,t,r,i,o){let s=e+t;return Oi(n,s,i)?YS(n,s+1,o?r.call(o,i):r(i)):EO(n,s+1)}function WB(n,e,t,r,i,o,s){let a=e+t;return ZS(n,a,i,o)?YS(n,a+2,s?r.call(s,i,o):r(i,o)):EO(n,a+2)}function Be(n,e){let t=zt(),r,i=n+$t;t.firstCreatePass?(r=KB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=_o(r.type,!0)),s,a=un($);try{let c=Uf(!1),u=o();return Uf(c),sv(t,Te(),i,u),u}finally{un(a)}}function KB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Wt(n,e,t){let r=n+$t,i=Te(),o=yf(i,r);return IO(i,r)?bO(i,Cf(),e,o.transform,t,o):o.transform(t)}function mn(n,e,t,r){let i=n+$t,o=Te(),s=yf(o,i);return IO(o,i)?WB(o,Cf(),e,s.transform,t,r,s):s.transform(t,r)}function IO(n,e){return n[de].data[e].pure}function HC(n,e){return ap(n,e)}var Jf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},qC=(()=>{class n{compileModuleSync(t){return new Kf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Z_(t),o=yS(i.declarations).reduce((s,a)=>{let c=wo(a);return c&&s.push(new sc(c)),s},[]);return new Jf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QB=(()=>{class n{zone=F(Pe);changeDetectionScheduler=F(Ii);applicationRef=F(Zn);applicationErrorHandler=F(tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MO=new W("",{factory:()=>!1});function GC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Pe(le(j({},KC()),{scheduleInRootZone:t})),[{provide:Pe,useFactory:n},{provide:Di,multi:!0,useFactory:()=>{let r=F(QB,{optional:!0});return()=>r.initialize()}},{provide:Di,multi:!0,useFactory:()=>{let r=F(YB);return()=>{r.initialize()}}},e===!0?{provide:Mv,useValue:!0}:[],{provide:Dv,useValue:t??iO},{provide:tn,useFactory:()=>{let r=F(Pe),i=F(vt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(ar),o.handleError(s))})}}}]}function WC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=GC({ngZoneFactory:()=>{let i=KC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ls("NgZone_CoalesceEvent"),new Pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Nt([{provide:MO,useValue:!0},{provide:eu,useValue:!1},r])}function KC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YB=(()=>{class n{subscription=new je;initialized=!1;zone=F(Pe);pendingTasks=F(jr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DO=(()=>{class n{applicationErrorHandler=F(tn);appRef=F(Zn);taskService=F(jr);ngZone=F(Pe);zonelessEnabled=F(eu);tracing=F(Vs,{optional:!0});disableScheduling=F(Mv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(Dv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xP:oO;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZB(){return typeof $localize<"u"&&$localize.locale||fu}var js=new W("",{providedIn:"root",factory:()=>F(js,{optional:!0,skipSelf:!0})||ZB()}),QC=new W("",{providedIn:"root",factory:()=>_B});function In(n){return fT(n)}function dc(n,e){return Oh(n,e?.equal)}var TO=class{[Jt];constructor(e){this[Jt]=e}destroy(){this[Jt].destroy()}};var AO=Symbol("InputSignalNode#UNSET"),c5=le(j({},xh),{transformFn:void 0,applyValueToInputSignal(n,e){Na(n,e)}});function RO(n,e){let t=Object.create(c5);t.value=n,t.transformFn=e?.transform;function r(){if(Aa(t),t.value===AO){let i=null;throw new L(-950,i)}return t.value}return r[Jt]=t,r}var _p=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>lu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},l5=new W("");l5.__NG_ELEMENT_ID__=n=>{let e=Ht();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function PO(n,e){return RO(n,e)}function u5(n){return RO(AO,n)}var NO=(PO.required=u5,PO);var hc=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},kO=new hc("20.1.3");var YC=new W(""),d5=new W("");function gu(n){return!n.moduleRef}function h5(n){let e=gu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Pe);return t.run(()=>{gu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(tn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),gu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(YC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(YC);s.add(o),n.moduleRef.onDestroy(()=>{ru(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return p5(r,t,()=>{let o=e.get(jr),s=o.add(),a=e.get(UC);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(js,fu);if(dO(c||fu),!e.get(d5,!0))return gu(n)?e.get(Zn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(gu(n)){let d=e.get(Zn);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return f5?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var f5;function p5(n,e,t){try{let r=t();return Ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var yp=null;function g5(n=[],e){return tt.create({name:e,providers:[{provide:zl,useValue:"platform"},{provide:YC,useValue:new Set([()=>yp=null])},...n]})}function m5(n=[]){if(yp)return yp;let e=g5(n);return yp=e,lO(),y5(e),e}function y5(n){let e=n.get(tp,null);Ot(n,()=>{e?.forEach(t=>t())})}function mu(){return!1}var Ni=(()=>{class n{static __NG_ELEMENT_ID__=_5}return n})();function _5(n){return v5(Ht(),Te(),(n&16)===16)}function v5(n,e,t){if(Io(n)&&!t){let r=Kn(n.index,e);return new Do(r,r)}else if(n.type&175){let r=e[Gn];return new Do(r,e)}return null}var ZC=class{constructor(){}supports(e){return AC(e)}create(e){return new XC(e)}},C5=(n,e)=>e,XC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||C5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<SO(r,i,o)?t:r,a=SO(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let m=g<o.length?o[g]:o[g]=0,E=m+g;d<=E&&E<u&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!AC(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,QS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new JC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new vp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},JC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ew=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},vp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ew,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SO(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var tw=class{constructor(){}supports(e){return e instanceof Map||lp(e)}create(){return new nw}},nw=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||lp(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new rw(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},rw=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function OO(){return new iw([new ZC])}var iw=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:OO});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OO()),deps:[[n,new dC,new wt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function xO(){return new ow([new tw])}var ow=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:xO});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xO()),deps:[[n,new dC,new wt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();function FO(n){Ve(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=m5(r),o=[GC({}),{provide:Ii,useExisting:DO},sP,...t||[]],s=new au({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return h5({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ve(9)}}function Bs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var jO=null;function Xn(){return jO}function sw(n){jO??=n}var yu=class{},aw=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>F(UO),providedIn:"platform"})}return n})();var UO=(()=>{class n extends aw{_location;_history;_doc=F(Ct);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xn().getBaseHref(this._doc)}onPopState(t){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function BO(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LO(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function xo(n){return n&&n[0]!=="?"?`?${n}`:n}var fc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>F(zO),providedIn:"root"})}return n})(),$O=new W(""),zO=(()=>{class n extends fc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return BO(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+xo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+xo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+xo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(aw),Y($O,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pc=(()=>{class n{_subject=new Ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=b5(LO(VO(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xo(r))}normalize(t){return n.stripTrailingSlash(E5(this._basePath,VO(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xo;static joinWithSlash=BO;static stripTrailingSlash=LO;static \u0275fac=function(r){return new(r||n)(Y(fc))};static \u0275prov=z({token:n,factory:()=>w5(),providedIn:"root"})}return n})();function w5(){return new pc(Y(fc))}function E5(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VO(n){return n.replace(/\/index.html$/,"")}function b5(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var QO={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Sp=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Sp||{});var nn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(nn||{}),$e=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}($e||{}),Mn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Mn||{}),Kt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function YO(n){return gn(n)[ct.LocaleId]}function ZO(n,e,t){let r=gn(n),i=[r[ct.DayPeriodsFormat],r[ct.DayPeriodsStandalone]],o=Jn(i,e);return Jn(o,t)}function XO(n,e,t){let r=gn(n),i=[r[ct.DaysFormat],r[ct.DaysStandalone]],o=Jn(i,e);return Jn(o,t)}function JO(n,e,t){let r=gn(n),i=[r[ct.MonthsFormat],r[ct.MonthsStandalone]],o=Jn(i,e);return Jn(o,t)}function ex(n,e){let r=gn(n)[ct.Eras];return Jn(r,e)}function _u(n,e){let t=gn(n);return Jn(t[ct.DateFormat],e)}function vu(n,e){let t=gn(n);return Jn(t[ct.TimeFormat],e)}function Cu(n,e){let r=gn(n)[ct.DateTimeFormat];return Jn(r,e)}function vr(n,e){let t=gn(n),r=t[ct.NumberSymbols][e];if(typeof r>"u"){if(e===Kt.CurrencyDecimal)return t[ct.NumberSymbols][Kt.Decimal];if(e===Kt.CurrencyGroup)return t[ct.NumberSymbols][Kt.Group]}return r}function gw(n,e){return gn(n)[ct.NumberFormats][e]}function I5(n){return gn(n)[ct.Currencies]}function tx(n){if(!n[ct.ExtraData])throw new L(2303,!1)}function nx(n){let e=gn(n);return tx(e),(e[ct.ExtraData][2]||[]).map(r=>typeof r=="string"?cw(r):[cw(r[0]),cw(r[1])])}function rx(n,e,t){let r=gn(n);tx(r);let i=[r[ct.ExtraData][0],r[ct.ExtraData][1]],o=Jn(i,e)||[];return Jn(o,t)||[]}function Jn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new L(2304,!1)}function cw(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function ix(n,e,t="en"){let r=I5(t)[n]||QO[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var M5=2;function ox(n){let e,t=QO[n];return t&&(e=t[2]),typeof e=="number"?e:M5}var D5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cp={},T5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function sx(n,e,t,r){let i=F5(n);e=ki(t,e)||e;let s=[],a;for(;e;)if(a=T5.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=cx(r,c),i=k5(i,r));let u="";return s.forEach(d=>{let f=R5(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Mp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ki(n,e){let t=YO(n);if(Cp[t]??={},Cp[t][e])return Cp[t][e];let r="";switch(e){case"shortDate":r=_u(n,Mn.Short);break;case"mediumDate":r=_u(n,Mn.Medium);break;case"longDate":r=_u(n,Mn.Long);break;case"fullDate":r=_u(n,Mn.Full);break;case"shortTime":r=vu(n,Mn.Short);break;case"mediumTime":r=vu(n,Mn.Medium);break;case"longTime":r=vu(n,Mn.Long);break;case"fullTime":r=vu(n,Mn.Full);break;case"short":let i=ki(n,"shortTime"),o=ki(n,"shortDate");r=wp(Cu(n,Mn.Short),[i,o]);break;case"medium":let s=ki(n,"mediumTime"),a=ki(n,"mediumDate");r=wp(Cu(n,Mn.Medium),[s,a]);break;case"long":let c=ki(n,"longTime"),u=ki(n,"longDate");r=wp(Cu(n,Mn.Long),[c,u]);break;case"full":let d=ki(n,"fullTime"),f=ki(n,"fullDate");r=wp(Cu(n,Mn.Full),[d,f]);break}return r&&(Cp[t][e]=r),r}function wp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function _r(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function P5(n,e){return _r(n,3).substring(0,e)}function Et(n,e,t=0,r=!1,i=!1){return function(o,s){let a=S5(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return P5(a,e);let c=vr(s,Kt.MinusSign);return _r(a,e,c,r,i)}}function S5(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new L(2301,!1)}}function We(n,e,t=nn.Format,r=!1){return function(i,o){return O5(i,o,n,e,t,r)}}function O5(n,e,t,r,i,o){switch(t){case 2:return JO(e,i,r)[n.getMonth()];case 1:return XO(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=nx(e),d=rx(e,i,r),f=u.findIndex(g=>{if(Array.isArray(g)){let[m,E]=g,S=s>=m.hours&&a>=m.minutes,A=s<E.hours||s===E.hours&&a<E.minutes;if(m.hours<E.hours){if(S&&A)return!0}else if(S||A)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return ZO(e,i,r)[s<12?0:1];case 3:return ex(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new L(2302,!1)}}function Ep(n){return function(e,t,r){let i=-1*r,o=vr(t,Kt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+_r(s,2,o)+_r(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+_r(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+_r(s,2,o)+":"+_r(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+_r(s,2,o)+":"+_r(Math.abs(i%60),2,o);default:throw new L(2302,!1)}}}var x5=0,Ip=4;function A5(n){let e=Mp(n,x5,1).getDay();return Mp(n,0,1+(e<=Ip?Ip:Ip+7)-e)}function ax(n){let e=n.getDay(),t=e===0?-3:Ip-e;return Mp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function lw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ax(t),s=A5(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return _r(i,n,vr(r,Kt.MinusSign))}}function bp(n,e=!1){return function(t,r){let o=ax(t).getFullYear();return _r(o,n,vr(r,Kt.MinusSign),e)}}var uw={};function R5(n){if(uw[n])return uw[n];let e;switch(n){case"G":case"GG":case"GGG":e=We(3,$e.Abbreviated);break;case"GGGG":e=We(3,$e.Wide);break;case"GGGGG":e=We(3,$e.Narrow);break;case"y":e=Et(0,1,0,!1,!0);break;case"yy":e=Et(0,2,0,!0,!0);break;case"yyy":e=Et(0,3,0,!1,!0);break;case"yyyy":e=Et(0,4,0,!1,!0);break;case"Y":e=bp(1);break;case"YY":e=bp(2,!0);break;case"YYY":e=bp(3);break;case"YYYY":e=bp(4);break;case"M":case"L":e=Et(1,1,1);break;case"MM":case"LL":e=Et(1,2,1);break;case"MMM":e=We(2,$e.Abbreviated);break;case"MMMM":e=We(2,$e.Wide);break;case"MMMMM":e=We(2,$e.Narrow);break;case"LLL":e=We(2,$e.Abbreviated,nn.Standalone);break;case"LLLL":e=We(2,$e.Wide,nn.Standalone);break;case"LLLLL":e=We(2,$e.Narrow,nn.Standalone);break;case"w":e=lw(1);break;case"ww":e=lw(2);break;case"W":e=lw(1,!0);break;case"d":e=Et(2,1);break;case"dd":e=Et(2,2);break;case"c":case"cc":e=Et(7,1);break;case"ccc":e=We(1,$e.Abbreviated,nn.Standalone);break;case"cccc":e=We(1,$e.Wide,nn.Standalone);break;case"ccccc":e=We(1,$e.Narrow,nn.Standalone);break;case"cccccc":e=We(1,$e.Short,nn.Standalone);break;case"E":case"EE":case"EEE":e=We(1,$e.Abbreviated);break;case"EEEE":e=We(1,$e.Wide);break;case"EEEEE":e=We(1,$e.Narrow);break;case"EEEEEE":e=We(1,$e.Short);break;case"a":case"aa":case"aaa":e=We(0,$e.Abbreviated);break;case"aaaa":e=We(0,$e.Wide);break;case"aaaaa":e=We(0,$e.Narrow);break;case"b":case"bb":case"bbb":e=We(0,$e.Abbreviated,nn.Standalone,!0);break;case"bbbb":e=We(0,$e.Wide,nn.Standalone,!0);break;case"bbbbb":e=We(0,$e.Narrow,nn.Standalone,!0);break;case"B":case"BB":case"BBB":e=We(0,$e.Abbreviated,nn.Format,!0);break;case"BBBB":e=We(0,$e.Wide,nn.Format,!0);break;case"BBBBB":e=We(0,$e.Narrow,nn.Format,!0);break;case"h":e=Et(3,1,-12);break;case"hh":e=Et(3,2,-12);break;case"H":e=Et(3,1);break;case"HH":e=Et(3,2);break;case"m":e=Et(4,1);break;case"mm":e=Et(4,2);break;case"s":e=Et(5,1);break;case"ss":e=Et(5,2);break;case"S":e=Et(6,1);break;case"SS":e=Et(6,2);break;case"SSS":e=Et(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ep(0);break;case"ZZZZZ":e=Ep(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ep(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ep(2);break;default:return null}return uw[n]=e,e}function cx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function N5(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function k5(n,e,t){let i=n.getTimezoneOffset(),o=cx(e,i);return N5(n,-1*(o-i))}function F5(n){if(HO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Mp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(D5))return L5(r)}let e=new Date(n);if(!HO(e))throw new L(2302,!1);return e}function L5(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function HO(n){return n instanceof Date&&!isNaN(n.valueOf())}var V5=/^(\d+)?\.((\d+)(-(\d+))?)?$/,qO=22,Dp=".",wu="0",j5=";",U5=",",dw="#",GO="\xA4";function lx(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=vr(t,Kt.Infinity);else{let u=$5(n);s&&(u=B5(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let q=o.match(V5);if(q===null)throw new L(2306,!1);let G=q[1],Z=q[3],ke=q[5];G!=null&&(d=hw(G)),Z!=null&&(f=hw(Z)),ke!=null?g=hw(ke):Z!=null&&f>g&&(g=f)}z5(u,f,g);let m=u.digits,E=u.integerLen,S=u.exponent,A=[];for(c=m.every(q=>!q);E<d;E++)m.unshift(0);for(;E<0;E++)m.unshift(0);E>0?A=m.splice(E,m.length):(A=m,m=[0]);let V=[];for(m.length>=e.lgSize&&V.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)V.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&V.unshift(m.join("")),a=V.join(vr(t,r)),A.length&&(a+=vr(t,i)+A.join("")),S&&(a+=vr(t,Kt.Exponential)+"+"+S)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function ux(n,e,t,r,i){let o=gw(e,Sp.Currency),s=hx(o,vr(e,Kt.MinusSign));return s.minFrac=ox(r),s.maxFrac=s.minFrac,lx(n,s,e,Kt.CurrencyGroup,Kt.CurrencyDecimal,i).replace(GO,t).replace(GO,"").trim()}function dx(n,e,t){let r=gw(e,Sp.Decimal),i=hx(r,vr(e,Kt.MinusSign));return lx(n,i,e,Kt.Group,Kt.Decimal,t)}function hx(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(j5),i=r[0],o=r[1],s=i.indexOf(Dp)!==-1?i.split(Dp):[i.substring(0,i.lastIndexOf(wu)+1),i.substring(i.lastIndexOf(wu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(dw));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===wu?t.minFrac=t.maxFrac=d+1:f===dw?t.maxFrac=d+1:t.posSuf+=f}let u=a.split(U5);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(dw);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function B5(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function $5(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Dp))>-1&&(e=e.replace(Dp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===wu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===wu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>qO&&(r=r.splice(0,qO-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function z5(n,e,t){if(e>t)throw new L(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(f,g,m,E){return g=g+f,E[m]=g<10?g:g-10,c&&(E[m]===0&&m>=u?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function hw(n){let e=parseInt(n);if(isNaN(e))throw new L(2305,!1);return e}var Tp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Tp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),WO(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);WO(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)($(xi),$(To),$(iw))};static \u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function WO(n,e){n.context.$implicit=e.item}var yn=(()=>{class n{_viewContainer;_context=new Pp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KO(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KO(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)($(xi),$(To))};static \u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Pp=class{$implicit=null;ngIf=null};function KO(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var Eu=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:fr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)($(fn),$(ow),$(pr))};static \u0275dir=Ue({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Op(n,e){return new L(2100,!1)}var fw=class{createSubscription(e,t,r){return In(()=>e.subscribe({next:t,error:r}))}dispose(e){In(()=>e.unsubscribe())}},pw=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},H5=new pw,q5=new fw,mw=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=F(tn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Ai(t))return H5;if(fp(t))return q5;throw Op(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)($(Ni,16))};static \u0275pipe=uc({name:"async",type:n,pure:!1})}return n})();var G5="mediumDate",fx=new W(""),px=new W(""),$s=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??G5,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return sx(t,s,o||this.locale,a)}catch(s){throw Op(n,s.message)}}static \u0275fac=function(r){return new(r||n)($(js,16),$(fx,24),$(px,24))};static \u0275pipe=uc({name:"date",type:n,pure:!0})}return n})();var yw=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!gx(t))return null;i||=this._locale;try{let o=mx(t);return dx(o,i,r)}catch(o){throw Op(n,o.message)}}static \u0275fac=function(r){return new(r||n)($(js,16))};static \u0275pipe=uc({name:"number",type:n,pure:!0})}return n})();var zs=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!gx(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=ix(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=mx(t);return ux(c,s,a,r,o)}catch(c){throw Op(n,c.message)}}static \u0275fac=function(r){return new(r||n)($(js,16),$(QC,16))};static \u0275pipe=uc({name:"currency",type:n,pure:!0})}return n})();function gx(n){return!(n==null||n===""||n!==n)}function mx(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new L(2309,!1);return n}var rn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=gr({type:n});static \u0275inj=zn({})}return n})();function _w(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bu=class{};var yx="browser";var Ap=new W(""),bw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(Ap),Y(Pe))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Iu=class{_doc;constructor(e){this._doc=e}manager},vw="ng-app-id";function _x(n){for(let e of n)e.remove()}function vx(n,e){let t=e.createElement("style");return t.textContent=n,t}function W5(n,e,t,r){let i=n.head?.querySelectorAll(`style[${vw}="${e}"],link[${vw}="${e}"]`);if(i)for(let o of i)o.removeAttribute(vw),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ww(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Iw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,W5(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,vx);r?.forEach(i=>this.addUsage(i,this.external,ww))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(_x(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])_x(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,vx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ww(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(Ct),Y(ep),Y(rp,8),Y(Po))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Cw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mw=/%COMP%/g;var wx="%COMP%",K5=`_nghost-${wx}`,Q5=`_ngcontent-${wx}`,Y5=!0,Z5=new W("",{providedIn:"root",factory:()=>Y5});function X5(n){return Q5.replace(Mw,n)}function J5(n){return K5.replace(Mw,n)}function Ex(n,e){return e.map(t=>t.replace(Mw,n))}var Tu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Mu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof xp?i.applyToHost(t):i instanceof Du&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Pi.Emulated:o=new xp(c,u,r,this.appId,d,s,a,f,g);break;case Pi.ShadowDom:return new Ew(c,u,t,r,s,a,this.nonce,f,g);default:o=new Du(c,u,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(bw),Y(Iw),Y(ep),Y(Z5),Y(Ct),Y(Po),Y(Pe),Y(rp),Y(Vs,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Mu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Cw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Cx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Cx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Cw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Cw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Xn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Cx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ew=class extends Mu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Ex(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=ww(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Du=class extends Mu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?Ex(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xp=class extends Du{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=X5(d),this.hostAttr=J5(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Rp=class n extends yu{supportsDOMEvents=!0;static makeCurrent(){sw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=e3();return t==null?null:t3(t)}resetBaseElement(){Pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _w(document.cookie,e)}},Pu=null;function e3(){return Pu=Pu||document.head.querySelector("base"),Pu?Pu.getAttribute("href"):null}function t3(n){return new URL(n,document.baseURI).pathname}var n3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Ix=(()=>{class n extends Iu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(Ct))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),bx=["alt","control","meta","shift"],r3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},i3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Mx=(()=>{class n extends Iu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=r3[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bx.forEach(s=>{if(s!==i){let a=i3[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(Ct))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Dw(n,e){let t=j({rootComponent:n},o3(e));return FO(t)}function o3(n){return{appProviders:[...u3,...n?.providers??[]],platformProviders:l3}}function s3(){Rp.makeCurrent()}function a3(){return new ar}function c3(){return pC(document),document}var l3=[{provide:Po,useValue:yx},{provide:tp,useValue:s3,multi:!0},{provide:Ct,useFactory:c3}];var u3=[{provide:zl,useValue:"root"},{provide:ar,useFactory:a3},{provide:Ap,useClass:Ix,multi:!0,deps:[Ct]},{provide:Ap,useClass:Mx,multi:!0,deps:[Ct]},Tu,Iw,bw,{provide:Si,useExisting:Tu},{provide:bu,useClass:n3},[]];var Dx=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(Ct))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ve="primary",zu=Symbol("RouteTitle"),xw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gs(n){return new xw(n)}function Nx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function h3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}function Hr(n,e){let t=n?Aw(n):void 0,r=e?Aw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!kx(n[i],e[i]))return!1;return!0}function Aw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Fx(n){return n.length>0?n[n.length-1]:null}function Vi(n){return v_(n)?n:Ai(n)?st(Promise.resolve(n)):ue(n)}var f3={exact:Vx,subset:jx},Lx={exact:p3,subset:g3,ignored:()=>!0};function Tx(n,e,t){return f3[t.paths](n.root,e.root,t.matrixParams)&&Lx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function p3(n,e){return Hr(n,e)}function Vx(n,e,t){if(!Hs(n.segments,e.segments)||!Fp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Vx(n.children[r],e.children[r],t))return!1;return!0}function g3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kx(n[t],e[t]))}function jx(n,e,t){return Ux(n,e,e.segments,t)}function Ux(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Hs(i,t)||e.hasChildren()||!Fp(i,t,r))}else if(n.segments.length===t.length){if(!Hs(n.segments,t)||!Fp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!jx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Hs(n.segments,i)||!Fp(n.segments,i,r)||!n.children[ve]?!1:Ux(n.children[ve],e,o,r)}}function Fp(n,e,t){return e.every((r,i)=>Lx[t](n[i].parameters,r.parameters))}var Gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gs(this.queryParams),this._queryParamMap}toString(){return _3.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lp(this)}},Ro=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Gs(this.parameters),this._parameterMap}toString(){return $x(this)}};function m3(n,e){return Hs(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}function Hs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function y3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ve&&(t=t.concat(e(i,r)))}),t}var Hu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Ws,providedIn:"root"})}return n})(),Ws=class{parse(e){let t=new Nw(e);return new Gr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Su(e.root,!0)}`,r=w3(e.queryParams),i=typeof e.fragment=="string"?`#${v3(e.fragment)}`:"";return`${t}${r}${i}`}},_3=new Ws;function Lp(n){return n.segments.map(e=>$x(e)).join("/")}function Su(n,e){if(!n.hasChildren())return Lp(n);if(e){let t=n.children[ve]?Su(n.children[ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${Su(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=y3(n,(r,i)=>i===ve?[Su(n.children[ve],!1)]:[`${i}:${Su(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${Lp(n)}/${t[0]}`:`${Lp(n)}/(${t.join("//")})`}}function Bx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(n){return Bx(n).replace(/%3B/gi,";")}function v3(n){return encodeURI(n)}function Rw(n){return Bx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vp(n){return decodeURIComponent(n)}function Px(n){return Vp(n.replace(/\+/g,"%20"))}function $x(n){return`${Rw(n.path)}${C3(n.parameters)}`}function C3(n){return Object.entries(n).map(([e,t])=>`;${Rw(e)}=${Rw(t)}`).join("")}function w3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Np(t)}=${Np(i)}`).join("&"):`${Np(t)}=${Np(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var E3=/^[^\/()?;#]+/;function Tw(n){let e=n.match(E3);return e?e[0]:""}var b3=/^[^\/()?;=#]+/;function I3(n){let e=n.match(b3);return e?e[0]:""}var M3=/^[^=?&#]+/;function D3(n){let e=n.match(M3);return e?e[0]:""}var T3=/^[^&#]+/;function P3(n){let e=n.match(T3);return e?e[0]:""}var Nw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new Ne(e,t)),r}parseSegment(){let e=Tw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Ro(Vp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=I3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Tw(this.remaining);i&&(r=i,this.capture(r))}e[Vp(t)]=Vp(r)}parseQueryParam(e){let t=D3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=P3(this.remaining);s&&(r=s,this.capture(r))}let i=Px(t),o=Px(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ve]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function zx(n){return n.segments.length>0?new Ne([],{[ve]:n}):n}function Hx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Hx(i);if(r===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return S3(t)}function S3(n){if(n.numberOfChildren===1&&n.children[ve]){let e=n.children[ve];return new Ne(n.segments.concat(e.segments),e.children)}return n}function No(n){return n instanceof Gr}function qx(n,e,t=null,r=null){let i=Gx(n);return Wx(i,e,t,r)}function Gx(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=zx(r);return e??i}function Wx(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Pw(i,i,i,t,r);let o=O3(e);if(o.toRoot())return Pw(i,i,new Ne([],{}),t,r);let s=x3(o,i,n),a=s.processChildren?xu(s.segmentGroup,s.index,o.commands):Qx(s.segmentGroup,s.index,o.commands);return Pw(i,s.segmentGroup,a,t,r)}function jp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Nu(n){return typeof n=="object"&&n!=null&&n.outlets}function Pw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=Kx(n,e,t);let a=zx(Hx(s));return new Gr(a,o,i)}function Kx(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Kx(o,e,t)}),new Ne(n.segments,r)}var Up=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jp(r[0]))throw new L(4003,!1);let i=r.find(Nu);if(i&&i!==Fx(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function O3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Up(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Up(t,e,r)}var yc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function x3(n,e,t){if(n.isAbsolute)return new yc(e,!0,0);if(!t)return new yc(e,!1,NaN);if(t.parent===null)return new yc(t,!0,0);let r=jp(n.commands[0])?0:1,i=t.segments.length-1+r;return A3(t,i,n.numberOfDoubleDots)}function A3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new yc(r,!1,i-o)}function R3(n){return Nu(n[0])?n[0].outlets:{[ve]:n}}function Qx(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return xu(n,e,t);let r=N3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[ve]=new Ne(n.segments.slice(r.pathIndex),n.children),xu(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?kw(n,e,t):r.match?xu(n,0,i):kw(n,e,t)}function xu(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=R3(t),i={};if(Object.keys(r).some(o=>o!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let o=xu(n.children[ve],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Qx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function N3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Nu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Ox(c,u,s))return o;r+=2}else{if(!Ox(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Nu(o)){let c=k3(o.outlets);return new Ne(r,c)}if(i===0&&jp(t[0])){let c=n.segments[e];r.push(new Ro(c.path,Sx(t[0]))),i++;continue}let s=Nu(o)?o.outlets[ve]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&jp(a)?(r.push(new Ro(s,Sx(a))),i+=2):(r.push(new Ro(s,{})),i++)}return new Ne(r,{})}function k3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=kw(new Ne([],{}),0,r))}),e}function Sx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ox(n,e,t){return n==t.path&&Hr(e,t.parameters)}var Au="imperative",kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(kt||{}),Ln=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ks=class extends Ln{type=kt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wr=class extends Ln{urlAfterRedirects;type=kt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_n=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(_n||{}),ku=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ku||{}),qr=class extends Ln{reason;code;type=kt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fi=class extends Ln{reason;code;type=kt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},vc=class extends Ln{error;target;type=kt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fu=class extends Ln{urlAfterRedirects;state;type=kt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends Ln{urlAfterRedirects;state;type=kt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$p=class extends Ln{urlAfterRedirects;state;shouldActivate;type=kt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zp=class extends Ln{urlAfterRedirects;state;type=kt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hp=class extends Ln{urlAfterRedirects;state;type=kt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class{route;type=kt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gp=class{route;type=kt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wp=class{snapshot;type=kt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kp=class{snapshot;type=kt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qp=class{snapshot;type=kt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yp=class{snapshot;type=kt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Lu=class{},Cc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function F3(n){return!(n instanceof Lu)&&!(n instanceof Cc)}function L3(n,e){return n.providers&&!n._injector&&(n._injector=hu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Cr(n){return n.outlet||ve}function V3(n,e){let t=n.filter(r=>Cr(r)===e);return t.push(...n.filter(r=>Cr(r)!==e)),t}function bc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return bc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ic(this.rootInjector)}},Ic=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(vt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Lw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lw(e,this._root).map(t=>t.value)}};function Fw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fw(n,t);if(r)return r}return null}function Lw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Lw(n,t);if(r.length)return r.unshift(e),r}return[]}var Fn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function mc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vu=class extends Xp{snapshot;constructor(e,t){super(e),this.snapshot=t,qw(this,e)}toString(){return this.snapshot.toString()}};function Yx(n){let e=j3(n),t=new ot([new Ro("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Li(t,r,o,s,i,ve,n,e.root);return a.snapshot=e.root,new Vu(new Fn(a,[]),e)}function j3(n){let e={},t={},r={},i="",o=new qs([],e,r,i,t,ve,n,null,{});return new ju("",new Fn(o,[]))}var Li=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(he(u=>u[zu]))??ue(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>Gs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>Gs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&Xx(i)&&(r.resolve[zu]=i.title),r}var qs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[zu]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ju=class extends Xp{url;constructor(e,t){super(t),this.url=e,qw(this,t)}toString(){return Zx(this._root)}};function qw(n,e){e.value._routerState=n,e.children.forEach(t=>qw(n,t))}function Zx(n){let e=n.children.length>0?` { ${n.children.map(Zx).join(", ")} } `:"";return`${n.value}${e}`}function Sw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hr(e.params,t.params)||n.paramsSubject.next(t.params),h3(e.url,t.url)||n.urlSubject.next(t.url),Hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vw(n,e){let t=Hr(n.params,e.params)&&m3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Vw(n.parent,e.parent))}function Xx(n){return typeof n.title=="string"||n.title===null}var Jx=new W(""),qu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ve;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=NO(void 0);parentContexts=F(Ic);location=F(xi);changeDetector=F(Ni);inputBinder=F(rg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jw(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Br]})}return n})(),jw=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Li?this.route:e===Ic?this.childContexts:e===Jx?this.outletData:this.parent.get(e,t)}},rg=new W("");var Gw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=qt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ri(0,"router-outlet")},dependencies:[qu],encapsulation:2})}return n})();function Ww(n){let e=n.children&&n.children.map(Ww),t=e?le(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=Gw),t}function U3(n,e,t){let r=Uu(n,e._root,t?t._root:void 0);return new Vu(r,e)}function Uu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=B3(n,e,t);return new Fn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uu(n,a)),s}}let r=$3(e.value),i=e.children.map(o=>Uu(n,o));return new Fn(r,i)}}function B3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uu(n,r,i);return Uu(n,r)})}function $3(n){return new Li(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var wc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},eA="ngNavigationCancelingError";function eg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tA(!1,_n.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function tA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[eA]=!0,t.cancellationCode=e,t}function z3(n){return nA(n)&&No(n.url)}function nA(n){return!!n&&n[eA]}var H3=(n,e,t,r)=>he(i=>(new Uw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Uw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=mc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=mc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=mc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=mc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Sw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},tg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_c=class{component;route;constructor(e,t){this.component=e,this.route=t}};function q3(n,e,t){let r=n._root,i=e?e._root:null;return Ou(r,i,t,[r.value])}function G3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Mc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!V_(n)?n:e.get(n):r}function Ou(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=mc(e);return n.children.forEach(s=>{W3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ru(a,t.getContext(s),i)),i}function W3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=K3(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new tg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ou(n,e,a?a.children:null,r,i):Ou(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _c(a.outlet.component,s))}else s&&Ru(e,a,i),i.canActivateChecks.push(new tg(r)),o.component?Ou(n,null,a?a.children:null,r,i):Ou(n,null,t,r,i);return i}function K3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Hs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hs(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vw(n,e)||!Hr(n.queryParams,e.queryParams);case"paramsChange":default:return!Vw(n,e)}}function Ru(n,e,t){let r=mc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ru(s,e.children.getContext(o),t):Ru(s,null,t):Ru(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new _c(e.outlet.component,i)):t.canDeactivateChecks.push(new _c(null,i)):t.canDeactivateChecks.push(new _c(null,i))}function Gu(n){return typeof n=="function"}function Q3(n){return typeof n=="boolean"}function Y3(n){return n&&Gu(n.canLoad)}function Z3(n){return n&&Gu(n.canActivate)}function X3(n){return n&&Gu(n.canActivateChild)}function J3(n){return n&&Gu(n.canDeactivate)}function e4(n){return n&&Gu(n.canMatch)}function rA(n){return n instanceof _i||n?.name==="EmptyError"}var kp=Symbol("INITIAL_VALUE");function Ec(){return Ut(n=>ef(n.map(e=>e.pipe(St(1),b_(kp)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===kp)return kp;if(t===!1||t4(t))return t}return!0}),_t(e=>e!==kp),St(1)))}function t4(n){return No(n)||n instanceof wc}function n4(n,e){return yt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ue(le(j({},t),{guardsResult:!0})):r4(s,r,i,n).pipe(yt(a=>a&&Q3(a)?i4(r,o,n,e):ue(a)),he(a=>le(j({},t),{guardsResult:a})))})}function r4(n,e,t,r){return st(n).pipe(yt(i=>l4(i.component,i.route,t,e,r)),wi(i=>i!==!0,!0))}function i4(n,e,t,r){return st(e).pipe(_s(i=>Wa(s4(i.route.parent,r),o4(i.route,r),c4(n,i.path,t),a4(n,i.route,t))),wi(i=>i!==!0,!0))}function o4(n,e){return n!==null&&e&&e(new Qp(n)),ue(!0)}function s4(n,e){return n!==null&&e&&e(new Wp(n)),ue(!0)}function a4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(o=>kl(()=>{let s=bc(e)??t,a=Mc(o,s),c=Z3(a)?a.canActivate(e,n):Ot(s,()=>a(e,n));return Vi(c).pipe(wi())}));return ue(i).pipe(Ec())}function c4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>G3(s)).filter(s=>s!==null).map(s=>kl(()=>{let a=s.guards.map(c=>{let u=bc(s.node)??t,d=Mc(c,u),f=X3(d)?d.canActivateChild(r,n):Ot(u,()=>d(r,n));return Vi(f).pipe(wi())});return ue(a).pipe(Ec())}));return ue(o).pipe(Ec())}function l4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let c=bc(e)??i,u=Mc(a,c),d=J3(u)?u.canDeactivate(n,e,t,r):Ot(c,()=>u(n,e,t,r));return Vi(d).pipe(wi())});return ue(s).pipe(Ec())}function u4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ue(!0);let o=i.map(s=>{let a=Mc(s,n),c=Y3(a)?a.canLoad(e,t):Ot(n,()=>a(e,t));return Vi(c)});return ue(o).pipe(Ec(),iA(r))}function iA(n){return d_(At(e=>{if(typeof e!="boolean")throw eg(n,e)}),he(e=>e===!0))}function d4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ue(!0);let o=i.map(s=>{let a=Mc(s,n),c=e4(a)?a.canMatch(e,t):Ot(n,()=>a(e,t));return Vi(c)});return ue(o).pipe(Ec(),iA(r))}var Bu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},$u=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gc(n){return qa(new Bu(n))}function h4(n){return qa(new L(4e3,!1))}function f4(n){return qa(tA(!1,_n.GuardRejected))}var Bw=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ue(r);if(i.numberOfChildren>1||!i.children[ve])return h4(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,t,r,i,o){return p4(t,i,o).pipe(he(s=>{if(s instanceof Gr)throw new $u(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new $u(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Gr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function p4(n,e,t){if(typeof n=="string")return ue(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:f}=e;return Vi(Ot(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var $w={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g4(n,e,t,r,i){let o=oA(n,e,t);return o.matched?(r=L3(e,r),d4(r,e,t,i).pipe(he(s=>s===!0?o:j({},$w)))):ue(o)}function oA(n,e,t){if(e.path==="**")return m4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},$w):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Nx)(t,n,e);if(!i)return j({},$w);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function m4(n){return{matched:!0,parameters:n.length>0?Fx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function xx(n,e,t,r){return t.length>0&&v4(n,t,r)?{segmentGroup:new Ne(e,_4(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&C4(n,t,r)?{segmentGroup:new Ne(n.segments,y4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function y4(n,e,t,r){let i={};for(let o of t)if(ig(n,e,o)&&!r[Cr(o)]){let s=new Ne([],{});i[Cr(o)]=s}return j(j({},r),i)}function _4(n,e){let t={};t[ve]=e;for(let r of n)if(r.path===""&&Cr(r)!==ve){let i=new Ne([],{});t[Cr(r)]=i}return t}function v4(n,e,t){return t.some(r=>ig(n,e,r)&&Cr(r)!==ve)}function C4(n,e,t){return t.some(r=>ig(n,e,r))}function ig(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function w4(n,e,t){return e.length===0&&!n.children[t]}var zw=class{};function E4(n,e,t,r,i,o,s="emptyOnly"){return new Hw(n,e,t,r,i,s,o).recognize()}var b4=31,Hw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Bw(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=xx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:r})=>{let i=new Fn(r,t),o=new ju("",i),s=qx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new qs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,t).pipe(he(r=>({children:r,rootSnapshot:t})),Ci(r=>{if(r instanceof $u)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(he(s=>s instanceof Fn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return st(o).pipe(_s(s=>{let a=r.children[s],c=V3(t,s);return this.processSegmentGroup(e,c,a,s,i)}),E_((s,a)=>(s.push(...a),s)),yo(null),w_(),yt(s=>{if(s===null)return gc(r);let a=sA(s);return I4(a),ue(a)}))}processSegment(e,t,r,i,o,s,a){return st(t).pipe(_s(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ci(u=>{if(u instanceof Bu)return ue(null);throw u}))),wi(c=>!!c),Ci(c=>{if(rA(c))return w4(r,i,o)?ue(new zw):gc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Cr(r)!==s&&(s===ve||!ig(i,o,r))?gc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):gc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=oA(t,i,o);if(!c)return gc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>b4&&(this.allowRedirects=!1));let m=new qs(o,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Ax(i),Cr(i),i.component??i._loadedComponent??null,i,Rx(i)),E=Jp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(Ut(A=>this.applyRedirects.lineralizeSegments(i,A)),yt(A=>this.processSegment(e,r,t,A.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=g4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ut(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,E=new qs(g,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Ax(r),Cr(r),r.component??r._loadedComponent??null,r,Rx(r)),S=Jp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:V}=xx(t,g,m,u);if(V.length===0&&A.hasChildren())return this.processChildren(d,u,A,E).pipe(he(G=>new Fn(E,G)));if(u.length===0&&V.length===0)return ue(new Fn(E,[]));let q=Cr(r)===o;return this.processSegment(d,u,A,V,q?ve:o,!0,E).pipe(he(G=>new Fn(E,G instanceof Fn?[G]:[])))}))):gc(t)))}getChildConfig(e,t,r){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):u4(e,t,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,t).pipe(At(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):f4(t))):ue({routes:[],injector:e})}};function I4(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}function M4(n){let e=n.value.routeConfig;return e&&e.path===""}function sA(n){let e=[],t=new Set;for(let r of n){if(!M4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=sA(r.children);e.push(new Fn(r.value,i))}return e.filter(r=>!t.has(r))}function Ax(n){return n.data||{}}function Rx(n){return n.resolve||{}}function D4(n,e,t,r,i,o){return yt(s=>E4(n,e,t,r,s.extractedUrl,i,o).pipe(he(({state:a,tree:c})=>le(j({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function T4(n,e){return yt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ue(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of aA(c))s.add(u);let a=0;return st(s).pipe(_s(c=>o.has(c)?P4(c,r,n,e):(c.data=Jp(c,c.parent,n).resolve,ue(void 0))),At(()=>a++),Ka(1),yt(c=>a===s.size?ue(t):wn))})}function aA(n){let e=n.children.map(t=>aA(t)).flat();return[n,...e]}function P4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Xx(i)&&(o[zu]=i.title),kl(()=>(n.data=Jp(n,n.parent,t).resolve,S4(o,n,e,r).pipe(he(s=>(n._resolvedData=s,n.data=j(j({},n.data),s),null)))))}function S4(n,e,t,r){let i=Aw(n);if(i.length===0)return ue({});let o={};return st(i).pipe(yt(s=>O4(n[s],e,t,r).pipe(wi(),At(a=>{if(a instanceof wc)throw eg(new Ws,a);o[s]=a}))),Ka(1),he(()=>o),Ci(s=>rA(s)?wn:qa(s)))}function O4(n,e,t,r){let i=bc(e)??r,o=Mc(n,i),s=o.resolve?o.resolve(e,t):Ot(i,()=>o(e,t));return Vi(s)}function Ow(n){return Ut(e=>{let t=n(e);return t?st(t).pipe(he(()=>e)):ue(e)})}var Kw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(t){return t.data[zu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>F(cA),providedIn:"root"})}return n})(),cA=(()=>{class n extends Kw{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(Dx))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dc=new W("",{providedIn:"root",factory:()=>({})}),Wu=new W(""),lA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(qC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ue(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Vi(Ot(t,()=>r.loadComponent())).pipe(he(dA),At(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fl(()=>{this.componentLoaders.delete(r)})),o=new Ba(i,()=>new Ze).pipe(Ua());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=uA(r,this.compiler,t,this.onLoadEndListener).pipe(Fl(()=>{this.childrenLoaders.delete(r)})),s=new Ba(o,()=>new Ze).pipe(Ua());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uA(n,e,t,r){return Vi(Ot(t,()=>n.loadChildren())).pipe(he(dA),yt(i=>i instanceof up||Array.isArray(i)?ue(i):st(e.compileModuleAsync(i))),he(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Wu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ww),injector:o}}))}function x4(n){return n&&typeof n=="object"&&"default"in n}function dA(n){return x4(n)?n.default:n}var og=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>F(A4),providedIn:"root"})}return n})(),A4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hA=new W("");var fA=new W(""),pA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ze;transitionAbortWithErrorSubject=new Ze;configLoader=F(lA);environmentInjector=F(vt);destroyRef=F(Qn);urlSerializer=F(Hu);rootContexts=F(Ic);location=F(pc);inputBindingEnabled=F(rg,{optional:!0})!==null;titleStrategy=F(Kw);options=F(Dc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(og);createViewTransition=F(hA,{optional:!0});navigationErrorHandler=F(fA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new qp(i)),r=i=>this.events.next(new Gp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new ot(null),this.transitions.pipe(_t(r=>r!==null),Ut(r=>{let i=!1;return ue(r).pipe(Ut(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_n.SupersededByNewNavigation),wn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?le(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Fi(o.id,this.urlSerializer.serialize(o.rawUrl),c,ku.IgnoredSameUrlNavigation)),o.resolve(!1),wn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ue(o).pipe(Ut(c=>(this.events.next(new Ks(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?wn:Promise.resolve(c))),D4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),At(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=le(j({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Fu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:g}=o,m=new Ks(c,this.urlSerializer.serialize(u),d,f);this.events.next(m);let E=Yx(this.rootComponentType).snapshot;return this.currentTransition=r=le(j({},o),{targetSnapshot:E,urlAfterRedirects:u,extras:le(j({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,ue(r)}else{let c="";return this.events.next(new Fi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,ku.IgnoredByUrlHandlingStrategy)),o.resolve(!1),wn}}),At(o=>{let s=new Bp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),he(o=>(this.currentTransition=r=le(j({},o),{guards:q3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),n4(this.environmentInjector,o=>this.events.next(o)),At(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw eg(this.urlSerializer,o.guardsResult);let s=new $p(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),_t(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",_n.GuardRejected),!1)),Ow(o=>{if(o.guards.canActivateChecks.length!==0)return ue(o).pipe(At(s=>{let a=new zp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ut(s=>{let a=!1;return ue(s).pipe(T4(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",_n.NoDataFromResolver)}}))}),At(s=>{let a=new Hp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Ow(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=bc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(At(d=>{a.component=d}),he(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return ef(s(o.targetSnapshot.root)).pipe(yo(null),St(1))}),Ow(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?st(a).pipe(he(()=>r)):ue(r)}),he(o=>{let s=U3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=le(j({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),At(()=>{this.events.next(new Lu)}),H3(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),St(1),nf(new se(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(_t(()=>!i&&!r.targetRouterState),At(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",_n.Aborted)}))),At({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),nf(this.transitionAbortWithErrorSubject.pipe(At(o=>{throw o}))),Fl(()=>{i||this.cancelNavigationTransition(r,"",_n.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ci(o=>{if(this.destroyed)return r.resolve(!1),wn;if(i=!0,nA(o))this.events.next(new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),z3(o)?this.events.next(new Cc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new vc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof wc){let{message:c,cancellationCode:u}=eg(this.urlSerializer,a);this.events.next(new qr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Cc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return wn}))}))}cancelNavigationTransition(t,r,i){let o=new qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R4(n){return n!==Au}var gA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>F(N4),providedIn:"root"})}return n})(),ng=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},N4=(()=>{class n extends ng{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mA=(()=>{class n{urlSerializer=F(Hu);options=F(Dc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(pc);urlHandlingStrategy=F(og);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Gr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Yx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>F(k4),providedIn:"root"})}return n})(),k4=(()=>{class n extends mA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ks?this.updateStateMemento():t instanceof Fi?this.commitTransition(r):t instanceof Fu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Lu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof qr&&t.code!==_n.SupersededByNewNavigation&&t.code!==_n.Redirect?this.restoreHistory(r):t instanceof vc?this.restoreHistory(r,!0):t instanceof wr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=j(j({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qw(n,e){n.events.pipe(_t(t=>t instanceof wr||t instanceof qr||t instanceof vc||t instanceof Fi),he(t=>t instanceof wr||t instanceof Fi?0:(t instanceof qr?t.code===_n.Redirect||t.code===_n.SupersededByNewNavigation:!1)?2:1),_t(t=>t!==2),St(1)).subscribe(()=>{e()})}var F4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(LC);stateManager=F(mA);options=F(Dc,{optional:!0})||{};pendingTasks=F(jr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(pA);urlSerializer=F(Hu);location=F(pc);urlHandlingStrategy=F(og);injector=F(vt);_events=new Ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(gA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Wu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(rg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qr&&r.code!==_n.Redirect&&r.code!==_n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wr)this.navigated=!0;else if(r instanceof Cc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R4(i.source)},s);this.scheduleNavigation(a,Au,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}F3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Au,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(tn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ww),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=Gx(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Wx(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=No(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Au,null,r)}navigate(t,r={skipLocationChange:!1}){return V4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},F4):r===!1?i=j({},L4):i=r,No(t))return Tx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Tx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return Qw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var Tc=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Vr(null);get href(){return In(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ze;applicationErrorHandler=F(tn);options=F(Dc,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(F(new _p("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof wr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(No(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:No(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)($(Dn),$(Li),lu("tabindex"),$(pr),$(fn),$(fc))};static \u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&So("href",i.reactiveHref(),yC)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bs],replaceUrl:[2,"replaceUrl","replaceUrl",Bs],routerLink:"routerLink"},features:[Br]})}return n})(),Yw=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new pt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof wr&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe(Ga()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=st(t).pipe(Ga()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=U4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)($(Dn),$(fn),$(pr),$(Ni),$(Tc,8))};static \u0275dir=Ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&BC(o,Tc,5),r&2){let s;$C(s=zC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Br]})}return n})();function U4(n){return!!n.paths}var B4=new W("");function Zw(n,...e){return Nt([{provide:Wu,multi:!0,useValue:n},[],{provide:Li,useFactory:$4,deps:[Dn]},{provide:gp,multi:!0,useFactory:z4},e.map(t=>t.\u0275providers)])}function $4(n){return n.routerState.root}function z4(){let n=F(tt);return e=>{let t=n.get(Zn);if(e!==t.components[0])return;let r=n.get(Dn),i=n.get(H4);n.get(q4)===1&&r.initialNavigation(),n.get(G4,null,{optional:!0})?.setUpPreloading(),n.get(B4,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var H4=new W("",{factory:()=>new Ze}),q4=new W("",{providedIn:"root",factory:()=>1});var G4=new W("");var Ee=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ee||{}),Er="*";function yA(n,e=null){return{type:Ee.Sequence,steps:n,options:e}}function Xw(n){return{type:Ee.Style,styles:n,offset:null}}var ji=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Pc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ku="!";function _A(n){return new L(3e3,!1)}function W4(){return new L(3100,!1)}function K4(){return new L(3101,!1)}function Q4(n){return new L(3001,!1)}function Y4(n){return new L(3003,!1)}function Z4(n){return new L(3004,!1)}function CA(n,e){return new L(3005,!1)}function wA(){return new L(3006,!1)}function EA(){return new L(3007,!1)}function bA(n,e){return new L(3008,!1)}function IA(n){return new L(3002,!1)}function MA(n,e,t,r,i){return new L(3010,!1)}function DA(){return new L(3011,!1)}function TA(){return new L(3012,!1)}function PA(){return new L(3200,!1)}function SA(){return new L(3202,!1)}function OA(){return new L(3013,!1)}function xA(n){return new L(3014,!1)}function AA(n){return new L(3015,!1)}function RA(n){return new L(3016,!1)}function NA(n,e){return new L(3404,!1)}function X4(n){return new L(3502,!1)}function kA(n){return new L(3503,!1)}function FA(){return new L(3300,!1)}function LA(n){return new L(3504,!1)}function VA(n){return new L(3301,!1)}function jA(n,e){return new L(3302,!1)}function UA(n){return new L(3303,!1)}function BA(n,e){return new L(3400,!1)}function $A(n){return new L(3401,!1)}function zA(n){return new L(3402,!1)}function HA(n,e){return new L(3505,!1)}function Ui(n){switch(n.length){case 0:return new ji;case 1:return n[0];default:return new Pc(n)}}function nE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((g,m)=>{let E=m,S=g;if(m!=="offset")switch(E=n.normalizePropertyName(E,i),S){case Ku:S=t.get(m);break;case Er:S=r.get(m);break;default:S=n.normalizeStyleValue(m,E,S,i);break}f.set(E,S)}),d||o.push(f),a=f,s=u}),i.length)throw X4(i);return o}function ag(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Jw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Jw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Jw(t,"destroy",n)));break}}function Jw(n,e,t){let r=t.totalTime,i=!!t.disabled,o=cg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function cg(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Tn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function rE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var J4=typeof document>"u"?null:document.documentElement;function lg(n){let e=n.parentNode||n.host||null;return e===J4?null:e}function e$(n){return n.substring(1,6)=="ebkit"}var Qs=null,vA=!1;function qA(n){Qs||(Qs=t$()||{},vA=Qs.style?"WebkitAppearance"in Qs.style:!1);let e=!0;return Qs.style&&!e$(n)&&(e=n in Qs.style,!e&&vA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qs.style)),e}function t$(){return typeof document<"u"?document.body:null}function iE(n,e){for(;e;){if(e===n)return!0;e=lg(e)}return!1}function oE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var n$=1e3,sE="{{",r$="}}",aE="ng-enter",ug="ng-leave",Qu="ng-trigger",Yu=".ng-trigger",cE="ng-animating",dg=".ng-animating";function Wr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eE(parseFloat(e[1]),e[2])}function eE(n,e){switch(e){case"s":return n*n$;default:return n}}function Zu(n,e,t){return n.hasOwnProperty("duration")?n:i$(n,e,t)}function i$(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(_A(n)),{duration:0,delay:0,easing:""};i=eE(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=eE(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(W4()),a=!0),o<0&&(e.push(K4()),a=!0),a&&e.splice(c,0,_A(n))}return{duration:i,delay:o,easing:s}}function GA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function br(n,e,t){e.forEach((r,i)=>{let o=hg(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function ko(n,e){e.forEach((t,r)=>{let i=hg(r);n.style[i]=""})}function Sc(n){return Array.isArray(n)?n.length==1?n[0]:yA(n):n}function WA(n,e,t){let r=e.params||{},i=lE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Q4(o))})}var tE=new RegExp(`${sE}\\s*(.+?)\\s*${r$}`,"g");function lE(n){let e=[];if(typeof n=="string"){let t;for(;t=tE.exec(n);)e.push(t[1]);tE.lastIndex=0}return e}function Oc(n,e,t){let r=`${n}`,i=r.replace(tE,(o,s)=>{let a=e[s];return a==null&&(t.push(Y4(s)),a=""),a.toString()});return i==r?n:i}var o$=/-+([a-z0-9])/g;function hg(n){return n.replace(o$,(...e)=>e[1].toUpperCase())}function KA(n,e){return n===0||e===0}function QA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,fg(n,a)))}}return e}function Pn(n,e,t){switch(e.type){case Ee.Trigger:return n.visitTrigger(e,t);case Ee.State:return n.visitState(e,t);case Ee.Transition:return n.visitTransition(e,t);case Ee.Sequence:return n.visitSequence(e,t);case Ee.Group:return n.visitGroup(e,t);case Ee.Animate:return n.visitAnimate(e,t);case Ee.Keyframes:return n.visitKeyframes(e,t);case Ee.Style:return n.visitStyle(e,t);case Ee.Reference:return n.visitReference(e,t);case Ee.AnimateChild:return n.visitAnimateChild(e,t);case Ee.AnimateRef:return n.visitAnimateRef(e,t);case Ee.Query:return n.visitQuery(e,t);case Ee.Stagger:return n.visitStagger(e,t);default:throw Z4(e.type)}}function fg(n,e){return window.getComputedStyle(n)[e]}var DE=(()=>{class n{validateStyleProperty(t){return qA(t)}containsElement(t,r){return iE(t,r)}getParentElement(t){return lg(t)}query(t,r,i){return oE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new ji(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Zs=class{static NOOP=new DE},Xs=class{};var s$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),_g=class extends Xs{normalizePropertyName(e,t){return hg(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(s$.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(CA(e,r))}return s+o}};var vg="*";function a$(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>c$(r,t,e)):t.push(n),t}function c$(n,e,t){if(n[0]==":"){let c=l$(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(AA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(YA(i,s));let a=i==vg&&s==vg;o[0]=="<"&&!a&&e.push(YA(s,i))}function l$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(RA(n)),"* => *"}}var pg=new Set(["true","1"]),gg=new Set(["false","0"]);function YA(n,e){let t=pg.has(n)||gg.has(n),r=pg.has(e)||gg.has(e);return(i,o)=>{let s=n==vg||n==i,a=e==vg||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?pg.has(n):gg.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?pg.has(e):gg.has(e)),s&&a}}var s1=":self",u$=new RegExp(`s*${s1}s*,?`,"g");function a1(n,e,t,r){return new gE(n).build(e,t,r)}var ZA="",gE=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new mE(t);return this._resetContextStyleTimingState(i),Pn(this,Sc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=ZA,e.collectedStyles=new Map,e.collectedStyles.set(ZA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(wA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ee.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==Ee.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(EA())}),{type:Ee.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{lE(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(bA(e.name,[...o.values()]))}return{type:Ee.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Pn(this,Sc(e.animation),t),i=a$(e.expr,t.errors);return{type:Ee.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ys(e.options)}}visitSequence(e,t){return{type:Ee.Sequence,steps:e.steps.map(r=>Pn(this,r,t)),options:Ys(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Pn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ee.Group,steps:o,options:Ys(e.options)}}visitAnimate(e,t){let r=p$(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Xw({});if(o.type==Ee.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=Xw(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ee.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Er?r.push(a):t.errors.push(IA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(sE)>=0){o=!0;break}}}),{type:Ee.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(MA(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&WA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ee.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(DA()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(V=>{let q=this._makeStyleAst(V,t),G=q.offset!=null?q.offset:f$(q.styles),Z=0;return G!=null&&(o++,Z=q.offset=G),c=c||Z<0||Z>1,a=a||Z<u,u=Z,s.push(Z),q});c&&t.errors.push(TA()),a&&t.errors.push(PA());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(SA()):o==0&&(g=i/(f-1));let m=f-1,E=t.currentTime,S=t.currentAnimateTimings,A=S.duration;return d.forEach((V,q)=>{let G=g>0?q==m?1:g*q:s[q],Z=G*A;t.currentTime=E+S.delay+Z,S.duration=Z,this._validateStyleAst(V,t),V.offset=G,r.styles.push(V)}),r}visitReference(e,t){return{type:Ee.Reference,animation:Pn(this,Sc(e.animation),t),options:Ys(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ee.AnimateChild,options:Ys(e.options)}}visitAnimateRef(e,t){return{type:Ee.AnimateRef,animation:this.visitReference(e.animation,t),options:Ys(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=d$(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Tn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Pn(this,Sc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ee.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ys(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(OA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Zu(e.timings,t.errors,!0);return{type:Ee.Stagger,animation:Pn(this,Sc(e.animation),t),timings:r,options:null}}};function d$(n){let e=!!n.split(/\s*,\s*/).find(t=>t==s1);return e&&(n=n.replace(u$,"")),n=n.replace(/@\*/g,Yu).replace(/@\w+/g,t=>Yu+"-"+t.slice(1)).replace(/:animating/g,dg),[n,e]}function h$(n){return n?j({},n):null}var mE=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function f$(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function p$(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Zu(n,e).duration;return uE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=uE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Zu(t,e);return uE(i.duration,i.delay,i.easing)}function Ys(n){return n?(n=j({},n),n.params&&(n.params=h$(n.params))):n={},n}function uE(n,e,t){return{duration:n,delay:e,easing:t}}function TE(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Ju=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},g$=1,m$=":enter",y$=new RegExp(m$,"g"),_$=":leave",v$=new RegExp(_$,"g");function c1(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new yE().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var yE=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new Ju;let f=new _E(e,t,u,i,o,d,[]);f.options=c;let g=c.delay?Wr(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),Pn(this,r,f);let m=f.timelines.filter(E=>E.containsAnimation());if(m.length&&a.size){let E;for(let S=m.length-1;S>=0;S--){let A=m[S];if(A.element===t){E=A;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,c)}return m.length?m.map(E=>E.buildKeyframes()):[TE(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Wr(Oc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Wr(r.duration):null,a=r.delay!=null?Wr(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Pn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ee.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cg);let s=Wr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Pn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Wr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Pn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Oc(r,t.params,t.errors):r;return Zu(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ee.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Wr(i.delay):0;o&&(t.previousNode.type===Ee.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cg);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),Pn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Pn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Cg={},_E=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Cg;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new wg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Wr(r.duration)),r.delay!=null&&(i.delay=Wr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Oc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Cg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new vE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(y$,"."+this._enterClassName),e=e.replace(v$,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(xA(t)),a}},wg=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=g$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Er),this._currentKeyframe.set(t,Er);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=C$(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Oc(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Er),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===Ku?e.add(f):d===Er&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return TE(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},vE=class extends wg{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",XA(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),E=t+m*r;g.set("offset",XA(E/s)),o.push(g)}r=s,t=0,i="",e=o}return TE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function XA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function C$(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Er)}else for(let[o,s]of i)t.set(o,s)}),t}function JA(n,e,t,r,i,o,s,a,c,u,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var dE={},Eg=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return w$(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],g=this.ast.options&&this.ast.options.params||dE,m=a&&a.params||dE,E=this.buildStyles(r,m,f),S=c&&c.params||dE,A=this.buildStyles(i,S,f),V=new Set,q=new Map,G=new Map,Z=i==="void",ke={params:l1(S,g),delay:this.ast.options?.delay},pe=d?[]:c1(e,t,this.ast.animation,o,s,E,A,ke,u,f),D=0;return pe.forEach(w=>{D=Math.max(w.duration+w.delay,D)}),f.length?JA(t,this._triggerName,r,i,Z,E,A,[],[],q,G,D,f):(pe.forEach(w=>{let b=w.element,T=Tn(q,b,new Set);w.preStyleProps.forEach(x=>T.add(x));let P=Tn(G,b,new Set);w.postStyleProps.forEach(x=>P.add(x)),b!==t&&V.add(b)}),JA(t,this._triggerName,r,i,Z,E,A,pe,[...V.values()],q,G,D))}};function w$(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function l1(n,e){let t=j({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var CE=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=l1(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Oc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function E$(n,e,t){return new wE(n,e,t)}var wE=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new CE(i.style,o,r))}),e1(this.states,"true","1"),e1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Eg(e,i,this.states))}),this.fallbackTransition=b$(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function b$(n,e,t){let r=[(s,a)=>!0],i={type:Ee.Sequence,steps:[],options:null},o={type:Ee.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Eg(n,o,e)}function e1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var I$=new Ju,EE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=a1(this._driver,t,r,i);if(r.length)throw kA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=nE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=c1(this._driver,t,o,aE,ug,new Map,new Map,r,I$,i),s.forEach(d=>{let f=Tn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(FA()),s=[]),i.length)throw LA(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,Er))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Ui(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw VA(e);return t}listen(e,t,r,i){let o=cg(t,"","","");return ag(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},t1="ng-animate-queued",M$=".ng-animate-queued",hE="ng-animate-disabled",D$=".ng-animate-disabled",T$="ng-star-inserted",P$=".ng-star-inserted",S$=[],u1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},O$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ir="__ng_removed",ed=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=A$(i),r){let o=e,{value:s}=o,a=us(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Xu="void",fE=new ed(Xu),bE=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,er(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw jA(r,t);if(r==null||r.length==0)throw UA(t);if(!R$(r))throw BA(r,t);let o=Tn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Tn(this._engine.statesByElement,e,new Map);return a.has(t)||(er(e,Qu),er(e,Qu+"-"+t),a.set(t,fE)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw $A(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new td(this.id,t,e),a=this._engine.statesByElement.get(e);a||(er(e,Qu),er(e,Qu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new ed(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=fE),!(u.value===Xu)&&c.value===u.value){if(!F$(c.params,u.params)){let S=[],A=o.matchStyles(c.value,c.params,S),V=o.matchStyles(u.value,u.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{ko(e,A),br(e,V)})}return}let g=Tn(this._engine.playersByElement,e,[]);g.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let m=o.matchTransition(c.value,u.value,e,u.params),E=!1;if(!m){if(!i)return;m=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:u,player:s,isFallbackTransition:E}),E||(er(e,t1),s.onStart(()=>{xc(e,t1)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);let A=this._engine.playersByElement.get(e);if(A){let V=A.indexOf(s);V>=0&&A.splice(V,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Yu,!0);r.forEach(i=>{if(i[Ir])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,Xu,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ui(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||fE,d=new ed(Xu),f=new td(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Ir];(!o||o===u1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){er(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=cg(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ag(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},IE=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new bE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(mg(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mg(t))return;let o=t[Ir];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),er(e,hE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xc(e,hE))}removeNode(e,t,r){if(mg(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Ir]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return mg(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Yu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,dg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ui(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ir];if(t&&t.setForRemoval){if(e[Ir]=u1,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(hE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,D$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];er(i,T$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ui(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw zA(e)}_flushAnimations(e,t){let r=new Ju,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Q=>{d.add(Q);let X=this.driver.query(Q,M$,!0);for(let ee=0;ee<X.length;ee++)d.add(X[ee])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=i1(g,this.collectedEnterElements),E=new Map,S=0;m.forEach((Q,X)=>{let ee=aE+S++;E.set(X,ee),Q.forEach(Ie=>er(Ie,ee))});let A=[],V=new Set,q=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let X=this.collectedLeaveElements[Q],ee=X[Ir];ee&&ee.setForRemoval&&(A.push(X),V.add(X),ee.hasAnimation?this.driver.query(X,P$,!0).forEach(Ie=>V.add(Ie)):q.add(X))}let G=new Map,Z=i1(g,Array.from(V));Z.forEach((Q,X)=>{let ee=ug+S++;G.set(X,ee),Q.forEach(Ie=>er(Ie,ee))}),e.push(()=>{m.forEach((Q,X)=>{let ee=E.get(X);Q.forEach(Ie=>xc(Ie,ee))}),Z.forEach((Q,X)=>{let ee=G.get(X);Q.forEach(Ie=>xc(Ie,ee))}),A.forEach(Q=>{this.processLeaveNode(Q)})});let ke=[],pe=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(ee=>{let Ie=ee.player,ft=ee.element;if(ke.push(Ie),this.collectedEnterElements.length){let ut=ft[Ir];if(ut&&ut.setForMove){if(ut.previousTriggersValues&&ut.previousTriggersValues.has(ee.triggerName)){let pi=ut.previousTriggersValues.get(ee.triggerName),Cn=this.statesByElement.get(ee.element);if(Cn&&Cn.has(ee.triggerName)){let gi=Cn.get(ee.triggerName);gi.value=pi,Cn.set(ee.triggerName,gi)}}Ie.destroy();return}}let $n=!f||!this.driver.containsElement(f,ft),lt=G.get(ft),Ke=E.get(ft),Qe=this._buildInstruction(ee,r,Ke,lt,$n);if(Qe.errors&&Qe.errors.length){pe.push(Qe);return}if($n){Ie.onStart(()=>ko(ft,Qe.fromStyles)),Ie.onDestroy(()=>br(ft,Qe.toStyles)),i.push(Ie);return}if(ee.isFallbackTransition){Ie.onStart(()=>ko(ft,Qe.fromStyles)),Ie.onDestroy(()=>br(ft,Qe.toStyles)),i.push(Ie);return}let ao=[];Qe.timelines.forEach(ut=>{ut.stretchStartingKeyframe=!0,this.disabledNodes.has(ut.element)||ao.push(ut)}),Qe.timelines=ao,r.append(ft,Qe.timelines);let Py={instruction:Qe,player:Ie,element:ft};s.push(Py),Qe.queriedElements.forEach(ut=>Tn(a,ut,[]).push(Ie)),Qe.preStyleProps.forEach((ut,pi)=>{if(ut.size){let Cn=c.get(pi);Cn||c.set(pi,Cn=new Set),ut.forEach((gi,co)=>Cn.add(co))}}),Qe.postStyleProps.forEach((ut,pi)=>{let Cn=u.get(pi);Cn||u.set(pi,Cn=new Set),ut.forEach((gi,co)=>Cn.add(co))})});if(pe.length){let Q=[];pe.forEach(X=>{Q.push(HA(X.triggerName,X.errors))}),ke.forEach(X=>X.destroy()),this.reportError(Q)}let D=new Map,w=new Map;s.forEach(Q=>{let X=Q.element;r.has(X)&&(w.set(X,X),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,D))}),i.forEach(Q=>{let X=Q.element;this._getPreviousPlayers(X,!1,Q.namespaceId,Q.triggerName,null).forEach(Ie=>{Tn(D,X,[]).push(Ie),Ie.destroy()})});let b=A.filter(Q=>o1(Q,c,u)),T=new Map;r1(T,this.driver,q,u,Er).forEach(Q=>{o1(Q,c,u)&&b.push(Q)});let x=new Map;m.forEach((Q,X)=>{r1(x,this.driver,new Set(Q),c,Ku)}),b.forEach(Q=>{let X=T.get(Q),ee=x.get(Q);T.set(Q,new Map([...X?.entries()??[],...ee?.entries()??[]]))});let I=[],Bn=[],so={};s.forEach(Q=>{let{element:X,player:ee,instruction:Ie}=Q;if(r.has(X)){if(d.has(X)){ee.onDestroy(()=>br(X,Ie.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Ie.totalTime),i.push(ee);return}let ft=so;if(w.size>1){let lt=X,Ke=[];for(;lt=lt.parentNode;){let Qe=w.get(lt);if(Qe){ft=Qe;break}Ke.push(lt)}Ke.forEach(Qe=>w.set(Qe,ft))}let $n=this._buildAnimation(ee.namespaceId,Ie,D,o,x,T);if(ee.setRealPlayer($n),ft===so)I.push(ee);else{let lt=this.playersByElement.get(ft);lt&&lt.length&&(ee.parentPlayer=Ui(lt)),i.push(ee)}}else ko(X,Ie.fromStyles),ee.onDestroy(()=>br(X,Ie.toStyles)),Bn.push(ee),d.has(X)&&i.push(ee)}),Bn.forEach(Q=>{let X=o.get(Q.element);if(X&&X.length){let ee=Ui(X);Q.setRealPlayer(ee)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<A.length;Q++){let X=A[Q],ee=X[Ir];if(xc(X,ug),ee&&ee.hasAnimation)continue;let Ie=[];if(a.size){let $n=a.get(X);$n&&$n.length&&Ie.push(...$n);let lt=this.driver.query(X,dg,!0);for(let Ke=0;Ke<lt.length;Ke++){let Qe=a.get(lt[Ke]);Qe&&Qe.length&&Ie.push(...Qe)}}let ft=Ie.filter($n=>!$n.destroyed);ft.length?N$(this,X,ft):this.processLeaveNode(X)}return A.length=0,I.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let X=this.players.indexOf(Q);this.players.splice(X,1)}),Q.play()}),I}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Xu;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=Tn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let E=m.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),m.destroy(),f.push(m)})}ko(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,g=t.timelines.map(E=>{let S=E.element;d.add(S);let A=S[Ir];if(A&&A.removedBeforeQueried)return new ji(E.duration,E.delay);let V=S!==c,q=k$((r.get(S)||S$).map(D=>D.getRealPlayer())).filter(D=>{let w=D;return w.element?w.element===S:!1}),G=o.get(S),Z=s.get(S),ke=nE(this._normalizer,E.keyframes,G,Z),pe=this._buildPlayer(E,ke,q);if(E.subTimeline&&i&&f.add(S),V){let D=new td(e,a,S);D.setRealPlayer(pe),u.push(D)}return pe});u.forEach(E=>{Tn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>x$(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>er(E,cE));let m=Ui(g);return m.onDestroy(()=>{d.forEach(E=>xc(E,cE)),br(c,t.toStyles)}),f.forEach(E=>{Tn(i,E,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ji(e.duration,e.delay)}},td=class{namespaceId;triggerName;element;_player=new ji;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ag(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Tn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function x$(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function A$(n){return n??null}function mg(n){return n&&n.nodeType===1}function R$(n){return n=="start"||n=="done"}function n1(n,e){let t=n.style.display;return n.style.display=e??"none",t}function r1(n,e,t,r,i){let o=[];t.forEach(c=>o.push(n1(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[Ir]=O$,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>n1(c,o[a++])),s}function i1(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function er(n,e){n.classList?.add(e)}function xc(n,e){n.classList?.remove(e)}function N$(n,e,t){Ui(t).onDone(()=>n.processLeaveNode(e))}function k$(n){let e=[];return d1(n,e),e}function d1(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Pc?d1(r.players,e):e.push(r)}}function F$(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function o1(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ac=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new IE(e.body,t,r),this._timelineEngine=new EE(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=a1(this._driver,o,c,u);if(c.length)throw NA(i,c);a=E$(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=rE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=rE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function L$(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=pE(e[0]),e.length>1&&(r=pE(e[e.length-1]))):e instanceof Map&&(t=pE(e)),t||r?new V$(n,t,r):null}var V$=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&br(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(br(this._element,this._initialStyles),this._endStyles&&(br(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ko(this._element,this._endStyles),this._endStyles=null),br(this._element,this._initialStyles),this._state=3)}}return n})();function pE(n){let e=null;return n.forEach((t,r)=>{j$(r)&&(e=e||new Map,e.set(r,t))}),e}function j$(n){return n==="display"||n==="position"}var bg=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:fg(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ig=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return iE(e,t)}getParentElement(e){return lg(e)}query(e,t,r){return oE(e,t,r)}computeStyle(e,t,r){return fg(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(m=>m instanceof bg);KA(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((E,S)=>u.set(S,E))});let f=GA(t).map(m=>new Map(m));f=QA(e,f,u);let g=L$(e,f);return new bg(e,f,c,g)}};var yg="@",h1="@.disabled",Mg=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==yg&&t==h1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ME=class extends Mg{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==yg?t.charAt(1)=="."&&t==h1?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==yg){let o=U$(e),s=t.slice(1),a="";return s.charAt(0)!=yg&&([s,a]=B$(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function U$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function B$(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Dg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Mg(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new ME(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var z$=(()=>{class n extends Ac{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Y(Ct),Y(Zs),Y(Xs))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function H$(){return new _g}function q$(n,e,t){return new Dg(n,e,t)}var f1=[{provide:Xs,useFactory:H$},{provide:Ac,useClass:z$},{provide:Si,useFactory:q$,deps:[Tu,Ac,Pe]}],kue=[{provide:Zs,useClass:DE},{provide:np,useValue:"NoopAnimations"},...f1],G$=[{provide:Zs,useFactory:()=>new Ig},{provide:np,useFactory:()=>"BrowserAnimations"},...f1];function p1(){return Ls("NgEagerAnimations"),[...G$]}var g1=()=>{};var _1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},W$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Tg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):W$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new SE;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},SE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},K$=function(n){let e=_1(n);return Tg.encodeByteArray(e,!0)},rd=function(n){return K$(n).replace(/\./g,"")},Pg=function(n){try{return Tg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Q$=()=>xE().__FIREBASE_DEFAULTS__,Y$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Pg(n[1]);return e&&JSON.parse(e)},Sg=()=>{try{return g1()||Q$()||Y$()||Z$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AE=n=>{var e,t;return(t=(e=Sg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Og=n=>{let e=AE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},RE=()=>{var n;return(n=Sg())===null||n===void 0?void 0:n.config},NE=n=>{var e;return(e=Sg())===null||e===void 0?void 0:e[`_${n}`]};var Js=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Kr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Rc(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function xg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rd(JSON.stringify(t)),rd(JSON.stringify(s)),""].join(".")}var nd={};function X$(){let n={prod:[],emulator:[]};for(let e of Object.keys(nd))nd[e]?n.emulator.push(e):n.prod.push(e);return n}function J$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var m1=!1;function Nc(n,e){if(typeof window>"u"||typeof document>"u"||!Kr(window.location.host)||nd[n]===e||nd[n]||m1)return;nd[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=X$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{m1=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=J$(r),m=t("text"),E=document.getElementById(m)||document.createElement("span"),S=t("learnmore"),A=document.getElementById(S)||document.createElement("a"),V=t("preprendIcon"),q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let G=g.element;a(G),d(A,S);let Z=u();c(q,V),G.append(q,E,A,Z),document.body.appendChild(G)}o?(E.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function e6(){var n;let e=(n=Sg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b1(){let n=Ft();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function I1(){return!e6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function id(){try{return typeof indexedDB=="object"}catch{return!1}}function M1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var t6="FirebaseError",vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t6,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mr.prototype.create)}},Mr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?n6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}};function n6(n,e){return n.replace(r6,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var r6=/\{\$([^}]+)}/g;function D1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(y1(o)&&y1(s)){if(!Qr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function y1(n){return n!==null&&typeof n=="object"}function od(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function T1(n,e){let t=new OE(n,e);return t.subscribe.bind(t)}var OE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");i6(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=PE),i.error===void 0&&(i.error=PE),i.complete===void 0&&(i.complete=PE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function i6(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function PE(){}var jue=4*60*60*1e3;function et(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ea="[DEFAULT]";var kE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Js;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s6(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function o6(n){return n===ea?void 0:n}function s6(n){return n.instantiationMode==="EAGER"}var Ag=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new kE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var a6=[],Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{}),c6={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},l6=Me.INFO,u6={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},d6=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=u6[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yr=class{constructor(e){this.name=e,this._logLevel=l6,this._logHandler=d6,this._userLogHandler=null,a6.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var h6=(n,e)=>e.some(t=>n instanceof t),P1,S1;function f6(){return P1||(P1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p6(){return S1||(S1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var O1=new WeakMap,LE=new WeakMap,x1=new WeakMap,FE=new WeakMap,jE=new WeakMap;function g6(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&O1.set(t,n)}).catch(()=>{}),jE.set(e,n),e}function m6(n){if(LE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});LE.set(n,e)}var VE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return LE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function A1(n){VE=n(VE)}function y6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Rg(this),e,...t);return x1.set(r,e.sort?e.sort():[e]),Zr(r)}:p6().includes(n)?function(...e){return n.apply(Rg(this),e),Zr(O1.get(this))}:function(...e){return Zr(n.apply(Rg(this),e))}}function _6(n){return typeof n=="function"?y6(n):(n instanceof IDBTransaction&&m6(n),h6(n,f6())?new Proxy(n,VE):n)}function Zr(n){if(n instanceof IDBRequest)return g6(n);if(FE.has(n))return FE.get(n);let e=_6(n);return e!==n&&(FE.set(n,e),jE.set(e,n)),e}var Rg=n=>jE.get(n);function N1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Zr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zr(s.result),c.oldVersion,c.newVersion,Zr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var v6=["get","getKey","getAll","getAllKeys","count"],C6=["put","add","delete","clear"],UE=new Map;function R1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(UE.get(e))return UE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=C6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v6.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return UE.set(e,o),o}A1(n=>le(j({},n),{get:(e,t,r)=>R1(e,t)||n.get(e,t,r),has:(e,t)=>!!R1(e,t)||n.has(e,t)}));var $E=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w6(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function w6(n){let e=n.getComponent();return e?.type==="VERSION"}var zE="@firebase/app",k1="0.13.2";var Bi=new Yr("@firebase/app"),E6="@firebase/app-compat",b6="@firebase/analytics-compat",I6="@firebase/analytics",M6="@firebase/app-check-compat",D6="@firebase/app-check",T6="@firebase/auth",P6="@firebase/auth-compat",S6="@firebase/database",O6="@firebase/data-connect",x6="@firebase/database-compat",A6="@firebase/functions",R6="@firebase/functions-compat",N6="@firebase/installations",k6="@firebase/installations-compat",F6="@firebase/messaging",L6="@firebase/messaging-compat",V6="@firebase/performance",j6="@firebase/performance-compat",U6="@firebase/remote-config",B6="@firebase/remote-config-compat",$6="@firebase/storage",z6="@firebase/storage-compat",H6="@firebase/firestore",q6="@firebase/ai",G6="@firebase/firestore-compat",W6="firebase",K6="11.10.0";var HE="[DEFAULT]",Q6={[zE]:"fire-core",[E6]:"fire-core-compat",[I6]:"fire-analytics",[b6]:"fire-analytics-compat",[D6]:"fire-app-check",[M6]:"fire-app-check-compat",[T6]:"fire-auth",[P6]:"fire-auth-compat",[S6]:"fire-rtdb",[O6]:"fire-data-connect",[x6]:"fire-rtdb-compat",[A6]:"fire-fn",[R6]:"fire-fn-compat",[N6]:"fire-iid",[k6]:"fire-iid-compat",[F6]:"fire-fcm",[L6]:"fire-fcm-compat",[V6]:"fire-perf",[j6]:"fire-perf-compat",[U6]:"fire-rc",[B6]:"fire-rc-compat",[$6]:"fire-gcs",[z6]:"fire-gcs-compat",[H6]:"fire-fst",[G6]:"fire-fst-compat",[q6]:"fire-vertex","fire-js":"fire-js",[W6]:"fire-js-all"};var sd=new Map,Y6=new Map,qE=new Map;function F1(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vn(n){let e=n.name;if(qE.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;qE.set(e,n);for(let t of sd.values())F1(t,n);for(let t of Y6.values())F1(t,n);return!0}function Lo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function on(n){return n==null?!1:n.settings!==void 0}var Z6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new Mr("app","Firebase",Z6);var GE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}};var Xr=K6;function QE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:HE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fo.create("bad-app-name",{appName:String(i)});if(t||(t=RE()),!t)throw Fo.create("no-options");let o=sd.get(i);if(o){if(Qr(t,o.options)&&Qr(r,o.config))return o;throw Fo.create("duplicate-app",{appName:i})}let s=new Ag(i);for(let c of qE.values())s.addComponent(c);let a=new GE(t,r,s);return sd.set(i,a),a}function $i(n=HE){let e=sd.get(n);if(!e&&n===HE&&RE())return QE();if(!e)throw Fo.create("no-app",{appName:n});return e}function Ng(){return Array.from(sd.values())}function He(n,e,t){var r;let i=(r=Q6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}Vn(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var X6="firebase-heartbeat-database",J6=1,ad="firebase-heartbeat-store",BE=null;function U1(){return BE||(BE=N1(X6,J6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ad)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fo.create("idb-open",{originalErrorMessage:n.message})})),BE}function ez(n){return _(this,null,function*(){try{let t=(yield U1()).transaction(ad),r=yield t.objectStore(ad).get(B1(n));return yield t.done,r}catch(e){if(e instanceof vn)Bi.warn(e.message);else{let t=Fo.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(t.message)}}})}function L1(n,e){return _(this,null,function*(){try{let r=(yield U1()).transaction(ad,"readwrite");yield r.objectStore(ad).put(e,B1(n)),yield r.done}catch(t){if(t instanceof vn)Bi.warn(t.message);else{let r=Fo.create("idb-set",{originalErrorMessage:t?.message});Bi.warn(r.message)}}})}function B1(n){return`${n.name}!${n.options.appId}`}var tz=1024,nz=30,WE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new KE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=V1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>nz){let s=iz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bi.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=V1(),{heartbeatsToSend:r,unsentEntries:i}=rz(this._heartbeatsCache.heartbeats),o=rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bi.warn(t),""}})}};function V1(){return new Date().toISOString().substring(0,10)}function rz(n,e=tz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),j1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),j1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var KE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return id()?M1().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ez(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return L1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return L1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function j1(n){return rd(JSON.stringify({version:2,heartbeats:n})).length}function iz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function oz(n){Vn(new Qt("platform-logger",e=>new $E(e),"PRIVATE")),Vn(new Qt("heartbeat",e=>new WE(e),"PRIVATE")),He(zE,k1,n),He(zE,k1,"esm2017"),He("fire-js","")}oz("");var sz="firebase",az="11.10.0";He(sz,az,"app");function $1(n){n===void 0&&(n=F(tt));let e=n.get(nc);return t=>new se(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Jr=new hc("ANGULARFIRE2_VERSION");function na(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Vo=(n,e)=>{let t=e?[e]:Ng(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Lc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Lc||{}),z1=mu()&&typeof Zone<"u"?Lc.WARN:Lc.SILENT;var kg=class{zone;delegate;constructor(e,t=y_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ei=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(Pe);this.outsideAngular=t.runOutsideAngular(()=>new kg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new kg(typeof Zone>"u"?void 0:Zone.current,m_))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),H1=!1;function cz(n,e){!H1&&(z1>Lc.SILENT||mu())&&(H1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),z1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function lz(n){let e=F(Pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ta(n){let e=F(Pe,{optional:!0});return e?e.run(()=>n()):n()}var uz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ot(t,()=>ta(()=>n.apply(void 0,r)))),Sn=(n,e,t)=>(t||=e?Lc.WARN:Lc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(ei),s=F(nc),a=F(vt)}catch{return cz(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ta(()=>s.add())),i[u]=uz(i[u],r,a));let c=lz(()=>n.apply(this,i));return e?c instanceof se?c.pipe(mo(o.outsideAngular),go(o.insideAngular),$1(a)):c instanceof Promise?ta(()=>{let u=s.add();return new Promise((d,f)=>{c.then(g=>Ot(a,()=>ta(()=>d(g))),g=>Ot(a,()=>ta(()=>f(g)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ta(()=>c):c instanceof se?c.pipe(mo(o.outsideAngular),go(o.insideAngular)):ta(()=>c)});var Dr=class{constructor(e){return e}},zi=class{constructor(){return Ng()}};function dz(n){return n&&n.length===1?n[0]:new Dr($i())}var YE=new W("angularfire2._apps"),hz={provide:Dr,useFactory:dz,deps:[[new wt,YE]]},fz={provide:zi,deps:[[new wt,YE]]};function pz(n){return(e,t)=>{let r=t.get(Po);He("angularfire",Jr.full,"core"),He("angularfire",Jr.full,"app"),He("angular",kO.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Dr(i)}}function q1(n,...e){return Nt([hz,fz,{provide:YE,useFactory:pz(n),multi:!0,deps:[Pe,tt,ei,...e]}])}var G1=Sn(QE,!0);var gz=new Map,mz={activated:!1,tokenObservers:[]},yz={initialized:!1,enabled:!1};function Tr(n){return gz.get(n)||Object.assign({},mz)}function Y1(){return yz}var _z="https://content-firebaseappcheck.googleapis.com/v1";var vz="exchangeDebugToken",W1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$de=24*60*60*1e3;var JE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Js,this.pending.promise.catch(t=>{}),yield Cz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Js,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Cz(n){return new Promise(e=>{setTimeout(e,n)})}var wz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},jo=new Mr("appCheck","AppCheck",wz);function Z1(n){if(!Tr(n).activated)throw jo.create("use-before-activation",{appName:n.name})}function X1(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw jo.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw jo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw jo.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw jo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function J1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_z}/projects/${t}/apps/${r}:${vz}?key=${i}`,body:{debug_token:e}}}var Ez="firebase-app-check-database",bz=1,e0="firebase-app-check-store";var Fg=null;function Iz(){return Fg||(Fg=new Promise((n,e)=>{try{let t=indexedDB.open(Ez,bz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(jo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(e0,{keyPath:"compositeKey"})}}}catch(t){e(jo.create("storage-open",{originalErrorMessage:t?.message}))}}),Fg)}function Mz(n,e){return Dz(Tz(n),e)}function Dz(n,e){return _(this,null,function*(){let r=(yield Iz()).transaction(e0,"readwrite"),o=r.objectStore(e0).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(jo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function Tz(n){return`${n.options.appId}-${n.name}`}var cd=new Yr("@firebase/app-check");function ZE(n,e){return id()?Mz(n,e).catch(t=>{cd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eR(){return Y1().enabled}function tR(){return _(this,null,function*(){let n=Y1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Pz={error:"UNKNOWN_ERROR"};function Sz(n){return Tg.encodeString(JSON.stringify(n),!1)}function t0(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;Z1(r);let i=Tr(r),o=i.token,s;if(o&&!ld(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(ld(u)?o=u:yield ZE(r,void 0))}if(!e&&o&&ld(o))return{token:o.token};let a=!1;if(eR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=X1(J1(r,yield tR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield ZE(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?cd.warn(u.message):t&&cd.error(u),XE(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Tr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?cd.warn(u.message):t&&cd.error(u),s=u}let c;return o?s?ld(o)?c={token:o.token,internalError:s}:c=XE(s):(c={token:o.token},i.token=o,yield ZE(r,o)):c=XE(s),a&&Rz(r,c),c})}function Oz(n){return _(this,null,function*(){let e=n.app;Z1(e);let{provider:t}=Tr(e);if(eR()){let r=yield tR(),{token:i}=yield X1(J1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function xz(n,e,t,r){let{app:i}=n,o=Tr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ld(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),K1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>K1(n))}function nR(n,e){let t=Tr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function K1(n){let{app:e}=n,t=Tr(e),r=t.tokenRefresher;r||(r=Az(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Az(n){let{app:e}=n;return new JE(()=>_(null,null,function*(){let t=Tr(e),r;if(t.token?r=yield t0(n,!0):r=yield t0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},W1.RETRIAL_MIN_WAIT,W1.RETRIAL_MAX_WAIT)}function Rz(n,e){let t=Tr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ld(n){return n.expireTimeMillis-Date.now()>0}function XE(n){return{token:Sz(Pz),error:n}}var n0=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Tr(this.app);for(let t of e)nR(this.app,t.next);return Promise.resolve()}};function Nz(n,e){return new n0(n,e)}function kz(n){return{getToken:e=>t0(n,e),getLimitedUseToken:()=>Oz(n),addTokenListener:e=>xz(n,"INTERNAL",e),removeTokenListener:e=>nR(n.app,e)}}var Fz="@firebase/app-check",Lz="0.10.1";var Vz="app-check",Q1="app-check-internal";function jz(){Vn(new Qt(Vz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Nz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Q1).initialize()})),Vn(new Qt(Q1,n=>{let e=n.getProvider("app-check").getImmediate();return kz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),He(Fz,Lz)}jz();var Uz="app-check";var Uo=class{constructor(){return Vo(Uz)}};var Bz=["localhost","0.0.0.0","127.0.0.1"],the=typeof window<"u"&&Bz.includes(window.location.hostname);function _R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vR=_R,CR=new Mr("auth","Firebase",_R());var $g=new Yr("@firebase/auth");function $z(n,...e){$g.logLevel<=Me.WARN&&$g.warn(`Auth (${Xr}): ${n}`,...e)}function Vg(n,...e){$g.logLevel<=Me.ERROR&&$g.error(`Auth (${Xr}): ${n}`,...e)}function ni(n,...e){throw T0(n,...e)}function ra(n,...e){return T0(n,...e)}function wR(n,e,t){let r=Object.assign(Object.assign({},vR()),{[e]:t});return new Mr("auth","Firebase",r).create(e,{appName:n.name})}function Gi(n){return wR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return CR.create(n,...e)}function ce(n,e,...t){if(!n)throw T0(e,...t)}function Hi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vg(e),new Error(e)}function zo(n,e){n||Hi(e)}function s0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zz(){return rR()==="http:"||rR()==="https:"}function rR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Hz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zz()||w1()||"connection"in navigator)?navigator.onLine:!0}function qz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ia=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,zo(t>e,"Short delay should be less than long delay!"),this.isMobile=v1()||E1()}get(){return Hz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function P0(n,e){zo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var zg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Gz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Wz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kz=new ia(3e4,6e4);function Ho(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wi(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){return ER(n,i,()=>_(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=od(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},u);return C1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Kr(n.emulatorConfig.host)&&(m.credentials="include"),zg.fetch()(yield bR(n,n.config.apiHost,t,f),m)}))})}function ER(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Gz),e);try{let i=new a0(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Lg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Lg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wR(n,d,u);ni(n,d)}}catch(i){if(i instanceof vn)throw i;ni(n,"network-request-failed",{message:String(i)})}})}function yd(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){let u=yield Wi(n,e,t,r,i);return"mfaPendingCredential"in u&&ni(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function bR(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?P0(n.config,i):`${n.config.apiScheme}://${i}`;return Wz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Qz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var a0=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ra(this.auth,"network-request-failed")),Kz.get())})}};function Lg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ra(n,e,r);return i.customData._tokenResponse=t,i}function iR(n){return n!==void 0&&n.enterprise!==void 0}var c0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Yz(n,e){return _(this,null,function*(){return Wi(n,"GET","/v2/recaptchaConfig",Ho(n,e))})}function Zz(n,e){return _(this,null,function*(){return Wi(n,"POST","/v1/accounts:delete",e)})}function Hg(n,e){return _(this,null,function*(){return Wi(n,"POST","/v1/accounts:lookup",e)})}function dd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function S0(n,e=!1){return _(this,null,function*(){let t=et(n),r=yield t.getIdToken(e),i=O0(r);ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dd(r0(i.auth_time)),issuedAtTime:dd(r0(i.iat)),expirationTime:dd(r0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function r0(n){return Number(n)*1e3}function O0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Pg(t);return i?JSON.parse(i):(Vg("Failed to decode base64 JWT payload"),null)}catch(i){return Vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oR(n){let e=O0(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vn&&Xz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Xz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var l0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qg(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Vc(n,Hg(t,{idToken:r}));ce(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IR(o.providerUserInfo):[],a=Jz(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function x0(n){return _(this,null,function*(){let e=et(n);yield qg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Jz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IR(n){return n.map(e=>{var{providerId:t}=e,r=__(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function eH(n,e){return _(this,null,function*(){let t=yield ER(n,{},()=>_(null,null,function*(){let r=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield bR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Kr(n.emulatorConfig.host)&&(c.credentials="include"),zg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function tH(n,e){return _(this,null,function*(){return Wi(n,"POST","/v2/accounts:revokeToken",Ho(n,e))})}var hd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=oR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield eH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Hi("not implemented")}};function Bo(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $o=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=__(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Vc(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return S0(this,e)}reload(){return x0(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield qg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(on(this.auth.app))return Promise.reject(Gi(this.auth));let e=yield this.getIdToken();return yield Vc(this,Zz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,q=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:G,emailVerified:Z,isAnonymous:ke,providerData:pe,stsTokenManager:D}=t;ce(G&&D,e,"internal-error");let w=hd.fromJSON(this.name,D);ce(typeof G=="string",e,"internal-error"),Bo(f,e.name),Bo(g,e.name),ce(typeof Z=="boolean",e,"internal-error"),ce(typeof ke=="boolean",e,"internal-error"),Bo(m,e.name),Bo(E,e.name),Bo(S,e.name),Bo(A,e.name),Bo(V,e.name),Bo(q,e.name);let b=new n({uid:G,auth:e,email:g,emailVerified:Z,displayName:f,isAnonymous:ke,photoURL:E,phoneNumber:m,tenantId:S,stsTokenManager:w,createdAt:V,lastLoginAt:q});return pe&&Array.isArray(pe)&&(b.providerData=pe.map(T=>Object.assign({},T))),A&&(b._redirectEventId=A),b}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new hd;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?IR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new hd;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var sR=new Map;function qi(n){zo(n instanceof Function,"Expected a class definition");let e=sR.get(n);return e?(zo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sR.set(n,e),e)}var nH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),u0=nH;function jg(n,e,t){return`firebase:${n}:${e}:${t}`}var Gg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jg(this.userKey,i.apiKey,o),this.fullPersistenceKey=jg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Hg(this.auth,{idToken:e}).catch(()=>{});return t?$o._fromGetAccountInfoResponse(this.auth,t,e):null}return $o._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(qi(u0),e,r);let i=(yield Promise.all(t.map(u=>_(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||qi(u0),s=jg(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f;if(typeof d=="string"){let g=yield Hg(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield $o._fromGetAccountInfoResponse(e,g,d)}else f=$o._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>_(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function aR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(xR(e))return"Webos";if(DR(e))return"Safari";if((e.includes("chrome/")||TR(e))&&!e.includes("edge/"))return"Chrome";if(SR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function MR(n=Ft()){return/firefox\//i.test(n)}function DR(n=Ft()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TR(n=Ft()){return/crios\//i.test(n)}function PR(n=Ft()){return/iemobile/i.test(n)}function SR(n=Ft()){return/android/i.test(n)}function OR(n=Ft()){return/blackberry/i.test(n)}function xR(n=Ft()){return/webos/i.test(n)}function A0(n=Ft()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rH(n=Ft()){var e;return A0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iH(){return b1()&&document.documentMode===10}function AR(n=Ft()){return A0(n)||SR(n)||xR(n)||OR(n)||/windows phone/i.test(n)||PR(n)}function RR(n,e=[]){let t;switch(n){case"Browser":t=aR(Ft());break;case"Worker":t=`${aR(Ft())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xr}/${r}`}var d0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function oH(t){return _(this,arguments,function*(n,e={}){return Wi(n,"GET","/v2/passwordPolicy",Ho(n,e))})}var sH=6,h0=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:sH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var f0=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wg(this),this.idTokenSubscription=new Wg(this),this.beforeStateQueue=new d0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qi(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Gg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Hg(this,{idToken:e}),r=yield $o._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(on(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield qg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=qz()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(on(this.app))return Promise.reject(Gi(this));let t=e?et(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return on(this.app)?Promise.reject(Gi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return on(this.app)?Promise.reject(Gi(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(qi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield oH(this),t=new h0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield tH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&qi(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield Gg.create(this,[qi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&$z(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function sa(n){return et(n)}var Wg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=T1(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var em={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aH(n){em=n}function NR(n){return em.loadJS(n)}function cH(){return em.recaptchaEnterpriseScript}function lH(){return em.gapiScript}function kR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var p0=class{constructor(){this.enterprise=new g0}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},g0=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var uH="recaptcha-enterprise",FR="NO_RECAPTCHA",m0=class{constructor(e){this.type=uH,this.auth=sa(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){Yz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new c0(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;iR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(FR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p0().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&iR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cH();c.length!==0&&(c+=a),NR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function ud(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new m0(n),s;if(i)s=FR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function y0(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ud(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield ud(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ud(n,e,t);return r(n,a).catch(c=>_(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield ud(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield ud(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function R0(n,e){let t=Lo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Qr(o,e??{}))return i;ni(i,"already-initialized")}return t.initialize({options:e})}function dH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function N0(n,e,t){let r=sa(n);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=LR(e),{host:s,port:a}=hH(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(Qr(u,r.config.emulator)&&Qr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Kr(s)?(Rc(`${o}//${s}${c}`),Nc("Auth",!0)):i||fH()}function LR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hH(n){let e=LR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:cR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:cR(s)}}}function cR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function fH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var pd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}};function pH(n,e){return _(this,null,function*(){return Wi(n,"POST","/v1/accounts:signUp",e)})}function gH(n,e){return _(this,null,function*(){return yd(n,"POST","/v1/accounts:signInWithPassword",Ho(n,e))})}function mH(n,e){return _(this,null,function*(){return yd(n,"POST","/v1/accounts:signInWithEmailLink",Ho(n,e))})}function yH(n,e){return _(this,null,function*(){return yd(n,"POST","/v1/accounts:signInWithEmailLink",Ho(n,e))})}var gd=class n extends pd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,t,"signInWithPassword",gH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return mH(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,r,"signUpPassword",pH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yH(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function i0(n,e){return _(this,null,function*(){return yd(n,"POST","/v1/accounts:signInWithIdp",Ho(n,e))})}function _H(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vH(n){let e=kc(Fc(n)).link,t=e?kc(Fc(e)).deep_link_id:null,r=kc(Fc(n)).deep_link_id;return(r?kc(Fc(r)).link:null)||r||t||e||n}var Kg=class n{constructor(e){var t,r,i,o,s,a;let c=kc(Fc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=_H((i=c.mode)!==null&&i!==void 0?i:null);ce(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=vH(e);try{return new n(t)}catch{return null}}};var VR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return gd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Kg.parseLink(r);return ce(i,"argument-error"),gd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Qg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _0=class extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function CH(n,e){return _(this,null,function*(){return yd(n,"POST","/v1/accounts:signUp",Ho(n,e))})}var jc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield $o._fromIdTokenResponse(e,r,i),s=lR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=lR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function lR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var v0=class n extends vn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function jR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?v0._fromErrorAndOperation(n,o,e,r):o})}function wH(n,e,t=!1){return _(this,null,function*(){let r=yield Vc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return jc._forOperation(n,"link",r)})}function EH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(on(r.app))return Promise.reject(Gi(r));let i="reauthenticate";try{let o=yield Vc(n,jR(r,i,e,n),t);ce(o.idToken,r,"internal-error");let s=O0(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(n.uid===a,r,"user-mismatch"),jc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),o}})}function UR(n,e,t=!1){return _(this,null,function*(){if(on(n.app))return Promise.reject(Gi(n));let r="signIn",i=yield jR(n,r,e),o=yield jc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function k0(n,e){return _(this,null,function*(){return UR(sa(n),e)})}function BR(n){return _(this,null,function*(){let e=sa(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function F0(n,e,t){return _(this,null,function*(){if(on(n.app))return Promise.reject(Gi(n));let r=sa(n),s=yield y0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CH,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&BR(n),c}),a=yield jc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function L0(n,e,t){return on(n.app)?Promise.reject(Gi(n)):k0(et(n),VR.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&BR(n),r}))}function bH(n,e){return _(this,null,function*(){return Wi(n,"POST","/v1/accounts:update",e)})}function V0(r,i){return _(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=et(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Vc(o,bH(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function j0(n,e,t,r){return et(n).onIdTokenChanged(e,t,r)}function U0(n,e,t){return et(n).beforeAuthStateChanged(e,t)}function B0(n,e,t,r){return et(n).onAuthStateChanged(e,t,r)}function $0(n){return et(n).signOut()}var Yg="__sak";var Zg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yg,"1"),this.storage.removeItem(Yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var IH=1e3,MH=10,DH=(()=>{class n extends Zg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);iH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},IH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield fo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield fo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield fo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),$R=DH;var TH=(()=>{class n extends Zg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),z0=TH;function PH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var SH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>_(this,null,function*(){return d(r.origin,s)})),u=yield PH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function zR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var C0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=zR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ti(){return window}function OH(n){ti().location.href=n}function HR(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}function xH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function AH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function RH(){return HR()?self:null}var qR="firebaseLocalStorageDb",NH=1,Xg="firebaseLocalStorage",GR="fbase_key",oa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function tm(n,e){return n.transaction([Xg],e?"readwrite":"readonly").objectStore(Xg)}function kH(){let n=indexedDB.deleteDatabase(qR);return new oa(n).toPromise()}function w0(){let n=indexedDB.open(qR,NH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Xg,{keyPath:GR})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Xg)?e(r):(r.close(),yield kH(),e(yield w0()))}))})}function uR(n,e,t){return _(this,null,function*(){let r=tm(n,!0).put({[GR]:e,value:t});return new oa(r).toPromise()})}function FH(n,e){return _(this,null,function*(){let t=tm(n,!1).get(e),r=yield new oa(t).toPromise();return r===void 0?null:r.value})}function dR(n,e){let t=tm(n,!0).delete(e);return new oa(t).toPromise()}var LH=800,VH=3,jH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield w0(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>VH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return HR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=SH._getInstance(RH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield xH(),!this.activeServiceWorker)return;this.sender=new C0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||AH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield w0();return yield uR(t,Yg,"1"),yield dR(t,Yg),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>uR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>FH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>dR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=tm(o,!1).getAll();return new oa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),LH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),WR=jH;var lhe=kR("rcb"),uhe=new ia(3e4,6e4);function UH(n,e){return e?qi(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var md=class extends pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return i0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return i0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return i0(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function BH(n){return UR(n.auth,new md(n),n.bypassAuthState)}function $H(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),EH(t,new md(n),n.bypassAuthState)}function zH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),wH(t,new md(n),n.bypassAuthState)})}var E0=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BH;case"linkViaPopup":case"linkViaRedirect":return zH;case"reauthViaPopup":case"reauthViaRedirect":return $H;default:ni(this.auth,"internal-error")}}resolve(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var dhe=new ia(2e3,1e4);var HH="pendingRedirect",Ug=new Map,b0=class n extends E0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Ug.get(this.auth._key());if(!e){try{let r=(yield qH(this.resolver,this.auth))?yield fo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ug.set(this.auth._key(),e)}return this.bypassAuthState||Ug.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return fo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,fo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function qH(n,e){return _(this,null,function*(){let t=KH(e),r=WH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function GH(n,e){Ug.set(n._key(),e)}function WH(n){return qi(n._redirectPersistence)}function KH(n){return jg(HH,n.config.apiKey,n.name)}function QH(n,e,t=!1){return _(this,null,function*(){if(on(n.app))return Promise.reject(Gi(n));let r=sa(n),i=UH(r,e),s=yield new b0(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var YH=10*60*1e3,I0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ra(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YH&&this.cachedEventUids.clear(),this.cachedEventUids.has(hR(e))}saveEventToCache(e){this.cachedEventUids.add(hR(e)),this.lastProcessedEventTime=Date.now()}};function hR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ZH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KR(n);default:return!1}}function XH(t){return _(this,arguments,function*(n,e={}){return Wi(n,"GET","/v1/projects",e)})}var JH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e8=/^https?/;function t8(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield XH(n);for(let t of e)try{if(n8(t))return}catch{}ni(n,"unauthorized-domain")})}function n8(n){let e=s0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!e8.test(t))return!1;if(JH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var r8=new ia(3e4,6e4);function fR(){let n=ti().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function i8(n){return new Promise((e,t)=>{var r,i,o;function s(){fR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fR(),t(ra(n,"network-request-failed"))},timeout:r8.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ti().gapi)===null||o===void 0)&&o.load)s();else{let a=kR("iframefcb");return ti()[a]=()=>{gapi.load?s():t(ra(n,"network-request-failed"))},NR(`${lH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Bg=null,e})}var Bg=null;function o8(n){return Bg=Bg||i8(n),Bg}var s8=new ia(5e3,15e3),a8="__/auth/iframe",c8="emulator/auth/iframe",l8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d8(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?P0(e,c8):`https://${n.config.authDomain}/${a8}`,r={apiKey:e.apiKey,appName:n.name,v:Xr},i=u8.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${od(r).slice(1)}`}function h8(n){return _(this,null,function*(){let e=yield o8(n),t=ti().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:d8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l8,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ra(n,"network-request-failed"),a=ti().setTimeout(()=>{o(s)},s8.get());function c(){ti().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var f8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p8=500,g8=600,m8="_blank",y8="http://localhost",Jg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function _8(n,e,t,r=p8,i=g8){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},f8),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ft().toLowerCase();t&&(a=TR(u)?m8:t),MR(u)&&(e=e||y8,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,E])=>`${g}${m}=${E},`,"");if(rH(u)&&a!=="_self")return v8(e||"",a),new Jg(null);let f=window.open(e||"",a,d);ce(f,n,"popup-blocked");try{f.focus()}catch{}return new Jg(f)}function v8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var C8="__/auth/handler",w8="emulator/auth/handler",E8=encodeURIComponent("fac");function pR(n,e,t,r,i,o){return _(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xr,eventId:i};if(e instanceof Qg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",D1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof _0){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${E8}=${encodeURIComponent(c)}`:"";return`${b8(n)}?${od(a).slice(1)}${u}`})}function b8({config:n}){return n.emulator?P0(n,w8):`https://${n.authDomain}/${C8}`}var o0="webStorageSupport",M0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=QH,this._overrideRedirectResult=GH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;zo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield pR(e,t,r,s0(),i);return _8(e,s,zR())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield pR(e,t,r,s0(),i);return OH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(zo(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield h8(e),r=new I0(e);return t.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o0,{type:o0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[o0];s!==void 0&&t(!!s),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AR()||DR()||A0()}},QR=M0;var gR="@firebase/auth",mR="1.10.8";var D0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function I8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M8(n){Vn(new Qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RR(n)},u=new f0(r,i,o,c);return dH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vn(new Qt("auth-internal",e=>{let t=sa(e.getProvider("auth").getImmediate());return(r=>new D0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(gR,mR,I8(n)),He(gR,mR,"esm2017")}var D8=5*60,T8=NE("authIdTokenMaxAge")||D8,yR=null,P8=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>T8)return;let i=t?.token;yR!==i&&(yR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function H0(n=$i()){let e=Lo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=R0(n,{popupRedirectResolver:QR,persistence:[WR,$R,z0]}),r=NE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=P8(o.toString());U0(t,s,()=>s(t.currentUser)),j0(t,a=>s(a))}}let i=AE("auth");return i&&N0(t,`http://${i}`),t}function S8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ra("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",S8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M8("Browser");var YR="auth",aa=class{constructor(e){return e}},ca=class{constructor(){return Vo(YR)}};var q0=new W("angularfire2.auth-instances");function mq(n,e){let t=na(YR,n,e);return t&&new aa(t)}function yq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new aa(r)}}var _q={provide:ca,deps:[[new wt,q0]]},vq={provide:aa,useFactory:mq,deps:[[new wt,q0],Dr]};function ZR(n,...e){return He("angularfire",Jr.full,"auth"),Nt([vq,_q,{provide:q0,useFactory:yq(n),multi:!0,deps:[Pe,tt,ei,zi,[new wt,Uo],...e]}])}var XR=Sn(F0,!0,2);var JR=Sn(H0,!0);var eN=Sn(B0,!0);var tN=Sn(L0,!0,2);var nN=Sn($0,!0,2);var rN=Sn(V0,!0,2);var iN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oN={};var Ki,G0;(function(){var n;function e(D,w){function b(){}b.prototype=w.prototype,D.D=w.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(T,P,x){for(var I=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)I[Bn-2]=arguments[Bn];return w.prototype[P].apply(T,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,w,b){b||(b=0);var T=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)T[P]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(P=0;16>P;++P)T[P]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=D.g[0],b=D.g[1],P=D.g[2];var x=D.g[3],I=w+(x^b&(P^x))+T[0]+3614090360&4294967295;w=b+(I<<7&4294967295|I>>>25),I=x+(P^w&(b^P))+T[1]+3905402710&4294967295,x=w+(I<<12&4294967295|I>>>20),I=P+(b^x&(w^b))+T[2]+606105819&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(w^P&(x^w))+T[3]+3250441966&4294967295,b=P+(I<<22&4294967295|I>>>10),I=w+(x^b&(P^x))+T[4]+4118548399&4294967295,w=b+(I<<7&4294967295|I>>>25),I=x+(P^w&(b^P))+T[5]+1200080426&4294967295,x=w+(I<<12&4294967295|I>>>20),I=P+(b^x&(w^b))+T[6]+2821735955&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(w^P&(x^w))+T[7]+4249261313&4294967295,b=P+(I<<22&4294967295|I>>>10),I=w+(x^b&(P^x))+T[8]+1770035416&4294967295,w=b+(I<<7&4294967295|I>>>25),I=x+(P^w&(b^P))+T[9]+2336552879&4294967295,x=w+(I<<12&4294967295|I>>>20),I=P+(b^x&(w^b))+T[10]+4294925233&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(w^P&(x^w))+T[11]+2304563134&4294967295,b=P+(I<<22&4294967295|I>>>10),I=w+(x^b&(P^x))+T[12]+1804603682&4294967295,w=b+(I<<7&4294967295|I>>>25),I=x+(P^w&(b^P))+T[13]+4254626195&4294967295,x=w+(I<<12&4294967295|I>>>20),I=P+(b^x&(w^b))+T[14]+2792965006&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(w^P&(x^w))+T[15]+1236535329&4294967295,b=P+(I<<22&4294967295|I>>>10),I=w+(P^x&(b^P))+T[1]+4129170786&4294967295,w=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(w^b))+T[6]+3225465664&4294967295,x=w+(I<<9&4294967295|I>>>23),I=P+(w^b&(x^w))+T[11]+643717713&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^w&(P^x))+T[0]+3921069994&4294967295,b=P+(I<<20&4294967295|I>>>12),I=w+(P^x&(b^P))+T[5]+3593408605&4294967295,w=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(w^b))+T[10]+38016083&4294967295,x=w+(I<<9&4294967295|I>>>23),I=P+(w^b&(x^w))+T[15]+3634488961&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^w&(P^x))+T[4]+3889429448&4294967295,b=P+(I<<20&4294967295|I>>>12),I=w+(P^x&(b^P))+T[9]+568446438&4294967295,w=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(w^b))+T[14]+3275163606&4294967295,x=w+(I<<9&4294967295|I>>>23),I=P+(w^b&(x^w))+T[3]+4107603335&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^w&(P^x))+T[8]+1163531501&4294967295,b=P+(I<<20&4294967295|I>>>12),I=w+(P^x&(b^P))+T[13]+2850285829&4294967295,w=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(w^b))+T[2]+4243563512&4294967295,x=w+(I<<9&4294967295|I>>>23),I=P+(w^b&(x^w))+T[7]+1735328473&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^w&(P^x))+T[12]+2368359562&4294967295,b=P+(I<<20&4294967295|I>>>12),I=w+(b^P^x)+T[5]+4294588738&4294967295,w=b+(I<<4&4294967295|I>>>28),I=x+(w^b^P)+T[8]+2272392833&4294967295,x=w+(I<<11&4294967295|I>>>21),I=P+(x^w^b)+T[11]+1839030562&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^w)+T[14]+4259657740&4294967295,b=P+(I<<23&4294967295|I>>>9),I=w+(b^P^x)+T[1]+2763975236&4294967295,w=b+(I<<4&4294967295|I>>>28),I=x+(w^b^P)+T[4]+1272893353&4294967295,x=w+(I<<11&4294967295|I>>>21),I=P+(x^w^b)+T[7]+4139469664&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^w)+T[10]+3200236656&4294967295,b=P+(I<<23&4294967295|I>>>9),I=w+(b^P^x)+T[13]+681279174&4294967295,w=b+(I<<4&4294967295|I>>>28),I=x+(w^b^P)+T[0]+3936430074&4294967295,x=w+(I<<11&4294967295|I>>>21),I=P+(x^w^b)+T[3]+3572445317&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^w)+T[6]+76029189&4294967295,b=P+(I<<23&4294967295|I>>>9),I=w+(b^P^x)+T[9]+3654602809&4294967295,w=b+(I<<4&4294967295|I>>>28),I=x+(w^b^P)+T[12]+3873151461&4294967295,x=w+(I<<11&4294967295|I>>>21),I=P+(x^w^b)+T[15]+530742520&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^w)+T[2]+3299628645&4294967295,b=P+(I<<23&4294967295|I>>>9),I=w+(P^(b|~x))+T[0]+4096336452&4294967295,w=b+(I<<6&4294967295|I>>>26),I=x+(b^(w|~P))+T[7]+1126891415&4294967295,x=w+(I<<10&4294967295|I>>>22),I=P+(w^(x|~b))+T[14]+2878612391&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~w))+T[5]+4237533241&4294967295,b=P+(I<<21&4294967295|I>>>11),I=w+(P^(b|~x))+T[12]+1700485571&4294967295,w=b+(I<<6&4294967295|I>>>26),I=x+(b^(w|~P))+T[3]+2399980690&4294967295,x=w+(I<<10&4294967295|I>>>22),I=P+(w^(x|~b))+T[10]+4293915773&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~w))+T[1]+2240044497&4294967295,b=P+(I<<21&4294967295|I>>>11),I=w+(P^(b|~x))+T[8]+1873313359&4294967295,w=b+(I<<6&4294967295|I>>>26),I=x+(b^(w|~P))+T[15]+4264355552&4294967295,x=w+(I<<10&4294967295|I>>>22),I=P+(w^(x|~b))+T[6]+2734768916&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~w))+T[13]+1309151649&4294967295,b=P+(I<<21&4294967295|I>>>11),I=w+(P^(b|~x))+T[4]+4149444226&4294967295,w=b+(I<<6&4294967295|I>>>26),I=x+(b^(w|~P))+T[11]+3174756917&4294967295,x=w+(I<<10&4294967295|I>>>22),I=P+(w^(x|~b))+T[2]+718787259&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~w))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var b=w-this.blockSize,T=this.B,P=this.h,x=0;x<w;){if(P==0)for(;x<=b;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<w;)if(T[P++]=D.charCodeAt(x++),P==this.blockSize){i(this,T),P=0;break}}else for(;x<w;)if(T[P++]=D[x++],P==this.blockSize){i(this,T),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var b=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.u(D),D=Array(16),w=b=0;4>w;++w)for(var T=0;32>T;T+=8)D[b++]=this.g[w]>>>T&255;return D};function o(D,w){var b=a;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=w(D)}function s(D,w){this.h=w;for(var b=[],T=!0,P=D.length-1;0<=P;P--){var x=D[P]|0;T&&x==w||(b[P]=x,T=!1)}this.g=b}var a={};function c(D){return-128<=D&&128>D?o(D,function(w){return new s([w|0],0>w?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return A(u(-D));for(var w=[],b=1,T=0;D>=b;T++)w[T]=D/b|0,b*=4294967296;return new s(w,0)}function d(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return A(d(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(w,8)),T=f,P=0;P<D.length;P+=8){var x=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+x),w);8>x?(x=u(Math.pow(w,x)),T=T.j(x).add(u(I))):(T=T.j(b),T=T.add(u(I)))}return T}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(S(this))return-A(this).m();for(var D=0,w=1,b=0;b<this.g.length;b++){var T=this.i(b);D+=(0<=T?T:4294967296+T)*w,w*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(S(this))return"-"+A(this).toString(D);for(var w=u(Math.pow(D,6)),b=this,T="";;){var P=Z(b,w).g;b=V(b,P.j(w));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=P,E(b))return x+T;for(;6>x.length;)x="0"+x;T=x+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=V(this,D),S(D)?-1:E(D)?0:1};function A(D){for(var w=D.g.length,b=[],T=0;T<w;T++)b[T]=~D.g[T];return new s(b,~D.h).add(g)}n.abs=function(){return S(this)?A(this):this},n.add=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],T=0,P=0;P<=w;P++){var x=T+(this.i(P)&65535)+(D.i(P)&65535),I=(x>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);T=I>>>16,x&=65535,I&=65535,b[P]=I<<16|x}return new s(b,b[b.length-1]&-2147483648?-1:0)};function V(D,w){return D.add(A(w))}n.j=function(D){if(E(this)||E(D))return f;if(S(this))return S(D)?A(this).j(A(D)):A(A(this).j(D));if(S(D))return A(this.j(A(D)));if(0>this.l(m)&&0>D.l(m))return u(this.m()*D.m());for(var w=this.g.length+D.g.length,b=[],T=0;T<2*w;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<D.g.length;P++){var x=this.i(T)>>>16,I=this.i(T)&65535,Bn=D.i(P)>>>16,so=D.i(P)&65535;b[2*T+2*P]+=I*so,q(b,2*T+2*P),b[2*T+2*P+1]+=x*so,q(b,2*T+2*P+1),b[2*T+2*P+1]+=I*Bn,q(b,2*T+2*P+1),b[2*T+2*P+2]+=x*Bn,q(b,2*T+2*P+2)}for(T=0;T<w;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=w;T<2*w;T++)b[T]=0;return new s(b,0)};function q(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function G(D,w){this.g=D,this.h=w}function Z(D,w){if(E(w))throw Error("division by zero");if(E(D))return new G(f,f);if(S(D))return w=Z(A(D),w),new G(A(w.g),A(w.h));if(S(w))return w=Z(D,A(w)),new G(A(w.g),w.h);if(30<D.g.length){if(S(D)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var b=g,T=w;0>=T.l(D);)b=ke(b),T=ke(T);var P=pe(b,1),x=pe(T,1);for(T=pe(T,2),b=pe(b,2);!E(T);){var I=x.add(T);0>=I.l(D)&&(P=P.add(b),x=I),T=pe(T,1),b=pe(b,1)}return w=V(D,P.j(w)),new G(P,w)}for(P=f;0<=D.l(w);){for(b=Math.max(1,Math.floor(D.m()/w.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),x=u(b),I=x.j(w);S(I)||0<I.l(D);)b-=T,x=u(b),I=x.j(w);E(x)&&(x=g),P=P.add(x),D=V(D,I)}return new G(P,D)}n.A=function(D){return Z(this,D).h},n.and=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)&D.i(T);return new s(b,this.h&D.h)},n.or=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)|D.i(T);return new s(b,this.h|D.h)},n.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)^D.i(T);return new s(b,this.h^D.h)};function ke(D){for(var w=D.g.length+1,b=[],T=0;T<w;T++)b[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(b,D.h)}function pe(D,w){var b=w>>5;w%=32;for(var T=D.g.length-b,P=[],x=0;x<T;x++)P[x]=0<w?D.i(x+b)>>>w|D.i(x+b+1)<<32-w:D.i(x+b);return new s(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G0=oN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ki=oN.Integer=s}).apply(typeof iN<"u"?iN:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qi={};var W0,wq,Uc,K0,_d,rm,Q0,Y0,Z0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var O=l[y];if(!(O in p))break e;p=p[O]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,y=!1,O={next:function(){if(!y&&p<l.length){var R=p++;return{value:h(R,l[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function E(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,O,R){for(var B=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)B[ze-2]=arguments[ze];return h.prototype[O].apply(y,B)}}function S(l){let h=l.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function A(l,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let O=l.length||0,R=y.length||0;l.length=O+R;for(let B=0;B<R;B++)l[O+B]=y[B]}else l.push(y)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function q(l){return/^[\s\xa0]*$/.test(l)}function G(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var ke=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function pe(l,h,p){for(let y in l)h.call(p,l[y],y,l)}function D(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function w(l){let h={};for(let p in l)h[p]=l[p];return h}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(p in y)l[p]=y[p];for(let R=0;R<b.length;R++)p=b[R],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function P(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function x(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Ie;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Bn{constructor(){this.h=this.g=null}add(h,p){let y=so.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var so=new V(()=>new Q,l=>l.reset());class Q{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ee=!1,Ie=new Bn,ft=()=>{let l=a.Promise.resolve(void 0);X=()=>{l.then($n)}};var $n=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){x(p)}var h=so;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ee=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function ao(l,h){if(Ke.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ke){e:{try{Z(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Py[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ao.aa.h.call(this)}}E(ao,Ke);var Py={2:"touch",3:"pen",4:"mouse"};ao.prototype.h=function(){ao.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),pi=0;function Cn(l,h,p,y,O){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=O,this.key=++pi,this.da=this.fa=!1}function gi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function co(l){this.src=l,this.g={},this.h=0}co.prototype.add=function(l,h,p,y,O){var R=l.toString();l=this.g[R],l||(l=this.g[R]=[],this.h++);var B=Oy(l,h,y,O);return-1<B?(h=l[B],p||(h.fa=!1)):(h=new Cn(h,this.src,R,!!y,O),h.fa=p,l.push(h)),h};function Sy(l,h){var p=h.type;if(p in l.g){var y=l.g[p],O=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=O)&&Array.prototype.splice.call(y,O,1),R&&(gi(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Oy(l,h,p,y){for(var O=0;O<l.length;++O){var R=l[O];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return O}return-1}var xy="closure_lm_"+(1e6*Math.random()|0),Ay={};function AM(l,h,p,y,O){if(y&&y.once)return NM(l,h,p,y,O);if(Array.isArray(h)){for(var R=0;R<h.length;R++)AM(l,h[R],p,y,O);return null}return p=Fy(p),l&&l[ut]?l.K(h,p,u(y)?!!y.capture:!!y,O):RM(l,h,p,!1,y,O)}function RM(l,h,p,y,O,R){if(!h)throw Error("Invalid event type");var B=u(O)?!!O.capture:!!O,ze=Ny(l);if(ze||(l[xy]=ze=new co(l)),p=ze.add(h,p,y,B,R),p.proxy)return p;if(y=EL(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)Qe||(O=B),O===void 0&&(O=!1),l.addEventListener(h.toString(),y,O);else if(l.attachEvent)l.attachEvent(FM(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function EL(){function l(p){return h.call(l.src,l.listener,p)}let h=bL;return l}function NM(l,h,p,y,O){if(Array.isArray(h)){for(var R=0;R<h.length;R++)NM(l,h[R],p,y,O);return null}return p=Fy(p),l&&l[ut]?l.L(h,p,u(y)?!!y.capture:!!y,O):RM(l,h,p,!0,y,O)}function kM(l,h,p,y,O){if(Array.isArray(h))for(var R=0;R<h.length;R++)kM(l,h[R],p,y,O);else y=u(y)?!!y.capture:!!y,p=Fy(p),l&&l[ut]?(l=l.i,h=String(h).toString(),h in l.g&&(R=l.g[h],p=Oy(R,p,y,O),-1<p&&(gi(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete l.g[h],l.h--)))):l&&(l=Ny(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Oy(h,p,y,O)),(p=-1<l?h[l]:null)&&Ry(p))}function Ry(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ut])Sy(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(FM(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Ny(h))?(Sy(p,l),p.h==0&&(p.src=null,h[xy]=null)):gi(l)}}}function FM(l){return l in Ay?Ay[l]:Ay[l]="on"+l}function bL(l,h){if(l.da)l=!0;else{h=new ao(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&Ry(l),l=p.call(y,h)}return l}function Ny(l){return l=l[xy],l instanceof co?l:null}var ky="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(l){return typeof l=="function"?l:(l[ky]||(l[ky]=function(h){return l.handleEvent(h)}),l[ky])}function Yt(){lt.call(this),this.i=new co(this),this.M=this,this.F=null}E(Yt,lt),Yt.prototype[ut]=!0,Yt.prototype.removeEventListener=function(l,h,p,y){kM(this,l,h,p,y)};function cn(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new Ke(h,l);else if(h instanceof Ke)h.target=h.target||l;else{var O=h;h=new Ke(y,l),T(h,O)}if(O=!0,p)for(var R=p.length-1;0<=R;R--){var B=h.g=p[R];O=nh(B,y,!0,h)&&O}if(B=h.g=l,O=nh(B,y,!0,h)&&O,O=nh(B,y,!1,h)&&O,p)for(R=0;R<p.length;R++)B=h.g=p[R],O=nh(B,y,!1,h)&&O}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)gi(p[y]);delete l.g[h],l.h--}}this.F=null},Yt.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},Yt.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function nh(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,R=0;R<h.length;++R){var B=h[R];if(B&&!B.da&&B.capture==p){var ze=B.listener,jt=B.ha||B.src;B.fa&&Sy(l.i,B),O=ze.call(jt,y)!==!1&&O}}return O&&!y.defaultPrevented}function LM(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function VM(l){l.g=LM(()=>{l.g=null,l.i&&(l.i=!1,VM(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class IL extends lt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:VM(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yl(l){lt.call(this),this.h=l,this.g={}}E(yl,lt);var jM=[];function UM(l){pe(l.g,function(h,p){this.g.hasOwnProperty(p)&&Ry(h)},l),l.g={}}yl.prototype.N=function(){yl.aa.N.call(this),UM(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ly=a.JSON.stringify,ML=a.JSON.parse,DL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Vy(){}Vy.prototype.h=null;function BM(l){return l.h||(l.h=l.i())}function $M(){}var _l={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jy(){Ke.call(this,"d")}E(jy,Ke);function Uy(){Ke.call(this,"c")}E(Uy,Ke);var ss={},zM=null;function rh(){return zM=zM||new Yt}ss.La="serverreachability";function HM(l){Ke.call(this,ss.La,l)}E(HM,Ke);function vl(l){let h=rh();cn(h,new HM(h))}ss.STAT_EVENT="statevent";function qM(l,h){Ke.call(this,ss.STAT_EVENT,l),this.stat=h}E(qM,Ke);function ln(l){let h=rh();cn(h,new qM(h,l))}ss.Ma="timingevent";function GM(l,h){Ke.call(this,ss.Ma,l),this.size=h}E(GM,Ke);function Cl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function wl(){this.g=!0}wl.prototype.xa=function(){this.g=!1};function TL(l,h,p,y,O,R){l.info(function(){if(l.g)if(R)for(var B="",ze=R.split("&"),jt=0;jt<ze.length;jt++){var Re=ze[jt].split("=");if(1<Re.length){var Zt=Re[0];Re=Re[1];var Xt=Zt.split("_");B=2<=Xt.length&&Xt[1]=="type"?B+(Zt+"="+Re+"&"):B+(Zt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+p+`
`+B})}function PL(l,h,p,y,O,R,B){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+p+`
`+R+" "+B})}function Ta(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+OL(l,p)+(y?" "+y:"")})}function SL(l,h){l.info(function(){return"TIMEOUT: "+h})}wl.prototype.info=function(){};function OL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var R=O[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return Ly(p)}catch{return h}}var ih={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},WM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},By;function oh(){}E(oh,Vy),oh.prototype.g=function(){return new XMLHttpRequest},oh.prototype.i=function(){return{}},By=new oh;function lo(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new yl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new KM}function KM(){this.i=null,this.g="",this.h=!1}var QM={},$y={};function zy(l,h,p){l.L=1,l.v=lh(mi(h)),l.m=p,l.P=!0,YM(l,null)}function YM(l,h){l.F=Date.now(),sh(l),l.A=mi(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),uD(p.i,"t",y),l.C=0,p=l.j.J,l.h=new KM,l.g=PD(l.j,p?h:null,!l.m),0<l.O&&(l.M=new IL(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(jM[0]=O.toString()),O=jM);for(var R=0;R<O.length;R++){var B=AM(p,O[R],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),vl(),TL(l.i,l.u,l.A,l.l,l.R,l.m)}lo.prototype.ca=function(l){l=l.target;let h=this.M;h&&yi(l)==3?h.j():this.Y(l)},lo.prototype.Y=function(l){try{if(l==this.g)e:{let Xt=yi(this.g);var h=this.g.Ba();let Oa=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||yD(this.g)))){this.J||Xt!=4||h==7||(h==8||0>=Oa?vl(3):vl(2)),Hy(this);var p=this.g.Z();this.X=p;t:if(ZM(this)){var y=yD(this.g);l="";var O=y.length,R=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),El(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(R&&h==O-1)});y.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=p==200,PL(this.i,this.u,this.A,this.l,this.R,Xt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,jt=this.g;if((ze=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ze)){var Re=ze;break t}}Re=null}if(p=Re)Ta(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qy(this,p);else{this.o=!1,this.s=3,ln(12),as(this),El(this);break e}}if(this.P){p=!0;let or;for(;!this.J&&this.C<B.length;)if(or=xL(this,B),or==$y){Xt==4&&(this.s=4,ln(14),p=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(or==QM){this.s=4,ln(15),Ta(this.i,this.l,B,"[Invalid Chunk]"),p=!1;break}else Ta(this.i,this.l,or,null),qy(this,or);if(ZM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||B.length!=0||this.h.h||(this.s=1,ln(16),p=!1),this.o=this.o&&p,!p)Ta(this.i,this.l,B,"[Invalid Chunked Response]"),as(this),El(this);else if(0<B.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Zy(Zt),Zt.M=!0,ln(11))}}else Ta(this.i,this.l,B,null),qy(this,B);Xt==4&&as(this),this.o&&!this.J&&(Xt==4?ID(this.j,this):(this.o=!1,sh(this)))}else KL(this.g),p==400&&0<B.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),as(this),El(this)}}}catch{}finally{}};function ZM(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xL(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?$y:(p=Number(h.substring(p,y)),isNaN(p)?QM:(y+=1,y+p>h.length?$y:(h=h.slice(y,y+p),l.C=y+p,h)))}lo.prototype.cancel=function(){this.J=!0,as(this)};function sh(l){l.S=Date.now()+l.I,XM(l,l.I)}function XM(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Cl(g(l.ba,l),h)}function Hy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}lo.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(SL(this.i,this.A),this.L!=2&&(vl(),ln(17)),as(this),this.s=2,El(this)):XM(this,this.S-l)};function El(l){l.j.G==0||l.J||ID(l.j,l)}function as(l){Hy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,UM(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function qy(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Gy(p.h,l))){if(!l.K&&Gy(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)ph(p),hh(p);else break e;Yy(p),ln(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Cl(g(p.Za,p),6e3));if(1>=tD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ls(p,11)}else if((l.K||p.g==l)&&ph(p),!q(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let Re=O[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let Zt=Re[3];Zt!=null&&(p.la=Zt,p.j.info("VER="+p.la));let Xt=Re[4];Xt!=null&&(p.Aa=Xt,p.j.info("SVER="+p.Aa));let Oa=Re[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(y=1.5*Oa,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let or=l.g;if(or){let mh=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var R=y.h;R.g||mh.indexOf("spdy")==-1&&mh.indexOf("quic")==-1&&mh.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Wy(R,R.h),R.h=null))}if(y.D){let Xy=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Xy&&(y.ya=Xy,Ye(y.I,y.D,Xy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var B=l;if(y.qa=TD(y,y.J?y.ia:null,y.W),B.K){nD(y.h,B);var ze=B,jt=y.L;jt&&(ze.I=jt),ze.B&&(Hy(ze),sh(ze)),y.g=B}else ED(y);0<p.i.length&&fh(p)}else Re[0]!="stop"&&Re[0]!="close"||ls(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ls(p,7):Qy(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}vl(4)}catch{}}var AL=class{constructor(l,h){this.g=l,this.map=h}};function JM(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function tD(l){return l.h?1:l.g?l.g.size:0}function Gy(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Wy(l,h){l.g?l.g.add(h):l.h=h}function nD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}JM.prototype.cancel=function(){if(this.i=rD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function rD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return S(l.i)}function RL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function NL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let y in l)h[p++]=y;return h}}}function iD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=NL(l),y=RL(l),O=y.length,R=0;R<O;R++)h.call(void 0,y[R],p&&p[R],l)}var oD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),O=null;if(0<=y){var R=l[p].substring(0,y);O=l[p].substring(y+1)}else R=l[p];h(R,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function cs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof cs){this.h=l.h,ah(this,l.j),this.o=l.o,this.g=l.g,ch(this,l.s),this.l=l.l;var h=l.i,p=new Ml;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),sD(this,p),this.m=l.m}else l&&(h=String(l).match(oD))?(this.h=!1,ah(this,h[1]||"",!0),this.o=bl(h[2]||""),this.g=bl(h[3]||"",!0),ch(this,h[4]),this.l=bl(h[5]||"",!0),sD(this,h[6]||"",!0),this.m=bl(h[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}cs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Il(h,aD,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Il(h,aD,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Il(p,p.charAt(0)=="/"?VL:LL,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Il(p,UL)),l.join("")};function mi(l){return new cs(l)}function ah(l,h,p){l.j=p?bl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ch(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function sD(l,h,p){h instanceof Ml?(l.i=h,BL(l.i,l.h)):(p||(h=Il(h,jL)),l.i=new Ml(h,l.h))}function Ye(l,h,p){l.i.set(h,p)}function lh(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function bl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Il(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,FL),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function FL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var aD=/[#\/\?@]/g,LL=/[#\?:]/g,VL=/[#\?]/g,jL=/[#\?@]/g,UL=/#/g;function Ml(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function uo(l){l.g||(l.g=new Map,l.h=0,l.i&&kL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Ml.prototype,n.add=function(l,h){uo(this),this.i=null,l=Pa(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function cD(l,h){uo(l),h=Pa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function lD(l,h){return uo(l),h=Pa(l,h),l.g.has(h)}n.forEach=function(l,h){uo(this),this.g.forEach(function(p,y){p.forEach(function(O){l.call(h,O,y,this)},this)},this)},n.na=function(){uo(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let O=l[y];for(let R=0;R<O.length;R++)p.push(h[y])}return p},n.V=function(l){uo(this);let h=[];if(typeof l=="string")lD(this,l)&&(h=h.concat(this.g.get(Pa(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return uo(this),this.i=null,l=Pa(this,l),lD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function uD(l,h,p){cD(l,h),0<p.length&&(l.i=null,l.g.set(Pa(l,h),S(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var O=R;B[y]!==""&&(O+="="+encodeURIComponent(String(B[y]))),l.push(O)}}return this.i=l.join("&")};function Pa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function BL(l,h){h&&!l.j&&(uo(l),l.i=null,l.g.forEach(function(p,y){var O=y.toLowerCase();y!=O&&(cD(this,y),uD(this,O,p))},l)),l.j=h}function $L(l,h){let p=new wl;if(a.Image){let y=new Image;y.onload=m(ho,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(ho,p,"TestLoadImage: error",!1,h,y),y.onabort=m(ho,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(ho,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function zL(l,h){let p=new wl,y=new AbortController,O=setTimeout(()=>{y.abort(),ho(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(R=>{clearTimeout(O),R.ok?ho(p,"TestPingServer: ok",!0,h):ho(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),ho(p,"TestPingServer: error",!1,h)})}function ho(l,h,p,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(p)}catch{}}function HL(){this.g=new DL}function qL(l,h,p){let y=p||"";try{iD(l,function(O,R){let B=O;u(O)&&(B=Ly(O)),h.push(y+R+"="+encodeURIComponent(B))})}catch(O){throw h.push(y+"type="+encodeURIComponent("_badmap")),O}}function Dl(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Dl,Vy),Dl.prototype.g=function(){return new uh(this.l,this.j)},Dl.prototype.i=function(l){return function(){return l}}({});function uh(l,h){Yt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(uh,Yt),n=uh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Pl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pl(this)),this.g&&(this.readyState=3,Pl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function dD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Tl(this):Pl(this),this.readyState==3&&dD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Tl(this))},n.Qa=function(l){this.g&&(this.response=l,Tl(this))},n.ga=function(){this.g&&Tl(this)};function Tl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Pl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hD(l){let h="";return pe(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Ky(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=hD(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ye(l,h,p))}function dt(l){Yt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(dt,Yt);var GL=/^https?$/i,WL=["POST","PUT"];n=dt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():By.g(),this.v=this.o?BM(this.o):BM(By),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(R){fD(this,R);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)p.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WL,h,void 0))||y||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of p)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mD(this),this.u=!0,this.g.send(l),this.u=!1}catch(R){fD(this,R)}};function fD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,pD(l),dh(l)}function pD(l){l.A||(l.A=!0,cn(l,"complete"),cn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,cn(this,"complete"),cn(this,"abort"),dh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dh(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?gD(this):this.bb())},n.bb=function(){gD(this)};function gD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||yi(l)!=4||l.Z()!=2)){if(l.u&&yi(l)==4)LM(l.Ea,0,l);else if(cn(l,"readystatechange"),yi(l)==4){l.h=!1;try{let B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=B===0){var O=String(l.D).match(oD)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),y=!GL.test(O?O.toLowerCase():"")}p=y}if(p)cn(l,"complete"),cn(l,"success");else{l.m=6;try{var R=2<yi(l)?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.Z()+"]",pD(l)}}finally{dh(l)}}}}function dh(l,h){if(l.g){mD(l);let p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||cn(l,"ready");try{p.onreadystatechange=y}catch{}}}function mD(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function yi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),ML(h)}};function yD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function KL(l){let h={};l=(l.g&&2<=yi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(q(l[y]))continue;var p=P(l[y]);let O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[O]||[];h[O]=R,R.push(p)}D(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sl(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function _D(l){this.Aa=0,this.i=[],this.j=new wl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sl("baseRetryDelayMs",5e3,l),this.cb=Sl("retryDelaySeedMs",1e4,l),this.Wa=Sl("forwardChannelMaxRetries",2,l),this.wa=Sl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new JM(l&&l.concurrentRequestLimit),this.Da=new HL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_D.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,y){ln(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=TD(this,null,this.W),fh(this)};function Qy(l){if(vD(l),l.G==3){var h=l.U++,p=mi(l.I);if(Ye(p,"SID",l.K),Ye(p,"RID",h),Ye(p,"TYPE","terminate"),Ol(l,p),h=new lo(l,l.j,h),h.L=2,h.v=lh(mi(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=PD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),sh(h)}DD(l)}function hh(l){l.g&&(Zy(l),l.g.cancel(),l.g=null)}function vD(l){hh(l),l.u&&(a.clearTimeout(l.u),l.u=null),ph(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function fh(l){if(!eD(l.h)&&!l.s){l.s=!0;var h=l.Ga;X||ft(),ee||(X(),ee=!0),Ie.add(h,l),l.B=0}}function QL(l,h){return tD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Cl(g(l.Ga,l,h),MD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let O=new lo(this,this.j,l),R=this.o;if(this.S&&(R?(R=w(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(O.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=wD(this,O,h),p=mi(this.I),Ye(p,"RID",l),Ye(p,"CVER",22),this.D&&Ye(p,"X-HTTP-Session-Id",this.D),Ol(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(hD(R)))+"&"+h:this.m&&Ky(p,this.m,R)),Wy(this.h,O),this.Ua&&Ye(p,"TYPE","init"),this.P?(Ye(p,"$req",h),Ye(p,"SID","null"),O.T=!0,zy(O,p,null)):zy(O,p,h),this.G=2}}else this.G==3&&(l?CD(this,l):this.i.length==0||eD(this.h)||CD(this))};function CD(l,h){var p;h?p=h.l:p=l.U++;let y=mi(l.I);Ye(y,"SID",l.K),Ye(y,"RID",p),Ye(y,"AID",l.T),Ol(l,y),l.m&&l.o&&Ky(y,l.m,l.o),p=new lo(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=wD(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Wy(l.h,p),zy(p,y,h)}function Ol(l,h){l.H&&pe(l.H,function(p,y){Ye(h,y,p)}),l.l&&iD({},function(p,y){Ye(h,y,p)})}function wD(l,h,p){p=Math.min(l.i.length,p);var y=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let R=-1;for(;;){let B=["count="+p];R==-1?0<p?(R=O[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let ze=!0;for(let jt=0;jt<p;jt++){let Re=O[jt].g,Zt=O[jt].map;if(Re-=R,0>Re)R=Math.max(0,O[jt].g-100),ze=!1;else try{qL(Zt,B,"req"+Re+"_")}catch{y&&y(Zt)}}if(ze){y=B.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function ED(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;X||ft(),ee||(X(),ee=!0),Ie.add(h,l),l.v=0}}function Yy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Cl(g(l.Fa,l),MD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,bD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Cl(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),hh(this),bD(this))};function Zy(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function bD(l){l.g=new lo(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=mi(l.qa);Ye(h,"RID","rpc"),Ye(h,"SID",l.K),Ye(h,"AID",l.T),Ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(h,"TO",l.ja),Ye(h,"TYPE","xmlhttp"),Ol(l,h),l.m&&l.o&&Ky(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=lh(mi(h)),p.m=null,p.P=!0,YM(p,l)}n.Za=function(){this.C!=null&&(this.C=null,hh(this),Yy(this),ln(19))};function ph(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ID(l,h){var p=null;if(l.g==h){ph(l),Zy(l),l.g=null;var y=2}else if(Gy(l.h,h))p=h.D,nD(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;y=rh(),cn(y,new GM(y,p)),fh(l)}else ED(l);else if(O=h.s,O==3||O==0&&0<h.X||!(y==1&&QL(l,h)||y==2&&Yy(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),O){case 1:ls(l,5);break;case 4:ls(l,10);break;case 3:ls(l,6);break;default:ls(l,2)}}}function MD(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function ls(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),y=l.Xa;let O=!y;y=new cs(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ah(y,"https"),lh(y),O?$L(y.toString(),p):zL(y.toString(),p)}else ln(2);l.G=0,l.l&&l.l.sa(h),DD(l),vD(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function DD(l){if(l.G=0,l.ka=[],l.l){let h=rD(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function TD(l,h,p){var y=p instanceof cs?mi(p):new cs(p);if(y.g!="")h&&(y.g=h+"."+y.g),ch(y,y.s);else{var O=a.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var R=new cs(null);y&&ah(R,y),h&&(R.g=h),O&&ch(R,O),p&&(R.l=p),y=R}return p=l.D,h=l.ya,p&&h&&Ye(y,p,h),Ye(y,"VER",l.la),Ol(l,y),y}function PD(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new dt(new Dl({eb:p})):new dt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function SD(){}n=SD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gh(){}gh.prototype.g=function(l,h){return new An(l,h)};function An(l,h){Yt.call(this),this.g=new _D(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!q(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!q(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Sa(this)}E(An,Yt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Qy(this.g)},An.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Ly(l),l=p);h.i.push(new AL(h.Ya++,l)),h.G==3&&fh(h)},An.prototype.N=function(){this.g.l=null,delete this.j,Qy(this.g),delete this.g,An.aa.N.call(this)};function OD(l){jy.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(OD,jy);function xD(){Uy.call(this),this.status=1}E(xD,Uy);function Sa(l){this.g=l}E(Sa,SD),Sa.prototype.ua=function(){cn(this.g,"a")},Sa.prototype.ta=function(l){cn(this.g,new OD(l))},Sa.prototype.sa=function(l){cn(this.g,new xD)},Sa.prototype.ra=function(){cn(this.g,"b")},gh.prototype.createWebChannel=gh.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Z0=Qi.createWebChannelTransport=function(){return new gh},Y0=Qi.getStatEventTarget=function(){return rh()},Q0=Qi.Event=ss,rm=Qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ih.NO_ERROR=0,ih.TIMEOUT=8,ih.HTTP_ERROR=6,_d=Qi.ErrorCode=ih,WM.COMPLETE="complete",K0=Qi.EventType=WM,$M.EventType=_l,_l.OPEN="a",_l.CLOSE="b",_l.ERROR="c",_l.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,Uc=Qi.WebChannel=$M,wq=Qi.FetchXmlHttpFactory=Dl,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,W0=Qi.XhrIo=dt}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});var sN="@firebase/firestore",aN="4.8.0";var Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");var sl="11.10.0";var pa=new Yr("@firebase/firestore");function Bc(){return pa.logLevel}function K(n,...e){if(pa.logLevel<=Me.DEBUG){let t=e.map(jI);pa.debug(`Firestore (${sl}): ${n}`,...t)}}function Yi(n,...e){if(pa.logLevel<=Me.ERROR){let t=e.map(jI);pa.error(`Firestore (${sl}): ${n}`,...t)}}function Qo(n,...e){if(pa.logLevel<=Me.WARN){let t=e.map(jI);pa.warn(`Firestore (${sl}): ${n}`,...t)}}function jI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JN(n,r,t)}function JN(n,e,t){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yi(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||JN(e,i,r)}function ge(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var um=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},nb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lt.UNAUTHENTICATED))}shutdown(){}},rb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ib=class{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new um(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Lt(e)}},ob=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},sb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ob(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ab=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Eq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ek(){return new TextEncoder}var Id=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Eq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function cb(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return be(r,i);{let o=ek(),s=bq(o.encode(cN(n,t)),o.encode(cN(e,t)));return s!==0?s:be(r,i)}}t+=r>65535?2:1}return be(n.length,e.length)}function cN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function bq(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return be(n[t],e[t]);return be(n.length,e.length)}function Kc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var lN="__name__",hm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return be(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):cb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}},it=class n extends hm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Iq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Un=class n extends hm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Iq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lN}static keyField(){return new n([lN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var te=class n{constructor(e){this.path=e}static fromPath(e){return new n(it.fromString(e))}static fromName(e){return new n(it.fromString(e).popFirst(5))}static empty(){return new n(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new it(e.slice()))}};function tk(n,e,t){if(!t)throw new H(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Mq(n,e,t,r){if(e===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uN(n){if(!te.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dN(n){if(te.isDocumentKey(n))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Hm(n);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Dt(n,e){let t={typeString:n};return e&&(t.value=e),t}function jd(n,e){if(!nk(n))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(k.INVALID_ARGUMENT,t);return!0}var hN=-62135596800,fN=1e6,Tt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*fN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hN)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fN}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jd(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-hN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Dt("string",Tt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};var ye=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Tt(0,0))}static max(){return new n(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Md=-1,lb=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};lb.UNKNOWN_ID=-1;function Dq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new ga(i,te.empty(),e)}function Tq(n){return new ga(n.readTime,n.key,Md)}var ga=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ye.min(),te.empty(),Md)}static max(){return new n(ye.max(),te.empty(),Md)}};function Pq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=te.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var Sq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ub=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function al(n){return _(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==Sq)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Oq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cl(n){return n.name==="IndexedDbTransactionError"}var UI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),BI=-1;function qm(n){return n==null}function Dd(n){return n===0&&1/n==-1/0}function xq(n){return typeof n=="number"&&Number.isInteger(n)&&!Dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var rk="";function Aq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pN(e)),e=Rq(n.get(t),e);return pN(e)}function Rq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case rk:t+="";break;default:t+=o}}return t}function pN(n){return n+rk+""}var Nq="remoteDocuments",ik="owner";var ok="mutationQueues";var sk="mutations";var ak="documentMutations",kq="remoteDocumentsV14";var ck="remoteDocumentGlobal";var lk="targets";var uk="targetDocuments";var dk="targetGlobal",hk="collectionParents";var fk="clientMetadata";var pk="bundles";var gk="namedQueries";var Fq="indexConfiguration";var Lq="indexState";var Vq="indexEntries";var mk="documentOverlays";var jq="globals";var Uq=[ok,sk,ak,Nq,lk,ik,dk,uk,fk,ck,hk,pk,gk],ufe=[...Uq,mk],Bq=[ok,sk,ak,kq,lk,ik,dk,uk,fk,ck,hk,pk,gk,mk],$q=Bq,zq=[...$q,Fq,Lq,Vq];var dfe=[...zq,jq];function gN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ts(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||ri.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}},qc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ri=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1;ri.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fm(this.data.getIterator())}getIteratorFrom(e){return new fm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},fm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nr=class n{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new n([])}unionWith(e){let t=new Vt(Un.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var pm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var an=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};an.EMPTY_BYTE_STRING=new an("");var Hq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=Hq.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(n.seconds),nanos:rt(n.nanos)}}function rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}var _k="server_timestamp",vk="__type__",Ck="__previous_value__",wk="__local_write_time__";function $I(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vk])===null||t===void 0?void 0:t.stringValue)===_k}function Gm(n){let e=n.mapValue.fields[Ck];return $I(e)?Gm(e):e}function Td(n){let e=Zi(n.mapValue.fields[wk].timestampValue);return new Tt(e.seconds,e.nanos)}var db=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},gm="(default)",mm=class n{constructor(e,t){this.projectId=e,this.database=t||gm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===gm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zI="__type__",Ek="__max__",im={mapValue:{fields:{__type__:{stringValue:Ek}}}},HI="__vector__",Qc="value";function Yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$I(n)?4:Ik(n)?9007199254740991:bk(n)?10:11:oe(28295,{value:n})}function ai(n,e){if(n===e)return!0;let t=Yo(n);if(t!==Yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Td(n).isEqual(Td(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Zi(i.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Xi(i.bytesValue).isEqual(Xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return rt(i.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rt(i.integerValue)===rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=rt(i.doubleValue),a=rt(o.doubleValue);return s===a?Dd(s)===Dd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Kc(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gN(s)!==gN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ai(s[c],a[c])))return!1;return!0}(n,e);default:return oe(52216,{left:n})}}function Pd(n,e){return(n.values||[]).find(t=>ai(t,e))!==void 0}function Yc(n,e){if(n===e)return 0;let t=Yo(n),r=Yo(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=rt(o.integerValue||o.doubleValue),c=rt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return mN(n.timestampValue,e.timestampValue);case 4:return mN(Td(n),Td(e));case 5:return cb(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xi(o),c=Xi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=be(a[u],c[u]);if(d!==0)return d}return be(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(rt(o.latitude),rt(s.latitude));return a!==0?a:be(rt(o.longitude),rt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},g=s.fields||{},m=(a=f[Qc])===null||a===void 0?void 0:a.arrayValue,E=(c=g[Qc])===null||c===void 0?void 0:c.arrayValue,S=be(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:yN(m,E)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===im.mapValue&&s===im.mapValue)return 0;if(o===im.mapValue)return 1;if(s===im.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=cb(c[f],d[f]);if(g!==0)return g;let m=Yc(a[c[f]],u[d[f]]);if(m!==0)return m}return be(c.length,d.length)}(n.mapValue,e.mapValue);default:throw oe(23264,{le:t})}}function mN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=Zi(n),r=Zi(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function yN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Yc(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function Zc(n){return hb(n)}function hb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Zi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=hb(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${hb(t.fields[s])}`;return i+"}"}(n.mapValue):oe(61005,{value:n})}function am(n){switch(Yo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gm(n);return e?16+am(e):16;case 5:return 2*n.stringValue.length;case 6:return Xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+am(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ts(r.fields,(o,s)=>{i+=o.length+am(s)}),i}(n.mapValue);default:throw oe(13486,{value:n})}}function _N(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fb(n){return!!n&&"integerValue"in n}function qI(n){return!!n&&"arrayValue"in n}function vN(n){return!!n&&"nullValue"in n}function CN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cm(n){return!!n&&"mapValue"in n}function bk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||t===void 0?void 0:t.stringValue)===HI}function Cd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ts(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ik(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ek}var ffe={mapValue:{fields:{[zI]:{stringValue:HI},[Qc]:{arrayValue:{}}}}};var jn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(t)}setAll(e){let t=Un.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Cd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ts(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Cd(this.value))}};function Mk(n){let e=[];return ts(n.fields,(t,r)=>{let i=new Un([t]);if(cm(r)){let o=Mk(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nr(e)}var Sr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ye.min(),ye.min(),ye.min(),jn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ye.min(),ye.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ye.min(),ye.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xc=class{constructor(e,t){this.position=e,this.inclusive=t}};function wN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),t.key):r=Yc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}var ma=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function qq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ym=class{},Mt=class n extends ym{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gb(e,t,r):t==="array-contains"?new _b(e,r):t==="in"?new vb(e,r):t==="not-in"?new Cb(e,r):t==="array-contains-any"?new wb(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mb(e,r):new yb(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yc(t,this.value)):t!==null&&Yo(this.value)===Yo(t)&&this.matchesComparison(Yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Or=class n extends ym{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return Dk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Dk(n){return n.op==="and"}function Tk(n){return Gq(n)&&Dk(n)}function Gq(n){for(let e of n.filters)if(e instanceof Or)return!1;return!0}function pb(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Zc(n.value);if(Tk(n))return n.filters.map(e=>pb(e)).join(",");{let e=n.filters.map(t=>pb(t)).join(",");return`${n.op}(${e})`}}function Pk(n,e){return n instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&ai(r.value,i.value)}(n,e):n instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Pk(s,i.filters[a]),!0):!1}(n,e):void oe(19439)}function Sk(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zc(t.value)}`}(n):n instanceof Or?function(t){return t.op.toString()+" {"+t.getFilters().map(Sk).join(" ,")+"}"}(n):"Filter"}var gb=class extends Mt{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){let t=te.comparator(e.key,this.key);return this.matchesComparison(t)}},mb=class extends Mt{constructor(e,t){super(e,"in",t),this.keys=Ok("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},yb=class extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Ok("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ok(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}var _b=class extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return qI(t)&&Pd(t.arrayValue,this.value)}},vb=class extends Mt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Pd(this.value.arrayValue,t)}},Cb=class extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pd(this.value.arrayValue,t)}},wb=class extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!qI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pd(this.value.arrayValue,r))}};var Eb=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function bN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Eb(n,e,t,r,i,o,s)}function GI(n){let e=ge(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zc(r)).join(",")),e.Pe=t}return e.Pe}function WI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EN(n.startAt,e.startAt)&&EN(n.endAt,e.endAt)}function bb(n){return te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Wq(n,e,t,r,i,o,s,a){return new Zo(n,e,t,r,i,o,s,a)}function Wm(n){return new Zo(n)}function IN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xk(n){return n.collectionGroup!==null}function wd(n){let e=ge(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vt(Un.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ma(o,r))}),t.has(Un.keyField().canonicalString())||e.Te.push(new ma(Un.keyField(),r))}return e.Te}function ii(n){let e=ge(n);return e.Ie||(e.Ie=Kq(e,wd(n))),e.Ie}function Kq(n,e){if(n.limitType==="F")return bN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ma(i.field,o)});let t=n.endAt?new Xc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xc(n.startAt.position,n.startAt.inclusive):null;return bN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ib(n,e){let t=n.filters.concat([e]);return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mb(n,e,t){return new Zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Km(n,e){return WI(ii(n),ii(e))&&n.limitType===e.limitType}function Ak(n){return`${GI(ii(n))}|lt:${n.limitType}`}function $c(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Sk(i)).join(", ")}]`),qm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Zc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Zc(i)).join(",")),`Target(${r})`}(ii(n))}; limitType=${n.limitType})`}function Qm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of wd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=wN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,wd(r),i)||r.endAt&&!function(s,a,c){let u=wN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,wd(r),i))}(n,e)}function Qq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rk(n){return(e,t)=>{let r=!1;for(let i of wd(n)){let o=Yq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Yq(n,e,t){let r=n.field.isKeyField()?te.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Yc(c,u):oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var Ji=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return yk(this.inner)}size(){return this.innerSize}};var Zq=new ht(te.comparator);function eo(){return Zq}var Nk=new ht(te.comparator);function vd(...n){let e=Nk;for(let t of n)e=e.insert(t.key,t);return e}function kk(n){let e=Nk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function la(){return Ed()}function Fk(){return Ed()}function Ed(){return new Ji(n=>n.toString(),(n,e)=>n.isEqual(e))}var Xq=new ht(te.comparator),Jq=new Vt(te.comparator);function Se(...n){let e=Jq;for(let t of n)e=e.add(t);return e}var e9=new Vt(be);function t9(){return e9}function KI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function Lk(n){return{integerValue:""+n}}function n9(n,e){return xq(e)?Lk(e):KI(n,e)}var Jc=class{constructor(){this._=void 0}};function r9(n,e,t){return n instanceof el?function(i,o){let s={fields:{[vk]:{stringValue:_k},[wk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$I(o)&&(o=Gm(o)),o&&(s.fields[Ck]=o),{mapValue:s}}(t,e):n instanceof ya?jk(n,e):n instanceof _a?Uk(n,e):function(i,o){let s=Vk(i,o),a=MN(s)+MN(i.Ee);return fb(s)&&fb(i.Ee)?Lk(a):KI(i.serializer,a)}(n,e)}function i9(n,e,t){return n instanceof ya?jk(n,e):n instanceof _a?Uk(n,e):t}function Vk(n,e){return n instanceof tl?function(r){return fb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var el=class extends Jc{},ya=class extends Jc{constructor(e){super(),this.elements=e}};function jk(n,e){let t=Bk(e);for(let r of n.elements)t.some(i=>ai(i,r))||t.push(r);return{arrayValue:{values:t}}}var _a=class extends Jc{constructor(e){super(),this.elements=e}};function Uk(n,e){let t=Bk(e);for(let r of n.elements)t=t.filter(i=>!ai(i,r));return{arrayValue:{values:t}}}var tl=class extends Jc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function MN(n){return rt(n.integerValue||n.doubleValue)}function Bk(n){return qI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ya&&i instanceof ya||r instanceof _a&&i instanceof _a?Kc(r.elements,i.elements,ai):r instanceof tl&&i instanceof tl?ai(r.Ee,i.Ee):r instanceof el&&i instanceof el}(n.transform,e.transform)}var Db=class{constructor(e,t){this.version=e,this.transformResults=t}},oi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var nl=class{};function $k(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sd(n.key,oi.none()):new va(n.key,n.data,oi.none());{let t=n.data,r=jn.empty(),i=new Vt(Un.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ci(n.key,r,new nr(i.toArray()),oi.none())}}function s9(n,e,t){n instanceof va?function(i,o,s){let a=i.value.clone(),c=TN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ci?function(i,o,s){if(!lm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=TN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(zk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function bd(n,e,t,r){return n instanceof va?function(o,s,a,c){if(!lm(o.precondition,s))return a;let u=o.value.clone(),d=PN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof ci?function(o,s,a,c){if(!lm(o.precondition,s))return a;let u=PN(o.fieldTransforms,c,s),d=s.data;return d.setAll(zk(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return lm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function a9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Vk(r.transform,i||null);o!=null&&(t===null&&(t=jn.empty()),t.set(r.field,o))}return t||null}function DN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kc(r,i,(o,s)=>o9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var va=class extends nl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ci=class extends nl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function zk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function TN(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,i9(s,a,t[i]))}return r}function PN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,r9(o,s,e))}return r}var Sd=class extends nl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Tb=class extends nl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Pb=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&s9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=bd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=bd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Fk();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=$k(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,(t,r)=>DN(t,r))&&Kc(this.baseMutations,e.baseMutations,(t,r)=>DN(t,r))}},Sb=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Xq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Ob=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xb=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var bt,xe;function c9(n){switch(n){case k.OK:return oe(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function Hk(n){if(n===void 0)return Yi("GRPC error has no .code"),k.UNKNOWN;switch(n){case bt.OK:return k.OK;case bt.CANCELLED:return k.CANCELLED;case bt.UNKNOWN:return k.UNKNOWN;case bt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case bt.INTERNAL:return k.INTERNAL;case bt.UNAVAILABLE:return k.UNAVAILABLE;case bt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case bt.NOT_FOUND:return k.NOT_FOUND;case bt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case bt.ABORTED:return k.ABORTED;case bt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case bt.DATA_LOSS:return k.DATA_LOSS;default:return oe(39323,{code:n})}}(xe=bt||(bt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";var SN=null;var l9=new Ki([4294967295,4294967295],0);function ON(n){let e=ek().encode(n),t=new G0;return t.update(e),new Uint8Array(t.digest())}function xN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ki([t,r],0),new Ki([i,o],0)]}var Ab=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ua(`Invalid padding: ${t}`);if(r<0)throw new ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ua(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ki.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Ki.fromNumber(r)));return i.compare(l9)===1&&(i=new Ki([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=ON(e),[r,i]=xN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=ON(e),[r,i]=xN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ua=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _m=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Od.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ye.min(),i,new ht(be),eo(),Se())}},Od=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Se(),Se(),Se())}};var Gc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},vm=class{constructor(e,t){this.targetId=e,this.De=t}},Cm=class{constructor(e,t,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wm=class{constructor(){this.ve=0,this.Ce=AN(),this.Fe=an.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Se(),t=Se(),r=Se();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new Od(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=AN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Rb=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=eo(),this.je=om(),this.Je=om(),this.He=new ht(be)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(bb(o))if(r===0){let s=new te(o.path);this.Xe(t,s,Sr.newNoDocument(s,ye.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}SN?.ct(function(d,f,g,m,E){var S,A,V,q,G,Z;let ke={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},pe=f.unchangedNames;return pe&&(ke.bloomFilter={applied:E===0,hashCount:(S=pe?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(q=(V=(A=pe?.bits)===null||A===void 0?void 0:A.bitmap)===null||V===void 0?void 0:V.length)!==null&&q!==void 0?q:0,padding:(Z=(G=pe?.bits)===null||G===void 0?void 0:G.padding)!==null&&Z!==void 0?Z:0,mightContain:D=>{var w;return(w=m?.mightContain(D))!==null&&w!==void 0&&w}}),ke}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Xi(r).toUint8Array()}catch(c){if(c instanceof pm)return Qo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ab(s,i,o)}catch(c){return Qo(c instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&bb(a.target)){let c=new te(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Sr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Se();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new _m(e,t,this.He,this.ze,r);return this.ze=eo(),this.je=om(),this.Je=om(),this.He=new ht(be),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new wm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Vt(be),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Vt(be),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function om(){return new ht(te.comparator)}function AN(){return new ht(te.comparator)}var u9={asc:"ASCENDING",desc:"DESCENDING"},d9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h9={and:"AND",or:"OR"},Nb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function kb(n,e){return n.useProto3Json||qm(e)?e:{value:e}}function Em(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function f9(n,e){return Em(n,e.toTimestamp())}function si(n){return Le(!!n,49232),ye.fromTimestamp(function(t){let r=Zi(t);return new Tt(r.seconds,r.nanos)}(n))}function QI(n,e){return Fb(n,e).canonicalString()}function Fb(n,e){let t=function(i){return new it(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Gk(n){let e=it.fromString(n);return Le(Zk(e),10190,{key:e.toString()}),e}function Lb(n,e){return QI(n.databaseId,e.path)}function X0(n,e){let t=Gk(e);if(t.get(1)!==n.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(Kk(t))}function Wk(n,e){return QI(n.databaseId,e)}function p9(n){let e=Gk(n);return e.length===4?it.emptyPath():Kk(e)}function Vb(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kk(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RN(n,e,t){return{name:Lb(n,e),fields:t.value.mapValue.fields}}function g9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string",58123),an.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),an.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?k.UNKNOWN:Hk(u.code);return new H(d,u.message||"")}(s);t=new Cm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=X0(n,r.document.name),o=si(r.document.updateTime),s=r.document.createTime?si(r.document.createTime):ye.min(),a=new jn({mapValue:{fields:r.document.fields}}),c=Sr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Gc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=X0(n,r.document),o=r.readTime?si(r.readTime):ye.min(),s=Sr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Gc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=X0(n,r.document),o=r.removedTargetIds||[];t=new Gc([],o,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new xb(i,o),a=r.targetId;t=new vm(a,s)}}return t}function m9(n,e){let t;if(e instanceof va)t={update:RN(n,e.key,e.value)};else if(e instanceof Sd)t={delete:Lb(n,e.key)};else if(e instanceof ci)t={update:RN(n,e.key,e.data),updateMask:M9(e.fieldMask)};else{if(!(e instanceof Tb))return oe(16599,{Rt:e.type});t={verify:Lb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof el)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ya)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _a)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:f9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(n,e.precondition)),t}function y9(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?si(i.updateTime):si(o);return s.isEqual(ye.min())&&(s=si(o)),new Db(s,i.transformResults||[])}(t,e))):[]}function _9(n,e){return{documents:[Wk(n,e.path)]}}function v9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Wk(n,i);let o=function(u){if(u.length!==0)return Yk(Or.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:zc(g.field),direction:E9(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=kb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function C9(n){let e=p9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let g=Qk(f);return g instanceof Or&&Tk(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(g=>function(E){return new ma(Hc(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,qm(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,m=f.values||[];return new Xc(m,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,m=f.values||[];return new Xc(m,g)}(t.endAt)),Wq(e,i,s,o,a,"F",c,u)}function w9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Qk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Hc(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Hc(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Hc(t.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Hc(t.unaryFilter.field);return Mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(Hc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Or.create(t.compositeFilter.filters.map(r=>Qk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(t.compositeFilter.op))}(n):oe(30097,{filter:n})}function E9(n){return u9[n]}function b9(n){return d9[n]}function I9(n){return h9[n]}function zc(n){return{fieldPath:n.canonicalString()}}function Hc(n){return Un.fromServerFormat(n.fieldPath)}function Yk(n){return n instanceof Mt?function(t){if(t.op==="=="){if(CN(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NAN"}};if(vN(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CN(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NOT_NAN"}};if(vN(t.value))return{unaryFilter:{field:zc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(t.field),op:b9(t.op),value:t.value}}}(n):n instanceof Or?function(t){let r=t.getFilters().map(i=>Yk(i));return r.length===1?r[0]:{compositeFilter:{op:I9(t.op),filters:r}}}(n):oe(54877,{filter:n})}function M9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var xd=class n{constructor(e,t,r,i,o=ye.min(),s=ye.min(),a=an.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jb=class{constructor(e){this.gt=e}};function D9(n){let e=C9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mb(e,e.limit,"L"):e}var bm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(rt(e.integerValue));else if("doubleValue"in e){let r=rt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Dd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Zi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Xi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Ik(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):bk(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):oe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Qc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(rt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),te.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};bm.Ut=new bm;var Ub=class{constructor(){this.Dn=new Bb}addToCollectionParentIndex(e,t){return this.Dn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(ga.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},Bb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(it.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}};var pfe=new Uint8Array(0);var NN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xk=41943040,tr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(Xk,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);var Ad=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var kN="LruGarbageCollector",T9=1048576;function FN([n,e],[t,r]){let i=be(n,t);return i===0?be(e,r):i}var $b=class{constructor(e){this.Tr=e,this.buffer=new Vt(FN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();FN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},zb=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){K(kN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){cl(t)?K(kN,"Ignoring IndexedDB error during garbage collection: ",t):yield al(t)}yield this.Rr(3e5)}))}},Hb=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return U.resolve(UI.ue);let r=new $b(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(NN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Bc()<=Me.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function P9(n,e){return new Hb(n,e)}var qb=class{constructor(){this.changes=new Ji(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Gb=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Wb=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bd(r.mutation,i,nr.empty(),Tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Se()){let i=la();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=vd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=la();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Se()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=eo(),s=Ed(),a=function(){return Ed()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ci)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),bd(d.mutation,u,d.mutation.getFieldMask(),Tt.now())):s.set(u.key,nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new Gb(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ed(),i=new ht((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||nr.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Se()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=Fk();d.forEach(g=>{if(!o.has(g)){let m=$k(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):U.resolve(la()),a=Md,c=o;return s.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Se())).next(d=>({batchId:a,changes:kk(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let i=vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=vd();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,c=>{let u=function(f,g){return new Zo(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Sr.newInvalidDocument(d)))});let a=vd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&bd(d.mutation,u,nr.empty(),Tt.now()),Qm(t,u)&&(a=a.insert(c,u))}),a})}};var Kb=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return U.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:D9(i.bundledQuery),readTime:si(i.readTime)}}(t)),U.resolve()}};var Qb=class{constructor(){this.overlays=new ht(te.comparator),this.kr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let r=la();return U.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),U.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){let i=la(),o=t.length+1,s=new te(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ht((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=la(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=la(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ob(t,r));let o=this.kr.get(t);o===void 0&&(o=Se(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Yb=class{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var Rd=class{constructor(){this.qr=new Vt(It.Qr),this.$r=new Vt(It.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new It(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new It(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new te(new it([])),r=new It(t,e),i=new It(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new te(new it([])),r=new It(t,e),i=new It(t,e+1),o=Se();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new It(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},It=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return te.comparator(e.key,t.key)||be(e.Hr,t.Hr)}static Ur(e,t){return be(e.Hr,t.Hr)||te.comparator(e.key,t.key)}};var Zb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Vt(It.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Pb(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new It(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,t){return U.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?BI:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new It(t,0),i=new It(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(be);return t.forEach(i=>{let o=new It(i,0),s=new It(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),U.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;te.isDocumentKey(o)||(o=o.child(""));let s=new It(new te(o),0),a=new Vt(be);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),U.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return U.forEach(t.mutations,i=>{let o=new It(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new It(t,0),i=this.Yr.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Xb=class{constructor(e){this.ni=e,this.docs=function(){return new ht(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sr.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=eo(),s=t.path,a=new te(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Pq(Tq(d),r)<=0||(i.has(d.key)||Qm(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}ri(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Jb(this)}getSize(e){return U.resolve(this.size)}},Jb=class extends qb{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var eI=class{constructor(e){this.persistence=e,this.ii=new Ji(t=>GI(t),WI),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new Rd,this.targetCount=0,this._i=Ad.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),U.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Ad(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.hr(t),U.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.oi.containsKey(t))}};var Im=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new UI(0),this.ci=!1,this.ci=!0,this.li=new Yb,this.referenceDelegate=e(this),this.hi=new eI(this),this.indexManager=new Ub,this.remoteDocumentCache=function(i){return new Xb(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new jb(t),this.Ti=new Kb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Zb(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new tI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return U.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},tI=class extends ub{constructor(e){super(),this.currentSequenceNumber=e}},nI=class n{constructor(e){this.persistence=e,this.Ai=new Rd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,r=>{let i=te.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return U.or([()=>U.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Mm=class n{constructor(e,t){this.persistence=e,this.gi=new Ji(r=>Aq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=P9(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return U.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?U.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),U.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=am(e.data.value)),t}Sr(e,t,r){return U.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var rI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Se(),i=Se();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var iI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return I1()?8:Oq(Ft())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new iI;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Bc()<=Me.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",$c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Bc()<=Me.DEBUG&&K("QueryEngine","Query:",$c(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Bc()<=Me.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",$c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):U.resolve())}ps(e,t){if(IN(t))return U.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Mb(t,null,"F"),r=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Se(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,Mb(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return IN(t)||i.isEqual(ye.min())?U.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?U.resolve(null):(Bc()<=Me.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$c(t)),this.vs(e,s,t,Dq(i,Md)).next(a=>a))})}bs(e,t){let r=new Vt(Rk(e));return t.forEach((i,o)=>{Qm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Bc()<=Me.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",$c(t)),this.gs.getDocumentsMatchingQuery(e,t,ga.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var YI="LocalStore",S9=3e8,sI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ht(be),this.Ms=new Ji(o=>GI(o),WI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function O9(n,e,t,r){return new sI(n,e,t,r)}function Jk(n,e){return _(this,null,function*(){let t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Se();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function x9(n,e){let t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),m=U.resolve();return g.forEach(E=>{m=m.next(()=>d.getEntry(c,E)).next(S=>{let A=u.docVersions.get(E);Le(A!==null,48541),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function eF(n){let e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function A9(n,e){let t=ge(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(an.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(S,A,V){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=S9?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=eo(),u=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(R9(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(ye.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function R9(n,e,t){let r=Se(),i=Se();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=eo();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):K(YI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function N9(n,e){let t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=BI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k9(n,e){let t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new xd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function aI(n,e,t){return _(this,null,function*(){let r=ge(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!cl(s))throw s;K(YI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function LN(n,e,t){let r=ge(n),i=ye.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=ge(c),g=f.Ms.get(d);return g!==void 0?U.resolve(f.Fs.get(g)):f.hi.getTargetData(u,d)}(r,s,ii(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ye.min(),t?o:Se())).next(a=>(F9(r,Qq(e),a),{documents:a,qs:o})))}function F9(n,e,t){let r=n.xs.get(e)||ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Dm=class{constructor(){this.activeTargetIds=t9()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cI=class{constructor(){this.Fo=new Dm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Dm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var lI=class{xo(e){}shutdown(){}};var VN="ConnectivityMonitor",Tm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){K(VN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){K(VN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sm=null;function uI(){return sm===null?sm=function(){return 268435456+Math.round(2147483648*Math.random())}():sm++,"0x"+sm.toString(16)}var J0="RestConnection",L9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===gm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=uI(),a=this.Go(e,t.toUriEncodedString());K(J0,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=Kr(u);return this.jo(e,a,c,r,d).then(f=>(K(J0,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Qo(J0,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=L9[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var hI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var sn="WebChannelConnection",fI=class extends dI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=uI();return new Promise((a,c)=>{let u=new W0;u.setWithCredentials(!0),u.listenOnce(K0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _d.NO_ERROR:let f=u.getResponseJson();K(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case _d.TIMEOUT:K(sn,`RPC '${e}' ${s} timed out`),c(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:let g=u.getStatus();if(K(sn,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let E=m?.error;if(E&&E.status&&E.message){let S=function(V){let q=V.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(q)>=0?q:k.UNKNOWN}(E.status);c(new H(S,E.message))}else c(new H(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(k.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{K(sn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);K(sn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=uI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Z0(),a=Y0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");K(sn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,E=new hI({Ho:A=>{m?K(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(K(sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),K(sn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Yo:()=>f.close()}),S=(A,V,q)=>{A.listen(V,G=>{try{q(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return S(f,Uc.EventType.OPEN,()=>{m||(K(sn,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),S(f,Uc.EventType.CLOSE,()=>{m||(m=!0,K(sn,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(f))}),S(f,Uc.EventType.ERROR,A=>{m||(m=!0,Qo(sn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.__(new H(k.UNAVAILABLE,"The operation could not be completed")))}),S(f,Uc.EventType.MESSAGE,A=>{var V;if(!m){let q=A.data[0];Le(!!q,16349);let G=q,Z=G?.error||((V=G[0])===null||V===void 0?void 0:V.error);if(Z){K(sn,`RPC '${e}' stream ${i} received error:`,Z);let ke=Z.status,pe=function(b){let T=bt[b];if(T!==void 0)return Hk(T)}(ke),D=Z.message;pe===void 0&&(pe=k.INTERNAL,D="Unknown error status: "+ke+" with message "+Z.message),m=!0,E.__(new H(pe,D)),f.close()}else K(sn,`RPC '${e}' stream ${i} received:`,q),E.a_(q)}}),S(a,Q0.STAT_EVENT,A=>{A.stat===rm.PROXY?K(sn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===rm.NOPROXY&&K(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function eb(){return typeof document<"u"?document:null}function Ym(n){return new Nb(n,!0)}var Pm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var jN="PersistentStream",Sm=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Pm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Yi(t.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return K(jN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(K(jN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pI=class extends Sm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=g9(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?si(s.readTime):ye.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Vb(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=bb(c)?{documents:_9(o,c)}:{query:v9(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qk(o,s.resumeToken);let u=kb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=Em(o,s.snapshotVersion.toTimestamp());let u=kb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=w9(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Vb(this.serializer),t.removeTarget=e,this.k_(t)}},gI=class extends Sm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=y9(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Vb(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>m9(this.serializer,r))};this.k_(t)}};var mI=class{},yI=class extends mI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Fb(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Fb(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},_I=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Yi(t),this._a=!1):K("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ca="RemoteStore",vI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){wa(this)&&(K(Ca,"Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=ge(c);u.Ia.add(4),yield Ud(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Zm(u)})}(this))}))}),this.Aa=new _I(r,i)}};function Zm(n){return _(this,null,function*(){if(wa(n))for(let e of n.da)yield e(!0)})}function Ud(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function tF(n,e){let t=ge(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),eM(t)?JI(t):ll(t).x_()&&XI(t,e))}function ZI(n,e){let t=ge(n),r=ll(t);t.Ta.delete(e),r.x_()&&nF(t,e),t.Ta.size===0&&(r.x_()?r.B_():wa(t)&&t.Aa.set("Unknown"))}function XI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ll(n).H_(e)}function nF(n,e){n.Ra.$e(e),ll(n).Y_(e)}function JI(n){n.Ra=new Rb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.Aa.aa()}function eM(n){return wa(n)&&!ll(n).M_()&&n.Ta.size>0}function wa(n){return ge(n).Ia.size===0}function rF(n){n.Ra=void 0}function V9(n){return _(this,null,function*(){n.Aa.set("Online")})}function j9(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{XI(n,e)})})}function U9(n,e){return _(this,null,function*(){rF(n),eM(n)?(n.Aa.la(e),JI(n)):n.Aa.set("Unknown")})}function B9(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Cm&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){K(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Om(n,r)}else if(e instanceof Gc?n.Ra.Ye(e):e instanceof vm?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ye.min()))try{let r=yield eF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),nF(o,c);let f=new xd(d.target,c,u,d.sequenceNumber);XI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K(Ca,"Failed to raise snapshot:",r),yield Om(n,r)}})}function Om(n,e,t){return _(this,null,function*(){if(!cl(e))throw e;n.Ia.add(1),yield Ud(n),n.Aa.set("Offline"),t||(t=()=>eF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){K(Ca,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Zm(n)}))})}function iF(n,e){return e().catch(t=>Om(n,t,e))}function Xm(n){return _(this,null,function*(){let e=ge(n),t=Xo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:BI;for(;$9(e);)try{let i=yield N9(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,z9(e,i)}catch(i){yield Om(e,i)}oF(e)&&sF(e)})}function $9(n){return wa(n)&&n.Pa.length<10}function z9(n,e){n.Pa.push(e);let t=Xo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function oF(n){return wa(n)&&!Xo(n).M_()&&n.Pa.length>0}function sF(n){Xo(n).start()}function H9(n){return _(this,null,function*(){Xo(n).na()})}function q9(n){return _(this,null,function*(){let e=Xo(n);for(let t of n.Pa)e.X_(t.mutations)})}function G9(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=Sb.from(r,e,t);yield iF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xm(n)})}function W9(n,e){return _(this,null,function*(){e&&Xo(n).Z_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return c9(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Xo(r).N_(),yield iF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xm(r)}})}(n,e)),oF(n)&&sF(n)})}function UN(n,e){return _(this,null,function*(){let t=ge(n);t.asyncQueue.verifyOperationInProgress(),K(Ca,"RemoteStore received new credentials");let r=wa(t);t.Ia.add(3),yield Ud(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Zm(t)})}function K9(n,e){return _(this,null,function*(){let t=ge(n);e?(t.Ia.delete(2),yield Zm(t)):e||(t.Ia.add(2),yield Ud(t),t.Aa.set("Unknown"))})}function ll(n){return n.Va||(n.Va=function(t,r,i){let o=ge(t);return o.ia(),new pI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:V9.bind(null,n),e_:j9.bind(null,n),n_:U9.bind(null,n),J_:B9.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),eM(n)?JI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),rF(n))}))),n.Va}function Xo(n){return n.ma||(n.ma=function(t,r,i){let o=ge(t);return o.ia(),new gI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:H9.bind(null,n),n_:W9.bind(null,n),ea:q9.bind(null,n),ta:G9.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield Xm(n)):(yield n.ma.stop(),n.Pa.length>0&&(K(Ca,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var CI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tM(n,e){if(Yi("AsyncQueue",`${e}: ${n}`),cl(n))return new H(k.UNAVAILABLE,`${e}: ${n}`);throw n}var xm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=vd(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Am=class{constructor(){this.fa=new ht(te.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},rl=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,xm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var wI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},EI=class{constructor(){this.queries=BN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ge(t),o=i.queries;i.queries=BN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function BN(){return new Ji(n=>Ak(n),Km)}function nM(n,e){return _(this,null,function*(){let t=ge(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new wI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=tM(s,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&iM(t)})}function rM(n,e){return _(this,null,function*(){let t=ge(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Q9(n,e){let t=ge(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&iM(t)}function Y9(n,e,t){let r=ge(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function iM(n){n.Da.forEach(e=>{e.next()})}var bI,$N;($N=bI||(bI={})).Fa="default",$N.Cache="cache";var Nd=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==bI.Cache}};var Rm=class{constructor(e){this.key=e}},Nm=class{constructor(e){this.key=e}},II=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Se(),this.mutatedKeys=Se(),this.Xa=Rk(e),this.eu=new xm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Am,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=Qm(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;g&&m?g.data.isEqual(m.data)?E!==S&&(r.track({type:3,doc:m}),A=!0):this.iu(g,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.Xa(m,c)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),A=!0):g&&!m&&(r.track({type:1,doc:g}),A=!0,(c||u)&&(a=!0)),A&&(m?(s=s.add(m),o=S?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>function(m,E){let S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:A})}};return S(m)-S(E)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new rl(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Am,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Se(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Nm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Rm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Se();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return rl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},oM="SyncEngine",MI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},DI=class{constructor(e){this.key=e,this.lu=!1}},TI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ji(a=>Ak(a),Km),this.Tu=new Map,this.Iu=new Set,this.du=new ht(te.comparator),this.Eu=new Map,this.Au=new Rd,this.Ru={},this.Vu=new Map,this.mu=Ad.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Z9(n,e,t=!0){return _(this,null,function*(){let r=hF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield aF(r,e,t,!0),i})}function X9(n,e){return _(this,null,function*(){let t=hF(n);yield aF(t,e,!0,!1)})}function aF(n,e,t,r){return _(this,null,function*(){let i=yield k9(n.localStore,ii(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield J9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&tF(n.remoteStore,i),a})}function J9(n,e,t,r,i){return _(this,null,function*(){n.gu=(f,g,m)=>function(S,A,V,q){return _(this,null,function*(){let G=A.view.nu(V);G.Ds&&(G=yield LN(S.localStore,A.query,!1).then(({documents:D})=>A.view.nu(D,G)));let Z=q&&q.targetChanges.get(A.targetId),ke=q&&q.targetMismatches.get(A.targetId)!=null,pe=A.view.applyChanges(G,S.isPrimaryClient,Z,ke);return HN(S,A.targetId,pe._u),pe.snapshot})}(n,f,g,m);let o=yield LN(n.localStore,e,!0),s=new II(e,o.qs),a=s.nu(o.documents),c=Od.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);HN(n,t,u._u);let d=new MI(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function eG(n,e,t){return _(this,null,function*(){let r=ge(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Km(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield aI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ZI(r.remoteStore,i.targetId),PI(r,i.targetId)}).catch(al))):(PI(r,i.targetId),yield aI(r.localStore,i.targetId,!0))})}function tG(n,e){return _(this,null,function*(){let t=ge(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(t.remoteStore,r.targetId))})}function nG(n,e,t){return _(this,null,function*(){let r=lG(n);try{let i=yield function(s,a){let c=ge(s),u=Tt.now(),d=a.reduce((m,E)=>m.add(E.key),Se()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=eo(),S=Se();return c.Os.getEntries(m,d).next(A=>{E=A,E.forEach((V,q)=>{q.isValidDocument()||(S=S.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,E)).next(A=>{f=A;let V=[];for(let q of a){let G=a9(q,f.get(q.key).overlayedDocument);G!=null&&V.push(new ci(q.key,G,Mk(G.value.mapValue),oi.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,V,a)}).next(A=>{g=A;let V=A.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(m,A.batchId,V)})}).then(()=>({batchId:g.batchId,changes:kk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new ht(be)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Bd(r,i.changes),yield Xm(r.remoteStore)}catch(i){let o=tM(i,"Failed to persist write");t.reject(o)}})}function cF(n,e){return _(this,null,function*(){let t=ge(n);try{let r=yield A9(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield Bd(t,r,e)}catch(r){yield al(r)}})}function zN(n,e,t){let r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ge(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(u=!0)}),u&&iM(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rG(n,e,t){return _(this,null,function*(){let r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ht(te.comparator);s=s.insert(o,Sr.newNoDocument(o,ye.min()));let a=Se().add(o),c=new _m(ye.min(),new Map,new ht(be),s,a);yield cF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),sM(r)}else yield aI(r.localStore,e,!1).then(()=>PI(r,e,t)).catch(al)})}function iG(n,e){return _(this,null,function*(){let t=ge(n),r=e.batch.batchId;try{let i=yield x9(t.localStore,e);uF(t,r,null),lF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bd(t,i)}catch(i){yield al(i)}})}function oG(n,e,t){return _(this,null,function*(){let r=ge(n);try{let i=yield function(s,a){let c=ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);uF(r,e,t),lF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bd(r,i)}catch(i){yield al(i)}})}function lF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function uF(n,e,t){let r=ge(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function PI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||dF(n,r)})}function dF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(ZI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),sM(n))}function HN(n,e,t){for(let r of t)r instanceof Rm?(n.Au.addReference(r.key,e),sG(n,r)):r instanceof Nm?(K(oM,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||dF(n,r.key)):oe(19791,{yu:r})}function sG(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(K(oM,"New document in limbo: "+t),n.Iu.add(r),sM(n))}function sM(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new te(it.fromString(e)),r=n.mu.next();n.Eu.set(r,new DI(t)),n.du=n.du.insert(t,r),tF(n.remoteStore,new xd(ii(Wm(t.path)),r,"TargetPurposeLimboResolution",UI.ue))}}function Bd(n,e,t){return _(this,null,function*(){let r=ge(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=rI.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return _(this,null,function*(){let d=ge(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,g=>U.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>U.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!cl(f))throw f;K(YI,"Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),E=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(g,S)}}})}(r.localStore,o))})}function aG(n,e){return _(this,null,function*(){let t=ge(n);if(!t.currentUser.isEqual(e)){K(oM,"User change. New user:",e.toKey());let r=yield Jk(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new H(k.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bd(t,r.Bs)}})}function cG(n,e){let t=ge(n),r=t.Eu.get(e);if(r&&r.lu)return Se().add(r.key);{let i=Se(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function hF(n){let e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rG.bind(null,e),e.hu.J_=Q9.bind(null,e.eventManager),e.hu.pu=Y9.bind(null,e.eventManager),e}function lG(n){let e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oG.bind(null,e),e}var fF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Ym(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return O9(this.persistence,new oI,t.initialUser,this.serializer)}Du(t){return new Im(nI.Vi,this.serializer)}bu(t){return new cI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),SI=class extends fF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof Mm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new zb(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new Im(r=>Mm.Vi(r,t),this.serializer)}};var uG=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aG.bind(null,this.syncEngine),yield K9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new EI}()}createDatastore(t){let r=Ym(t.databaseInfo.databaseId),i=function(s){return new fI(s)}(t.databaseInfo);return function(s,a,c,u){return new yI(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new vI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>zN(this.syncEngine,r,0),function(){return Tm.C()?new Tm:new lI}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let g=new TI(o,s,a,c,u,d);return f&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=ge(o);K(Ca,"RemoteStore shutting down."),s.Ia.add(5),yield Ud(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var kd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Jo="FirestoreClient",OI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){K(Jo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K(Jo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tM(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function tb(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K(Jo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield Jk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Qo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{K("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Qo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function qN(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield dG(n);K(Jo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>UN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>UN(e.remoteStore,i)),n._onlineComponents=e})}function dG(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K(Jo,"Using user provided OfflineComponentProvider");try{yield tb(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),yield tb(n,new fF)}}else K(Jo,"Using default OfflineComponentProvider"),yield tb(n,new SI(void 0));return n._offlineComponents})}function pF(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K(Jo,"Using user provided OnlineComponentProvider"),yield qN(n,n._uninitializedComponentsProvider._online)):(K(Jo,"Using default OnlineComponentProvider"),yield qN(n,new uG))),n._onlineComponents})}function hG(n){return pF(n).then(e=>e.syncEngine)}function km(n){return _(this,null,function*(){let e=yield pF(n),t=e.eventManager;return t.onListen=Z9.bind(null,e.syncEngine),t.onUnlisten=eG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tG.bind(null,e.syncEngine),t})}function fG(n,e,t={}){let r=new Pr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,u){let d=new kd({next:g=>{d.Ou(),s.enqueueAndForget(()=>rM(o,f));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new H(k.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?u.reject(new H(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Nd(Wm(a.path),d,{includeMetadataChanges:!0,ka:!0});return nM(o,f)}(yield km(n),n.asyncQueue,e,t,r)})),r.promise}function pG(n,e,t={}){let r=new Pr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,u){let d=new kd({next:g=>{d.Ou(),s.enqueueAndForget(()=>rM(o,f)),g.fromCache&&c.source==="server"?u.reject(new H(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Nd(a,d,{includeMetadataChanges:!0,ka:!0});return nM(o,f)}(yield km(n),n.asyncQueue,e,t,r)})),r.promise}function gF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var GN=new Map;var mF="firestore.googleapis.com",WN=!0,Fm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mF,this.ssl=WN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:WN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T9)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},il=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nb;switch(r.type){case"firstParty":return new sb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=GN.get(t);r&&(K("ComponentProvider","Removing Datastore"),GN.delete(t),r.terminate())}(this),Promise.resolve()}};function yF(n,e,t,r={}){var i;n=On(n,il);let o=Kr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Rc(`https://${c}`),Nc("Firestore",!0)),s.host!==mF&&s.host!==c&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Qr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Lt.MOCK_USER;else{d=xg(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lt(g)}n._authCredentials=new rb(new um(d,f))}}var es=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(jd(t,n._jsonSchema))return new n(e,r||null,new te(it.fromString(t.referencePath)))}};xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Dt("string",xt._jsonSchemaVersion),referencePath:Dt("string")};var qo=class n extends es{constructor(e,t,r){super(e,t,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new te(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function li(n,e,...t){if(n=et(n),tk("collection","path",e),n instanceof il){let r=it.fromString(e,...t);return dN(r),new qo(n,null,r)}{if(!(n instanceof xt||n instanceof qo))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(it.fromString(e,...t));return dN(r),new qo(n.firestore,null,r)}}function to(n,e,...t){if(n=et(n),arguments.length===1&&(e=Id.newId()),tk("doc","path",e),n instanceof il){let r=it.fromString(e,...t);return uN(r),new xt(n,null,new te(r))}{if(!(n instanceof xt||n instanceof qo))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(it.fromString(e,...t));return uN(r),new xt(n.firestore,n instanceof qo?n.converter:null,new te(r))}}var KN="AsyncQueue",Lm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Pm(this,"async_queue_retry"),this.oc=()=>{let r=eb();r&&K(KN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=eb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=eb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Pr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!cl(e))throw e;K(KN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Yi("INTERNAL UNHANDLED ERROR: ",QN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=CI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:QN(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function QN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function YN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var xr=class extends il{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lm(e),this._firestoreClient=void 0,yield e}})}};function _F(n,e){let t=typeof n=="object"?n:$i(),r=typeof n=="string"?n:e||gm,i=Lo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Og("firestore");o&&yF(i,...o)}return i}function Jm(n){if(n._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gG(n),n._firestoreClient}function gG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new db(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new OI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Go=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(an.fromBase64String(e))}catch(t){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jd(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Go._jsonSchemaVersion="firestore/bytes/1.0",Go._jsonSchema={type:Dt("string",Go._jsonSchemaVersion),bytes:Dt("string")};var ol=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fd=class{constructor(e){this._methodName=e}};var Wo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(jd(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:Dt("string",Wo._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};var Ko=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jd(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ko._jsonSchemaVersion="firestore/vectorValue/1.0",Ko._jsonSchema={type:Dt("string",Ko._jsonSchemaVersion),vectorValues:Dt("object")};var mG=/^__.*__$/,xI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new va(e,this.data,t,this.fieldTransforms)}},Vm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function vF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:n})}}var AI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Um(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vF(this.Ec)&&mG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},RI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ym(e)}Dc(e,t,r,i=!1){return new AI({Ec:e,methodName:t,bc:r,path:Un.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ey(n){let e=n._freezeSettings(),t=Ym(n._databaseId);return new RI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CF(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);aM("Data must be an object, but it was:",s,r);let a=wF(r,s),c,u;if(o.merge)c=new nr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=NI(e,f,t);if(!s.contains(g))throw new H(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);bF(d,g)||d.push(g)}c=new nr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new xI(new jn(a),c,u)}var jm=class n extends Fd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function yG(n,e,t,r){let i=n.Dc(1,e,t);aM("Data must be an object, but it was:",i,r);let o=[],s=jn.empty();ts(r,(c,u)=>{let d=cM(e,c,t);u=et(u);let f=i.gc(d);if(u instanceof jm)o.push(d);else{let g=$d(u,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new nr(o);return new Vm(s,a,i.fieldTransforms)}function _G(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[NI(e,r,t)],c=[i];if(o.length%2!=0)throw new H(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(NI(e,o[g])),c.push(o[g+1]);let u=[],d=jn.empty();for(let g=a.length-1;g>=0;--g)if(!bF(u,a[g])){let m=a[g],E=c[g];E=et(E);let S=s.gc(m);if(E instanceof jm)u.push(m);else{let A=$d(E,S);A!=null&&(u.push(m),d.set(m,A))}}let f=new nr(u);return new Vm(d,f,s.fieldTransforms)}function vG(n,e,t,r=!1){return $d(t,n.Dc(r?4:3,e))}function $d(n,e){if(EF(n=et(n)))return aM("Unsupported field value:",e,n),wF(n,e);if(n instanceof Fd)return function(r,i){if(!vF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=$d(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Tt.fromDate(r);return{timestampValue:Em(i.serializer,o)}}if(r instanceof Tt){let o=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Em(i.serializer,o)}}if(r instanceof Wo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:qk(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ko)return function(s,a){return{mapValue:{fields:{[zI]:{stringValue:HI},[Qc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return KI(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Hm(r)}`)}(n,e)}function wF(n,e){let t={};return yk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(n,(r,i)=>{let o=$d(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function EF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Wo||n instanceof Go||n instanceof xt||n instanceof Fd||n instanceof Ko)}function aM(n,e,t){if(!EF(t)||!nk(t)){let r=Hm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function NI(n,e,t){if((e=et(e))instanceof ol)return e._internalPath;if(typeof e=="string")return cM(n,e);throw Um("Field path arguments must be of type string or ",n,!1,void 0,t)}var CG=new RegExp("[~\\*/\\[\\]]");function cM(n,e,t){if(e.search(CG)>=0)throw Um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ol(...e.split("."))._internalPath}catch{throw Um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Um(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new H(k.INVALID_ARGUMENT,a+n+c)}function bF(n,e){return n.some(t=>t.isEqual(e))}var Bm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ty("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},kI=class extends Bm{data(){return super.data()}};function ty(n,e){return typeof e=="string"?cM(n,e):e instanceof ol?e._internalPath:e._delegate._internalPath}function IF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ld=class{},$m=class extends Ld{};function Ea(n,e,...t){let r=[];e instanceof Ld&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof FI).length,a=o.filter(c=>c instanceof zm).length;if(s>1||s>0&&a>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var zm=class n extends $m{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return MF(e._query,t),new es(e.firestore,e.converter,Ib(e._query,t))}_parse(e){let t=ey(e.firestore);return function(o,s,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){XN(f,d);let E=[];for(let S of f)E.push(ZN(c,o,S));g={arrayValue:{values:E}}}else g=ZN(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||XN(f,d),g=vG(a,s,f,d==="in"||d==="not-in");return Mt.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function ba(n,e,t){let r=e,i=ty("where",n);return zm._create(i,r,t)}var FI=class n extends Ld{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Or.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)MF(s,c),s=Ib(s,c)}(e._query,t),new es(e.firestore,e.converter,Ib(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var LI=class n extends $m{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new H(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ma(o,s)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Zo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function zd(n,e="asc"){let t=e,r=ty("orderBy",n);return LI._create(r,t)}function ZN(n,e,t){if(typeof(t=et(t))=="string"){if(t==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xk(e)&&t.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(it.fromString(t));if(!te.isDocumentKey(r))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _N(n,new te(r))}if(t instanceof xt)return _N(n,t._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(t)}.`)}function XN(n,e){if(!Array.isArray(n)||n.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var VI=class{convertValue(e,t="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ts(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Qc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>rt(s.doubleValue));return new Ko(o)}convertGeoPoint(e){return new Wo(rt(e.latitude),rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Gm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Td(e));default:return null}}convertTimestamp(e){let t=Zi(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=it.fromString(e);Le(Zk(r),9688,{name:e});let i=new mm(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(t)||Yi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function DF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var da=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ha=class n extends Bm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Dt("string",ha._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};var Wc=class extends ha{data(e={}){return super.data(e)}},fa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new da(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wc(this._firestore,this._userDataWriter,r.key,r,new da(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new da(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new da(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:wG(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function wG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}function Ia(n){n=On(n,xt);let e=On(n.firestore,xr);return fG(Jm(e),n._key).then(t=>TF(e,n,t))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Dt("string",fa._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};var Vd=class extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}};function ul(n){n=On(n,es);let e=On(n.firestore,xr),t=Jm(e),r=new Vd(e);return IF(n._query),pG(t,n._query).then(i=>new fa(e,r,n,i))}function ny(n,e,t){n=On(n,xt);let r=On(n.firestore,xr),i=DF(n.converter,e,t);return ay(r,[CF(ey(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,oi.none())])}function ry(n,e,t,...r){n=On(n,xt);let i=On(n.firestore,xr),o=ey(i),s;return s=typeof(e=et(e))=="string"||e instanceof ol?_G(o,"updateDoc",n._key,e,t,r):yG(o,"updateDoc",n._key,e),ay(i,[s.toMutation(n._key,oi.exists(!0))])}function iy(n){return ay(On(n.firestore,xr),[new Sd(n._key,oi.none())])}function oy(n,e){let t=On(n.firestore,xr),r=to(n),i=DF(n.converter,e);return ay(t,[CF(ey(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,oi.exists(!1))]).then(()=>r)}function sy(n,...e){var t,r,i;n=et(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YN(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof xt)u=On(n.firestore,xr),d=Wm(n._key.path),c={next:f=>{e[s]&&e[s](TF(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=On(n,es);u=On(f.firestore,xr),d=f._query;let g=new Vd(u);c={next:m=>{e[s]&&e[s](new fa(u,g,f,m))},error:e[s+1],complete:e[s+2]},IF(n._query)}return function(g,m,E,S){let A=new kd(S),V=new Nd(m,A,E);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return nM(yield km(g),V)})),()=>{A.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return rM(yield km(g),V)}))}}(Jm(u),d,a,c)}function ay(n,e){return function(r,i){let o=new Pr;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return nG(yield hG(r),i,o)})),o.promise}(Jm(n),e)}function TF(n,e,t){let r=t.docs.get(e._key),i=new Vd(n);return new ha(n,i,e._key,r,new da(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){sl=i})(Xr),Vn(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new xr(new ib(r.getProvider("auth-internal")),new ab(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mm(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),He(sN,aN,e),He(sN,aN,"esm2017")})();var Ma=class{constructor(e){return e}},PF="firestore",lM=class{constructor(){return Vo(PF)}};var uM=new W("angularfire2.firestore-instances");function EG(n,e){let t=na(PF,n,e);return t&&new Ma(t)}function bG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ma(r)}}var IG={provide:lM,deps:[[new wt,uM]]},MG={provide:Ma,useFactory:EG,deps:[[new wt,uM],Dr]};function SF(n,...e){return He("angularfire",Jr.full,"fst"),Nt([MG,IG,{provide:uM,useFactory:bG(n),multi:!0,deps:[Pe,tt,ei,zi,[new wt,ca],[new wt,Uo],...e]}])}var OF=Sn(_F,!0);var FF="firebasestorage.googleapis.com",DG="storageBucket",TG=2*60*1e3,PG=10*60*1e3;var ui=class n extends vn{constructor(e,t,r=0){super(dM(e),`Firebase Storage: ${t} (${dM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ro=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ro||{});function dM(n){return"storage/"+n}function SG(){let n="An unknown error occurred, please check the error payload for server response.";return new ui(ro.UNKNOWN,n)}function OG(){return new ui(ro.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xG(){return new ui(ro.CANCELED,"User canceled the upload/download.")}function AG(n){return new ui(ro.INVALID_URL,"Invalid URL '"+n+"'.")}function RG(n){return new ui(ro.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function xF(n){return new ui(ro.INVALID_ARGUMENT,n)}function LF(){return new ui(ro.APP_DELETED,"The Firebase app was deleted.")}function NG(n){return new ui(ro.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var no=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw RG(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(Z){Z.path_=decodeURIComponent(Z.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},S=t===FF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",V=new RegExp(`^https?://${S}/${i}/${A}`,"i"),G=[{regex:a,indices:c,postModify:o},{regex:m,indices:E,postModify:u},{regex:V,indices:{bucket:1,path:2},postModify:u}];for(let Z=0;Z<G.length;Z++){let ke=G[Z],pe=ke.regex.exec(e);if(pe){let D=pe[ke.indices.bucket],w=pe[ke.indices.path];w||(w=""),r=new n(D,w),ke.postModify(r);break}}if(r==null)throw AG(e);return r}},hM=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function kG(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...A){u||(u=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,n(m,c())},A)}function g(){o&&clearTimeout(o)}function m(A,...V){if(u){g();return}if(A){g(),d.call(null,A,...V);return}if(c()||s){g(),d.call(null,A,...V);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,f(G)}let E=!1;function S(A){E||(E=!0,g(),!u&&(i!==null?(A||(a=2),clearTimeout(i),f(0)):A||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,S(!0)},t),S}function FG(n){n(!1)}function LG(n){return n!==void 0}function AF(n,e,t,r){if(r<e)throw xF(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw xF(`Invalid value for '${n}'. Expected ${t} or less.`)}function VG(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var fM=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(fM||{});function jG(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var pM=class{constructor(e,t,r,i,o,s,a,c,u,d,f,g=!0,m=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new dl(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===fM.NO_ERROR,c=o.getStatus();if(!a||jG(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===fM.ABORT;r(!1,new dl(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new dl(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());LG(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=SG();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?LF():xG();s(c)}else{let c=OG();s(c)}};this.canceled_?t(!1,new dl(!1,null,!0)):this.backoffId_=kG(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},dl=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function UG(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function BG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $G(n,e){e&&(n["X-Firebase-GMPID"]=e)}function zG(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function HG(n,e,t,r,i,o,s=!0,a=!1){let c=VG(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return $G(d,e),UG(d,t),BG(d,o),zG(d,r),new pM(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function qG(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function GG(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Epe=256*1024;var gM=class n{constructor(e,t){this._service=e,t instanceof no?this._location=t:this._location=no.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new no(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GG(this._location.path)}get storage(){return this._service}get parent(){let e=qG(this._location.path);if(e===null)return null;let t=new no(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NG(e)}};function RF(n,e){let t=e?.[DG];return t==null?null:no.makeFromBucketSpec(t,n)}function WG(n,e,t,r={}){n.host=`${e}:${t}`;let i=Kr(e);i&&(Rc(`https://${n.host}/b`),Nc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:xg(o,n.app.options.projectId))}var mM=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=FF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TG,this._maxUploadRetryTime=PG,this._requests=new Set,i!=null?this._bucket=no.makeFromBucketSpec(i,this._host):this._bucket=RF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=no.makeFromBucketSpec(this._url,e):this._bucket=RF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gM(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new hM(LF());{let s=HG(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},NF="@firebase/storage",kF="0.13.14";var VF="storage";function jF(n=$i(),e){n=et(n);let r=Lo(n,VF).getImmediate({identifier:e}),i=Og("storage");return i&&UF(r,...i),r}function UF(n,e,t,r={}){WG(n,e,t,r)}function KG(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new mM(t,r,i,e,Xr)}function QG(){Vn(new Qt(VF,KG,"PUBLIC").setMultipleInstances(!0)),He(NF,kF,""),He(NF,kF,"esm2017")}QG();var Hd=class{constructor(e){return e}},BF="storage",yM=class{constructor(){return Vo(BF)}};var _M=new W("angularfire2.storage-instances");function YG(n,e){let t=na(BF,n,e);return t&&new Hd(t)}function ZG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Hd(r)}}var XG={provide:yM,deps:[[new wt,_M]]},JG={provide:Hd,useFactory:YG,deps:[[new wt,_M],Dr]};function $F(n,...e){return He("angularfire",Jr.full,"gcs"),Nt([JG,XG,{provide:_M,useFactory:ZG(n),multi:!0,deps:[Pe,tt,ei,zi,[new wt,ca],[new wt,Uo],...e]}])}var zF=Sn(jF,!0);var JF=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)($(pr),$(fn))};static \u0275dir=Ue({type:n})}return n})(),gy=(()=>{class n extends JF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,features:[pn]})}return n})(),Zd=new W("");var eW={provide:Zd,useExisting:bn(()=>rr),multi:!0};function tW(){let n=Xn()?Xn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var nW=new W(""),rr=(()=>{class n extends JF{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!tW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)($(pr),$(fn),$(nW,8))};static \u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yr([eW]),pn]})}return n})();function rW(n){return n==null||eL(n)===0}function eL(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Xd=new W(""),tL=new W("");function iW(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function oW(n){return rW(n.value)?{required:!0}:null}function sW(n){return e=>{let t=e.value?.length??eL(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function HF(n){return null}function nL(n){return n!=null}function rL(n){return Ai(n)?st(n):n}function iL(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function oL(n,e){return e.map(t=>t(n))}function aW(n){return!n.validate}function sL(n){return n.map(e=>aW(e)?e:t=>e.validate(t))}function cW(n){if(!n)return null;let e=n.filter(nL);return e.length==0?null:function(t){return iL(oL(t,e))}}function EM(n){return n!=null?cW(sL(n)):null}function lW(n){if(!n)return null;let e=n.filter(nL);return e.length==0?null:function(t){let r=oL(t,e).map(rL);return C_(r).pipe(he(iL))}}function bM(n){return n!=null?lW(sL(n)):null}function qF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uW(n){return n._rawValidators}function dW(n){return n._rawAsyncValidators}function vM(n){return n?Array.isArray(n)?n:[n]:[]}function ly(n,e){return Array.isArray(n)?n.includes(e):n===e}function GF(n,e){let t=vM(e);return vM(n).forEach(i=>{ly(t,i)||t.push(i)}),t}function WF(n,e){return vM(e).filter(t=>!ly(n,t))}var uy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=EM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pl=class extends uy{name;get formDirective(){return null}get path(){return null}},Yd=class extends uy{_parent=null;name=null;valueAccessor=null},dy=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dge=le(j({},hW),{"[class.ng-submitted]":"isSubmitted"}),di=(()=>{class n extends dy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)($(Yd,2))};static \u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pn]})}return n})(),rs=(()=>{class n extends dy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)($(pl,10))};static \u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Gt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pn]})}return n})();var qd="VALID",cy="INVALID",hl="PENDING",Gd="DISABLED",ns=class{},hy=class extends ns{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Kd=class extends ns{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Qd=class extends ns{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},fl=class extends ns{status;source;constructor(e,t){super(),this.status=e,this.source=t}},CM=class extends ns{source;constructor(e){super(),this.source=e}},wM=class extends ns{source;constructor(e){super(),this.source=e}};function aL(n){return(my(n)?n.validators:n)||null}function fW(n){return Array.isArray(n)?EM(n):n||null}function cL(n,e){return(my(e)?e.asyncValidators:n)||null}function pW(n){return Array.isArray(n)?bM(n):n||null}function my(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function mW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var fy=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(e){In(()=>this.statusReactive.set(e))}_status=dc(()=>this.statusReactive());statusReactive=Vr(void 0);get valid(){return this.status===qd}get invalid(){return this.status===cy}get pending(){return this.status==hl}get disabled(){return this.status===Gd}get enabled(){return this.status!==Gd}errors;get pristine(){return In(this.pristineReactive)}set pristine(e){In(()=>this.pristineReactive.set(e))}_pristine=dc(()=>this.pristineReactive());pristineReactive=Vr(!0);get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(e){In(()=>this.touchedReactive.set(e))}_touched=dc(()=>this.touchedReactive());touchedReactive=Vr(!1);get untouched(){return!this.touched}_events=new Ze;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WF(e,this._rawAsyncValidators))}hasValidator(e){return ly(this._rawValidators,e)}hasAsyncValidator(e){return ly(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Qd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Qd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kd(!0,r))}markAsPending(e={}){this.status=hl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this.errors=null,this._forEachChild(i=>{i.disable(le(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hy(this.value,r)),this._events.next(new fl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qd,this._forEachChild(r=>{r.enable(le(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qd||this.status===hl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hy(this.value,t)),this._events.next(new fl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gd:qd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=rL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?Gd:this.errors?cy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hl)?hl:this._anyControlsHaveStatus(cy)?cy:qd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Kd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){my(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pW(this._rawAsyncValidators)}},py=class extends fy{constructor(e,t,r){super(aL(t),cL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mW(this,!0,e),Object.keys(e).forEach(r=>{gW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var IM=new W("",{providedIn:"root",factory:()=>MM}),MM="always";function yW(n,e){return[...e.path,n]}function lL(n,e,t=MM){uL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),vW(n,e),wW(n,e),CW(n,e),_W(n,e)}function KF(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _W(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function uL(n,e){let t=uW(n);e.validator!==null?n.setValidators(qF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=dW(n);e.asyncValidator!==null?n.setAsyncValidators(qF(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();KF(e._rawValidators,i),KF(e._rawAsyncValidators,i)}function vW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&dL(n,e)})}function CW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&dL(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function dL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function EW(n,e){n==null,uL(n,e)}function bW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function IW(n){return Object.getPrototypeOf(n.constructor)===gy}function MW(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function DW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===rr?t=o:IW(o)?r=o:i=o}),i||r||t||null}var TW={provide:pl,useExisting:bn(()=>io)},Wd=Promise.resolve(),io=(()=>{class n extends pl{callSetDisabledState;get submitted(){return In(this.submittedReactive)}_submitted=dc(()=>this.submittedReactive());submittedReactive=Vr(!1);_directives=new Set;form;ngSubmit=new pt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new py({},EM(t),bM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lL(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Wd.then(()=>{let r=this._findContainer(t.path),i=new py({});EW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),MW(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new CM(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new wM(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)($(Xd,10),$(tL,10),$(IM,8))};static \u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yr([TW]),pn]})}return n})();function QF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var PW=class extends fy{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(aL(t),cL(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),my(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var SW={provide:Yd,useExisting:bn(()=>Ar)},ZF=Promise.resolve(),Ar=(()=>{class n extends Yd{_changeDetectorRef;callSetDisabledState;control=new PW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=DW(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),bW(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ZF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Bs(r);ZF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)($(pl,9),$(Xd,10),$(tL,10),$(Zd,10),$(Ni,8),$(IM,8))};static \u0275dir=Ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yr([SW]),pn,Br]})}return n})();var is=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),OW={provide:Zd,useExisting:bn(()=>DM),multi:!0},DM=(()=>{class n extends gy{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[yr([OW]),pn]})}return n})();var xW={provide:Zd,useExisting:bn(()=>yy),multi:!0};function hL(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AW(n){return n.split(":")[0]}var yy=(()=>{class n extends gy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=F(Zn).injector;appRefDestroyRef=this.appRefInjector.get(Qn);destroyRef=F(Qn);cdr=F(Ni);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,hp({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=hL(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=AW(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yr([xW]),pn]})}return n})(),fL=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(hL(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)($(fn),$(pr),$(yy,9))};static \u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),RW={provide:Zd,useExisting:bn(()=>pL),multi:!0};function XF(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function NW(n){return n.split(":")[0]}var pL=(()=>{class n extends gy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=NW(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yr([RW]),pn]})}return n})(),gL=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(XF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(XF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)($(fn),$(pr),$(pL,9))};static \u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function kW(n){return typeof n=="number"?n:parseInt(n,10)}function FW(n){return typeof n=="number"?n:parseFloat(n)}var TM=(()=>{class n{_validator=HF;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):HF,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,features:[Br]})}return n})();var LW={provide:Xd,useExisting:bn(()=>PM),multi:!0},PM=(()=>{class n extends TM{min;inputName="min";normalizeInput=t=>FW(t);createValidator=t=>iW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&So("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[yr([LW]),pn]})}return n})(),VW={provide:Xd,useExisting:bn(()=>oo),multi:!0};var oo=(()=>{class n extends TM{required;inputName="required";normalizeInput=Bs;createValidator=t=>oW;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&So("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[yr([VW]),pn]})}return n})();var jW={provide:Xd,useExisting:bn(()=>SM),multi:!0},SM=(()=>{class n extends TM{minlength;inputName="minlength";normalizeInput=t=>kW(t);createValidator=t=>sW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&So("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[yr([jW]),pn]})}return n})();var UW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=gr({type:n});static \u0275inj=zn({})}return n})();var hi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:IM,useValue:t.callSetDisabledState??MM}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=gr({type:n});static \u0275inj=zn({imports:[UW]})}return n})();var ir=class n{constructor(e){this.auth=e;eN(this.auth,t=>{console.log("Auth state changed:",t?`User: ${t.email}`:"No user"),this.currentUserSubject.next(t)})}currentUserSubject=new ot(void 0);currentUser$=this.currentUserSubject.asObservable();getCurrentUser(){let e=this.currentUserSubject.value;return e===void 0?null:e}getCurrentUserId(){let e=this.getCurrentUser();return e?e.uid:null}isAuthenticated(){return this.getCurrentUser()!==null}register(e,t,r){return _(this,null,function*(){try{let i=yield XR(this.auth,e,t);return r&&i.user&&(yield rN(i.user,{displayName:r})),console.log("User registered successfully:",i.user.email),i.user}catch(i){throw console.error("Registration error:",i),i}})}signIn(e,t){return _(this,null,function*(){try{let r=yield tN(this.auth,e,t);return console.log("User signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Sign in error:",r),r}})}signOut(){return _(this,null,function*(){try{yield nN(this.auth),console.log("User signed out successfully")}catch(e){throw console.error("Sign out error:",e),e}})}getUserProfile(){let e=this.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,createdAt:new Date(e.metadata.creationTime||Date.now())}:null}static \u0275fac=function(t){return new(t||n)(Y(aa))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var xn=class n{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{t?this.loadData():(this.expensesSubject.next([]),this.categoriesSubject.next([]),this.userSettingsSubject.next({}))})}firestore=F(Ma);expensesSubject=new ot([]);categoriesSubject=new ot([]);userSettingsSubject=new ot({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();loadData(){return _(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return _(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return this.expensesSubject.next([]),[];let t=li(this.firestore,"expenses"),r=Ea(t,ba("userId","==",e),zd("date","desc")),i=yield ul(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),this.expensesSubject.next(o),o}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return _(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=li(this.firestore,"expenses"),i=le(j({},e),{userId:t}),o=yield oy(r,i);return yield this.loadExpenses(),o.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return _(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=to(this.firestore,"expenses",e.id);if((yield Ia(i)).exists()){let r=e,{id:s}=r,a=us(r,["id"]);yield ry(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=us(t,["id"]);yield ny(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return _(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=to(this.firestore,"expenses",e);if(!(yield Ia(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield iy(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return _(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=us(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return _(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return console.log("No user authenticated, returning empty categories"),this.categoriesSubject.next([]),[];let t=li(this.firestore,"categories"),r=Ea(t,ba("userId","==",e)),i=yield ul(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),this.categoriesSubject.next(o),o}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return _(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=li(this.firestore,"categories"),i=le(j({},e),{userId:t}),o=yield oy(r,i);return yield this.loadCategories(),o.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return _(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=to(this.firestore,"categories",e.id);if((yield Ia(r)).exists()){let t=e,{id:o}=t,s=us(t,["id"]);yield ry(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return _(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=to(this.firestore,"categories",e),r=yield Ia(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield iy(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return _(this,null,function*(){try{let e=to(this.firestore,"userSettings","default"),t=yield Ia(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return _(this,null,function*(){try{let t=to(this.firestore,"userSettings","default");yield ny(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=li(this.firestore,"expenses"),t=Ea(e,zd("date","desc"));return new se(r=>sy(t,o=>{let s=[];o.forEach(a=>{s.push(j({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=li(this.firestore,"categories");return new se(t=>sy(e,i=>{let o=[];i.forEach(s=>{o.push(j({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return _(this,null,function*(){try{let t=li(this.firestore,"expenses"),r=Ea(t,ba("categoryId","==",e)),i=yield ul(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return _(this,null,function*(){try{let r=li(this.firestore,"expenses"),i=Ea(r,ba("date",">=",e),ba("date","<=",t),zd("date","desc")),o=yield ul(i),s=[];return o.forEach(a=>{s.push(j({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)(Y(ir))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var os=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return _(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return _(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return _(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return _(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return _(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return _(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return _(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return _(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return _(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(Y(xn))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var fi=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return _(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return _(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return _(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return _(this,null,function*(){yield this.loadCategories();let e=this.removeDuplicateCategories(this.categories);return e.length!==this.categories.length&&(console.log(`Found ${this.categories.length-e.length} duplicate categories. Cleaning up...`),yield this.cleanupDuplicateCategories(e)),[...e]})}removeDuplicateCategories(e){let t=new Set,r=[];for(let i of e){let o=i.name.toLowerCase().trim();t.has(o)?console.log(`Duplicate category found: "${i.name}" (ID: ${i.id})`):(t.add(o),r.push(i))}return r}cleanupDuplicateCategories(e){return _(this,null,function*(){try{let t=yield this.firebaseService.loadCategories(),r=new Set,i=[];for(let o of t){let s=o.name.toLowerCase().trim();r.has(s)?(i.push(o.id),console.log(`Marking duplicate for deletion: "${o.name}" (ID: ${o.id})`)):r.add(s)}for(let o of i)try{yield this.firebaseService.deleteCategory(o),console.log(`Deleted duplicate category with ID: ${o}`)}catch(s){console.error(`Error deleting duplicate category ${o}:`,s)}yield this.loadCategories()}catch(t){console.error("Error cleaning up duplicate categories:",t)}})}add(e){return _(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return _(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return _(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return _(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}triggerDuplicateCleanup(){return _(this,null,function*(){console.log("Manual duplicate cleanup triggered...");let e=yield this.getAll();console.log(`Categories after cleanup: ${e.length}`)})}static \u0275fac=function(t){return new(t||n)(Y(xn))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function BW(n,e){n&1&&(v(0,"div",46),M(1," First Month "),C())}function $W(n,e){if(n&1&&(v(0,"div",37)(1,"div",38)(2,"div",39)(3,"h3"),M(4,"Monthly Comparison"),C(),v(5,"span",40),M(6,"vs Last Month"),C()(),v(7,"div",41)(8,"div",42)(9,"div",43),M(10),Be(11,"currency"),C(),v(12,"div",44),M(13,"Change"),C()(),v(14,"div",42)(15,"div",43),M(16),Be(17,"number"),C(),v(18,"div",44),M(19,"Percentage"),C()(),v(20,"div",42),_e(21,BW,2,0,"div",45),v(22,"div",44),M(23,"Status"),C()()()()()),n&2){let t=ae();N(9),mp(t.getMonthlyComparison().change<0?"positive":"negative"),N(),qe(" ",mn(11,7,t.getMonthlyComparison().change,"INR")," "),N(5),mp(t.getMonthlyComparison().percentage<0?"positive":"negative"),N(),qe(" ",mn(17,10,t.getMonthlyComparison().percentage,"1.0-1"),"% "),N(5),J("ngIf",!t.getMonthlyComparison().hasPreviousData&&t.monthlyTotal>0)}}function zW(n,e){if(n&1){let t=gt();v(0,"div",47)(1,"div",48)(2,"label",49),M(3,"Start Date:"),C(),v(4,"input",50),Je("ngModelChange",function(i){ne(t);let o=ae();return nt(o.customStartDate,i)||(o.customStartDate=i),re(i)}),ie("change",function(){ne(t);let i=ae();return re(i.onFilterChange())}),C()(),v(5,"div",48)(6,"label",49),M(7,"End Date:"),C(),v(8,"input",50),Je("ngModelChange",function(i){ne(t);let o=ae();return nt(o.customEndDate,i)||(o.customEndDate=i),re(i)}),ie("change",function(){ne(t);let i=ae();return re(i.onFilterChange())}),C()()()}if(n&2){let t=ae();N(4),Xe("ngModel",t.customStartDate),N(4),Xe("ngModel",t.customEndDate)}}function HW(n,e){if(n&1&&(v(0,"div",53)(1,"div",54)(2,"div",55),M(3),C(),v(4,"div",56)(5,"div",57),M(6),C(),v(7,"div",58),M(8),C()()(),v(9,"div",59),M(10),Be(11,"number"),C()()),n&2){let t=e.$implicit,r=ae(2);N(2),mr("background-color",(t==null?null:t.color)||"#999"),N(),qe(" ",(t==null?null:t.icon)||"\u{1F4CC}"," "),N(3),Ae((t==null?null:t.name)||"Unknown"),N(2),qe(" ",r.getExpensesByCategory((t==null?null:t.id)||"").length," expenses "),N(2),qe(" \u20B9",Wt(11,6,r.categoryTotals[(t==null?null:t.id)||""]||0)," ")}}function qW(n,e){if(n&1&&(v(0,"div",51),_e(1,HW,12,8,"div",52),C()),n&2){let t=ae();N(),J("ngForOf",t.categories)}}function GW(n,e){n&1&&(v(0,"div",60)(1,"div",61),M(2,"\u{1F3F7}\uFE0F"),C(),v(3,"h6"),M(4,"No Categories Found"),C(),v(5,"p"),M(6,"Add some categories to start tracking your expenses!"),C()())}function WW(n,e){if(n&1&&(v(0,"div",64)(1,"div",65)(2,"div",66),M(3),C(),v(4,"div",67)(5,"div",68),M(6),C(),v(7,"div",69),M(8),Be(9,"date"),C()()(),v(10,"div",70),M(11),Be(12,"number"),C()()),n&2){let t=e.$implicit,r=ae(2);N(2),mr("background-color",r.getCategoryColor(t.categoryId)),N(),qe(" ",r.getCategoryIcon(t.categoryId)," "),N(3),Ae(t.description||"No description"),N(2),Ae(mn(9,6,t.date,"MMM dd")),N(3),qe("\u20B9",Wt(12,9,t.amount))}}function KW(n,e){if(n&1&&(v(0,"div",62),_e(1,WW,13,11,"div",63),C()),n&2){let t=ae();N(),J("ngForOf",t.getFilteredExpenses().slice(0,5))}}function QW(n,e){n&1&&(v(0,"div",60)(1,"div",61),M(2,"\u{1F4DD}"),C(),v(3,"h6"),M(4,"No Expenses Found"),C(),v(5,"p"),M(6,"Add some expenses to see them here!"),C()())}var vy=class n{constructor(e,t,r){this.expenseService=e;this.categoryService=t;this.firebaseService=r}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";customStartDate="";customEndDate="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;previousMonthTotal=0;monthlyChange=0;monthlyChangePercentage=0;weeklyTotal=0;subscription=new je;ngOnInit(){this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log(`Received ${e.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){this.recentExpenses=[...this.expenses].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5)}calculateMonthlyData(){let e=new Date,t=e.getMonth(),r=e.getFullYear();this.currentMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===t&&a.getFullYear()===r}).reduce((s,a)=>s+a.amount,0);let i=t===0?11:t-1,o=t===0?r-1:r;this.previousMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===i&&a.getFullYear()===o}).reduce((s,a)=>s+a.amount,0),this.monthlyChange=this.currentMonthTotal-this.previousMonthTotal,this.monthlyChangePercentage=this.previousMonthTotal>0?this.monthlyChange/this.previousMonthTotal*100:0}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date,r=new Date;switch(this.selectedPeriod){case"today":r.setHours(0,0,0,0);break;case"week":r.setDate(t.getDate()-7);break;case"month":r.setMonth(t.getMonth()-1);break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(i=>{let o=new Date(i.date),s=new Date(this.customStartDate),a=new Date(this.customEndDate);return o>=s&&o<=a}));break}this.selectedPeriod!=="custom"&&(e=e.filter(i=>new Date(i.date)>=r))}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"today":return"Today";case"week":return"This Week";case"month":return"This Month";case"custom":return"Custom Period";default:return"All Time"}}onFilterChange(){}getExpensesByCategory(e){return this.expenses.filter(t=>t.categoryId===e)}get categoryTotals(){let e={};return this.categories.forEach(t=>{e[t.id]=this.getExpensesByCategory(t.id).reduce((r,i)=>r+i.amount,0)}),e}getMonthlyComparison(){let e=this.previousMonthTotal>0;return{change:this.monthlyChange,percentage:this.monthlyChangePercentage,hasPreviousData:e}}get monthlyTotal(){return this.currentMonthTotal}static \u0275fac=function(t){return new(t||n)($(os),$(fi),$(xn))};static \u0275cmp=qt({type:n,selectors:[["app-dashboard"]],decls:86,vars:28,consts:[[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"summary-cards","mb-4"],[1,"summary-card","total-spent","hover-lift"],[1,"card-icon"],[1,"card-content"],[1,"card-title"],[1,"card-amount"],[1,"card-subtitle"],[1,"summary-card","monthly-spent","hover-lift"],[1,"summary-card","weekly-spent","hover-lift"],["class","monthly-comparison mb-4",4,"ngIf"],[1,"filter-controls","mb-4"],[1,"filter-buttons"],[1,"filter-btn",3,"click"],["class","custom-date-inputs",4,"ngIf"],[1,"dashboard-content"],[1,"content-grid"],[1,"content-card","category-section"],[1,"card-header"],[1,"header-left"],[1,"header-icon"],[1,"header-title"],[1,"header-right"],[1,"filter-period"],[1,"total-amount"],[1,"card-body"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-section"],["class","expenses-list",4,"ngIf"],[1,"monthly-comparison","mb-4"],[1,"comparison-card"],[1,"comparison-header"],[1,"comparison-period"],[1,"comparison-content"],[1,"comparison-stat"],[1,"stat-value"],[1,"stat-label"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"custom-date-inputs"],[1,"date-input-group"],[1,"date-label"],["type","date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"category-list"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-info"],[1,"category-icon"],[1,"category-details"],[1,"category-name"],[1,"category-count"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-info"],[1,"expense-icon"],[1,"expense-details"],[1,"expense-description"],[1,"expense-date"],[1,"expense-amount"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),M(6,"\u{1F4CA}"),C()(),v(7,"div")(8,"h1",6),M(9,"Financial Dashboard"),C(),v(10,"p",7),M(11,"Your complete financial overview"),C()()()()(),v(12,"div",8)(13,"div",9)(14,"div",10),M(15,"\u{1F4B8}"),C(),v(16,"div",11)(17,"h3",12),M(18,"Total Spent"),C(),v(19,"div",13),M(20),Be(21,"number"),C(),v(22,"div",14),M(23),C()()(),v(24,"div",15)(25,"div",10),M(26,"\u{1F4C5}"),C(),v(27,"div",11)(28,"h3",12),M(29,"This Month"),C(),v(30,"div",13),M(31),Be(32,"number"),C(),v(33,"div",14),M(34,"Current Month"),C()()(),v(35,"div",16)(36,"div",10),M(37,"\u{1F4CA}"),C(),v(38,"div",11)(39,"h3",12),M(40,"This Week"),C(),v(41,"div",13),M(42),Be(43,"number"),C(),v(44,"div",14),M(45,"Current Week"),C()()()(),_e(46,$W,24,13,"div",17),v(47,"div",18)(48,"div",19)(49,"button",20),ie("click",function(){return r.selectedPeriod="all",r.onFilterChange()}),M(50," All Time "),C(),v(51,"button",20),ie("click",function(){return r.selectedPeriod="monthly",r.onFilterChange()}),M(52," Monthly "),C(),v(53,"button",20),ie("click",function(){return r.selectedPeriod="yearly",r.onFilterChange()}),M(54," Yearly "),C(),v(55,"button",20),ie("click",function(){return r.selectedPeriod="custom",r.onFilterChange()}),M(56," Custom "),C()(),_e(57,zW,9,2,"div",21),C(),v(58,"div",22)(59,"div",23)(60,"div",24)(61,"div",25)(62,"div",26)(63,"span",27),M(64,"\u{1F3F7}\uFE0F"),C(),v(65,"h5",28),M(66,"Category-wise Spending"),C()(),v(67,"div",29)(68,"span",30),M(69),C(),v(70,"span",31),M(71),Be(72,"number"),C()()(),v(73,"div",32),_e(74,qW,2,1,"div",33)(75,GW,7,0,"div",34),C()(),v(76,"div",35)(77,"div",25)(78,"div",26)(79,"span",27),M(80,"\u{1F4DD}"),C(),v(81,"h5",28),M(82,"Recent Expenses"),C()()(),v(83,"div",32),_e(84,KW,2,1,"div",36)(85,QW,7,0,"div",34),C()()()()()),t&2&&(N(20),qe("\u20B9",Wt(21,20,r.totalSpent)),N(3),Ae(r.getFilterLabel()),N(8),qe("\u20B9",Wt(32,22,r.monthlyTotal)),N(11),qe("\u20B9",Wt(43,24,r.weeklyTotal)),N(4),J("ngIf",r.getMonthlyComparison().hasPreviousData||r.monthlyTotal>0),N(3),Gt("active",r.selectedPeriod==="all"),N(2),Gt("active",r.selectedPeriod==="monthly"),N(2),Gt("active",r.selectedPeriod==="yearly"),N(2),Gt("active",r.selectedPeriod==="custom"),N(2),J("ngIf",r.selectedPeriod==="custom"),N(12),Ae(r.getFilterLabel()),N(2),qe("\u20B9",Wt(72,26,r.getFilteredTotal())),N(3),J("ngIf",r.categories.length>0),N(),J("ngIf",r.categories.length===0),N(9),J("ngIf",r.getFilteredExpenses().length>0),N(),J("ngIf",r.getFilteredExpenses().length===0))},dependencies:[rn,zr,yn,hi,rr,di,Ar,yw,zs,$s],styles:[".page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:16px;margin-bottom:2rem;box-shadow:0 8px 32px #667eea4d}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#fffc!important;font-size:1.1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:.75rem 1.5rem;border-radius:12px;transition:all .3s ease}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 8px 25px #0003}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9997}.error-message[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33;padding:1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.success-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successPulse .6s ease-out}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f8f9fa;border-radius:16px;border:2px dashed #dee2e6}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.6}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0}.alerts-section[_ngcontent-%COMP%]   .alerts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.alerts-section[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{padding:1rem;border-radius:12px;display:flex;align-items:center;gap:.75rem;font-weight:500}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.alerts-section[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.2rem}.alerts-section[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%;padding-left:1rem;padding-right:1rem}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--card-bg, white)!important;border-radius:16px!important;padding:2rem;box-shadow:0 8px 32px #0000001a!important;display:flex!important;align-items:center;gap:1.5rem;transition:all .3s ease}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000026}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text, #666);margin-bottom:.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text, #333);margin-bottom:.25rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text, #999)}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text, #333);font-weight:600}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{color:var(--text, #666);font-size:.9rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{text-align:center}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#007bff}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}@media (max-width: 768px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}}@media (max-width: 480px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 768px) and (orientation: landscape){.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.4rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.filter-controls[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:1.5rem;box-shadow:0 8px 32px #0000001a;margin-bottom:2rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e9ecef;background:#fff;color:#666;border-radius:8px;font-weight:500;transition:all .3s ease;min-height:44px}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;color:#007bff}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:#007bff;border-color:#007bff;color:#fff}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #e9ecef;border-radius:8px;transition:border-color .3s ease;min-height:44px;font-size:16px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}@media (max-width: 768px){.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px}}@media (max-width: 480px){.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}}.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:600}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem;max-width:100%;margin:0 auto;width:100%}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden;transition:all .3s ease;width:100%;max-width:100%;margin:0 auto}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 40px #00000026}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.5rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.25rem}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem;font-size:1rem}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{flex:1}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:.25rem;font-size:1rem}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:.9rem;margin:0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0;max-width:100%;margin:0 auto}.content-card[_ngcontent-%COMP%]{width:100%;max-width:100%;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;margin:0 auto}.pattern-item[_ngcontent-%COMP%], .savings-item[_ngcontent-%COMP%], .tip-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;margin:0 auto;width:100%;display:flex;flex-direction:column;align-items:center}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-card[_ngcontent-%COMP%]{padding:1.25rem;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center;gap:1.5rem}.card-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-amount[_ngcontent-%COMP%]{font-size:1.5rem}.card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.comparison-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.comparison-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.3rem}.stat-label[_ngcontent-%COMP%]{font-size:.8rem}.filter-section[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.category-breakdown[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.category-item[_ngcontent-%COMP%]{flex-direction:row;gap:1rem;padding:.75rem 0;text-align:left;align-items:center;justify-content:space-between}.category-info[_ngcontent-%COMP%]{flex-direction:row;gap:1rem;align-items:center}.category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem;margin:0}.category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.recent-expenses[_ngcontent-%COMP%]{padding:1.25rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.5rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.85rem}.expense-date[_ngcontent-%COMP%]{font-size:.8rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.summary-card[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%], .expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.summary-card[_ngcontent-%COMP%]:active, .category-item[_ngcontent-%COMP%]:active, .expense-item[_ngcontent-%COMP%]:active, .insight-item[_ngcontent-%COMP%]:active, .goal-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-set-budget[_ngcontent-%COMP%]:active, .btn-update-emergency[_ngcontent-%COMP%]:active, .btn-update-vacation[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;overflow-x:hidden}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem;border-radius:12px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.5rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem;min-height:44px}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem;gap:1rem;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.8rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px;min-height:44px}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.3rem}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0;max-width:100%;margin:0 auto;width:100%;display:grid;justify-items:center;align-items:start}.content-card[_ngcontent-%COMP%]{padding:1.5rem;width:100%;max-width:100%;margin:0 auto;display:flex;flex-direction:column}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1rem;width:100%}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.8rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-size:1rem}.category-breakdown[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1rem;width:100%}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.75rem 0;display:flex;align-items:center;justify-content:space-between;width:100%}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{gap:.75rem;display:flex;align-items:center;flex:1}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem;flex-shrink:0}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.95rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.recent-expenses[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1rem;width:100%}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:1rem 0;display:flex;align-items:center;justify-content:space-between;width:100%}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.75rem;display:flex;align-items:center;flex:1}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem;flex-shrink:0}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{flex:1}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.95rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.8rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1.25rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.6rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.9rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.25rem;gap:.75rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.6rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]{padding:1.25rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}}.budget-setup[_ngcontent-%COMP%]{display:flex;gap:1rem}.budget-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.1rem}.budget-status-section[_ngcontent-%COMP%]{margin-bottom:2rem}.budget-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #e0e0e0}.budget-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.budget-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.budget-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.budget-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea}.budget-progress-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.budget-progress-bar[_ngcontent-%COMP%]{width:100%;height:12px;background:#e9ecef;border-radius:6px;overflow:hidden;margin-bottom:1rem}.budget-progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .8s ease}.budget-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.budget-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#ffffffb3;border-radius:8px;border:1px solid #e0e0e0}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#333}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.budget-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.action-icon[_ngcontent-%COMP%]{margin-right:.5rem}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#666;cursor:pointer;padding:.5rem;border-radius:50%;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#333}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8;transform:translateY(-2px);box-shadow:0 5px 15px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;margin:0 auto;width:100%}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0;width:100%;max-width:100%;margin:0 auto}.content-card[_ngcontent-%COMP%]{margin:0;width:100%;max-width:100%}.card-header[_ngcontent-%COMP%]{padding:1.25rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.1rem}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.8rem}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:.75rem 0}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.75rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.95rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.8rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}.card-body[_ngcontent-%COMP%]{padding:1rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:.5rem 0}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.5rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.9rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:.9rem}}"]})};var YW=n=>({background:n});function ZW(n,e){if(n&1&&(v(0,"option",56),M(1),C()),n&2){let t=e.$implicit;J("value",t.id),N(),$r(" ",t.icon," ",t.name," ")}}function XW(n,e){if(n&1){let t=gt();v(0,"button",57),ie("click",function(){ne(t);let i=ae();return re(i.clearCategory())}),M(1," \u2715 "),C()}}function JW(n,e){if(n&1&&(v(0,"option",56),M(1),C()),n&2){let t=e.$implicit;J("value",t.id),N(),$r("",t.icon," ",t.name)}}function e7(n,e){if(n&1){let t=gt();v(0,"div",60)(1,"div",61)(2,"div",62),M(3),Be(4,"currency"),C(),v(5,"div",63)(6,"span",64),M(7),C()()(),v(8,"div",65)(9,"div",66),M(10),Be(11,"date"),C(),v(12,"div",67),M(13),C()(),v(14,"div",68)(15,"button",69),ie("click",function(){let i=ne(t).$implicit,o=ae(2);return re(o.editExpense(i))}),v(16,"span",70),M(17,"\u270F\uFE0F"),C()(),v(18,"button",71),ie("click",function(){let i=ne(t).$implicit,o=ae(2);return re(o.deleteExpense(i))}),v(19,"span",70),M(20,"\u{1F5D1}\uFE0F"),C()()()()}if(n&2){let t=e.$implicit,r=e.index,i=ae(2);mr("animation-delay",r*.1+"s"),N(3),Ae(mn(4,8,t.amount,"INR")),N(3),J("ngStyle",pu(13,YW,i.getCategoryColor(t.categoryId))),N(),$r(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),N(3),Ae(Wt(11,11,t.date)),N(3),Ae(t.description||"No description")}}function t7(n,e){if(n&1&&(v(0,"div",58),_e(1,e7,21,15,"div",59),C()),n&2){let t=ae();N(),J("ngForOf",t.getFilteredExpenses())}}function n7(n,e){n&1&&(v(0,"div",72)(1,"div",73),M(2,"\u{1F4CB}"),C(),v(3,"h6"),M(4,"No expenses found"),C(),v(5,"p"),M(6,"Add your first expense using the form above!"),C()())}var Cy=class n{constructor(e,t,r){this.expenseService=e;this.categoryService=t;this.firebaseService=r}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";subscription=new je;ngOnInit(){this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,console.log(`Received ${e.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{}})}addExpense(){return _(this,null,function*(){if(this.validateExpense())try{let e={description:this.newExpense.description,amount:parseFloat(this.newExpense.amount.toString()),date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},t=yield this.expenseService.add(e);console.log(`Expense added with Firebase ID: ${t}`),this.resetForm(),this.checkAchievements()}catch(e){console.error("Error adding expense:",e)}finally{}})}editExpense(e){return _(this,null,function*(){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=parseFloat(r);if(isNaN(i)||i<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}let o=le(j({},e),{description:t,amount:i});yield this.expenseService.update(o)}catch(t){console.error("Error editing expense:",t)}finally{}})}deleteExpense(e){return _(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`))try{yield this.expenseService.delete(e.id)}catch(r){console.error("Error deleting expense:",r)}finally{}})}validateExpense(){return this.newExpense.description?.trim()?!this.newExpense.amount||this.newExpense.amount<=0?(alert("Please enter a valid amount greater than 0."),!1):this.newExpense.categoryId?this.newExpense.date?!0:(alert("Please select a date."),!1):(alert("Please select a category."),!1):(alert("Please enter a description."),!1)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""}}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo=""}clearCategory(){this.newExpense.categoryId=""}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?alert("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?alert("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&alert("Incredible! You've logged 100 expenses. You're a financial tracking master!");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);alert(`${o} mastery achieved! You've logged 10 expenses in this category.`)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&alert(`Daily streak of ${o} days achieved! Keep it up!`)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}static \u0275fac=function(t){return new(t||n)($(os),$(fi),$(xn))};static \u0275cmp=qt({type:n,selectors:[["app-expenses"]],decls:108,vars:20,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"mb-0"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","number","id","expenseAmount","placeholder","0.00","name","amount","step","0.01","min","0","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"filters-card","mb-4"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterAmount",1,"form-label-modern"],["type","number","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"]],template:function(t,r){if(t&1){let i=gt();v(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),M(5,"\u{1F4B8}"),C()(),v(6,"div")(7,"h1",7),M(8,"Expenses"),C(),v(9,"p",8),M(10,"Track and manage your daily expenses"),C()()()(),v(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),M(15,"\u2795"),C(),v(16,"h5",12),M(17,"Add New Expense"),C()()(),v(18,"div",13)(19,"form",14,0),ie("ngSubmit",function(){return ne(i),re(r.addExpense())}),v(21,"div",15)(22,"div",16)(23,"label",17),M(24,"Amount"),C(),v(25,"div",18)(26,"span",19),M(27,"\u20B9"),C(),v(28,"input",20),Je("ngModelChange",function(s){return ne(i),nt(r.newExpense.amount,s)||(r.newExpense.amount=s),re(s)}),C()()(),v(29,"div",16)(30,"label",21),M(31,"Date"),C(),v(32,"input",22),Je("ngModelChange",function(s){return ne(i),nt(r.newExpense.date,s)||(r.newExpense.date=s),re(s)}),C()(),v(33,"div",16)(34,"label",23),M(35,"Category"),C(),v(36,"div",24)(37,"select",25),Je("ngModelChange",function(s){return ne(i),nt(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),re(s)}),v(38,"option",26),M(39,"\u{1F3F7}\uFE0F Select a category"),C(),_e(40,ZW,2,3,"option",27),C(),_e(41,XW,2,0,"button",28),C()(),v(42,"div",16)(43,"label",29),M(44,"Description"),C(),v(45,"input",30),Je("ngModelChange",function(s){return ne(i),nt(r.newExpense.description,s)||(r.newExpense.description=s),re(s)}),C()(),v(46,"div",31)(47,"label",32),M(48,"\xA0"),C(),v(49,"button",33)(50,"span",34),M(51,"\u2795"),C(),v(52,"span",35),M(53,"Add Expense"),C()()()()()()(),v(54,"div",36)(55,"div",10)(56,"div",4)(57,"span",11),M(58,"\u{1F50D}"),C(),v(59,"h5",12),M(60,"Filters"),C()()(),v(61,"div",13)(62,"div",37)(63,"div",38)(64,"label",39),M(65,"Category"),C(),v(66,"select",40),Je("ngModelChange",function(s){return ne(i),nt(r.filterCategory,s)||(r.filterCategory=s),re(s)}),v(67,"option",41),M(68,"\u{1F3F7}\uFE0F All Categories"),C(),_e(69,JW,2,3,"option",27),C()(),v(70,"div",38)(71,"label",42),M(72,"From Date"),C(),v(73,"input",43),Je("ngModelChange",function(s){return ne(i),nt(r.filterDateFrom,s)||(r.filterDateFrom=s),re(s)}),C()(),v(74,"div",38)(75,"label",44),M(76,"To Date"),C(),v(77,"input",45),Je("ngModelChange",function(s){return ne(i),nt(r.filterDateTo,s)||(r.filterDateTo=s),re(s)}),C()(),v(78,"div",38)(79,"label",46),M(80,"Min Amount"),C(),v(81,"input",47),Je("ngModelChange",function(s){return ne(i),nt(r.filterAmount,s)||(r.filterAmount=s),re(s)}),C()(),v(82,"div",48)(83,"label",32),M(84,"\xA0"),C(),v(85,"button",49),ie("click",function(){return ne(i),re(r.clearFilters())}),v(86,"span",34),M(87,"\u{1F504}"),C(),v(88,"span",35),M(89,"Clear Filters"),C()()()()()(),v(90,"div",50)(91,"div",10)(92,"div",51)(93,"div",4)(94,"span",11),M(95,"\u{1F4CB}"),C(),v(96,"h5",12),M(97,"All Expenses"),C()(),v(98,"div",52)(99,"div",53),M(100),Be(101,"currency"),C(),v(102,"div",54),M(103),C()()()(),v(104,"div",13),_e(105,t7,2,1,"div",55)(106,n7,7,0,"ng-template",null,1,HC),C()()()}if(t&2){let i=Oo(20),o=Oo(107);N(28),Xe("ngModel",r.newExpense.amount),N(4),Xe("ngModel",r.newExpense.date),N(5),Xe("ngModel",r.newExpense.categoryId),N(),J("selected",!r.newExpense.categoryId),N(2),J("ngForOf",r.categories),N(),J("ngIf",r.newExpense.categoryId),N(4),Xe("ngModel",r.newExpense.description),N(4),J("disabled",!i.form.valid),N(17),Xe("ngModel",r.filterCategory),N(3),J("ngForOf",r.categories),N(4),Xe("ngModel",r.filterDateFrom),N(4),Xe("ngModel",r.filterDateTo),N(4),Xe("ngModel",r.filterAmount),N(19),Ae(mn(101,17,r.getTotalAmount(),"INR")),N(3),qe("",r.getFilteredExpenses().length," expenses"),N(2),J("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",o)}},dependencies:[rn,zr,yn,Eu,hi,is,fL,gL,rr,DM,yy,di,rs,oo,PM,Ar,io,zs,$s],styles:[`.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.3;margin-top:.25rem;text-align:center;width:100%}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var r7=n=>({background:n});function i7(n,e){n&1&&(v(0,"div",39)(1,"span",40),M(2,"\u26A0\uFE0F"),C(),M(3," Category name already exists! "),C())}function o7(n,e){if(n&1){let t=gt();v(0,"div",41)(1,"p",42),M(2,"No categories found. Would you like to initialize default categories?"),C(),v(3,"button",43),ie("click",function(){ne(t);let i=ae();return re(i.initializeDefaultCategories())}),v(4,"span",36),M(5,"\u{1F4C2}"),C(),M(6," Initialize Default Categories "),C()()}}function s7(n,e){if(n&1){let t=gt();v(0,"div",46)(1,"div",47)(2,"div",48),Ri(3,"div",49),v(4,"div",50),M(5),C(),v(6,"div",51),M(7),C()(),v(8,"div",52)(9,"button",53),ie("click",function(){let i=ne(t).$implicit,o=ae(2);return re(o.updateCategory(i))}),v(10,"span",54),M(11,"\u270F\uFE0F"),C(),v(12,"span",55),M(13,"Edit"),C()(),v(14,"button",56),ie("click",function(){let i=ne(t).$implicit,o=ae(2);return re(o.confirmDelete(i))}),v(15,"span",57),M(16,"\u{1F5D1}\uFE0F"),C(),v(17,"span",58),M(18,"Delete"),C()()()()()}if(n&2){let t=e.$implicit;N(3),J("ngStyle",pu(3,r7,t.color)),N(2),Ae(t.icon),N(2),Ae(t.name)}}function a7(n,e){if(n&1&&(v(0,"div",44),_e(1,s7,19,5,"div",45),C()),n&2){let t=ae();N(),J("ngForOf",t.categories)}}function c7(n,e){n&1&&(v(0,"div",59)(1,"div",60),M(2,"\u{1F4C2}"),C(),v(3,"h6",61),M(4,"No Categories Yet"),C(),v(5,"p",62),M(6,"Start by adding your first expense category above."),C()())}var wy=class n{constructor(e,t){this.categoryService=e;this.firebaseService=t}categories=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";sortBy="name";sortOrder="asc";isDuplicateCategory=!1;subscription=new je;ngOnInit(){this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{this.categories=yield this.categoryService.getAll()}catch{}finally{}})}initializeDefaultCategories(){return _(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData()}catch{}finally{}})}addCategory(){return _(this,null,function*(){if(this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),this.resetForm()}catch{}finally{}})}updateCategory(e){return _(this,null,function*(){try{console.log(`Updating category: ${e.name} (ID: ${e.id}, length: ${e.id.length})`);let t=window.prompt("Category name:",e.name)||e.name,r=window.prompt("Category color (hex):",e.color)||e.color;if(!t.trim())return;let i=le(j({},e),{name:t.trim(),color:r});console.log(`Sending update to Firebase for category ID: ${i.id}`),yield this.categoryService.update(i),console.log("Category updated successfully"),yield this.loadData()}catch(t){console.error("Error updating category:",t)}finally{}})}deleteCategory(e){return _(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"? This will also delete all associated expenses.`))try{console.log(`Deleting category: ${e.name} (ID: ${e.id})`),yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),yield this.loadData()}catch(r){console.error("Error deleting category:",r)}finally{}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){if(!this.newCategory.name?.trim())return!1;let e=this.categories.find(t=>t.name.toLowerCase()===this.newCategory.name.toLowerCase());return this.isDuplicateCategory=!!e,!this.isDuplicateCategory}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];return this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":i=this.getCategoryUsage(t.id),o=this.getCategoryUsage(r.id);break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryUsage(e){return Math.floor(Math.random()*100)}clearSearch(){this.searchTerm=""}generateId(){return Math.random().toString(36).substr(2,9)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#ff8e53","#2ecc71","#e74c3c","#f39c12","#9b59b6","#34495e","#1abc9c","#e67e22","#3498db","#8e44ad","#16a085"]}getIconPresets(){return["\u{1F37D}\uFE0F","\u{1F697}","\u{1F6CD}\uFE0F","\u{1F3AC}","\u{1F4A1}","\u{1F3E5}","\u{1F4DA}","\u{1F3E0}","\u{1F6E1}\uFE0F","\u{1F4B0}","\u{1F355}","\u2615","\u{1F3B5}","\u{1F3AE}","\u{1F3C3}","\u{1F9D8}","\u{1F4F1}","\u{1F4BB}","\u{1F4F7}","\u{1F3A8}","\u{1F331}","\u{1F415}","\u{1F431}","\u{1F99C}","\u{1F420}","\u{1F33A}","\u{1F332}","\u{1F30A}","\u26F0\uFE0F","\u{1F3D6}\uFE0F"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets(),t=Math.floor(Math.random()*e.length);this.newCategory.color=e[t]}getCategoryCount(){return this.getFilteredCategories().length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)>r?t:e})}getLeastUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)<r?t:e})}cleanupDuplicates(){return _(this,null,function*(){try{console.log("Starting duplicate cleanup..."),yield this.categoryService.triggerDuplicateCleanup(),yield this.loadData(),console.log("Duplicate cleanup completed"),alert("Duplicate categories have been cleaned up successfully!")}catch(e){console.error("Error during duplicate cleanup:",e),alert("Error cleaning up duplicate categories. Please try again.")}})}static \u0275fac=function(t){return new(t||n)($(fi),$(xn))};static \u0275cmp=qt({type:n,selectors:[["app-categories"]],decls:59,vars:11,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"random-icon"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],[1,"cleanup-section",2,"margin-bottom","20px","padding","15px","background","#fff3cd","border","1px solid #ffeaa7","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#856404"],[2,"padding","10px 20px","background","#ffc107","color","#212529","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"error-message"],[1,"error-icon"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),M(4,"\u{1F4C2}"),C(),v(5,"div",4)(6,"h1",5),M(7,"Categories"),C(),v(8,"p",6),M(9,"Manage your expense categories and organize your spending"),C()()()(),v(10,"div",7)(11,"div",8)(12,"div",2)(13,"span",3),M(14,"\u2795"),C(),v(15,"h3",9),M(16,"Add New Category"),C()()(),v(17,"div",10)(18,"form",11),ie("ngSubmit",function(){return r.addCategory()}),v(19,"div",12)(20,"div",13)(21,"label",14),M(22,"Category Name"),C(),v(23,"input",15),Je("ngModelChange",function(o){return nt(r.newCategory.name,o)||(r.newCategory.name=o),o}),ie("input",function(){return r.clearValidationErrors()}),C(),_e(24,i7,4,0,"div",16),C(),v(25,"div",13)(26,"label",17),M(27,"Color"),C(),v(28,"div",18)(29,"input",19),Je("ngModelChange",function(o){return nt(r.newCategory.color,o)||(r.newCategory.color=o),o}),C(),v(30,"button",20),ie("click",function(){return r.setRandomColor()}),v(31,"span",21),M(32,"\u{1F3B2}"),C(),M(33," Random "),C()()()(),v(34,"div",22)(35,"button",23)(36,"span",24),M(37,"\u2795"),C(),v(38,"span",25),M(39,"Add Category"),C()()()()()(),v(40,"div",26)(41,"div",27)(42,"div",28)(43,"span",29),M(44,"\u{1F4C2}"),C(),v(45,"h3",30),M(46,"Your Categories"),C()(),v(47,"div",31),M(48),C()(),_e(49,o7,7,0,"div",32),v(50,"div",33)(51,"p",34),M(52,"Found duplicate categories? Clean them up automatically."),C(),v(53,"button",35),ie("click",function(){return r.cleanupDuplicates()}),v(54,"span",36),M(55,"\u{1F9F9}"),C(),M(56," Cleanup Duplicate Categories "),C()(),_e(57,a7,2,1,"div",37)(58,c7,7,0,"div",38),C()()),t&2&&(N(23),Gt("error",r.isDuplicateCategory),Xe("ngModel",r.newCategory.name),N(),J("ngIf",r.isDuplicateCategory),N(5),Xe("ngModel",r.newCategory.color),N(6),J("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),N(13),$r("",r.categories.length," ",r.categories.length===1?"Category":"Categories"),N(),J("ngIf",r.categories.length===0),N(8),J("ngIf",r.categories.length>0),N(),J("ngIf",r.categories.length===0))},dependencies:[rn,zr,yn,Eu,hi,is,rr,di,rs,oo,Ar,io],styles:['.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.add-category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:200px}.form-group[_ngcontent-%COMP%]:first-child{flex:2;min-width:300px}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem;display:block}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:12px;padding:.875rem 1rem;font-size:1rem;transition:all .3s ease;background:#f8f9fa;width:100%;height:50px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;background:#fff;transform:translateY(-2px)}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354526}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem;background:#dc35451a;border-radius:8px;border-left:3px solid #dc3545}.error-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1rem}.color-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;height:50px}.color-input[_ngcontent-%COMP%]{width:60px;height:50px;border:none;border-radius:12px;cursor:pointer;transition:transform .3s ease;flex-shrink:0}.color-input[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-random-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:.75rem 1.5rem;display:flex;align-items:center;gap:.5rem;font-weight:600;transition:all .3s ease;cursor:pointer;height:50px}.btn-random-color[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.random-icon[_ngcontent-%COMP%]{font-size:1.1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;border:none;border-radius:15px;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #fa709a4d;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 25px #fa709a66}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;justify-content:space-between}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.3rem;background:#fff3;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0}.category-count[_ngcontent-%COMP%]{background:#fff3;padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;padding:2rem}.category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .6s ease-out}.category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#fa709a,#fee140);transform:scaleX(0);transition:transform .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 10px 30px #0000001f}.category-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.category-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-color-indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;flex-shrink:0;box-shadow:0 2px 8px #0000001a}.category-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:1rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;flex-grow:1}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;border:none;border-radius:10px;padding:.75rem 1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.9rem;min-width:100px}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #ff6b6b66}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-size:.85rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-description[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]:first-child, .color-group[_ngcontent-%COMP%]{flex:none;min-width:auto}.button-container[_ngcontent-%COMP%]{margin-top:0}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px}.color-input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.color-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1rem}.color-controls[_ngcontent-%COMP%], .color-input-group[_ngcontent-%COMP%]{justify-content:space-between;gap:1rem}.form-control-color-modern[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;height:60px;border-radius:15px;flex:1;justify-content:center}.form-control-modern[_ngcontent-%COMP%]{height:60px;font-size:1.1rem;padding:1rem 1.25rem}.form-label-modern[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.5rem}.category-card[_ngcontent-%COMP%]{padding:1.25rem}.category-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}.category-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{width:100%}.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}}.category-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.category-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.category-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.category-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.category-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.category-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.category-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.form-control[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem;width:100%;margin-bottom:0}.color-group[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;width:100%}.color-input[_ngcontent-%COMP%]{width:100%;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem;padding:.75rem 1rem;border-radius:15px;justify-content:center;margin:0}.button-container[_ngcontent-%COMP%]{margin-top:2.5rem;width:100%;display:flex;justify-content:center}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px;margin:0}.section-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.3rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.category-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.category-color-indicator[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem}.category-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.category-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.category-count[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-category[_ngcontent-%COMP%], .btn-random-color[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem}.category-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.category-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-category[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.section-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.categories-grid[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%]{padding:.75rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 768px){.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;display:block}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem;border-radius:8px}.form-group[_ngcontent-%COMP%] + .form-group[_ngcontent-%COMP%]{margin-top:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}}']})};function l7(n,e){if(n&1&&(v(0,"div",19),M(1),Be(2,"currency"),C()),n&2){let t=ae(2);Gt("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),N(),qe(" ",mn(2,5,t.getMonthlyComparison().change,"INR")," ")}}function u7(n,e){n&1&&(v(0,"div",23),M(1," First Month "),C())}function d7(n,e){if(n&1&&(v(0,"div",13)(1,"div",14)(2,"div",15)(3,"h3"),M(4,"Current Month Overview"),C(),v(5,"span",16),M(6),C()(),v(7,"div",17)(8,"div",18)(9,"div",19),M(10),Be(11,"currency"),C(),v(12,"div",20),M(13,"Total Spent"),C()(),v(14,"div",18)(15,"div",19),M(16),C(),v(17,"div",20),M(18,"Expenses"),C()(),v(19,"div",18),_e(20,l7,3,8,"div",21)(21,u7,2,0,"div",22),v(22,"div",20),M(23,"vs Last Month"),C()()()()()),n&2){let t,r,i,o,s=ae();N(6),Ae((t=s.getCurrentMonthReport())==null?null:t.monthName),N(4),Ae(mn(11,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),N(6),Ae((i=s.getCurrentMonthReport())==null?null:i.expenseCount),N(4),J("ngIf",s.getMonthlyComparison().hasPreviousData),N(),J("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function h7(n,e){if(n&1&&(v(0,"div",35)(1,"span",36),M(2),C(),v(3,"span",37),M(4),C(),v(5,"span",38),M(6),Be(7,"currency"),C()()),n&2){let t=e.$implicit;N(),mr("background-color",t.category.color),N(),Ae(t.category.icon),N(2),Ae(t.category.name),N(2),Ae(mn(7,5,t.amount,"INR"))}}function f7(n,e){if(n&1){let t=gt();v(0,"div",26),ie("click",function(){let i=ne(t).$implicit,o=ae(2);return re(o.selectMonth(i.monthKey))}),v(1,"div",27)(2,"h4",28),M(3),C(),v(4,"div",29),M(5,"\u2192"),C()(),v(6,"div",30)(7,"div",31),M(8),Be(9,"currency"),C(),v(10,"div",32),M(11),C()(),v(12,"div",33),_e(13,h7,8,8,"div",34),C()()}if(n&2){let t=e.$implicit;N(3),Ae(t.monthName),N(5),Ae(mn(9,4,t.totalAmount,"INR")),N(3),qe("",t.expenseCount," expenses"),N(2),J("ngForOf",t.categoryBreakdown.slice(0,3))}}function p7(n,e){if(n&1&&(v(0,"div",24),_e(1,f7,14,7,"div",25),C()),n&2){let t=ae();N(),J("ngForOf",t.monthlyReports)}}function g7(n,e){n&1&&(v(0,"div",39)(1,"div",40),M(2,"\u{1F4CA}"),C(),v(3,"h6"),M(4,"No Reports Available"),C(),v(5,"p"),M(6,"Add some expenses to see your monthly reports!"),C()())}function m7(n,e){if(n&1&&(v(0,"div",51)(1,"div",52)(2,"span",36),M(3),C(),v(4,"div",53)(5,"div",37),M(6),C(),v(7,"div",54),M(8),C()()(),v(9,"div",38),M(10),Be(11,"currency"),C()()),n&2){let t=e.$implicit;N(2),mr("background-color",t.category.color),N(),Ae(t.category.icon),N(3),Ae(t.category.name),N(2),qe("",t.count," expenses"),N(2),Ae(mn(11,6,t.amount,"INR"))}}function y7(n,e){if(n&1&&(v(0,"div",55)(1,"div",56)(2,"div",57),M(3),Be(4,"currency"),C(),v(5,"div",58)(6,"span",59),M(7),C()()(),v(8,"div",60)(9,"div",61),M(10),Be(11,"date"),C(),v(12,"div",62),M(13),C()()()),n&2){let t=e.$implicit,r=ae(2);N(3),Ae(mn(4,7,t.amount,"INR")),N(3),mr("background-color",r.getCategoryColor(t.categoryId)),N(),$r(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),N(3),Ae(Wt(11,10,t.date)),N(3),Ae(t.description||"No description")}}function _7(n,e){if(n&1){let t=gt();v(0,"div",41)(1,"div",42)(2,"button",43),ie("click",function(){ne(t);let i=ae();return re(i.showDetailedView=!1)}),M(3,"\u2190 Back to Overview"),C(),v(4,"h3"),M(5),C()(),v(6,"div",44)(7,"div",45)(8,"h4"),M(9,"Category Breakdown"),C(),v(10,"div",46),_e(11,m7,12,9,"div",47),C()(),v(12,"div",48)(13,"h4"),M(14,"All Expenses"),C(),v(15,"div",49),_e(16,y7,14,12,"div",50),C()()()()}if(n&2){let t,r,i,o=ae();N(5),qe("",(t=o.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),N(6),J("ngForOf",(r=o.getSelectedMonthReport())==null?null:r.categoryBreakdown),N(5),J("ngForOf",(i=o.getSelectedMonthReport())==null?null:i.expenses)}}var Ey=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;ngOnInit(){this.loadData()}loadData(){return _(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports()}catch(e){console.error("Error loading reports:",e)}finally{}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r})})}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0,o=i?r/t.totalAmount*100:0;return{change:r,percentage:o,hasPreviousData:i}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}static \u0275fac=function(t){return new(t||n)($(os),$(fi))};static \u0275cmp=qt({type:n,selectors:[["app-monthly-reports"]],decls:20,vars:4,consts:[[1,"monthly-reports-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","overview-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],["class","reports-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-name"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"detailed-content"],[1,"breakdown-section"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"expense-item"],[1,"expense-info"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),M(4,"\u{1F4CA}"),C(),v(5,"div",4)(6,"h1",5),M(7,"Monthly Reports"),C(),v(8,"p",6),M(9,"Track your spending patterns and get insights"),C()()()(),_e(10,d7,24,8,"div",7),v(11,"div",8)(12,"div",9)(13,"h3"),M(14,"Monthly Breakdown"),C(),v(15,"p"),M(16,"Click on any month to view detailed breakdown"),C()(),_e(17,p7,2,1,"div",10)(18,g7,7,0,"div",11),C(),_e(19,_7,17,3,"div",12),C()),t&2&&(N(10),J("ngIf",r.getCurrentMonthReport()),N(7),J("ngIf",r.monthlyReports.length>0),N(),J("ngIf",r.monthlyReports.length===0),N(),J("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[rn,zr,yn,zs,$s],styles:['.monthly-reports-page[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #667eea26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.overview-section[_ngcontent-%COMP%]{margin-bottom:2rem}.overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3}.overview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.month-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background:#fff;border-radius:15px;box-shadow:0 5px 15px #00000014;border:1px solid #f0f0f0}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.stat-value.new-month[_ngcontent-%COMP%]{color:#17a2b8;font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.reports-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#333;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.report-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.report-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#667eea,#764ba2);transform:scaleX(0);transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001f}.report-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.month-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin:0}.report-arrow[_ngcontent-%COMP%]{font-size:1.5rem;color:#667eea;transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.report-amount[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:.25rem}.report-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:8px}.category-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.category-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;color:#333;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:600}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.detailed-view[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden;margin-top:2rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;gap:1rem}.back-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:background-color .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.detailed-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.detailed-content[_ngcontent-%COMP%]{padding:2rem}.breakdown-section[_ngcontent-%COMP%]{margin-bottom:2rem}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.expenses-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.expense-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.category-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:15px;color:#fff;font-size:.8rem;font-weight:500;display:inline-flex;align-items:center;gap:.25rem}.expense-details[_ngcontent-%COMP%]{text-align:right}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-bottom:.25rem}.expense-description[_ngcontent-%COMP%]{font-size:.85rem;color:#999}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:1rem}.overview-stats[_ngcontent-%COMP%], .reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.detailed-content[_ngcontent-%COMP%]{padding:1rem}}']})};function v7(n,e){n&1&&(v(0,"span",21),M(1,"\u23F3"),C())}function C7(n,e){n&1&&(v(0,"span"),M(1,"Sign In"),C())}function w7(n,e){if(n&1&&(v(0,"div",22),M(1),C()),n&2){let t=ae();N(),qe(" ",t.error," ")}}var by=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loading=!1;error="";signIn(){return _(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(t){return new(t||n)($(ir),$(Dn))};static \u0275cmp=qt({type:n,selectors:[["app-login"]],decls:30,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=gt();v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),M(5,"\u{1F4B0}"),C(),v(6,"h1",6),M(7,"Expense Tracker"),C()(),v(8,"p",7),M(9,"Sign in to manage your expenses"),C()(),v(10,"form",8,0),ie("ngSubmit",function(){return ne(i),re(r.signIn())}),v(12,"div",9)(13,"label",10),M(14,"Email"),C(),v(15,"input",11),Je("ngModelChange",function(s){return ne(i),nt(r.email,s)||(r.email=s),re(s)}),C()(),v(16,"div",9)(17,"label",12),M(18,"Password"),C(),v(19,"input",13),Je("ngModelChange",function(s){return ne(i),nt(r.password,s)||(r.password=s),re(s)}),C()(),v(20,"div",14)(21,"button",15),_e(22,v7,2,0,"span",16)(23,C7,2,0,"span",17),C()()(),v(24,"div",18)(25,"p"),M(26,"Don't have an account? "),v(27,"a",19),ie("click",function(){return ne(i),re(r.goToRegister())}),M(28,"Sign up"),C()()(),_e(29,w7,2,1,"div",20),C()()}if(t&2){let i=Oo(11);N(15),Xe("ngModel",r.email),N(4),Xe("ngModel",r.password),N(2),J("disabled",!i.form.valid||r.loading),N(),J("ngIf",r.loading),N(),J("ngIf",!r.loading),N(6),J("ngIf",r.error)}},dependencies:[rn,yn,hi,is,rr,di,rs,oo,Ar,io],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Iy=class n{constructor(e){this.firebaseService=e}createDefaultCategories(){return _(this,null,function*(){let e=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let t of e)yield this.firebaseService.addCategory(t);console.log("Default categories created successfully")}catch(t){console.error("Error creating default categories:",t)}})}static \u0275fac=function(t){return new(t||n)(Y(xn))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function b7(n,e){n&1&&(v(0,"span",25),M(1,"\u23F3"),C())}function I7(n,e){n&1&&(v(0,"span"),M(1,"Create Account"),C())}function M7(n,e){if(n&1&&(v(0,"div",26),M(1),C()),n&2){let t=ae();N(),qe(" ",t.error," ")}}var My=class n{constructor(e,t,r){this.authService=e;this.router=t;this.defaultCategoriesService=r}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return _(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(e){return e.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":e.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(t){return new(t||n)($(ir),$(Dn),$(Iy))};static \u0275cmp=qt({type:n,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=gt();v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),M(5,"\u{1F4B0}"),C(),v(6,"h1",6),M(7,"Expense Tracker"),C()(),v(8,"p",7),M(9,"Create your account to start tracking expenses"),C()(),v(10,"form",8,0),ie("ngSubmit",function(){return ne(i),re(r.register())}),v(12,"div",9)(13,"label",10),M(14,"Full Name"),C(),v(15,"input",11),Je("ngModelChange",function(s){return ne(i),nt(r.displayName,s)||(r.displayName=s),re(s)}),C()(),v(16,"div",9)(17,"label",12),M(18,"Email"),C(),v(19,"input",13),Je("ngModelChange",function(s){return ne(i),nt(r.email,s)||(r.email=s),re(s)}),C()(),v(20,"div",9)(21,"label",14),M(22,"Password"),C(),v(23,"input",15),Je("ngModelChange",function(s){return ne(i),nt(r.password,s)||(r.password=s),re(s)}),C()(),v(24,"div",9)(25,"label",16),M(26,"Confirm Password"),C(),v(27,"input",17),Je("ngModelChange",function(s){return ne(i),nt(r.confirmPassword,s)||(r.confirmPassword=s),re(s)}),C()(),v(28,"div",18)(29,"button",19),_e(30,b7,2,0,"span",20)(31,I7,2,0,"span",21),C()()(),v(32,"div",22)(33,"p"),M(34,"Already have an account? "),v(35,"a",23),ie("click",function(){return ne(i),re(r.goToLogin())}),M(36,"Sign in"),C()()(),_e(37,M7,2,1,"div",24),C()()}if(t&2){let i=Oo(11);N(15),Xe("ngModel",r.displayName),N(4),Xe("ngModel",r.email),N(4),Xe("ngModel",r.password),N(4),Xe("ngModel",r.confirmPassword),N(2),J("disabled",!i.form.valid||r.loading||!r.passwordsMatch()),N(),J("ngIf",r.loading),N(),J("ngIf",!r.loading),N(6),J("ngIf",r.error)}},dependencies:[rn,yn,hi,is,rr,di,rs,oo,SM,Ar,io],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Da=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.currentUser$.pipe(_t(e=>e!==void 0),St(1),he(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(Y(ir),Y(Dn))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var mL=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:by},{path:"register",component:My},{path:"dashboard",component:vy,canActivate:[Da]},{path:"expenses",component:Cy,canActivate:[Da]},{path:"categories",component:wy,canActivate:[Da]},{path:"reports",component:Ey,canActivate:[Da]}];var yL={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"};var xM="Service workers are disabled or not supported by this browser",ml=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new se(r=>r.error(new L(5601,!1)));else{let r=null,i=new Ze;this.worker=new se(u=>(r!==null&&u.next(r),i.subscribe(d=>u.next(d))));let o=()=>{let{controller:u}=e;u!==null&&(r=u,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Ut(()=>e.getRegistration()));let s=new Ze;this.events=s.asObservable();let a=u=>{let{data:d}=u;d?.type&&s.next(d)};e.addEventListener("message",a),t?.get(Zn,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(St(1)).subscribe(i=>{i.postMessage(j({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(_t(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(St(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(_t(i=>i.nonce===e),St(1),he(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},D7=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ze;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=vi,this.notificationClicks=vi,this.notificationCloses=vi,this.pushSubscriptionChanges=vi,this.subscription=vi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(he(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(he(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(he(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(he(i=>i.data)),this.pushManager=this.sw.registration.pipe(he(i=>i.pushManager));let r=this.pushManager.pipe(Ut(i=>i.getSubscription()));this.subscription=new se(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(xM));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Ut(c=>c.subscribe(r)),St(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(xM));let t=r=>{if(r===null)throw new L(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new L(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(St(1),Ut(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(Y(ml))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),T7=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=vi,this.unrecoverable=vi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(xM));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new L(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(Y(ml))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var vL=new W("");function P7(){let n=F(th);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=F(vL),t=F(Pe),r=F(Zn);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=_L(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),_L(+a[0])]);break;default:throw new L(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(bs(5604,!1)))})})}function _L(n){return new Promise(e=>setTimeout(e,n))}function S7(n,e){return new ml(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var th=class{enabled;scope;registrationStrategy};function CL(n,e={}){return Nt([D7,T7,{provide:vL,useValue:n},{provide:th,useValue:e},{provide:ml,useFactory:S7,deps:[th,tt]},pp(P7)])}var wL={providers:[Ev(),WC({eventCoalescing:!0}),Zw(mL),p1(),q1(()=>G1(yL)),ZR(()=>JR()),SF(()=>OF()),$F(()=>zF()),CL("ngsw-worker.js",{enabled:!mu(),registrationStrategy:"registerWhenStable:30000"})]};var Dy=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function x7(n,e){n&1&&(v(0,"div",3)(1,"div",4),M(2,"\u23F3"),C(),v(3,"p"),M(4,"Loading..."),C()())}function A7(n,e){if(n&1){let t=gt();v(0,"div",35)(1,"div",36)(2,"span",37),M(3),C(),v(4,"button",38),ie("click",function(){ne(t);let i=ae(2);return re(i.signOut())}),v(5,"span",39),M(6,"\u{1F6AA}"),C()()()()}if(n&2){let t=e.ngIf;N(3),Ae(t.displayName||t.email)}}function R7(n,e){if(n&1){let t=gt();v(0,"div",40),ie("click",function(){ne(t);let i=ae(2);return re(i.closeSidebar())}),C()}}function N7(n,e){if(n&1){let t=gt();v(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),ie("click",function(){ne(t);let i=ae();return re(i.toggleSidebar())}),v(5,"span",10),M(6,"\u2630"),C()(),v(7,"div",11)(8,"span",12),M(9,"\u{1F4B0}"),C(),v(10,"span",13),M(11,"Expense Tracker"),C()()(),v(12,"nav",14)(13,"a",15),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(14,"span",16),M(15,"\u{1F4CA}"),C(),v(16,"span",17),M(17,"Dashboard"),C()(),v(18,"a",18),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(19,"span",16),M(20,"\u{1F4B8}"),C(),v(21,"span",17),M(22,"Expenses"),C()(),v(23,"a",19),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(24,"span",16),M(25,"\u{1F3F7}\uFE0F"),C(),v(26,"span",17),M(27,"Categories"),C()(),v(28,"a",20),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(29,"span",16),M(30,"\u{1F4CA}"),C(),v(31,"span",17),M(32,"Reports"),C()()(),_e(33,A7,7,1,"div",21),Be(34,"async"),C()(),_e(35,R7,1,0,"div",22),v(36,"aside",23)(37,"div",24)(38,"div",25)(39,"span",12),M(40,"\u{1F4B0}"),C(),v(41,"span",13),M(42,"Expense Tracker"),C()()(),v(43,"nav",26)(44,"a",27),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(45,"span",28),M(46,"\u{1F4CA}"),C(),v(47,"span",29),M(48,"Dashboard"),C()(),v(49,"a",30),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(50,"span",28),M(51,"\u{1F4B8}"),C(),v(52,"span",29),M(53,"Expenses"),C()(),v(54,"a",31),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(55,"span",28),M(56,"\u{1F3F7}\uFE0F"),C(),v(57,"span",29),M(58,"Categories"),C()(),v(59,"a",32),ie("click",function(){ne(t);let i=ae();return re(i.onNavClick())}),v(60,"span",28),M(61,"\u{1F4CA}"),C(),v(62,"span",29),M(63,"Reports"),C()()()(),v(64,"main",33)(65,"div",34),Ri(66,"router-outlet"),C()()()}if(n&2){let t=ae();N(33),J("ngIf",Wt(34,6,t.currentUser$)),N(2),J("ngIf",t.sidebarOpen),N(),Gt("sidebar-open",t.sidebarOpen),N(28),Gt("content-blurred",t.sidebarOpen)}}function k7(n,e){n&1&&(v(0,"div",41),Ri(1,"router-outlet"),C())}var Ty=class n{constructor(e,t,r){this.scrollService=e;this.authService=t;this.router=r;this.restoreLastRoute(),this.router.events.subscribe(()=>{this.saveCurrentRoute()})}sidebarOpen=!1;get currentUser$(){return this.authService.currentUser$}toggleSidebar(){console.log("Toggle sidebar called"),this.sidebarOpen=!this.sidebarOpen,this.sidebarOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeSidebar(){console.log("Close sidebar called"),this.sidebarOpen=!1,document.body.style.overflow=""}signOut(){return _(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/login"])}catch(e){console.error("Error signing out:",e)}})}saveCurrentRoute(){let e=this.router.url;e&&e!=="/login"&&e!=="/register"&&localStorage.setItem("lastRoute",e)}restoreLastRoute(){let e=localStorage.getItem("lastRoute");e&&e!=="/login"&&e!=="/register"&&this.authService.currentUser$.pipe(_t(t=>t!==void 0),St(1)).subscribe(t=>{t&&setTimeout(()=>{this.router.navigate([e])},100)})}onNavClick(){this.closeSidebar(),this.scrollService.scrollToTop(),this.saveCurrentRoute()}static \u0275fac=function(t){return new(t||n)($(Dy),$(ir),$(Dn))};static \u0275cmp=qt({type:n,selectors:[["app-root"]],decls:6,vars:9,consts:[["class","loading-container",4,"ngIf"],["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["aria-label","Toggle sidebar",1,"sidebar-toggle",3,"click"],[1,"hamburger-icon"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"header-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link",3,"click"],["class","user-section",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-brand"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"link-icon"],[1,"link-text"],["routerLink","/expenses","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"main-content"],[1,"content-container"],[1,"user-section"],[1,"user-info"],[1,"user-name"],["title","Sign out",1,"sign-out-btn",3,"click"],[1,"sign-out-icon"],[1,"sidebar-overlay",3,"click"],[1,"auth-container"]],template:function(t,r){t&1&&(_e(0,x7,5,0,"div",0),Be(1,"async"),_e(2,N7,67,8,"div",1),Be(3,"async"),_e(4,k7,2,0,"div",2),Be(5,"async")),t&2&&(J("ngIf",Wt(1,3,r.currentUser$)===void 0),N(2),J("ngIf",Wt(3,5,r.currentUser$)),N(2),J("ngIf",Wt(5,7,r.currentUser$)===null))},dependencies:[qu,Tc,Yw,rn,yn,mw],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;position:relative;height:100%;margin:0;padding:0}@supports (height: 100dvh){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100vh!important;min-height:100vh!important;max-height:100vh!important;top:0!important}}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 2px 10px #0000001a;position:sticky;top:0;z-index:100;padding:0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;max-width:1200px;margin:0 auto}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:8px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;min-width:44px;min-height:44px}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}@media (min-width: 769px){.sidebar-toggle[_ngcontent-%COMP%]{display:none}}.hamburger-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.header-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#fff;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d}.nav-icon[_ngcontent-%COMP%]{font-size:1rem}.nav-text[_ngcontent-%COMP%]{font-size:.9rem}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.5rem 1rem;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.9rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sign-out-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:6px;padding:.25rem .5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.sign-out-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.sign-out-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.auth-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;min-height:100vh;max-height:100vh;background:#00000080;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;min-height:100vh;max-height:100vh;background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);box-shadow:4px 0 20px #00000026;z-index:300;transition:left .3s ease;overflow-y:auto;display:flex;flex-direction:column;padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0;flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:#fff;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left-color:#ffffff80}.sidebar-link.active[_ngcontent-%COMP%]{background:#fff3;border-left-color:#fff}.link-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.link-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;transition:filter .3s ease}.main-content.content-blurred[_ngcontent-%COMP%]{filter:blur(4px);pointer-events:none}.content-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1.5rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.header-nav[_ngcontent-%COMP%]{display:none}.sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:280px;left:-280px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.user-section[_ngcontent-%COMP%]{margin-left:.5rem}.user-info[_ngcontent-%COMP%]{padding:.25rem .5rem}.user-name[_ngcontent-%COMP%]{max-width:100px;font-size:.8rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem}.sidebar[_ngcontent-%COMP%]{width:260px;left:-260px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:.75rem}}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem}.loading-spinner[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};Dw(Ty,wL).catch(n=>console.error(n));
