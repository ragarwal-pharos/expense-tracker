import{i as k}from"./chunk-COTLGU4O.js";import{Fa as y,Gc as E,Hc as I,Ia as _,Ic as T,Jc as V,Kc as L,Lc as N,Mc as F,Pb as O,Sc as z,Ta as c,Ua as e,Va as n,Vb as S,Vc as D,Xa as M,Y as g,Ya as f,Z as m,Za as P,bb as x,d as b,fb as o,hb as v,kb as h,lb as w,mb as C,va as a,za as u}from"./chunk-HYY45DGL.js";function W(r,t){r&1&&(e(0,"span",22),o(1,"\u23F3"),n())}function j(r,t){r&1&&(e(0,"span"),o(1,"Sign In"),n())}function q(r,t){if(r&1&&(e(0,"div",23),o(1),n()),r&2){let s=P();a(),v(" ",s.error," ")}}var R=class r{constructor(t,s){this.authService=t;this.router=s}email="";password="";loading=!1;error="";signIn(){return b(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(t){this.error=this.getErrorMessage(t)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}getErrorMessage(t){return t.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":t.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":t.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":t.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":t.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(s){return new(s||r)(u(E),u(k))};static \u0275cmp=y({type:r,selectors:[["app-login"]],decls:33,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"forgot-password-link"],[1,"link",3,"click"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(s,i){if(s&1){let l=M();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),o(5,"\u{1F4B0}"),n(),e(6,"h1",6),o(7,"Expense Tracker"),n()(),e(8,"p",7),o(9,"Sign in to manage your expenses"),n()(),e(10,"form",8,0),f("ngSubmit",function(){return g(l),m(i.signIn())}),e(12,"div",9)(13,"label",10),o(14,"Email"),n(),e(15,"input",11),C("ngModelChange",function(d){return g(l),w(i.email,d)||(i.email=d),m(d)}),n()(),e(16,"div",9)(17,"label",12),o(18,"Password"),n(),e(19,"input",13),C("ngModelChange",function(d){return g(l),w(i.password,d)||(i.password=d),m(d)}),n(),e(20,"div",14)(21,"a",15),f("click",function(){return g(l),m(i.goToForgotPassword())}),o(22,"Forgot Password?"),n()()(),e(23,"div",16)(24,"button",17),_(25,W,2,0,"span",18)(26,j,2,0,"span",19),n()()(),e(27,"div",20)(28,"p"),o(29,"Don't have an account? "),e(30,"a",15),f("click",function(){return g(l),m(i.goToRegister())}),o(31,"Sign up"),n()()(),_(32,q,2,1,"div",21),n()()}if(s&2){let l=x(11);a(15),h("ngModel",i.email),a(4),h("ngModel",i.password),a(5),c("disabled",!l.form.valid||i.loading),a(),c("ngIf",i.loading),a(),c("ngIf",!i.loading),a(6),c("ngIf",i.error)}},dependencies:[S,O,D,F,I,T,V,z,N,L],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-top:.5rem}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500;font-size:.875rem;cursor:pointer;transition:color .3s ease}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};export{R as LoginComponent};
