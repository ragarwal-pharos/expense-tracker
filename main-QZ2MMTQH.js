var $L=Object.defineProperty,zL=Object.defineProperties;var HL=Object.getOwnPropertyDescriptors;var fh=Object.getOwnPropertySymbols,qL=Object.getPrototypeOf,TD=Object.prototype.hasOwnProperty,PD=Object.prototype.propertyIsEnumerable,GL=Reflect.get;var DD=(n,e,t)=>e in n?$L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})TD.call(e,t)&&DD(n,t,e[t]);if(fh)for(var t of fh(e))PD.call(e,t)&&DD(n,t,e[t]);return n},ce=(n,e)=>zL(n,HL(e));var ls=(n,e)=>{var t={};for(var r in n)TD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&fh)for(var r of fh(n))e.indexOf(r)<0&&PD.call(n,r)&&(t[r]=n[r]);return t};var ho=(n,e,t)=>GL(qL(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Ky;function ph(){return Ky}function xr(n){let e=Ky;return Ky=n,e}var SD=Symbol("NotFound");function Pa(n){return n===SD||n?.name==="\u0275NotFound"}function vh(n,e){return Object.is(n,e)}var Tt=null,gh=!1,Qy=1,WL=null,Yt=Symbol("SIGNAL");function ve(n){let e=Tt;return Tt=n,e}function Ch(){return Tt}var us={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sa(n){if(gh)throw new Error("");if(Tt===null)return;Tt.consumerOnSignalRead(n);let e=Tt.nextProducerIndex++;if(Ih(Tt),e<Tt.producerNode.length&&Tt.producerNode[e]!==n&&Pl(Tt)){let t=Tt.producerNode[e];bh(t,Tt.producerIndexOfThis[e])}Tt.producerNode[e]!==n&&(Tt.producerNode[e]=n,Tt.producerIndexOfThis[e]=Pl(Tt)?xD(n,Tt,e):0),Tt.producerLastReadVersion[e]=n.version}function OD(){Qy++}function Eh(n){if(!(Pl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Qy)){if(!n.producerMustRecompute(n)&&!Sl(n)){_h(n);return}n.producerRecomputeValue(n),_h(n)}}function Yy(n){if(n.liveConsumerNode===void 0)return;let e=gh;gh=!0;try{for(let t of n.liveConsumerNode)t.dirty||KL(t)}finally{gh=e}}function Zy(){return Tt?.consumerAllowSignalWrites!==!1}function KL(n){n.dirty=!0,Yy(n),n.consumerMarkedDirty?.(n)}function _h(n){n.dirty=!1,n.lastCleanEpoch=Qy}function ds(n){return n&&(n.nextProducerIndex=0),ve(n)}function Oa(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Pl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)bh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Sl(n){Ih(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Eh(t),r!==t.version))return!0}return!1}function wh(n){if(Ih(n),Pl(n))for(let e=0;e<n.producerNode.length;e++)bh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xD(n,e,t){if(AD(n),n.liveConsumerNode.length===0&&RD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=xD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function bh(n,e){if(AD(n),n.liveConsumerNode.length===1&&RD(n))for(let r=0;r<n.producerNode.length;r++)bh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ih(i),i.producerIndexOfThis[r]=e}}function Pl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ih(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function AD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function RD(n){return n.producerNode!==void 0}function Mh(n){WL?.(n)}function Dh(n,e){let t=Object.create(QL);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Eh(t),Sa(t),t.value===Tl)throw t.error;return t.value};return r[Yt]=t,Mh(t),r}var mh=Symbol("UNSET"),yh=Symbol("COMPUTING"),Tl=Symbol("ERRORED"),QL=ce(U({},us),{value:mh,dirty:!0,error:null,equal:vh,kind:"computed",producerMustRecompute(n){return n.value===mh||n.value===yh},producerRecomputeValue(n){if(n.value===yh)throw new Error("");let e=n.value;n.value=yh;let t=ds(n),r,i=!1;try{r=n.computation(),ve(null),i=e!==mh&&e!==Tl&&r!==Tl&&n.equal(e,r)}catch(o){r=Tl,n.error=o}finally{Oa(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function YL(){throw new Error}var ND=YL;function kD(n){ND(n)}function Xy(n){ND=n}var ZL=null;function Jy(n,e){let t=Object.create(Th);t.value=n,e!==void 0&&(t.equal=e);let r=()=>FD(t);return r[Yt]=t,Mh(t),[r,s=>xa(t,s),s=>e_(t,s)]}function FD(n){return Sa(n),n.value}function xa(n,e){Zy()||kD(n),n.equal(n.value,e)||(n.value=e,XL(n))}function e_(n,e){Zy()||kD(n),xa(n,e(n.value))}var Th=ce(U({},us),{equal:vh,value:void 0,kind:"signal"});function XL(n){n.version++,OD(),Yy(n),ZL?.(n)}function pe(n){return typeof n=="function"}function Aa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ph=Aa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function hs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(o){e=o instanceof Ph?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{LD(o)}catch(s){e=e??[],s instanceof Ph?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ph(e)}}add(e){var t;if(e&&e!==this)if(this.closed)LD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&hs(t,e)}remove(e){let{_finalizers:t}=this;t&&hs(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var t_=je.EMPTY;function Sh(n){return n instanceof je||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function LD(n){pe(n)?n():n.unsubscribe()}var ir={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ra={setTimeout(n,e,...t){let{delegate:r}=Ra;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ra;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Oh(n){Ra.setTimeout(()=>{let{onUnhandledError:e}=ir;if(e)e(n);else throw n})}function Ol(){}var VD=n_("C",void 0,void 0);function jD(n){return n_("E",void 0,n)}function UD(n){return n_("N",n,void 0)}function n_(n,e,t){return{kind:n,value:e,error:t}}var fs=null;function Na(n){if(ir.useDeprecatedSynchronousErrorHandling){let e=!fs;if(e&&(fs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=fs;if(fs=null,t)throw r}}else n()}function BD(n){ir.useDeprecatedSynchronousErrorHandling&&fs&&(fs.errorThrown=!0,fs.error=n)}var ps=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sh(e)&&e.add(this)):this.destination=tV}static create(e,t,r){return new ka(e,t,r)}next(e){this.isStopped?i_(UD(e),this):this._next(e)}error(e){this.isStopped?i_(jD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?i_(VD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JL=Function.prototype.bind;function r_(n,e){return JL.call(n,e)}var o_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xh(r)}else xh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xh(t)}}},ka=class extends ps{constructor(e,t,r){super();let i;if(pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ir.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&r_(e.next,o),error:e.error&&r_(e.error,o),complete:e.complete&&r_(e.complete,o)}):i=e}this.destination=new o_(i)}};function xh(n){ir.useDeprecatedSynchronousErrorHandling?BD(n):Oh(n)}function eV(n){throw n}function i_(n,e){let{onStoppedNotification:t}=ir;t&&Ra.setTimeout(()=>t(n,e))}var tV={closed:!0,next:Ol,error:eV,complete:Ol};var Fa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xn(n){return n}function s_(...n){return a_(n)}function a_(n){return n.length===0?xn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ge=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=rV(t)?t:new ka(t,r,i);return Na(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=$D(r),new r((i,o)=>{let s=new ka({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Fa](){return this}pipe(...t){return a_(t)(this)}toPromise(t){return t=$D(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function $D(n){var e;return(e=n??ir.Promise)!==null&&e!==void 0?e:Promise}function nV(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}function rV(n){return n&&n instanceof ps||nV(n)&&Sh(n)}function c_(n){return pe(n?.lift)}function Se(n){return e=>{if(c_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(n,e,t,r,i){return new l_(n,e,t,r,i)}var l_=class extends ps{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function La(){return Se((n,e)=>{let t=null;n._refCount++;let r=De(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Va=class extends ge{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,c_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(De(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return La()(this)}};var zD=Aa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class n extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ah(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new zD}next(t){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?t_:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,hs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ge;return t.source=this,t}}return n.create=(e,t)=>new Ah(e,t),n})(),Ah=class extends ft{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:t_}};var rt=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var u_={now(){return(u_.delegate||Date).now()},delegate:void 0};var Rh=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}};var xl={setInterval(n,e,...t){let{delegate:r}=xl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ja=class extends Rh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return xl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&xl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,hs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ua=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ua.now=u_.now;var Ba=class extends Ua{constructor(e,t=Ua.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var d_=new Ba(ja);var Nh=class extends ja{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var kh=class extends Ba{};var h_=new kh(Nh);var vn=new ge(n=>n.complete());function HD(n){return n&&pe(n.schedule)}function qD(n){return n[n.length-1]}function Fh(n){return pe(qD(n))?n.pop():void 0}function fo(n){return HD(qD(n))?n.pop():void 0}function f_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function WD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function GD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gs(n){return this instanceof gs?(this.v=n,this):new gs(n)}function KD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,f)}}function a(m,w){r[m]&&(i[m]=function(S){return new Promise(function(A,V){o.push([m,S,A,V])>1||c(m,S)})},w&&(i[m]=w(i[m])))}function c(m,w){try{u(r[m](w))}catch(S){g(o[0][3],S)}}function u(m){m.value instanceof gs?Promise.resolve(m.value.v).then(d,f):g(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function g(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function QD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof GD=="function"?GD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Lh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Vh(n){return pe(n?.then)}function jh(n){return pe(n[Fa])}function Uh(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function Bh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $h=iV();function zh(n){return pe(n?.[$h])}function Hh(n){return KD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield gs(t.read());if(i)return yield gs(void 0);yield yield gs(r)}}finally{t.releaseLock()}})}function qh(n){return pe(n?.getReader)}function mt(n){if(n instanceof ge)return n;if(n!=null){if(jh(n))return oV(n);if(Lh(n))return sV(n);if(Vh(n))return aV(n);if(Uh(n))return YD(n);if(zh(n))return cV(n);if(qh(n))return lV(n)}throw Bh(n)}function oV(n){return new ge(e=>{let t=n[Fa]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sV(n){return new ge(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function aV(n){return new ge(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Oh)})}function cV(n){return new ge(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function YD(n){return new ge(e=>{uV(n,e).catch(t=>e.error(t))})}function lV(n){return YD(Hh(n))}function uV(n,e){var t,r,i,o;return WD(this,void 0,void 0,function*(){try{for(t=QD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Cn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function po(n,e=0){return Se((t,r)=>{t.subscribe(De(r,i=>Cn(r,n,()=>r.next(i),e),()=>Cn(r,n,()=>r.complete(),e),i=>Cn(r,n,()=>r.error(i),e)))})}function go(n,e=0){return Se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ZD(n,e){return mt(n).pipe(go(e),po(e))}function XD(n,e){return mt(n).pipe(go(e),po(e))}function JD(n,e){return new ge(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function eT(n,e){return new ge(t=>{let r;return Cn(t,e,()=>{r=n[$h](),Cn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function Gh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ge(t=>{Cn(t,e,()=>{let r=n[Symbol.asyncIterator]();Cn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function tT(n,e){return Gh(Hh(n),e)}function nT(n,e){if(n!=null){if(jh(n))return ZD(n,e);if(Lh(n))return JD(n,e);if(Vh(n))return XD(n,e);if(Uh(n))return Gh(n,e);if(zh(n))return eT(n,e);if(qh(n))return tT(n,e)}throw Bh(n)}function it(n,e){return e?nT(n,e):mt(n)}function le(...n){let e=fo(n);return it(n,e)}function $a(n,e){let t=pe(n)?n:()=>n,r=i=>i.error(t());return new ge(e?i=>e.schedule(r,0,i):r)}function p_(n){return!!n&&(n instanceof ge||pe(n.lift)&&pe(n.subscribe))}var yi=Aa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function be(n,e){return Se((t,r)=>{let i=0;t.subscribe(De(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:dV}=Array;function hV(n,e){return dV(e)?n(...e):n(e)}function Wh(n){return be(e=>hV(n,e))}var{isArray:fV}=Array,{getPrototypeOf:pV,prototype:gV,keys:mV}=Object;function Kh(n){if(n.length===1){let e=n[0];if(fV(e))return{args:e,keys:null};if(yV(e)){let t=mV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function yV(n){return n&&typeof n=="object"&&pV(n)===gV}function Qh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Yh(...n){let e=fo(n),t=Fh(n),{args:r,keys:i}=Kh(n);if(r.length===0)return it([],e);let o=new ge(_V(r,e,i?s=>Qh(i,s):xn));return t?o.pipe(Wh(t)):o}function _V(n,e,t=xn){return r=>{rT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)rT(e,()=>{let u=it(n[c],e),d=!1;u.subscribe(De(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rT(n,e,t){n?Cn(t,n,e):e()}function iT(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},m=S=>u<r?w(S):c.push(S),w=S=>{o&&e.next(S),u++;let A=!1;mt(t(S,d++)).subscribe(De(e,V=>{i?.(V),o?m(V):e.next(V)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<r;){let V=c.shift();s?Cn(e,s,()=>w(V)):w(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(De(e,m,()=>{f=!0,g()})),()=>{a?.()}}function yt(n,e,t=1/0){return pe(e)?yt((r,i)=>be((o,s)=>e(r,o,i,s))(mt(n(r,i))),t):(typeof e=="number"&&(t=e),Se((r,i)=>iT(r,i,n,t)))}function za(n=1/0){return yt(xn,n)}function oT(){return za(1)}function Ha(...n){return oT()(it(n,fo(n)))}function Al(n){return new ge(e=>{mt(n()).subscribe(e)})}function g_(...n){let e=Fh(n),{args:t,keys:r}=Kh(n),i=new ge(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;mt(t[d]).subscribe(De(o,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?Qh(r,a):a),o.complete())}))}});return e?i.pipe(Wh(e)):i}function Lt(n,e){return Se((t,r)=>{let i=0;t.subscribe(De(r,o=>n.call(e,o,i++)&&r.next(o)))})}function _i(n){return Se((e,t)=>{let r=null,i=!1,o;r=e.subscribe(De(t,void 0,void 0,s=>{o=mt(n(s,_i(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function sT(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(De(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ms(n,e){return pe(e)?yt(n,e,1):yt(n,1)}function mo(n){return Se((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function An(n){return n<=0?()=>vn:Se((e,t)=>{let r=0;e.subscribe(De(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zh(n=vV){return Se((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vV(){return new yi}function Rl(n){return Se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function vi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):xn,An(1),t?mo(e):Zh(()=>new yi))}function qa(n){return n<=0?()=>vn:Se((e,t)=>{let r=[];e.subscribe(De(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function m_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Lt((i,o)=>n(i,o,r)):xn,qa(1),t?mo(e):Zh(()=>new yi))}function y_(n,e){return Se(sT(n,e,arguments.length>=2,!0))}function __(...n){let e=fo(n);return Se((t,r)=>{(e?Ha(n,t,e):Ha(n,t)).subscribe(r)})}function $n(n,e){return Se((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(De(r,c=>{i?.unsubscribe();let u=0,d=o++;mt(n(c,d)).subscribe(i=De(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xh(n){return Se((e,t)=>{mt(n).subscribe(De(t,()=>t.complete(),Ol)),!t.closed&&e.subscribe(t)})}function Ot(n,e,t){let r=pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):xn}function aT(n){let e=ve(null);try{return n()}finally{ve(e)}}var rf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(Vl(e,t)),this.code=e}};function CV(n){return`NG0${Math.abs(n)}`}function Vl(n,e){return`${CV(n)}${e?": "+e:""}`}var bi=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("")}function uT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ei(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ei).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function of(n,e){return n?e?`${n} ${e}`:n:e||""}var EV=Fe({__forward_ref__:Fe});function En(n){return n.__forward_ref__=En,n.toString=function(){return Ei(this())},n}function Vt(n){return x_(n)?n():n}function x_(n){return typeof n=="function"&&n.hasOwnProperty(EV)&&n.__forward_ref__===En}function dT(n,e){n==null&&A_(e,n,null,"!=")}function A_(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function sr(n){return{providers:n.providers||[],imports:n.imports||[]}}function jl(n){return wV(n,sf)}function R_(n){return jl(n)!==null}function wV(n,e){return n.hasOwnProperty(e)&&n[e]||null}function bV(n){let e=n?.[sf]??null;return e||null}function C_(n){return n&&n.hasOwnProperty(ef)?n[ef]:null}var sf=Fe({\u0275prov:Fe}),ef=Fe({\u0275inj:Fe}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function N_(n){return n&&!!n.\u0275providers}var k_=Fe({\u0275cmp:Fe}),F_=Fe({\u0275dir:Fe}),L_=Fe({\u0275pipe:Fe}),V_=Fe({\u0275mod:Fe}),Fl=Fe({\u0275fac:Fe}),Es=Fe({__NG_ELEMENT_ID__:Fe}),cT=Fe({__NG_ENV_ID__:Fe});function ws(n){return typeof n=="string"?n:n==null?"":String(n)}function tf(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ws(n)}var j_=Fe({ngErrorCode:Fe}),hT=Fe({ngErrorMessage:Fe}),kl=Fe({ngTokenPath:Fe});function U_(n,e){return fT("",-200,e)}function af(n,e){throw new L(-201,!1)}function IV(n,e){n[kl]??=[];let t=n[kl],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(dT(e.provide,"Token with multi: true should have a provide property"),r=tf(e.provide)):r=tf(e),t[0]!==r&&n[kl].unshift(r)}function MV(n,e){let t=n[kl],r=n[j_],i=n[hT]||n.message;return n.message=TV(i,r,t,e),n}function fT(n,e,t){let r=new L(e,n);return r[j_]=e,r[hT]=n,t&&(r[kl]=t),r}function DV(n){return n[j_]}function TV(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Vl(e,`${n}${o}${i}`)}var E_;function pT(){return E_}function an(n){let e=E_;return E_=n,e}function B_(n,e,t){let r=jl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;af(n,"Injector")}var PV={},ys=PV,w_="__NG_DI_FLAG__",b_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=_s(t)||0;try{return this.injector.get(e,r&8?null:ys,r)}catch(i){if(Pa(i))return i;throw i}}};function SV(n,e=0){let t=ph();if(t===void 0)throw new L(-203,!1);if(t===null)return B_(n,void 0,e);{let r=OV(e),i=t.retrieve(n,r);if(Pa(i)){if(r.optional)return null;throw i}return i}}function X(n,e=0){return(pT()||SV)(Vt(n),e)}function F(n,e){return X(n,_s(e))}function _s(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function OV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function I_(n){let e=[];for(let t=0;t<n.length;t++){let r=Vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=xV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function $_(n,e){return n[w_]=e,n.prototype[w_]=e,n}function xV(n){return n[w_]}function yo(n,e){let t=n.hasOwnProperty(Fl);return t?n[Fl]:null}function gT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function mT(n){return n.flat(Number.POSITIVE_INFINITY)}function cf(n,e){n.forEach(t=>Array.isArray(t)?cf(t,e):e(t))}function z_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ul(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function yT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function lf(n,e,t){let r=Wa(n,e);return r>=0?n[r|1]=t:(r=~r,yT(n,r,e,t)),r}function uf(n,e){let t=Wa(n,e);if(t>=0)return n[t|1]}function Wa(n,e){return AV(n,e,1)}function AV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var vo={},cn=[],Ii=new K(""),H_=new K("",-1),q_=new K(""),Ll=class{get(e,t=ys){if(t===ys){let i=fT("",-201);throw i.name="\u0275NotFound",i}return t}};function G_(n){return n[V_]||null}function Co(n){return n[k_]||null}function W_(n){return n[F_]||null}function _T(n){return n[L_]||null}function ln(n){return{\u0275providers:n}}function vT(n){return ln([{provide:Ii,multi:!0,useValue:n}])}function CT(...n){return{\u0275providers:K_(!0,n),\u0275fromNgModule:!0}}function K_(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return cf(e,s=>{let a=s;nf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ET(i,o),t}function ET(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Q_(i,o=>{e(o,r)})}}function nf(n,e,t,r){if(n=Vt(n),!n)return!1;let i=null,o=C_(n),s=!o&&Co(n);if(!o&&!s){let c=n.ngModule;if(o=C_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)nf(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{cf(o.imports,d=>{nf(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&ET(u,e)}if(!a){let u=yo(i)||(()=>new i);e({provide:i,useFactory:u,deps:cn},i),e({provide:q_,useValue:i,multi:!0},i),e({provide:Ii,useValue:()=>X(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;Q_(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Q_(n,e){for(let t of n)N_(t)&&(t=t.\u0275providers),Array.isArray(t)?Q_(t,e):e(t)}var RV=Fe({provide:String,useValue:Fe});function wT(n){return n!==null&&typeof n=="object"&&RV in n}function NV(n){return!!(n&&n.useExisting)}function kV(n){return!!(n&&n.useFactory)}function vs(n){return typeof n=="function"}function bT(n){return!!n.useClass}var Bl=new K(""),Jh={},lT={},v_;function $l(){return v_===void 0&&(v_=new Ll),v_}var _t=class{},Cs=class extends _t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,D_(e,s=>this.processProvider(s)),this.records.set(H_,Ga(void 0,this)),i.has("environment")&&this.records.set(_t,Ga(void 0,this));let o=this.records.get(Bl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(q_,cn,{self:!0}))}retrieve(e,t){let r=_s(t)||0;try{return this.get(e,ys,r)}catch(i){if(Pa(i))return i;throw i}}destroy(){Nl(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return Nl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Nl(this);let t=xr(this),r=an(void 0),i;try{return e()}finally{xr(t),an(r)}}get(e,t=ys,r){if(Nl(this),e.hasOwnProperty(cT))return e[cT](this);let i=_s(r),o,s=xr(this),a=an(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=UV(e)&&jl(e);d&&this.injectableDefInScope(d)?u=Ga(M_(e),Jh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?$l():this.parent;return t=i&8&&t===ys?null:t,c.get(e,t)}catch(c){let u=DV(c);throw u===-200||u===-201?new L(u,null):c}finally{an(a),xr(s)}}resolveInjectorInitializers(){let e=ve(null),t=xr(this),r=an(void 0),i;try{let o=this.get(Ii,cn,{self:!0});for(let s of o)s()}finally{xr(t),an(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ei(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Vt(e);let t=vs(e)?e:Vt(e&&e.provide),r=LV(e);if(!vs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ga(void 0,Jh,!0),i.factory=()=>I_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ve(null);try{if(t.value===lT)throw U_(Ei(e));return t.value===Jh&&(t.value=lT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&jV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function M_(n){let e=jl(n),t=e!==null?e.factory:yo(n);if(t!==null)return t;if(n instanceof K)throw new L(204,!1);if(n instanceof Function)return FV(n);throw new L(204,!1)}function FV(n){if(n.length>0)throw new L(204,!1);let t=bV(n);return t!==null?()=>t.factory(n):()=>new n}function LV(n){if(wT(n))return Ga(void 0,n.useValue);{let e=Y_(n);return Ga(e,Jh)}}function Y_(n,e,t){let r;if(vs(n)){let i=Vt(n);return yo(i)||M_(i)}else if(wT(n))r=()=>Vt(n.useValue);else if(kV(n))r=()=>n.useFactory(...I_(n.deps||[]));else if(NV(n))r=(i,o)=>X(Vt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Vt(n&&(n.useClass||n.provide));if(VV(n))r=()=>new i(...I_(n.deps));else return yo(i)||M_(i)}return r}function Nl(n){if(n.destroyed)throw new L(205,!1)}function Ga(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VV(n){return!!n.deps}function jV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function UV(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function D_(n,e){for(let t of n)Array.isArray(t)?D_(t,e):t&&N_(t)?D_(t.\u0275providers,e):e(t)}function Pt(n,e){let t;n instanceof Cs?(Nl(n),t=n):t=new b_(n);let r,i=xr(t),o=an(void 0);try{return e()}finally{xr(i),an(o)}}function IT(){return pT()!==void 0||ph()!=null}var ar=0,ue=1,de=2,xt=3,zn=4,Hn=5,zl=6,Ka=7,Zt=8,bs=9,Ar=10,ot=11,Qa=12,Z_=13,Is=14,qn=15,Eo=16,Ms=17,Rr=18,Hl=19,X_=20,Ci=21,df=22,ql=23,Rn=24,Ds=25,jt=26,MT=1;var wo=7,Gl=8,Ts=9,un=10;function Nr(n){return Array.isArray(n)&&typeof n[MT]=="object"}function cr(n){return Array.isArray(n)&&n[MT]===!0}function J_(n){return(n.flags&4)!==0}function bo(n){return n.componentOffset>-1}function Wl(n){return(n.flags&1)===1}function kr(n){return!!n.template}function Ya(n){return(n[de]&512)!==0}function Ps(n){return(n[de]&256)===256}var DT="svg",TT="math";function Gn(n){for(;Array.isArray(n);)n=n[ar];return n}function ev(n,e){return Gn(e[n])}function lr(n,e){return Gn(e[n.index])}function hf(n,e){return n.data[e]}function ff(n,e){return n[e]}function tv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Wn(n,e){let t=e[n];return Nr(t)?t:t[ar]}function PT(n){return(n[de]&4)===4}function pf(n){return(n[de]&128)===128}function ST(n){return cr(n[xt])}function Kl(n,e){return e==null?null:n[e]}function nv(n){n[Ms]=0}function rv(n){n[de]&1024||(n[de]|=1024,pf(n)&&Za(n))}function OT(n,e){for(;n>0;)e=e[Is],n--;return e}function Ql(n){return!!(n[de]&9216||n[Rn]?.dirty)}function gf(n){n[Ar].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),Ql(n)&&Za(n)}function Za(n){n[Ar].changeDetectionScheduler?.notify(0);let e=_o(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!pf(e)));)e=_o(e)}function iv(n,e){if(Ps(n))throw new L(911,!1);n[Ci]===null&&(n[Ci]=[]),n[Ci].push(e)}function xT(n,e){if(n[Ci]===null)return;let t=n[Ci].indexOf(e);t!==-1&&n[Ci].splice(t,1)}function _o(n){let e=n[xt];return cr(e)?e[xt]:e}function ov(n){return n[Ka]??=[]}function sv(n){return n.cleanup??=[]}function AT(n,e,t,r){let i=ov(e);i.push(t),n.firstCreatePass&&sv(n).push(r,i.length-1)}var Ce={lFrame:QT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Yl=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Yl||{}),BV=0,T_=!1;function RT(){return Ce.lFrame.elementDepthCount}function NT(){Ce.lFrame.elementDepthCount++}function kT(){Ce.lFrame.elementDepthCount--}function av(){return Ce.bindingsEnabled}function FT(){return Ce.skipHydrationRootTNode!==null}function LT(n){return Ce.skipHydrationRootTNode===n}function VT(){Ce.skipHydrationRootTNode=null}function Te(){return Ce.lFrame.lView}function Ut(){return Ce.lFrame.tView}function ne(n){return Ce.lFrame.contextLView=n,n[Zt]}function re(n){return Ce.lFrame.contextLView=null,n}function Bt(){let n=cv();for(;n!==null&&n.type===64;)n=n.parent;return n}function cv(){return Ce.lFrame.currentTNode}function jT(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Xa(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function lv(){return Ce.lFrame.isParent}function UT(){Ce.lFrame.isParent=!1}function BT(){return Ce.lFrame.contextLView}function uv(n){A_("Must never be called in production mode"),BV=n}function dv(){return T_}function hv(n){let e=T_;return T_=n,e}function mf(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $T(){return Ce.lFrame.bindingIndex}function zT(n){return Ce.lFrame.bindingIndex=n}function Zl(){return Ce.lFrame.bindingIndex++}function yf(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function HT(){return Ce.lFrame.inI18n}function qT(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,_f(e)}function GT(){return Ce.lFrame.currentDirectiveIndex}function _f(n){Ce.lFrame.currentDirectiveIndex=n}function WT(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function fv(){return Ce.lFrame.currentQueryIndex}function vf(n){Ce.lFrame.currentQueryIndex=n}function $V(n){let e=n[ue];return e.type===2?e.declTNode:e.type===1?n[Hn]:null}function pv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=$V(o),i===null||(o=o[Is],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ce.lFrame=KT();return r.currentTNode=e,r.lView=n,!0}function Cf(n){let e=KT(),t=n[ue];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KT(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?QT(n):e}function QT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YT(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var gv=YT;function Ef(){let n=YT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ZT(n){return(Ce.lFrame.contextLView=OT(n,Ce.lFrame.contextLView))[Zt]}function Mi(){return Ce.lFrame.selectedIndex}function Io(n){Ce.lFrame.selectedIndex=n}function wf(){let n=Ce.lFrame;return hf(n.tView,n.selectedIndex)}function XT(){return Ce.lFrame.currentNamespace}var JT=!0;function bf(){return JT}function If(n){JT=n}function P_(n,e=null,t=null,r){let i=mv(n,e,t,r);return i.resolveInjectorInitializers(),i}function mv(n,e=null,t=null,r,i=new Set){let o=[t||cn,CT(n)];return r=r||(typeof n=="object"?void 0:Ei(n)),new Cs(o,e||$l(),r||null,i)}var ut=class n{static THROW_IF_NOT_FOUND=ys;static NULL=new Ll;static create(e,t){if(Array.isArray(e))return P_({name:""},t,e,"");{let r=e.name??"";return P_({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>X(H_)});static __NG_ELEMENT_ID__=-1},vt=new K(""),Kn=(()=>{class n{static __NG_ELEMENT_ID__=zV;static __NG_ENV_ID__=t=>t}return n})(),S_=class extends Kn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ps(this._lView)}onDestroy(e){let t=this._lView;return iv(t,e),()=>xT(t,e)}};function zV(){return new S_(Te())}var or=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Xt=new K("",{providedIn:"root",factory:()=>{let n=F(_t),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(or),e.handleError(t))}}}),eP={provide:Ii,useValue:()=>void F(or),multi:!0},HV=new K("",{providedIn:"root",factory:()=>{let n=F(vt).defaultView;if(!n)return;let e=F(Xt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),F(Kn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function yv(){return ln([vT(()=>void F(HV))])}function _v(n){return typeof n=="function"&&n[Yt]!==void 0}function Fr(n,e){let[t,r,i]=Jy(n,e?.equal),o=t,s=o[Yt];return o.set=r,o.update=i,o.asReadonly=tP.bind(o),o}function tP(){let n=this[Yt];if(n.readonlyFn===void 0){let e=()=>this();e[Yt]=n,n.readonlyFn=e}return n.readonlyFn}function vv(n){return _v(n)&&typeof n.set=="function"}var wi=class{},Xl=new K("",{providedIn:"root",factory:()=>!1});var Cv=new K(""),Ev=new K("");var Mf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=qV}return n})();function qV(){return new Mf(Te(),Bt())}var Lr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new rt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ge(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ja=(()=>{class n{internalPendingTasks=F(Lr);scheduler=F(wi);errorHandler=F(Xt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Jl(...n){}var wv=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new O_})}return n})(),O_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function oc(n){return{toString:n}.toString()}var Df="__parameters__";function JV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function AP(n,e,t){return oc(()=>{let r=JV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Df)?c[Df]:Object.defineProperty(c,Df,{value:[]})[Df];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ct=$_(AP("Optional"),8);var sC=$_(AP("SkipSelf"),4);function e2(n){return typeof n=="function"}var Rf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function RP(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var jr=(()=>{let n=()=>NP;return n.ngInherit=!0,n})();function NP(n){return n.type.prototype.ngOnChanges&&(n.setInput=n2),t2}function t2(){let n=FP(this),e=n?.current;if(e){let t=n.previous;if(t===vo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function n2(n,e,t,r,i){let o=this.declaredInputs[r],s=FP(n)||r2(n,{previous:vo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Rf(u&&u.currentValue,t,c===vo),RP(n,e,i,t)}var kP="__ngSimpleChanges__";function FP(n){return n[kP]||null}function r2(n,e){return n[kP]=e}var nP=[];var Ve=function(n,e=null,t){for(let r=0;r<nP.length;r++){let i=nP[r];i(n,e,t)}};function i2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=NP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function LP(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Sf(n,e,t){VP(n,e,3,t)}function Of(n,e,t,r){(n[de]&3)===t&&VP(n,e,t,r)}function bv(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function VP(n,e,t,r){let i=r!==void 0?n[Ms]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ms]+=65536),(a<o||o==-1)&&(o2(n,t,e,c),n[Ms]=(n[Ms]&4294901760)+c+2),c++}function rP(n,e){Ve(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Ve(5,n,e)}}function o2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[de]>>14<n[Ms]>>16&&(n[de]&3)===e&&(n[de]+=16384,rP(a,o)):rP(a,o)}var tc=-1,xs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function s2(n){return(n.flags&8)!==0}function a2(n){return(n.flags&16)!==0}function c2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];l2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function jP(n){return n===3||n===4||n===6}function l2(n){return n.charCodeAt(0)===64}function nu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?iP(n,t,i,null,e[++r]):iP(n,t,i,null,null))}}return n}function iP(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function UP(n){return n!==tc}function Nf(n){return n&32767}function u2(n){return n>>16}function kf(n,e){let t=u2(n),r=e;for(;t>0;)r=r[Is],t--;return r}var Nv=!0;function Ff(n){let e=Nv;return Nv=n,e}var d2=256,BP=d2-1,$P=5,h2=0,Vr={};function f2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Es)&&(r=t[Es]),r==null&&(r=t[Es]=h2++);let i=r&BP,o=1<<i;e.data[n+(i>>$P)]|=o}function Lf(n,e){let t=zP(n,e);if(t!==-1)return t;let r=e[ue];r.firstCreatePass&&(n.injectorIndex=e.length,Iv(r.data,n),Iv(e,null),Iv(r.blueprint,null));let i=aC(n,e),o=n.injectorIndex;if(UP(i)){let s=Nf(i),a=kf(i,e),c=a[ue].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Iv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function aC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=KP(i),r===null)return tc;if(t++,i=i[Is],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return tc}function kv(n,e,t){f2(n,e,t)}function p2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(jP(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function HP(n,e,t){if(t&8||n!==void 0)return n;af(e,"NodeInjector")}function qP(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[bs],o=an(void 0);try{return i?i.get(e,r,t&8):B_(e,r,t&8)}finally{an(o)}}return HP(r,e,t)}function GP(n,e,t,r=0,i){if(n!==null){if(e[de]&2048&&!(r&2)){let s=_2(n,e,t,r,Vr);if(s!==Vr)return s}let o=WP(n,e,t,r,Vr);if(o!==Vr)return o}return qP(e,t,r,i)}function WP(n,e,t,r,i){let o=m2(t);if(typeof o=="function"){if(!pv(e,n,r))return r&1?HP(i,t,r):qP(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))af(t);else return s}finally{gv()}}else if(typeof o=="number"){let s=null,a=zP(n,e),c=tc,u=r&1?e[qn][Hn]:null;for((a===-1||r&4)&&(c=a===-1?aC(n,e):e[a+8],c===tc||!sP(r,!1)?a=-1:(s=e[ue],a=Nf(c),e=kf(c,e)));a!==-1;){let d=e[ue];if(oP(o,a,d.data)){let f=g2(a,e,t,s,r,u);if(f!==Vr)return f}c=e[a+8],c!==tc&&sP(r,e[ue].data[a+8]===u)&&oP(o,a,e)?(s=d,a=Nf(c),e=kf(c,e)):a=-1}}return i}function g2(n,e,t,r,i,o){let s=e[ue],a=s.data[n+8],c=r==null?bo(a)&&Nv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=xf(a,s,t,c,u);return d!==null?ru(e,s,d,a,i):Vr}function xf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let m=f;m<g;m++){let w=s[m];if(m<c&&t===w||m>=c&&w.type===t)return m}if(i){let m=s[c];if(m&&kr(m)&&m.type===t)return c}return null}function ru(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof xs){let a=o;if(a.resolving){let m=tf(s[t]);throw U_(m)}let c=Ff(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?an(a.injectImpl):null,g=pv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&i2(t,s[t],e)}finally{f!==null&&an(f),Ff(c),a.resolving=!1,gv()}}return o}function m2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Es)?n[Es]:void 0;return typeof e=="number"?e>=0?e&BP:y2:e}function oP(n,e,t){let r=1<<n;return!!(t[e+(n>>$P)]&r)}function sP(n,e){return!(n&2)&&!(n&1&&e)}var Os=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GP(this._tNode,this._lView,e,_s(r),t)}};function y2(){return new Os(Bt(),Te())}function Qn(n){return oc(()=>{let e=n.prototype.constructor,t=e[Fl]||Fv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Fl]||Fv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fv(n){return x_(n)?()=>{let e=Fv(Vt(n));return e&&e()}:yo(n)}function _2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!Ya(s);){let a=WP(o,s,t,r|2,Vr);if(a!==Vr)return a;let c=o.parent;if(!c){let u=s[X_];if(u){let d=u.get(t,Vr,r);if(d!==Vr)return d}c=KP(s),s=s[Is]}o=c}return i}function KP(n){let e=n[ue],t=e.type;return t===2?e.declTNode:t===1?n[Hn]:null}function au(n){return p2(Bt(),n)}function v2(){return sc(Bt(),Te())}function sc(n,e){return new dn(lr(n,e))}var dn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=v2}return n})();function C2(n){return n instanceof dn?n.nativeElement:n}function E2(){return this._results[Symbol.iterator]()}var Vf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=mT(e);(this._changesDetected=!gT(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=E2};function QP(n){return(n.flags&128)===128}var cC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(cC||{}),YP=new Map,w2=0;function b2(){return w2++}function I2(n){YP.set(n[Hl],n)}function Lv(n){YP.delete(n[Hl])}var aP="__ngContext__";function nc(n,e){Nr(e)?(n[aP]=e[Hl],I2(e)):n[aP]=e}function ZP(n){return JP(n[Qa])}function XP(n){return JP(n[zn])}function JP(n){for(;n!==null&&!cr(n);)n=n[zn];return n}var Vv;function lC(n){Vv=n}function eS(){if(Vv!==void 0)return Vv;if(typeof document<"u")return document;throw new L(210,!1)}var Yf=new K("",{providedIn:"root",factory:()=>M2}),M2="ng",Zf=new K(""),To=new K("",{providedIn:"platform",factory:()=>"unknown"});var Xf=new K(""),Jf=new K("",{providedIn:"root",factory:()=>eS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var D2="h",T2="b";var tS=!1,nS=new K("",{providedIn:"root",factory:()=>tS});var P2=(n,e,t,r)=>{};function S2(n,e,t,r){P2(n,e,t,r)}function uC(n){return(n.flags&32)===32}var O2=()=>null;function rS(n,e,t=!1){return O2(n,e,t)}function iS(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];vf(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function jv(n,e,t){vf(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function oS(n,e,t){if(J_(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(r)}}}var Di=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Di||{});var Tf;function x2(){if(Tf===void 0&&(Tf=null,bi.trustedTypes))try{Tf=bi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tf}function cP(n){return x2()?.createScriptURL(n)||n}var jf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rf})`}};function cu(n){return n instanceof jf?n.changingThisBreaksApplicationSecurity:n}function dC(n,e){let t=sS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rf})`)}return t===e}function sS(n){return n instanceof jf&&n.getTypeName()||null}var A2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aS(n){return n=String(n),n.match(A2)?n:"unsafe:"+n}var ep=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ep||{});function cS(n){let e=uS();return e?e.sanitize(ep.URL,n)||"":dC(n,"URL")?cu(n):aS(ws(n))}function lS(n){let e=uS();if(e)return cP(e.sanitize(ep.RESOURCE_URL,n)||"");if(dC(n,"ResourceURL"))return cP(cu(n));throw new L(904,!1)}function R2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?lS:cS}function hC(n,e,t){return R2(e,t)(n)}function uS(){let n=Te();return n&&n[Ar].sanitizer}function dS(n){return n instanceof Function?n():n}function N2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var hS="ng-template";function k2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&N2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(fC(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function fC(n){return n.type===4&&n.value!==hS}function F2(n,e,t){let r=n.type===4&&!t?hS:n.value;return e===r}function L2(n,e,t){let r=4,i=n.attrs,o=i!==null?U2(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ur(r)&&!ur(c))return!1;if(s&&ur(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!F2(n,c,t)||c===""&&e.length===1){if(ur(r))return!1;s=!0}}else if(r&8){if(i===null||!k2(n,i,c,t)){if(ur(r))return!1;s=!0}}else{let u=e[++a],d=V2(c,i,fC(n),t);if(d===-1){if(ur(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(ur(r))return!1;s=!0}}}}return ur(r)||s}function ur(n){return(n&1)===0}function V2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return B2(e,n)}function j2(n,e,t=!1){for(let r=0;r<e.length;r++)if(L2(n,e[r],t))return!0;return!1}function U2(n){for(let e=0;e<n.length;e++){let t=n[e];if(jP(t))return e}return n.length}function B2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function lP(n,e){return n?":not("+e.trim()+")":e}function $2(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ur(s)&&(e+=lP(o,i),i=""),r=s,o=o||!ur(r);t++}return i!==""&&(e+=lP(o,i)),e}function z2(n){return n.map($2).join(",")}function H2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ur(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Nn={};function q2(n,e){return n.createText(e)}function G2(n,e,t){n.setValue(e,t)}function fS(n,e,t){return n.createElement(e,t)}function Uf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pS(n,e,t){n.appendChild(e,t)}function uP(n,e,t,r,i){r!==null?Uf(n,e,t,r,i):pS(n,e,t)}function W2(n,e,t){n.removeChild(null,e,t)}function K2(n,e,t){n.setAttribute(e,"style",t)}function Q2(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&c2(n,e,r),i!==null&&Q2(n,e,i),o!==null&&K2(n,e,o)}function pC(n,e,t,r,i,o,s,a,c,u,d){let f=jt+r,g=f+i,m=Y2(f,g),w=typeof u=="function"?u():u;return m[ue]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:d}}function Y2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Nn);return t}function Z2(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=pC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gC(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[ar]=i,f[de]=r|4|128|8|64|1024,(u!==null||n&&n[de]&2048)&&(f[de]|=2048),nv(f),f[xt]=f[Is]=n,f[Zt]=t,f[Ar]=s||n&&n[Ar],f[ot]=a||n&&n[ot],f[bs]=c||n&&n[bs]||null,f[Hn]=o,f[Hl]=b2(),f[zl]=d,f[X_]=u,f[qn]=e.type==2?n[qn]:f,f}function X2(n,e,t){let r=lr(e,n),i=Z2(t),o=n[Ar].rendererFactory,s=mC(n,gC(n,i,null,mS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function mS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function yS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function mC(n,e){return n[Qa]?n[Z_][zn]=e:n[Qa]=e,n[Z_]=e,e}function N(n=1){_S(Ut(),Te(),Mi()+n,!1)}function _S(n,e,t,r){if(!r)if((e[de]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Sf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Of(e,o,0,t)}Io(t)}var tp=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(tp||{});function Uv(n,e,t,r){let i=ve(null);try{let[o,s,a]=n.inputs[t],c=null;(s&tp.SignalBased)!==0&&(c=e[o][Yt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):RP(e,c,o,r)}finally{ve(i)}}var hr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(hr||{}),J2;function yC(n,e){return J2(n,e)}function ec(n,e,t,r,i){if(r!=null){let o,s=!1;cr(r)?o=r:Nr(r)&&(s=!0,r=r[ar]);let a=Gn(r);n===0&&t!==null?i==null?pS(e,t,a):Uf(e,t,a,i||null,!0):n===1&&t!==null?Uf(e,t,a,i||null,!0):n===2?W2(e,a,s):n===3&&e.destroyNode(a),o!=null&&dj(e,n,o,t,i)}}function ej(n,e){vS(n,e),e[ar]=null,e[Hn]=null}function tj(n,e,t,r,i,o){r[ar]=i,r[Hn]=e,np(n,r,t,1,i,o)}function vS(n,e){e[Ar].changeDetectionScheduler?.notify(9),np(n,e,e[ot],2,null,null)}function nj(n){let e=n[Qa];if(!e)return Mv(n[ue],n);for(;e;){let t=null;if(Nr(e))t=e[Qa];else{let r=e[un];r&&(t=r)}if(!t){for(;e&&!e[zn]&&e!==n;)Nr(e)&&Mv(e[ue],e),e=e[xt];e===null&&(e=n),Nr(e)&&Mv(e[ue],e),t=e&&e[zn]}e=t}}function _C(n,e){let t=n[Ts],r=t.indexOf(e);t.splice(r,1)}function CS(n,e){if(Ps(e))return;let t=e[ot];t.destroyNode&&np(n,e,t,3,null,null),nj(e)}function Mv(n,e){if(Ps(e))return;let t=ve(null);try{e[de]&=-129,e[de]|=256,e[Rn]&&wh(e[Rn]),ij(n,e),rj(n,e),e[ue].type===1&&e[ot].destroy();let r=e[Eo];if(r!==null&&cr(e[xt])){r!==e[xt]&&_C(r,e);let i=e[Rr];i!==null&&i.detachView(n)}Lv(e)}finally{ve(t)}}function rj(n,e){let t=n.cleanup,r=e[Ka];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ka]=null);let i=e[Ci];if(i!==null){e[Ci]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ql];if(o!==null){e[ql]=null;for(let s of o)s.destroy()}}function ij(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof xs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ve(4,a,c);try{c.call(a)}finally{Ve(5,a,c)}}else{Ve(4,i,o);try{o.call(i)}finally{Ve(5,i,o)}}}}}function oj(n,e,t){return sj(n,e.parent,t)}function sj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ar];if(bo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Di.None||i===Di.Emulated)return null}return lr(r,t)}function aj(n,e,t){return lj(n,e,t)}function cj(n,e,t){return n.type&40?lr(n,t):null}var lj=cj,dP;function vC(n,e,t,r){let i=oj(n,r,e),o=e[ot],s=r.parent||e[Hn],a=aj(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)uP(o,i,t[c],a,!1);else uP(o,i,t,a,!1);dP!==void 0&&dP(o,r,e,t,i)}function eu(n,e){if(e!==null){let t=e.type;if(t&3)return lr(e,n);if(t&4)return Bv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return eu(n,r);{let i=n[e.index];return cr(i)?Bv(-1,i):Gn(i)}}else{if(t&128)return eu(n,e.next);if(t&32)return yC(e,n)()||Gn(n[e.index]);{let r=ES(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_o(n[qn]);return eu(i,r)}else return eu(n,e.next)}}}return null}function ES(n,e){if(e!==null){let r=n[qn][Hn],i=e.projection;return r.projection[i]}return null}function Bv(n,e){let t=un+n+1;if(t<e.length){let r=e[t],i=r[ue].firstChild;if(i!==null)return eu(r,i)}return e[wo]}function CC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&nc(Gn(a),r),t.flags|=2),!uC(t))if(c&8)CC(n,e,t.child,r,i,o,!1),ec(e,n,i,a,o);else if(c&32){let u=yC(t,r),d;for(;d=u();)ec(e,n,i,d,o);ec(e,n,i,a,o)}else c&16?uj(n,e,r,t,i,o):ec(e,n,i,a,o);t=s?t.projectionNext:t.next}}function np(n,e,t,r,i,o){CC(t,r,n.firstChild,e,i,o,!1)}function uj(n,e,t,r,i,o){let s=t[qn],c=s[Hn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];ec(e,n,i,d,o)}else{let u=c,d=s[xt];QP(r)&&(u.flags|=128),CC(n,e,u,d,i,o,!0)}}function dj(n,e,t,r,i){let o=t[wo],s=Gn(t);o!==s&&ec(e,n,r,o,i);for(let a=un;a<t.length;a++){let c=t[a];np(c[ue],c,n,e,r,o)}}function hj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:hr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hr.Important),n.setStyle(t,r,i,o))}}function wS(n,e,t,r,i){let o=Mi(),s=r&2;try{Io(-1),s&&e.length>jt&&_S(n,e,jt,!1),Ve(s?2:0,i,t),t(r,i)}finally{Io(o),Ve(s?3:1,i,t)}}function EC(n,e,t){vj(n,e,t),(t.flags&64)===64&&Cj(n,e,t)}function bS(n,e,t=lr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function fj(n,e,t,r){let o=r.get(nS,tS)||t===Di.ShadowDom,s=n.selectRootElement(e,o);return pj(s),s}function pj(n){gj(n)}var gj=()=>null;function mj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function IS(n,e,t,r,i,o){let s=e[ue];if(wC(n,s,e,t,r)){bo(n)&&_j(e,n.index);return}n.type&3&&(t=mj(t)),yj(n,e,t,r,i,o)}function yj(n,e,t,r,i,o){if(n.type&3){let s=lr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function _j(n,e){let t=Wn(e,n);t[de]&16||(t[de]|=64)}function vj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;bo(t)&&X2(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Lf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=ru(e,n,s,t);if(nc(c,e),o!==null&&Ij(e,s-r,c,a,t,o),kr(a)){let u=Wn(t.index,e);u[Zt]=ru(e,n,s,t)}}}function Cj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=GT();try{Io(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];_f(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ej(c,u)}}finally{Io(-1),_f(s)}}function Ej(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function MS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];j2(e,o.selectors,!1)&&(r??=[],kr(o)?r.unshift(o):r.push(o))}return r}function wj(n,e,t,r,i,o){let s=lr(n,e);bj(e[ot],s,o,n.value,t,r,i)}function bj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ws(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Ij(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Uv(r,t,c,u)}}function Mj(n,e,t,r,i){let o=jt+t,s=e[ue],a=i(s,e,n,r,t);e[o]=a,Xa(n,!0);let c=n.type===2;return c?(gS(e[ot],a,n),(RT()===0||Wl(n))&&nc(a,e),NT()):nc(a,e),bf()&&(!c||!uC(n))&&vC(s,e,a,n),n}function Dj(n){let e=n;return lv()?UT():(e=e.parent,Xa(e,!1)),e}function Tj(n,e){let t=n[bs];if(!t)return;t.get(Xt,null)?.(e)}function wC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];Uv(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Uv(d,u,r,i),a=!0}return a}function Pj(n,e){let t=Wn(e,n),r=t[ue];Sj(r,t);let i=t[ar];i!==null&&t[zl]===null&&(t[zl]=rS(i,t[bs])),Ve(18),bC(r,t,t[Zt]),Ve(19,t[Zt])}function Sj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function bC(n,e,t){Cf(e);try{let r=n.viewQuery;r!==null&&jv(1,r,t);let i=n.template;i!==null&&wS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Rr]?.finishViewCreation(n),n.staticContentQueries&&iS(n,e),n.staticViewQueries&&jv(2,n.viewQuery,t);let o=n.components;o!==null&&Oj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,Ef()}}function Oj(n,e){for(let t=0;t<e.length;t++)Pj(n,e[t])}function xj(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[de]&4096?4096:16,c=gC(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Eo]=u;let d=n[Rr];return d!==null&&(c[Rr]=d.createEmbeddedView(o)),bC(o,c,t),c}finally{ve(i)}}function hP(n,e){return!e||e.firstChild===null||QP(n)}var fP=!1,Aj=new K("");function iu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Gn(o)),cr(o)&&DS(o,r);let s=t.type;if(s&8)iu(n,e,t.child,r);else if(s&32){let a=yC(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ES(e,t);if(Array.isArray(a))r.push(...a);else{let c=_o(e[qn]);iu(c[ue],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function DS(n,e){for(let t=un;t<n.length;t++){let r=n[t],i=r[ue].firstChild;i!==null&&iu(r[ue],r,i,e)}n[wo]!==n[ar]&&e.push(n[wo])}function TS(n){if(n[Ds]!==null){for(let e of n[Ds])e.impl.addSequence(e);n[Ds].length=0}}var PS=[];function Rj(n){return n[Rn]??Nj(n)}function Nj(n){let e=PS.pop()??Object.create(Fj);return e.lView=n,e}function kj(n){n.lView[Rn]!==n&&(n.lView=null,PS.push(n))}var Fj=ce(U({},us),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Za(n.lView)},consumerOnSignalRead(){this.lView[Rn]=this}});function Lj(n){let e=n[Rn]??Object.create(Vj);return e.lView=n,e}var Vj=ce(U({},us),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=_o(n.lView);for(;e&&!SS(e[ue]);)e=_o(e);e&&rv(e)},consumerOnSignalRead(){this.lView[Rn]=this}});function SS(n){return n.type!==2}function OS(n){if(n[ql]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ql])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[de]&8192)}}var jj=100;function IC(n,e=0){let r=n[Ar].rendererFactory,i=!1;i||r.begin?.();try{Uj(n,e)}finally{i||r.end?.()}}function Uj(n,e){let t=dv();try{hv(!0),$v(n,e);let r=0;for(;Ql(n);){if(r===jj)throw new L(103,!1);r++,$v(n,1)}}finally{hv(t)}}function xS(n,e){uv(e?Yl.Exhaustive:Yl.OnlyDirtyViews);try{IC(n)}finally{uv(Yl.Off)}}function Bj(n,e,t,r){if(Ps(e))return;let i=e[de],o=!1,s=!1;Cf(e);let a=!0,c=null,u=null;o||(SS(n)?(u=Rj(e),c=ds(u)):Ch()===null?(a=!1,u=Lj(e),c=ds(u)):e[Rn]&&(wh(e[Rn]),e[Rn]=null));try{nv(e),zT(n.bindingStartIndex),t!==null&&wS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Sf(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Of(e,m,0,null),bv(e,0)}if(s||$j(e),OS(e),AS(e,0),n.contentQueries!==null&&iS(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Sf(e,m)}else{let m=n.contentHooks;m!==null&&Of(e,m,1),bv(e,1)}Hj(n,e);let f=n.components;f!==null&&NS(e,f,0);let g=n.viewQuery;if(g!==null&&jv(2,g,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Sf(e,m)}else{let m=n.viewHooks;m!==null&&Of(e,m,2),bv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[df]){for(let m of e[df])m();e[df]=null}o||(TS(e),e[de]&=-73)}catch(d){throw o||Za(e),d}finally{u!==null&&(Oa(u,c),a&&kj(u)),Ef()}}function AS(n,e){for(let t=ZP(n);t!==null;t=XP(t))for(let r=un;r<t.length;r++){let i=t[r];RS(i,e)}}function $j(n){for(let e=ZP(n);e!==null;e=XP(e)){if(!(e[de]&2))continue;let t=e[Ts];for(let r=0;r<t.length;r++){let i=t[r];rv(i)}}}function zj(n,e,t){Ve(18);let r=Wn(e,n);RS(r,t),Ve(19,r[Zt])}function RS(n,e){pf(n)&&$v(n,e)}function $v(n,e){let r=n[ue],i=n[de],o=n[Rn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sl(o)),s||=!1,o&&(o.dirty=!1),n[de]&=-9217,s)Bj(r,n,r.template,n[Zt]);else if(i&8192){let a=ve(null);try{OS(n),AS(n,1);let c=r.components;c!==null&&NS(n,c,1),TS(n)}finally{ve(a)}}}function NS(n,e,t){for(let r=0;r<e.length;r++)zj(n,e[r],t)}function Hj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Io(~i);else{let o=i,s=t[++r],a=t[++r];qT(s,o);let c=e[o];Ve(24,c),a(2,c),Ve(25,c)}}}finally{Io(-1)}}function MC(n,e){let t=dv()?64:1088;for(n[Ar].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=_o(n);if(Ya(n)&&!r)return n;n=r}return null}function kS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qj(n,e,t,r=!0){let i=e[ue];if(Gj(i,e,n,t),r){let s=Bv(t,n),a=e[ot],c=a.parentNode(n[wo]);c!==null&&tj(i,n[Hn],a,e,c,s)}let o=e[zl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zv(n,e){if(n.length<=un)return;let t=un+e,r=n[t];if(r){let i=r[Eo];i!==null&&i!==n&&_C(i,r),e>0&&(n[t-1][zn]=r[zn]);let o=Ul(n,un+e);ej(r[ue],r);let s=o[Rr];s!==null&&s.detachView(o[ue]),r[xt]=null,r[zn]=null,r[de]&=-129}return r}function Gj(n,e,t,r){let i=un+r,o=t.length;r>0&&(t[i-1][zn]=e),r<o-un?(e[zn]=t[i],z_(t,un+r,e)):(t.push(e),e[zn]=null),e[xt]=t;let s=e[Eo];s!==null&&t!==s&&FS(s,e);let a=e[Rr];a!==null&&a.insertView(n),gf(e),e[de]|=128}function FS(n,e){let t=n[Ts],r=e[xt];if(Nr(r))n[de]|=2;else{let i=r[xt][qn];e[qn]!==i&&(n[de]|=2)}t===null?n[Ts]=[e]:t.push(e)}var Mo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ue];return iu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Zt]}set context(e){this._lView[Zt]=e}get destroyed(){return Ps(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(cr(e)){let t=e[Gl],r=t?t.indexOf(this):-1;r>-1&&(zv(e,r),Ul(t,r))}this._attachedToViewContainer=!1}CS(this._lView[ue],this._lView)}onDestroy(e){iv(this._lView,e)}markForCheck(){MC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){gf(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,IC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[bs].get(Aj,fP)}catch{this.exhaustive=fP}}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ya(this._lView),t=this._lView[Eo];t!==null&&!e&&_C(t,this._lView),vS(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Ya(this._lView),r=this._lView[Eo];r!==null&&!t&&FS(r,this._lView),gf(this._lView)}};var Do=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Wj;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=xj(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Mo(o)}}return n})();function Wj(){return rp(Bt(),Te())}function rp(n,e){return n.type&4?new Do(e,n,sc(n,e)):null}function DC(n,e,t,r,i){let o=n.data[e];if(o===null)o=Kj(n,e,t,r,i),HT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=jT();o.injectorIndex=s===null?-1:s.injectorIndex}return Xa(o,!0),o}function Kj(n,e,t,r,i){let o=cv(),s=lv(),a=s?o:o&&o.parent,c=n.data[e]=Yj(n,a,t,e,r,i);return Qj(n,c,o,s),c}function Qj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Yj(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return FT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var dte=new RegExp(`^(\\d+)*(${T2}|${D2})*(.*)`);var Zj=()=>null;function pP(n,e){return Zj(n,e)}var LS=class{},ip=class{},Hv=class{resolveComponentFactory(e){throw new L(917,!1)}},lu=class{static NULL=new Hv},Ti=class{},fr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Xj()}return n})();function Xj(){let n=Te(),e=Bt(),t=Wn(e.index,n);return(Nr(t)?t:n)[ot]}var VS=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Af={},qv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Af,r);return i!==Af||t===Af?i:this.parentInjector.get(e,t,r)}};function gP(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=of(i,a);else if(o==2){let c=a,u=e[++s];r=of(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function $(n,e=0){let t=Te();if(t===null)return X(n,e);let r=Bt();return GP(r,t,Vt(n),e)}function jS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}tU(n,e,t,a,o,c,u)}o!==null&&r!==null&&Jj(t,r,o)}function Jj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function eU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function tU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&kr(m)&&(c=!0,eU(n,t,g)),kv(Lf(t,e),n,m.type)}aU(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=yS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=nu(t.mergedAttrs,m.hostAttrs),rU(n,t,e,f,m),sU(f,m,i),s!==null&&s.has(m)){let[S,A]=s.get(m);t.directiveToIndex.set(m.type,[f,S+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let w=m.type.prototype;!u&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}nU(n,t,o)}function nU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))mP(0,e,i,r),mP(1,e,i,r),_P(e,r,!1);else{let o=t.get(i);yP(0,e,o,r),yP(1,e,o,r),_P(e,r,!0)}}}function mP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),US(e,o)}}function yP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),US(e,s)}}function US(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function _P(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||fC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function rU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=yo(i.type,!0)),s=new xs(o,kr(i),$,null);n.blueprint[r]=s,t[r]=s,iU(n,e,r,yS(n,t,i.hostVars,Nn),i)}function iU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;oU(s)!=a&&s.push(a),s.push(t,r,o)}}function oU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kr(e)&&(t[""]=n)}}function aU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function BS(n,e,t,r,i,o,s,a){let c=e[ue],u=c.consts,d=Kl(u,s),f=DC(c,n,t,r,d);return o&&jS(c,e,f,Kl(u,a),i),f.mergedAttrs=nu(f.mergedAttrs,f.attrs),f.attrs!==null&&gP(f,f.attrs,!1),f.mergedAttrs!==null&&gP(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function $S(n,e){LP(n,e),J_(e)&&n.queries.elementEnd(e)}function TC(n){return op(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function op(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function HS(n,e,t){return n[e]=t}function Pi(n,e,t){if(t===Nn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function qS(n,e,t,r){let i=Pi(n,e,t);return Pi(n,e+1,r)||i}function Dv(n,e,t){return function r(i){let o=bo(n)?Wn(n.index,e):e;MC(o,5);let s=e[Zt],a=vP(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=vP(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function vP(n,e,t,r){let i=ve(null);try{return Ve(6,e,t),t(r)!==!1}catch(o){return Tj(n,o),!1}finally{Ve(7,e,t),ve(i)}}function cU(n,e,t,r,i,o,s,a){let c=Wl(n),u=!1,d=null;if(!r&&c&&(d=lU(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=lr(n,t),g=r?r(f):f;S2(t,g,o,a);let m=i.listen(g,o,a),w=r?S=>r(Gn(S[n.index])):n.index;GS(w,e,t,o,a,m,!1)}return u}function lU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ka],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function GS(n,e,t,r,i,o,s){let a=e.firstCreatePass?sv(e):null,c=ov(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function CP(n,e,t,r,i,o){let s=e[t],a=e[ue],u=a.data[t].outputs[r],f=s[u].subscribe(o);GS(n.index,a,e,i,o,f,!0)}var Gv=Symbol("BINDING");var Bf=class extends lu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Co(e);return new rc(t,this.ngModule)}};function uU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&tp.SignalBased)!==0};return i&&(o.transform=i),o})}function dU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function hU(n,e,t){let r=e instanceof _t?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new qv(t,r):t}function fU(n){let e=n.get(Ti,null);if(e===null)throw new L(407,!1);let t=n.get(VS,null),r=n.get(wi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function pU(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return fS(e,t,t==="svg"?DT:t==="math"?TT:null)}var rc=class extends ip{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=z2(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ve(22);let a=ve(null);try{let c=this.componentDef,u=gU(r,c,s,o),d=hU(c,i||this.ngModule,e),f=fU(d),g=f.rendererFactory.createRenderer(null,c),m=r?fj(g,r,c.encapsulation,d):pU(c,g),w=s?.some(EP)||o?.some(V=>typeof V!="function"&&V.bindings.some(EP)),S=gC(null,u,null,512|mS(c),null,null,f,g,d,null,rS(m,d,!0));S[jt]=m,Cf(S);let A=null;try{let V=BS(jt,S,2,"#host",()=>u.directiveRegistry,!0,0);m&&(gS(g,m,V),nc(m,S)),EC(u,S,V),oS(u,V,S),$S(u,V),t!==void 0&&yU(V,this.ngContentSelectors,t),A=Wn(V.index,S),S[Zt]=A[Zt],bC(u,S,null)}catch(V){throw A!==null&&Lv(A),Lv(S),V}finally{Ve(23),Ef()}return new $f(this.componentType,S,!!w)}finally{ve(a)}}};function gU(n,e,t,r){let i=n?["ng-version","20.1.3"]:H2(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Gv].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[Gv].requiredVars;let m=d+1;g.create&&(g.targetIdx=m,(o??=[]).push(g)),g.update&&(g.targetIdx=m,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=W_(f);c.push(g)}return pC(0,null,mU(o,s),1,a,c,null,null,null,[i],null)}function mU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function EP(n){let e=n[Gv].kind;return e==="input"||e==="twoWay"}var $f=class extends LS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=hf(t[ue],jt),this.location=sc(this._tNode,t),this.instance=Wn(this._tNode.index,t)[Zt],this.hostView=this.changeDetectorRef=new Mo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=wC(r,i[ue],i,e,t);this.previousInputValues.set(e,t);let s=Wn(r.index,i);MC(s,1)}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Si=(()=>{class n{static __NG_ELEMENT_ID__=_U}return n})();function _U(){let n=Bt();return KS(n,Te())}var vU=Si,WS=class extends vU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return sc(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){let e=aC(this._hostTNode,this._hostLView);if(UP(e)){let t=kf(e,this._hostLView),r=Nf(e),i=t[ue].data[r+8];return new Os(i,t)}else return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=wP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pP(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,hP(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!e2(e),u;if(c)u=t;else{let A=t||{};u=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let d=c?e:new rc(Co(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let V=(c?f:this.parentInjector).get(_t,null);V&&(o=V)}let g=Co(d.componentType??{}),m=pP(this._lContainer,g?.id??null),w=m?.firstChild??null,S=d.create(f,i,w,o,s,a);return this.insertImpl(S.hostView,u,hP(this._hostTNode,m)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ST(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],u=new WS(c,c[Hn],c[xt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qj(s,i,o,r),e.attachToViewContainerRef(),z_(Tv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=wP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zv(this._lContainer,t);r&&(Ul(Tv(this._lContainer),t),CS(r[ue],r))}detach(e){let t=this._adjustIndex(e,-1),r=zv(this._lContainer,t);return r&&Ul(Tv(this._lContainer),t)!=null?new Mo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function wP(n){return n[Gl]}function Tv(n){return n[Gl]||(n[Gl]=[])}function KS(n,e){let t,r=e[n.index];return cr(r)?t=r:(t=kS(r,e,null,n),e[n.index]=t,mC(e,t)),EU(t,e,n,r),new WS(t,n,e)}function CU(n,e){let t=n[ot],r=t.createComment(""),i=lr(e,n),o=t.parentNode(i);return Uf(t,o,r,t.nextSibling(i),!1),r}var EU=IU,wU=()=>!1;function bU(n,e,t){return wU(n,e,t)}function IU(n,e,t,r){if(n[wo])return;let i;t.type&8?i=Gn(r):i=CU(e,t),n[wo]=i}var Wv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Kv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)PC(e,t).matches!==null&&this.queries[t].setDirty()}},Qv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=AU(e):this.predicate=e}},Yv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Zv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,MU(t,o)),this.matchTNodeWithReadOption(e,t,xf(t,e,o,!1,!1))}else r===Do?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===dn||i===Si||i===Do&&t.type&4)this.addMatch(t.index,-2);else{let o=xf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function MU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function DU(n,e){return n.type&11?sc(n,e):n.type&4?rp(n,e):null}function TU(n,e,t,r){return t===-1?DU(e,n):t===-2?PU(n,e,r):ru(n,n[ue],t,e)}function PU(n,e,t){if(t===dn)return sc(e,n);if(t===Do)return rp(e,n);if(t===Si)return KS(e,n)}function QS(n,e,t,r){let i=e[Rr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(TU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Xv(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=QS(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=un;f<d.length;f++){let g=d[f];g[Eo]===g[xt]&&Xv(g[ue],g,u,r)}if(d[Ts]!==null){let f=d[Ts];for(let g=0;g<f.length;g++){let m=f[g];Xv(m[ue],m,u,r)}}}}}return r}function SU(n,e){return n[Rr].queries[e].queryList}function OU(n,e,t){let r=new Vf((t&4)===4);return AT(n,e,r,r.destroy),(e[Rr]??=new Kv).queries.push(new Wv(r))-1}function xU(n,e,t,r){let i=Ut();if(i.firstCreatePass){let o=Bt();RU(i,new Qv(e,t,r),o.index),NU(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return OU(i,Te(),t)}function AU(n){return n.split(",").map(e=>e.trim())}function RU(n,e,t){n.queries===null&&(n.queries=new Yv),n.queries.track(new Zv(e,t))}function NU(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function PC(n,e){return n.queries.getByIndex(e)}function kU(n,e){let t=n[ue],r=PC(t,e);return r.crossesNgTemplate?Xv(t,n,e,[]):QS(t,n,r,e)}var bP=new Set;function Ns(n){bP.has(n)||(bP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var As=class{},sp=class{};var zf=class extends As{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=G_(e);this._bootstrapComponents=dS(o.bootstrap),this._r3Injector=mv(e,t,[{provide:As,useValue:this},{provide:lu,useValue:this.componentFactoryResolver},...r],Ei(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hf=class extends sp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new zf(this.moduleType,e,[])}};var ou=class extends As{injector;componentFactoryResolver=new Bf(this);instance=null;constructor(e){super();let t=new Cs([...e.providers,{provide:As,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],e.parent||$l(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function uu(n,e,t=null){return new ou({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var FU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=K_(!1,t.type),i=r.length>0?uu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(X(_t))})}return n})();function $t(n){return oc(()=>{let e=YS(n),t=ce(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===cC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(FU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Di.Emulated,styles:n.styles||cn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ns("NgStandalone"),ZS(t);let r=n.dependencies;return t.directiveDefs=IP(r,LU),t.pipeDefs=IP(r,_T),t.id=UU(t),t})}function LU(n){return Co(n)||W_(n)}function Ur(n){return oc(()=>({type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function VU(n,e){if(n==null)return vo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=tp.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function jU(n){if(n==null)return vo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ue(n){return oc(()=>{let e=YS(n);return ZS(e),e})}function ac(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function YS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||vo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:VU(n.inputs,e),outputs:jU(n.outputs),debugInfo:null}}function ZS(n){n.features?.forEach(e=>e(n))}function IP(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function UU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function BU(n){return Object.getPrototypeOf(n.prototype).constructor}function hn(n){let e=BU(n.type),t=!0,r=[n];for(;e;){let i;if(kr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Pv(n.inputs),s.declaredInputs=Pv(n.declaredInputs),s.outputs=Pv(n.outputs);let a=i.hostBindings;a&&GU(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&HU(n,c),u&&qU(n,u),$U(n,i),uT(n.outputs,i.outputs),kr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===hn&&(t=!1)}}e=Object.getPrototypeOf(e)}zU(r)}function $U(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function zU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nu(i.hostAttrs,t=nu(t,i.hostAttrs))}}function Pv(n){return n===vo?{}:n===cn?[]:n}function HU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function qU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function GU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function WU(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=nu(n.mergedAttrs,n.attrs);let d=n.tView=pC(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Xa(n,!1);let c=QU(t,e,n,r);bf()&&vC(t,e,c,n),nc(c,e);let u=kS(c,e,c,n);e[r+jt]=u,mC(e,u),bU(u,n,e)}function KU(n,e,t,r,i,o,s,a,c,u,d){let f=t+jt,g;return e.firstCreatePass?(g=DC(e,f,4,s||null,a||null),av()&&jS(e,n,g,Kl(e.consts,u),MS),LP(e,g)):g=e.data[f],WU(g,n,e,t,r,i,o,c),Wl(g)&&EC(e,n,g),u!=null&&bS(n,g,d),g}function ye(n,e,t,r,i,o,s,a){let c=Te(),u=Ut(),d=Kl(u.consts,o);return KU(c,u,n,e,t,r,i,d,void 0,s,a),ye}var QU=YU;function YU(n,e,t,r){return If(!0),e[ot].createComment("")}var ap=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(ap||{}),ks=new K(""),XS=!1,Jv=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,IT()&&(this.destroyRef=F(Kn,{optional:!0})??void 0,this.pendingTasks=F(Lr,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pt=Jv;function JS(n){let e,t;function r(){n=Jl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function MP(n){return queueMicrotask(()=>n()),()=>{n=Jl}}var SC="isAngularZone",qf=SC+"_ID",ZU=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pt(!1);onMicrotaskEmpty=new pt(!1);onStable=new pt(!1);onError=new pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=XS}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(SC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XU,Jl,Jl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},XU={};function OC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JU(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){JS(()=>{n.callbackScheduled=!1,eC(n),n.isCheckStableRunning=!0,OC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),eC(n)}function eB(n){let e=()=>{JU(n)},t=ZU++;n._inner=n._inner.fork({name:"angular",properties:{[SC]:!0,[qf]:t,[qf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(tB(c))return r.invokeTask(o,s,a,c);try{return DP(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),TP(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return DP(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nB(c)&&e(),TP(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,eC(n),OC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function eC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TP(n){n._nesting--,OC(n)}var Gf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pt;onMicrotaskEmpty=new pt;onStable=new pt;onError=new pt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function tB(n){return eO(n,"__ignore_ng_zone__")}function nB(n){return eO(n,"__scheduler_tick__")}function eO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),tO=[0,1,2,3],nO=(()=>{class n{ngZone=F(Oe);scheduler=F(wi);errorHandler=F(or,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(ks,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ve(16),this.executing=!0;for(let r of tO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ve(17)}register(t){let{view:r}=t;r!==void 0?((r[Ds]??=[]).push(t),Za(r),r[de]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ap.AFTER_NEXT_RENDER,t):t()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ds];e&&(this.view[Ds]=e.filter(t=>t!==this))}};function cp(n,e){let t=e?.injector??F(ut);return Ns("NgAfterNextRender"),iB(n,t,e,!0)}function rB(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function iB(n,e,t,r){let i=e.get(xC);i.impl??=e.get(nO);let o=e.get(ks,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Kn):null,a=e.get(Mf,null,{optional:!0}),c=new Wf(i.impl,rB(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var AC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var RC=new K("");function Oi(n){return!!n&&typeof n.then=="function"}function lp(n){return!!n&&typeof n.subscribe=="function"}var rO=new K("");var NC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(rO,{optional:!0})??[];injector=F(ut);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Pt(this.injector,i);if(Oi(o))t.push(o);else if(lp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),up=new K("");function iO(){Xy(()=>{let n="";throw new L(600,n)})}function oO(n){return n.isBoundToModule}var oB=10;var xi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(Xt);afterRenderManager=F(xC);zonelessEnabled=F(Xl);rootEffectScheduler=F(wv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ft;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(Lr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(be(t=>!t))}constructor(){F(ks,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(_t);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ut.NULL){return this._injector.get(Oe).run(()=>{Ve(10);let s=t instanceof ip;if(!this._injector.get(NC).done){let w="";throw new L(405,w)}let c;s?c=t:c=this._injector.get(lu).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=oO(c)?void 0:this._injector.get(As),d=r||c.selector,f=c.create(i,[],d,u),g=f.location.nativeElement,m=f.injector.get(RC,null);return m?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),tu(this.components,f),m?.unregisterApplication(g)}),this._loadComponent(f),Ve(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ap.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),Ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ti,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<oB;)Ve(14),this.synchronizeOnce(),Ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ql(i))continue;let o=r&&!this.zonelessEnabled?0:1;IC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ql(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;tu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(up,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Po(n,e,t,r){let i=Te(),o=Zl();if(Pi(i,o,e)){let s=Ut(),a=wf();wj(a,i,n,e,t,r)}return Po}function J(n,e,t){let r=Te(),i=Zl();if(Pi(r,i,e)){let o=Ut(),s=wf();IS(s,r,n,e,r[ot],t)}return J}function tC(n,e,t,r,i){wC(e,n,t,i?"class":"style",r)}function v(n,e,t,r){let i=Te(),o=i[ue],s=n+jt,a=o.firstCreatePass?BS(s,i,2,e,MS,av(),t,r):o.data[s];if(Mj(a,i,n,e,sB),Wl(a)){let c=i[ue];EC(c,i,a),oS(c,a,i)}return r!=null&&bS(i,a),v}function C(){let n=Ut(),e=Bt(),t=Dj(e);return n.firstCreatePass&&$S(n,t),LT(t)&&VT(),kT(),t.classesWithoutHost!=null&&s2(t)&&tC(n,t,Te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&a2(t)&&tC(n,t,Te(),t.stylesWithoutHost,!1),C}function Ai(n,e,t,r){return v(n,e,t,r),C(),Ai}var sB=(n,e,t,r,i)=>(If(!0),fS(e[ot],r,XT()));function gt(){return Te()}var Ss=void 0;function aB(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var cB=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",aB],Sv={};function fn(n){let e=lB(n),t=PP(e);if(t)return t;let r=e.split("-")[0];if(t=PP(r),t)return t;if(r==="en")return cB;throw new L(701,!1)}function PP(n){return n in Sv||(Sv[n]=bi.ng&&bi.ng.common&&bi.ng.common.locales&&bi.ng.common.locales[n]),Sv[n]}var st=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(st||{});function lB(n){return n.toLowerCase().replace(/_/g,"-")}var du="en-US",uB="USD";var dB=du;function sO(n){typeof n=="string"&&(dB=n.toLowerCase().replace(/_/g,"-"))}function ie(n,e,t){let r=Te(),i=Ut(),o=Bt();return aO(i,r,r[ot],o,n,e,t),ie}function aO(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Dv(r,e,o),cU(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],m=d[f+1];c??=Dv(r,e,o),CP(r,e,g,m,i,c)}if(u&&u.length)for(let f of u)c??=Dv(r,e,o),CP(r,e,f,i,i,c)}}function se(n=1){return ZT(n)}function kC(n,e,t,r){xU(n,e,t,r)}function FC(n){let e=Te(),t=Ut(),r=fv();vf(r+1);let i=PC(t,r);if(n.dirty&&PT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=kU(e,r);n.reset(o,C2),n.notifyOnChanges()}return!0}return!1}function LC(){return SU(Te(),fv())}function So(n){let e=BT();return ff(e,jt+n)}function Pf(n,e){return n<<17|e<<2}function Rs(n){return n>>17&32767}function hB(n){return(n&2)==2}function fB(n,e){return n&131071|e<<17}function nC(n){return n|2}function ic(n){return(n&131068)>>2}function Ov(n,e){return n&-131069|e<<2}function pB(n){return(n&1)===1}function rC(n){return n|1}function gB(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Rs(s),c=ic(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Wa(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=Rs(n[a+1]);n[r+1]=Pf(g,a),g!==0&&(n[g+1]=Ov(n[g+1],r)),n[a+1]=fB(n[a+1],r)}else n[r+1]=Pf(a,0),a!==0&&(n[a+1]=Ov(n[a+1],r)),a=r;else n[r+1]=Pf(c,0),a===0?a=r:n[c+1]=Ov(n[c+1],r),c=r;u&&(n[r+1]=nC(n[r+1])),SP(n,d,r,!0),SP(n,d,r,!1),mB(e,d,n,r,o),s=Pf(a,c),o?e.classBindings=s:e.styleBindings=s}function mB(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wa(o,e)>=0&&(t[r+1]=rC(t[r+1]))}function SP(n,e,t,r){let i=n[t+1],o=e===null,s=r?Rs(i):ic(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];yB(c,e)&&(a=!0,n[s+1]=r?rC(u):nC(u)),s=r?Rs(u):ic(u)}a&&(n[t+1]=r?nC(i):rC(i))}function yB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wa(n,e)>=0:!1}var dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _B(n){return n.substring(dr.key,dr.keyEnd)}function vB(n){return CB(n),cO(n,lO(n,0,dr.textEnd))}function cO(n,e){let t=dr.textEnd;return t===e?-1:(e=dr.keyEnd=EB(n,dr.key=e,t),lO(n,e,t))}function CB(n){dr.key=0,dr.keyEnd=0,dr.value=0,dr.valueEnd=0,dr.textEnd=n.length}function lO(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function EB(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function pr(n,e,t){return uO(n,e,t,!1),pr}function zt(n,e){return uO(n,e,null,!0),zt}function dp(n){bB(SB,wB,n,!0)}function wB(n,e){for(let t=vB(e);t>=0;t=cO(e,t))lf(n,_B(e),!0)}function uO(n,e,t,r){let i=Te(),o=Ut(),s=yf(2);if(o.firstUpdatePass&&hO(o,n,s,r),e!==Nn&&Pi(i,s,e)){let a=o.data[Mi()];fO(o,a,i,i[ot],n,i[s+1]=xB(e,t),r,s)}}function bB(n,e,t,r){let i=Ut(),o=yf(2);i.firstUpdatePass&&hO(i,null,o,r);let s=Te();if(t!==Nn&&Pi(s,o,t)){let a=i.data[Mi()];if(pO(a,r)&&!dO(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=of(c,t||"")),tC(i,a,s,t,r)}else OB(i,a,s,s[ot],s[o+1],s[o+1]=PB(n,e,t),r,o)}}function dO(n,e){return e>=n.expandoStartIndex}function hO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Mi()],s=dO(n,t);pO(o,r)&&e===null&&!s&&(e=!1),e=IB(i,o,e,r),gB(i,o,e,t,s,r)}}function IB(n,e,t,r){let i=WT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=xv(null,n,e,t,r),t=su(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=xv(i,n,e,t,r),o===null){let c=MB(n,e,r);c!==void 0&&Array.isArray(c)&&(c=xv(null,n,e,c[1],r),c=su(c,e.attrs,r),DB(n,e,r,c))}else o=TB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function MB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ic(r)!==0)return n[Rs(r)]}function DB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Rs(i)]=r}function TB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=su(r,s,t)}return su(r,e.attrs,t)}function xv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=su(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function su(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),lf(n,s,t?!0:e[++o]))}return n===void 0?null:n}function PB(n,e,t){if(t==null||t==="")return cn;let r=[],i=cu(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function SB(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&lf(n,r,t)}function OB(n,e,t,r,i,o,s,a){i===Nn&&(i=cn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,w=null,S;d===f?(c+=2,u+=2,g!==m&&(w=f,S=m)):f===null||d!==null&&d<f?(c+=2,w=d):(u+=2,w=f,S=m),w!==null&&fO(n,e,t,r,w,S,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function fO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=pB(u)?OP(c,e,t,i,ic(u),s):void 0;if(!Kf(d)){Kf(o)||hB(u)&&(o=OP(c,null,t,i,a,s));let f=ev(Mi(),t);hj(r,s,f,i,o)}}function OP(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=t[i+1];g===Nn&&(g=f?cn:void 0);let m=f?uf(g,r):d===r?g:void 0;if(u&&!Kf(m)&&(m=uf(c,r)),Kf(m)&&(a=m,s))return a;let w=n[i+1];i=s?Rs(w):ic(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=uf(c,r))}return a}function Kf(n){return n!==void 0}function xB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ei(cu(n)))),n}function pO(n,e){return(n.flags&(e?8:16))!==0}function M(n,e=""){let t=Te(),r=Ut(),i=n+jt,o=r.firstCreatePass?DC(r,i,1,e,null):r.data[i],s=AB(r,t,o,e,n);t[i]=s,bf()&&vC(r,t,s,o),Xa(o,!1)}var AB=(n,e,t,r,i)=>(If(!0),q2(e[ot],r));function RB(n,e,t,r=""){return Pi(n,Zl(),t)?e+ws(t)+r:Nn}function NB(n,e,t,r,i,o=""){let s=$T(),a=qS(n,s,t,i);return yf(2),a?e+ws(t)+r+ws(i)+o:Nn}function Ae(n){return qe("",n),Ae}function qe(n,e,t){let r=Te(),i=RB(r,n,e,t);return i!==Nn&&gO(r,Mi(),i),qe}function Br(n,e,t,r,i){let o=Te(),s=NB(o,n,e,t,r,i);return s!==Nn&&gO(o,Mi(),s),Br}function gO(n,e,t){let r=ev(e,n);G2(n[ot],r,t)}function Ye(n,e,t){vv(e)&&(e=e());let r=Te(),i=Zl();if(Pi(r,i,e)){let o=Ut(),s=wf();IS(s,r,n,e,r[ot],t)}return Ye}function et(n,e){let t=vv(n);return t&&n.set(e),t}function Ze(n,e){let t=Te(),r=Ut(),i=Bt();return aO(r,t,t[ot],i,n,e),Ze}function kB(n,e,t){let r=Ut();if(r.firstCreatePass){let i=kr(n);iC(t,r.data,r.blueprint,i,!0),iC(e,r.data,r.blueprint,i,!1)}}function iC(n,e,t,r,i){if(n=Vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)iC(n[o],e,t,r,i);else{let o=Ut(),s=Te(),a=Bt(),c=vs(n)?n:Vt(n.provide),u=Y_(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(vs(n)||!n.multi){let m=new xs(u,i,$,null),w=Rv(c,e,i?d:d+g,f);w===-1?(kv(Lf(a,s),o,c),Av(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[w]=m,s[w]=m)}else{let m=Rv(c,e,d+g,f),w=Rv(c,e,d,d+g),S=m>=0&&t[m],A=w>=0&&t[w];if(i&&!A||!i&&!S){kv(Lf(a,s),o,c);let V=VB(i?LB:FB,t.length,i,r,u,n);!i&&A&&(t[w].providerFactory=V),Av(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=mO(t[i?w:m],u,!i&&r);Av(o,n,m>-1?m:w,V)}!i&&r&&A&&t[w].componentProviders++}}}function Av(n,e,t,r){let i=vs(e),o=bT(e);if(i||o){let c=(o?Vt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function mO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Rv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function FB(n,e,t,r,i){return oC(this.multi,[])}function LB(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ru(r,r[ue],this.providerFactory.index,i);s=c.slice(0,a),oC(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],oC(o,s);return s}function oC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function VB(n,e,t,r,i,o){let s=new xs(n,t,$,null);return s.multi=[],s.index=e,s.componentProviders=0,mO(s,i,r&&!t),s}function gr(n,e=[]){return t=>{t.providersResolver=(r,i)=>kB(r,i?i(n):n,e)}}function hu(n,e,t,r){return _O(Te(),mf(),n,e,t,r)}function yO(n,e){let t=n[e];return t===Nn?void 0:t}function _O(n,e,t,r,i,o){let s=e+t;return Pi(n,s,i)?HS(n,s+1,o?r.call(o,i):r(i)):yO(n,s+1)}function jB(n,e,t,r,i,o,s){let a=e+t;return qS(n,a,i,o)?HS(n,a+2,s?r.call(s,i,o):r(i,o)):yO(n,a+2)}function Be(n,e){let t=Ut(),r,i=n+jt;t.firstCreatePass?(r=UB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=yo(r.type,!0)),s,a=an($);try{let c=Ff(!1),u=o();return Ff(c),tv(t,Te(),i,u),u}finally{an(a)}}function UB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ht(n,e,t){let r=n+jt,i=Te(),o=ff(i,r);return vO(i,r)?_O(i,mf(),e,o.transform,t,o):o.transform(t)}function pn(n,e,t,r){let i=n+jt,o=Te(),s=ff(o,i);return vO(o,i)?jB(o,mf(),e,s.transform,t,r,s):s.transform(t,r)}function vO(n,e){return n[ue].data[e].pure}function VC(n,e){return rp(n,e)}var Qf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},jC=(()=>{class n{compileModuleSync(t){return new Hf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=G_(t),o=dS(i.declarations).reduce((s,a)=>{let c=Co(a);return c&&s.push(new rc(c)),s},[]);return new Qf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BB=(()=>{class n{zone=F(Oe);changeDetectionScheduler=F(wi);applicationRef=F(xi);applicationErrorHandler=F(Xt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CO=new K("",{factory:()=>!1});function UC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(ce(U({},$C()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:Ii,multi:!0,useFactory:()=>{let r=F(BB,{optional:!0});return()=>r.initialize()}},{provide:Ii,multi:!0,useFactory:()=>{let r=F($B);return()=>{r.initialize()}}},e===!0?{provide:Cv,useValue:!0}:[],{provide:Ev,useValue:t??XS},{provide:Xt,useFactory:()=>{let r=F(Oe),i=F(_t),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(or),o.handleError(s))})}}}]}function BC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=UC({ngZoneFactory:()=>{let i=$C(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ns("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ln([{provide:CO,useValue:!0},{provide:Xl,useValue:!1},r])}function $C(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $B=(()=>{class n{subscription=new je;initialized=!1;zone=F(Oe);pendingTasks=F(Lr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var EO=(()=>{class n{applicationErrorHandler=F(Xt);appRef=F(xi);taskService=F(Lr);ngZone=F(Oe);zonelessEnabled=F(Xl);tracing=F(ks,{optional:!0});disableScheduling=F(Cv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(Ev,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?MP:JS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zB(){return typeof $localize<"u"&&$localize.locale||du}var Fs=new K("",{providedIn:"root",factory:()=>F(Fs,{optional:!0,skipSelf:!0})||zB()}),zC=new K("",{providedIn:"root",factory:()=>uB});function wn(n){return aT(n)}function cc(n,e){return Dh(n,e?.equal)}var wO=class{[Yt];constructor(e){this[Yt]=e}destroy(){this[Yt].destroy()}};var TO=Symbol("InputSignalNode#UNSET"),t5=ce(U({},Th),{transformFn:void 0,applyValueToInputSignal(n,e){xa(n,e)}});function PO(n,e){let t=Object.create(t5);t.value=n,t.transformFn=e?.transform;function r(){if(Sa(t),t.value===TO){let i=null;throw new L(-950,i)}return t.value}return r[Yt]=t,r}var fp=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>au(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},n5=new K("");n5.__NG_ELEMENT_ID__=n=>{let e=Bt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function bO(n,e){return PO(n,e)}function r5(n){return PO(TO,n)}var SO=(bO.required=r5,bO);var lc=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},OO=new lc("20.1.3");var HC=new K(""),i5=new K("");function fu(n){return!n.moduleRef}function o5(n){let e=fu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{fu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Xt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),fu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(HC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(HC);s.add(o),n.moduleRef.onDestroy(()=>{tu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return a5(r,t,()=>{let o=e.get(Lr),s=o.add(),a=e.get(NC);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Fs,du);if(sO(c||du),!e.get(i5,!0))return fu(n)?e.get(xi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(fu(n)){let d=e.get(xi);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return s5?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var s5;function a5(n,e,t){try{let r=t();return Oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var hp=null;function c5(n=[],e){return ut.create({name:e,providers:[{provide:Bl,useValue:"platform"},{provide:HC,useValue:new Set([()=>hp=null])},...n]})}function l5(n=[]){if(hp)return hp;let e=c5(n);return hp=e,iO(),u5(e),e}function u5(n){let e=n.get(Zf,null);Pt(n,()=>{e?.forEach(t=>t())})}function XC(){return!1}var Ri=(()=>{class n{static __NG_ELEMENT_ID__=d5}return n})();function d5(n){return h5(Bt(),Te(),(n&16)===16)}function h5(n,e,t){if(bo(n)&&!t){let r=Wn(n.index,e);return new Mo(r,r)}else if(n.type&175){let r=e[qn];return new Mo(r,e)}return null}var qC=class{constructor(){}supports(e){return TC(e)}create(e){return new GC(e)}},f5=(n,e)=>e,GC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||f5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<IO(r,i,o)?t:r,a=IO(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;d<=w&&w<u&&(o[g]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!TC(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,zS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new WC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new pp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},WC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},KC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},pp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new KC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IO(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var QC=class{constructor(){}supports(e){return e instanceof Map||op(e)}create(){return new YC}},YC=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||op(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ZC(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},ZC=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function MO(){return new JC([new qC])}var JC=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:MO});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||MO()),deps:[[n,new sC,new Ct]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function DO(){return new eE([new QC])}var eE=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:DO});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DO()),deps:[[n,new sC,new Ct]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();function xO(n){Ve(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=l5(r),o=[UC({}),{provide:wi,useExisting:EO},eP,...t||[]],s=new ou({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return o5({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ve(9)}}function Vs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var NO=null;function Yn(){return NO}function tE(n){NO??=n}var pu=class{},nE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(kO),providedIn:"platform"})}return n})();var kO=(()=>{class n extends nE{_location;_history;_doc=F(vt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yn().getBaseHref(this._doc)}onPopState(t){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function FO(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function AO(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Oo(n){return n&&n[0]!=="?"?`?${n}`:n}var uc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(VO),providedIn:"root"})}return n})(),LO=new K(""),VO=(()=>{class n extends uc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return FO(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Oo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(nE),X(LO,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dc=(()=>{class n{_subject=new ft;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=m5(AO(RO(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Oo(r))}normalize(t){return n.stripTrailingSlash(g5(this._basePath,RO(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Oo;static joinWithSlash=FO;static stripTrailingSlash=AO;static \u0275fac=function(r){return new(r||n)(X(uc))};static \u0275prov=q({token:n,factory:()=>p5(),providedIn:"root"})}return n})();function p5(){return new dc(X(uc))}function g5(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function RO(n){return n.replace(/\/index.html$/,"")}function m5(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var HO={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ip=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Ip||{});var Jt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Jt||{}),$e=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}($e||{}),bn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(bn||{}),qt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qO(n){return fn(n)[st.LocaleId]}function GO(n,e,t){let r=fn(n),i=[r[st.DayPeriodsFormat],r[st.DayPeriodsStandalone]],o=Zn(i,e);return Zn(o,t)}function WO(n,e,t){let r=fn(n),i=[r[st.DaysFormat],r[st.DaysStandalone]],o=Zn(i,e);return Zn(o,t)}function KO(n,e,t){let r=fn(n),i=[r[st.MonthsFormat],r[st.MonthsStandalone]],o=Zn(i,e);return Zn(o,t)}function QO(n,e){let r=fn(n)[st.Eras];return Zn(r,e)}function gu(n,e){let t=fn(n);return Zn(t[st.DateFormat],e)}function mu(n,e){let t=fn(n);return Zn(t[st.TimeFormat],e)}function yu(n,e){let r=fn(n)[st.DateTimeFormat];return Zn(r,e)}function yr(n,e){let t=fn(n),r=t[st.NumberSymbols][e];if(typeof r>"u"){if(e===qt.CurrencyDecimal)return t[st.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return t[st.NumberSymbols][qt.Group]}return r}function uE(n,e){return fn(n)[st.NumberFormats][e]}function y5(n){return fn(n)[st.Currencies]}function YO(n){if(!n[st.ExtraData])throw new L(2303,!1)}function ZO(n){let e=fn(n);return YO(e),(e[st.ExtraData][2]||[]).map(r=>typeof r=="string"?rE(r):[rE(r[0]),rE(r[1])])}function XO(n,e,t){let r=fn(n);YO(r);let i=[r[st.ExtraData][0],r[st.ExtraData][1]],o=Zn(i,e)||[];return Zn(o,t)||[]}function Zn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new L(2304,!1)}function rE(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function JO(n,e,t="en"){let r=y5(t)[n]||HO[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var _5=2;function ex(n){let e,t=HO[n];return t&&(e=t[2]),typeof e=="number"?e:_5}var v5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gp={},C5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function tx(n,e,t,r){let i=S5(n);e=Ni(t,e)||e;let s=[],a;for(;e;)if(a=C5.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=rx(r,c),i=P5(i,r));let u="";return s.forEach(d=>{let f=D5(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Cp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ni(n,e){let t=qO(n);if(gp[t]??={},gp[t][e])return gp[t][e];let r="";switch(e){case"shortDate":r=gu(n,bn.Short);break;case"mediumDate":r=gu(n,bn.Medium);break;case"longDate":r=gu(n,bn.Long);break;case"fullDate":r=gu(n,bn.Full);break;case"shortTime":r=mu(n,bn.Short);break;case"mediumTime":r=mu(n,bn.Medium);break;case"longTime":r=mu(n,bn.Long);break;case"fullTime":r=mu(n,bn.Full);break;case"short":let i=Ni(n,"shortTime"),o=Ni(n,"shortDate");r=mp(yu(n,bn.Short),[i,o]);break;case"medium":let s=Ni(n,"mediumTime"),a=Ni(n,"mediumDate");r=mp(yu(n,bn.Medium),[s,a]);break;case"long":let c=Ni(n,"longTime"),u=Ni(n,"longDate");r=mp(yu(n,bn.Long),[c,u]);break;case"full":let d=Ni(n,"fullTime"),f=Ni(n,"fullDate");r=mp(yu(n,bn.Full),[d,f]);break}return r&&(gp[t][e]=r),r}function mp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function mr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function E5(n,e){return mr(n,3).substring(0,e)}function Et(n,e,t=0,r=!1,i=!1){return function(o,s){let a=w5(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return E5(a,e);let c=yr(s,qt.MinusSign);return mr(a,e,c,r,i)}}function w5(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new L(2301,!1)}}function Ge(n,e,t=Jt.Format,r=!1){return function(i,o){return b5(i,o,n,e,t,r)}}function b5(n,e,t,r,i,o){switch(t){case 2:return KO(e,i,r)[n.getMonth()];case 1:return WO(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=ZO(e),d=XO(e,i,r),f=u.findIndex(g=>{if(Array.isArray(g)){let[m,w]=g,S=s>=m.hours&&a>=m.minutes,A=s<w.hours||s===w.hours&&a<w.minutes;if(m.hours<w.hours){if(S&&A)return!0}else if(S||A)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return GO(e,i,r)[s<12?0:1];case 3:return QO(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new L(2302,!1)}}function yp(n){return function(e,t,r){let i=-1*r,o=yr(t,qt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+mr(s,2,o)+mr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+mr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+mr(s,2,o)+":"+mr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+mr(s,2,o)+":"+mr(Math.abs(i%60),2,o);default:throw new L(2302,!1)}}}var I5=0,vp=4;function M5(n){let e=Cp(n,I5,1).getDay();return Cp(n,0,1+(e<=vp?vp:vp+7)-e)}function nx(n){let e=n.getDay(),t=e===0?-3:vp-e;return Cp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function iE(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=nx(t),s=M5(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return mr(i,n,yr(r,qt.MinusSign))}}function _p(n,e=!1){return function(t,r){let o=nx(t).getFullYear();return mr(o,n,yr(r,qt.MinusSign),e)}}var oE={};function D5(n){if(oE[n])return oE[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(3,$e.Abbreviated);break;case"GGGG":e=Ge(3,$e.Wide);break;case"GGGGG":e=Ge(3,$e.Narrow);break;case"y":e=Et(0,1,0,!1,!0);break;case"yy":e=Et(0,2,0,!0,!0);break;case"yyy":e=Et(0,3,0,!1,!0);break;case"yyyy":e=Et(0,4,0,!1,!0);break;case"Y":e=_p(1);break;case"YY":e=_p(2,!0);break;case"YYY":e=_p(3);break;case"YYYY":e=_p(4);break;case"M":case"L":e=Et(1,1,1);break;case"MM":case"LL":e=Et(1,2,1);break;case"MMM":e=Ge(2,$e.Abbreviated);break;case"MMMM":e=Ge(2,$e.Wide);break;case"MMMMM":e=Ge(2,$e.Narrow);break;case"LLL":e=Ge(2,$e.Abbreviated,Jt.Standalone);break;case"LLLL":e=Ge(2,$e.Wide,Jt.Standalone);break;case"LLLLL":e=Ge(2,$e.Narrow,Jt.Standalone);break;case"w":e=iE(1);break;case"ww":e=iE(2);break;case"W":e=iE(1,!0);break;case"d":e=Et(2,1);break;case"dd":e=Et(2,2);break;case"c":case"cc":e=Et(7,1);break;case"ccc":e=Ge(1,$e.Abbreviated,Jt.Standalone);break;case"cccc":e=Ge(1,$e.Wide,Jt.Standalone);break;case"ccccc":e=Ge(1,$e.Narrow,Jt.Standalone);break;case"cccccc":e=Ge(1,$e.Short,Jt.Standalone);break;case"E":case"EE":case"EEE":e=Ge(1,$e.Abbreviated);break;case"EEEE":e=Ge(1,$e.Wide);break;case"EEEEE":e=Ge(1,$e.Narrow);break;case"EEEEEE":e=Ge(1,$e.Short);break;case"a":case"aa":case"aaa":e=Ge(0,$e.Abbreviated);break;case"aaaa":e=Ge(0,$e.Wide);break;case"aaaaa":e=Ge(0,$e.Narrow);break;case"b":case"bb":case"bbb":e=Ge(0,$e.Abbreviated,Jt.Standalone,!0);break;case"bbbb":e=Ge(0,$e.Wide,Jt.Standalone,!0);break;case"bbbbb":e=Ge(0,$e.Narrow,Jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(0,$e.Abbreviated,Jt.Format,!0);break;case"BBBB":e=Ge(0,$e.Wide,Jt.Format,!0);break;case"BBBBB":e=Ge(0,$e.Narrow,Jt.Format,!0);break;case"h":e=Et(3,1,-12);break;case"hh":e=Et(3,2,-12);break;case"H":e=Et(3,1);break;case"HH":e=Et(3,2);break;case"m":e=Et(4,1);break;case"mm":e=Et(4,2);break;case"s":e=Et(5,1);break;case"ss":e=Et(5,2);break;case"S":e=Et(6,1);break;case"SS":e=Et(6,2);break;case"SSS":e=Et(6,3);break;case"Z":case"ZZ":case"ZZZ":e=yp(0);break;case"ZZZZZ":e=yp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=yp(2);break;default:return null}return oE[n]=e,e}function rx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function T5(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function P5(n,e,t){let i=n.getTimezoneOffset(),o=rx(e,i);return T5(n,-1*(o-i))}function S5(n){if(jO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Cp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(v5))return O5(r)}let e=new Date(n);if(!jO(e))throw new L(2302,!1);return e}function O5(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function jO(n){return n instanceof Date&&!isNaN(n.valueOf())}var x5=/^(\d+)?\.((\d+)(-(\d+))?)?$/,UO=22,Ep=".",_u="0",A5=";",R5=",",sE="#",BO="\xA4";function ix(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=yr(t,qt.Infinity);else{let u=k5(n);s&&(u=N5(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let H=o.match(x5);if(H===null)throw new L(2306,!1);let G=H[1],Y=H[3],ke=H[5];G!=null&&(d=aE(G)),Y!=null&&(f=aE(Y)),ke!=null?g=aE(ke):Y!=null&&f>g&&(g=f)}F5(u,f,g);let m=u.digits,w=u.integerLen,S=u.exponent,A=[];for(c=m.every(H=>!H);w<d;w++)m.unshift(0);for(;w<0;w++)m.unshift(0);w>0?A=m.splice(w,m.length):(A=m,m=[0]);let V=[];for(m.length>=e.lgSize&&V.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)V.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&V.unshift(m.join("")),a=V.join(yr(t,r)),A.length&&(a+=yr(t,i)+A.join("")),S&&(a+=yr(t,qt.Exponential)+"+"+S)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function ox(n,e,t,r,i){let o=uE(e,Ip.Currency),s=ax(o,yr(e,qt.MinusSign));return s.minFrac=ex(r),s.maxFrac=s.minFrac,ix(n,s,e,qt.CurrencyGroup,qt.CurrencyDecimal,i).replace(BO,t).replace(BO,"").trim()}function sx(n,e,t){let r=uE(e,Ip.Decimal),i=ax(r,yr(e,qt.MinusSign));return ix(n,i,e,qt.Group,qt.Decimal,t)}function ax(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(A5),i=r[0],o=r[1],s=i.indexOf(Ep)!==-1?i.split(Ep):[i.substring(0,i.lastIndexOf(_u)+1),i.substring(i.lastIndexOf(_u)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(sE));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===_u?t.minFrac=t.maxFrac=d+1:f===sE?t.maxFrac=d+1:t.posSuf+=f}let u=a.split(R5);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(sE);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function N5(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function k5(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Ep))>-1&&(e=e.replace(Ep,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===_u;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===_u;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>UO&&(r=r.splice(0,UO-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function F5(n,e,t){if(e>t)throw new L(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(f,g,m,w){return g=g+f,w[m]=g<10?g:g-10,c&&(w[m]===0&&m>=u?w.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function aE(n){let e=parseInt(n);if(isNaN(e))throw new L(2305,!1);return e}var wp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$r=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new wp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$O(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$O(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)($(Si),$(Do),$(JC))};static \u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $O(n,e){n.context.$implicit=e.item}var gn=(()=>{class n{_viewContainer;_context=new bp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zO(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zO(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)($(Si),$(Do))};static \u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),bp=class{$implicit=null;ngIf=null};function zO(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var vu=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:hr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)($(dn),$(eE),$(fr))};static \u0275dir=Ue({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Mp(n,e){return new L(2100,!1)}var cE=class{createSubscription(e,t,r){return wn(()=>e.subscribe({next:t,error:r}))}dispose(e){wn(()=>e.unsubscribe())}},lE=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},L5=new lE,V5=new cE,dE=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=F(Xt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Oi(t))return L5;if(lp(t))return V5;throw Mp(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)($(Ri,16))};static \u0275pipe=ac({name:"async",type:n,pure:!1})}return n})();var j5="mediumDate",cx=new K(""),lx=new K(""),js=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??j5,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return tx(t,s,o||this.locale,a)}catch(s){throw Mp(n,s.message)}}static \u0275fac=function(r){return new(r||n)($(Fs,16),$(cx,24),$(lx,24))};static \u0275pipe=ac({name:"date",type:n,pure:!0})}return n})();var hE=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!ux(t))return null;i||=this._locale;try{let o=dx(t);return sx(o,i,r)}catch(o){throw Mp(n,o.message)}}static \u0275fac=function(r){return new(r||n)($(Fs,16))};static \u0275pipe=ac({name:"number",type:n,pure:!0})}return n})();var Us=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!ux(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=JO(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=dx(t);return ox(c,s,a,r,o)}catch(c){throw Mp(n,c.message)}}static \u0275fac=function(r){return new(r||n)($(Fs,16),$(zC,16))};static \u0275pipe=ac({name:"currency",type:n,pure:!0})}return n})();function ux(n){return!(n==null||n===""||n!==n)}function dx(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new L(2309,!1);return n}var en=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ur({type:n});static \u0275inj=sr({})}return n})();function fE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Cu=class{};var hx="browser";var Tp=new K(""),_E=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(Tp),X(Oe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Eu=class{_doc;constructor(e){this._doc=e}manager},pE="ng-app-id";function fx(n){for(let e of n)e.remove()}function px(n,e){let t=e.createElement("style");return t.textContent=n,t}function U5(n,e,t,r){let i=n.head?.querySelectorAll(`style[${pE}="${e}"],link[${pE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(pE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function mE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var vE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,U5(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,px);r?.forEach(i=>this.addUsage(i,this.external,mE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(fx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])fx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,px(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,mE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(vt),X(Yf),X(Jf,8),X(To))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),gE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},CE=/%COMP%/g;var mx="%COMP%",B5=`_nghost-${mx}`,$5=`_ngcontent-${mx}`,z5=!0,H5=new K("",{providedIn:"root",factory:()=>z5});function q5(n){return $5.replace(CE,n)}function G5(n){return B5.replace(CE,n)}function yx(n,e){return e.map(t=>t.replace(CE,n))}var Iu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new wu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Dp?i.applyToHost(t):i instanceof bu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Di.Emulated:o=new Dp(c,u,r,this.appId,d,s,a,f,g);break;case Di.ShadowDom:return new yE(c,u,t,r,s,a,this.nonce,f,g);default:o=new bu(c,u,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(_E),X(vE),X(Yf),X(H5),X(vt),X(To),X(Oe),X(Jf),X(ks,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),wu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(gE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=gE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=gE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(hr.DashCase|hr.Important)?e.style.setProperty(t,r,i&hr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Yn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function gx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var yE=class extends wu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=yx(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=mE(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bu=class extends wu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?yx(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Dp=class extends bu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=q5(d),this.hostAttr=G5(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Pp=class n extends pu{supportsDOMEvents=!0;static makeCurrent(){tE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=W5();return t==null?null:K5(t)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fE(document.cookie,e)}},Mu=null;function W5(){return Mu=Mu||document.head.querySelector("base"),Mu?Mu.getAttribute("href"):null}function K5(n){return new URL(n,document.baseURI).pathname}var Q5=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),vx=(()=>{class n extends Eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(vt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),_x=["alt","control","meta","shift"],Y5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Cx=(()=>{class n extends Eu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_x.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Y5[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_x.forEach(s=>{if(s!==i){let a=Z5[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(vt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function EE(n,e){let t=U({rootComponent:n},X5(e));return xO(t)}function X5(n){return{appProviders:[...r3,...n?.providers??[]],platformProviders:n3}}function J5(){Pp.makeCurrent()}function e3(){return new or}function t3(){return lC(document),document}var n3=[{provide:To,useValue:hx},{provide:Zf,useValue:J5,multi:!0},{provide:vt,useFactory:t3}];var r3=[{provide:Bl,useValue:"root"},{provide:or,useFactory:e3},{provide:Tp,useClass:vx,multi:!0,deps:[vt]},{provide:Tp,useClass:Cx,multi:!0,deps:[vt]},Iu,vE,_E,{provide:Ti,useExisting:Iu},{provide:Cu,useClass:Q5},[]];var Ex=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(vt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _e="primary",Uu=Symbol("RouteTitle"),DE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zs(n){return new DE(n)}function Sx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function o3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zr(n[t],e[t]))return!1;return!0}function zr(n,e){let t=n?TE(n):void 0,r=e?TE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Ox(n[i],e[i]))return!1;return!0}function TE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ox(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function xx(n){return n.length>0?n[n.length-1]:null}function Li(n){return p_(n)?n:Oi(n)?it(Promise.resolve(n)):le(n)}var s3={exact:Rx,subset:Nx},Ax={exact:a3,subset:c3,ignored:()=>!0};function wx(n,e,t){return s3[t.paths](n.root,e.root,t.matrixParams)&&Ax[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function a3(n,e){return zr(n,e)}function Rx(n,e,t){if(!Bs(n.segments,e.segments)||!xp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Rx(n.children[r],e.children[r],t))return!1;return!0}function c3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ox(n[t],e[t]))}function Nx(n,e,t){return kx(n,e,e.segments,t)}function kx(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Bs(i,t)||e.hasChildren()||!xp(i,t,r))}else if(n.segments.length===t.length){if(!Bs(n.segments,t)||!xp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Nx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Bs(n.segments,i)||!xp(n.segments,i,r)||!n.children[_e]?!1:kx(n.children[_e],e,o,r)}}function xp(n,e,t){return e.every((r,i)=>Ax[t](n[i].parameters,r.parameters))}var qr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zs(this.queryParams),this._queryParamMap}toString(){return d3.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}},Ao=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zs(this.parameters),this._parameterMap}toString(){return Lx(this)}};function l3(n,e){return Bs(n,e)&&n.every((t,r)=>zr(t.parameters,e[r].parameters))}function Bs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function u3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===_e&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==_e&&(t=t.concat(e(i,r)))}),t}var Bu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new Hs,providedIn:"root"})}return n})(),Hs=class{parse(e){let t=new SE(e);return new qr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Du(e.root,!0)}`,r=p3(e.queryParams),i=typeof e.fragment=="string"?`#${h3(e.fragment)}`:"";return`${t}${r}${i}`}},d3=new Hs;function Ap(n){return n.segments.map(e=>Lx(e)).join("/")}function Du(n,e){if(!n.hasChildren())return Ap(n);if(e){let t=n.children[_e]?Du(n.children[_e],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==_e&&r.push(`${i}:${Du(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=u3(n,(r,i)=>i===_e?[Du(n.children[_e],!1)]:[`${i}:${Du(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[_e]!=null?`${Ap(n)}/${t[0]}`:`${Ap(n)}/(${t.join("//")})`}}function Fx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(n){return Fx(n).replace(/%3B/gi,";")}function h3(n){return encodeURI(n)}function PE(n){return Fx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(n){return decodeURIComponent(n)}function bx(n){return Rp(n.replace(/\+/g,"%20"))}function Lx(n){return`${PE(n.path)}${f3(n.parameters)}`}function f3(n){return Object.entries(n).map(([e,t])=>`;${PE(e)}=${PE(t)}`).join("")}function p3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Sp(t)}=${Sp(i)}`).join("&"):`${Sp(t)}=${Sp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var g3=/^[^\/()?;#]+/;function wE(n){let e=n.match(g3);return e?e[0]:""}var m3=/^[^\/()?;=#]+/;function y3(n){let e=n.match(m3);return e?e[0]:""}var _3=/^[^=?&#]+/;function v3(n){let e=n.match(_3);return e?e[0]:""}var C3=/^[^&#]+/;function E3(n){let e=n.match(C3);return e?e[0]:""}var SE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[_e]=new Ne(e,t)),r}parseSegment(){let e=wE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Ao(Rp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=y3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=wE(this.remaining);i&&(r=i,this.capture(r))}e[Rp(t)]=Rp(r)}parseQueryParam(e){let t=v3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=E3(this.remaining);s&&(r=s,this.capture(r))}let i=bx(t),o=bx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[_e]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function Vx(n){return n.segments.length>0?new Ne([],{[_e]:n}):n}function jx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=jx(i);if(r===_e&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return w3(t)}function w3(n){if(n.numberOfChildren===1&&n.children[_e]){let e=n.children[_e];return new Ne(n.segments.concat(e.segments),e.children)}return n}function Ro(n){return n instanceof qr}function Ux(n,e,t=null,r=null){let i=Bx(n);return $x(i,e,t,r)}function Bx(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Vx(r);return e??i}function $x(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return bE(i,i,i,t,r);let o=b3(e);if(o.toRoot())return bE(i,i,new Ne([],{}),t,r);let s=I3(o,i,n),a=s.processChildren?Pu(s.segmentGroup,s.index,o.commands):Hx(s.segmentGroup,s.index,o.commands);return bE(i,s.segmentGroup,a,t,r)}function Np(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function xu(n){return typeof n=="object"&&n!=null&&n.outlets}function bE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=zx(n,e,t);let a=Vx(jx(s));return new qr(a,o,i)}function zx(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=zx(o,e,t)}),new Ne(n.segments,r)}var kp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Np(r[0]))throw new L(4003,!1);let i=r.find(xu);if(i&&i!==xx(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function b3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kp(t,e,r)}var pc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function I3(n,e,t){if(n.isAbsolute)return new pc(e,!0,0);if(!t)return new pc(e,!1,NaN);if(t.parent===null)return new pc(t,!0,0);let r=Np(n.commands[0])?0:1,i=t.segments.length-1+r;return M3(t,i,n.numberOfDoubleDots)}function M3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new pc(r,!1,i-o)}function D3(n){return xu(n[0])?n[0].outlets:{[_e]:n}}function Hx(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return Pu(n,e,t);let r=T3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[_e]=new Ne(n.segments.slice(r.pathIndex),n.children),Pu(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?OE(n,e,t):r.match?Pu(n,0,i):OE(n,e,t)}function Pu(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=D3(t),i={};if(Object.keys(r).some(o=>o!==_e)&&n.children[_e]&&n.numberOfChildren===1&&n.children[_e].segments.length===0){let o=Pu(n.children[_e],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Hx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function T3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(xu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Mx(c,u,s))return o;r+=2}else{if(!Mx(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function OE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(xu(o)){let c=P3(o.outlets);return new Ne(r,c)}if(i===0&&Np(t[0])){let c=n.segments[e];r.push(new Ao(c.path,Ix(t[0]))),i++;continue}let s=xu(o)?o.outlets[_e]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Np(a)?(r.push(new Ao(s,Ix(a))),i+=2):(r.push(new Ao(s,{})),i++)}return new Ne(r,{})}function P3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=OE(new Ne([],{}),0,r))}),e}function Ix(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Mx(n,e,t){return n==t.path&&zr(e,t.parameters)}var Su="imperative",At=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(At||{}),Fn=class{id;url;constructor(e,t){this.id=e,this.url=t}},qs=class extends Fn{type=At.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vr=class extends Fn{urlAfterRedirects;type=At.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(mn||{}),Au=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Au||{}),Hr=class extends Fn{reason;code;type=At.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ki=class extends Fn{reason;code;type=At.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},mc=class extends Fn{error;target;type=At.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ru=class extends Fn{urlAfterRedirects;state;type=At.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fp=class extends Fn{urlAfterRedirects;state;type=At.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends Fn{urlAfterRedirects;state;shouldActivate;type=At.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vp=class extends Fn{urlAfterRedirects;state;type=At.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jp=class extends Fn{urlAfterRedirects;state;type=At.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Up=class{route;type=At.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bp=class{route;type=At.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$p=class{snapshot;type=At.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zp=class{snapshot;type=At.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{snapshot;type=At.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qp=class{snapshot;type=At.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nu=class{},yc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function S3(n){return!(n instanceof Nu)&&!(n instanceof yc)}function O3(n,e){return n.providers&&!n._injector&&(n._injector=uu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _r(n){return n.outlet||_e}function x3(n,e){let t=n.filter(r=>_r(r)===e);return t.push(...n.filter(r=>_r(r)!==e)),t}function Cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Gp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Cc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ec(this.rootInjector)}},Ec=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Gp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(_t))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=xE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=xE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=AE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AE(e,this._root).map(t=>t.value)}};function xE(n,e){if(n===e.value)return e;for(let t of e.children){let r=xE(n,t);if(r)return r}return null}function AE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=AE(n,t);if(r.length)return r.unshift(e),r}return[]}var kn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function fc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ku=class extends Wp{snapshot;constructor(e,t){super(e),this.snapshot=t,UE(this,e)}toString(){return this.snapshot.toString()}};function qx(n){let e=A3(n),t=new rt([new Ao("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new Fi(t,r,o,s,i,_e,n,e.root);return a.snapshot=e.root,new ku(new kn(a,[]),e)}function A3(n){let e={},t={},r={},i="",o=new $s([],e,r,i,t,_e,n,null,{});return new Fu("",new kn(o,[]))}var Fi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(be(u=>u[Uu]))??le(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(be(e=>zs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(be(e=>zs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&Wx(i)&&(r.resolve[Uu]=i.title),r}var $s=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uu]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fu=class extends Wp{url;constructor(e,t){super(t),this.url=e,UE(this,t)}toString(){return Gx(this._root)}};function UE(n,e){e.value._routerState=n,e.children.forEach(t=>UE(n,t))}function Gx(n){let e=n.children.length>0?` { ${n.children.map(Gx).join(", ")} } `:"";return`${n.value}${e}`}function IE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zr(e.params,t.params)||n.paramsSubject.next(t.params),o3(e.url,t.url)||n.urlSubject.next(t.url),zr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function RE(n,e){let t=zr(n.params,e.params)&&l3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||RE(n.parent,e.parent))}function Wx(n){return typeof n.title=="string"||n.title===null}var Kx=new K(""),$u=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=_e;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=SO(void 0);parentContexts=F(Ec);location=F(Si);changeDetector=F(Ri);inputBinder=F(Xp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new NE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jr]})}return n})(),NE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Fi?this.route:e===Ec?this.childContexts:e===Kx?this.outletData:this.parent.get(e,t)}},Xp=new K("");var BE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$t({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ai(0,"router-outlet")},dependencies:[$u],encapsulation:2})}return n})();function $E(n){let e=n.children&&n.children.map($E),t=e?ce(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_e&&(t.component=BE),t}function R3(n,e,t){let r=Lu(n,e._root,t?t._root:void 0);return new ku(r,e)}function Lu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=N3(n,e,t);return new kn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lu(n,a)),s}}let r=k3(e.value),i=e.children.map(o=>Lu(n,o));return new kn(r,i)}}function N3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lu(n,r,i);return Lu(n,r)})}function k3(n){return new Fi(new rt(n.url),new rt(n.params),new rt(n.queryParams),new rt(n.fragment),new rt(n.data),n.outlet,n.component,n)}var _c=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Qx="ngNavigationCancelingError";function Qp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yx(!1,mn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Yx(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Qx]=!0,t.cancellationCode=e,t}function F3(n){return Zx(n)&&Ro(n.url)}function Zx(n){return!!n&&n[Qx]}var L3=(n,e,t,r)=>be(i=>(new kE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),kE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),IE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=fc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=fc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(IE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),IE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function V3(n,e,t){let r=n._root,i=e?e._root:null;return Tu(r,i,t,[r.value])}function j3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function wc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!R_(n)?n:e.get(n):r}function Tu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fc(e);return n.children.forEach(s=>{U3(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ou(a,t.getContext(s),i)),i}function U3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=B3(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tu(n,e,a?a.children:null,r,i):Tu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gc(a.outlet.component,s))}else s&&Ou(e,a,i),i.canActivateChecks.push(new Yp(r)),o.component?Tu(n,null,a?a.children:null,r,i):Tu(n,null,t,r,i);return i}function B3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Bs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Bs(n.url,e.url)||!zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RE(n,e)||!zr(n.queryParams,e.queryParams);case"paramsChange":default:return!RE(n,e)}}function Ou(n,e,t){let r=fc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ou(s,e.children.getContext(o),t):Ou(s,null,t):Ou(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new gc(e.outlet.component,i)):t.canDeactivateChecks.push(new gc(null,i)):t.canDeactivateChecks.push(new gc(null,i))}function zu(n){return typeof n=="function"}function $3(n){return typeof n=="boolean"}function z3(n){return n&&zu(n.canLoad)}function H3(n){return n&&zu(n.canActivate)}function q3(n){return n&&zu(n.canActivateChild)}function G3(n){return n&&zu(n.canDeactivate)}function W3(n){return n&&zu(n.canMatch)}function Xx(n){return n instanceof yi||n?.name==="EmptyError"}var Op=Symbol("INITIAL_VALUE");function vc(){return $n(n=>Yh(n.map(e=>e.pipe(An(1),__(Op)))).pipe(be(e=>{for(let t of e)if(t!==!0){if(t===Op)return Op;if(t===!1||K3(t))return t}return!0}),Lt(e=>e!==Op),An(1)))}function K3(n){return Ro(n)||n instanceof _c}function Q3(n,e){return yt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?le(ce(U({},t),{guardsResult:!0})):Y3(s,r,i,n).pipe(yt(a=>a&&$3(a)?Z3(r,o,n,e):le(a)),be(a=>ce(U({},t),{guardsResult:a})))})}function Y3(n,e,t,r){return it(n).pipe(yt(i=>n4(i.component,i.route,t,e,r)),vi(i=>i!==!0,!0))}function Z3(n,e,t,r){return it(e).pipe(ms(i=>Ha(J3(i.route.parent,r),X3(i.route,r),t4(n,i.path,t),e4(n,i.route,t))),vi(i=>i!==!0,!0))}function X3(n,e){return n!==null&&e&&e(new Hp(n)),le(!0)}function J3(n,e){return n!==null&&e&&e(new $p(n)),le(!0)}function e4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return le(!0);let i=r.map(o=>Al(()=>{let s=Cc(e)??t,a=wc(o,s),c=H3(a)?a.canActivate(e,n):Pt(s,()=>a(e,n));return Li(c).pipe(vi())}));return le(i).pipe(vc())}function t4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>j3(s)).filter(s=>s!==null).map(s=>Al(()=>{let a=s.guards.map(c=>{let u=Cc(s.node)??t,d=wc(c,u),f=q3(d)?d.canActivateChild(r,n):Pt(u,()=>d(r,n));return Li(f).pipe(vi())});return le(a).pipe(vc())}));return le(o).pipe(vc())}function n4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let c=Cc(e)??i,u=wc(a,c),d=G3(u)?u.canDeactivate(n,e,t,r):Pt(c,()=>u(n,e,t,r));return Li(d).pipe(vi())});return le(s).pipe(vc())}function r4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return le(!0);let o=i.map(s=>{let a=wc(s,n),c=z3(a)?a.canLoad(e,t):Pt(n,()=>a(e,t));return Li(c)});return le(o).pipe(vc(),Jx(r))}function Jx(n){return s_(Ot(e=>{if(typeof e!="boolean")throw Qp(n,e)}),be(e=>e===!0))}function i4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return le(!0);let o=i.map(s=>{let a=wc(s,n),c=W3(a)?a.canMatch(e,t):Pt(n,()=>a(e,t));return Li(c)});return le(o).pipe(vc(),Jx(r))}var Vu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ju=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function hc(n){return $a(new Vu(n))}function o4(n){return $a(new L(4e3,!1))}function s4(n){return $a(Yx(!1,mn.GuardRejected))}var FE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return le(r);if(i.numberOfChildren>1||!i.children[_e])return o4(`${e.redirectTo}`);i=i.children[_e]}}applyRedirectCommands(e,t,r,i,o){return a4(t,i,o).pipe(be(s=>{if(s instanceof qr)throw new ju(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ju(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new qr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function a4(n,e,t){if(typeof n=="string")return le(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:f}=e;return Li(Pt(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var LE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c4(n,e,t,r,i){let o=eA(n,e,t);return o.matched?(r=O3(e,r),i4(r,e,t,i).pipe(be(s=>s===!0?o:U({},LE)))):le(o)}function eA(n,e,t){if(e.path==="**")return l4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},LE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Sx)(t,n,e);if(!i)return U({},LE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l4(n){return{matched:!0,parameters:n.length>0?xx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Dx(n,e,t,r){return t.length>0&&h4(n,t,r)?{segmentGroup:new Ne(e,d4(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&f4(n,t,r)?{segmentGroup:new Ne(n.segments,u4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function u4(n,e,t,r){let i={};for(let o of t)if(Jp(n,e,o)&&!r[_r(o)]){let s=new Ne([],{});i[_r(o)]=s}return U(U({},r),i)}function d4(n,e){let t={};t[_e]=e;for(let r of n)if(r.path===""&&_r(r)!==_e){let i=new Ne([],{});t[_r(r)]=i}return t}function h4(n,e,t){return t.some(r=>Jp(n,e,r)&&_r(r)!==_e)}function f4(n,e,t){return t.some(r=>Jp(n,e,r))}function Jp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function p4(n,e,t){return e.length===0&&!n.children[t]}var VE=class{};function g4(n,e,t,r,i,o,s="emptyOnly"){return new jE(n,e,t,r,i,s,o).recognize()}var m4=31,jE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new FE(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=Dx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(be(({children:t,rootSnapshot:r})=>{let i=new kn(r,t),o=new Fu("",i),s=Ux(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new $s([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_e,t).pipe(be(r=>({children:r,rootSnapshot:t})),_i(r=>{if(r instanceof ju)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(be(s=>s instanceof kn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return it(o).pipe(ms(s=>{let a=r.children[s],c=x3(t,s);return this.processSegmentGroup(e,c,a,s,i)}),y_((s,a)=>(s.push(...a),s)),mo(null),m_(),yt(s=>{if(s===null)return hc(r);let a=tA(s);return y4(a),le(a)}))}processSegment(e,t,r,i,o,s,a){return it(t).pipe(ms(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(_i(u=>{if(u instanceof Vu)return le(null);throw u}))),vi(c=>!!c),_i(c=>{if(Xx(c))return p4(r,i,o)?le(new VE):hc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return _r(r)!==s&&(s===_e||!Jp(i,o,r))?hc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):hc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=eA(t,i,o);if(!c)return hc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m4&&(this.allowRedirects=!1));let m=new $s(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Tx(i),_r(i),i.component??i._loadedComponent??null,i,Px(i)),w=Kp(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe($n(A=>this.applyRedirects.lineralizeSegments(i,A)),yt(A=>this.processSegment(e,r,t,A.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=c4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe($n(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($n(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,w=new $s(g,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Tx(r),_r(r),r.component??r._loadedComponent??null,r,Px(r)),S=Kp(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(S.params),w.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:V}=Dx(t,g,m,u);if(V.length===0&&A.hasChildren())return this.processChildren(d,u,A,w).pipe(be(G=>new kn(w,G)));if(u.length===0&&V.length===0)return le(new kn(w,[]));let H=_r(r)===o;return this.processSegment(d,u,A,V,H?_e:o,!0,w).pipe(be(G=>new kn(w,G instanceof kn?[G]:[])))}))):hc(t)))}getChildConfig(e,t,r){return t.children?le({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?le({routes:t._loadedRoutes,injector:t._loadedInjector}):r4(e,t,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ot(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):s4(t))):le({routes:[],injector:e})}};function y4(n){n.sort((e,t)=>e.value.outlet===_e?-1:t.value.outlet===_e?1:e.value.outlet.localeCompare(t.value.outlet))}function _4(n){let e=n.value.routeConfig;return e&&e.path===""}function tA(n){let e=[],t=new Set;for(let r of n){if(!_4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=tA(r.children);e.push(new kn(r.value,i))}return e.filter(r=>!t.has(r))}function Tx(n){return n.data||{}}function Px(n){return n.resolve||{}}function v4(n,e,t,r,i,o){return yt(s=>g4(n,e,t,r,s.extractedUrl,i,o).pipe(be(({state:a,tree:c})=>ce(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function C4(n,e){return yt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return le(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of nA(c))s.add(u);let a=0;return it(s).pipe(ms(c=>o.has(c)?E4(c,r,n,e):(c.data=Kp(c,c.parent,n).resolve,le(void 0))),Ot(()=>a++),qa(1),yt(c=>a===s.size?le(t):vn))})}function nA(n){let e=n.children.map(t=>nA(t)).flat();return[n,...e]}function E4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Wx(i)&&(o[Uu]=i.title),Al(()=>(n.data=Kp(n,n.parent,t).resolve,w4(o,n,e,r).pipe(be(s=>(n._resolvedData=s,n.data=U(U({},n.data),s),null)))))}function w4(n,e,t,r){let i=TE(n);if(i.length===0)return le({});let o={};return it(i).pipe(yt(s=>b4(n[s],e,t,r).pipe(vi(),Ot(a=>{if(a instanceof _c)throw Qp(new Hs,a);o[s]=a}))),qa(1),be(()=>o),_i(s=>Xx(s)?vn:$a(s)))}function b4(n,e,t,r){let i=Cc(e)??r,o=wc(n,i),s=o.resolve?o.resolve(e,t):Pt(i,()=>o(e,t));return Li(s)}function ME(n){return $n(e=>{let t=n(e);return t?it(t).pipe(be(()=>e)):le(e)})}var zE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===_e);return r}getResolvedTitleForRoute(t){return t.data[Uu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(rA),providedIn:"root"})}return n})(),rA=(()=>{class n extends zE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(Ex))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bc=new K("",{providedIn:"root",factory:()=>({})}),Hu=new K(""),iA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(jC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Li(Pt(t,()=>r.loadComponent())).pipe(be(sA),Ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Rl(()=>{this.componentLoaders.delete(r)})),o=new Va(i,()=>new ft).pipe(La());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=oA(r,this.compiler,t,this.onLoadEndListener).pipe(Rl(()=>{this.childrenLoaders.delete(r)})),s=new Va(o,()=>new ft).pipe(La());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oA(n,e,t,r){return Li(Pt(t,()=>n.loadChildren())).pipe(be(sA),yt(i=>i instanceof sp||Array.isArray(i)?le(i):it(e.compileModuleAsync(i))),be(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Hu,[],{optional:!0,self:!0}).flat()),{routes:s.map($E),injector:o}}))}function I4(n){return n&&typeof n=="object"&&"default"in n}function sA(n){return I4(n)?n.default:n}var eg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(M4),providedIn:"root"})}return n})(),M4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aA=new K("");var cA=new K(""),lA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ft;transitionAbortWithErrorSubject=new ft;configLoader=F(iA);environmentInjector=F(_t);destroyRef=F(Kn);urlSerializer=F(Bu);rootContexts=F(Ec);location=F(dc);inputBindingEnabled=F(Xp,{optional:!0})!==null;titleStrategy=F(zE);options=F(bc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(eg);createViewTransition=F(aA,{optional:!0});navigationErrorHandler=F(cA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Up(i)),r=i=>this.events.next(new Bp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new rt(null),this.transitions.pipe(Lt(r=>r!==null),$n(r=>{let i=!1;return le(r).pipe($n(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",mn.SupersededByNewNavigation),vn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ce(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new ki(o.id,this.urlSerializer.serialize(o.rawUrl),c,Au.IgnoredSameUrlNavigation)),o.resolve(!1),vn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return le(o).pipe($n(c=>(this.events.next(new qs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?vn:Promise.resolve(c))),v4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ot(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ce(U({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Ru(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:g}=o,m=new qs(c,this.urlSerializer.serialize(u),d,f);this.events.next(m);let w=qx(this.rootComponentType).snapshot;return this.currentTransition=r=ce(U({},o),{targetSnapshot:w,urlAfterRedirects:u,extras:ce(U({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,le(r)}else{let c="";return this.events.next(new ki(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Au.IgnoredByUrlHandlingStrategy)),o.resolve(!1),vn}}),Ot(o=>{let s=new Fp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),be(o=>(this.currentTransition=r=ce(U({},o),{guards:V3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Q3(this.environmentInjector,o=>this.events.next(o)),Ot(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Qp(this.urlSerializer,o.guardsResult);let s=new Lp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Lt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",mn.GuardRejected),!1)),ME(o=>{if(o.guards.canActivateChecks.length!==0)return le(o).pipe(Ot(s=>{let a=new Vp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),$n(s=>{let a=!1;return le(s).pipe(C4(this.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",mn.NoDataFromResolver)}}))}),Ot(s=>{let a=new jp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ME(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=Cc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Ot(d=>{a.component=d}),be(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Yh(s(o.targetSnapshot.root)).pipe(mo(null),An(1))}),ME(()=>this.afterPreactivation()),$n(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?it(a).pipe(be(()=>r)):le(r)}),be(o=>{let s=R3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ce(U({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ot(()=>{this.events.next(new Nu)}),L3(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),An(1),Xh(new ge(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Lt(()=>!i&&!r.targetRouterState),Ot(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",mn.Aborted)}))),Ot({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Xh(this.transitionAbortWithErrorSubject.pipe(Ot(o=>{throw o}))),Rl(()=>{i||this.cancelNavigationTransition(r,"",mn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),_i(o=>{if(this.destroyed)return r.resolve(!1),vn;if(i=!0,Zx(o))this.events.next(new Hr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),F3(o)?this.events.next(new yc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new mc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof _c){let{message:c,cancellationCode:u}=Qp(this.urlSerializer,a);this.events.next(new Hr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new yc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return vn}))}))}cancelNavigationTransition(t,r,i){let o=new Hr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D4(n){return n!==Su}var uA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(T4),providedIn:"root"})}return n})(),Zp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},T4=(()=>{class n extends Zp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dA=(()=>{class n{urlSerializer=F(Bu);options=F(bc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(dc);urlHandlingStrategy=F(eg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof qr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=qx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(P4),providedIn:"root"})}return n})(),P4=(()=>{class n extends dA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof qs?this.updateStateMemento():t instanceof ki?this.commitTransition(r):t instanceof Ru?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Hr&&t.code!==mn.SupersededByNewNavigation&&t.code!==mn.Redirect?this.restoreHistory(r):t instanceof mc?this.restoreHistory(r,!0):t instanceof vr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HE(n,e){n.events.pipe(Lt(t=>t instanceof vr||t instanceof Hr||t instanceof mc||t instanceof ki),be(t=>t instanceof vr||t instanceof ki?0:(t instanceof Hr?t.code===mn.Redirect||t.code===mn.SupersededByNewNavigation:!1)?2:1),Lt(t=>t!==2),An(1)).subscribe(()=>{e()})}var S4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},In=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(AC);stateManager=F(dA);options=F(bc,{optional:!0})||{};pendingTasks=F(Lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(lA);urlSerializer=F(Bu);location=F(dc);urlHandlingStrategy=F(eg);injector=F(_t);_events=new ft;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(uA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Hu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(Xp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Hr&&r.code!==mn.Redirect&&r.code!==mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vr)this.navigated=!0;else if(r instanceof yc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||D4(i.source)},s);this.scheduleNavigation(a,Su,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}S3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Su,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Xt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($E),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=Bx(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return $x(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ro(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Su,null,r)}navigate(t,r={skipLocationChange:!1}){return x4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},S4):r===!1?i=U({},O4):i=r,Ro(t))return wx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return wx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return HE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var Ic=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Fr(null);get href(){return wn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ft;applicationErrorHandler=F(Xt);options=F(bc,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(F(new fp("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof vr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ro(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ro(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)($(In),$(Fi),au("tabindex"),$(fr),$(dn),$(uc))};static \u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Po("href",i.reactiveHref(),hC)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vs],replaceUrl:[2,"replaceUrl","replaceUrl",Vs],routerLink:"routerLink"},features:[jr]})}return n})(),qE=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new pt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof vr&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(za()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=it(t).pipe(za()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=R4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)($(In),$(dn),$(fr),$(Ri),$(Ic,8))};static \u0275dir=Ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&kC(o,Ic,5),r&2){let s;FC(s=LC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[jr]})}return n})();function R4(n){return!!n.paths}var N4=new K("");function GE(n,...e){return ln([{provide:Hu,multi:!0,useValue:n},[],{provide:Fi,useFactory:k4,deps:[In]},{provide:up,multi:!0,useFactory:F4},e.map(t=>t.\u0275providers)])}function k4(n){return n.routerState.root}function F4(){let n=F(ut);return e=>{let t=n.get(xi);if(e!==t.components[0])return;let r=n.get(In),i=n.get(L4);n.get(V4)===1&&r.initialNavigation(),n.get(j4,null,{optional:!0})?.setUpPreloading(),n.get(N4,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var L4=new K("",{factory:()=>new ft}),V4=new K("",{providedIn:"root",factory:()=>1});var j4=new K("");var Ee=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ee||{}),Cr="*";function hA(n,e=null){return{type:Ee.Sequence,steps:n,options:e}}function WE(n){return{type:Ee.Style,styles:n,offset:null}}var Vi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Mc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},qu="!";function fA(n){return new L(3e3,!1)}function U4(){return new L(3100,!1)}function B4(){return new L(3101,!1)}function $4(n){return new L(3001,!1)}function z4(n){return new L(3003,!1)}function H4(n){return new L(3004,!1)}function gA(n,e){return new L(3005,!1)}function mA(){return new L(3006,!1)}function yA(){return new L(3007,!1)}function _A(n,e){return new L(3008,!1)}function vA(n){return new L(3002,!1)}function CA(n,e,t,r,i){return new L(3010,!1)}function EA(){return new L(3011,!1)}function wA(){return new L(3012,!1)}function bA(){return new L(3200,!1)}function IA(){return new L(3202,!1)}function MA(){return new L(3013,!1)}function DA(n){return new L(3014,!1)}function TA(n){return new L(3015,!1)}function PA(n){return new L(3016,!1)}function SA(n,e){return new L(3404,!1)}function q4(n){return new L(3502,!1)}function OA(n){return new L(3503,!1)}function xA(){return new L(3300,!1)}function AA(n){return new L(3504,!1)}function RA(n){return new L(3301,!1)}function NA(n,e){return new L(3302,!1)}function kA(n){return new L(3303,!1)}function FA(n,e){return new L(3400,!1)}function LA(n){return new L(3401,!1)}function VA(n){return new L(3402,!1)}function jA(n,e){return new L(3505,!1)}function ji(n){switch(n.length){case 0:return new Vi;case 1:return n[0];default:return new Mc(n)}}function ZE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((g,m)=>{let w=m,S=g;if(m!=="offset")switch(w=n.normalizePropertyName(w,i),S){case qu:S=t.get(m);break;case Cr:S=r.get(m);break;default:S=n.normalizeStyleValue(m,w,S,i);break}f.set(w,S)}),d||o.push(f),a=f,s=u}),i.length)throw q4(i);return o}function ng(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&KE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&KE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&KE(t,"destroy",n)));break}}function KE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=rg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function rg(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Mn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function XE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var G4=typeof document>"u"?null:document.documentElement;function ig(n){let e=n.parentNode||n.host||null;return e===G4?null:e}function W4(n){return n.substring(1,6)=="ebkit"}var Gs=null,pA=!1;function UA(n){Gs||(Gs=K4()||{},pA=Gs.style?"WebkitAppearance"in Gs.style:!1);let e=!0;return Gs.style&&!W4(n)&&(e=n in Gs.style,!e&&pA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gs.style)),e}function K4(){return typeof document<"u"?document.body:null}function JE(n,e){for(;e;){if(e===n)return!0;e=ig(e)}return!1}function ew(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Q4=1e3,tw="{{",Y4="}}",nw="ng-enter",og="ng-leave",Gu="ng-trigger",Wu=".ng-trigger",rw="ng-animating",sg=".ng-animating";function Gr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:QE(parseFloat(e[1]),e[2])}function QE(n,e){switch(e){case"s":return n*Q4;default:return n}}function Ku(n,e,t){return n.hasOwnProperty("duration")?n:Z4(n,e,t)}function Z4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(fA(n)),{duration:0,delay:0,easing:""};i=QE(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=QE(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(U4()),a=!0),o<0&&(e.push(B4()),a=!0),a&&e.splice(c,0,fA(n))}return{duration:i,delay:o,easing:s}}function BA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Er(n,e,t){e.forEach((r,i)=>{let o=ag(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function No(n,e){e.forEach((t,r)=>{let i=ag(r);n.style[i]=""})}function Dc(n){return Array.isArray(n)?n.length==1?n[0]:hA(n):n}function $A(n,e,t){let r=e.params||{},i=iw(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push($4(o))})}var YE=new RegExp(`${tw}\\s*(.+?)\\s*${Y4}`,"g");function iw(n){let e=[];if(typeof n=="string"){let t;for(;t=YE.exec(n);)e.push(t[1]);YE.lastIndex=0}return e}function Tc(n,e,t){let r=`${n}`,i=r.replace(YE,(o,s)=>{let a=e[s];return a==null&&(t.push(z4(s)),a=""),a.toString()});return i==r?n:i}var X4=/-+([a-z0-9])/g;function ag(n){return n.replace(X4,(...e)=>e[1].toUpperCase())}function zA(n,e){return n===0||e===0}function HA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,cg(n,a)))}}return e}function Dn(n,e,t){switch(e.type){case Ee.Trigger:return n.visitTrigger(e,t);case Ee.State:return n.visitState(e,t);case Ee.Transition:return n.visitTransition(e,t);case Ee.Sequence:return n.visitSequence(e,t);case Ee.Group:return n.visitGroup(e,t);case Ee.Animate:return n.visitAnimate(e,t);case Ee.Keyframes:return n.visitKeyframes(e,t);case Ee.Style:return n.visitStyle(e,t);case Ee.Reference:return n.visitReference(e,t);case Ee.AnimateChild:return n.visitAnimateChild(e,t);case Ee.AnimateRef:return n.visitAnimateRef(e,t);case Ee.Query:return n.visitQuery(e,t);case Ee.Stagger:return n.visitStagger(e,t);default:throw H4(e.type)}}function cg(n,e){return window.getComputedStyle(n)[e]}var Ew=(()=>{class n{validateStyleProperty(t){return UA(t)}containsElement(t,r){return JE(t,r)}getParentElement(t){return ig(t)}query(t,r,i){return ew(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Vi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Ks=class{static NOOP=new Ew},Qs=class{};var J4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),fg=class extends Qs{normalizePropertyName(e,t){return ag(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(J4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(gA(e,r))}return s+o}};var pg="*";function e$(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>t$(r,t,e)):t.push(n),t}function t$(n,e,t){if(n[0]==":"){let c=n$(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(TA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(qA(i,s));let a=i==pg&&s==pg;o[0]=="<"&&!a&&e.push(qA(s,i))}function n$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(PA(n)),"* => *"}}var lg=new Set(["true","1"]),ug=new Set(["false","0"]);function qA(n,e){let t=lg.has(n)||ug.has(n),r=lg.has(e)||ug.has(e);return(i,o)=>{let s=n==pg||n==i,a=e==pg||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?lg.has(n):ug.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?lg.has(e):ug.has(e)),s&&a}}var t1=":self",r$=new RegExp(`s*${t1}s*,?`,"g");function n1(n,e,t,r){return new uw(n).build(e,t,r)}var GA="",uw=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new dw(t);return this._resetContextStyleTimingState(i),Dn(this,Dc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=GA,e.collectedStyles=new Map,e.collectedStyles.set(GA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(mA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ee.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==Ee.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(yA())}),{type:Ee.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{iw(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(_A(e.name,[...o.values()]))}return{type:Ee.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Dn(this,Dc(e.animation),t),i=e$(e.expr,t.errors);return{type:Ee.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ws(e.options)}}visitSequence(e,t){return{type:Ee.Sequence,steps:e.steps.map(r=>Dn(this,r,t)),options:Ws(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Dn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ee.Group,steps:o,options:Ws(e.options)}}visitAnimate(e,t){let r=a$(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:WE({});if(o.type==Ee.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=WE(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ee.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Cr?r.push(a):t.errors.push(vA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(tw)>=0){o=!0;break}}}),{type:Ee.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(CA(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&$A(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ee.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(EA()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(V=>{let H=this._makeStyleAst(V,t),G=H.offset!=null?H.offset:s$(H.styles),Y=0;return G!=null&&(o++,Y=H.offset=G),c=c||Y<0||Y>1,a=a||Y<u,u=Y,s.push(Y),H});c&&t.errors.push(wA()),a&&t.errors.push(bA());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(IA()):o==0&&(g=i/(f-1));let m=f-1,w=t.currentTime,S=t.currentAnimateTimings,A=S.duration;return d.forEach((V,H)=>{let G=g>0?H==m?1:g*H:s[H],Y=G*A;t.currentTime=w+S.delay+Y,S.duration=Y,this._validateStyleAst(V,t),V.offset=G,r.styles.push(V)}),r}visitReference(e,t){return{type:Ee.Reference,animation:Dn(this,Dc(e.animation),t),options:Ws(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ee.AnimateChild,options:Ws(e.options)}}visitAnimateRef(e,t){return{type:Ee.AnimateRef,animation:this.visitReference(e.animation,t),options:Ws(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=i$(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Mn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Dn(this,Dc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ee.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ws(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(MA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ku(e.timings,t.errors,!0);return{type:Ee.Stagger,animation:Dn(this,Dc(e.animation),t),timings:r,options:null}}};function i$(n){let e=!!n.split(/\s*,\s*/).find(t=>t==t1);return e&&(n=n.replace(r$,"")),n=n.replace(/@\*/g,Wu).replace(/@\w+/g,t=>Wu+"-"+t.slice(1)).replace(/:animating/g,sg),[n,e]}function o$(n){return n?U({},n):null}var dw=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function s$(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function a$(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Ku(n,e).duration;return ow(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ow(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Ku(t,e);return ow(i.duration,i.delay,i.easing)}function Ws(n){return n?(n=U({},n),n.params&&(n.params=o$(n.params))):n={},n}function ow(n,e,t){return{duration:n,delay:e,easing:t}}function ww(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Yu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},c$=1,l$=":enter",u$=new RegExp(l$,"g"),d$=":leave",h$=new RegExp(d$,"g");function r1(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new hw().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var hw=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new Yu;let f=new fw(e,t,u,i,o,d,[]);f.options=c;let g=c.delay?Gr(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),Dn(this,r,f);let m=f.timelines.filter(w=>w.containsAnimation());if(m.length&&a.size){let w;for(let S=m.length-1;S>=0;S--){let A=m[S];if(A.element===t){w=A;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,f.errors,c)}return m.length?m.map(w=>w.buildKeyframes()):[ww(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Gr(Tc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Gr(r.duration):null,a=r.delay!=null?Gr(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Dn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ee.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gg);let s=Gr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Gr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Tc(r,t.params,t.errors):r;return Ku(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ee.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Gr(i.delay):0;o&&(t.previousNode.type===Ee.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gg);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),Dn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Dn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},gg={},fw=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=gg;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new mg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Gr(r.duration)),r.delay!=null&&(i.delay=Gr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Tc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=gg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new pw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(u$,"."+this._enterClassName),e=e.replace(h$,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(DA(t)),a}},mg=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=c$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Cr),this._currentKeyframe.set(t,Cr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=f$(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Tc(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Cr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===qu?e.add(f):d===Cr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return ww(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},pw=class extends mg{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",WA(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),m=g.get("offset"),w=t+m*r;g.set("offset",WA(w/s)),o.push(g)}r=s,t=0,i="",e=o}return ww(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function WA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function f$(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Cr)}else for(let[o,s]of i)t.set(o,s)}),t}function KA(n,e,t,r,i,o,s,a,c,u,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var sw={},yg=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return p$(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],g=this.ast.options&&this.ast.options.params||sw,m=a&&a.params||sw,w=this.buildStyles(r,m,f),S=c&&c.params||sw,A=this.buildStyles(i,S,f),V=new Set,H=new Map,G=new Map,Y=i==="void",ke={params:i1(S,g),delay:this.ast.options?.delay},he=d?[]:r1(e,t,this.ast.animation,o,s,w,A,ke,u,f),D=0;return he.forEach(E=>{D=Math.max(E.duration+E.delay,D)}),f.length?KA(t,this._triggerName,r,i,Y,w,A,[],[],H,G,D,f):(he.forEach(E=>{let b=E.element,T=Mn(H,b,new Set);E.preStyleProps.forEach(x=>T.add(x));let P=Mn(G,b,new Set);E.postStyleProps.forEach(x=>P.add(x)),b!==t&&V.add(b)}),KA(t,this._triggerName,r,i,Y,w,A,he,[...V.values()],H,G,D))}};function p$(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function i1(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var gw=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=i1(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Tc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function g$(n,e,t){return new mw(n,e,t)}var mw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new gw(i.style,o,r))}),QA(this.states,"true","1"),QA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new yg(e,i,this.states))}),this.fallbackTransition=m$(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function m$(n,e,t){let r=[(s,a)=>!0],i={type:Ee.Sequence,steps:[],options:null},o={type:Ee.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new yg(n,o,e)}function QA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var y$=new Yu,yw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=n1(this._driver,t,r,i);if(r.length)throw OA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=ZE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=r1(this._driver,t,o,nw,og,new Map,new Map,r,y$,i),s.forEach(d=>{let f=Mn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(xA()),s=[]),i.length)throw AA(i);a.forEach((d,f)=>{d.forEach((g,m)=>{d.set(m,this._driver.computeStyle(f,m,Cr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=ji(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw RA(e);return t}listen(e,t,r,i){let o=rg(t,"","","");return ng(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},YA="ng-animate-queued",_$=".ng-animate-queued",aw="ng-animate-disabled",v$=".ng-animate-disabled",C$="ng-star-inserted",E$=".ng-star-inserted",w$=[],o1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},b$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wr="__ng_removed",Zu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=M$(i),r){let o=e,{value:s}=o,a=ls(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Qu="void",cw=new Zu(Qu),_w=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Xn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw NA(r,t);if(r==null||r.length==0)throw kA(t);if(!D$(r))throw FA(r,t);let o=Mn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Mn(this._engine.statesByElement,e,new Map);return a.has(t)||(Xn(e,Gu),Xn(e,Gu+"-"+t),a.set(t,cw)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw LA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Xu(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Xn(e,Gu),Xn(e,Gu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new Zu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=cw),!(u.value===Qu)&&c.value===u.value){if(!S$(c.params,u.params)){let S=[],A=o.matchStyles(c.value,c.params,S),V=o.matchStyles(u.value,u.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{No(e,A),Er(e,V)})}return}let g=Mn(this._engine.playersByElement,e,[]);g.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let m=o.matchTransition(c.value,u.value,e,u.params),w=!1;if(!m){if(!i)return;m=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:u,player:s,isFallbackTransition:w}),w||(Xn(e,YA),s.onStart(()=>{Pc(e,YA)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);let A=this._engine.playersByElement.get(e);if(A){let V=A.indexOf(s);V>=0&&A.splice(V,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Wu,!0);r.forEach(i=>{if(i[wr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,Qu,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&ji(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||cw,d=new Zu(Qu),f=new Xu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[wr];(!o||o===o1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=rg(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ng(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},vw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new _w(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(dg(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!dg(t))return;let o=t[wr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xn(e,aw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pc(e,aw))}removeNode(e,t,r){if(dg(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[wr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return dg(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Wu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,sg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ji(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[wr];if(t&&t.setForRemoval){if(e[wr]=o1,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,v$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Xn(i,C$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?ji(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw VA(e)}_flushAnimations(e,t){let r=new Yu,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Q=>{d.add(Q);let Z=this.driver.query(Q,_$,!0);for(let ee=0;ee<Z.length;ee++)d.add(Z[ee])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=JA(g,this.collectedEnterElements),w=new Map,S=0;m.forEach((Q,Z)=>{let ee=nw+S++;w.set(Z,ee),Q.forEach(Ie=>Xn(Ie,ee))});let A=[],V=new Set,H=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let Z=this.collectedLeaveElements[Q],ee=Z[wr];ee&&ee.setForRemoval&&(A.push(Z),V.add(Z),ee.hasAnimation?this.driver.query(Z,E$,!0).forEach(Ie=>V.add(Ie)):H.add(Z))}let G=new Map,Y=JA(g,Array.from(V));Y.forEach((Q,Z)=>{let ee=og+S++;G.set(Z,ee),Q.forEach(Ie=>Xn(Ie,ee))}),e.push(()=>{m.forEach((Q,Z)=>{let ee=w.get(Z);Q.forEach(Ie=>Pc(Ie,ee))}),Y.forEach((Q,Z)=>{let ee=G.get(Z);Q.forEach(Ie=>Pc(Ie,ee))}),A.forEach(Q=>{this.processLeaveNode(Q)})});let ke=[],he=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(ee=>{let Ie=ee.player,ht=ee.element;if(ke.push(Ie),this.collectedEnterElements.length){let ct=ht[wr];if(ct&&ct.setForMove){if(ct.previousTriggersValues&&ct.previousTriggersValues.has(ee.triggerName)){let fi=ct.previousTriggersValues.get(ee.triggerName),_n=this.statesByElement.get(ee.element);if(_n&&_n.has(ee.triggerName)){let pi=_n.get(ee.triggerName);pi.value=fi,_n.set(ee.triggerName,pi)}}Ie.destroy();return}}let Bn=!f||!this.driver.containsElement(f,ht),at=G.get(ht),We=w.get(ht),Ke=this._buildInstruction(ee,r,We,at,Bn);if(Ke.errors&&Ke.errors.length){he.push(Ke);return}if(Bn){Ie.onStart(()=>No(ht,Ke.fromStyles)),Ie.onDestroy(()=>Er(ht,Ke.toStyles)),i.push(Ie);return}if(ee.isFallbackTransition){Ie.onStart(()=>No(ht,Ke.fromStyles)),Ie.onDestroy(()=>Er(ht,Ke.toStyles)),i.push(Ie);return}let so=[];Ke.timelines.forEach(ct=>{ct.stretchStartingKeyframe=!0,this.disabledNodes.has(ct.element)||so.push(ct)}),Ke.timelines=so,r.append(ht,Ke.timelines);let by={instruction:Ke,player:Ie,element:ht};s.push(by),Ke.queriedElements.forEach(ct=>Mn(a,ct,[]).push(Ie)),Ke.preStyleProps.forEach((ct,fi)=>{if(ct.size){let _n=c.get(fi);_n||c.set(fi,_n=new Set),ct.forEach((pi,ao)=>_n.add(ao))}}),Ke.postStyleProps.forEach((ct,fi)=>{let _n=u.get(fi);_n||u.set(fi,_n=new Set),ct.forEach((pi,ao)=>_n.add(ao))})});if(he.length){let Q=[];he.forEach(Z=>{Q.push(jA(Z.triggerName,Z.errors))}),ke.forEach(Z=>Z.destroy()),this.reportError(Q)}let D=new Map,E=new Map;s.forEach(Q=>{let Z=Q.element;r.has(Z)&&(E.set(Z,Z),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,D))}),i.forEach(Q=>{let Z=Q.element;this._getPreviousPlayers(Z,!1,Q.namespaceId,Q.triggerName,null).forEach(Ie=>{Mn(D,Z,[]).push(Ie),Ie.destroy()})});let b=A.filter(Q=>e1(Q,c,u)),T=new Map;XA(T,this.driver,H,u,Cr).forEach(Q=>{e1(Q,c,u)&&b.push(Q)});let x=new Map;m.forEach((Q,Z)=>{XA(x,this.driver,new Set(Q),c,qu)}),b.forEach(Q=>{let Z=T.get(Q),ee=x.get(Q);T.set(Q,new Map([...Z?.entries()??[],...ee?.entries()??[]]))});let I=[],Un=[],oo={};s.forEach(Q=>{let{element:Z,player:ee,instruction:Ie}=Q;if(r.has(Z)){if(d.has(Z)){ee.onDestroy(()=>Er(Z,Ie.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Ie.totalTime),i.push(ee);return}let ht=oo;if(E.size>1){let at=Z,We=[];for(;at=at.parentNode;){let Ke=E.get(at);if(Ke){ht=Ke;break}We.push(at)}We.forEach(Ke=>E.set(Ke,ht))}let Bn=this._buildAnimation(ee.namespaceId,Ie,D,o,x,T);if(ee.setRealPlayer(Bn),ht===oo)I.push(ee);else{let at=this.playersByElement.get(ht);at&&at.length&&(ee.parentPlayer=ji(at)),i.push(ee)}}else No(Z,Ie.fromStyles),ee.onDestroy(()=>Er(Z,Ie.toStyles)),Un.push(ee),d.has(Z)&&i.push(ee)}),Un.forEach(Q=>{let Z=o.get(Q.element);if(Z&&Z.length){let ee=ji(Z);Q.setRealPlayer(ee)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<A.length;Q++){let Z=A[Q],ee=Z[wr];if(Pc(Z,og),ee&&ee.hasAnimation)continue;let Ie=[];if(a.size){let Bn=a.get(Z);Bn&&Bn.length&&Ie.push(...Bn);let at=this.driver.query(Z,sg,!0);for(let We=0;We<at.length;We++){let Ke=a.get(at[We]);Ke&&Ke.length&&Ie.push(...Ke)}}let ht=Ie.filter(Bn=>!Bn.destroyed);ht.length?T$(this,Z,ht):this.processLeaveNode(Z)}return A.length=0,I.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let Z=this.players.indexOf(Q);this.players.splice(Z,1)}),Q.play()}),I}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Qu;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=Mn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let w=m.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),m.destroy(),f.push(m)})}No(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,g=t.timelines.map(w=>{let S=w.element;d.add(S);let A=S[wr];if(A&&A.removedBeforeQueried)return new Vi(w.duration,w.delay);let V=S!==c,H=P$((r.get(S)||w$).map(D=>D.getRealPlayer())).filter(D=>{let E=D;return E.element?E.element===S:!1}),G=o.get(S),Y=s.get(S),ke=ZE(this._normalizer,w.keyframes,G,Y),he=this._buildPlayer(w,ke,H);if(w.subTimeline&&i&&f.add(S),V){let D=new Xu(e,a,S);D.setRealPlayer(he),u.push(D)}return he});u.forEach(w=>{Mn(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>I$(this.playersByQueriedElement,w.element,w))}),d.forEach(w=>Xn(w,rw));let m=ji(g);return m.onDestroy(()=>{d.forEach(w=>Pc(w,rw)),Er(c,t.toStyles)}),f.forEach(w=>{Mn(i,w,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Vi(e.duration,e.delay)}},Xu=class{namespaceId;triggerName;element;_player=new Vi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ng(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Mn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function I$(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function M$(n){return n??null}function dg(n){return n&&n.nodeType===1}function D$(n){return n=="start"||n=="done"}function ZA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function XA(n,e,t,r,i){let o=[];t.forEach(c=>o.push(ZA(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[wr]=b$,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>ZA(c,o[a++])),s}function JA(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Xn(n,e){n.classList?.add(e)}function Pc(n,e){n.classList?.remove(e)}function T$(n,e,t){ji(t).onDone(()=>n.processLeaveNode(e))}function P$(n){let e=[];return s1(n,e),e}function s1(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Mc?s1(r.players,e):e.push(r)}}function S$(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function e1(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Sc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new vw(e.body,t,r),this._timelineEngine=new yw(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=n1(this._driver,o,c,u);if(c.length)throw SA(i,c);a=g$(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=XE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=XE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function O$(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=lw(e[0]),e.length>1&&(r=lw(e[e.length-1]))):e instanceof Map&&(t=lw(e)),t||r?new x$(n,t,r):null}var x$=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Er(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Er(this._element,this._initialStyles),this._endStyles&&(Er(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(No(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(No(this._element,this._endStyles),this._endStyles=null),Er(this._element,this._initialStyles),this._state=3)}}return n})();function lw(n){let e=null;return n.forEach((t,r)=>{A$(r)&&(e=e||new Map,e.set(r,t))}),e}function A$(n){return n==="display"||n==="position"}var _g=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:cg(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},vg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return JE(e,t)}getParentElement(e){return ig(e)}query(e,t,r){return ew(e,t,r)}computeStyle(e,t,r){return cg(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(m=>m instanceof _g);zA(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((w,S)=>u.set(S,w))});let f=BA(t).map(m=>new Map(m));f=HA(e,f,u);let g=O$(e,f);return new _g(e,f,c,g)}};var hg="@",a1="@.disabled",Cg=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==hg&&t==a1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Cw=class extends Cg{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==hg?t.charAt(1)=="."&&t==a1?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==hg){let o=R$(e),s=t.slice(1),a="";return s.charAt(0)!=hg&&([s,a]=N$(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function R$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function N$(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Eg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Cg(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new Cw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var F$=(()=>{class n extends Sc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(X(vt),X(Ks),X(Qs))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function L$(){return new fg}function V$(n,e,t){return new Eg(n,e,t)}var c1=[{provide:Qs,useFactory:L$},{provide:Sc,useClass:F$},{provide:Ti,useFactory:V$,deps:[Iu,Sc,Oe]}],Cue=[{provide:Ks,useClass:Ew},{provide:Xf,useValue:"NoopAnimations"},...c1],j$=[{provide:Ks,useFactory:()=>new vg},{provide:Xf,useFactory:()=>"BrowserAnimations"},...c1];function l1(){return Ns("NgEagerAnimations"),[...j$]}var u1=()=>{};var f1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},U$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):U$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Iw;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Iw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},B$=function(n){let e=f1(n);return wg.encodeByteArray(e,!0)},ed=function(n){return B$(n).replace(/\./g,"")},bg=function(n){try{return wg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $$=()=>Dw().__FIREBASE_DEFAULTS__,z$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},H$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&bg(n[1]);return e&&JSON.parse(e)},Ig=()=>{try{return u1()||$$()||z$()||H$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tw=n=>{var e,t;return(t=(e=Ig())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Mg=n=>{let e=Tw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Pw=()=>{var n;return(n=Ig())===null||n===void 0?void 0:n.config},Sw=n=>{var e;return(e=Ig())===null||e===void 0?void 0:e[`_${n}`]};var Ys=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Wr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Oc(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Dg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ed(JSON.stringify(t)),ed(JSON.stringify(s)),""].join(".")}var Ju={};function q$(){let n={prod:[],emulator:[]};for(let e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function G$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var d1=!1;function xc(n,e){if(typeof window>"u"||typeof document>"u"||!Wr(window.location.host)||Ju[n]===e||Ju[n]||d1)return;Ju[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=q$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{d1=!0,s()},g}function d(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=G$(r),m=t("text"),w=document.getElementById(m)||document.createElement("span"),S=t("learnmore"),A=document.getElementById(S)||document.createElement("a"),V=t("preprendIcon"),H=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let G=g.element;a(G),d(A,S);let Y=u();c(H,V),G.append(H,w,A,Y),document.body.appendChild(G)}o?(w.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function W$(){var n;let e=(n=Ig())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _1(){let n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function v1(){return!W$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function td(){try{return typeof indexedDB=="object"}catch{return!1}}function C1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var K$="FirebaseError",yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=K$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}},br=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Q$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function Q$(n,e){return n.replace(Y$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Y$=/\{\$([^}]+)}/g;function E1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(h1(o)&&h1(s)){if(!Kr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function h1(n){return n!==null&&typeof n=="object"}function nd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function w1(n,e){let t=new Mw(n,e);return t.subscribe.bind(t)}var Mw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Z$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bw),i.error===void 0&&(i.error=bw),i.complete===void 0&&(i.complete=bw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Z$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bw(){}var Iue=4*60*60*1e3;function Je(n){return n&&n._delegate?n._delegate:n}var Gt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zs="[DEFAULT]";var Ow=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ys;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J$(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X$(n){return n===Zs?void 0:n}function J$(n){return n.instantiationMode==="EAGER"}var Tg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ow(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var e6=[],Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{}),t6={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},n6=Me.INFO,r6={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},i6=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=r6[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qr=class{constructor(e){this.name=e,this._logLevel=n6,this._logHandler=i6,this._userLogHandler=null,e6.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var o6=(n,e)=>e.some(t=>n instanceof t),b1,I1;function s6(){return b1||(b1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a6(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var M1=new WeakMap,Aw=new WeakMap,D1=new WeakMap,xw=new WeakMap,Nw=new WeakMap;function c6(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&M1.set(t,n)}).catch(()=>{}),Nw.set(e,n),e}function l6(n){if(Aw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Aw.set(n,e)}var Rw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Aw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||D1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function T1(n){Rw=n(Rw)}function u6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Pg(this),e,...t);return D1.set(r,e.sort?e.sort():[e]),Yr(r)}:a6().includes(n)?function(...e){return n.apply(Pg(this),e),Yr(M1.get(this))}:function(...e){return Yr(n.apply(Pg(this),e))}}function d6(n){return typeof n=="function"?u6(n):(n instanceof IDBTransaction&&l6(n),o6(n,s6())?new Proxy(n,Rw):n)}function Yr(n){if(n instanceof IDBRequest)return c6(n);if(xw.has(n))return xw.get(n);let e=d6(n);return e!==n&&(xw.set(n,e),Nw.set(e,n)),e}var Pg=n=>Nw.get(n);function S1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Yr(s.result),c.oldVersion,c.newVersion,Yr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var h6=["get","getKey","getAll","getAllKeys","count"],f6=["put","add","delete","clear"],kw=new Map;function P1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kw.get(e))return kw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=f6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h6.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return kw.set(e,o),o}T1(n=>ce(U({},n),{get:(e,t,r)=>P1(e,t)||n.get(e,t,r),has:(e,t)=>!!P1(e,t)||n.has(e,t)}));var Lw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(p6(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function p6(n){let e=n.getComponent();return e?.type==="VERSION"}var Vw="@firebase/app",O1="0.13.2";var Ui=new Qr("@firebase/app"),g6="@firebase/app-compat",m6="@firebase/analytics-compat",y6="@firebase/analytics",_6="@firebase/app-check-compat",v6="@firebase/app-check",C6="@firebase/auth",E6="@firebase/auth-compat",w6="@firebase/database",b6="@firebase/data-connect",I6="@firebase/database-compat",M6="@firebase/functions",D6="@firebase/functions-compat",T6="@firebase/installations",P6="@firebase/installations-compat",S6="@firebase/messaging",O6="@firebase/messaging-compat",x6="@firebase/performance",A6="@firebase/performance-compat",R6="@firebase/remote-config",N6="@firebase/remote-config-compat",k6="@firebase/storage",F6="@firebase/storage-compat",L6="@firebase/firestore",V6="@firebase/ai",j6="@firebase/firestore-compat",U6="firebase",B6="11.10.0";var jw="[DEFAULT]",$6={[Vw]:"fire-core",[g6]:"fire-core-compat",[y6]:"fire-analytics",[m6]:"fire-analytics-compat",[v6]:"fire-app-check",[_6]:"fire-app-check-compat",[C6]:"fire-auth",[E6]:"fire-auth-compat",[w6]:"fire-rtdb",[b6]:"fire-data-connect",[I6]:"fire-rtdb-compat",[M6]:"fire-fn",[D6]:"fire-fn-compat",[T6]:"fire-iid",[P6]:"fire-iid-compat",[S6]:"fire-fcm",[O6]:"fire-fcm-compat",[x6]:"fire-perf",[A6]:"fire-perf-compat",[R6]:"fire-rc",[N6]:"fire-rc-compat",[k6]:"fire-gcs",[F6]:"fire-gcs-compat",[L6]:"fire-fst",[j6]:"fire-fst-compat",[V6]:"fire-vertex","fire-js":"fire-js",[U6]:"fire-js-all"};var rd=new Map,z6=new Map,Uw=new Map;function x1(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ln(n){let e=n.name;if(Uw.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Uw.set(e,n);for(let t of rd.values())x1(t,n);for(let t of z6.values())x1(t,n);return!0}function Fo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tn(n){return n==null?!1:n.settings!==void 0}var H6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new br("app","Firebase",H6);var Bw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}};var Zr=B6;function Hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(t||(t=Pw()),!t)throw ko.create("no-options");let o=rd.get(i);if(o){if(Kr(t,o.options)&&Kr(r,o.config))return o;throw ko.create("duplicate-app",{appName:i})}let s=new Tg(i);for(let c of Uw.values())s.addComponent(c);let a=new Bw(t,r,s);return rd.set(i,a),a}function Bi(n=jw){let e=rd.get(n);if(!e&&n===jw&&Pw())return Hw();if(!e)throw ko.create("no-app",{appName:n});return e}function Sg(){return Array.from(rd.values())}function He(n,e,t){var r;let i=(r=$6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(a.join(" "));return}Ln(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var q6="firebase-heartbeat-database",G6=1,id="firebase-heartbeat-store",Fw=null;function k1(){return Fw||(Fw=S1(q6,G6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(id)}catch(t){console.warn(t)}}}}).catch(n=>{throw ko.create("idb-open",{originalErrorMessage:n.message})})),Fw}function W6(n){return _(this,null,function*(){try{let t=(yield k1()).transaction(id),r=yield t.objectStore(id).get(F1(n));return yield t.done,r}catch(e){if(e instanceof yn)Ui.warn(e.message);else{let t=ko.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}})}function A1(n,e){return _(this,null,function*(){try{let r=(yield k1()).transaction(id,"readwrite");yield r.objectStore(id).put(e,F1(n)),yield r.done}catch(t){if(t instanceof yn)Ui.warn(t.message);else{let r=ko.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(r.message)}}})}function F1(n){return`${n.name}!${n.options.appId}`}var K6=1024,Q6=30,$w=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new zw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=R1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Q6){let s=Z6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=R1(),{heartbeatsToSend:r,unsentEntries:i}=Y6(this._heartbeatsCache.heartbeats),o=ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ui.warn(t),""}})}};function R1(){return new Date().toISOString().substring(0,10)}function Y6(n,e=K6){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),N1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),N1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var zw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return td()?C1().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield W6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return A1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return A1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function N1(n){return ed(JSON.stringify({version:2,heartbeats:n})).length}function Z6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function X6(n){Ln(new Gt("platform-logger",e=>new Lw(e),"PRIVATE")),Ln(new Gt("heartbeat",e=>new $w(e),"PRIVATE")),He(Vw,O1,n),He(Vw,O1,"esm2017"),He("fire-js","")}X6("");var J6="firebase",ez="11.10.0";He(J6,ez,"app");function L1(n){n===void 0&&(n=F(ut));let e=n.get(Ja);return t=>new ge(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Xr=new lc("ANGULARFIRE2_VERSION");function Js(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Lo=(n,e)=>{let t=e?[e]:Sg(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Nc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Nc||{}),V1=XC()&&typeof Zone<"u"?Nc.WARN:Nc.SILENT;var Og=class{zone;delegate;constructor(e,t=h_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Jr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(Oe);this.outsideAngular=t.runOutsideAngular(()=>new Og(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Og(typeof Zone>"u"?void 0:Zone.current,d_))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j1=!1;function tz(n,e){!j1&&(V1>Nc.SILENT||XC())&&(j1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),V1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function nz(n){let e=F(Oe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Xs(n){let e=F(Oe,{optional:!0});return e?e.run(()=>n()):n()}var rz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Pt(t,()=>Xs(()=>n.apply(void 0,r)))),Tn=(n,e,t)=>(t||=e?Nc.WARN:Nc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(Jr),s=F(Ja),a=F(_t)}catch{return tz(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Xs(()=>s.add())),i[u]=rz(i[u],r,a));let c=nz(()=>n.apply(this,i));return e?c instanceof ge?c.pipe(go(o.outsideAngular),po(o.insideAngular),L1(a)):c instanceof Promise?Xs(()=>{let u=s.add();return new Promise((d,f)=>{c.then(g=>Pt(a,()=>Xs(()=>d(g))),g=>Pt(a,()=>Xs(()=>f(g)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Xs(()=>c):c instanceof ge?c.pipe(go(o.outsideAngular),po(o.insideAngular)):Xs(()=>c)});var Ir=class{constructor(e){return e}},$i=class{constructor(){return Sg()}};function iz(n){return n&&n.length===1?n[0]:new Ir(Bi())}var qw=new K("angularfire2._apps"),oz={provide:Ir,useFactory:iz,deps:[[new Ct,qw]]},sz={provide:$i,deps:[[new Ct,qw]]};function az(n){return(e,t)=>{let r=t.get(To);He("angularfire",Xr.full,"core"),He("angularfire",Xr.full,"app"),He("angular",OO.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ir(i)}}function U1(n,...e){return ln([oz,sz,{provide:qw,useFactory:az(n),multi:!0,deps:[Oe,ut,Jr,...e]}])}var B1=Tn(Hw,!0);var cz=new Map,lz={activated:!1,tokenObservers:[]},uz={initialized:!1,enabled:!1};function Mr(n){return cz.get(n)||Object.assign({},lz)}function q1(){return uz}var dz="https://content-firebaseappcheck.googleapis.com/v1";var hz="exchangeDebugToken",$1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Tde=24*60*60*1e3;var Kw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Ys,this.pending.promise.catch(t=>{}),yield fz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ys,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function fz(n){return new Promise(e=>{setTimeout(e,n)})}var pz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vo=new br("appCheck","AppCheck",pz);function G1(n){if(!Mr(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}function W1(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw Vo.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Vo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw Vo.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function K1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${dz}/projects/${t}/apps/${r}:${hz}?key=${i}`,body:{debug_token:e}}}var gz="firebase-app-check-database",mz=1,Qw="firebase-app-check-store";var xg=null;function yz(){return xg||(xg=new Promise((n,e)=>{try{let t=indexedDB.open(gz,mz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Qw,{keyPath:"compositeKey"})}}}catch(t){e(Vo.create("storage-open",{originalErrorMessage:t?.message}))}}),xg)}function _z(n,e){return vz(Cz(n),e)}function vz(n,e){return _(this,null,function*(){let r=(yield yz()).transaction(Qw,"readwrite"),o=r.objectStore(Qw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Vo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function Cz(n){return`${n.options.appId}-${n.name}`}var od=new Qr("@firebase/app-check");function Gw(n,e){return td()?_z(n,e).catch(t=>{od.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Q1(){return q1().enabled}function Y1(){return _(this,null,function*(){let n=q1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Ez={error:"UNKNOWN_ERROR"};function wz(n){return wg.encodeString(JSON.stringify(n),!1)}function Yw(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;G1(r);let i=Mr(r),o=i.token,s;if(o&&!sd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(sd(u)?o=u:yield Gw(r,void 0))}if(!e&&o&&sd(o))return{token:o.token};let a=!1;if(Q1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=W1(K1(r,yield Y1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Gw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?od.warn(u.message):t&&od.error(u),Ww(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Mr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?od.warn(u.message):t&&od.error(u),s=u}let c;return o?s?sd(o)?c={token:o.token,internalError:s}:c=Ww(s):(c={token:o.token},i.token=o,yield Gw(r,o)):c=Ww(s),a&&Dz(r,c),c})}function bz(n){return _(this,null,function*(){let e=n.app;G1(e);let{provider:t}=Mr(e);if(Q1()){let r=yield Y1(),{token:i}=yield W1(K1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Iz(n,e,t,r){let{app:i}=n,o=Mr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&sd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),z1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>z1(n))}function Z1(n,e){let t=Mr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function z1(n){let{app:e}=n,t=Mr(e),r=t.tokenRefresher;r||(r=Mz(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Mz(n){let{app:e}=n;return new Kw(()=>_(null,null,function*(){let t=Mr(e),r;if(t.token?r=yield Yw(n,!0):r=yield Yw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$1.RETRIAL_MIN_WAIT,$1.RETRIAL_MAX_WAIT)}function Dz(n,e){let t=Mr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function sd(n){return n.expireTimeMillis-Date.now()>0}function Ww(n){return{token:wz(Ez),error:n}}var Zw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Mr(this.app);for(let t of e)Z1(this.app,t.next);return Promise.resolve()}};function Tz(n,e){return new Zw(n,e)}function Pz(n){return{getToken:e=>Yw(n,e),getLimitedUseToken:()=>bz(n),addTokenListener:e=>Iz(n,"INTERNAL",e),removeTokenListener:e=>Z1(n.app,e)}}var Sz="@firebase/app-check",Oz="0.10.1";var xz="app-check",H1="app-check-internal";function Az(){Ln(new Gt(xz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Tz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(H1).initialize()})),Ln(new Gt(H1,n=>{let e=n.getProvider("app-check").getImmediate();return Pz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),He(Sz,Oz)}Az();var Rz="app-check";var jo=class{constructor(){return Lo(Rz)}};var Nz=["localhost","0.0.0.0","127.0.0.1"],Ude=typeof window<"u"&&Nz.includes(window.location.hostname);function fR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pR=fR,gR=new br("auth","Firebase",fR());var Lg=new Qr("@firebase/auth");function kz(n,...e){Lg.logLevel<=Me.WARN&&Lg.warn(`Auth (${Zr}): ${n}`,...e)}function Rg(n,...e){Lg.logLevel<=Me.ERROR&&Lg.error(`Auth (${Zr}): ${n}`,...e)}function ti(n,...e){throw w0(n,...e)}function ea(n,...e){return w0(n,...e)}function mR(n,e,t){let r=Object.assign(Object.assign({},pR()),{[e]:t});return new br("auth","Firebase",r).create(e,{appName:n.name})}function qi(n){return mR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gR.create(n,...e)}function ae(n,e,...t){if(!n)throw w0(e,...t)}function zi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Rg(e),new Error(e)}function $o(n,e){n||zi(e)}function t0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Fz(){return X1()==="http:"||X1()==="https:"}function X1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Lz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fz()||m1()||"connection"in navigator)?navigator.onLine:!0}function Vz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ta=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$o(t>e,"Short delay should be less than long delay!"),this.isMobile=p1()||y1()}get(){return Lz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function b0(n,e){$o(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Uz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bz=new ta(3e4,6e4);function zo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Gi(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){return yR(n,i,()=>_(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=nd(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},u);return g1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Wr(n.emulatorConfig.host)&&(m.credentials="include"),Vg.fetch()(yield _R(n,n.config.apiHost,t,f),m)}))})}function yR(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},jz),e);try{let i=new n0(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ag(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ag(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ag(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ag(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mR(n,d,u);ti(n,d)}}catch(i){if(i instanceof yn)throw i;ti(n,"network-request-failed",{message:String(i)})}})}function pd(o,s,a,c){return _(this,arguments,function*(n,e,t,r,i={}){let u=yield Gi(n,e,t,r,i);return"mfaPendingCredential"in u&&ti(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function _R(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?b0(n.config,i):`${n.config.apiScheme}://${i}`;return Uz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function $z(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var n0=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ea(this.auth,"network-request-failed")),Bz.get())})}};function Ag(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ea(n,e,r);return i.customData._tokenResponse=t,i}function J1(n){return n!==void 0&&n.enterprise!==void 0}var r0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $z(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function zz(n,e){return _(this,null,function*(){return Gi(n,"GET","/v2/recaptchaConfig",zo(n,e))})}function Hz(n,e){return _(this,null,function*(){return Gi(n,"POST","/v1/accounts:delete",e)})}function jg(n,e){return _(this,null,function*(){return Gi(n,"POST","/v1/accounts:lookup",e)})}function cd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function I0(n,e=!1){return _(this,null,function*(){let t=Je(n),r=yield t.getIdToken(e),i=M0(r);ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:cd(Xw(i.auth_time)),issuedAtTime:cd(Xw(i.iat)),expirationTime:cd(Xw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xw(n){return Number(n)*1e3}function M0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rg("JWT malformed, contained fewer than 3 sections"),null;try{let i=bg(t);return i?JSON.parse(i):(Rg("Failed to decode base64 JWT payload"),null)}catch(i){return Rg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eR(n){let e=M0(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function kc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof yn&&qz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function qz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var i0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ud=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ug(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield kc(n,jg(t,{idToken:r}));ae(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vR(o.providerUserInfo):[],a=Gz(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ud(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function D0(n){return _(this,null,function*(){let e=Je(n);yield Ug(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Gz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vR(n){return n.map(e=>{var{providerId:t}=e,r=f_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Wz(n,e){return _(this,null,function*(){let t=yield yR(n,{},()=>_(null,null,function*(){let r=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield _R(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Wr(n.emulatorConfig.host)&&(c.credentials="include"),Vg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Kz(n,e){return _(this,null,function*(){return Gi(n,"POST","/v2/accounts:revokeToken",zo(n,e))})}var ld=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let t=eR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Wz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return zi("not implemented")}};function Uo(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Bo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=f_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ud(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield kc(this,this.stsTokenManager.getToken(this.auth,e));return ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return I0(this,e)}reload(){return D0(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ug(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(tn(this.auth.app))return Promise.reject(qi(this.auth));let e=yield this.getIdToken();return yield kc(this,Hz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,H=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:G,emailVerified:Y,isAnonymous:ke,providerData:he,stsTokenManager:D}=t;ae(G&&D,e,"internal-error");let E=ld.fromJSON(this.name,D);ae(typeof G=="string",e,"internal-error"),Uo(f,e.name),Uo(g,e.name),ae(typeof Y=="boolean",e,"internal-error"),ae(typeof ke=="boolean",e,"internal-error"),Uo(m,e.name),Uo(w,e.name),Uo(S,e.name),Uo(A,e.name),Uo(V,e.name),Uo(H,e.name);let b=new n({uid:G,auth:e,email:g,emailVerified:Y,displayName:f,isAnonymous:ke,photoURL:w,phoneNumber:m,tenantId:S,stsTokenManager:E,createdAt:V,lastLoginAt:H});return he&&Array.isArray(he)&&(b.providerData=he.map(T=>Object.assign({},T))),A&&(b._redirectEventId=A),b}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new ld;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ug(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?vR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ld;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ud(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var tR=new Map;function Hi(n){$o(n instanceof Function,"Expected a class definition");let e=tR.get(n);return e?($o(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tR.set(n,e),e)}var Qz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),o0=Qz;function Ng(n,e,t){return`firebase:${n}:${e}:${t}`}var Bg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ng(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ng("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield jg(this.auth,{idToken:e}).catch(()=>{});return t?Bo._fromGetAccountInfoResponse(this.auth,t,e):null}return Bo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Hi(o0),e,r);let i=(yield Promise.all(t.map(u=>_(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Hi(o0),s=Ng(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f;if(typeof d=="string"){let g=yield jg(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield Bo._fromGetAccountInfoResponse(e,g,d)}else f=Bo._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>_(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function nR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MR(e))return"Blackberry";if(DR(e))return"Webos";if(ER(e))return"Safari";if((e.includes("chrome/")||wR(e))&&!e.includes("edge/"))return"Chrome";if(IR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function CR(n=Rt()){return/firefox\//i.test(n)}function ER(n=Rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wR(n=Rt()){return/crios\//i.test(n)}function bR(n=Rt()){return/iemobile/i.test(n)}function IR(n=Rt()){return/android/i.test(n)}function MR(n=Rt()){return/blackberry/i.test(n)}function DR(n=Rt()){return/webos/i.test(n)}function T0(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Yz(n=Rt()){var e;return T0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zz(){return _1()&&document.documentMode===10}function TR(n=Rt()){return T0(n)||IR(n)||DR(n)||MR(n)||/windows phone/i.test(n)||bR(n)}function PR(n,e=[]){let t;switch(n){case"Browser":t=nR(Rt());break;case"Worker":t=`${nR(Rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zr}/${r}`}var s0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Xz(t){return _(this,arguments,function*(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",zo(n,e))})}var Jz=6,a0=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Jz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var c0=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $g(this),this.idTokenSubscription=new $g(this),this.beforeStateQueue=new s0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Bg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield jg(this,{idToken:e}),r=yield Bo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(tn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Ug(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Vz()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(tn(this.app))return Promise.reject(qi(this));let t=e?Je(e):null;return t&&ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return tn(this.app)?Promise.reject(qi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tn(this.app)?Promise.reject(qi(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Hi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Xz(this),t=new a0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Kz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Hi(e)||this._popupRedirectResolver;ae(t,this,"argument-error"),this.redirectPersistenceManager=yield Bg.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&kz(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ra(n){return Je(n)}var $g=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=w1(t=>this.observer=t)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qg={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eH(n){Qg=n}function SR(n){return Qg.loadJS(n)}function tH(){return Qg.recaptchaEnterpriseScript}function nH(){return Qg.gapiScript}function OR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var l0=class{constructor(){this.enterprise=new u0}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},u0=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var rH="recaptcha-enterprise",xR="NO_RECAPTCHA",d0=class{constructor(e){this.type=rH,this.auth=ra(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){zz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new r0(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;J1(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(xR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l0().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&J1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tH();c.length!==0&&(c+=a),SR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function ad(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new d0(n),s;if(i)s=xR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function h0(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ad(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield ad(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ad(n,e,t);return r(n,a).catch(c=>_(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield ad(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield ad(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function P0(n,e){let t=Fo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Kr(o,e??{}))return i;ti(i,"already-initialized")}return t.initialize({options:e})}function iH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function S0(n,e,t){let r=ra(n);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=AR(e),{host:s,port:a}=oH(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Kr(u,r.config.emulator)&&Kr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Wr(s)?(Oc(`${o}//${s}${c}`),xc("Auth",!0)):i||sH()}function AR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oH(n){let e=AR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:rR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:rR(s)}}}function rR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function sH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var dd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}};function aH(n,e){return _(this,null,function*(){return Gi(n,"POST","/v1/accounts:signUp",e)})}function cH(n,e){return _(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithPassword",zo(n,e))})}function lH(n,e){return _(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))})}function uH(n,e){return _(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))})}var hd=class n extends dd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,t,"signInWithPassword",cH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return lH(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,r,"signUpPassword",aH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uH(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jw(n,e){return _(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithIdp",zo(n,e))})}function dH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hH(n){let e=Ac(Rc(n)).link,t=e?Ac(Rc(e)).deep_link_id:null,r=Ac(Rc(n)).deep_link_id;return(r?Ac(Rc(r)).link:null)||r||t||e||n}var zg=class n{constructor(e){var t,r,i,o,s,a;let c=Ac(Rc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=dH((i=c.mode)!==null&&i!==void 0?i:null);ae(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=hH(e);try{return new n(t)}catch{return null}}};var RR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return hd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=zg.parseLink(r);return ae(i,"argument-error"),hd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Hg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var f0=class extends Hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function fH(n,e){return _(this,null,function*(){return pd(n,"POST","/v1/accounts:signUp",zo(n,e))})}var Fc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Bo._fromIdTokenResponse(e,r,i),s=iR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=iR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function iR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var p0=class n extends yn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function NR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?p0._fromErrorAndOperation(n,o,e,r):o})}function pH(n,e,t=!1){return _(this,null,function*(){let r=yield kc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fc._forOperation(n,"link",r)})}function gH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(tn(r.app))return Promise.reject(qi(r));let i="reauthenticate";try{let o=yield kc(n,NR(r,i,e,n),t);ae(o.idToken,r,"internal-error");let s=M0(o.idToken);ae(s,r,"internal-error");let{sub:a}=s;return ae(n.uid===a,r,"user-mismatch"),Fc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),o}})}function kR(n,e,t=!1){return _(this,null,function*(){if(tn(n.app))return Promise.reject(qi(n));let r="signIn",i=yield NR(n,r,e),o=yield Fc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function O0(n,e){return _(this,null,function*(){return kR(ra(n),e)})}function FR(n){return _(this,null,function*(){let e=ra(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function x0(n,e,t){return _(this,null,function*(){if(tn(n.app))return Promise.reject(qi(n));let r=ra(n),s=yield h0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fH,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&FR(n),c}),a=yield Fc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function A0(n,e,t){return tn(n.app)?Promise.reject(qi(n)):O0(Je(n),RR.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&FR(n),r}))}function mH(n,e){return _(this,null,function*(){return Gi(n,"POST","/v1/accounts:update",e)})}function R0(r,i){return _(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Je(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield kc(o,mH(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function N0(n,e,t,r){return Je(n).onIdTokenChanged(e,t,r)}function k0(n,e,t){return Je(n).beforeAuthStateChanged(e,t)}function F0(n,e,t,r){return Je(n).onAuthStateChanged(e,t,r)}function L0(n){return Je(n).signOut()}var qg="__sak";var Gg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qg,"1"),this.storage.removeItem(qg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var yH=1e3,_H=10,vH=(()=>{class n extends Gg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Zz()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,_H):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},yH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield ho(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield ho(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield ho(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),LR=vH;var CH=(()=>{class n extends Gg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),V0=CH;function EH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var wH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>_(this,null,function*(){return d(r.origin,s)})),u=yield EH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function VR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var g0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=VR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ei(){return window}function bH(n){ei().location.href=n}function jR(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}function IH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DH(){return jR()?self:null}var UR="firebaseLocalStorageDb",TH=1,Wg="firebaseLocalStorage",BR="fbase_key",na=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Yg(n,e){return n.transaction([Wg],e?"readwrite":"readonly").objectStore(Wg)}function PH(){let n=indexedDB.deleteDatabase(UR);return new na(n).toPromise()}function m0(){let n=indexedDB.open(UR,TH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Wg,{keyPath:BR})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Wg)?e(r):(r.close(),yield PH(),e(yield m0()))}))})}function oR(n,e,t){return _(this,null,function*(){let r=Yg(n,!0).put({[BR]:e,value:t});return new na(r).toPromise()})}function SH(n,e){return _(this,null,function*(){let t=Yg(n,!1).get(e),r=yield new na(t).toPromise();return r===void 0?null:r.value})}function sR(n,e){let t=Yg(n,!0).delete(e);return new na(t).toPromise()}var OH=800,xH=3,AH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield m0(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>xH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return jR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=wH._getInstance(DH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield IH(),!this.activeServiceWorker)return;this.sender=new g0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield m0();return yield oR(t,qg,"1"),yield sR(t,qg),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>oR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>SH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>sR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=Yg(o,!1).getAll();return new na(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),OH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),$R=AH;var Kde=OR("rcb"),Qde=new ta(3e4,6e4);function RH(n,e){return e?Hi(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var fd=class extends dd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function NH(n){return kR(n.auth,new fd(n),n.bypassAuthState)}function kH(n){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),gH(t,new fd(n),n.bypassAuthState)}function FH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),pH(t,new fd(n),n.bypassAuthState)})}var y0=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NH;case"linkViaPopup":case"linkViaRedirect":return FH;case"reauthViaPopup":case"reauthViaRedirect":return kH;default:ti(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Yde=new ta(2e3,1e4);var LH="pendingRedirect",kg=new Map,_0=class n extends y0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=kg.get(this.auth._key());if(!e){try{let r=(yield VH(this.resolver,this.auth))?yield ho(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}kg.set(this.auth._key(),e)}return this.bypassAuthState||kg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return ho(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ho(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function VH(n,e){return _(this,null,function*(){let t=BH(e),r=UH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function jH(n,e){kg.set(n._key(),e)}function UH(n){return Hi(n._redirectPersistence)}function BH(n){return Ng(LH,n.config.apiKey,n.name)}function $H(n,e,t=!1){return _(this,null,function*(){if(tn(n.app))return Promise.reject(qi(n));let r=ra(n),i=RH(r,e),s=yield new _0(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var zH=10*60*1e3,v0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ea(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zH&&this.cachedEventUids.clear(),this.cachedEventUids.has(aR(e))}saveEventToCache(e){this.cachedEventUids.add(aR(e)),this.lastProcessedEventTime=Date.now()}};function aR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function HH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zR(n);default:return!1}}function qH(t){return _(this,arguments,function*(n,e={}){return Gi(n,"GET","/v1/projects",e)})}var GH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WH=/^https?/;function KH(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield qH(n);for(let t of e)try{if(QH(t))return}catch{}ti(n,"unauthorized-domain")})}function QH(n){let e=t0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!WH.test(t))return!1;if(GH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var YH=new ta(3e4,6e4);function cR(){let n=ei().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZH(n){return new Promise((e,t)=>{var r,i,o;function s(){cR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cR(),t(ea(n,"network-request-failed"))},timeout:YH.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)s();else{let a=OR("iframefcb");return ei()[a]=()=>{gapi.load?s():t(ea(n,"network-request-failed"))},SR(`${nH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Fg=null,e})}var Fg=null;function XH(n){return Fg=Fg||ZH(n),Fg}var JH=new ta(5e3,15e3),e8="__/auth/iframe",t8="emulator/auth/iframe",n8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i8(n){let e=n.config;ae(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?b0(e,t8):`https://${n.config.authDomain}/${e8}`,r={apiKey:e.apiKey,appName:n.name,v:Zr},i=r8.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${nd(r).slice(1)}`}function o8(n){return _(this,null,function*(){let e=yield XH(n),t=ei().gapi;return ae(t,n,"internal-error"),e.open({where:document.body,url:i8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n8,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ea(n,"network-request-failed"),a=ei().setTimeout(()=>{o(s)},JH.get());function c(){ei().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var s8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a8=500,c8=600,l8="_blank",u8="http://localhost",Kg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function d8(n,e,t,r=a8,i=c8){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},s8),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Rt().toLowerCase();t&&(a=wR(u)?l8:t),CR(u)&&(e=e||u8,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(Yz(u)&&a!=="_self")return h8(e||"",a),new Kg(null);let f=window.open(e||"",a,d);ae(f,n,"popup-blocked");try{f.focus()}catch{}return new Kg(f)}function h8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var f8="__/auth/handler",p8="emulator/auth/handler",g8=encodeURIComponent("fac");function lR(n,e,t,r,i,o){return _(this,null,function*(){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zr,eventId:i};if(e instanceof Hg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",E1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof f0){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${g8}=${encodeURIComponent(c)}`:"";return`${m8(n)}?${nd(a).slice(1)}${u}`})}function m8({config:n}){return n.emulator?b0(n,p8):`https://${n.authDomain}/${f8}`}var e0="webStorageSupport",C0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=$H,this._overrideRedirectResult=jH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;$o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield lR(e,t,r,t0(),i);return d8(e,s,VR())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield lR(e,t,r,t0(),i);return bH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($o(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield o8(e),r=new v0(e);return t.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e0,{type:e0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[e0];s!==void 0&&t(!!s),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TR()||ER()||T0()}},HR=C0;var uR="@firebase/auth",dR="1.10.8";var E0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function y8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _8(n){Ln(new Gt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PR(n)},u=new c0(r,i,o,c);return iH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new Gt("auth-internal",e=>{let t=ra(e.getProvider("auth").getImmediate());return(r=>new E0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(uR,dR,y8(n)),He(uR,dR,"esm2017")}var v8=5*60,C8=Sw("authIdTokenMaxAge")||v8,hR=null,E8=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>C8)return;let i=t?.token;hR!==i&&(hR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function j0(n=Bi()){let e=Fo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=P0(n,{popupRedirectResolver:HR,persistence:[$R,LR,V0]}),r=Sw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=E8(o.toString());k0(t,s,()=>s(t.currentUser)),N0(t,a=>s(a))}}let i=Tw("auth");return i&&S0(t,`http://${i}`),t}function w8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}eH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ea("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",w8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_8("Browser");var qR="auth",ia=class{constructor(e){return e}},oa=class{constructor(){return Lo(qR)}};var U0=new K("angularfire2.auth-instances");function lq(n,e){let t=Js(qR,n,e);return t&&new ia(t)}function uq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ia(r)}}var dq={provide:oa,deps:[[new Ct,U0]]},hq={provide:ia,useFactory:lq,deps:[[new Ct,U0],Ir]};function GR(n,...e){return He("angularfire",Xr.full,"auth"),ln([hq,dq,{provide:U0,useFactory:uq(n),multi:!0,deps:[Oe,ut,Jr,$i,[new Ct,jo],...e]}])}var WR=Tn(x0,!0,2);var KR=Tn(j0,!0);var QR=Tn(F0,!0);var YR=Tn(A0,!0,2);var ZR=Tn(L0,!0,2);var XR=Tn(R0,!0,2);var JR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eN={};var Wi,B0;(function(){var n;function e(D,E){function b(){}b.prototype=E.prototype,D.D=E.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(T,P,x){for(var I=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)I[Un-2]=arguments[Un];return E.prototype[P].apply(T,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,b){b||(b=0);var T=Array(16);if(typeof E=="string")for(var P=0;16>P;++P)T[P]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(P=0;16>P;++P)T[P]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=D.g[0],b=D.g[1],P=D.g[2];var x=D.g[3],I=E+(x^b&(P^x))+T[0]+3614090360&4294967295;E=b+(I<<7&4294967295|I>>>25),I=x+(P^E&(b^P))+T[1]+3905402710&4294967295,x=E+(I<<12&4294967295|I>>>20),I=P+(b^x&(E^b))+T[2]+606105819&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(E^P&(x^E))+T[3]+3250441966&4294967295,b=P+(I<<22&4294967295|I>>>10),I=E+(x^b&(P^x))+T[4]+4118548399&4294967295,E=b+(I<<7&4294967295|I>>>25),I=x+(P^E&(b^P))+T[5]+1200080426&4294967295,x=E+(I<<12&4294967295|I>>>20),I=P+(b^x&(E^b))+T[6]+2821735955&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(E^P&(x^E))+T[7]+4249261313&4294967295,b=P+(I<<22&4294967295|I>>>10),I=E+(x^b&(P^x))+T[8]+1770035416&4294967295,E=b+(I<<7&4294967295|I>>>25),I=x+(P^E&(b^P))+T[9]+2336552879&4294967295,x=E+(I<<12&4294967295|I>>>20),I=P+(b^x&(E^b))+T[10]+4294925233&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(E^P&(x^E))+T[11]+2304563134&4294967295,b=P+(I<<22&4294967295|I>>>10),I=E+(x^b&(P^x))+T[12]+1804603682&4294967295,E=b+(I<<7&4294967295|I>>>25),I=x+(P^E&(b^P))+T[13]+4254626195&4294967295,x=E+(I<<12&4294967295|I>>>20),I=P+(b^x&(E^b))+T[14]+2792965006&4294967295,P=x+(I<<17&4294967295|I>>>15),I=b+(E^P&(x^E))+T[15]+1236535329&4294967295,b=P+(I<<22&4294967295|I>>>10),I=E+(P^x&(b^P))+T[1]+4129170786&4294967295,E=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(E^b))+T[6]+3225465664&4294967295,x=E+(I<<9&4294967295|I>>>23),I=P+(E^b&(x^E))+T[11]+643717713&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^E&(P^x))+T[0]+3921069994&4294967295,b=P+(I<<20&4294967295|I>>>12),I=E+(P^x&(b^P))+T[5]+3593408605&4294967295,E=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(E^b))+T[10]+38016083&4294967295,x=E+(I<<9&4294967295|I>>>23),I=P+(E^b&(x^E))+T[15]+3634488961&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^E&(P^x))+T[4]+3889429448&4294967295,b=P+(I<<20&4294967295|I>>>12),I=E+(P^x&(b^P))+T[9]+568446438&4294967295,E=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(E^b))+T[14]+3275163606&4294967295,x=E+(I<<9&4294967295|I>>>23),I=P+(E^b&(x^E))+T[3]+4107603335&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^E&(P^x))+T[8]+1163531501&4294967295,b=P+(I<<20&4294967295|I>>>12),I=E+(P^x&(b^P))+T[13]+2850285829&4294967295,E=b+(I<<5&4294967295|I>>>27),I=x+(b^P&(E^b))+T[2]+4243563512&4294967295,x=E+(I<<9&4294967295|I>>>23),I=P+(E^b&(x^E))+T[7]+1735328473&4294967295,P=x+(I<<14&4294967295|I>>>18),I=b+(x^E&(P^x))+T[12]+2368359562&4294967295,b=P+(I<<20&4294967295|I>>>12),I=E+(b^P^x)+T[5]+4294588738&4294967295,E=b+(I<<4&4294967295|I>>>28),I=x+(E^b^P)+T[8]+2272392833&4294967295,x=E+(I<<11&4294967295|I>>>21),I=P+(x^E^b)+T[11]+1839030562&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^E)+T[14]+4259657740&4294967295,b=P+(I<<23&4294967295|I>>>9),I=E+(b^P^x)+T[1]+2763975236&4294967295,E=b+(I<<4&4294967295|I>>>28),I=x+(E^b^P)+T[4]+1272893353&4294967295,x=E+(I<<11&4294967295|I>>>21),I=P+(x^E^b)+T[7]+4139469664&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^E)+T[10]+3200236656&4294967295,b=P+(I<<23&4294967295|I>>>9),I=E+(b^P^x)+T[13]+681279174&4294967295,E=b+(I<<4&4294967295|I>>>28),I=x+(E^b^P)+T[0]+3936430074&4294967295,x=E+(I<<11&4294967295|I>>>21),I=P+(x^E^b)+T[3]+3572445317&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^E)+T[6]+76029189&4294967295,b=P+(I<<23&4294967295|I>>>9),I=E+(b^P^x)+T[9]+3654602809&4294967295,E=b+(I<<4&4294967295|I>>>28),I=x+(E^b^P)+T[12]+3873151461&4294967295,x=E+(I<<11&4294967295|I>>>21),I=P+(x^E^b)+T[15]+530742520&4294967295,P=x+(I<<16&4294967295|I>>>16),I=b+(P^x^E)+T[2]+3299628645&4294967295,b=P+(I<<23&4294967295|I>>>9),I=E+(P^(b|~x))+T[0]+4096336452&4294967295,E=b+(I<<6&4294967295|I>>>26),I=x+(b^(E|~P))+T[7]+1126891415&4294967295,x=E+(I<<10&4294967295|I>>>22),I=P+(E^(x|~b))+T[14]+2878612391&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~E))+T[5]+4237533241&4294967295,b=P+(I<<21&4294967295|I>>>11),I=E+(P^(b|~x))+T[12]+1700485571&4294967295,E=b+(I<<6&4294967295|I>>>26),I=x+(b^(E|~P))+T[3]+2399980690&4294967295,x=E+(I<<10&4294967295|I>>>22),I=P+(E^(x|~b))+T[10]+4293915773&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~E))+T[1]+2240044497&4294967295,b=P+(I<<21&4294967295|I>>>11),I=E+(P^(b|~x))+T[8]+1873313359&4294967295,E=b+(I<<6&4294967295|I>>>26),I=x+(b^(E|~P))+T[15]+4264355552&4294967295,x=E+(I<<10&4294967295|I>>>22),I=P+(E^(x|~b))+T[6]+2734768916&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~E))+T[13]+1309151649&4294967295,b=P+(I<<21&4294967295|I>>>11),I=E+(P^(b|~x))+T[4]+4149444226&4294967295,E=b+(I<<6&4294967295|I>>>26),I=x+(b^(E|~P))+T[11]+3174756917&4294967295,x=E+(I<<10&4294967295|I>>>22),I=P+(E^(x|~b))+T[2]+718787259&4294967295,P=x+(I<<15&4294967295|I>>>17),I=b+(x^(P|~E))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var b=E-this.blockSize,T=this.B,P=this.h,x=0;x<E;){if(P==0)for(;x<=b;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<E;)if(T[P++]=D.charCodeAt(x++),P==this.blockSize){i(this,T),P=0;break}}else for(;x<E;)if(T[P++]=D[x++],P==this.blockSize){i(this,T),P=0;break}}this.h=P,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var b=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=b&255,b/=256;for(this.u(D),D=Array(16),E=b=0;4>E;++E)for(var T=0;32>T;T+=8)D[b++]=this.g[E]>>>T&255;return D};function o(D,E){var b=a;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=E(D)}function s(D,E){this.h=E;for(var b=[],T=!0,P=D.length-1;0<=P;P--){var x=D[P]|0;T&&x==E||(b[P]=x,T=!1)}this.g=b}var a={};function c(D){return-128<=D&&128>D?o(D,function(E){return new s([E|0],0>E?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return A(u(-D));for(var E=[],b=1,T=0;D>=b;T++)E[T]=D/b|0,b*=4294967296;return new s(E,0)}function d(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return A(d(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),T=f,P=0;P<D.length;P+=8){var x=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+x),E);8>x?(x=u(Math.pow(E,x)),T=T.j(x).add(u(I))):(T=T.j(b),T=T.add(u(I)))}return T}var f=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(S(this))return-A(this).m();for(var D=0,E=1,b=0;b<this.g.length;b++){var T=this.i(b);D+=(0<=T?T:4294967296+T)*E,E*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(S(this))return"-"+A(this).toString(D);for(var E=u(Math.pow(D,6)),b=this,T="";;){var P=Y(b,E).g;b=V(b,P.j(E));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=P,w(b))return x+T;for(;6>x.length;)x="0"+x;T=x+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=V(this,D),S(D)?-1:w(D)?0:1};function A(D){for(var E=D.g.length,b=[],T=0;T<E;T++)b[T]=~D.g[T];return new s(b,~D.h).add(g)}n.abs=function(){return S(this)?A(this):this},n.add=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],T=0,P=0;P<=E;P++){var x=T+(this.i(P)&65535)+(D.i(P)&65535),I=(x>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);T=I>>>16,x&=65535,I&=65535,b[P]=I<<16|x}return new s(b,b[b.length-1]&-2147483648?-1:0)};function V(D,E){return D.add(A(E))}n.j=function(D){if(w(this)||w(D))return f;if(S(this))return S(D)?A(this).j(A(D)):A(A(this).j(D));if(S(D))return A(this.j(A(D)));if(0>this.l(m)&&0>D.l(m))return u(this.m()*D.m());for(var E=this.g.length+D.g.length,b=[],T=0;T<2*E;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<D.g.length;P++){var x=this.i(T)>>>16,I=this.i(T)&65535,Un=D.i(P)>>>16,oo=D.i(P)&65535;b[2*T+2*P]+=I*oo,H(b,2*T+2*P),b[2*T+2*P+1]+=x*oo,H(b,2*T+2*P+1),b[2*T+2*P+1]+=I*Un,H(b,2*T+2*P+1),b[2*T+2*P+2]+=x*Un,H(b,2*T+2*P+2)}for(T=0;T<E;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=E;T<2*E;T++)b[T]=0;return new s(b,0)};function H(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function G(D,E){this.g=D,this.h=E}function Y(D,E){if(w(E))throw Error("division by zero");if(w(D))return new G(f,f);if(S(D))return E=Y(A(D),E),new G(A(E.g),A(E.h));if(S(E))return E=Y(D,A(E)),new G(A(E.g),E.h);if(30<D.g.length){if(S(D)||S(E))throw Error("slowDivide_ only works with positive integers.");for(var b=g,T=E;0>=T.l(D);)b=ke(b),T=ke(T);var P=he(b,1),x=he(T,1);for(T=he(T,2),b=he(b,2);!w(T);){var I=x.add(T);0>=I.l(D)&&(P=P.add(b),x=I),T=he(T,1),b=he(b,1)}return E=V(D,P.j(E)),new G(P,E)}for(P=f;0<=D.l(E);){for(b=Math.max(1,Math.floor(D.m()/E.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),x=u(b),I=x.j(E);S(I)||0<I.l(D);)b-=T,x=u(b),I=x.j(E);w(x)&&(x=g),P=P.add(x),D=V(D,I)}return new G(P,D)}n.A=function(D){return Y(this,D).h},n.and=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)&D.i(T);return new s(b,this.h&D.h)},n.or=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)|D.i(T);return new s(b,this.h|D.h)},n.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)^D.i(T);return new s(b,this.h^D.h)};function ke(D){for(var E=D.g.length+1,b=[],T=0;T<E;T++)b[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(b,D.h)}function he(D,E){var b=E>>5;E%=32;for(var T=D.g.length-b,P=[],x=0;x<T;x++)P[x]=0<E?D.i(x+b)>>>E|D.i(x+b+1)<<32-E:D.i(x+b);return new s(P,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B0=eN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Wi=eN.Integer=s}).apply(typeof JR<"u"?JR:typeof self<"u"?self:typeof window<"u"?window:{});var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ki={};var $0,pq,Lc,z0,gd,Xg,H0,q0,G0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zg=="object"&&Zg];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var O=l[y];if(!(O in p))break e;p=p[O]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,y=!1,O={next:function(){if(!y&&p<l.length){var R=p++;return{value:h(R,l[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function w(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,O,R){for(var B=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)B[ze-2]=arguments[ze];return h.prototype[O].apply(y,B)}}function S(l){let h=l.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function A(l,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let O=l.length||0,R=y.length||0;l.length=O+R;for(let B=0;B<R;B++)l[O+B]=y[B]}else l.push(y)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(l){return/^[\s\xa0]*$/.test(l)}function G(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Y(l){return Y[" "](l),l}Y[" "]=function(){};var ke=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function he(l,h,p){for(let y in l)h.call(p,l[y],y,l)}function D(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function E(l){let h={};for(let p in l)h[p]=l[p];return h}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(p in y)l[p]=y[p];for(let R=0;R<b.length;R++)p=b[R],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function P(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function x(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Ie;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Un{constructor(){this.h=this.g=null}add(h,p){let y=oo.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var oo=new V(()=>new Q,l=>l.reset());class Q{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ee=!1,Ie=new Un,ht=()=>{let l=a.Promise.resolve(void 0);Z=()=>{l.then(Bn)}};var Bn=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){x(p)}var h=oo;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ee=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function so(l,h){if(We.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ke){e:{try{Y(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:by[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&so.aa.h.call(this)}}w(so,We);var by={2:"touch",3:"pen",4:"mouse"};so.prototype.h=function(){so.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),fi=0;function _n(l,h,p,y,O){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=O,this.key=++fi,this.da=this.fa=!1}function pi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ao(l){this.src=l,this.g={},this.h=0}ao.prototype.add=function(l,h,p,y,O){var R=l.toString();l=this.g[R],l||(l=this.g[R]=[],this.h++);var B=My(l,h,y,O);return-1<B?(h=l[B],p||(h.fa=!1)):(h=new _n(h,this.src,R,!!y,O),h.fa=p,l.push(h)),h};function Iy(l,h){var p=h.type;if(p in l.g){var y=l.g[p],O=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=O)&&Array.prototype.splice.call(y,O,1),R&&(pi(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function My(l,h,p,y){for(var O=0;O<l.length;++O){var R=l[O];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return O}return-1}var Dy="closure_lm_"+(1e6*Math.random()|0),Ty={};function DM(l,h,p,y,O){if(y&&y.once)return PM(l,h,p,y,O);if(Array.isArray(h)){for(var R=0;R<h.length;R++)DM(l,h[R],p,y,O);return null}return p=xy(p),l&&l[ct]?l.K(h,p,u(y)?!!y.capture:!!y,O):TM(l,h,p,!1,y,O)}function TM(l,h,p,y,O,R){if(!h)throw Error("Invalid event type");var B=u(O)?!!O.capture:!!O,ze=Sy(l);if(ze||(l[Dy]=ze=new ao(l)),p=ze.add(h,p,y,B,R),p.proxy)return p;if(y=pL(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)Ke||(O=B),O===void 0&&(O=!1),l.addEventListener(h.toString(),y,O);else if(l.attachEvent)l.attachEvent(OM(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function pL(){function l(p){return h.call(l.src,l.listener,p)}let h=gL;return l}function PM(l,h,p,y,O){if(Array.isArray(h)){for(var R=0;R<h.length;R++)PM(l,h[R],p,y,O);return null}return p=xy(p),l&&l[ct]?l.L(h,p,u(y)?!!y.capture:!!y,O):TM(l,h,p,!0,y,O)}function SM(l,h,p,y,O){if(Array.isArray(h))for(var R=0;R<h.length;R++)SM(l,h[R],p,y,O);else y=u(y)?!!y.capture:!!y,p=xy(p),l&&l[ct]?(l=l.i,h=String(h).toString(),h in l.g&&(R=l.g[h],p=My(R,p,y,O),-1<p&&(pi(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete l.g[h],l.h--)))):l&&(l=Sy(l))&&(h=l.g[h.toString()],l=-1,h&&(l=My(h,p,y,O)),(p=-1<l?h[l]:null)&&Py(p))}function Py(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ct])Iy(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(OM(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Sy(h))?(Iy(p,l),p.h==0&&(p.src=null,h[Dy]=null)):pi(l)}}}function OM(l){return l in Ty?Ty[l]:Ty[l]="on"+l}function gL(l,h){if(l.da)l=!0;else{h=new so(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&Py(l),l=p.call(y,h)}return l}function Sy(l){return l=l[Dy],l instanceof ao?l:null}var Oy="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(l){return typeof l=="function"?l:(l[Oy]||(l[Oy]=function(h){return l.handleEvent(h)}),l[Oy])}function Wt(){at.call(this),this.i=new ao(this),this.M=this,this.F=null}w(Wt,at),Wt.prototype[ct]=!0,Wt.prototype.removeEventListener=function(l,h,p,y){SM(this,l,h,p,y)};function on(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new We(h,l);else if(h instanceof We)h.target=h.target||l;else{var O=h;h=new We(y,l),T(h,O)}if(O=!0,p)for(var R=p.length-1;0<=R;R--){var B=h.g=p[R];O=Xd(B,y,!0,h)&&O}if(B=h.g=l,O=Xd(B,y,!0,h)&&O,O=Xd(B,y,!1,h)&&O,p)for(R=0;R<p.length;R++)B=h.g=p[R],O=Xd(B,y,!1,h)&&O}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)pi(p[y]);delete l.g[h],l.h--}}this.F=null},Wt.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},Wt.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function Xd(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,R=0;R<h.length;++R){var B=h[R];if(B&&!B.da&&B.capture==p){var ze=B.listener,Ft=B.ha||B.src;B.fa&&Iy(l.i,B),O=ze.call(Ft,y)!==!1&&O}}return O&&!y.defaultPrevented}function xM(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function AM(l){l.g=xM(()=>{l.g=null,l.i&&(l.i=!1,AM(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class mL extends at{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:AM(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fl(l){at.call(this),this.h=l,this.g={}}w(fl,at);var RM=[];function NM(l){he(l.g,function(h,p){this.g.hasOwnProperty(p)&&Py(h)},l),l.g={}}fl.prototype.N=function(){fl.aa.N.call(this),NM(this)},fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ay=a.JSON.stringify,yL=a.JSON.parse,_L=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Ry(){}Ry.prototype.h=null;function kM(l){return l.h||(l.h=l.i())}function FM(){}var pl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ny(){We.call(this,"d")}w(Ny,We);function ky(){We.call(this,"c")}w(ky,We);var os={},LM=null;function Jd(){return LM=LM||new Wt}os.La="serverreachability";function VM(l){We.call(this,os.La,l)}w(VM,We);function gl(l){let h=Jd();on(h,new VM(h))}os.STAT_EVENT="statevent";function jM(l,h){We.call(this,os.STAT_EVENT,l),this.stat=h}w(jM,We);function sn(l){let h=Jd();on(h,new jM(h,l))}os.Ma="timingevent";function UM(l,h){We.call(this,os.Ma,l),this.size=h}w(UM,We);function ml(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function yl(){this.g=!0}yl.prototype.xa=function(){this.g=!1};function vL(l,h,p,y,O,R){l.info(function(){if(l.g)if(R)for(var B="",ze=R.split("&"),Ft=0;Ft<ze.length;Ft++){var Re=ze[Ft].split("=");if(1<Re.length){var Kt=Re[0];Re=Re[1];var Qt=Kt.split("_");B=2<=Qt.length&&Qt[1]=="type"?B+(Kt+"="+Re+"&"):B+(Kt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+p+`
`+B})}function CL(l,h,p,y,O,R,B){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+p+`
`+R+" "+B})}function Ia(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+wL(l,p)+(y?" "+y:"")})}function EL(l,h){l.info(function(){return"TIMEOUT: "+h})}yl.prototype.info=function(){};function wL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var R=O[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return Ay(p)}catch{return h}}var eh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},BM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fy;function th(){}w(th,Ry),th.prototype.g=function(){return new XMLHttpRequest},th.prototype.i=function(){return{}},Fy=new th;function co(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new fl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $M}function $M(){this.i=null,this.g="",this.h=!1}var zM={},Ly={};function Vy(l,h,p){l.L=1,l.v=oh(gi(h)),l.m=p,l.P=!0,HM(l,null)}function HM(l,h){l.F=Date.now(),nh(l),l.A=gi(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),iD(p.i,"t",y),l.C=0,p=l.j.J,l.h=new $M,l.g=wD(l.j,p?h:null,!l.m),0<l.O&&(l.M=new mL(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(RM[0]=O.toString()),O=RM);for(var R=0;R<O.length;R++){var B=DM(p,O[R],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),gl(),vL(l.i,l.u,l.A,l.l,l.R,l.m)}co.prototype.ca=function(l){l=l.target;let h=this.M;h&&mi(l)==3?h.j():this.Y(l)},co.prototype.Y=function(l){try{if(l==this.g)e:{let Qt=mi(this.g);var h=this.g.Ba();let Ta=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||dD(this.g)))){this.J||Qt!=4||h==7||(h==8||0>=Ta?gl(3):gl(2)),jy(this);var p=this.g.Z();this.X=p;t:if(qM(this)){var y=dD(this.g);l="";var O=y.length,R=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),_l(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(R&&h==O-1)});y.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=p==200,CL(this.i,this.u,this.A,this.l,this.R,Qt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Ft=this.g;if((ze=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var Re=ze;break t}}Re=null}if(p=Re)Ia(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uy(this,p);else{this.o=!1,this.s=3,sn(12),ss(this),_l(this);break e}}if(this.P){p=!0;let rr;for(;!this.J&&this.C<B.length;)if(rr=bL(this,B),rr==Ly){Qt==4&&(this.s=4,sn(14),p=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==zM){this.s=4,sn(15),Ia(this.i,this.l,B,"[Invalid Chunk]"),p=!1;break}else Ia(this.i,this.l,rr,null),Uy(this,rr);if(qM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||B.length!=0||this.h.h||(this.s=1,sn(16),p=!1),this.o=this.o&&p,!p)Ia(this.i,this.l,B,"[Invalid Chunked Response]"),ss(this),_l(this);else if(0<B.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Gy(Kt),Kt.M=!0,sn(11))}}else Ia(this.i,this.l,B,null),Uy(this,B);Qt==4&&ss(this),this.o&&!this.J&&(Qt==4?_D(this.j,this):(this.o=!1,nh(this)))}else UL(this.g),p==400&&0<B.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),ss(this),_l(this)}}}catch{}finally{}};function qM(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bL(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?Ly:(p=Number(h.substring(p,y)),isNaN(p)?zM:(y+=1,y+p>h.length?Ly:(h=h.slice(y,y+p),l.C=y+p,h)))}co.prototype.cancel=function(){this.J=!0,ss(this)};function nh(l){l.S=Date.now()+l.I,GM(l,l.I)}function GM(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ml(g(l.ba,l),h)}function jy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}co.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(EL(this.i,this.A),this.L!=2&&(gl(),sn(17)),ss(this),this.s=2,_l(this)):GM(this,this.S-l)};function _l(l){l.j.G==0||l.J||_D(l.j,l)}function ss(l){jy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,NM(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Uy(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||By(p.h,l))){if(!l.K&&By(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)uh(p),ch(p);else break e;qy(p),sn(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=ml(g(p.Za,p),6e3));if(1>=QM(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else cs(p,11)}else if((l.K||p.g==l)&&uh(p),!H(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let Re=O[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let Kt=Re[3];Kt!=null&&(p.la=Kt,p.j.info("VER="+p.la));let Qt=Re[4];Qt!=null&&(p.Aa=Qt,p.j.info("SVER="+p.Aa));let Ta=Re[5];Ta!=null&&typeof Ta=="number"&&0<Ta&&(y=1.5*Ta,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let rr=l.g;if(rr){let hh=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hh){var R=y.h;R.g||hh.indexOf("spdy")==-1&&hh.indexOf("quic")==-1&&hh.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&($y(R,R.h),R.h=null))}if(y.D){let Wy=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wy&&(y.ya=Wy,Qe(y.I,y.D,Wy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var B=l;if(y.qa=ED(y,y.J?y.ia:null,y.W),B.K){YM(y.h,B);var ze=B,Ft=y.L;Ft&&(ze.I=Ft),ze.B&&(jy(ze),nh(ze)),y.g=B}else mD(y);0<p.i.length&&lh(p)}else Re[0]!="stop"&&Re[0]!="close"||cs(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?cs(p,7):Hy(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}gl(4)}catch{}}var IL=class{constructor(l,h){this.g=l,this.map=h}};function WM(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function KM(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function QM(l){return l.h?1:l.g?l.g.size:0}function By(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function $y(l,h){l.g?l.g.add(h):l.h=h}function YM(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}WM.prototype.cancel=function(){if(this.i=ZM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function ZM(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return S(l.i)}function ML(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function DL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let y in l)h[p++]=y;return h}}}function XM(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=DL(l),y=ML(l),O=y.length,R=0;R<O;R++)h.call(void 0,y[R],p&&p[R],l)}var JM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),O=null;if(0<=y){var R=l[p].substring(0,y);O=l[p].substring(y+1)}else R=l[p];h(R,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function as(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof as){this.h=l.h,rh(this,l.j),this.o=l.o,this.g=l.g,ih(this,l.s),this.l=l.l;var h=l.i,p=new El;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),eD(this,p),this.m=l.m}else l&&(h=String(l).match(JM))?(this.h=!1,rh(this,h[1]||"",!0),this.o=vl(h[2]||""),this.g=vl(h[3]||"",!0),ih(this,h[4]),this.l=vl(h[5]||"",!0),eD(this,h[6]||"",!0),this.m=vl(h[7]||"")):(this.h=!1,this.i=new El(null,this.h))}as.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Cl(h,tD,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Cl(h,tD,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Cl(p,p.charAt(0)=="/"?OL:SL,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Cl(p,AL)),l.join("")};function gi(l){return new as(l)}function rh(l,h,p){l.j=p?vl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ih(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function eD(l,h,p){h instanceof El?(l.i=h,RL(l.i,l.h)):(p||(h=Cl(h,xL)),l.i=new El(h,l.h))}function Qe(l,h,p){l.i.set(h,p)}function oh(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function vl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cl(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,PL),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function PL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var tD=/[#\/\?@]/g,SL=/[#\?:]/g,OL=/[#\?]/g,xL=/[#\?@]/g,AL=/#/g;function El(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function lo(l){l.g||(l.g=new Map,l.h=0,l.i&&TL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=El.prototype,n.add=function(l,h){lo(this),this.i=null,l=Ma(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function nD(l,h){lo(l),h=Ma(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function rD(l,h){return lo(l),h=Ma(l,h),l.g.has(h)}n.forEach=function(l,h){lo(this),this.g.forEach(function(p,y){p.forEach(function(O){l.call(h,O,y,this)},this)},this)},n.na=function(){lo(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let O=l[y];for(let R=0;R<O.length;R++)p.push(h[y])}return p},n.V=function(l){lo(this);let h=[];if(typeof l=="string")rD(this,l)&&(h=h.concat(this.g.get(Ma(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return lo(this),this.i=null,l=Ma(this,l),rD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function iD(l,h,p){nD(l,h),0<p.length&&(l.i=null,l.g.set(Ma(l,h),S(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var O=R;B[y]!==""&&(O+="="+encodeURIComponent(String(B[y]))),l.push(O)}}return this.i=l.join("&")};function Ma(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function RL(l,h){h&&!l.j&&(lo(l),l.i=null,l.g.forEach(function(p,y){var O=y.toLowerCase();y!=O&&(nD(this,y),iD(this,O,p))},l)),l.j=h}function NL(l,h){let p=new yl;if(a.Image){let y=new Image;y.onload=m(uo,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(uo,p,"TestLoadImage: error",!1,h,y),y.onabort=m(uo,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(uo,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function kL(l,h){let p=new yl,y=new AbortController,O=setTimeout(()=>{y.abort(),uo(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(R=>{clearTimeout(O),R.ok?uo(p,"TestPingServer: ok",!0,h):uo(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),uo(p,"TestPingServer: error",!1,h)})}function uo(l,h,p,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(p)}catch{}}function FL(){this.g=new _L}function LL(l,h,p){let y=p||"";try{XM(l,function(O,R){let B=O;u(O)&&(B=Ay(O)),h.push(y+R+"="+encodeURIComponent(B))})}catch(O){throw h.push(y+"type="+encodeURIComponent("_badmap")),O}}function wl(l){this.l=l.Ub||null,this.j=l.eb||!1}w(wl,Ry),wl.prototype.g=function(){return new sh(this.l,this.j)},wl.prototype.i=function(l){return function(){return l}}({});function sh(l,h){Wt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(sh,Wt),n=sh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Il(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function oD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?bl(this):Il(this),this.readyState==3&&oD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,bl(this))},n.Qa=function(l){this.g&&(this.response=l,bl(this))},n.ga=function(){this.g&&bl(this)};function bl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Il(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Il(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function sD(l){let h="";return he(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function zy(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=sD(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Qe(l,h,p))}function lt(l){Wt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(lt,Wt);var VL=/^https?$/i,jL=["POST","PUT"];n=lt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fy.g(),this.v=this.o?kM(this.o):kM(Fy),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(R){aD(this,R);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)p.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jL,h,void 0))||y||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of p)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uD(this),this.u=!0,this.g.send(l),this.u=!1}catch(R){aD(this,R)}};function aD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,cD(l),ah(l)}function cD(l){l.A||(l.A=!0,on(l,"complete"),on(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,on(this,"complete"),on(this,"abort"),ah(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ah(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?lD(this):this.bb())},n.bb=function(){lD(this)};function lD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||mi(l)!=4||l.Z()!=2)){if(l.u&&mi(l)==4)xM(l.Ea,0,l);else if(on(l,"readystatechange"),mi(l)==4){l.h=!1;try{let B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=B===0){var O=String(l.D).match(JM)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),y=!VL.test(O?O.toLowerCase():"")}p=y}if(p)on(l,"complete"),on(l,"success");else{l.m=6;try{var R=2<mi(l)?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.Z()+"]",cD(l)}}finally{ah(l)}}}}function ah(l,h){if(l.g){uD(l);let p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||on(l,"ready");try{p.onreadystatechange=y}catch{}}}function uD(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function mi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),yL(h)}};function dD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function UL(l){let h={};l=(l.g&&2<=mi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(H(l[y]))continue;var p=P(l[y]);let O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[O]||[];h[O]=R,R.push(p)}D(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function hD(l){this.Aa=0,this.i=[],this.j=new yl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,l),this.cb=Ml("retryDelaySeedMs",1e4,l),this.Wa=Ml("forwardChannelMaxRetries",2,l),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new WM(l&&l.concurrentRequestLimit),this.Da=new FL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hD.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,y){sn(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=ED(this,null,this.W),lh(this)};function Hy(l){if(fD(l),l.G==3){var h=l.U++,p=gi(l.I);if(Qe(p,"SID",l.K),Qe(p,"RID",h),Qe(p,"TYPE","terminate"),Dl(l,p),h=new co(l,l.j,h),h.L=2,h.v=oh(gi(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=wD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),nh(h)}CD(l)}function ch(l){l.g&&(Gy(l),l.g.cancel(),l.g=null)}function fD(l){ch(l),l.u&&(a.clearTimeout(l.u),l.u=null),uh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function lh(l){if(!KM(l.h)&&!l.s){l.s=!0;var h=l.Ga;Z||ht(),ee||(Z(),ee=!0),Ie.add(h,l),l.B=0}}function BL(l,h){return QM(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ml(g(l.Ga,l,h),vD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let O=new co(this,this.j,l),R=this.o;if(this.S&&(R?(R=E(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(O.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=gD(this,O,h),p=gi(this.I),Qe(p,"RID",l),Qe(p,"CVER",22),this.D&&Qe(p,"X-HTTP-Session-Id",this.D),Dl(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(sD(R)))+"&"+h:this.m&&zy(p,this.m,R)),$y(this.h,O),this.Ua&&Qe(p,"TYPE","init"),this.P?(Qe(p,"$req",h),Qe(p,"SID","null"),O.T=!0,Vy(O,p,null)):Vy(O,p,h),this.G=2}}else this.G==3&&(l?pD(this,l):this.i.length==0||KM(this.h)||pD(this))};function pD(l,h){var p;h?p=h.l:p=l.U++;let y=gi(l.I);Qe(y,"SID",l.K),Qe(y,"RID",p),Qe(y,"AID",l.T),Dl(l,y),l.m&&l.o&&zy(y,l.m,l.o),p=new co(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=gD(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),$y(l.h,p),Vy(p,y,h)}function Dl(l,h){l.H&&he(l.H,function(p,y){Qe(h,y,p)}),l.l&&XM({},function(p,y){Qe(h,y,p)})}function gD(l,h,p){p=Math.min(l.i.length,p);var y=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let R=-1;for(;;){let B=["count="+p];R==-1?0<p?(R=O[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let ze=!0;for(let Ft=0;Ft<p;Ft++){let Re=O[Ft].g,Kt=O[Ft].map;if(Re-=R,0>Re)R=Math.max(0,O[Ft].g-100),ze=!1;else try{LL(Kt,B,"req"+Re+"_")}catch{y&&y(Kt)}}if(ze){y=B.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function mD(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Z||ht(),ee||(Z(),ee=!0),Ie.add(h,l),l.v=0}}function qy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ml(g(l.Fa,l),vD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,yD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ml(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),ch(this),yD(this))};function Gy(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function yD(l){l.g=new co(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=gi(l.qa);Qe(h,"RID","rpc"),Qe(h,"SID",l.K),Qe(h,"AID",l.T),Qe(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(h,"TO",l.ja),Qe(h,"TYPE","xmlhttp"),Dl(l,h),l.m&&l.o&&zy(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=oh(gi(h)),p.m=null,p.P=!0,HM(p,l)}n.Za=function(){this.C!=null&&(this.C=null,ch(this),qy(this),sn(19))};function uh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function _D(l,h){var p=null;if(l.g==h){uh(l),Gy(l),l.g=null;var y=2}else if(By(l.h,h))p=h.D,YM(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;y=Jd(),on(y,new UM(y,p)),lh(l)}else mD(l);else if(O=h.s,O==3||O==0&&0<h.X||!(y==1&&BL(l,h)||y==2&&qy(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),O){case 1:cs(l,5);break;case 4:cs(l,10);break;case 3:cs(l,6);break;default:cs(l,2)}}}function vD(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function cs(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),y=l.Xa;let O=!y;y=new as(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||rh(y,"https"),oh(y),O?NL(y.toString(),p):kL(y.toString(),p)}else sn(2);l.G=0,l.l&&l.l.sa(h),CD(l),fD(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function CD(l){if(l.G=0,l.ka=[],l.l){let h=ZM(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function ED(l,h,p){var y=p instanceof as?gi(p):new as(p);if(y.g!="")h&&(y.g=h+"."+y.g),ih(y,y.s);else{var O=a.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var R=new as(null);y&&rh(R,y),h&&(R.g=h),O&&ih(R,O),p&&(R.l=p),y=R}return p=l.D,h=l.ya,p&&h&&Qe(y,p,h),Qe(y,"VER",l.la),Dl(l,y),y}function wD(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new lt(new wl({eb:p})):new lt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bD(){}n=bD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dh(){}dh.prototype.g=function(l,h){return new On(l,h)};function On(l,h){Wt.call(this),this.g=new hD(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!H(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Da(this)}w(On,Wt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Hy(this.g)},On.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Ay(l),l=p);h.i.push(new IL(h.Ya++,l)),h.G==3&&lh(h)},On.prototype.N=function(){this.g.l=null,delete this.j,Hy(this.g),delete this.g,On.aa.N.call(this)};function ID(l){Ny.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(ID,Ny);function MD(){ky.call(this),this.status=1}w(MD,ky);function Da(l){this.g=l}w(Da,bD),Da.prototype.ua=function(){on(this.g,"a")},Da.prototype.ta=function(l){on(this.g,new ID(l))},Da.prototype.sa=function(l){on(this.g,new MD)},Da.prototype.ra=function(){on(this.g,"b")},dh.prototype.createWebChannel=dh.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,G0=Ki.createWebChannelTransport=function(){return new dh},q0=Ki.getStatEventTarget=function(){return Jd()},H0=Ki.Event=os,Xg=Ki.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eh.NO_ERROR=0,eh.TIMEOUT=8,eh.HTTP_ERROR=6,gd=Ki.ErrorCode=eh,BM.COMPLETE="complete",z0=Ki.EventType=BM,FM.EventType=pl,pl.OPEN="a",pl.CLOSE="b",pl.ERROR="c",pl.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Lc=Ki.WebChannel=FM,pq=Ki.FetchXmlHttpFactory=wl,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,$0=Ki.XhrIo=lt}).apply(typeof Zg<"u"?Zg:typeof self<"u"?self:typeof window<"u"?window:{});var tN="@firebase/firestore",nN="4.8.0";var Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");var rl="11.10.0";var da=new Qr("@firebase/firestore");function Vc(){return da.logLevel}function W(n,...e){if(da.logLevel<=Me.DEBUG){let t=e.map(NI);da.debug(`Firestore (${rl}): ${n}`,...t)}}function Qi(n,...e){if(da.logLevel<=Me.ERROR){let t=e.map(NI);da.error(`Firestore (${rl}): ${n}`,...t)}}function Ko(n,...e){if(da.logLevel<=Me.WARN){let t=e.map(NI);da.warn(`Firestore (${rl}): ${n}`,...t)}}function NI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KN(n,r,t)}function KN(n,e,t){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qi(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||KN(e,i,r)}function fe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var om=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Z0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nt.UNAUTHENTICATED))}shutdown(){}},X0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},J0=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new om(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Nt(e)}},eb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},tb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nb=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function QN(){return new TextEncoder}var Ed=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function rb(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return we(r,i);{let o=QN(),s=mq(o.encode(rN(n,t)),o.encode(rN(e,t)));return s!==0?s:we(r,i)}}t+=r>65535?2:1}return we(n.length,e.length)}function rN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function mq(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return we(n[t],e[t]);return we(n.length,e.length)}function qc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var iN="__name__",am=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return we(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):rb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}},nt=class n extends am{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},yq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jn=class n extends am{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return yq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iN}static keyField(){return new n([iN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new z(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var te=class n{constructor(e){this.path=e}static fromPath(e){return new n(nt.fromString(e))}static fromName(e){return new n(nt.fromString(e).popFirst(5))}static empty(){return new n(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new nt(e.slice()))}};function YN(n,e,t){if(!t)throw new z(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _q(n,e,t,r){if(e===!0&&r===!0)throw new z(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oN(n){if(!te.isDocumentKey(n))throw new z(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sN(n){if(te.isDocumentKey(n))throw new z(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=jm(n);throw new z(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Fd(n,e){if(!ZN(n))throw new z(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new z(k.INVALID_ARGUMENT,t);return!0}var aN=-62135596800,cN=1e6,Dt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*cN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aN)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cN}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fd(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-aN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:Mt("string",Dt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};var me=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Dt(0,0))}static max(){return new n(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wd=-1,ib=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ib.UNKNOWN_ID=-1;function vq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new ha(i,te.empty(),e)}function Cq(n){return new ha(n.readTime,n.key,wd)}var ha=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(me.min(),te.empty(),wd)}static max(){return new n(me.max(),te.empty(),wd)}};function Eq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=te.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var wq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ob=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function il(n){return _(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==wq)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function bq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ol(n){return n.name==="IndexedDbTransactionError"}var kI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),FI=-1;function Um(n){return n==null}function bd(n){return n===0&&1/n==-1/0}function Iq(n){return typeof n=="number"&&Number.isInteger(n)&&!bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var XN="";function Mq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lN(e)),e=Dq(n.get(t),e);return lN(e)}function Dq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case XN:t+="";break;default:t+=o}}return t}function lN(n){return n+XN+""}var Tq="remoteDocuments",JN="owner";var ek="mutationQueues";var tk="mutations";var nk="documentMutations",Pq="remoteDocumentsV14";var rk="remoteDocumentGlobal";var ik="targets";var ok="targetDocuments";var sk="targetGlobal",ak="collectionParents";var ck="clientMetadata";var lk="bundles";var uk="namedQueries";var Sq="indexConfiguration";var Oq="indexState";var xq="indexEntries";var dk="documentOverlays";var Aq="globals";var Rq=[ek,tk,nk,Tq,ik,JN,sk,ok,ck,rk,ak,lk,uk],Qhe=[...Rq,dk],Nq=[ek,tk,nk,Pq,ik,JN,sk,ok,ck,rk,ak,lk,uk,dk],kq=Nq,Fq=[...kq,Sq,Oq,xq];var Yhe=[...Fq,Aq];function uN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function es(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var dt=class n{constructor(e,t){this.comparator=e,this.root=t||ni.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}},$c=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ni=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ni(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class n{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cm(this.data.getIterator())}getIteratorFrom(e){return new cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},cm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var er=class n{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new n([])}unionWith(e){let t=new kt(jn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var lm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rn.EMPTY_BYTE_STRING=new rn("");var Lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=Lq.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}var fk="server_timestamp",pk="__type__",gk="__previous_value__",mk="__local_write_time__";function LI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pk])===null||t===void 0?void 0:t.stringValue)===fk}function Bm(n){let e=n.mapValue.fields[gk];return LI(e)?Bm(e):e}function Id(n){let e=Yi(n.mapValue.fields[mk].timestampValue);return new Dt(e.seconds,e.nanos)}var sb=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},um="(default)",dm=class n{constructor(e,t){this.projectId=e,this.database=t||um}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===um}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var VI="__type__",yk="__max__",Jg={mapValue:{fields:{__type__:{stringValue:yk}}}},jI="__vector__",Gc="value";function Qo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?LI(n)?4:vk(n)?9007199254740991:_k(n)?10:11:oe(28295,{value:n})}function si(n,e){if(n===e)return!0;let t=Qo(n);if(t!==Qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Id(n).isEqual(Id(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yi(i.timestampValue),a=Yi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Zi(i.bytesValue).isEqual(Zi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?bd(s)===bd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return qc(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(uN(s)!==uN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!si(s[c],a[c])))return!1;return!0}(n,e);default:return oe(52216,{left:n})}}function Md(n,e){return(n.values||[]).find(t=>si(t,e))!==void 0}function Wc(n,e){if(n===e)return 0;let t=Qo(n),r=Qo(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=tt(o.integerValue||o.doubleValue),c=tt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return dN(n.timestampValue,e.timestampValue);case 4:return dN(Id(n),Id(e));case 5:return rb(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Zi(o),c=Zi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=we(a[u],c[u]);if(d!==0)return d}return we(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(tt(o.latitude),tt(s.latitude));return a!==0?a:we(tt(o.longitude),tt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return hN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},g=s.fields||{},m=(a=f[Gc])===null||a===void 0?void 0:a.arrayValue,w=(c=g[Gc])===null||c===void 0?void 0:c.arrayValue,S=we(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:hN(m,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Jg.mapValue&&s===Jg.mapValue)return 0;if(o===Jg.mapValue)return 1;if(s===Jg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=rb(c[f],d[f]);if(g!==0)return g;let m=Wc(a[c[f]],u[d[f]]);if(m!==0)return m}return we(c.length,d.length)}(n.mapValue,e.mapValue);default:throw oe(23264,{le:t})}}function dN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=Yi(n),r=Yi(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function hN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Wc(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function Kc(n){return ab(n)}function ab(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Yi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ab(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ab(t.fields[s])}`;return i+"}"}(n.mapValue):oe(61005,{value:n})}function nm(n){switch(Qo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Bm(n);return e?16+nm(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+nm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return es(r.fields,(o,s)=>{i+=o.length+nm(s)}),i}(n.mapValue);default:throw oe(13486,{value:n})}}function fN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cb(n){return!!n&&"integerValue"in n}function UI(n){return!!n&&"arrayValue"in n}function pN(n){return!!n&&"nullValue"in n}function gN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rm(n){return!!n&&"mapValue"in n}function _k(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VI])===null||t===void 0?void 0:t.stringValue)===jI}function yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return es(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yk}var Xhe={mapValue:{fields:{[VI]:{stringValue:jI},[Gc]:{arrayValue:{}}}}};var Vn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)}setAll(e){let t=jn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=yd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){es(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(yd(this.value))}};function Ck(n){let e=[];return es(n.fields,(t,r)=>{let i=new jn([t]);if(rm(r)){let o=Ck(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new er(e)}var Tr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,me.min(),me.min(),me.min(),Vn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,me.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,me.min(),me.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,me.min(),me.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qc=class{constructor(e,t){this.position=e,this.inclusive=t}};function mN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),t.key):r=Wc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}var fa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Vq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var hm=class{},It=class n extends hm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ub(e,t,r):t==="array-contains"?new fb(e,r):t==="in"?new pb(e,r):t==="not-in"?new gb(e,r):t==="array-contains-any"?new mb(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new db(e,r):new hb(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Wc(t,this.value)):t!==null&&Qo(this.value)===Qo(t)&&this.matchesComparison(Wc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pr=class n extends hm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return Ek(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Ek(n){return n.op==="and"}function wk(n){return jq(n)&&Ek(n)}function jq(n){for(let e of n.filters)if(e instanceof Pr)return!1;return!0}function lb(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Kc(n.value);if(wk(n))return n.filters.map(e=>lb(e)).join(",");{let e=n.filters.map(t=>lb(t)).join(",");return`${n.op}(${e})`}}function bk(n,e){return n instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(n,e):n instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bk(s,i.filters[a]),!0):!1}(n,e):void oe(19439)}function Ik(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Kc(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Ik).join(" ,")+"}"}(n):"Filter"}var ub=class extends It{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){let t=te.comparator(e.key,this.key);return this.matchesComparison(t)}},db=class extends It{constructor(e,t){super(e,"in",t),this.keys=Mk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hb=class extends It{constructor(e,t){super(e,"not-in",t),this.keys=Mk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Mk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}var fb=class extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return UI(t)&&Md(t.arrayValue,this.value)}},pb=class extends It{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Md(this.value.arrayValue,t)}},gb=class extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Md(this.value.arrayValue,t)}},mb=class extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!UI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Md(this.value.arrayValue,r))}};var yb=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function _N(n,e=null,t=[],r=[],i=null,o=null,s=null){return new yb(n,e,t,r,i,o,s)}function BI(n){let e=fe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Um(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),e.Pe=t}return e.Pe}function $I(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Vq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yN(n.startAt,e.startAt)&&yN(n.endAt,e.endAt)}function _b(n){return te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Yo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Uq(n,e,t,r,i,o,s,a){return new Yo(n,e,t,r,i,o,s,a)}function $m(n){return new Yo(n)}function vN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Dk(n){return n.collectionGroup!==null}function _d(n){let e=fe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(jn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new fa(o,r))}),t.has(jn.keyField().canonicalString())||e.Te.push(new fa(jn.keyField(),r))}return e.Te}function ri(n){let e=fe(n);return e.Ie||(e.Ie=Bq(e,_d(n))),e.Ie}function Bq(n,e){if(n.limitType==="F")return _N(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new fa(i.field,o)});let t=n.endAt?new Qc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qc(n.startAt.position,n.startAt.inclusive):null;return _N(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vb(n,e){let t=n.filters.concat([e]);return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Cb(n,e,t){return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zm(n,e){return $I(ri(n),ri(e))&&n.limitType===e.limitType}function Tk(n){return`${BI(ri(n))}|lt:${n.limitType}`}function jc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Ik(i)).join(", ")}]`),Um(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Kc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Kc(i)).join(",")),`Target(${r})`}(ri(n))}; limitType=${n.limitType})`}function Hm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of _d(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=mN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,_d(r),i)||r.endAt&&!function(s,a,c){let u=mN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,_d(r),i))}(n,e)}function $q(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pk(n){return(e,t)=>{let r=!1;for(let i of _d(n)){let o=zq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zq(n,e,t){let r=n.field.isKeyField()?te.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Wc(c,u):oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var Xi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hk(this.inner)}size(){return this.innerSize}};var Hq=new dt(te.comparator);function Ji(){return Hq}var Sk=new dt(te.comparator);function md(...n){let e=Sk;for(let t of n)e=e.insert(t.key,t);return e}function Ok(n){let e=Sk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function sa(){return vd()}function xk(){return vd()}function vd(){return new Xi(n=>n.toString(),(n,e)=>n.isEqual(e))}var qq=new dt(te.comparator),Gq=new kt(te.comparator);function Pe(...n){let e=Gq;for(let t of n)e=e.add(t);return e}var Wq=new kt(we);function Kq(){return Wq}function zI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function Ak(n){return{integerValue:""+n}}function Qq(n,e){return Iq(e)?Ak(e):zI(n,e)}var Yc=class{constructor(){this._=void 0}};function Yq(n,e,t){return n instanceof Zc?function(i,o){let s={fields:{[pk]:{stringValue:fk},[mk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&LI(o)&&(o=Bm(o)),o&&(s.fields[gk]=o),{mapValue:s}}(t,e):n instanceof pa?Nk(n,e):n instanceof ga?kk(n,e):function(i,o){let s=Rk(i,o),a=CN(s)+CN(i.Ee);return cb(s)&&cb(i.Ee)?Ak(a):zI(i.serializer,a)}(n,e)}function Zq(n,e,t){return n instanceof pa?Nk(n,e):n instanceof ga?kk(n,e):t}function Rk(n,e){return n instanceof Xc?function(r){return cb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Zc=class extends Yc{},pa=class extends Yc{constructor(e){super(),this.elements=e}};function Nk(n,e){let t=Fk(e);for(let r of n.elements)t.some(i=>si(i,r))||t.push(r);return{arrayValue:{values:t}}}var ga=class extends Yc{constructor(e){super(),this.elements=e}};function kk(n,e){let t=Fk(e);for(let r of n.elements)t=t.filter(i=>!si(i,r));return{arrayValue:{values:t}}}var Xc=class extends Yc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function CN(n){return tt(n.integerValue||n.doubleValue)}function Fk(n){return UI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Xq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof pa&&i instanceof pa||r instanceof ga&&i instanceof ga?qc(r.elements,i.elements,si):r instanceof Xc&&i instanceof Xc?si(r.Ee,i.Ee):r instanceof Zc&&i instanceof Zc}(n.transform,e.transform)}var Eb=class{constructor(e,t){this.version=e,this.transformResults=t}},ii=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function im(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Jc=class{};function Lk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dd(n.key,ii.none()):new ma(n.key,n.data,ii.none());{let t=n.data,r=Vn.empty(),i=new kt(jn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ai(n.key,r,new er(i.toArray()),ii.none())}}function Jq(n,e,t){n instanceof ma?function(i,o,s){let a=i.value.clone(),c=wN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ai?function(i,o,s){if(!im(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=wN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Vk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Cd(n,e,t,r){return n instanceof ma?function(o,s,a,c){if(!im(o.precondition,s))return a;let u=o.value.clone(),d=bN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof ai?function(o,s,a,c){if(!im(o.precondition,s))return a;let u=bN(o.fieldTransforms,c,s),d=s.data;return d.setAll(Vk(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return im(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function e9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Rk(r.transform,i||null);o!=null&&(t===null&&(t=Vn.empty()),t.set(r.field,o))}return t||null}function EN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qc(r,i,(o,s)=>Xq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ma=class extends Jc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ai=class extends Jc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Vk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function wN(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Zq(s,a,t[i]))}return r}function bN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Yq(o,s,e))}return r}var Dd=class extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wb=class extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bb=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Jq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Cd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=xk();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=Lk(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(t,r)=>EN(t,r))&&qc(this.baseMutations,e.baseMutations,(t,r)=>EN(t,r))}},Ib=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return qq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Mb=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Db=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var wt,xe;function t9(n){switch(n){case k.OK:return oe(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function jk(n){if(n===void 0)return Qi("GRPC error has no .code"),k.UNKNOWN;switch(n){case wt.OK:return k.OK;case wt.CANCELLED:return k.CANCELLED;case wt.UNKNOWN:return k.UNKNOWN;case wt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case wt.INTERNAL:return k.INTERNAL;case wt.UNAVAILABLE:return k.UNAVAILABLE;case wt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case wt.NOT_FOUND:return k.NOT_FOUND;case wt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case wt.ABORTED:return k.ABORTED;case wt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case wt.DATA_LOSS:return k.DATA_LOSS;default:return oe(39323,{code:n})}}(xe=wt||(wt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";var IN=null;var n9=new Wi([4294967295,4294967295],0);function MN(n){let e=QN().encode(n),t=new B0;return t.update(e),new Uint8Array(t.digest())}function DN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wi([t,r],0),new Wi([i,o],0)]}var Tb=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new aa(`Invalid padding: ${t}`);if(r<0)throw new aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new aa(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Wi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Wi.fromNumber(r)));return i.compare(n9)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=MN(e),[r,i]=DN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=MN(e),[r,i]=DN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},aa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var fm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(me.min(),i,new dt(we),Ji(),Pe())}},Td=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Pe(),Pe(),Pe())}};var zc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},pm=class{constructor(e,t){this.targetId=e,this.De=t}},gm=class{constructor(e,t,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},mm=class{constructor(){this.ve=0,this.Ce=TN(),this.Fe=rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pe(),t=Pe(),r=Pe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new Td(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=TN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Pb=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ji(),this.je=em(),this.Je=em(),this.He=new dt(we)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(_b(o))if(r===0){let s=new te(o.path);this.Xe(t,s,Tr.newNoDocument(s,me.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}IN?.ct(function(d,f,g,m,w){var S,A,V,H,G,Y;let ke={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},he=f.unchangedNames;return he&&(ke.bloomFilter={applied:w===0,hashCount:(S=he?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(H=(V=(A=he?.bits)===null||A===void 0?void 0:A.bitmap)===null||V===void 0?void 0:V.length)!==null&&H!==void 0?H:0,padding:(Y=(G=he?.bits)===null||G===void 0?void 0:G.padding)!==null&&Y!==void 0?Y:0,mightContain:D=>{var E;return(E=m?.mightContain(D))!==null&&E!==void 0&&E}}),ke}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Zi(r).toUint8Array()}catch(c){if(c instanceof lm)return Ko("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Tb(s,i,o)}catch(c){return Ko(c instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&_b(a.target)){let c=new te(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Tr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Pe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new fm(e,t,this.He,this.ze,r);return this.ze=Ji(),this.je=em(),this.Je=em(),this.He=new dt(we),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new mm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new kt(we),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new kt(we),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new mm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function em(){return new dt(te.comparator)}function TN(){return new dt(te.comparator)}var r9={asc:"ASCENDING",desc:"DESCENDING"},i9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o9={and:"AND",or:"OR"},Sb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ob(n,e){return n.useProto3Json||Um(e)?e:{value:e}}function ym(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s9(n,e){return ym(n,e.toTimestamp())}function oi(n){return Le(!!n,49232),me.fromTimestamp(function(t){let r=Yi(t);return new Dt(r.seconds,r.nanos)}(n))}function HI(n,e){return xb(n,e).canonicalString()}function xb(n,e){let t=function(i){return new nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Bk(n){let e=nt.fromString(n);return Le(Gk(e),10190,{key:e.toString()}),e}function Ab(n,e){return HI(n.databaseId,e.path)}function W0(n,e){let t=Bk(e);if(t.get(1)!==n.databaseId.projectId)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(zk(t))}function $k(n,e){return HI(n.databaseId,e)}function a9(n){let e=Bk(n);return e.length===4?nt.emptyPath():zk(e)}function Rb(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zk(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function PN(n,e,t){return{name:Ab(n,e),fields:t.value.mapValue.fields}}function c9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string",58123),rn.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),rn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?k.UNKNOWN:jk(u.code);return new z(d,u.message||"")}(s);t=new gm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=W0(n,r.document.name),o=oi(r.document.updateTime),s=r.document.createTime?oi(r.document.createTime):me.min(),a=new Vn({mapValue:{fields:r.document.fields}}),c=Tr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new zc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=W0(n,r.document),o=r.readTime?oi(r.readTime):me.min(),s=Tr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new zc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=W0(n,r.document),o=r.removedTargetIds||[];t=new zc([],o,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Db(i,o),a=r.targetId;t=new pm(a,s)}}return t}function l9(n,e){let t;if(e instanceof ma)t={update:PN(n,e.key,e.value)};else if(e instanceof Dd)t={delete:Ab(n,e.key)};else if(e instanceof ai)t={update:PN(n,e.key,e.data),updateMask:_9(e.fieldMask)};else{if(!(e instanceof wb))return oe(16599,{Rt:e.type});t={verify:Ab(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Zc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ga)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:s9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(n,e.precondition)),t}function u9(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?oi(i.updateTime):oi(o);return s.isEqual(me.min())&&(s=oi(o)),new Eb(s,i.transformResults||[])}(t,e))):[]}function d9(n,e){return{documents:[$k(n,e.path)]}}function h9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$k(n,i);let o=function(u){if(u.length!==0)return qk(Pr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Uc(g.field),direction:g9(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Ob(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function f9(n){let e=a9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let g=Hk(f);return g instanceof Pr&&wk(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(g=>function(w){return new fa(Bc(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Um(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,m=f.values||[];return new Qc(m,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,m=f.values||[];return new Qc(m,g)}(t.endAt)),Uq(e,i,s,o,a,"F",c,u)}function p9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Hk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Bc(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bc(t.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bc(t.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bc(t.unaryFilter.field);return It.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(Bc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(r=>Hk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(t.compositeFilter.op))}(n):oe(30097,{filter:n})}function g9(n){return r9[n]}function m9(n){return i9[n]}function y9(n){return o9[n]}function Uc(n){return{fieldPath:n.canonicalString()}}function Bc(n){return jn.fromServerFormat(n.fieldPath)}function qk(n){return n instanceof It?function(t){if(t.op==="=="){if(gN(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NAN"}};if(pN(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gN(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NAN"}};if(pN(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(t.field),op:m9(t.op),value:t.value}}}(n):n instanceof Pr?function(t){let r=t.getFilters().map(i=>qk(i));return r.length===1?r[0]:{compositeFilter:{op:y9(t.op),filters:r}}}(n):oe(54877,{filter:n})}function _9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Pd=class n{constructor(e,t,r,i,o=me.min(),s=me.min(),a=rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Nb=class{constructor(e){this.gt=e}};function v9(n){let e=f9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cb(e,e.limit,"L"):e}var _m=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(tt(e.integerValue));else if("doubleValue"in e){let r=tt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),bd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Yi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Zi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?vk(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):_k(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):oe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Gc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(tt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),te.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};_m.Ut=new _m;var kb=class{constructor(){this.Dn=new Fb}addToCollectionParentIndex(e,t){return this.Dn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(ha.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},Fb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kt(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}};var Jhe=new Uint8Array(0);var SN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wk=41943040,Jn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(Wk,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);var Sd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var ON="LruGarbageCollector",C9=1048576;function xN([n,e],[t,r]){let i=we(n,t);return i===0?we(e,r):i}var Lb=class{constructor(e){this.Tr=e,this.buffer=new kt(xN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();xN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vb=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){W(ON,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ol(t)?W(ON,"Ignoring IndexedDB error during garbage collection: ",t):yield il(t)}yield this.Rr(3e5)}))}},jb=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return j.resolve(kI.ue);let r=new Lb(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(SN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Vc()<=Me.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function E9(n,e){return new jb(n,e)}var Ub=class{constructor(){this.changes=new Xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Bb=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var $b=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Cd(r.mutation,i,er.empty(),Dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){let i=sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=md();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ji(),s=vd(),a=function(){return vd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ai)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Cd(d.mutation,u,d.mutation.getFieldMask(),Dt.now())):s.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new Bb(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=vd(),i=new dt((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||er.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Pe()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=xk();d.forEach(g=>{if(!o.has(g)){let m=Lk(t.get(g),r.get(g));m!==null&&f.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):j.resolve(sa()),a=wd,c=o;return s.next(u=>j.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Pe())).next(d=>({batchId:a,changes:Ok(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let i=md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=md();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,c=>{let u=function(f,g){return new Yo(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Tr.newInvalidDocument(d)))});let a=md();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Cd(d.mutation,u,er.empty(),Dt.now()),Hm(t,u)&&(a=a.insert(c,u))}),a})}};var zb=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return j.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:oi(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:v9(i.bundledQuery),readTime:oi(i.readTime)}}(t)),j.resolve()}};var Hb=class{constructor(){this.overlays=new dt(te.comparator),this.kr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=sa();return j.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=sa(),o=t.length+1,s=new te(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=sa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=sa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return j.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Mb(t,r));let o=this.kr.get(t);o===void 0&&(o=Pe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var qb=class{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var Od=class{constructor(){this.qr=new kt(bt.Qr),this.$r=new kt(bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new bt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new bt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new te(new nt([])),r=new bt(t,e),i=new bt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new te(new nt([])),r=new bt(t,e),i=new bt(t,e+1),o=Pe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new bt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},bt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return te.comparator(e.key,t.key)||we(e.Hr,t.Hr)}static Ur(e,t){return we(e.Hr,t.Hr)||te.comparator(e.key,t.key)}};var Gb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new kt(bt.Qr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bb(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new bt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,t){return j.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?FI:this.er-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new bt(t,0),i=new bt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(we);return t.forEach(i=>{let o=new bt(i,0),s=new bt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),j.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;te.isDocumentKey(o)||(o=o.child(""));let s=new bt(new te(o),0),a=new kt(we);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),j.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return j.forEach(t.mutations,i=>{let o=new bt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new bt(t,0),i=this.Yr.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Wb=class{constructor(e){this.ni=e,this.docs=function(){return new dt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(t))}getEntries(e,t){let r=Ji();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tr.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ji(),s=t.path,a=new te(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Eq(Cq(d),r)<=0||(i.has(d.key)||Hm(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}ri(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Kb(this)}getSize(e){return j.resolve(this.size)}},Kb=class extends Ub{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Qb=class{constructor(e){this.persistence=e,this.ii=new Xi(t=>BI(t),$I),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.si=0,this.oi=new Od,this.targetCount=0,this._i=Sd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),j.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Sd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.hr(t),j.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.oi.containsKey(t))}};var vm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new kI(0),this.ci=!1,this.ci=!0,this.li=new qb,this.referenceDelegate=e(this),this.hi=new Qb(this),this.indexManager=new kb,this.remoteDocumentCache=function(i){return new Wb(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Nb(t),this.Ti=new zb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Gb(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new Yb(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return j.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Yb=class extends ob{constructor(e){super(),this.currentSequenceNumber=e}},Zb=class n{constructor(e){this.persistence=e,this.Ai=new Od,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),j.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.mi,r=>{let i=te.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,me.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return j.or([()=>j.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Cm=class n{constructor(e,t){this.persistence=e,this.gi=new Xi(r=>Mq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=E9(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return j.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?j.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,me.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),j.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nm(e.data.value)),t}Sr(e,t,r){return j.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Xb=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Pe(),i=Pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Jb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return v1()?8:bq(Rt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jb;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Vc()<=Me.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Vc()<=Me.DEBUG&&W("QueryEngine","Query:",jc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Vc()<=Me.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):j.resolve())}ps(e,t){if(vN(t))return j.resolve(null);let r=ri(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Cb(t,null,"F"),r=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Pe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,Cb(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return vN(t)||i.isEqual(me.min())?j.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?j.resolve(null):(Vc()<=Me.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jc(t)),this.vs(e,s,t,vq(i,wd)).next(a=>a))})}bs(e,t){let r=new kt(Pk(e));return t.forEach((i,o)=>{Hm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Vc()<=Me.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",jc(t)),this.gs.getDocumentsMatchingQuery(e,t,ha.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var qI="LocalStore",w9=3e8,tI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new dt(we),this.Ms=new Xi(o=>BI(o),$I),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $b(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function b9(n,e,t,r){return new tI(n,e,t,r)}function Kk(n,e){return _(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Pe();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function I9(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),m=j.resolve();return g.forEach(w=>{m=m.next(()=>d.getEntry(c,w)).next(S=>{let A=u.docVersions.get(w);Le(A!==null,48541),S.version.compareTo(A)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Qk(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function M9(n,e){let t=fe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(rn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(S,A,V){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=w9?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,m,d)&&a.push(t.hi.updateTargetData(o,m))});let c=Ji(),u=Pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(D9(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(me.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function D9(n,e,t){let r=Pe(),i=Pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ji();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(qI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function T9(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=FI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P9(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Pd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function nI(n,e,t){return _(this,null,function*(){let r=fe(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ol(s))throw s;W(qI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function AN(n,e,t){let r=fe(n),i=me.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=fe(c),g=f.Ms.get(d);return g!==void 0?j.resolve(f.Fs.get(g)):f.hi.getTargetData(u,d)}(r,s,ri(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:me.min(),t?o:Pe())).next(a=>(S9(r,$q(e),a),{documents:a,qs:o})))}function S9(n,e,t){let r=n.xs.get(e)||me.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Em=class{constructor(){this.activeTargetIds=Kq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rI=class{constructor(){this.Fo=new Em,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Em,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iI=class{xo(e){}shutdown(){}};var RN="ConnectivityMonitor",wm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){W(RN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){W(RN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var tm=null;function oI(){return tm===null?tm=function(){return 268435456+Math.round(2147483648*Math.random())}():tm++,"0x"+tm.toString(16)}var K0="RestConnection",O9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},sI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===um?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=oI(),a=this.Go(e,t.toUriEncodedString());W(K0,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=Wr(u);return this.jo(e,a,c,r,d).then(f=>(W(K0,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ko(K0,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=O9[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var aI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var nn="WebChannelConnection",cI=class extends sI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=oI();return new Promise((a,c)=>{let u=new $0;u.setWithCredentials(!0),u.listenOnce(z0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gd.NO_ERROR:let f=u.getResponseJson();W(nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case gd.TIMEOUT:W(nn,`RPC '${e}' ${s} timed out`),c(new z(k.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:let g=u.getStatus();if(W(nn,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let S=function(V){let H=V.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(H)>=0?H:k.UNKNOWN}(w.status);c(new z(S,w.message))}else c(new z(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new z(k.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{W(nn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);W(nn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=oI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=G0(),a=q0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");W(nn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,m=!1,w=new aI({Ho:A=>{m?W(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(W(nn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),W(nn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Yo:()=>f.close()}),S=(A,V,H)=>{A.listen(V,G=>{try{H(G)}catch(Y){setTimeout(()=>{throw Y},0)}})};return S(f,Lc.EventType.OPEN,()=>{m||(W(nn,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),S(f,Lc.EventType.CLOSE,()=>{m||(m=!0,W(nn,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(f))}),S(f,Lc.EventType.ERROR,A=>{m||(m=!0,Ko(nn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),w.__(new z(k.UNAVAILABLE,"The operation could not be completed")))}),S(f,Lc.EventType.MESSAGE,A=>{var V;if(!m){let H=A.data[0];Le(!!H,16349);let G=H,Y=G?.error||((V=G[0])===null||V===void 0?void 0:V.error);if(Y){W(nn,`RPC '${e}' stream ${i} received error:`,Y);let ke=Y.status,he=function(b){let T=wt[b];if(T!==void 0)return jk(T)}(ke),D=Y.message;he===void 0&&(he=k.INTERNAL,D="Unknown error status: "+ke+" with message "+Y.message),m=!0,w.__(new z(he,D)),f.close()}else W(nn,`RPC '${e}' stream ${i} received:`,H),w.a_(H)}}),S(a,H0.STAT_EVENT,A=>{A.stat===Xg.PROXY?W(nn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Xg.NOPROXY&&W(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Q0(){return typeof document<"u"?document:null}function qm(n){return new Sb(n,!0)}var bm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var NN="PersistentStream",Im=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Qi(t.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new z(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return W(NN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(W(NN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lI=class extends Im{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=c9(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?oi(s.readTime):me.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Rb(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=_b(c)?{documents:d9(o,c)}:{query:h9(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Uk(o,s.resumeToken);let u=Ob(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=ym(o,s.snapshotVersion.toTimestamp());let u=Ob(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=p9(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Rb(this.serializer),t.removeTarget=e,this.k_(t)}},uI=class extends Im{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=u9(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Rb(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>l9(this.serializer,r))};this.k_(t)}};var dI=class{},hI=class extends dI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,xb(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,xb(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},fI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qi(t),this._a=!1):W("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ya="RemoteStore",pI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){_a(this)&&(W(ya,"Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=fe(c);u.Ia.add(4),yield Ld(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Gm(u)})}(this))}))}),this.Aa=new fI(r,i)}};function Gm(n){return _(this,null,function*(){if(_a(n))for(let e of n.da)yield e(!0)})}function Ld(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function Yk(n,e){let t=fe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),QI(t)?KI(t):sl(t).x_()&&WI(t,e))}function GI(n,e){let t=fe(n),r=sl(t);t.Ta.delete(e),r.x_()&&Zk(t,e),t.Ta.size===0&&(r.x_()?r.B_():_a(t)&&t.Aa.set("Unknown"))}function WI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(n).H_(e)}function Zk(n,e){n.Ra.$e(e),sl(n).Y_(e)}function KI(n){n.Ra=new Pb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.Aa.aa()}function QI(n){return _a(n)&&!sl(n).M_()&&n.Ta.size>0}function _a(n){return fe(n).Ia.size===0}function Xk(n){n.Ra=void 0}function x9(n){return _(this,null,function*(){n.Aa.set("Online")})}function A9(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{WI(n,e)})})}function R9(n,e){return _(this,null,function*(){Xk(n),QI(n)?(n.Aa.la(e),KI(n)):n.Aa.set("Unknown")})}function N9(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof gm&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){W(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mm(n,r)}else if(e instanceof zc?n.Ra.Ye(e):e instanceof pm?n.Ra.it(e):n.Ra.et(e),!t.isEqual(me.min()))try{let r=yield Qk(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(rn.EMPTY_BYTE_STRING,d.snapshotVersion)),Zk(o,c);let f=new Pd(d.target,c,u,d.sequenceNumber);WI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W(ya,"Failed to raise snapshot:",r),yield Mm(n,r)}})}function Mm(n,e,t){return _(this,null,function*(){if(!ol(e))throw e;n.Ia.add(1),yield Ld(n),n.Aa.set("Offline"),t||(t=()=>Qk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){W(ya,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Gm(n)}))})}function Jk(n,e){return e().catch(t=>Mm(n,t,e))}function Wm(n){return _(this,null,function*(){let e=fe(n),t=Zo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:FI;for(;k9(e);)try{let i=yield T9(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,F9(e,i)}catch(i){yield Mm(e,i)}eF(e)&&tF(e)})}function k9(n){return _a(n)&&n.Pa.length<10}function F9(n,e){n.Pa.push(e);let t=Zo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function eF(n){return _a(n)&&!Zo(n).M_()&&n.Pa.length>0}function tF(n){Zo(n).start()}function L9(n){return _(this,null,function*(){Zo(n).na()})}function V9(n){return _(this,null,function*(){let e=Zo(n);for(let t of n.Pa)e.X_(t.mutations)})}function j9(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=Ib.from(r,e,t);yield Jk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wm(n)})}function U9(n,e){return _(this,null,function*(){e&&Zo(n).Z_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return t9(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Zo(r).N_(),yield Jk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wm(r)}})}(n,e)),eF(n)&&tF(n)})}function kN(n,e){return _(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),W(ya,"RemoteStore received new credentials");let r=_a(t);t.Ia.add(3),yield Ld(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Gm(t)})}function B9(n,e){return _(this,null,function*(){let t=fe(n);e?(t.Ia.delete(2),yield Gm(t)):e||(t.Ia.add(2),yield Ld(t),t.Aa.set("Unknown"))})}function sl(n){return n.Va||(n.Va=function(t,r,i){let o=fe(t);return o.ia(),new lI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:x9.bind(null,n),e_:A9.bind(null,n),n_:R9.bind(null,n),J_:N9.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),QI(n)?KI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),Xk(n))}))),n.Va}function Zo(n){return n.ma||(n.ma=function(t,r,i){let o=fe(t);return o.ia(),new uI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:L9.bind(null,n),n_:U9.bind(null,n),ea:V9.bind(null,n),ta:j9.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield Wm(n)):(yield n.ma.stop(),n.Pa.length>0&&(W(ya,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var gI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function YI(n,e){if(Qi("AsyncQueue",`${e}: ${n}`),ol(n))return new z(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Dm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=md(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Tm=class{constructor(){this.fa=new dt(te.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},el=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Dm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var mI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},yI=class{constructor(){this.queries=FN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=fe(t),o=i.queries;i.queries=FN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new z(k.ABORTED,"Firestore shutting down"))}};function FN(){return new Xi(n=>Tk(n),zm)}function ZI(n,e){return _(this,null,function*(){let t=fe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new mI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=YI(s,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&JI(t)})}function XI(n,e){return _(this,null,function*(){let t=fe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function $9(n,e){let t=fe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&JI(t)}function z9(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function JI(n){n.Da.forEach(e=>{e.next()})}var _I,LN;(LN=_I||(_I={})).Fa="default",LN.Cache="cache";var xd=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_I.Cache}};var Pm=class{constructor(e){this.key=e}},Sm=class{constructor(e){this.key=e}},vI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pe(),this.mutatedKeys=Pe(),this.Xa=Pk(e),this.eu=new Dm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Tm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=Hm(this.query,f)?f:null,w=!!g&&this.mutatedKeys.has(g.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;g&&m?g.data.isEqual(m.data)?w!==S&&(r.track({type:3,doc:m}),A=!0):this.iu(g,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.Xa(m,c)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),A=!0):g&&!m&&(r.track({type:1,doc:g}),A=!0,(c||u)&&(a=!0)),A&&(m?(s=s.add(m),o=S?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>function(m,w){let S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:A})}};return S(m)-S(w)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new el(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Tm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Pe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Sm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Pm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Pe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return el.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},eM="SyncEngine",CI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},EI=class{constructor(e){this.key=e,this.lu=!1}},wI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Xi(a=>Tk(a),zm),this.Tu=new Map,this.Iu=new Set,this.du=new dt(te.comparator),this.Eu=new Map,this.Au=new Od,this.Ru={},this.Vu=new Map,this.mu=Sd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function H9(n,e,t=!0){return _(this,null,function*(){let r=aF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield nF(r,e,t,!0),i})}function q9(n,e){return _(this,null,function*(){let t=aF(n);yield nF(t,e,!0,!1)})}function nF(n,e,t,r){return _(this,null,function*(){let i=yield P9(n.localStore,ri(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield G9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Yk(n.remoteStore,i),a})}function G9(n,e,t,r,i){return _(this,null,function*(){n.gu=(f,g,m)=>function(S,A,V,H){return _(this,null,function*(){let G=A.view.nu(V);G.Ds&&(G=yield AN(S.localStore,A.query,!1).then(({documents:D})=>A.view.nu(D,G)));let Y=H&&H.targetChanges.get(A.targetId),ke=H&&H.targetMismatches.get(A.targetId)!=null,he=A.view.applyChanges(G,S.isPrimaryClient,Y,ke);return jN(S,A.targetId,he._u),he.snapshot})}(n,f,g,m);let o=yield AN(n.localStore,e,!0),s=new vI(e,o.qs),a=s.nu(o.documents),c=Td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);jN(n,t,u._u);let d=new CI(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function W9(n,e,t){return _(this,null,function*(){let r=fe(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!zm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&GI(r.remoteStore,i.targetId),bI(r,i.targetId)}).catch(il))):(bI(r,i.targetId),yield nI(r.localStore,i.targetId,!0))})}function K9(n,e){return _(this,null,function*(){let t=fe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),GI(t.remoteStore,r.targetId))})}function Q9(n,e,t){return _(this,null,function*(){let r=nG(n);try{let i=yield function(s,a){let c=fe(s),u=Dt.now(),d=a.reduce((m,w)=>m.add(w.key),Pe()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Ji(),S=Pe();return c.Os.getEntries(m,d).next(A=>{w=A,w.forEach((V,H)=>{H.isValidDocument()||(S=S.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(A=>{f=A;let V=[];for(let H of a){let G=e9(H,f.get(H.key).overlayedDocument);G!=null&&V.push(new ai(H.key,G,Ck(G.value.mapValue),ii.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,V,a)}).next(A=>{g=A;let V=A.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(m,A.batchId,V)})}).then(()=>({batchId:g.batchId,changes:Ok(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new dt(we)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Vd(r,i.changes),yield Wm(r.remoteStore)}catch(i){let o=YI(i,"Failed to persist write");t.reject(o)}})}function rF(n,e){return _(this,null,function*(){let t=fe(n);try{let r=yield M9(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield Vd(t,r,e)}catch(r){yield il(r)}})}function VN(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=fe(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(u=!0)}),u&&JI(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Y9(n,e,t){return _(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new dt(te.comparator);s=s.insert(o,Tr.newNoDocument(o,me.min()));let a=Pe().add(o),c=new fm(me.min(),new Map,new dt(we),s,a);yield rF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),tM(r)}else yield nI(r.localStore,e,!1).then(()=>bI(r,e,t)).catch(il)})}function Z9(n,e){return _(this,null,function*(){let t=fe(n),r=e.batch.batchId;try{let i=yield I9(t.localStore,e);oF(t,r,null),iF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vd(t,i)}catch(i){yield il(i)}})}function X9(n,e,t){return _(this,null,function*(){let r=fe(n);try{let i=yield function(s,a){let c=fe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);oF(r,e,t),iF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vd(r,i)}catch(i){yield il(i)}})}function iF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function oF(n,e,t){let r=fe(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function bI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||sF(n,r)})}function sF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(GI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),tM(n))}function jN(n,e,t){for(let r of t)r instanceof Pm?(n.Au.addReference(r.key,e),J9(n,r)):r instanceof Sm?(W(eM,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||sF(n,r.key)):oe(19791,{yu:r})}function J9(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(W(eM,"New document in limbo: "+t),n.Iu.add(r),tM(n))}function tM(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new te(nt.fromString(e)),r=n.mu.next();n.Eu.set(r,new EI(t)),n.du=n.du.insert(t,r),Yk(n.remoteStore,new Pd(ri($m(t.path)),r,"TargetPurposeLimboResolution",kI.ue))}}function Vd(n,e,t){return _(this,null,function*(){let r=fe(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=Xb.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return _(this,null,function*(){let d=fe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(u,g=>j.forEach(g.Is,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>j.forEach(g.ds,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!ol(f))throw f;W(qI,"Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let m=d.Fs.get(g),w=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(g,S)}}})}(r.localStore,o))})}function eG(n,e){return _(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){W(eM,"User change. New user:",e.toKey());let r=yield Kk(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new z(k.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vd(t,r.Bs)}})}function tG(n,e){let t=fe(n),r=t.Eu.get(e);if(r&&r.lu)return Pe().add(r.key);{let i=Pe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function aF(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y9.bind(null,e),e.hu.J_=$9.bind(null,e.eventManager),e.hu.pu=z9.bind(null,e.eventManager),e}function nG(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X9.bind(null,e),e}var cF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=qm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return b9(this.persistence,new eI,t.initialUser,this.serializer)}Du(t){return new vm(Zb.Vi,this.serializer)}bu(t){return new rI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),II=class extends cF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof Cm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Vb(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new vm(r=>Cm.Vi(r,t),this.serializer)}};var rG=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eG.bind(null,this.syncEngine),yield B9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new yI}()}createDatastore(t){let r=qm(t.databaseInfo.databaseId),i=function(s){return new cI(s)}(t.databaseInfo);return function(s,a,c,u){return new hI(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new pI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>VN(this.syncEngine,r,0),function(){return wm.C()?new wm:new iI}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let g=new wI(o,s,a,c,u,d);return f&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=fe(o);W(ya,"RemoteStore shutting down."),s.Ia.add(5),yield Ld(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ad=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Xo="FirestoreClient",MI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){W(Xo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(Xo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=YI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Y0(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W(Xo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield Kk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Ko("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{W("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ko("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function UN(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield iG(n);W(Xo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>kN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>kN(e.remoteStore,i)),n._onlineComponents=e})}function iG(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(Xo,"Using user provided OfflineComponentProvider");try{yield Y0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),yield Y0(n,new cF)}}else W(Xo,"Using default OfflineComponentProvider"),yield Y0(n,new II(void 0));return n._offlineComponents})}function lF(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(Xo,"Using user provided OnlineComponentProvider"),yield UN(n,n._uninitializedComponentsProvider._online)):(W(Xo,"Using default OnlineComponentProvider"),yield UN(n,new rG))),n._onlineComponents})}function oG(n){return lF(n).then(e=>e.syncEngine)}function Om(n){return _(this,null,function*(){let e=yield lF(n),t=e.eventManager;return t.onListen=H9.bind(null,e.syncEngine),t.onUnlisten=W9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=q9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=K9.bind(null,e.syncEngine),t})}function sG(n,e,t={}){let r=new Dr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,u){let d=new Ad({next:g=>{d.Ou(),s.enqueueAndForget(()=>XI(o,f));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new z(k.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?u.reject(new z(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new xd($m(a.path),d,{includeMetadataChanges:!0,ka:!0});return ZI(o,f)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function aG(n,e,t={}){let r=new Dr;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,u){let d=new Ad({next:g=>{d.Ou(),s.enqueueAndForget(()=>XI(o,f)),g.fromCache&&c.source==="server"?u.reject(new z(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new xd(a,d,{includeMetadataChanges:!0,ka:!0});return ZI(o,f)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function uF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var BN=new Map;var dF="firestore.googleapis.com",$N=!0,xm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dF,this.ssl=$N}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$N;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C9)throw new z(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_q("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},tl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z0;switch(r.type){case"firstParty":return new tb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=BN.get(t);r&&(W("ComponentProvider","Removing Datastore"),BN.delete(t),r.terminate())}(this),Promise.resolve()}};function hF(n,e,t,r={}){var i;n=Pn(n,tl);let o=Wr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Oc(`https://${c}`),xc("Firestore",!0)),s.host!==dF&&s.host!==c&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Kr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Nt.MOCK_USER;else{d=Dg(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new z(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Nt(g)}n._authCredentials=new X0(new om(d,f))}}var Jo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},St=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Fd(t,n._jsonSchema))return new n(e,r||null,new te(nt.fromString(t.referencePath)))}};St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Mt("string",St._jsonSchemaVersion),referencePath:Mt("string")};var Ho=class n extends Jo{constructor(e,t,r){super(e,t,$m(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new te(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ci(n,e,...t){if(n=Je(n),YN("collection","path",e),n instanceof tl){let r=nt.fromString(e,...t);return sN(r),new Ho(n,null,r)}{if(!(n instanceof St||n instanceof Ho))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return sN(r),new Ho(n.firestore,null,r)}}function eo(n,e,...t){if(n=Je(n),arguments.length===1&&(e=Ed.newId()),YN("doc","path",e),n instanceof tl){let r=nt.fromString(e,...t);return oN(r),new St(n,null,new te(r))}{if(!(n instanceof St||n instanceof Ho))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return oN(r),new St(n.firestore,n instanceof Ho?n.converter:null,new te(r))}}var zN="AsyncQueue",Am=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bm(this,"async_queue_retry"),this.oc=()=>{let r=Q0();r&&W(zN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Q0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Q0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Dr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ol(e))throw e;W(zN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Qi("INTERNAL UNHANDLED ERROR: ",HN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=gI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:HN(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function HN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function qN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Sr=class extends tl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Am,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Am(e),this._firestoreClient=void 0,yield e}})}};function fF(n,e){let t=typeof n=="object"?n:Bi(),r=typeof n=="string"?n:e||um,i=Fo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Mg("firestore");o&&hF(i,...o)}return i}function Km(n){if(n._terminated)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||cG(n),n._firestoreClient}function cG(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new sb(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,uF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new MI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var qo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(rn.fromBase64String(e))}catch(t){throw new z(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fd(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};qo._jsonSchemaVersion="firestore/bytes/1.0",qo._jsonSchema={type:Mt("string",qo._jsonSchemaVersion),bytes:Mt("string")};var nl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Rd=class{constructor(e){this._methodName=e}};var Go=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Fd(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Go._jsonSchemaVersion="firestore/geoPoint/1.0",Go._jsonSchema={type:Mt("string",Go._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};var Wo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fd(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new z(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Wo._jsonSchemaVersion="firestore/vectorValue/1.0",Wo._jsonSchema={type:Mt("string",Wo._jsonSchemaVersion),vectorValues:Mt("object")};var lG=/^__.*__$/,DI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,t,this.fieldTransforms):new ma(e,this.data,t,this.fieldTransforms)}},Rm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ai(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function pF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:n})}}var TI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return km(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pF(this.Ec)&&lG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},PI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qm(e)}Dc(e,t,r,i=!1){return new TI({Ec:e,methodName:t,bc:r,path:jn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Qm(n){let e=n._freezeSettings(),t=qm(n._databaseId);return new PI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gF(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);nM("Data must be an object, but it was:",s,r);let a=mF(r,s),c,u;if(o.merge)c=new er(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=SI(e,f,t);if(!s.contains(g))throw new z(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_F(d,g)||d.push(g)}c=new er(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new DI(new Vn(a),c,u)}var Nm=class n extends Rd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function uG(n,e,t,r){let i=n.Dc(1,e,t);nM("Data must be an object, but it was:",i,r);let o=[],s=Vn.empty();es(r,(c,u)=>{let d=rM(e,c,t);u=Je(u);let f=i.gc(d);if(u instanceof Nm)o.push(d);else{let g=jd(u,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new er(o);return new Rm(s,a,i.fieldTransforms)}function dG(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[SI(e,r,t)],c=[i];if(o.length%2!=0)throw new z(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(SI(e,o[g])),c.push(o[g+1]);let u=[],d=Vn.empty();for(let g=a.length-1;g>=0;--g)if(!_F(u,a[g])){let m=a[g],w=c[g];w=Je(w);let S=s.gc(m);if(w instanceof Nm)u.push(m);else{let A=jd(w,S);A!=null&&(u.push(m),d.set(m,A))}}let f=new er(u);return new Rm(d,f,s.fieldTransforms)}function hG(n,e,t,r=!1){return jd(t,n.Dc(r?4:3,e))}function jd(n,e){if(yF(n=Je(n)))return nM("Unsupported field value:",e,n),mF(n,e);if(n instanceof Rd)return function(r,i){if(!pF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=jd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Dt.fromDate(r);return{timestampValue:ym(i.serializer,o)}}if(r instanceof Dt){let o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ym(i.serializer,o)}}if(r instanceof Go)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:Uk(i.serializer,r._byteString)};if(r instanceof St){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wo)return function(s,a){return{mapValue:{fields:{[VI]:{stringValue:jI},[Gc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return zI(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${jm(r)}`)}(n,e)}function mF(n,e){let t={};return hk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(n,(r,i)=>{let o=jd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function yF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof Go||n instanceof qo||n instanceof St||n instanceof Rd||n instanceof Wo)}function nM(n,e,t){if(!yF(t)||!ZN(t)){let r=jm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function SI(n,e,t){if((e=Je(e))instanceof nl)return e._internalPath;if(typeof e=="string")return rM(n,e);throw km("Field path arguments must be of type string or ",n,!1,void 0,t)}var fG=new RegExp("[~\\*/\\[\\]]");function rM(n,e,t){if(e.search(fG)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nl(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function km(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new z(k.INVALID_ARGUMENT,a+n+c)}function _F(n,e){return n.some(t=>t.isEqual(e))}var Fm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},OI=class extends Fm{data(){return super.data()}};function Ym(n,e){return typeof e=="string"?rM(n,e):e instanceof nl?e._internalPath:e._delegate._internalPath}function vF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nd=class{},Lm=class extends Nd{};function va(n,e,...t){let r=[];e instanceof Nd&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof xI).length,a=o.filter(c=>c instanceof Vm).length;if(s>1||s>0&&a>0)throw new z(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Vm=class n extends Lm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return CF(e._query,t),new Jo(e.firestore,e.converter,vb(e._query,t))}_parse(e){let t=Qm(e.firestore);return function(o,s,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WN(f,d);let w=[];for(let S of f)w.push(GN(c,o,S));g={arrayValue:{values:w}}}else g=GN(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WN(f,d),g=hG(a,s,f,d==="in"||d==="not-in");return It.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Ca(n,e,t){let r=e,i=Ym("where",n);return Vm._create(i,r,t)}var xI=class n extends Nd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)CF(s,c),s=vb(s,c)}(e._query,t),new Jo(e.firestore,e.converter,vb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var AI=class n extends Lm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new z(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fa(o,s)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Yo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Ud(n,e="asc"){let t=e,r=Ym("orderBy",n);return AI._create(r,t)}function GN(n,e,t){if(typeof(t=Je(t))=="string"){if(t==="")throw new z(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dk(e)&&t.indexOf("/")!==-1)throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(nt.fromString(t));if(!te.isDocumentKey(r))throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fN(n,new te(r))}if(t instanceof St)return fN(n,t._key);throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(t)}.`)}function WN(n,e){if(!Array.isArray(n)||n.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var RI=class{convertValue(e,t="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return es(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Gc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>tt(s.doubleValue));return new Wo(o)}convertGeoPoint(e){return new Go(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Bm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Id(e));default:return null}}convertTimestamp(e){let t=Yi(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nt.fromString(e);Le(Gk(r),9688,{name:e});let i=new dm(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(t)||Qi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function EF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ca=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},la=class n extends Fm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Mt("string",la._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};var Hc=class extends la{data(e={}){return super.data(e)}},ua=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ca(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hc(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:pG(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function pG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}function Ea(n){n=Pn(n,St);let e=Pn(n.firestore,Sr);return sG(Km(e),n._key).then(t=>wF(e,n,t))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Mt("string",ua._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};var kd=class extends RI{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}};function al(n){n=Pn(n,Jo);let e=Pn(n.firestore,Sr),t=Km(e),r=new kd(e);return vF(n._query),aG(t,n._query).then(i=>new ua(e,r,n,i))}function Zm(n,e,t){n=Pn(n,St);let r=Pn(n.firestore,Sr),i=EF(n.converter,e,t);return ny(r,[gF(Qm(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ii.none())])}function Xm(n,e,t,...r){n=Pn(n,St);let i=Pn(n.firestore,Sr),o=Qm(i),s;return s=typeof(e=Je(e))=="string"||e instanceof nl?dG(o,"updateDoc",n._key,e,t,r):uG(o,"updateDoc",n._key,e),ny(i,[s.toMutation(n._key,ii.exists(!0))])}function Jm(n){return ny(Pn(n.firestore,Sr),[new Dd(n._key,ii.none())])}function ey(n,e){let t=Pn(n.firestore,Sr),r=eo(n),i=EF(n.converter,e);return ny(t,[gF(Qm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then(()=>r)}function ty(n,...e){var t,r,i;n=Je(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qN(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof St)u=Pn(n.firestore,Sr),d=$m(n._key.path),c={next:f=>{e[s]&&e[s](wF(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Pn(n,Jo);u=Pn(f.firestore,Sr),d=f._query;let g=new kd(u);c={next:m=>{e[s]&&e[s](new ua(u,g,f,m))},error:e[s+1],complete:e[s+2]},vF(n._query)}return function(g,m,w,S){let A=new Ad(S),V=new xd(m,A,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return ZI(yield Om(g),V)})),()=>{A.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return XI(yield Om(g),V)}))}}(Km(u),d,a,c)}function ny(n,e){return function(r,i){let o=new Dr;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Q9(yield oG(r),i,o)})),o.promise}(Km(n),e)}function wF(n,e,t){let r=t.docs.get(e._key),i=new kd(n);return new la(n,i,e._key,r,new ca(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){rl=i})(Zr),Ln(new Gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Sr(new J0(r.getProvider("auth-internal")),new nb(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dm(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),He(tN,nN,e),He(tN,nN,"esm2017")})();var wa=class{constructor(e){return e}},bF="firestore",iM=class{constructor(){return Lo(bF)}};var oM=new K("angularfire2.firestore-instances");function gG(n,e){let t=Js(bF,n,e);return t&&new wa(t)}function mG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new wa(r)}}var yG={provide:iM,deps:[[new Ct,oM]]},_G={provide:wa,useFactory:gG,deps:[[new Ct,oM],Ir]};function IF(n,...e){return He("angularfire",Xr.full,"fst"),ln([_G,yG,{provide:oM,useFactory:mG(n),multi:!0,deps:[Oe,ut,Jr,$i,[new Ct,oa],[new Ct,jo],...e]}])}var MF=Tn(fF,!0);var xF="firebasestorage.googleapis.com",vG="storageBucket",CG=2*60*1e3,EG=10*60*1e3;var li=class n extends yn{constructor(e,t,r=0){super(sM(e),`Firebase Storage: ${t} (${sM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},no=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(no||{});function sM(n){return"storage/"+n}function wG(){let n="An unknown error occurred, please check the error payload for server response.";return new li(no.UNKNOWN,n)}function bG(){return new li(no.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IG(){return new li(no.CANCELED,"User canceled the upload/download.")}function MG(n){return new li(no.INVALID_URL,"Invalid URL '"+n+"'.")}function DG(n){return new li(no.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function DF(n){return new li(no.INVALID_ARGUMENT,n)}function AF(){return new li(no.APP_DELETED,"The Firebase app was deleted.")}function TG(n){return new li(no.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var to=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw DG(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(Y){Y.path_=decodeURIComponent(Y.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},S=t===xF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",V=new RegExp(`^https?://${S}/${i}/${A}`,"i"),G=[{regex:a,indices:c,postModify:o},{regex:m,indices:w,postModify:u},{regex:V,indices:{bucket:1,path:2},postModify:u}];for(let Y=0;Y<G.length;Y++){let ke=G[Y],he=ke.regex.exec(e);if(he){let D=he[ke.indices.bucket],E=he[ke.indices.path];E||(E=""),r=new n(D,E),ke.postModify(r);break}}if(r==null)throw MG(e);return r}},aM=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function PG(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...A){u||(u=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,n(m,c())},A)}function g(){o&&clearTimeout(o)}function m(A,...V){if(u){g();return}if(A){g(),d.call(null,A,...V);return}if(c()||s){g(),d.call(null,A,...V);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,f(G)}let w=!1;function S(A){w||(w=!0,g(),!u&&(i!==null?(A||(a=2),clearTimeout(i),f(0)):A||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,S(!0)},t),S}function SG(n){n(!1)}function OG(n){return n!==void 0}function TF(n,e,t,r){if(r<e)throw DF(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw DF(`Invalid value for '${n}'. Expected ${t} or less.`)}function xG(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var cM=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(cM||{});function AG(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var lM=class{constructor(e,t,r,i,o,s,a,c,u,d,f,g=!0,m=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new cl(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===cM.NO_ERROR,c=o.getStatus();if(!a||AG(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===cM.ABORT;r(!1,new cl(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new cl(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());OG(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=wG();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?AF():IG();s(c)}else{let c=bG();s(c)}};this.canceled_?t(!1,new cl(!1,null,!0)):this.backoffId_=PG(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},cl=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function RG(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function NG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kG(n,e){e&&(n["X-Firebase-GMPID"]=e)}function FG(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function LG(n,e,t,r,i,o,s=!0,a=!1){let c=xG(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return kG(d,e),RG(d,t),NG(d,o),FG(d,r),new lM(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function VG(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function jG(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var ape=256*1024;var uM=class n{constructor(e,t){this._service=e,t instanceof to?this._location=t:this._location=to.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new to(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jG(this._location.path)}get storage(){return this._service}get parent(){let e=VG(this._location.path);if(e===null)return null;let t=new to(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw TG(e)}};function PF(n,e){let t=e?.[vG];return t==null?null:to.makeFromBucketSpec(t,n)}function UG(n,e,t,r={}){n.host=`${e}:${t}`;let i=Wr(e);i&&(Oc(`https://${n.host}/b`),xc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Dg(o,n.app.options.projectId))}var dM=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=xF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CG,this._maxUploadRetryTime=EG,this._requests=new Set,i!=null?this._bucket=to.makeFromBucketSpec(i,this._host):this._bucket=PF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=to.makeFromBucketSpec(this._url,e):this._bucket=PF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uM(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new aM(AF());{let s=LG(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},SF="@firebase/storage",OF="0.13.14";var RF="storage";function NF(n=Bi(),e){n=Je(n);let r=Fo(n,RF).getImmediate({identifier:e}),i=Mg("storage");return i&&kF(r,...i),r}function kF(n,e,t,r={}){UG(n,e,t,r)}function BG(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new dM(t,r,i,e,Zr)}function $G(){Ln(new Gt(RF,BG,"PUBLIC").setMultipleInstances(!0)),He(SF,OF,""),He(SF,OF,"esm2017")}$G();var Bd=class{constructor(e){return e}},FF="storage",hM=class{constructor(){return Lo(FF)}};var fM=new K("angularfire2.storage-instances");function zG(n,e){let t=Js(FF,n,e);return t&&new Bd(t)}function HG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bd(r)}}var qG={provide:hM,deps:[[new Ct,fM]]},GG={provide:Bd,useFactory:zG,deps:[[new Ct,fM],Ir]};function LF(n,...e){return He("angularfire",Xr.full,"gcs"),ln([GG,qG,{provide:fM,useFactory:HG(n),multi:!0,deps:[Oe,ut,Jr,$i,[new Ct,oa],[new Ct,jo],...e]}])}var VF=Tn(NF,!0);var KF=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)($(fr),$(dn))};static \u0275dir=Ue({type:n})}return n})(),uy=(()=>{class n extends KF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,features:[hn]})}return n})(),Kd=new K("");var WG={provide:Kd,useExisting:En(()=>tr),multi:!0};function KG(){let n=Yn()?Yn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QG=new K(""),tr=(()=>{class n extends KF{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!KG())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)($(fr),$(dn),$(QG,8))};static \u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gr([WG]),hn]})}return n})();function YG(n){return n==null||QF(n)===0}function QF(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Qd=new K(""),YF=new K("");function ZG(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function XG(n){return YG(n.value)?{required:!0}:null}function JG(n){return e=>{let t=e.value?.length??QF(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function jF(n){return null}function ZF(n){return n!=null}function XF(n){return Oi(n)?it(n):n}function JF(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function eL(n,e){return e.map(t=>t(n))}function eW(n){return!n.validate}function tL(n){return n.map(e=>eW(e)?e:t=>e.validate(t))}function tW(n){if(!n)return null;let e=n.filter(ZF);return e.length==0?null:function(t){return JF(eL(t,e))}}function yM(n){return n!=null?tW(tL(n)):null}function nW(n){if(!n)return null;let e=n.filter(ZF);return e.length==0?null:function(t){let r=eL(t,e).map(XF);return g_(r).pipe(be(JF))}}function _M(n){return n!=null?nW(tL(n)):null}function UF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rW(n){return n._rawValidators}function iW(n){return n._rawAsyncValidators}function pM(n){return n?Array.isArray(n)?n:[n]:[]}function iy(n,e){return Array.isArray(n)?n.includes(e):n===e}function BF(n,e){let t=pM(e);return pM(n).forEach(i=>{iy(t,i)||t.push(i)}),t}function $F(n,e){return pM(e).filter(t=>!iy(n,t))}var oy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_M(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},dl=class extends oy{name;get formDirective(){return null}get path(){return null}},Wd=class extends oy{_parent=null;name=null;valueAccessor=null},sy=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ype=ce(U({},oW),{"[class.ng-submitted]":"isSubmitted"}),ui=(()=>{class n extends sy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)($(Wd,2))};static \u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[hn]})}return n})(),ns=(()=>{class n extends sy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)($(dl,10))};static \u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[hn]})}return n})();var $d="VALID",ry="INVALID",ll="PENDING",zd="DISABLED",ts=class{},ay=class extends ts{value;source;constructor(e,t){super(),this.value=e,this.source=t}},qd=class extends ts{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Gd=class extends ts{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ul=class extends ts{status;source;constructor(e,t){super(),this.status=e,this.source=t}},gM=class extends ts{source;constructor(e){super(),this.source=e}},mM=class extends ts{source;constructor(e){super(),this.source=e}};function nL(n){return(dy(n)?n.validators:n)||null}function sW(n){return Array.isArray(n)?yM(n):n||null}function rL(n,e){return(dy(e)?e.asyncValidators:n)||null}function aW(n){return Array.isArray(n)?_M(n):n||null}function dy(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function cW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function lW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var cy=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(e){wn(()=>this.statusReactive.set(e))}_status=cc(()=>this.statusReactive());statusReactive=Fr(void 0);get valid(){return this.status===$d}get invalid(){return this.status===ry}get pending(){return this.status==ll}get disabled(){return this.status===zd}get enabled(){return this.status!==zd}errors;get pristine(){return wn(this.pristineReactive)}set pristine(e){wn(()=>this.pristineReactive.set(e))}_pristine=cc(()=>this.pristineReactive());pristineReactive=Fr(!0);get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(e){wn(()=>this.touchedReactive.set(e))}_touched=cc(()=>this.touchedReactive());touchedReactive=Fr(!1);get untouched(){return!this.touched}_events=new ft;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($F(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($F(e,this._rawAsyncValidators))}hasValidator(e){return iy(this._rawValidators,e)}hasAsyncValidator(e){return iy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new qd(!0,r))}markAsPending(e={}){this.status=ll;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ul(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zd,this.errors=null,this._forEachChild(i=>{i.disable(ce(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ay(this.value,r)),this._events.next(new ul(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(r=>{r.enable(ce(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===ll)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ay(this.value,t)),this._events.next(new ul(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ll,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=XF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ul(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?zd:this.errors?ry:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ll)?ll:this._anyControlsHaveStatus(ry)?ry:$d}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new qd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Gd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aW(this._rawAsyncValidators)}},ly=class extends cy{constructor(e,t,r){super(nL(t),rL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){lW(this,!0,e),Object.keys(e).forEach(r=>{cW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vM=new K("",{providedIn:"root",factory:()=>CM}),CM="always";function uW(n,e){return[...e.path,n]}function iL(n,e,t=CM){oL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),hW(n,e),pW(n,e),fW(n,e),dW(n,e)}function zF(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function oL(n,e){let t=rW(n);e.validator!==null?n.setValidators(UF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iW(n);e.asyncValidator!==null?n.setAsyncValidators(UF(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();zF(e._rawValidators,i),zF(e._rawAsyncValidators,i)}function hW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&sL(n,e)})}function fW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&sL(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function sL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function gW(n,e){n==null,oL(n,e)}function mW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yW(n){return Object.getPrototypeOf(n.constructor)===uy}function _W(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===tr?t=o:yW(o)?r=o:i=o}),i||r||t||null}var CW={provide:dl,useExisting:En(()=>ro)},Hd=Promise.resolve(),ro=(()=>{class n extends dl{callSetDisabledState;get submitted(){return wn(this.submittedReactive)}_submitted=cc(()=>this.submittedReactive());submittedReactive=Fr(!1);_directives=new Set;form;ngSubmit=new pt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new ly({},yM(t),_M(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),iL(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hd.then(()=>{let r=this._findContainer(t.path),i=new ly({});gW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),_W(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new gM(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new mM(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)($(Qd,10),$(YF,10),$(vM,8))};static \u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gr([CW]),hn]})}return n})();function HF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var EW=class extends cy{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(nL(t),rL(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wW={provide:Wd,useExisting:En(()=>Or)},GF=Promise.resolve(),Or=(()=>{class n extends Wd{_changeDetectorRef;callSetDisabledState;control=new EW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vW(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mW(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){iL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){GF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Vs(r);GF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?uW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)($(dl,9),$(Qd,10),$(YF,10),$(Kd,10),$(Ri,8),$(vM,8))};static \u0275dir=Ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gr([wW]),hn,jr]})}return n})();var rs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),bW={provide:Kd,useExisting:En(()=>EM),multi:!0},EM=(()=>{class n extends uy{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[gr([bW]),hn]})}return n})();var IW={provide:Kd,useExisting:En(()=>hy),multi:!0};function aL(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function MW(n){return n.split(":")[0]}var hy=(()=>{class n extends uy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=F(xi).injector;appRefDestroyRef=this.appRefInjector.get(Kn);destroyRef=F(Kn);cdr=F(Ri);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,cp({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=aL(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=MW(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gr([IW]),hn]})}return n})(),cL=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(aL(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)($(dn),$(fr),$(hy,9))};static \u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),DW={provide:Kd,useExisting:En(()=>lL),multi:!0};function WF(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TW(n){return n.split(":")[0]}var lL=(()=>{class n extends uy{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=TW(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gr([DW]),hn]})}return n})(),uL=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(WF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(WF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)($(dn),$(fr),$(lL,9))};static \u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function PW(n){return typeof n=="number"?n:parseInt(n,10)}function SW(n){return typeof n=="number"?n:parseFloat(n)}var wM=(()=>{class n{_validator=jF;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jF,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ue({type:n,features:[jr]})}return n})();var OW={provide:Qd,useExisting:En(()=>bM),multi:!0},bM=(()=>{class n extends wM{min;inputName="min";normalizeInput=t=>SW(t);createValidator=t=>ZG(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Po("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[gr([OW]),hn]})}return n})(),xW={provide:Qd,useExisting:En(()=>io),multi:!0};var io=(()=>{class n extends wM{required;inputName="required";normalizeInput=Vs;createValidator=t=>XG;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Po("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[gr([xW]),hn]})}return n})();var AW={provide:Qd,useExisting:En(()=>IM),multi:!0},IM=(()=>{class n extends wM{minlength;inputName="minlength";normalizeInput=t=>PW(t);createValidator=t=>JG(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qn(n)))(i||n)}})();static \u0275dir=Ue({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Po("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[gr([AW]),hn]})}return n})();var RW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ur({type:n});static \u0275inj=sr({})}return n})();var di=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vM,useValue:t.callSetDisabledState??CM}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ur({type:n});static \u0275inj=sr({imports:[RW]})}return n})();var nr=class n{constructor(e){this.auth=e;QR(this.auth,t=>{console.log("Auth state changed:",t?`User: ${t.email}`:"No user"),this.currentUserSubject.next(t)})}currentUserSubject=new rt(void 0);currentUser$=this.currentUserSubject.asObservable();getCurrentUser(){let e=this.currentUserSubject.value;return e===void 0?null:e}getCurrentUserId(){let e=this.getCurrentUser();return e?e.uid:null}isAuthenticated(){return this.getCurrentUser()!==null}register(e,t,r){return _(this,null,function*(){try{let i=yield WR(this.auth,e,t);return r&&i.user&&(yield XR(i.user,{displayName:r})),console.log("User registered successfully:",i.user.email),i.user}catch(i){throw console.error("Registration error:",i),i}})}signIn(e,t){return _(this,null,function*(){try{let r=yield YR(this.auth,e,t);return console.log("User signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Sign in error:",r),r}})}signOut(){return _(this,null,function*(){try{yield ZR(this.auth),console.log("User signed out successfully")}catch(e){throw console.error("Sign out error:",e),e}})}getUserProfile(){let e=this.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,createdAt:new Date(e.metadata.creationTime||Date.now())}:null}static \u0275fac=function(t){return new(t||n)(X(ia))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sn=class n{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{t?this.loadData():(this.expensesSubject.next([]),this.categoriesSubject.next([]),this.userSettingsSubject.next({}))})}firestore=F(wa);expensesSubject=new rt([]);categoriesSubject=new rt([]);userSettingsSubject=new rt({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();loadData(){return _(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return _(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return this.expensesSubject.next([]),[];let t=ci(this.firestore,"expenses"),r=va(t,Ca("userId","==",e),Ud("date","desc")),i=yield al(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),this.expensesSubject.next(o),o}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return _(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=ci(this.firestore,"expenses"),i=ce(U({},e),{userId:t}),o=yield ey(r,i);return yield this.loadExpenses(),o.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return _(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=eo(this.firestore,"expenses",e.id);if((yield Ea(i)).exists()){let r=e,{id:s}=r,a=ls(r,["id"]);yield Xm(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=ls(t,["id"]);yield Zm(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return _(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=eo(this.firestore,"expenses",e);if(!(yield Ea(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield Jm(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return _(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=ls(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return _(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return console.log("No user authenticated, returning empty categories"),this.categoriesSubject.next([]),[];let t=ci(this.firestore,"categories"),r=va(t,Ca("userId","==",e)),i=yield al(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),this.categoriesSubject.next(o),o}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return _(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=ci(this.firestore,"categories"),i=ce(U({},e),{userId:t}),o=yield ey(r,i);return yield this.loadCategories(),o.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return _(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=eo(this.firestore,"categories",e.id);if((yield Ea(r)).exists()){let t=e,{id:o}=t,s=ls(t,["id"]);yield Xm(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return _(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=eo(this.firestore,"categories",e),r=yield Ea(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield Jm(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return _(this,null,function*(){try{let e=eo(this.firestore,"userSettings","default"),t=yield Ea(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return _(this,null,function*(){try{let t=eo(this.firestore,"userSettings","default");yield Zm(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=ci(this.firestore,"expenses"),t=va(e,Ud("date","desc"));return new ge(r=>ty(t,o=>{let s=[];o.forEach(a=>{s.push(U({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=ci(this.firestore,"categories");return new ge(t=>ty(e,i=>{let o=[];i.forEach(s=>{o.push(U({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return _(this,null,function*(){try{let t=ci(this.firestore,"expenses"),r=va(t,Ca("categoryId","==",e)),i=yield al(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return _(this,null,function*(){try{let r=ci(this.firestore,"expenses"),i=va(r,Ca("date",">=",e),Ca("date","<=",t),Ud("date","desc")),o=yield al(i),s=[];return o.forEach(a=>{s.push(U({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)(X(nr))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var is=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return _(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return _(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return _(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return _(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return _(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return _(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return _(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return _(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return _(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(X(Sn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var hi=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return _(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return _(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return _(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return _(this,null,function*(){yield this.loadCategories();let e=this.removeDuplicateCategories(this.categories);return e.length!==this.categories.length&&(console.log(`Found ${this.categories.length-e.length} duplicate categories. Cleaning up...`),yield this.cleanupDuplicateCategories(e)),[...e]})}removeDuplicateCategories(e){let t=new Set,r=[];for(let i of e){let o=i.name.toLowerCase().trim();t.has(o)?console.log(`Duplicate category found: "${i.name}" (ID: ${i.id})`):(t.add(o),r.push(i))}return r}cleanupDuplicateCategories(e){return _(this,null,function*(){try{let t=yield this.firebaseService.loadCategories(),r=new Set,i=[];for(let o of t){let s=o.name.toLowerCase().trim();r.has(s)?(i.push(o.id),console.log(`Marking duplicate for deletion: "${o.name}" (ID: ${o.id})`)):r.add(s)}for(let o of i)try{yield this.firebaseService.deleteCategory(o),console.log(`Deleted duplicate category with ID: ${o}`)}catch(s){console.error(`Error deleting duplicate category ${o}:`,s)}yield this.loadCategories()}catch(t){console.error("Error cleaning up duplicate categories:",t)}})}add(e){return _(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return _(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return _(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return _(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}triggerDuplicateCleanup(){return _(this,null,function*(){console.log("Manual duplicate cleanup triggered...");let e=yield this.getAll();console.log(`Categories after cleanup: ${e.length}`)})}static \u0275fac=function(t){return new(t||n)(X(Sn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function NW(n,e){n&1&&(v(0,"div",46),M(1," First Month "),C())}function kW(n,e){if(n&1&&(v(0,"div",37)(1,"div",38)(2,"div",39)(3,"h3"),M(4,"Monthly Comparison"),C(),v(5,"span",40),M(6,"vs Last Month"),C()(),v(7,"div",41)(8,"div",42)(9,"div",43),M(10),Be(11,"currency"),C(),v(12,"div",44),M(13,"Change"),C()(),v(14,"div",42)(15,"div",43),M(16),Be(17,"number"),C(),v(18,"div",44),M(19,"Percentage"),C()(),v(20,"div",42),ye(21,NW,2,0,"div",45),v(22,"div",44),M(23,"Status"),C()()()()()),n&2){let t=se();N(9),dp(t.getMonthlyComparison().change<0?"positive":"negative"),N(),qe(" ",pn(11,7,t.getMonthlyComparison().change,"INR")," "),N(5),dp(t.getMonthlyComparison().percentage<0?"positive":"negative"),N(),qe(" ",pn(17,10,t.getMonthlyComparison().percentage,"1.0-1"),"% "),N(5),J("ngIf",!t.getMonthlyComparison().hasPreviousData&&t.monthlyTotal>0)}}function FW(n,e){if(n&1){let t=gt();v(0,"div",47)(1,"div",48)(2,"label",49),M(3,"Start Date:"),C(),v(4,"input",50),Ze("ngModelChange",function(i){ne(t);let o=se();return et(o.customStartDate,i)||(o.customStartDate=i),re(i)}),ie("change",function(){ne(t);let i=se();return re(i.onFilterChange())}),C()(),v(5,"div",48)(6,"label",49),M(7,"End Date:"),C(),v(8,"input",50),Ze("ngModelChange",function(i){ne(t);let o=se();return et(o.customEndDate,i)||(o.customEndDate=i),re(i)}),ie("change",function(){ne(t);let i=se();return re(i.onFilterChange())}),C()()()}if(n&2){let t=se();N(4),Ye("ngModel",t.customStartDate),N(4),Ye("ngModel",t.customEndDate)}}function LW(n,e){if(n&1&&(v(0,"div",53)(1,"div",54)(2,"div",55),M(3),C(),v(4,"div",56)(5,"div",57),M(6),C(),v(7,"div",58),M(8),C()()(),v(9,"div",59),M(10),Be(11,"number"),C()()),n&2){let t=e.$implicit,r=se(2);N(2),pr("background-color",(t==null?null:t.color)||"#999"),N(),qe(" ",(t==null?null:t.icon)||"\u{1F4CC}"," "),N(3),Ae((t==null?null:t.name)||"Unknown"),N(2),qe(" ",r.getExpensesByCategory((t==null?null:t.id)||"").length," expenses "),N(2),qe(" \u20B9",Ht(11,6,r.categoryTotals[(t==null?null:t.id)||""]||0)," ")}}function VW(n,e){if(n&1&&(v(0,"div",51),ye(1,LW,12,8,"div",52),C()),n&2){let t=se();N(),J("ngForOf",t.categories)}}function jW(n,e){n&1&&(v(0,"div",60)(1,"div",61),M(2,"\u{1F3F7}\uFE0F"),C(),v(3,"h6"),M(4,"No Categories Found"),C(),v(5,"p"),M(6,"Add some categories to start tracking your expenses!"),C()())}function UW(n,e){if(n&1&&(v(0,"div",64)(1,"div",65)(2,"div",66),M(3),C(),v(4,"div",67)(5,"div",68),M(6),C(),v(7,"div",69),M(8),Be(9,"date"),C()()(),v(10,"div",70),M(11),Be(12,"number"),C()()),n&2){let t=e.$implicit,r=se(2);N(2),pr("background-color",r.getCategoryColor(t.categoryId)),N(),qe(" ",r.getCategoryIcon(t.categoryId)," "),N(3),Ae(t.description||"No description"),N(2),Ae(pn(9,6,t.date,"MMM dd")),N(3),qe("\u20B9",Ht(12,9,t.amount))}}function BW(n,e){if(n&1&&(v(0,"div",62),ye(1,UW,13,11,"div",63),C()),n&2){let t=se();N(),J("ngForOf",t.getFilteredExpenses().slice(0,5))}}function $W(n,e){n&1&&(v(0,"div",60)(1,"div",61),M(2,"\u{1F4DD}"),C(),v(3,"h6"),M(4,"No Expenses Found"),C(),v(5,"p"),M(6,"Add some expenses to see them here!"),C()())}var py=class n{constructor(e,t,r){this.expenseService=e;this.categoryService=t;this.firebaseService=r}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";customStartDate="";customEndDate="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;previousMonthTotal=0;monthlyChange=0;monthlyChangePercentage=0;weeklyTotal=0;subscription=new je;ngOnInit(){this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log(`Received ${e.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){this.recentExpenses=[...this.expenses].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5)}calculateMonthlyData(){let e=new Date,t=e.getMonth(),r=e.getFullYear();this.currentMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===t&&a.getFullYear()===r}).reduce((s,a)=>s+a.amount,0);let i=t===0?11:t-1,o=t===0?r-1:r;this.previousMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===i&&a.getFullYear()===o}).reduce((s,a)=>s+a.amount,0),this.monthlyChange=this.currentMonthTotal-this.previousMonthTotal,this.monthlyChangePercentage=this.previousMonthTotal>0?this.monthlyChange/this.previousMonthTotal*100:0}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date,r=new Date;switch(this.selectedPeriod){case"today":r.setHours(0,0,0,0);break;case"week":r.setDate(t.getDate()-7);break;case"month":r.setMonth(t.getMonth()-1);break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(i=>{let o=new Date(i.date),s=new Date(this.customStartDate),a=new Date(this.customEndDate);return o>=s&&o<=a}));break}this.selectedPeriod!=="custom"&&(e=e.filter(i=>new Date(i.date)>=r))}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"today":return"Today";case"week":return"This Week";case"month":return"This Month";case"custom":return"Custom Period";default:return"All Time"}}onFilterChange(){}getExpensesByCategory(e){return this.expenses.filter(t=>t.categoryId===e)}get categoryTotals(){let e={};return this.categories.forEach(t=>{e[t.id]=this.getExpensesByCategory(t.id).reduce((r,i)=>r+i.amount,0)}),e}getMonthlyComparison(){let e=this.previousMonthTotal>0;return{change:this.monthlyChange,percentage:this.monthlyChangePercentage,hasPreviousData:e}}get monthlyTotal(){return this.currentMonthTotal}static \u0275fac=function(t){return new(t||n)($(is),$(hi),$(Sn))};static \u0275cmp=$t({type:n,selectors:[["app-dashboard"]],decls:86,vars:28,consts:[[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"summary-cards","mb-4"],[1,"summary-card","total-spent","hover-lift"],[1,"card-icon"],[1,"card-content"],[1,"card-title"],[1,"card-amount"],[1,"card-subtitle"],[1,"summary-card","monthly-spent","hover-lift"],[1,"summary-card","weekly-spent","hover-lift"],["class","monthly-comparison mb-4",4,"ngIf"],[1,"filter-controls","mb-4"],[1,"filter-buttons"],[1,"filter-btn",3,"click"],["class","custom-date-inputs",4,"ngIf"],[1,"dashboard-content"],[1,"content-grid"],[1,"content-card","category-section"],[1,"card-header"],[1,"header-left"],[1,"header-icon"],[1,"header-title"],[1,"header-right"],[1,"filter-period"],[1,"total-amount"],[1,"card-body"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-section"],["class","expenses-list",4,"ngIf"],[1,"monthly-comparison","mb-4"],[1,"comparison-card"],[1,"comparison-header"],[1,"comparison-period"],[1,"comparison-content"],[1,"comparison-stat"],[1,"stat-value"],[1,"stat-label"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"custom-date-inputs"],[1,"date-input-group"],[1,"date-label"],["type","date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"category-list"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-info"],[1,"category-icon"],[1,"category-details"],[1,"category-name"],[1,"category-count"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-info"],[1,"expense-icon"],[1,"expense-details"],[1,"expense-description"],[1,"expense-date"],[1,"expense-amount"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),M(6,"\u{1F4CA}"),C()(),v(7,"div")(8,"h1",6),M(9,"Financial Dashboard"),C(),v(10,"p",7),M(11,"Your complete financial overview"),C()()()()(),v(12,"div",8)(13,"div",9)(14,"div",10),M(15,"\u{1F4B8}"),C(),v(16,"div",11)(17,"h3",12),M(18,"Total Spent"),C(),v(19,"div",13),M(20),Be(21,"number"),C(),v(22,"div",14),M(23),C()()(),v(24,"div",15)(25,"div",10),M(26,"\u{1F4C5}"),C(),v(27,"div",11)(28,"h3",12),M(29,"This Month"),C(),v(30,"div",13),M(31),Be(32,"number"),C(),v(33,"div",14),M(34,"Current Month"),C()()(),v(35,"div",16)(36,"div",10),M(37,"\u{1F4CA}"),C(),v(38,"div",11)(39,"h3",12),M(40,"This Week"),C(),v(41,"div",13),M(42),Be(43,"number"),C(),v(44,"div",14),M(45,"Current Week"),C()()()(),ye(46,kW,24,13,"div",17),v(47,"div",18)(48,"div",19)(49,"button",20),ie("click",function(){return r.selectedPeriod="all",r.onFilterChange()}),M(50," All Time "),C(),v(51,"button",20),ie("click",function(){return r.selectedPeriod="monthly",r.onFilterChange()}),M(52," Monthly "),C(),v(53,"button",20),ie("click",function(){return r.selectedPeriod="yearly",r.onFilterChange()}),M(54," Yearly "),C(),v(55,"button",20),ie("click",function(){return r.selectedPeriod="custom",r.onFilterChange()}),M(56," Custom "),C()(),ye(57,FW,9,2,"div",21),C(),v(58,"div",22)(59,"div",23)(60,"div",24)(61,"div",25)(62,"div",26)(63,"span",27),M(64,"\u{1F3F7}\uFE0F"),C(),v(65,"h5",28),M(66,"Category-wise Spending"),C()(),v(67,"div",29)(68,"span",30),M(69),C(),v(70,"span",31),M(71),Be(72,"number"),C()()(),v(73,"div",32),ye(74,VW,2,1,"div",33)(75,jW,7,0,"div",34),C()(),v(76,"div",35)(77,"div",25)(78,"div",26)(79,"span",27),M(80,"\u{1F4DD}"),C(),v(81,"h5",28),M(82,"Recent Expenses"),C()()(),v(83,"div",32),ye(84,BW,2,1,"div",36)(85,$W,7,0,"div",34),C()()()()()),t&2&&(N(20),qe("\u20B9",Ht(21,20,r.totalSpent)),N(3),Ae(r.getFilterLabel()),N(8),qe("\u20B9",Ht(32,22,r.monthlyTotal)),N(11),qe("\u20B9",Ht(43,24,r.weeklyTotal)),N(4),J("ngIf",r.getMonthlyComparison().hasPreviousData||r.monthlyTotal>0),N(3),zt("active",r.selectedPeriod==="all"),N(2),zt("active",r.selectedPeriod==="monthly"),N(2),zt("active",r.selectedPeriod==="yearly"),N(2),zt("active",r.selectedPeriod==="custom"),N(2),J("ngIf",r.selectedPeriod==="custom"),N(12),Ae(r.getFilterLabel()),N(2),qe("\u20B9",Ht(72,26,r.getFilteredTotal())),N(3),J("ngIf",r.categories.length>0),N(),J("ngIf",r.categories.length===0),N(9),J("ngIf",r.getFilteredExpenses().length>0),N(),J("ngIf",r.getFilteredExpenses().length===0))},dependencies:[en,$r,gn,di,tr,ui,Or,hE,Us,js],styles:[".page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:16px;margin-bottom:2rem;box-shadow:0 8px 32px #667eea4d}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#fffc!important;font-size:1.1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:.75rem 1.5rem;border-radius:12px;transition:all .3s ease}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 8px 25px #0003}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9997}.error-message[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33;padding:1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.success-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successPulse .6s ease-out}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f8f9fa;border-radius:16px;border:2px dashed #dee2e6}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.6}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0}.alerts-section[_ngcontent-%COMP%]   .alerts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.alerts-section[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{padding:1rem;border-radius:12px;display:flex;align-items:center;gap:.75rem;font-weight:500}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}.alerts-section[_ngcontent-%COMP%]   .alert-item.alert-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.alerts-section[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.2rem}.alerts-section[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1}.container-fluid[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%;padding-left:1rem;padding-right:1rem}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--card-bg, white)!important;border-radius:16px!important;padding:2rem;box-shadow:0 8px 32px #0000001a!important;display:flex!important;align-items:center;gap:1.5rem;transition:all .3s ease}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000026}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text, #666);margin-bottom:.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text, #333);margin-bottom:.25rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text, #999)}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text, #333);font-weight:600}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{color:var(--text, #666);font-size:.9rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{text-align:center}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#007bff}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}@media (max-width: 768px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}}@media (max-width: 480px){.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width: 768px) and (orientation: landscape){.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.4rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.filter-controls[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:1.5rem;box-shadow:0 8px 32px #0000001a;margin-bottom:2rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e9ecef;background:#fff;color:#666;border-radius:8px;font-weight:500;transition:all .3s ease;min-height:44px}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{border-color:#007bff;color:#007bff}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:#007bff;border-color:#007bff;color:#fff}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:2px solid #e9ecef;border-radius:8px;transition:border-color .3s ease;min-height:44px;font-size:16px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}@media (max-width: 768px){.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px}}@media (max-width: 480px){.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}}.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:600}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.dashboard-content[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.dashboard-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem;max-width:100%;margin:0 auto;width:100%}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 32px #0000001a;overflow:hidden;transition:all .3s ease;width:100%;max-width:100%;margin:0 auto}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 40px #00000026}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.5rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.25rem}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem;font-size:1rem}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 0;border-bottom:1px solid #f0f0f0}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{flex:1}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:.25rem;font-size:1rem}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:.9rem;margin:0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0;max-width:100%;margin:0 auto}.content-card[_ngcontent-%COMP%]{width:100%;max-width:100%;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;margin:0 auto}.pattern-item[_ngcontent-%COMP%], .savings-item[_ngcontent-%COMP%], .tip-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;margin:0 auto;width:100%;display:flex;flex-direction:column;align-items:center}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-card[_ngcontent-%COMP%]{padding:1.25rem;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center;gap:1.5rem}.card-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-amount[_ngcontent-%COMP%]{font-size:1.5rem}.card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.comparison-header[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.comparison-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.3rem}.stat-label[_ngcontent-%COMP%]{font-size:.8rem}.filter-section[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.category-breakdown[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.category-item[_ngcontent-%COMP%]{flex-direction:row;gap:1rem;padding:.75rem 0;text-align:left;align-items:center;justify-content:space-between}.category-info[_ngcontent-%COMP%]{flex-direction:row;gap:1rem;align-items:center}.category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem;margin:0}.category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.recent-expenses[_ngcontent-%COMP%]{padding:1.25rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.5rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.85rem}.expense-date[_ngcontent-%COMP%]{font-size:.8rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.summary-card[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%], .expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.summary-card[_ngcontent-%COMP%]:active, .category-item[_ngcontent-%COMP%]:active, .expense-item[_ngcontent-%COMP%]:active, .insight-item[_ngcontent-%COMP%]:active, .goal-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-set-budget[_ngcontent-%COMP%]:active, .btn-update-emergency[_ngcontent-%COMP%]:active, .btn-update-vacation[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;overflow-x:hidden}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem;border-radius:12px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.5rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem;min-height:44px}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem;gap:1rem;background:var(--card-bg, white);border-radius:16px;box-shadow:0 8px 32px #0000001a;display:flex;align-items:center}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.5rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.8rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.85rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:12px}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.75rem;line-height:1.2}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.filter-controls[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1.5rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;min-height:44px;flex:1;min-width:80px}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;font-size:16px;min-height:44px}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.85rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.3rem}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0;max-width:100%;margin:0 auto;width:100%;display:grid;justify-items:center;align-items:start}.content-card[_ngcontent-%COMP%]{padding:1.5rem;width:100%;max-width:100%;margin:0 auto;display:flex;flex-direction:column}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1.25rem;margin-bottom:1rem;width:100%}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.8rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .filter-total[_ngcontent-%COMP%]{font-size:1rem}.category-breakdown[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{padding:1rem;width:100%}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.75rem 0;display:flex;align-items:center;justify-content:space-between;width:100%}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{gap:.75rem;display:flex;align-items:center;flex:1}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem;flex-shrink:0}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.95rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.8rem}.category-breakdown[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.recent-expenses[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{padding:1rem;width:100%}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:1rem 0;display:flex;align-items:center;justify-content:space-between;width:100%}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.75rem;display:flex;align-items:center;flex:1}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem;flex-shrink:0}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{flex:1}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.95rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.8rem}.recent-expenses[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1.25rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.6rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.9rem}.page-header[_ngcontent-%COMP%]   .budget-setup[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.85rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.25rem;gap:.75rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.6rem}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.25rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{gap:1rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.6rem}.monthly-comparison[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]{padding:1rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.6rem .8rem;font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.85rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.6rem}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{padding:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{padding:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.2rem}.content-card[_ngcontent-%COMP%]{padding:1.25rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]{padding:1rem}.content-card[_ngcontent-%COMP%]   .card-header-modern[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}}.budget-setup[_ngcontent-%COMP%]{display:flex;gap:1rem}.budget-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.1rem}.budget-status-section[_ngcontent-%COMP%]{margin-bottom:2rem}.budget-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #e0e0e0}.budget-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.budget-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.budget-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.budget-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea}.budget-progress-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.budget-progress-bar[_ngcontent-%COMP%]{width:100%;height:12px;background:#e9ecef;border-radius:6px;overflow:hidden;margin-bottom:1rem}.budget-progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .8s ease}.budget-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.budget-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#ffffffb3;border-radius:8px;border:1px solid #e0e0e0}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#333}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.budget-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.action-icon[_ngcontent-%COMP%]{margin-right:.5rem}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:#666;cursor:pointer;padding:.5rem;border-radius:50%;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#333}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8;transform:translateY(-2px);box-shadow:0 5px 15px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;max-width:100%;margin:0 auto;width:100%}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;padding:0;width:100%;max-width:100%;margin:0 auto}.content-card[_ngcontent-%COMP%]{margin:0;width:100%;max-width:100%}.card-header[_ngcontent-%COMP%]{padding:1.25rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.1rem}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.8rem}.card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:.75rem 0}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.75rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.1rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.95rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.8rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}.card-body[_ngcontent-%COMP%]{padding:1rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{padding:.5rem 0}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{gap:.5rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.9rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:.9rem}}"]})};var zW=n=>({background:n});function HW(n,e){if(n&1&&(v(0,"option",56),M(1),C()),n&2){let t=e.$implicit;J("value",t.id),N(),Br(" ",t.icon," ",t.name," ")}}function qW(n,e){if(n&1){let t=gt();v(0,"button",57),ie("click",function(){ne(t);let i=se();return re(i.clearCategory())}),M(1," \u2715 "),C()}}function GW(n,e){if(n&1&&(v(0,"option",56),M(1),C()),n&2){let t=e.$implicit;J("value",t.id),N(),Br("",t.icon," ",t.name)}}function WW(n,e){if(n&1){let t=gt();v(0,"div",60)(1,"div",61)(2,"div",62),M(3),Be(4,"currency"),C(),v(5,"div",63)(6,"span",64),M(7),C()()(),v(8,"div",65)(9,"div",66),M(10),Be(11,"date"),C(),v(12,"div",67),M(13),C()(),v(14,"div",68)(15,"button",69),ie("click",function(){let i=ne(t).$implicit,o=se(2);return re(o.editExpense(i))}),v(16,"span",70),M(17,"\u270F\uFE0F"),C()(),v(18,"button",71),ie("click",function(){let i=ne(t).$implicit,o=se(2);return re(o.deleteExpense(i))}),v(19,"span",70),M(20,"\u{1F5D1}\uFE0F"),C()()()()}if(n&2){let t=e.$implicit,r=e.index,i=se(2);pr("animation-delay",r*.1+"s"),N(3),Ae(pn(4,8,t.amount,"INR")),N(3),J("ngStyle",hu(13,zW,i.getCategoryColor(t.categoryId))),N(),Br(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),N(3),Ae(Ht(11,11,t.date)),N(3),Ae(t.description||"No description")}}function KW(n,e){if(n&1&&(v(0,"div",58),ye(1,WW,21,15,"div",59),C()),n&2){let t=se();N(),J("ngForOf",t.getFilteredExpenses())}}function QW(n,e){n&1&&(v(0,"div",72)(1,"div",73),M(2,"\u{1F4CB}"),C(),v(3,"h6"),M(4,"No expenses found"),C(),v(5,"p"),M(6,"Add your first expense using the form above!"),C()())}var gy=class n{constructor(e,t,r){this.expenseService=e;this.categoryService=t;this.firebaseService=r}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";subscription=new je;ngOnInit(){this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,console.log(`Received ${e.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{}})}addExpense(){return _(this,null,function*(){if(this.validateExpense())try{let e={description:this.newExpense.description,amount:parseFloat(this.newExpense.amount.toString()),date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},t=yield this.expenseService.add(e);console.log(`Expense added with Firebase ID: ${t}`),this.resetForm(),this.checkAchievements()}catch(e){console.error("Error adding expense:",e)}finally{}})}editExpense(e){return _(this,null,function*(){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=parseFloat(r);if(isNaN(i)||i<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}let o=ce(U({},e),{description:t,amount:i});yield this.expenseService.update(o)}catch(t){console.error("Error editing expense:",t)}finally{}})}deleteExpense(e){return _(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`))try{yield this.expenseService.delete(e.id)}catch(r){console.error("Error deleting expense:",r)}finally{}})}validateExpense(){return this.newExpense.description?.trim()?!this.newExpense.amount||this.newExpense.amount<=0?(alert("Please enter a valid amount greater than 0."),!1):this.newExpense.categoryId?this.newExpense.date?!0:(alert("Please select a date."),!1):(alert("Please select a category."),!1):(alert("Please enter a description."),!1)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""}}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo=""}clearCategory(){this.newExpense.categoryId=""}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?alert("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?alert("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&alert("Incredible! You've logged 100 expenses. You're a financial tracking master!");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);alert(`${o} mastery achieved! You've logged 10 expenses in this category.`)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&alert(`Daily streak of ${o} days achieved! Keep it up!`)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}static \u0275fac=function(t){return new(t||n)($(is),$(hi),$(Sn))};static \u0275cmp=$t({type:n,selectors:[["app-expenses"]],decls:108,vars:20,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"text-muted","mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"mb-0"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","number","id","expenseAmount","placeholder","0.00","name","amount","step","0.01","min","0","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"filters-card","mb-4"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterAmount",1,"form-label-modern"],["type","number","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"]],template:function(t,r){if(t&1){let i=gt();v(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),M(5,"\u{1F4B8}"),C()(),v(6,"div")(7,"h1",7),M(8,"Expenses"),C(),v(9,"p",8),M(10,"Track and manage your daily expenses"),C()()()(),v(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),M(15,"\u2795"),C(),v(16,"h5",12),M(17,"Add New Expense"),C()()(),v(18,"div",13)(19,"form",14,0),ie("ngSubmit",function(){return ne(i),re(r.addExpense())}),v(21,"div",15)(22,"div",16)(23,"label",17),M(24,"Amount"),C(),v(25,"div",18)(26,"span",19),M(27,"\u20B9"),C(),v(28,"input",20),Ze("ngModelChange",function(s){return ne(i),et(r.newExpense.amount,s)||(r.newExpense.amount=s),re(s)}),C()()(),v(29,"div",16)(30,"label",21),M(31,"Date"),C(),v(32,"input",22),Ze("ngModelChange",function(s){return ne(i),et(r.newExpense.date,s)||(r.newExpense.date=s),re(s)}),C()(),v(33,"div",16)(34,"label",23),M(35,"Category"),C(),v(36,"div",24)(37,"select",25),Ze("ngModelChange",function(s){return ne(i),et(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),re(s)}),v(38,"option",26),M(39,"\u{1F3F7}\uFE0F Select a category"),C(),ye(40,HW,2,3,"option",27),C(),ye(41,qW,2,0,"button",28),C()(),v(42,"div",16)(43,"label",29),M(44,"Description"),C(),v(45,"input",30),Ze("ngModelChange",function(s){return ne(i),et(r.newExpense.description,s)||(r.newExpense.description=s),re(s)}),C()(),v(46,"div",31)(47,"label",32),M(48,"\xA0"),C(),v(49,"button",33)(50,"span",34),M(51,"\u2795"),C(),v(52,"span",35),M(53,"Add Expense"),C()()()()()()(),v(54,"div",36)(55,"div",10)(56,"div",4)(57,"span",11),M(58,"\u{1F50D}"),C(),v(59,"h5",12),M(60,"Filters"),C()()(),v(61,"div",13)(62,"div",37)(63,"div",38)(64,"label",39),M(65,"Category"),C(),v(66,"select",40),Ze("ngModelChange",function(s){return ne(i),et(r.filterCategory,s)||(r.filterCategory=s),re(s)}),v(67,"option",41),M(68,"\u{1F3F7}\uFE0F All Categories"),C(),ye(69,GW,2,3,"option",27),C()(),v(70,"div",38)(71,"label",42),M(72,"From Date"),C(),v(73,"input",43),Ze("ngModelChange",function(s){return ne(i),et(r.filterDateFrom,s)||(r.filterDateFrom=s),re(s)}),C()(),v(74,"div",38)(75,"label",44),M(76,"To Date"),C(),v(77,"input",45),Ze("ngModelChange",function(s){return ne(i),et(r.filterDateTo,s)||(r.filterDateTo=s),re(s)}),C()(),v(78,"div",38)(79,"label",46),M(80,"Min Amount"),C(),v(81,"input",47),Ze("ngModelChange",function(s){return ne(i),et(r.filterAmount,s)||(r.filterAmount=s),re(s)}),C()(),v(82,"div",48)(83,"label",32),M(84,"\xA0"),C(),v(85,"button",49),ie("click",function(){return ne(i),re(r.clearFilters())}),v(86,"span",34),M(87,"\u{1F504}"),C(),v(88,"span",35),M(89,"Clear Filters"),C()()()()()(),v(90,"div",50)(91,"div",10)(92,"div",51)(93,"div",4)(94,"span",11),M(95,"\u{1F4CB}"),C(),v(96,"h5",12),M(97,"All Expenses"),C()(),v(98,"div",52)(99,"div",53),M(100),Be(101,"currency"),C(),v(102,"div",54),M(103),C()()()(),v(104,"div",13),ye(105,KW,2,1,"div",55)(106,QW,7,0,"ng-template",null,1,VC),C()()()}if(t&2){let i=So(20),o=So(107);N(28),Ye("ngModel",r.newExpense.amount),N(4),Ye("ngModel",r.newExpense.date),N(5),Ye("ngModel",r.newExpense.categoryId),N(),J("selected",!r.newExpense.categoryId),N(2),J("ngForOf",r.categories),N(),J("ngIf",r.newExpense.categoryId),N(4),Ye("ngModel",r.newExpense.description),N(4),J("disabled",!i.form.valid),N(17),Ye("ngModel",r.filterCategory),N(3),J("ngForOf",r.categories),N(4),Ye("ngModel",r.filterDateFrom),N(4),Ye("ngModel",r.filterDateTo),N(4),Ye("ngModel",r.filterAmount),N(19),Ae(pn(101,17,r.getTotalAmount(),"INR")),N(3),qe("",r.getFilteredExpenses().length," expenses"),N(2),J("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",o)}},dependencies:[en,$r,gn,vu,di,rs,cL,uL,tr,EM,hy,ui,ns,io,bM,Or,ro,Us,js],styles:[`.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.3;margin-top:.25rem;text-align:center;width:100%}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var YW=n=>({background:n});function ZW(n,e){n&1&&(v(0,"div",39)(1,"span",40),M(2,"\u26A0\uFE0F"),C(),M(3," Category name already exists! "),C())}function XW(n,e){if(n&1){let t=gt();v(0,"div",41)(1,"p",42),M(2,"No categories found. Would you like to initialize default categories?"),C(),v(3,"button",43),ie("click",function(){ne(t);let i=se();return re(i.initializeDefaultCategories())}),v(4,"span",36),M(5,"\u{1F4C2}"),C(),M(6," Initialize Default Categories "),C()()}}function JW(n,e){if(n&1){let t=gt();v(0,"div",46)(1,"div",47)(2,"div",48),Ai(3,"div",49),v(4,"div",50),M(5),C(),v(6,"div",51),M(7),C()(),v(8,"div",52)(9,"button",53),ie("click",function(){let i=ne(t).$implicit,o=se(2);return re(o.updateCategory(i))}),v(10,"span",54),M(11,"\u270F\uFE0F"),C(),v(12,"span",55),M(13,"Edit"),C()(),v(14,"button",56),ie("click",function(){let i=ne(t).$implicit,o=se(2);return re(o.confirmDelete(i))}),v(15,"span",57),M(16,"\u{1F5D1}\uFE0F"),C(),v(17,"span",58),M(18,"Delete"),C()()()()()}if(n&2){let t=e.$implicit;N(3),J("ngStyle",hu(3,YW,t.color)),N(2),Ae(t.icon),N(2),Ae(t.name)}}function e7(n,e){if(n&1&&(v(0,"div",44),ye(1,JW,19,5,"div",45),C()),n&2){let t=se();N(),J("ngForOf",t.categories)}}function t7(n,e){n&1&&(v(0,"div",59)(1,"div",60),M(2,"\u{1F4C2}"),C(),v(3,"h6",61),M(4,"No Categories Yet"),C(),v(5,"p",62),M(6,"Start by adding your first expense category above."),C()())}var my=class n{constructor(e,t){this.categoryService=e;this.firebaseService=t}categories=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";sortBy="name";sortOrder="asc";isDuplicateCategory=!1;subscription=new je;ngOnInit(){this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return _(this,null,function*(){try{this.categories=yield this.categoryService.getAll()}catch{}finally{}})}initializeDefaultCategories(){return _(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData()}catch{}finally{}})}addCategory(){return _(this,null,function*(){if(this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),this.resetForm()}catch{}finally{}})}updateCategory(e){return _(this,null,function*(){try{console.log(`Updating category: ${e.name} (ID: ${e.id}, length: ${e.id.length})`);let t=window.prompt("Category name:",e.name)||e.name,r=window.prompt("Category color (hex):",e.color)||e.color;if(!t.trim())return;let i=ce(U({},e),{name:t.trim(),color:r});console.log(`Sending update to Firebase for category ID: ${i.id}`),yield this.categoryService.update(i),console.log("Category updated successfully"),yield this.loadData()}catch(t){console.error("Error updating category:",t)}finally{}})}deleteCategory(e){return _(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"? This will also delete all associated expenses.`))try{console.log(`Deleting category: ${e.name} (ID: ${e.id})`),yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),yield this.loadData()}catch(r){console.error("Error deleting category:",r)}finally{}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){if(!this.newCategory.name?.trim())return!1;let e=this.categories.find(t=>t.name.toLowerCase()===this.newCategory.name.toLowerCase());return this.isDuplicateCategory=!!e,!this.isDuplicateCategory}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];return this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":i=this.getCategoryUsage(t.id),o=this.getCategoryUsage(r.id);break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryUsage(e){return Math.floor(Math.random()*100)}clearSearch(){this.searchTerm=""}generateId(){return Math.random().toString(36).substr(2,9)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#ff8e53","#2ecc71","#e74c3c","#f39c12","#9b59b6","#34495e","#1abc9c","#e67e22","#3498db","#8e44ad","#16a085"]}getIconPresets(){return["\u{1F37D}\uFE0F","\u{1F697}","\u{1F6CD}\uFE0F","\u{1F3AC}","\u{1F4A1}","\u{1F3E5}","\u{1F4DA}","\u{1F3E0}","\u{1F6E1}\uFE0F","\u{1F4B0}","\u{1F355}","\u2615","\u{1F3B5}","\u{1F3AE}","\u{1F3C3}","\u{1F9D8}","\u{1F4F1}","\u{1F4BB}","\u{1F4F7}","\u{1F3A8}","\u{1F331}","\u{1F415}","\u{1F431}","\u{1F99C}","\u{1F420}","\u{1F33A}","\u{1F332}","\u{1F30A}","\u26F0\uFE0F","\u{1F3D6}\uFE0F"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets(),t=Math.floor(Math.random()*e.length);this.newCategory.color=e[t]}getCategoryCount(){return this.getFilteredCategories().length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)>r?t:e})}getLeastUsedCategory(){return this.categories.length===0?null:this.categories.reduce((e,t)=>{let r=this.getCategoryUsage(e.id);return this.getCategoryUsage(t.id)<r?t:e})}cleanupDuplicates(){return _(this,null,function*(){try{console.log("Starting duplicate cleanup..."),yield this.categoryService.triggerDuplicateCleanup(),yield this.loadData(),console.log("Duplicate cleanup completed"),alert("Duplicate categories have been cleaned up successfully!")}catch(e){console.error("Error during duplicate cleanup:",e),alert("Error cleaning up duplicate categories. Please try again.")}})}static \u0275fac=function(t){return new(t||n)($(hi),$(Sn))};static \u0275cmp=$t({type:n,selectors:[["app-categories"]],decls:59,vars:11,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"random-icon"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],[1,"cleanup-section",2,"margin-bottom","20px","padding","15px","background","#fff3cd","border","1px solid #ffeaa7","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#856404"],[2,"padding","10px 20px","background","#ffc107","color","#212529","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"error-message"],[1,"error-icon"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),M(4,"\u{1F4C2}"),C(),v(5,"div",4)(6,"h1",5),M(7,"Categories"),C(),v(8,"p",6),M(9,"Manage your expense categories and organize your spending"),C()()()(),v(10,"div",7)(11,"div",8)(12,"div",2)(13,"span",3),M(14,"\u2795"),C(),v(15,"h3",9),M(16,"Add New Category"),C()()(),v(17,"div",10)(18,"form",11),ie("ngSubmit",function(){return r.addCategory()}),v(19,"div",12)(20,"div",13)(21,"label",14),M(22,"Category Name"),C(),v(23,"input",15),Ze("ngModelChange",function(o){return et(r.newCategory.name,o)||(r.newCategory.name=o),o}),ie("input",function(){return r.clearValidationErrors()}),C(),ye(24,ZW,4,0,"div",16),C(),v(25,"div",13)(26,"label",17),M(27,"Color"),C(),v(28,"div",18)(29,"input",19),Ze("ngModelChange",function(o){return et(r.newCategory.color,o)||(r.newCategory.color=o),o}),C(),v(30,"button",20),ie("click",function(){return r.setRandomColor()}),v(31,"span",21),M(32,"\u{1F3B2}"),C(),M(33," Random "),C()()()(),v(34,"div",22)(35,"button",23)(36,"span",24),M(37,"\u2795"),C(),v(38,"span",25),M(39,"Add Category"),C()()()()()(),v(40,"div",26)(41,"div",27)(42,"div",28)(43,"span",29),M(44,"\u{1F4C2}"),C(),v(45,"h3",30),M(46,"Your Categories"),C()(),v(47,"div",31),M(48),C()(),ye(49,XW,7,0,"div",32),v(50,"div",33)(51,"p",34),M(52,"Found duplicate categories? Clean them up automatically."),C(),v(53,"button",35),ie("click",function(){return r.cleanupDuplicates()}),v(54,"span",36),M(55,"\u{1F9F9}"),C(),M(56," Cleanup Duplicate Categories "),C()(),ye(57,e7,2,1,"div",37)(58,t7,7,0,"div",38),C()()),t&2&&(N(23),zt("error",r.isDuplicateCategory),Ye("ngModel",r.newCategory.name),N(),J("ngIf",r.isDuplicateCategory),N(5),Ye("ngModel",r.newCategory.color),N(6),J("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),N(13),Br("",r.categories.length," ",r.categories.length===1?"Category":"Categories"),N(),J("ngIf",r.categories.length===0),N(8),J("ngIf",r.categories.length>0),N(),J("ngIf",r.categories.length===0))},dependencies:[en,$r,gn,vu,di,rs,tr,ui,ns,io,Or,ro],styles:['.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.add-category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:200px}.form-group[_ngcontent-%COMP%]:first-child{flex:2;min-width:300px}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem;display:block}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:12px;padding:.875rem 1rem;font-size:1rem;transition:all .3s ease;background:#f8f9fa;width:100%;height:50px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;background:#fff;transform:translateY(-2px)}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354526}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem;background:#dc35451a;border-radius:8px;border-left:3px solid #dc3545}.error-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1rem}.color-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;height:50px}.color-input[_ngcontent-%COMP%]{width:60px;height:50px;border:none;border-radius:12px;cursor:pointer;transition:transform .3s ease;flex-shrink:0}.color-input[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-random-color[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:.75rem 1.5rem;display:flex;align-items:center;gap:.5rem;font-weight:600;transition:all .3s ease;cursor:pointer;height:50px}.btn-random-color[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.random-icon[_ngcontent-%COMP%]{font-size:1.1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;border:none;border-radius:15px;padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #fa709a4d;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 25px #fa709a66}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1.2rem}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;justify-content:space-between}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.3rem;background:#fff3;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0}.category-count[_ngcontent-%COMP%]{background:#fff3;padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;padding:2rem}.category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;animation:_ngcontent-%COMP%_scaleIn .6s ease-out}.category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#fa709a,#fee140);transform:scaleX(0);transition:transform .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 10px 30px #0000001f}.category-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.category-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-color-indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;flex-shrink:0;box-shadow:0 2px 8px #0000001a}.category-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:1rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;flex-grow:1}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;border:none;border-radius:10px;padding:.75rem 1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.9rem;min-width:100px}.btn-edit[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-delete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #ff6b6b66}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-size:.85rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-description[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]:first-child, .color-group[_ngcontent-%COMP%]{flex:none;min-width:auto}.button-container[_ngcontent-%COMP%]{margin-top:0}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px}.color-input-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.color-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1rem}.color-controls[_ngcontent-%COMP%], .color-input-group[_ngcontent-%COMP%]{justify-content:space-between;gap:1rem}.form-control-color-modern[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;height:60px;border-radius:15px;flex:1;justify-content:center}.form-control-modern[_ngcontent-%COMP%]{height:60px;font-size:1.1rem;padding:1rem 1.25rem}.form-label-modern[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.5rem}.category-card[_ngcontent-%COMP%]{padding:1.25rem}.category-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}.category-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{width:100%}.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}}.category-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.category-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.category-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.category-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.category-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.category-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.category-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.form-control[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem;width:100%;margin-bottom:0}.color-group[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;width:100%}.color-input[_ngcontent-%COMP%]{width:100%;height:60px;border-radius:15px}.btn-random-color[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem;padding:.75rem 1rem;border-radius:15px;justify-content:center;margin:0}.button-container[_ngcontent-%COMP%]{margin-top:2.5rem;width:100%;display:flex;justify-content:center}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1.25rem 1.5rem;font-size:1.1rem;height:60px;min-width:auto;max-width:none;border-radius:20px;margin:0}.section-header[_ngcontent-%COMP%]{padding:1rem 1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.3rem}.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.category-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.category-color-indicator[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem}.category-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.category-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.category-count[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem 1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-category[_ngcontent-%COMP%], .btn-random-color[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem}.category-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.category-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-category[_ngcontent-%COMP%]:active{transform:scale(.95)}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.section-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.categories-grid[_ngcontent-%COMP%], .category-card[_ngcontent-%COMP%]{padding:.75rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 768px){.add-category-card[_ngcontent-%COMP%]{margin-bottom:2rem}.card-header-modern[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem}.section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.section-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.2rem}.category-count[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1rem}.btn-refresh[_ngcontent-%COMP%]{width:45px;height:45px}.refresh-icon[_ngcontent-%COMP%]{font-size:1.3rem}.form-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;display:block}.error-message[_ngcontent-%COMP%]{font-size:.85rem;padding:.75rem;margin-top:.5rem;border-radius:8px}.form-group[_ngcontent-%COMP%] + .form-group[_ngcontent-%COMP%]{margin-top:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}}']})};function n7(n,e){if(n&1&&(v(0,"div",19),M(1),Be(2,"currency"),C()),n&2){let t=se(2);zt("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),N(),qe(" ",pn(2,5,t.getMonthlyComparison().change,"INR")," ")}}function r7(n,e){n&1&&(v(0,"div",23),M(1," First Month "),C())}function i7(n,e){if(n&1&&(v(0,"div",13)(1,"div",14)(2,"div",15)(3,"h3"),M(4,"Current Month Overview"),C(),v(5,"span",16),M(6),C()(),v(7,"div",17)(8,"div",18)(9,"div",19),M(10),Be(11,"currency"),C(),v(12,"div",20),M(13,"Total Spent"),C()(),v(14,"div",18)(15,"div",19),M(16),C(),v(17,"div",20),M(18,"Expenses"),C()(),v(19,"div",18),ye(20,n7,3,8,"div",21)(21,r7,2,0,"div",22),v(22,"div",20),M(23,"vs Last Month"),C()()()()()),n&2){let t,r,i,o,s=se();N(6),Ae((t=s.getCurrentMonthReport())==null?null:t.monthName),N(4),Ae(pn(11,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),N(6),Ae((i=s.getCurrentMonthReport())==null?null:i.expenseCount),N(4),J("ngIf",s.getMonthlyComparison().hasPreviousData),N(),J("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function o7(n,e){if(n&1&&(v(0,"div",35)(1,"span",36),M(2),C(),v(3,"span",37),M(4),C(),v(5,"span",38),M(6),Be(7,"currency"),C()()),n&2){let t=e.$implicit;N(),pr("background-color",t.category.color),N(),Ae(t.category.icon),N(2),Ae(t.category.name),N(2),Ae(pn(7,5,t.amount,"INR"))}}function s7(n,e){if(n&1){let t=gt();v(0,"div",26),ie("click",function(){let i=ne(t).$implicit,o=se(2);return re(o.selectMonth(i.monthKey))}),v(1,"div",27)(2,"h4",28),M(3),C(),v(4,"div",29),M(5,"\u2192"),C()(),v(6,"div",30)(7,"div",31),M(8),Be(9,"currency"),C(),v(10,"div",32),M(11),C()(),v(12,"div",33),ye(13,o7,8,8,"div",34),C()()}if(n&2){let t=e.$implicit;N(3),Ae(t.monthName),N(5),Ae(pn(9,4,t.totalAmount,"INR")),N(3),qe("",t.expenseCount," expenses"),N(2),J("ngForOf",t.categoryBreakdown.slice(0,3))}}function a7(n,e){if(n&1&&(v(0,"div",24),ye(1,s7,14,7,"div",25),C()),n&2){let t=se();N(),J("ngForOf",t.monthlyReports)}}function c7(n,e){n&1&&(v(0,"div",39)(1,"div",40),M(2,"\u{1F4CA}"),C(),v(3,"h6"),M(4,"No Reports Available"),C(),v(5,"p"),M(6,"Add some expenses to see your monthly reports!"),C()())}function l7(n,e){if(n&1&&(v(0,"div",51)(1,"div",52)(2,"span",36),M(3),C(),v(4,"div",53)(5,"div",37),M(6),C(),v(7,"div",54),M(8),C()()(),v(9,"div",38),M(10),Be(11,"currency"),C()()),n&2){let t=e.$implicit;N(2),pr("background-color",t.category.color),N(),Ae(t.category.icon),N(3),Ae(t.category.name),N(2),qe("",t.count," expenses"),N(2),Ae(pn(11,6,t.amount,"INR"))}}function u7(n,e){if(n&1&&(v(0,"div",55)(1,"div",56)(2,"div",57),M(3),Be(4,"currency"),C(),v(5,"div",58)(6,"span",59),M(7),C()()(),v(8,"div",60)(9,"div",61),M(10),Be(11,"date"),C(),v(12,"div",62),M(13),C()()()),n&2){let t=e.$implicit,r=se(2);N(3),Ae(pn(4,7,t.amount,"INR")),N(3),pr("background-color",r.getCategoryColor(t.categoryId)),N(),Br(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),N(3),Ae(Ht(11,10,t.date)),N(3),Ae(t.description||"No description")}}function d7(n,e){if(n&1){let t=gt();v(0,"div",41)(1,"div",42)(2,"button",43),ie("click",function(){ne(t);let i=se();return re(i.showDetailedView=!1)}),M(3,"\u2190 Back to Overview"),C(),v(4,"h3"),M(5),C()(),v(6,"div",44)(7,"div",45)(8,"h4"),M(9,"Category Breakdown"),C(),v(10,"div",46),ye(11,l7,12,9,"div",47),C()(),v(12,"div",48)(13,"h4"),M(14,"All Expenses"),C(),v(15,"div",49),ye(16,u7,14,12,"div",50),C()()()()}if(n&2){let t,r,i,o=se();N(5),qe("",(t=o.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),N(6),J("ngForOf",(r=o.getSelectedMonthReport())==null?null:r.categoryBreakdown),N(5),J("ngForOf",(i=o.getSelectedMonthReport())==null?null:i.expenses)}}var yy=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;ngOnInit(){this.loadData()}loadData(){return _(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports()}catch(e){console.error("Error loading reports:",e)}finally{}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r})})}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0,o=i?r/t.totalAmount*100:0;return{change:r,percentage:o,hasPreviousData:i}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}static \u0275fac=function(t){return new(t||n)($(is),$(hi))};static \u0275cmp=$t({type:n,selectors:[["app-monthly-reports"]],decls:20,vars:4,consts:[[1,"monthly-reports-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","overview-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],["class","reports-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-name"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"detailed-content"],[1,"breakdown-section"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"expense-item"],[1,"expense-info"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),M(4,"\u{1F4CA}"),C(),v(5,"div",4)(6,"h1",5),M(7,"Monthly Reports"),C(),v(8,"p",6),M(9,"Track your spending patterns and get insights"),C()()()(),ye(10,i7,24,8,"div",7),v(11,"div",8)(12,"div",9)(13,"h3"),M(14,"Monthly Breakdown"),C(),v(15,"p"),M(16,"Click on any month to view detailed breakdown"),C()(),ye(17,a7,2,1,"div",10)(18,c7,7,0,"div",11),C(),ye(19,d7,17,3,"div",12),C()),t&2&&(N(10),J("ngIf",r.getCurrentMonthReport()),N(7),J("ngIf",r.monthlyReports.length>0),N(),J("ngIf",r.monthlyReports.length===0),N(),J("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[en,$r,gn,Us,js],styles:['.monthly-reports-page[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #667eea26}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{margin:.5rem 0 0;opacity:.9;font-size:1.1rem}.overview-section[_ngcontent-%COMP%]{margin-bottom:2rem}.overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;padding:2rem;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3}.overview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}.month-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background:#fff;border-radius:15px;box-shadow:0 5px 15px #00000014;border:1px solid #f0f0f0}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.stat-value.positive[_ngcontent-%COMP%]{color:#28a745}.stat-value.negative[_ngcontent-%COMP%]{color:#dc3545}.stat-value.new-month[_ngcontent-%COMP%]{color:#17a2b8;font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.reports-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#333;margin-bottom:.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.report-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;padding:1.5rem;box-shadow:0 5px 20px #00000014;border:1px solid #ffe4b3;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.report-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#667eea,#764ba2);transform:scaleX(0);transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001f}.report-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.month-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin:0}.report-arrow[_ngcontent-%COMP%]{font-size:1.5rem;color:#667eea;transition:transform .3s ease}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(5px)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.report-amount[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:.25rem}.report-count[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#ffffff80;border-radius:8px}.category-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.category-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;color:#333;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:600}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.detailed-view[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden;margin-top:2rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem;display:flex;align-items:center;gap:1rem}.back-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:background-color .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.detailed-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.detailed-content[_ngcontent-%COMP%]{padding:2rem}.breakdown-section[_ngcontent-%COMP%]{margin-bottom:2rem}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.category-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.expenses-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.expense-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.category-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:15px;color:#fff;font-size:.8rem;font-weight:500;display:inline-flex;align-items:center;gap:.25rem}.expense-details[_ngcontent-%COMP%]{text-align:right}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-bottom:.25rem}.expense-description[_ngcontent-%COMP%]{font-size:.85rem;color:#999}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:1rem}.overview-stats[_ngcontent-%COMP%], .reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.detailed-content[_ngcontent-%COMP%]{padding:1rem}}']})};function h7(n,e){n&1&&(v(0,"span",21),M(1,"\u23F3"),C())}function f7(n,e){n&1&&(v(0,"span"),M(1,"Sign In"),C())}function p7(n,e){if(n&1&&(v(0,"div",22),M(1),C()),n&2){let t=se();N(),qe(" ",t.error," ")}}var _y=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loading=!1;error="";signIn(){return _(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(t){return new(t||n)($(nr),$(In))};static \u0275cmp=$t({type:n,selectors:[["app-login"]],decls:30,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=gt();v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),M(5,"\u{1F4B0}"),C(),v(6,"h1",6),M(7,"Expense Tracker"),C()(),v(8,"p",7),M(9,"Sign in to manage your expenses"),C()(),v(10,"form",8,0),ie("ngSubmit",function(){return ne(i),re(r.signIn())}),v(12,"div",9)(13,"label",10),M(14,"Email"),C(),v(15,"input",11),Ze("ngModelChange",function(s){return ne(i),et(r.email,s)||(r.email=s),re(s)}),C()(),v(16,"div",9)(17,"label",12),M(18,"Password"),C(),v(19,"input",13),Ze("ngModelChange",function(s){return ne(i),et(r.password,s)||(r.password=s),re(s)}),C()(),v(20,"div",14)(21,"button",15),ye(22,h7,2,0,"span",16)(23,f7,2,0,"span",17),C()()(),v(24,"div",18)(25,"p"),M(26,"Don't have an account? "),v(27,"a",19),ie("click",function(){return ne(i),re(r.goToRegister())}),M(28,"Sign up"),C()()(),ye(29,p7,2,1,"div",20),C()()}if(t&2){let i=So(11);N(15),Ye("ngModel",r.email),N(4),Ye("ngModel",r.password),N(2),J("disabled",!i.form.valid||r.loading),N(),J("ngIf",r.loading),N(),J("ngIf",!r.loading),N(6),J("ngIf",r.error)}},dependencies:[en,gn,di,rs,tr,ui,ns,io,Or,ro],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var vy=class n{constructor(e){this.firebaseService=e}createDefaultCategories(){return _(this,null,function*(){let e=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let t of e)yield this.firebaseService.addCategory(t);console.log("Default categories created successfully")}catch(t){console.error("Error creating default categories:",t)}})}static \u0275fac=function(t){return new(t||n)(X(Sn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function m7(n,e){n&1&&(v(0,"span",25),M(1,"\u23F3"),C())}function y7(n,e){n&1&&(v(0,"span"),M(1,"Create Account"),C())}function _7(n,e){if(n&1&&(v(0,"div",26),M(1),C()),n&2){let t=se();N(),qe(" ",t.error," ")}}var Cy=class n{constructor(e,t,r){this.authService=e;this.router=t;this.defaultCategoriesService=r}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return _(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(e){return e.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":e.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(t){return new(t||n)($(nr),$(In),$(vy))};static \u0275cmp=$t({type:n,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=gt();v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),M(5,"\u{1F4B0}"),C(),v(6,"h1",6),M(7,"Expense Tracker"),C()(),v(8,"p",7),M(9,"Create your account to start tracking expenses"),C()(),v(10,"form",8,0),ie("ngSubmit",function(){return ne(i),re(r.register())}),v(12,"div",9)(13,"label",10),M(14,"Full Name"),C(),v(15,"input",11),Ze("ngModelChange",function(s){return ne(i),et(r.displayName,s)||(r.displayName=s),re(s)}),C()(),v(16,"div",9)(17,"label",12),M(18,"Email"),C(),v(19,"input",13),Ze("ngModelChange",function(s){return ne(i),et(r.email,s)||(r.email=s),re(s)}),C()(),v(20,"div",9)(21,"label",14),M(22,"Password"),C(),v(23,"input",15),Ze("ngModelChange",function(s){return ne(i),et(r.password,s)||(r.password=s),re(s)}),C()(),v(24,"div",9)(25,"label",16),M(26,"Confirm Password"),C(),v(27,"input",17),Ze("ngModelChange",function(s){return ne(i),et(r.confirmPassword,s)||(r.confirmPassword=s),re(s)}),C()(),v(28,"div",18)(29,"button",19),ye(30,m7,2,0,"span",20)(31,y7,2,0,"span",21),C()()(),v(32,"div",22)(33,"p"),M(34,"Already have an account? "),v(35,"a",23),ie("click",function(){return ne(i),re(r.goToLogin())}),M(36,"Sign in"),C()()(),ye(37,_7,2,1,"div",24),C()()}if(t&2){let i=So(11);N(15),Ye("ngModel",r.displayName),N(4),Ye("ngModel",r.email),N(4),Ye("ngModel",r.password),N(4),Ye("ngModel",r.confirmPassword),N(2),J("disabled",!i.form.valid||r.loading||!r.passwordsMatch()),N(),J("ngIf",r.loading),N(),J("ngIf",!r.loading),N(6),J("ngIf",r.error)}},dependencies:[en,gn,di,rs,tr,ui,ns,io,IM,Or,ro],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var ba=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.currentUser$.pipe(Lt(e=>e!==void 0),An(1),be(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(X(nr),X(In))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var dL=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:_y},{path:"register",component:Cy},{path:"dashboard",component:py,canActivate:[ba]},{path:"expenses",component:gy,canActivate:[ba]},{path:"categories",component:my,canActivate:[ba]},{path:"reports",component:yy,canActivate:[ba]}];var hL={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"};var fL={providers:[yv(),BC({eventCoalescing:!0}),GE(dL),l1(),U1(()=>B1(hL)),GR(()=>KR()),IF(()=>MF()),LF(()=>VF())]};var Ey=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function C7(n,e){n&1&&(v(0,"div",3)(1,"div",4),M(2,"\u23F3"),C(),v(3,"p"),M(4,"Loading..."),C()())}function E7(n,e){if(n&1){let t=gt();v(0,"div",35)(1,"div",36)(2,"span",37),M(3),C(),v(4,"button",38),ie("click",function(){ne(t);let i=se(2);return re(i.signOut())}),v(5,"span",39),M(6,"\u{1F6AA}"),C()()()()}if(n&2){let t=e.ngIf;N(3),Ae(t.displayName||t.email)}}function w7(n,e){if(n&1){let t=gt();v(0,"div",40),ie("click",function(){ne(t);let i=se(2);return re(i.closeSidebar())}),C()}}function b7(n,e){if(n&1){let t=gt();v(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),ie("click",function(){ne(t);let i=se();return re(i.toggleSidebar())}),v(5,"span",10),M(6,"\u2630"),C()(),v(7,"div",11)(8,"span",12),M(9,"\u{1F4B0}"),C(),v(10,"span",13),M(11,"Expense Tracker"),C()()(),v(12,"nav",14)(13,"a",15),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(14,"span",16),M(15,"\u{1F4CA}"),C(),v(16,"span",17),M(17,"Dashboard"),C()(),v(18,"a",18),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(19,"span",16),M(20,"\u{1F4B8}"),C(),v(21,"span",17),M(22,"Expenses"),C()(),v(23,"a",19),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(24,"span",16),M(25,"\u{1F3F7}\uFE0F"),C(),v(26,"span",17),M(27,"Categories"),C()(),v(28,"a",20),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(29,"span",16),M(30,"\u{1F4CA}"),C(),v(31,"span",17),M(32,"Reports"),C()()(),ye(33,E7,7,1,"div",21),Be(34,"async"),C()(),ye(35,w7,1,0,"div",22),v(36,"aside",23)(37,"div",24)(38,"div",25)(39,"span",12),M(40,"\u{1F4B0}"),C(),v(41,"span",13),M(42,"Expense Tracker"),C()()(),v(43,"nav",26)(44,"a",27),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(45,"span",28),M(46,"\u{1F4CA}"),C(),v(47,"span",29),M(48,"Dashboard"),C()(),v(49,"a",30),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(50,"span",28),M(51,"\u{1F4B8}"),C(),v(52,"span",29),M(53,"Expenses"),C()(),v(54,"a",31),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(55,"span",28),M(56,"\u{1F3F7}\uFE0F"),C(),v(57,"span",29),M(58,"Categories"),C()(),v(59,"a",32),ie("click",function(){ne(t);let i=se();return re(i.onNavClick())}),v(60,"span",28),M(61,"\u{1F4CA}"),C(),v(62,"span",29),M(63,"Reports"),C()()()(),v(64,"main",33)(65,"div",34),Ai(66,"router-outlet"),C()()()}if(n&2){let t=se();N(33),J("ngIf",Ht(34,6,t.currentUser$)),N(2),J("ngIf",t.sidebarOpen),N(),zt("sidebar-open",t.sidebarOpen),N(28),zt("content-blurred",t.sidebarOpen)}}function I7(n,e){n&1&&(v(0,"div",41),Ai(1,"router-outlet"),C())}var wy=class n{constructor(e,t,r){this.scrollService=e;this.authService=t;this.router=r;this.restoreLastRoute(),this.router.events.subscribe(()=>{this.saveCurrentRoute()})}sidebarOpen=!1;get currentUser$(){return this.authService.currentUser$}toggleSidebar(){console.log("Toggle sidebar called"),this.sidebarOpen=!this.sidebarOpen,this.sidebarOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeSidebar(){console.log("Close sidebar called"),this.sidebarOpen=!1,document.body.style.overflow=""}signOut(){return _(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/login"])}catch(e){console.error("Error signing out:",e)}})}saveCurrentRoute(){let e=this.router.url;e&&e!=="/login"&&e!=="/register"&&localStorage.setItem("lastRoute",e)}restoreLastRoute(){let e=localStorage.getItem("lastRoute");e&&e!=="/login"&&e!=="/register"&&this.authService.currentUser$.pipe(Lt(t=>t!==void 0),An(1)).subscribe(t=>{t&&setTimeout(()=>{this.router.navigate([e])},100)})}onNavClick(){this.closeSidebar(),this.scrollService.scrollToTop(),this.saveCurrentRoute()}static \u0275fac=function(t){return new(t||n)($(Ey),$(nr),$(In))};static \u0275cmp=$t({type:n,selectors:[["app-root"]],decls:6,vars:9,consts:[["class","loading-container",4,"ngIf"],["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["aria-label","Toggle sidebar",1,"sidebar-toggle",3,"click"],[1,"hamburger-icon"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"header-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link",3,"click"],["class","user-section",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-brand"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"link-icon"],[1,"link-text"],["routerLink","/expenses","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"main-content"],[1,"content-container"],[1,"user-section"],[1,"user-info"],[1,"user-name"],["title","Sign out",1,"sign-out-btn",3,"click"],[1,"sign-out-icon"],[1,"sidebar-overlay",3,"click"],[1,"auth-container"]],template:function(t,r){t&1&&(ye(0,C7,5,0,"div",0),Be(1,"async"),ye(2,b7,67,8,"div",1),Be(3,"async"),ye(4,I7,2,0,"div",2),Be(5,"async")),t&2&&(J("ngIf",Ht(1,3,r.currentUser$)===void 0),N(2),J("ngIf",Ht(3,5,r.currentUser$)),N(2),J("ngIf",Ht(5,7,r.currentUser$)===null))},dependencies:[$u,Ic,qE,en,gn,dE],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;position:relative;height:100%;margin:0;padding:0}@supports (height: 100dvh){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100vh!important;min-height:100vh!important;max-height:100vh!important;top:0!important}}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 2px 10px #0000001a;position:sticky;top:0;z-index:100;padding:0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;max-width:1200px;margin:0 auto}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:8px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;min-width:44px;min-height:44px}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}@media (min-width: 769px){.sidebar-toggle[_ngcontent-%COMP%]{display:none}}.hamburger-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.header-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#fff;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d}.nav-icon[_ngcontent-%COMP%]{font-size:1rem}.nav-text[_ngcontent-%COMP%]{font-size:.9rem}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.5rem 1rem;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.9rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sign-out-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:6px;padding:.25rem .5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.sign-out-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.sign-out-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.auth-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;min-height:100vh;max-height:100vh;background:#00000080;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;min-height:100vh;max-height:100vh;background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);box-shadow:4px 0 20px #00000026;z-index:300;transition:left .3s ease;overflow-y:auto;display:flex;flex-direction:column;padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0;flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:#fff;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left-color:#ffffff80}.sidebar-link.active[_ngcontent-%COMP%]{background:#fff3;border-left-color:#fff}.link-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.link-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;transition:filter .3s ease}.main-content.content-blurred[_ngcontent-%COMP%]{filter:blur(4px);pointer-events:none}.content-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1.5rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.header-nav[_ngcontent-%COMP%]{display:none}.sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:280px;left:-280px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.user-section[_ngcontent-%COMP%]{margin-left:.5rem}.user-info[_ngcontent-%COMP%]{padding:.25rem .5rem}.user-name[_ngcontent-%COMP%]{max-width:100px;font-size:.8rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem}.sidebar[_ngcontent-%COMP%]{width:260px;left:-260px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:.75rem}}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem}.loading-spinner[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};EE(wy,fL).catch(n=>console.error(n));
