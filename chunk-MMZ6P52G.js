import{a as Pe,b as v,c as j}from"./chunk-HWPE35DJ.js";import{a as xe,b as Oe}from"./chunk-6UHYSOQM.js";import{a as _e}from"./chunk-P6OOONXW.js";import{a as Me}from"./chunk-CDQTGEOI.js";import{a as Ce}from"./chunk-HZAPKMB2.js";import"./chunk-ONM3OAYC.js";import{j as ae,m as se}from"./chunk-FDTVWJ2R.js";import{A as Ut,Cb as St,Db as ee,Ea as Qt,Ga as Jt,Ha as b,Ja as Dt,Ka as Zt,Kc as ce,Lc as le,M as H,Oc as ge,P as Ht,Qb as ne,Qc as pe,Ra as it,Rb as oe,Sa as f,Sc as de,Ta as a,Tc as me,Ua as i,Uc as fe,Va as z,Vb as re,Vc as ue,W as u,Wa as A,X as h,Xa as x,Xb as ie,Ya as m,Zc as he,a as Nt,bb as at,cb as I,db as Xt,eb as c,f as Wt,fb as D,g as Rt,gb as y,ha as Gt,hb as ft,ka as Kt,kb as R,lb as Y,mb as $,o as Yt,ob as te,sb as S,ta as qt,tb as G,ua as p,ub as U,x as $t,ya as E}from"./chunk-J6POWOXT.js";import{a as Lt,b as Vt,g as mt}from"./chunk-RA2WU32H.js";var Qn=typeof global=="object"&&global&&global.Object===Object&&global,ut=Qn;var Jn=typeof self=="object"&&self&&self.Object===Object&&self,Zn=ut||Jn||Function("return this")(),k=Zn;var Xn=k.Symbol,K=Xn;var ye=Object.prototype,to=ye.hasOwnProperty,eo=ye.toString,st=K?K.toStringTag:void 0;function no(n){var e=to.call(n,st),t=n[st];try{n[st]=void 0;var o=!0}catch{}var r=eo.call(n);return o&&(e?n[st]=t:delete n[st]),r}var be=no;var oo=Object.prototype,ro=oo.toString;function io(n){return ro.call(n)}var ve=io;var ao="[object Null]",so="[object Undefined]",we=K?K.toStringTag:void 0;function co(n){return n==null?n===void 0?so:ao:we&&we in Object(n)?be(n):ve(n)}var B=co;function lo(n){return n!=null&&typeof n=="object"}var T=lo;var go=Array.isArray,ct=go;function po(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var w=po;function mo(n){return n}var ht=mo;var fo="[object AsyncFunction]",uo="[object Function]",ho="[object GeneratorFunction]",Co="[object Proxy]";function _o(n){if(!w(n))return!1;var e=B(n);return e==uo||e==ho||e==fo||e==Co}var q=_o;var xo=k["__core-js_shared__"],Ct=xo;var Ee=function(){var n=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Oo(n){return!!Ee&&Ee in n}var De=Oo;var Mo=Function.prototype,Po=Mo.toString;function yo(n){if(n!=null){try{return Po.call(n)}catch{}try{return n+""}catch{}}return""}var Se=yo;var bo=/[\\^$.*+?()[\]{}|]/g,vo=/^\[object .+?Constructor\]$/,wo=Function.prototype,Eo=Object.prototype,Do=wo.toString,So=Eo.hasOwnProperty,ko=RegExp("^"+Do.call(So).replace(bo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ao(n){if(!w(n)||De(n))return!1;var e=q(n)?ko:vo;return e.test(Se(n))}var ke=Ao;function Io(n,e){return n?.[e]}var Ae=Io;function To(n,e){var t=Ae(n,e);return ke(t)?t:void 0}var Q=To;var Ie=Object.create,Fo=function(){function n(){}return function(e){if(!w(e))return{};if(Ie)return Ie(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Te=Fo;function zo(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var Fe=zo;function jo(n,e){var t=-1,o=n.length;for(e||(e=Array(o));++t<o;)e[t]=n[t];return e}var ze=jo;var Bo=800,Lo=16,Vo=Date.now;function No(n){var e=0,t=0;return function(){var o=Vo(),r=Lo-(o-t);if(t=o,r>0){if(++e>=Bo)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var je=No;function Wo(n){return function(){return n}}var Be=Wo;var Ro=function(){try{var n=Q(Object,"defineProperty");return n({},"",{}),n}catch{}}(),J=Ro;var Yo=J?function(n,e){return J(n,"toString",{configurable:!0,enumerable:!1,value:Be(e),writable:!0})}:ht,Le=Yo;var $o=je(Le),Ve=$o;var Uo=9007199254740991,Ho=/^(?:0|[1-9]\d*)$/;function Go(n,e){var t=typeof n;return e=e??Uo,!!e&&(t=="number"||t!="symbol"&&Ho.test(n))&&n>-1&&n%1==0&&n<e}var _t=Go;function Ko(n,e,t){e=="__proto__"&&J?J(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var Z=Ko;function qo(n,e){return n===e||n!==n&&e!==e}var L=qo;var Qo=Object.prototype,Jo=Qo.hasOwnProperty;function Zo(n,e,t){var o=n[e];(!(Jo.call(n,e)&&L(o,t))||t===void 0&&!(e in n))&&Z(n,e,t)}var Ne=Zo;function Xo(n,e,t,o){var r=!t;t||(t={});for(var s=-1,l=e.length;++s<l;){var g=e[s],d=o?o(t[g],n[g],g,t,n):void 0;d===void 0&&(d=n[g]),r?Z(t,g,d):Ne(t,g,d)}return t}var We=Xo;var Re=Math.max;function tr(n,e,t){return e=Re(e===void 0?n.length-1:e,0),function(){for(var o=arguments,r=-1,s=Re(o.length-e,0),l=Array(s);++r<s;)l[r]=o[e+r];r=-1;for(var g=Array(e+1);++r<e;)g[r]=o[r];return g[e]=t(l),Fe(n,this,g)}}var Ye=tr;function er(n,e){return Ve(Ye(n,e,ht),n+"")}var $e=er;var nr=9007199254740991;function or(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=nr}var xt=or;function rr(n){return n!=null&&xt(n.length)&&!q(n)}var X=rr;function ir(n,e,t){if(!w(t))return!1;var o=typeof e;return(o=="number"?X(t)&&_t(e,t.length):o=="string"&&e in t)?L(t[e],n):!1}var Ue=ir;function ar(n){return $e(function(e,t){var o=-1,r=t.length,s=r>1?t[r-1]:void 0,l=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,l&&Ue(t[0],t[1],l)&&(s=r<3?void 0:s,r=1),e=Object(e);++o<r;){var g=t[o];g&&n(e,g,o,s)}return e})}var He=ar;var sr=Object.prototype;function cr(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||sr;return n===t}var Ot=cr;function lr(n,e){for(var t=-1,o=Array(n);++t<n;)o[t]=e(t);return o}var Ge=lr;var gr="[object Arguments]";function pr(n){return T(n)&&B(n)==gr}var kt=pr;var Ke=Object.prototype,dr=Ke.hasOwnProperty,mr=Ke.propertyIsEnumerable,fr=kt(function(){return arguments}())?kt:function(n){return T(n)&&dr.call(n,"callee")&&!mr.call(n,"callee")},lt=fr;function ur(){return!1}var qe=ur;var Ze=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qe=Ze&&typeof module=="object"&&module&&!module.nodeType&&module,hr=Qe&&Qe.exports===Ze,Je=hr?k.Buffer:void 0,Cr=Je?Je.isBuffer:void 0,_r=Cr||qe,Mt=_r;var xr="[object Arguments]",Or="[object Array]",Mr="[object Boolean]",Pr="[object Date]",yr="[object Error]",br="[object Function]",vr="[object Map]",wr="[object Number]",Er="[object Object]",Dr="[object RegExp]",Sr="[object Set]",kr="[object String]",Ar="[object WeakMap]",Ir="[object ArrayBuffer]",Tr="[object DataView]",Fr="[object Float32Array]",zr="[object Float64Array]",jr="[object Int8Array]",Br="[object Int16Array]",Lr="[object Int32Array]",Vr="[object Uint8Array]",Nr="[object Uint8ClampedArray]",Wr="[object Uint16Array]",Rr="[object Uint32Array]",M={};M[Fr]=M[zr]=M[jr]=M[Br]=M[Lr]=M[Vr]=M[Nr]=M[Wr]=M[Rr]=!0;M[xr]=M[Or]=M[Ir]=M[Mr]=M[Tr]=M[Pr]=M[yr]=M[br]=M[vr]=M[wr]=M[Er]=M[Dr]=M[Sr]=M[kr]=M[Ar]=!1;function Yr(n){return T(n)&&xt(n.length)&&!!M[B(n)]}var Xe=Yr;function $r(n){return function(e){return n(e)}}var tn=$r;var en=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gt=en&&typeof module=="object"&&module&&!module.nodeType&&module,Ur=gt&&gt.exports===en,At=Ur&&ut.process,Hr=function(){try{var n=gt&&gt.require&&gt.require("util").types;return n||At&&At.binding&&At.binding("util")}catch{}}(),It=Hr;var nn=It&&It.isTypedArray,Gr=nn?tn(nn):Xe,Pt=Gr;var Kr=Object.prototype,qr=Kr.hasOwnProperty;function Qr(n,e){var t=ct(n),o=!t&&lt(n),r=!t&&!o&&Mt(n),s=!t&&!o&&!r&&Pt(n),l=t||o||r||s,g=l?Ge(n.length,String):[],d=g.length;for(var O in n)(e||qr.call(n,O))&&!(l&&(O=="length"||r&&(O=="offset"||O=="parent")||s&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||_t(O,d)))&&g.push(O);return g}var on=Qr;function Jr(n,e){return function(t){return n(e(t))}}var rn=Jr;function Zr(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var an=Zr;var Xr=Object.prototype,ti=Xr.hasOwnProperty;function ei(n){if(!w(n))return an(n);var e=Ot(n),t=[];for(var o in n)o=="constructor"&&(e||!ti.call(n,o))||t.push(o);return t}var sn=ei;function ni(n){return X(n)?on(n,!0):sn(n)}var yt=ni;var oi=Q(Object,"create"),F=oi;function ri(){this.__data__=F?F(null):{},this.size=0}var cn=ri;function ii(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var ln=ii;var ai="__lodash_hash_undefined__",si=Object.prototype,ci=si.hasOwnProperty;function li(n){var e=this.__data__;if(F){var t=e[n];return t===ai?void 0:t}return ci.call(e,n)?e[n]:void 0}var gn=li;var gi=Object.prototype,pi=gi.hasOwnProperty;function di(n){var e=this.__data__;return F?e[n]!==void 0:pi.call(e,n)}var pn=di;var mi="__lodash_hash_undefined__";function fi(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=F&&e===void 0?mi:e,this}var dn=fi;function tt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var o=n[e];this.set(o[0],o[1])}}tt.prototype.clear=cn;tt.prototype.delete=ln;tt.prototype.get=gn;tt.prototype.has=pn;tt.prototype.set=dn;var Tt=tt;function ui(){this.__data__=[],this.size=0}var mn=ui;function hi(n,e){for(var t=n.length;t--;)if(L(n[t][0],e))return t;return-1}var V=hi;var Ci=Array.prototype,_i=Ci.splice;function xi(n){var e=this.__data__,t=V(e,n);if(t<0)return!1;var o=e.length-1;return t==o?e.pop():_i.call(e,t,1),--this.size,!0}var fn=xi;function Oi(n){var e=this.__data__,t=V(e,n);return t<0?void 0:e[t][1]}var un=Oi;function Mi(n){return V(this.__data__,n)>-1}var hn=Mi;function Pi(n,e){var t=this.__data__,o=V(t,n);return o<0?(++this.size,t.push([n,e])):t[o][1]=e,this}var Cn=Pi;function et(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var o=n[e];this.set(o[0],o[1])}}et.prototype.clear=mn;et.prototype.delete=fn;et.prototype.get=un;et.prototype.has=hn;et.prototype.set=Cn;var N=et;var yi=Q(k,"Map"),bt=yi;function bi(){this.size=0,this.__data__={hash:new Tt,map:new(bt||N),string:new Tt}}var _n=bi;function vi(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var xn=vi;function wi(n,e){var t=n.__data__;return xn(e)?t[typeof e=="string"?"string":"hash"]:t.map}var W=wi;function Ei(n){var e=W(this,n).delete(n);return this.size-=e?1:0,e}var On=Ei;function Di(n){return W(this,n).get(n)}var Mn=Di;function Si(n){return W(this,n).has(n)}var Pn=Si;function ki(n,e){var t=W(this,n),o=t.size;return t.set(n,e),this.size+=t.size==o?0:1,this}var yn=ki;function nt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var o=n[e];this.set(o[0],o[1])}}nt.prototype.clear=_n;nt.prototype.delete=On;nt.prototype.get=Mn;nt.prototype.has=Pn;nt.prototype.set=yn;var bn=nt;var Ai=rn(Object.getPrototypeOf,Object),vt=Ai;var Ii="[object Object]",Ti=Function.prototype,Fi=Object.prototype,vn=Ti.toString,zi=Fi.hasOwnProperty,ji=vn.call(Object);function Bi(n){if(!T(n)||B(n)!=Ii)return!1;var e=vt(n);if(e===null)return!0;var t=zi.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&vn.call(t)==ji}var wn=Bi;function Li(){this.__data__=new N,this.size=0}var En=Li;function Vi(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Dn=Vi;function Ni(n){return this.__data__.get(n)}var Sn=Ni;function Wi(n){return this.__data__.has(n)}var kn=Wi;var Ri=200;function Yi(n,e){var t=this.__data__;if(t instanceof N){var o=t.__data__;if(!bt||o.length<Ri-1)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new bn(o)}return t.set(n,e),this.size=t.size,this}var An=Yi;function ot(n){var e=this.__data__=new N(n);this.size=e.size}ot.prototype.clear=En;ot.prototype.delete=Dn;ot.prototype.get=Sn;ot.prototype.has=kn;ot.prototype.set=An;var In=ot;var jn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tn=jn&&typeof module=="object"&&module&&!module.nodeType&&module,$i=Tn&&Tn.exports===jn,Fn=$i?k.Buffer:void 0,zn=Fn?Fn.allocUnsafe:void 0;function Ui(n,e){if(e)return n.slice();var t=n.length,o=zn?zn(t):new n.constructor(t);return n.copy(o),o}var Bn=Ui;var Hi=k.Uint8Array,Ft=Hi;function Gi(n){var e=new n.constructor(n.byteLength);return new Ft(e).set(new Ft(n)),e}var Ln=Gi;function Ki(n,e){var t=e?Ln(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Vn=Ki;function qi(n){return typeof n.constructor=="function"&&!Ot(n)?Te(vt(n)):{}}var Nn=qi;function Qi(n){return function(e,t,o){for(var r=-1,s=Object(e),l=o(e),g=l.length;g--;){var d=l[n?g:++r];if(t(s[d],d,s)===!1)break}return e}}var Wn=Qi;var Ji=Wn(),Rn=Ji;function Zi(n,e,t){(t!==void 0&&!L(n[e],t)||t===void 0&&!(e in n))&&Z(n,e,t)}var pt=Zi;function Xi(n){return T(n)&&X(n)}var Yn=Xi;function ta(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var dt=ta;function ea(n){return We(n,yt(n))}var $n=ea;function na(n,e,t,o,r,s,l){var g=dt(n,t),d=dt(e,t),O=l.get(d);if(O){pt(n,t,O);return}var C=s?s(g,d,t+"",n,e,l):void 0,_=C===void 0;if(_){var P=ct(d),rt=!P&&Mt(d),Bt=!P&&!rt&&Pt(d);C=d,P||rt||Bt?ct(g)?C=g:Yn(g)?C=ze(g):rt?(_=!1,C=Bn(d,!0)):Bt?(_=!1,C=Vn(d,!0)):C=[]:wn(d)||lt(d)?(C=g,lt(g)?C=$n(g):(!w(g)||q(g))&&(C=Nn(d))):_=!1}_&&(l.set(d,C),r(C,d,o,s,l),l.delete(d)),pt(n,t,C)}var Un=na;function Hn(n,e,t,o,r){n!==e&&Rn(e,function(s,l){if(r||(r=new In),w(s))Un(n,e,l,t,Hn,o,r);else{var g=o?o(dt(n,l),s,l+"",n,e,r):void 0;g===void 0&&(g=s),pt(n,l,g)}},yt)}var Gn=Hn;var oa=He(function(n,e,t){Gn(n,e,t)}),zt=oa;var ra=new Ht("Configuration for ngCharts");var ia=(()=>{let e=class e{constructor(){this.colorschemesOptions=new Rt(void 0)}setColorschemesOptions(o){this.pColorschemesOptions=o,this.colorschemesOptions.next(o)}getColorschemesOptions(){return this.pColorschemesOptions}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Kn=(()=>{let e=class e{constructor(o,r,s,l){this.zone=r,this.themeService=s,this.type="bar",this.plugins=[],this.chartClick=new Dt,this.chartHover=new Dt,this.subs=[],this.themeOverrides={},l?.registerables&&v.register(...l.registerables),l?.defaults&&Pe.set(l.defaults),this.ctx=o.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Ut()).subscribe(g=>this.themeChanged(g)))}ngOnChanges(o){let r=["type"],s=Object.getOwnPropertyNames(o);if(s.some(l=>r.includes(l))||s.every(l=>o[l].isFirstChange()))this.render();else{let l=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,l.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,l.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,l.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(o=>o.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new v(this.ctx,this.getChartConfiguration()))}update(o){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(o))}hideDataset(o,r){this.chart&&(this.chart.getDatasetMeta(o).hidden=r,this.update())}isDatasetHidden(o){return this.chart?.getDatasetMeta(o)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(o){this.themeOverrides=o,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return zt({onHover:(o,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:o,active:r}))},onClick:(o,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:o,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};e.\u0275fac=function(r){return new(r||e)(E(Kt),E(Zt),E(ia),E(ra,8))},e.\u0275dir=Jt({type:e,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[Gt]});let n=e;return n})();v.register(...j);var wt=class n{colorPalette=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7","#ffecd2","#fcb69f","#a8edea","#fed6e3","#d299c2","#fef9d7","#667eea","#764ba2"];constructor(){this.ensureChartRegistration()}ensureChartRegistration(){v.registry.getScale("category")||v.register(...j)}formatIndianNumber(e){return e.toLocaleString("en-IN")}generateTrendData(e,t=12){let o=new Date(2025,6,1),r=[],s=[];for(let l=0;l<t;l++){let g=new Date(o.getFullYear(),o.getMonth()+l,1),d=g.toLocaleDateString("en-US",{month:"short",year:"numeric"});r.push(d);let C=e.filter(_=>{let P=new Date(_.date);return P.getMonth()===g.getMonth()&&P.getFullYear()===g.getFullYear()}).reduce((_,P)=>_+P.amount,0);s.push(C)}return{labels:r,datasets:[{label:"Monthly Spending",data:s,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",tension:.4}]}}generatePieData(e,t){let o=new Map;e.forEach(d=>{let O=o.get(d.categoryId)||0;o.set(d.categoryId,O+d.amount)});let r=[],s=[],l=[],g=[];return o.forEach((d,O)=>{let C=t.find(_=>_.id===O);if(C){r.push(C.name),s.push(d);let _=r.length-1;l.push(this.colorPalette[_%this.colorPalette.length]),g.push("#ffffff")}}),{labels:r,datasets:[{data:s,backgroundColor:l,borderColor:g,borderWidth:2}]}}generateBarData(e,t=6){let o=new Date(2025,6,1),r=[],s=[];for(let l=0;l<t;l++){let g=new Date(o.getFullYear(),o.getMonth()+l,1),d=g.toLocaleDateString("en-US",{month:"short",year:"numeric"});r.push(d);let C=e.filter(_=>{let P=new Date(_.date);return P.getMonth()===g.getMonth()&&P.getFullYear()===g.getFullYear()}).reduce((_,P)=>_+P.amount,0);s.push(C)}return{labels:r,datasets:[{label:"Monthly Spending",data:s,backgroundColor:"rgba(102, 126, 234, 0.8)",borderColor:"#667eea",borderWidth:1}]}}generateSparklineData(e,t,o=30){let r=new Date(2025,6,1),s=[];for(let l=0;l<o;l++){let d=new Date(r.getTime()+l*24*60*60*1e3).toISOString().split("T")[0],C=e.filter(_=>_.categoryId===t&&_.date===d).reduce((_,P)=>_+P.amount,0);s.push(C)}return s}getTrendOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(e){let t=e.dataset.label||"",o=e.parsed.y;return`${t}: \u20B9${o.toFixed(2)}`}}}},scales:{x:{display:!0,title:{display:!0,text:"Month"}},y:{display:!0,title:{display:!0,text:"Amount (\u20B9)"},beginAtZero:!0,ticks:{callback:e=>this.formatIndianNumber(Number(e))}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}getPieOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:20}},tooltip:{callbacks:{label:function(e){let t=e.label||"",o=e.parsed,r=e.dataset.data.reduce((l,g)=>l+g,0),s=r>0?(o/r*100).toFixed(1):"0.0";return`${t}: \u20B9${o.toFixed(2)} (${s}%)`}}}}}}getBarOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"",o=e.parsed.y;return`${t}: \u20B9${o.toFixed(2)}`}}}},scales:{x:{display:!0,title:{display:!0,text:"Month"}},y:{display:!0,title:{display:!0,text:"Amount (\u20B9)"},beginAtZero:!0,ticks:{callback:e=>this.formatIndianNumber(Number(e))}}}}}getSparklineOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}},elements:{point:{radius:0}}}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Et=class n{constructor(){this.initializeChart()}initializeChart(){v.register(...j),v.defaults.responsive=!0,v.defaults.maintainAspectRatio=!1,v.defaults.color="#64748b",v.defaults.borderColor="#e1e8ed",v.defaults.backgroundColor="rgba(102, 126, 234, 0.1)"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function ca(n,e){n&1&&z(0,"app-loading",18)}function la(n,e){if(n&1){let t=A();a(0,"button",52),x("click",function(){u(t);let r=m(2);return h(r.clearAllFilters())}),a(1,"span",53),c(2,"\u{1F5D1}\uFE0F"),i(),c(3," Clear All Filters "),i()}}function ga(n,e){n&1&&(a(0,"span",54),c(1,"\u{1F50D}"),i())}function pa(n,e){if(n&1){let t=A();a(0,"span",55),x("click",function(){u(t);let r=m(2);return h(r.clearSearch())}),c(1," \u2715 "),i()}}function da(n,e){n&1&&(a(0,"span",56)(1,"span",57),c(2,"\u{1F4CB}"),i(),c(3," All Categories "),i())}function ma(n,e){if(n&1&&(a(0,"span",58)(1,"span",59),c(2),i(),c(3),i()),n&2){let t=m(2);p(2),D(t.getCategoryIcon(t.selectedCategories[0])),p(),y(" ",t.getCategoryName(t.selectedCategories[0])," ")}}function fa(n,e){if(n&1&&(a(0,"span",60)(1,"span",61),c(2),i(),c(3," categories selected "),i()),n&2){let t=m(2);p(2),D(t.selectedCategories.length)}}function ua(n,e){n&1&&(a(0,"div",73)(1,"div",74),c(2,"\u{1F4ED}"),i(),a(3,"div",75)(4,"div",76),c(5,"No Categories Found"),i(),a(6,"div",77),c(7,"No categories available"),i()()())}function ha(n,e){if(n&1&&(a(0,"span",86),c(1),i()),n&2){let t=m().$implicit,o=m(3);p(),y(" (",o.getCategoryExpenseCount(t.id),") ")}}function Ca(n,e){if(n&1){let t=A();a(0,"div",78),x("click",function(r){return u(t),h(r.stopPropagation())}),a(1,"label",79),x("click",function(r){return u(t),h(r.stopPropagation())}),a(2,"input",80),x("change",function(r){let s=u(t).$implicit,l=m(3);return h(l.toggleCategorySelection(s.id,r))})("click",function(r){return u(t),h(r.stopPropagation())}),i(),z(3,"span",81),a(4,"span",82)(5,"span",83),c(6),i(),a(7,"span",84),c(8),i(),b(9,ha,2,1,"span",85),i()()()}if(n&2){let t=e.$implicit,o=m(3);it("aria-selected",o.isCategorySelected(t.id)),p(2),f("value",t.id)("checked",o.isCategorySelected(t.id)),it("aria-label","Select "+t.name),p(4),D(t.icon),p(2),D(t.name),p(),f("ngIf",o.getCategoryExpenseCount(t.id)>0)}}function _a(n,e){if(n&1){let t=A();a(0,"div",62)(1,"div",63)(2,"span",64),c(3,"Select Categories"),i(),a(4,"span",65),c(5),i()(),a(6,"div",66),b(7,ua,8,0,"div",67)(8,Ca,10,7,"div",68),i(),a(9,"div",69),x("click",function(r){return u(t),h(r.stopPropagation())}),a(10,"button",70),x("click",function(r){return u(t),m(2).selectAllCategories(),h(r.stopPropagation())}),a(11,"span",71),c(12,"\u2705"),i(),c(13," Select All "),i(),a(14,"button",72),x("click",function(r){return u(t),m(2).clearAllCategories(),h(r.stopPropagation())}),a(15,"span",71),c(16,"\u{1F5D1}\uFE0F"),i(),c(17," Clear All "),i()()()}if(n&2){let t=m(2);it("aria-label","Category selection options"),p(5),ft("",t.selectedCategories.length," of ",t.availableCategories.length),p(2),f("ngIf",t.availableCategories.length===0),p(),f("ngForOf",t.availableCategories)("ngForTrackBy",t.trackByCategoryId),p(2),f("disabled",t.selectedCategories.length===t.availableCategories.length),p(4),f("disabled",t.selectedCategories.length===0)}}function xa(n,e){if(n&1){let t=A();a(0,"div",19)(1,"div",20)(2,"h3"),c(3,"\u{1F50D} Smart Analysis Filters"),i(),a(4,"p"),c(5,"Advanced filtering and search capabilities for detailed expense analysis"),i(),a(6,"div",21),b(7,la,4,0,"button",22),i()(),a(8,"div",23)(9,"h4"),c(10,"\u{1F4C5} Quick Date Ranges"),i(),a(11,"div",24)(12,"button",25),x("click",function(){u(t);let r=m();return h(r.applyDatePreset("thisMonth"))}),c(13," This Month "),i(),a(14,"button",25),x("click",function(){u(t);let r=m();return h(r.applyDatePreset("thisQuarter"))}),c(15," This Quarter "),i(),a(16,"button",25),x("click",function(){u(t);let r=m();return h(r.applyDatePreset("thisYear"))}),c(17," This Year "),i(),a(18,"button",25),x("click",function(){u(t);let r=m();return h(r.applyDatePreset("lastYear"))}),c(19," Last Year "),i(),a(20,"button",25),x("click",function(){u(t);let r=m();return h(r.applyDatePreset("all"))}),c(21," All Time "),i()()(),a(22,"div",26)(23,"h4"),c(24,"\u{1F50D} Smart Search"),i(),a(25,"div",27)(26,"input",28),$("ngModelChange",function(r){u(t);let s=m();return Y(s.searchQuery,r)||(s.searchQuery=r),h(r)}),x("input",function(){u(t);let r=m();return h(r.onFilterChange())}),i(),b(27,ga,2,0,"span",29)(28,pa,2,0,"span",30),i()(),a(29,"div",31)(30,"div",32)(31,"label",33),c(32,"From Date"),i(),a(33,"input",34),$("ngModelChange",function(r){u(t);let s=m();return Y(s.selectedStartDate,r)||(s.selectedStartDate=r),h(r)}),x("change",function(){u(t);let r=m();return h(r.onFilterChange())}),i()(),a(34,"div",32)(35,"label",33),c(36,"To Date"),i(),a(37,"input",35),$("ngModelChange",function(r){u(t);let s=m();return Y(s.selectedEndDate,r)||(s.selectedEndDate=r),h(r)}),x("change",function(){u(t);let r=m();return h(r.onFilterChange())}),i()(),a(38,"div",32)(39,"label",33),c(40,"Min Amount (\u20B9)"),i(),a(41,"input",36),$("ngModelChange",function(r){u(t);let s=m();return Y(s.minAmount,r)||(s.minAmount=r),h(r)}),x("input",function(){u(t);let r=m();return h(r.onFilterChange())}),i()(),a(42,"div",32)(43,"label",33),c(44,"Max Amount (\u20B9)"),i(),a(45,"input",37),$("ngModelChange",function(r){u(t);let s=m();return Y(s.maxAmount,r)||(s.maxAmount=r),h(r)}),x("input",function(){u(t);let r=m();return h(r.onFilterChange())}),i()(),a(46,"div",32)(47,"label",33)(48,"span",38),c(49,"\u{1F3F7}\uFE0F"),i(),c(50," Categories "),i(),a(51,"div",39)(52,"div",40),x("click",function(r){u(t);let s=m();return h(s.toggleCategoryDropdown(r))})("keydown.enter",function(r){u(t);let s=m();return h(s.toggleCategoryDropdown(r))})("keydown.escape",function(){u(t);let r=m();return r.isCategoryDropdownOpen=!1,h(r.onFilterChange())}),a(53,"div",41)(54,"div",42),b(55,da,4,0,"span",43)(56,ma,4,2,"span",44)(57,fa,4,1,"span",45),i(),a(58,"span",46),c(59,"\u25BC"),i()(),b(60,_a,18,8,"div",47),i()()()(),a(61,"div",48)(62,"div",49)(63,"span",50),c(64,"Analysis Period:"),i(),a(65,"span",51),c(66),i()()()()}if(n&2){let t=m();p(7),f("ngIf",t.selectedDatePreset!=="thisMonth"),p(5),I("active",t.selectedDatePreset==="thisMonth"),p(2),I("active",t.selectedDatePreset==="thisQuarter"),p(2),I("active",t.selectedDatePreset==="thisYear"),p(2),I("active",t.selectedDatePreset==="lastYear"),p(2),I("active",t.selectedDatePreset==="all"),p(6),R("ngModel",t.searchQuery),p(),f("ngIf",!t.searchQuery),p(),f("ngIf",t.searchQuery),p(5),R("ngModel",t.selectedStartDate),f("max",t.getMaxDate()),p(4),R("ngModel",t.selectedEndDate),f("max",t.getMaxDate())("min",t.selectedStartDate),p(4),R("ngModel",t.minAmount),p(4),R("ngModel",t.maxAmount),p(7),I("open",t.isCategoryDropdownOpen),it("aria-expanded",t.isCategoryDropdownOpen)("aria-haspopup",!0),p(3),f("ngIf",t.selectedCategories.length===0),p(),f("ngIf",t.selectedCategories.length===1),p(),f("ngIf",t.selectedCategories.length>1),p(),I("rotated",t.isCategoryDropdownOpen),p(2),f("ngIf",t.isCategoryDropdownOpen),p(6),D(t.getFilterLabel())}}function Oa(n,e){if(n&1){let t=A();a(0,"div",87)(1,"div",88)(2,"div",89)(3,"h3"),c(4,"Interactive Data Visualization"),i(),a(5,"p"),c(6,"Visual insights into your spending patterns and trends"),i()(),a(7,"div",90)(8,"button",91),x("click",function(r){u(t);let s=m();return h(s.toggleCharts(r))}),a(9,"span",92),c(10,"\u{1F4CA}"),i(),c(11," Show Charts "),i()()()()}}function Ma(n,e){if(n&1&&(a(0,"div",96)(1,"div",97)(2,"h4"),c(3,"\u{1F4C8} Spending Trends"),i(),a(4,"p"),c(5,"Monthly spending patterns over time"),i()(),a(6,"div",98),z(7,"canvas",99),i()()),n&2){let t=m(2);p(7),f("data",t.trendData)("options",t.getTrendOptions())}}function Pa(n,e){if(n&1&&(a(0,"div",96)(1,"div",97)(2,"h4"),c(3,"\u{1F967} Category Breakdown"),i(),a(4,"p"),c(5,"Spending distribution by category"),i()(),a(6,"div",98),z(7,"canvas",100),i()()),n&2){let t=m(2);p(7),f("data",t.pieData)("options",t.getPieOptions())}}function ya(n,e){if(n&1&&(a(0,"div",96)(1,"div",97)(2,"h4"),c(3,"\u{1F4CA} Monthly Comparison"),i(),a(4,"p"),c(5,"Monthly spending comparison"),i()(),a(6,"div",98),z(7,"canvas",101),i()()),n&2){let t=m(2);p(7),f("data",t.barData)("options",t.getBarOptions())}}function ba(n,e){if(n&1){let t=A();a(0,"div",93)(1,"div",88)(2,"div",89)(3,"h3"),c(4,"Interactive Data Visualization"),i(),a(5,"p"),c(6,"Visual insights into your spending patterns and trends"),i()(),a(7,"div",90)(8,"button",91),x("click",function(r){u(t);let s=m();return h(s.toggleCharts(r))}),a(9,"span",92),c(10,"\u{1F4CA}"),i(),c(11," Hide Charts "),i()()(),a(12,"div",94),b(13,Ma,8,2,"div",95)(14,Pa,8,2,"div",95)(15,ya,8,2,"div",95),i()()}if(n&2){let t=m();p(8),I("active",t.showCharts),p(5),f("ngIf",t.trendData),p(),f("ngIf",t.pieData),p(),f("ngIf",t.barData)}}function va(n,e){if(n&1&&(a(0,"div",102)(1,"div",103)(2,"div",104),c(3,"\u26A0\uFE0F"),i(),a(4,"div",105)(5,"h3"),c(6,"Orphaned Expenses Detected"),i(),a(7,"p"),c(8),S(9,"number"),i(),a(10,"div",106)(11,"button",107)(12,"span",71),c(13,"\u{1F527}"),i(),c(14," Auto-Fix with Mapper "),i(),a(15,"button",108)(16,"span",71),c(17,"\u270F\uFE0F"),i(),c(18," Fix Manually "),i(),a(19,"button",109)(20,"span",71),c(21,"\u{1F3F7}\uFE0F"),i(),c(22," Manage Categories "),i()()()()()),n&2){let t=m();p(8),ft("You have ",t.getOrphanedExpensesCount()," expenses (\u20B9",G(9,2,t.getOrphanedExpensesAmount()),") with missing categories. These expenses reference category IDs that no longer exist in your categories list.")}}function wa(n,e){if(n&1&&(a(0,"div",110)(1,"div",111)(2,"div",112)(3,"div",113)(4,"span",114),c(5,"\u{1F4B0}"),i(),a(6,"span",115),c(7,"Total Expenses"),i()(),a(8,"div",116)(9,"div",117),c(10),S(11,"number"),i(),a(12,"div",118),c(13),i()()(),a(14,"div",112)(15,"div",113)(16,"span",114),c(17,"\u{1F4CA}"),i(),a(18,"span",115),c(19,"Average per Expense"),i()(),a(20,"div",116)(21,"div",117),c(22),S(23,"number"),i(),a(24,"div",118),c(25,"Per transaction"),i()()(),a(26,"div",112)(27,"div",113)(28,"span",114),c(29,"\u{1F3F7}\uFE0F"),i(),a(30,"span",115),c(31,"Categories"),i()(),a(32,"div",116)(33,"div",117),c(34),i(),a(35,"div",118),c(36,"Active categories"),i()()()()()),n&2){let t=m();p(10),y("\u20B9",G(11,4,t.totalExpenses)),p(3),y("",t.totalExpenseCount," transactions"),p(9),y("\u20B9",U(23,6,t.averageExpenseAmount,"1.0-0")),p(12),D(t.categoryAnalysis.length)}}function Ea(n,e){if(n&1){let t=A();a(0,"div",125)(1,"div",126)(2,"label",127)(3,"span",128),c(4,"\u{1F504}"),i(),c(5," Sort by: "),i(),a(6,"select",129),$("ngModelChange",function(r){u(t);let s=m(2);return Y(s.sortBy,r)||(s.sortBy=r),h(r)}),x("change",function(){u(t);let r=m(2);return h(r.onSortChange())}),a(7,"option",130),c(8,"Percentage"),i(),a(9,"option",131),c(10,"Transaction Count"),i(),a(11,"option",132),c(12,"Average Amount"),i(),a(13,"option",133),c(14,"Category Name"),i()(),a(15,"button",134),x("click",function(){u(t);let r=m(2);return h(r.toggleSortOrder())}),a(16,"span",135),c(17,"\u25BC"),i()()()()}if(n&2){let t=m(2);p(6),R("ngModel",t.sortBy),p(9),f("title",t.sortOrder==="asc"?"Ascending - Click for Descending":"Descending - Click for Ascending"),p(),I("asc",t.sortOrder==="asc")}}function Da(n,e){if(n&1){let t=A();a(0,"div",155),x("click",function(r){let s=u(t).$implicit,l=m(2).$implicit;return m(3).showMonthlyExpenses(l,s),h(r.stopPropagation())}),a(1,"div",156)(2,"span",157),c(3),i(),a(4,"span",158),c(5),S(6,"number"),i()(),a(7,"div",159),z(8,"div",160),i(),a(9,"div",161)(10,"span",162),c(11),i(),a(12,"span",163),c(13),S(14,"number"),i()()()}if(n&2){let t=e.$implicit,o=m(2).$implicit;f("title",te("Click to view expenses for ",t.month," ",t.year)),p(3),ft("",t.month," ",t.year),p(2),y("\u20B9",G(6,12,t.amount)),p(3),at("width",t.amount/o.totalAmount*100,"%")("background-color",o.category.color||"#999"),p(3),y("",t.expenseCount," transactions"),p(2),y("",U(14,14,t.amount/o.totalAmount*100,"1.1-1"),"%")}}function Sa(n,e){if(n&1&&(a(0,"div",152)(1,"h4"),c(2,"Monthly Breakdown"),i(),a(3,"div",153),b(4,Da,15,17,"div",154),i()()),n&2){let t=m().$implicit;p(4),f("ngForOf",t.monthlyBreakdown)}}function ka(n,e){if(n&1){let t=A();a(0,"div",138),x("click",function(){let r=u(t).$implicit,s=m(3);return h(s.showCategoryExpenses(r))}),a(1,"div",139)(2,"div",140)(3,"div",83),c(4),i(),a(5,"div",141)(6,"h3",84),c(7),i(),a(8,"div",142),c(9),i()()(),a(10,"div",143)(11,"div",144)(12,"span",145),c(13,"Total Amount"),i(),a(14,"span",146),c(15),S(16,"number"),i()(),a(17,"div",144)(18,"span",145),c(19,"Percentage"),i(),a(20,"span",146),c(21),S(22,"number"),i()(),a(23,"div",144)(24,"span",145),c(25,"Transactions"),i(),a(26,"span",146),c(27),i()(),a(28,"div",144)(29,"span",145),c(30,"Average"),i(),a(31,"span",146),c(32),S(33,"number"),i()()()(),a(34,"div",147)(35,"div",148),z(36,"div",149),i(),a(37,"div",150),c(38),S(39,"number"),i()(),b(40,Sa,5,1,"div",151),i()}if(n&2){let t=e.$implicit,o=e.index,r=m(3);I("clickable",!r.comparisonMode),p(3),at("background-color",t.category.color||"#999"),p(),y(" ",t.category.icon||"\u{1F4CC}"," "),p(3),D(t.category.name),p(2),y("#",o+1),p(6),y("\u20B9",G(16,17,t.totalAmount)),p(6),y("",U(22,19,t.percentage,"1.1-1"),"%"),p(6),D(t.expenseCount),p(5),y("\u20B9",U(33,22,t.averageAmount,"1.0-0")),p(4),at("width",t.percentage,"%")("background-color",t.category.color||"#999"),p(2),y("",U(39,25,t.percentage,"1.1-1"),"%"),p(2),f("ngIf",t.monthlyBreakdown.length>0)}}function Aa(n,e){if(n&1&&(a(0,"div",136),b(1,ka,41,28,"div",137),i()),n&2){let t=m(2);p(),f("ngForOf",t.categoryAnalysis)}}function Ia(n,e){n&1&&(a(0,"div",164)(1,"div",165),c(2,"\u{1F4CA}"),i(),a(3,"h3"),c(4,"No Data Found"),i(),a(5,"p"),c(6,"No expenses found for the selected filters. Try adjusting your date range or category selection."),i()())}function Ta(n,e){if(n&1&&(a(0,"div",119)(1,"div",120)(2,"div",121)(3,"div")(4,"h2"),c(5,"\u{1F4C8} Category-wise Analysis"),i(),a(6,"p"),c(7,"Detailed breakdown of spending by category with monthly trends"),i()(),b(8,Ea,18,4,"div",122),i()(),b(9,Aa,2,1,"div",123)(10,Ia,7,0,"div",124),i()),n&2){let t=m();p(8),f("ngIf",t.categoryAnalysis.length>0),p(),f("ngIf",t.categoryAnalysis.length>0&&!t.comparisonMode),p(),f("ngIf",t.categoryAnalysis.length===0)}}function Fa(n,e){if(n&1&&(a(0,"div",174)(1,"span",175),c(2),i(),a(3,"span",176),c(4),i()()),n&2){let t=m().$implicit;p(),Xt("trend-"+t.trend.trend),p(),y(" ",t.trend.trend==="up"?"\u{1F4C8}":t.trend.trend==="down"?"\u{1F4C9}":"\u{1F195}"," "),p(2),D(t.trend.trend)}}function za(n,e){if(n&1&&(a(0,"div",169)(1,"div",170),c(2),i(),a(3,"div",83),c(4),i(),a(5,"div",140)(6,"h4",84),c(7),i(),a(8,"div",171),c(9),S(10,"number"),i(),a(11,"div",172),c(12),S(13,"number"),i()(),b(14,Fa,5,4,"div",173),i()),n&2){let t=e.$implicit,o=e.index;p(2),D(o+1),p(),at("background-color",t.category.color||"#999"),p(),y(" ",t.category.icon||"\u{1F4CC}"," "),p(3),D(t.category.name),p(2),y("\u20B9",G(10,8,t.totalAmount)),p(3),y("",U(13,10,t.percentage,"1.1-1"),"%"),p(2),f("ngIf",t.trend.trend!=="stable")}}function ja(n,e){if(n&1&&(a(0,"div",166)(1,"div",120)(2,"h2"),c(3,"\u{1F3C6} Top Categories"),i(),a(4,"p"),c(5,"Your highest spending categories"),i()(),a(6,"div",167),b(7,za,15,13,"div",168),i()()),n&2){let t=m();p(7),f("ngForOf",t.topCategoriesWithTrends)}}v.register(...j);var qn=class n{constructor(e,t,o,r,s,l,g){this.expenseService=e;this.categoryService=t;this.firebaseService=o;this.dialogService=r;this.chartService=s;this.chartConfigService=l;this.cdr=g;this.filterChangeSubscription=this.filterChangeSubject.pipe($t(300)).subscribe(()=>{this.onFilterChangeDebounced()})}expenses=[];categories=[];categoryAnalysis=[];isLoading=!0;selectedStartDate="";selectedEndDate="";selectedCategories=[];isCategoryDropdownOpen=!1;dropdownAlignment="left";searchQuery="";minAmount="";maxAmount="";selectedDatePreset="thisMonth";comparisonMode=!1;selectedCategoriesForComparison=[];availableCategories=[];usedCategories=[];totalExpenses=0;totalExpenseCount=0;averageExpenseAmount=0;trendData=null;pieData=null;barData=null;showCharts=!1;sortBy="percentage";sortOrder="desc";cachedFilteredExpenses=null;filterCacheKey="";categoryMap=new Map;categoryTrendCache=new Map;categoryExpenseCountCache=new Map;filterLabelCache="";filterChangeSubject=new Wt;filterChangeSubscription;dataSubscription=new Nt;dataLoaded=!1;ngOnInit(){this.loadDataFromObservables()}ngOnDestroy(){this.filterChangeSubscription&&this.filterChangeSubscription.unsubscribe(),this.dataSubscription.unsubscribe(),this.filterChangeSubject.complete(),this.cachedFilteredExpenses=null,this.categoryMap.clear(),this.categoryTrendCache.clear(),this.categoryExpenseCountCache.clear()}onDocumentClick(e){e.target.closest(".multiselect-container")||this.isCategoryDropdownOpen&&(this.isCategoryDropdownOpen=!1,this.onFilterChange())}loadDataFromObservables(){this.dataSubscription.add(Yt([this.firebaseService.expenses$,this.firebaseService.categories$]).subscribe(([e,t])=>{this.expenses=e,this.categories=t,this.categoryMap.clear(),this.categories.forEach(o=>this.categoryMap.set(o.id,o)),this.dataLoaded||(this.initializeFilters(),this.dataLoaded=!0,St()&&this.logOrphanedExpensesDetails()),this.performAnalysis(),this.invalidateCache(),this.isLoading&&(this.isLoading=!1,this.cdr.markForCheck())})),this.dataSubscription.add(this.firebaseService.loading$.subscribe(e=>{this.dataLoaded||(this.isLoading=e,this.cdr.markForCheck())}))}loadData(){return mt(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.categoryMap.clear(),this.categories.forEach(e=>this.categoryMap.set(e.id,e)),St()&&this.logOrphanedExpensesDetails(),this.invalidateCache()}catch(e){console.error("Error loading data:",e)}})}invalidateCache(){this.cachedFilteredExpenses=null,this.filterCacheKey="",this.categoryTrendCache.clear(),this.categoryExpenseCountCache.clear(),this.filterLabelCache=""}getFilterCacheKey(){return`${this.selectedStartDate}|${this.selectedEndDate}|${this.selectedCategories.join(",")}|${this.searchQuery}|${this.minAmount}|${this.maxAmount}`}initializeFilters(){this.applyDatePreset("thisMonth"),this.updateAvailableCategories(),this.updateUsedCategories()}getFilteredExpenses(){let e=this.getFilterCacheKey();if(this.cachedFilteredExpenses!==null&&this.filterCacheKey===e)return this.cachedFilteredExpenses;let t=this.expenses.filter(o=>{let s=new Date(o.date).toISOString().split("T")[0],l=!this.selectedStartDate||s>=this.selectedStartDate,g=!this.selectedEndDate||s<=this.selectedEndDate,d=this.selectedCategories.length===0||this.selectedCategories.includes(o.categoryId),O=!this.searchQuery||o.description?.toLowerCase().includes(this.searchQuery.toLowerCase())||o.notes?.toLowerCase().includes(this.searchQuery.toLowerCase())||o.amount.toString().includes(this.searchQuery)||o.location?.toLowerCase().includes(this.searchQuery.toLowerCase()),C=!this.minAmount||o.amount>=parseFloat(this.minAmount),_=!this.maxAmount||o.amount<=parseFloat(this.maxAmount);return l&&g&&d&&O&&C&&_});return this.cachedFilteredExpenses=t,this.filterCacheKey=e,t}performAnalysis(){let e=this.getFilteredExpenses();this.totalExpenses=e.reduce((o,r)=>o+r.amount,0),this.totalExpenseCount=e.length,this.averageExpenseAmount=this.totalExpenseCount>0?this.totalExpenses/this.totalExpenseCount:0;let t=new Map;e.forEach(o=>{t.has(o.categoryId)||t.set(o.categoryId,[]),t.get(o.categoryId).push(o)}),this.categoryAnalysis=Array.from(t.entries()).map(([o,r])=>{let s=this.categoryMap.get(o),l=r.reduce((_,P)=>_+P.amount,0),g=this.totalExpenses>0?l/this.totalExpenses*100:0,d=r.length>0?l/r.length:0,O=this.calculateMonthlyBreakdown(r);return{category:s||{id:o,name:"Orphaned Category",color:"#95A5A6",icon:"\u2753"},totalAmount:l,percentage:g,expenseCount:r.length,averageAmount:d,monthlyBreakdown:O}}),this.categoryTrendCache.clear(),this.categoryExpenseCountCache.clear(),this.applySorting(),this.updateTopCategoriesWithTrends(),this.cdr.markForCheck()}calculateMonthlyBreakdown(e){let t=new Map;e.forEach(s=>{let l=new Date(s.date),g=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`;t.has(g)||t.set(g,{amount:0,count:0});let d=t.get(g);d.amount+=s.amount,d.count+=1});let o=e.reduce((s,l)=>s+l.amount,0),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return Array.from(t.entries()).map(([s,l])=>{let[g,d]=s.split("-");return{month:r[parseInt(d)-1],year:parseInt(g),monthNumber:parseInt(d),amount:l.amount,expenseCount:l.count,percentage:o>0?l.amount/o*100:0}}).sort((s,l)=>s.year!==l.year?l.year-s.year:l.monthNumber-s.monthNumber)}applySorting(){this.categoryAnalysis.sort((e,t)=>{let o=0;switch(this.sortBy){case"percentage":o=e.percentage-t.percentage;break;case"transactionCount":o=e.expenseCount-t.expenseCount;break;case"average":o=e.averageAmount-t.averageAmount;break;case"name":o=e.category.name.localeCompare(t.category.name);break}return this.sortOrder==="asc"?o:-o}),this.updateTopCategoriesWithTrends()}onSortChange(){this.applySorting(),this.cdr.markForCheck()}toggleSortOrder(){this.sortOrder=this.sortOrder==="asc"?"desc":"asc",this.applySorting(),this.cdr.markForCheck()}onFilterChange(){this.invalidateCache(),this.filterChangeSubject.next()}onFilterChangeDebounced(){this.updateUsedCategories(),this.performAnalysis(),this.showCharts&&this.generateChartData(),this.cdr.markForCheck()}formatDateForInput(e){let t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${o}-${r}`}applyDatePreset(e){let t=new Date;switch(this.selectedDatePreset=e,e){case"thisMonth":let o=t.getFullYear(),r=t.getMonth(),s=new Date(o,r,1),l=new Date(o,r+1,0);this.selectedStartDate=this.formatDateForInput(s),this.selectedEndDate=this.formatDateForInput(l);break;case"last30":let g=new Date(t.getTime()-30*24*60*60*1e3);this.selectedStartDate=this.formatDateForInput(g),this.selectedEndDate=this.formatDateForInput(t);break;case"thisQuarter":let d=Math.floor(t.getMonth()/3),O=new Date(t.getFullYear(),d*3,1),C=new Date(t.getFullYear(),d*3+3,0);this.selectedStartDate=this.formatDateForInput(O),this.selectedEndDate=this.formatDateForInput(C);break;case"lastYear":let _=new Date(t.getFullYear()-1,0,1),P=new Date(t.getFullYear()-1,11,31);this.selectedStartDate=this.formatDateForInput(_),this.selectedEndDate=this.formatDateForInput(P);break;case"thisYear":let rt=new Date(t.getFullYear(),0,1);this.selectedStartDate=this.formatDateForInput(rt),this.selectedEndDate=this.formatDateForInput(t);break;case"all":this.selectedStartDate="",this.selectedEndDate="";break}this.invalidateCache(),this.updateUsedCategories(),this.performAnalysis(),this.showCharts&&this.generateChartData()}clearAllFilters(){this.selectedCategories=[],this.searchQuery="",this.minAmount="",this.maxAmount="",this.comparisonMode=!1,this.selectedCategoriesForComparison=[],this.applyDatePreset("thisMonth")}clearSearch(){this.searchQuery="",this.invalidateCache(),this.updateUsedCategories(),this.performAnalysis(),this.showCharts&&this.generateChartData()}generateChartData(){let e=this.getFilteredExpenses();if(e.length===0){this.trendData=null,this.pieData=null,this.barData=null;return}let t=12;this.trendData=this.chartService.generateTrendData(e,t),this.pieData=this.chartService.generatePieData(e,this.categories),this.barData=this.chartService.generateBarData(e,t)}toggleCharts(e){e&&(e.preventDefault(),e.stopPropagation()),this.showCharts=!this.showCharts,this.showCharts&&this.generateChartData(),e&&e.target&&e.target.blur()}getTrendOptions(){return this.chartService.getTrendOptions()}getPieOptions(){return this.chartService.getPieOptions()}getBarOptions(){return this.chartService.getBarOptions()}getSparklineOptions(){return this.chartService.getSparklineOptions()}getCategorySparklineData(e){let t=this.getFilteredExpenses(),o=this.chartService.generateSparklineData(t,e);return{labels:Array.from({length:30},(r,s)=>""),datasets:[{data:o,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:0}]}}showCategoryExpenses(e){return mt(this,null,function*(){let t=this.getExpensesForCategory(e.category.id),o=t.length,r=t.map(l=>({id:l.id,description:l.description||"No description",amount:l.amount,date:l.date,categoryId:l.categoryId})),s=`${e.category.name} (${o} ${o===1?"expense":"expenses"})`;yield this.dialogService.showExpenseList(r,s,e.category.icon,e.category.color)})}showMonthlyExpenses(e,t){return mt(this,null,function*(){let o=this.getExpensesForCategoryAndMonth(e.category.id,t),r=o.length,s=o.map(g=>({id:g.id,description:g.description||"No description",amount:g.amount,date:g.date,categoryId:g.categoryId})),l=`${e.category.name} - ${t.month} ${t.year} (${r} ${r===1?"expense":"expenses"})`;yield this.dialogService.showExpenseList(s,l,e.category.icon,e.category.color,r===0?"No expenses found for this category in the selected month.":void 0)})}getExpensesForCategory(e){return this.getFilteredExpenses().filter(t=>t.categoryId===e)}getExpensesForCategoryAndMonth(e,t){return this.getFilteredExpenses().filter(s=>s.categoryId===e).filter(s=>{let l=new Date(s.date),g=l.getMonth()+1,d=l.getFullYear(),C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(t.month)+1;return g===C&&d===t.year})}toggleComparisonMode(){this.comparisonMode=!this.comparisonMode,this.comparisonMode||(this.selectedCategoriesForComparison=[])}toggleCategoryForComparison(e){let t=this.selectedCategoriesForComparison.indexOf(e);t>-1?this.selectedCategoriesForComparison.splice(t,1):this.selectedCategoriesForComparison.length<3&&this.selectedCategoriesForComparison.push(e)}getComparisonCategories(){return this.categoryAnalysis.filter(e=>this.selectedCategoriesForComparison.includes(e.category.id))}getCategoryColor(e){return this.categoryMap.get(e)?.color||"#999"}getCategoryName(e){return this.categoryMap.get(e)?.name||"Unknown Category"}getCategoryIcon(e){return this.categoryMap.get(e)?.icon||"\u2753"}getCategoryExpenseCount(e){if(this.categoryExpenseCountCache.has(e))return this.categoryExpenseCountCache.get(e);let o=this.expenses.filter(r=>{let l=new Date(r.date).toISOString().split("T")[0],g=!this.selectedStartDate||l>=this.selectedStartDate,d=!this.selectedEndDate||l<=this.selectedEndDate;return g&&d}).filter(r=>r.categoryId===e).length;return this.categoryExpenseCountCache.set(e,o),o}trackByCategoryId(e,t){return t.id}getCategoriesWithExpenses(){let e=new Set(this.expenses.map(t=>t.categoryId));return this.categories.filter(t=>e.has(t.id))}updateAvailableCategories(){this.availableCategories=this.getCategoriesWithExpenses()}getUsedCategories(){let e=this.getFilteredExpenses(),t=new Set(e.map(o=>o.categoryId));return this.categories.filter(o=>t.has(o.id))}updateUsedCategories(){this.usedCategories=this.getUsedCategories()}hasUsedCategories(){return this.usedCategories.length>0}getMaxDate(){return new Date().toISOString().split("T")[0]}toggleCategoryDropdown(e){e&&e.stopPropagation();let t=this.isCategoryDropdownOpen;this.isCategoryDropdownOpen=!this.isCategoryDropdownOpen,this.isCategoryDropdownOpen&&this.calculateDropdownAlignment(),t&&!this.isCategoryDropdownOpen&&this.onFilterChange()}calculateDropdownAlignment(){setTimeout(()=>{let e=document.querySelector(".multiselect-options");if(e){let t=e.getBoundingClientRect(),o=window.innerWidth,r=e.parentElement?.getBoundingClientRect();if(r){let s=o-r.left,l=r.right,g=Math.min(400,o-32);s<g&&l>g?this.dropdownAlignment="right":s<g&&l<g?this.dropdownAlignment="center":this.dropdownAlignment="left",this.cdr.markForCheck()}}},0)}isCategorySelected(e){return this.selectedCategories.includes(e)}toggleCategorySelection(e,t){t&&t.stopPropagation();let o=this.selectedCategories.indexOf(e);o>-1?this.selectedCategories.splice(o,1):this.selectedCategories.push(e),this.onFilterChange()}selectAllCategories(){this.selectedCategories=this.availableCategories.map(e=>e.id),this.onFilterChange()}clearAllCategories(){this.selectedCategories=[],this.onFilterChange()}getFilterLabel(){let e=`${this.selectedStartDate}|${this.selectedEndDate}`;if(this.filterLabelCache&&this.filterLabelCache.startsWith(e))return this.filterLabelCache.split("|")[1];let t;if(this.selectedStartDate&&this.selectedEndDate){let o=new Date(this.selectedStartDate),r=new Date(this.selectedEndDate),s=o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),l=r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});t=`${s} to ${l}`}else this.selectedStartDate?t=`From ${new Date(this.selectedStartDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:this.selectedEndDate?t=`Until ${new Date(this.selectedEndDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:t="All time";return this.filterLabelCache=`${e}|${t}`,t}exportAnalysis(){let e={period:this.getFilterLabel(),totalExpenses:this.totalExpenses,totalExpenseCount:this.totalExpenseCount,averageExpenseAmount:this.averageExpenseAmount,categoryAnalysis:this.categoryAnalysis.map(l=>({category:l.category.name,totalAmount:l.totalAmount,percentage:l.percentage,expenseCount:l.expenseCount,averageAmount:l.averageAmount,monthlyBreakdown:l.monthlyBreakdown}))},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),o=window.URL.createObjectURL(t),r=document.createElement("a");r.href=o;let s=this.selectedStartDate&&this.selectedEndDate?`${this.selectedStartDate}-to-${this.selectedEndDate}`:this.selectedStartDate?`from-${this.selectedStartDate}`:this.selectedEndDate?`until-${this.selectedEndDate}`:"all-time";r.download=`expense-analysis-${s}.json`,r.click(),window.URL.revokeObjectURL(o)}getTopCategories(e=5){return this.categoryAnalysis.slice(0,e)}topCategoriesWithTrends=[];updateTopCategoriesWithTrends(){this.topCategoriesWithTrends=this.getTopCategories(5).map(e=>Vt(Lt({},e),{trend:this.getCategoryTrend(e.category.id)}))}getCategoryTrend(e){if(this.categoryTrendCache.has(e))return this.categoryTrendCache.get(e);let t=this.categoryAnalysis.find(g=>g.category.id===e);if(!t||t.monthlyBreakdown.length<2){let g={trend:"stable",percentage:0};return this.categoryTrendCache.set(e,g),g}let o=[...t.monthlyBreakdown].sort((g,d)=>g.year!==d.year?g.year-d.year:(g.monthNumber??0)-(d.monthNumber??0)),r=o[o.length-1],s=o[o.length-2],l;if(s.amount===0)l={trend:"new",percentage:100};else{let g=(r.amount-s.amount)/s.amount*100;g>10?l={trend:"up",percentage:g}:g<-10?l={trend:"down",percentage:Math.abs(g)}:l={trend:"stable",percentage:Math.abs(g)}}return this.categoryTrendCache.set(e,l),l}getOrphanedExpenses(){return this.expenses.filter(e=>!this.categoryMap.has(e.categoryId))}getOrphanedCategoryAnalysis(){return this.categoryAnalysis.filter(e=>e.category.name==="Orphaned Category")}hasOrphanedExpenses(){return this.getOrphanedExpenses().length>0}getOrphanedExpensesCount(){return this.getOrphanedExpenses().length}getOrphanedExpensesAmount(){return this.getOrphanedExpenses().reduce((e,t)=>e+t.amount,0)}getOrphanedExpensesDetails(){return this.getOrphanedExpenses().map(e=>({expense:e,categoryId:e.categoryId}))}getOrphanedExpensesByCategoryId(e){return this.getOrphanedExpenses().filter(t=>t.categoryId===e)}getOrphanedCategoryIds(){let e=new Set;return this.getOrphanedExpenses().forEach(t=>{e.add(t.categoryId)}),Array.from(e)}logOrphanedExpensesDetails(){let e=this.getOrphanedExpenses()}static \u0275fac=function(t){return new(t||n)(E(xe),E(Oe),E(Ce),E(Me),E(wt),E(Et),E(ee))};static \u0275cmp=Qt({type:n,selectors:[["app-expense-analysis"]],hostBindings:function(t,o){t&1&&x("click",function(s){return o.onDocumentClick(s)},qt)},decls:22,vars:8,consts:[[1,"analysis-container"],[1,"analysis-header"],[1,"header-content"],[1,"header-left"],[1,"analysis-title"],[1,"analysis-subtitle"],[1,"header-actions"],[1,"action-btn","primary",3,"click"],[1,"action-icon"],[1,"action-text"],["message","Loading expense analysis...","type","card",4,"ngIf"],["class","filters-section",4,"ngIf"],["class","show-charts-section",4,"ngIf"],["class","charts-section",4,"ngIf"],["class","orphaned-warning",4,"ngIf"],["class","summary-section",4,"ngIf"],["class","analysis-section",4,"ngIf"],["class","top-categories-section",4,"ngIf"],["message","Loading expense analysis...","type","card"],[1,"filters-section"],[1,"filters-header"],[1,"filter-actions"],["class","btn-clear-all",3,"click",4,"ngIf"],[1,"date-presets-section"],[1,"preset-buttons"],[1,"preset-btn",3,"click"],[1,"search-section"],[1,"search-container"],["type","text","placeholder","Search by description, amount, notes, or location...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-icon",4,"ngIf"],["class","clear-icon","title","Clear search",3,"click",4,"ngIf"],[1,"filters-grid"],[1,"filter-group"],[1,"filter-label"],["type","date",1,"filter-date-input",3,"ngModelChange","change","ngModel","max"],["type","date",1,"filter-date-input",3,"ngModelChange","change","ngModel","max","min"],["type","number","placeholder","0","min","0",1,"filter-amount-input",3,"ngModelChange","input","ngModel"],["type","number","placeholder","No limit","min","0",1,"filter-amount-input",3,"ngModelChange","input","ngModel"],[1,"label-icon"],[1,"multiselect-container"],["role","combobox","tabindex","0",1,"multiselect-dropdown",3,"click","keydown.enter","keydown.escape"],[1,"multiselect-display"],[1,"selection-content"],["class","placeholder",4,"ngIf"],["class","single-selection",4,"ngIf"],["class","multiple-selection",4,"ngIf"],[1,"dropdown-arrow"],["class","multiselect-options","role","listbox",4,"ngIf"],[1,"filter-summary"],[1,"summary-info"],[1,"summary-label"],[1,"summary-value"],[1,"btn-clear-all",3,"click"],[1,"clear-icon"],[1,"search-icon"],["title","Clear search",1,"clear-icon",3,"click"],[1,"placeholder"],[1,"placeholder-icon"],[1,"single-selection"],[1,"selection-icon"],[1,"multiple-selection"],[1,"selection-badge"],["role","listbox",1,"multiselect-options"],[1,"options-header"],[1,"header-text"],[1,"header-count"],[1,"options-content"],["class","no-categories-message",4,"ngIf"],["class","option-item","role","option",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"multiselect-actions",3,"click"],[1,"action-btn","select-all",3,"click","disabled"],[1,"btn-icon"],[1,"action-btn","clear-all",3,"click","disabled"],[1,"no-categories-message"],[1,"message-icon"],[1,"message-text"],[1,"message-title"],[1,"message-subtitle"],["role","option",1,"option-item",3,"click"],[1,"checkbox-label",3,"click"],["type","checkbox",3,"change","click","value","checked"],[1,"checkbox-custom"],[1,"option-text"],[1,"category-icon"],[1,"category-name"],["class","category-count",4,"ngIf"],[1,"category-count"],[1,"show-charts-section"],[1,"charts-header"],[1,"charts-title"],[1,"charts-controls"],[1,"btn-charts",3,"click"],[1,"chart-icon"],[1,"charts-section"],[1,"charts-grid"],["class","chart-card",4,"ngIf"],[1,"chart-card"],[1,"chart-header"],[1,"chart-container"],["baseChart","","type","line",3,"data","options"],["baseChart","","type","pie",3,"data","options"],["baseChart","","type","bar",3,"data","options"],[1,"orphaned-warning"],[1,"warning-content"],[1,"warning-icon"],[1,"warning-text"],[1,"warning-actions"],["routerLink","/mapper",1,"btn","btn-outline"],["routerLink","/expenses",1,"btn","btn-outline"],["routerLink","/categories",1,"btn","btn-outline"],[1,"summary-section"],[1,"summary-grid"],[1,"summary-card"],[1,"card-header"],[1,"card-icon"],[1,"card-title"],[1,"card-content"],[1,"card-value"],[1,"card-subtitle"],[1,"analysis-section"],[1,"section-header"],[1,"section-title-group"],["class","sort-controls",4,"ngIf"],["class","category-analysis",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"sort-controls"],[1,"sort-group"],[1,"sort-label"],[1,"sort-icon"],[1,"sort-select",3,"ngModelChange","change","ngModel"],["value","percentage"],["value","transactionCount"],["value","average"],["value","name"],[1,"sort-order-btn",3,"click","title"],[1,"sort-arrow"],[1,"category-analysis"],["class","category-item",3,"clickable","click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-header"],[1,"category-info"],[1,"category-details"],[1,"category-rank"],[1,"category-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"category-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-label"],["class","monthly-breakdown",4,"ngIf"],[1,"monthly-breakdown"],[1,"monthly-chart"],["class","month-item clickable-month",3,"title","click",4,"ngFor","ngForOf"],[1,"month-item","clickable-month",3,"click","title"],[1,"month-header"],[1,"month-name"],[1,"month-amount"],[1,"month-bar"],[1,"bar-fill"],[1,"month-details"],[1,"month-count"],[1,"month-percentage"],[1,"empty-state"],[1,"empty-icon"],[1,"top-categories-section"],[1,"top-categories-grid"],["class","top-category-card",4,"ngFor","ngForOf"],[1,"top-category-card"],[1,"rank-badge"],[1,"category-amount"],[1,"category-percentage"],["class","category-trend",4,"ngIf"],[1,"category-trend"],[1,"trend-icon"],[1,"trend-text"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),c(5,"\u{1F4CA} Expense Analysis"),i(),a(6,"p",5),c(7,"Detailed category-wise spending analysis across months"),i()(),a(8,"div",6)(9,"button",7),x("click",function(){return o.exportAnalysis()}),a(10,"span",8),c(11,"\u{1F4E5}"),i(),a(12,"span",9),c(13,"Export Analysis"),i()()()()(),b(14,ca,1,0,"app-loading",10)(15,xa,67,32,"div",11)(16,Oa,12,0,"div",12)(17,ba,16,5,"div",13)(18,va,23,4,"div",14)(19,wa,37,9,"div",15)(20,Ta,11,3,"div",16)(21,ja,8,1,"div",17),i()),t&2&&(p(14),f("ngIf",o.isLoading),p(),f("ngIf",!o.isLoading),p(),f("ngIf",!o.isLoading&&!o.showCharts),p(),f("ngIf",!o.isLoading&&o.showCharts),p(),f("ngIf",!o.isLoading&&o.hasOrphanedExpenses()),p(),f("ngIf",!o.isLoading),p(),f("ngIf",!o.isLoading),p(),f("ngIf",!o.isLoading&&o.categoryAnalysis.length>0))},dependencies:[ie,ne,oe,he,me,fe,ce,pe,de,le,ue,ge,se,ae,_e,Kn,re],styles:[`@charset "UTF-8";.analysis-container[_ngcontent-%COMP%]{padding:2rem;margin:0 auto;background:#f8f9fa;min-height:100dvh;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.analysis-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);border-radius:16px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px #667eea4d;border:none}.analysis-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.analysis-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .analysis-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#fff;margin:0 0 .5rem;text-shadow:0 2px 4px rgba(0,0,0,.2)}.analysis-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .analysis-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#ffffffe6;margin:0;font-weight:500}.analysis-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:12px;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none}.analysis-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.analysis-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:#ffffff4d;box-shadow:0 8px 25px #0003}.analysis-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.2rem}.filters-section[_ngcontent-%COMP%]{position:relative;z-index:10;background:#fffffff2;border-radius:16px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px #0000001a;border:none}.filters-section[_ngcontent-%COMP%]   .filters-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#2c3e50;margin:0 0 .5rem}.filters-section[_ngcontent-%COMP%]   .filters-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:.95rem}.filters-section[_ngcontent-%COMP%]   .filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#2c3e50;margin-bottom:.5rem;font-size:.9rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:1.1rem;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-date-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e1e8ed;border-radius:12px;font-size:1rem;background:#fff;transition:all .3s ease;cursor:pointer}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus, .filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:hover, .filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-date-input[_ngcontent-%COMP%]:hover{border-color:#667eea}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-date-input[_ngcontent-%COMP%]{cursor:text}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;padding:.25rem;border-radius:4px;transition:background-color .3s ease}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator:hover{background-color:#f8f9fa}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]{position:relative;width:100%;z-index:10000!important;margin-top:-3px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]{position:relative;background:#fff;border:2px solid #e1e8ed;border-radius:10px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #0000000a}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea26;transform:translateY(-1px)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown.open[_ngcontent-%COMP%]{border-color:#667eea;box-shadow:0 8px 25px #667eea33;transform:translateY(-2px)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]{padding:.6rem 1.25rem;display:flex;justify-content:space-between;align-items:center;min-height:1.75rem;position:relative;background:transparent;border:none;outline:none}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .selection-content[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;background:transparent;border:none;outline:none}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#000;font-weight:700;font-weight:500;font-size:1rem;display:flex;align-items:center;gap:.5rem;background:transparent;border:none;outline:none}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.7}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .single-selection[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;font-size:1rem;display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .single-selection[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{font-size:1.1rem;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .multiple-selection[_ngcontent-%COMP%]{color:#667eea;font-weight:700;font-size:1rem;display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .multiple-selection[_ngcontent-%COMP%]   .selection-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.25rem .5rem;border-radius:12px;font-size:.8rem;font-weight:700;min-width:1.5rem;text-align:center;box-shadow:0 2px 4px #667eea4d}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem;transition:all .3s cubic-bezier(.4,0,.2,1);transform-origin:center}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-display[_ngcontent-%COMP%]   .dropdown-arrow.rotated[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown.open[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg);color:#667eea}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 4px);left:0;right:auto;min-width:327px;width:max-content;max-width:calc(100vw - 2rem);background:#fff;border:2px solid #667eea;border-radius:16px;box-shadow:0 12px 40px #00000026;z-index:999999!important;max-height:362px;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_dropdownSlideIn .3s cubic-bezier(.4,0,.2,1);transform:translate(0)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options.align-right[_ngcontent-%COMP%]{left:auto;right:0;transform:translate(0)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options.align-center[_ngcontent-%COMP%]{left:50%;right:auto;transform:translate(-50%)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-header[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem;border-bottom:2px solid #f1f3f4;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:14px 14px 0 0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;font-size:1rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-header[_ngcontent-%COMP%]   .header-count[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.8rem;font-weight:600;box-shadow:0 2px 4px #667eea4d}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;max-height:280px;padding:0}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f3f4;border-radius:3px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:3px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .options-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .no-categories-message[_ngcontent-%COMP%]{padding:2rem 1.25rem;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .no-categories-message[_ngcontent-%COMP%]   .message-icon[_ngcontent-%COMP%]{font-size:3rem;opacity:.6}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .no-categories-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;margin-bottom:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .no-categories-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;line-height:1.4}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-bottom:1px solid #f8f9fa;transition:all .2s ease}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f8f9fa,#e9ecef);transform:translate(4px)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;cursor:pointer;width:100%;transition:all .2s ease}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e1e8ed;border-radius:6px;position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);flex-shrink:0;background:#fff}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;left:6px;top:3px;width:4px;height:8px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg);opacity:0;transition:all .3s cubic-bezier(.4,0,.2,1)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#667eea;transform:scale(1.1)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{opacity:1;transform:rotate(45deg) scale(1.1)}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;font-weight:500;color:#2c3e50;transition:color .2s ease}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.2rem;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{flex:1;font-weight:600}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.85rem;font-weight:500;background:#f1f3f4;padding:.2rem .5rem;border-radius:8px;min-width:2rem;text-align:center}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:hover   .option-text[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:2px solid #f1f3f4;background:linear-gradient(135deg,#f8f9fa,#e9ecef);display:flex;gap:.75rem;border-radius:0 0 14px 14px;flex-shrink:0;position:sticky;bottom:0;z-index:10}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border:2px solid #e1e8ed;border-radius:10px;background:#fff;color:#2c3e50;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;text-align:center;display:flex;align-items:center;justify-content:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1rem}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 6px #667eea33}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f8f9fa;color:#7f8c8d;border-color:#e1e8ed}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn.select-all[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#28a745,#20c997);border-color:#28a745;box-shadow:0 4px 12px #28a7454d}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .multiselect-container[_ngcontent-%COMP%]   .multiselect-dropdown[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]   .multiselect-actions[_ngcontent-%COMP%]   .action-btn.clear-all[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc3545,#e74c3c);border-color:#dc3545;box-shadow:0 4px 12px #dc35454d}@keyframes _ngcontent-%COMP%_dropdownSlideIn{0%{opacity:0;transform:translateY(-10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.filters-section[_ngcontent-%COMP%]   .filter-summary[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:12px;border-left:4px solid #667eea}.filters-section[_ngcontent-%COMP%]   .filter-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.filters-section[_ngcontent-%COMP%]   .filter-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.filters-section[_ngcontent-%COMP%]   .filter-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.orphaned-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a52);border-radius:16px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 10px 30px #ff6b6b4d}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:2rem;flex-shrink:0}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{flex:1}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:1.3rem;font-weight:700;margin:0 0 .5rem}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;margin:0 0 1rem;line-height:1.5}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:2px solid rgba(255,255,255,.3);border-radius:8px;background:#ffffff1a;color:#fff;text-decoration:none;font-weight:600;transition:all .3s ease;cursor:pointer}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff80;transform:translateY(-2px)}.orphaned-warning[_ngcontent-%COMP%]   .warning-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]   .warning-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.1rem}.summary-section[_ngcontent-%COMP%]{margin-bottom:2rem;position:relative;z-index:1}.summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:1.5rem;box-shadow:0 20px 40px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 25px 50px #00000026}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.5rem}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem;font-weight:500}.analysis-section[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:2rem;margin-bottom:2rem;box-shadow:0 20px 40px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;z-index:1}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1.5rem;flex-wrap:wrap}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin:0 0 .5rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:1rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-shrink:0}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background:#fff;padding:.5rem 1rem;border-radius:12px;border:2px solid #e1e8ed;box-shadow:0 2px 8px #0000000d;transition:all .3s ease}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea26}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#2c3e50;font-size:.9rem;margin:0;white-space:nowrap}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:1rem;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]{padding:.5rem 2.5rem .5rem 1rem;border:2px solid #e1e8ed;border-radius:8px;font-size:.9rem;font-weight:500;color:#2c3e50;background:#fff;cursor:pointer;transition:all .3s ease;min-width:160px;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%232c3e50' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem;font-weight:500}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border:2px solid #e1e8ed;border-radius:8px;background:#fff;cursor:pointer;transition:all .3s ease;flex-shrink:0}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9ff;transform:scale(1.05)}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #667eea1a}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]   .sort-arrow[_ngcontent-%COMP%]{font-size:.9rem;color:#667eea;transition:transform .3s ease;display:inline-block}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]   .sort-arrow.asc[_ngcontent-%COMP%]{transform:rotate(180deg)}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:1}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin:0 0 .5rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:1rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{margin-left:1rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;border:1px solid #e1e8ed;transition:all .3s ease;box-shadow:0 4px 20px #00000014}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 32px #00000026}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 4px 15px #0003;border:2px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#2c3e50;margin:0 0 .25rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:600}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#64748b;font-weight:500;margin-bottom:.25rem;opacity:.8}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:700;color:#2c3e50}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{margin-bottom:1.5rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e1e8ed;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:600}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;margin:0 0 1rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;background:#fff;border-radius:12px;border:1px solid #e1e8ed;box-shadow:0 2px 10px #0000000d}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-header[_ngcontent-%COMP%]   .month-amount[_ngcontent-%COMP%]{font-weight:700;color:#667eea;font-size:1.1rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-bar[_ngcontent-%COMP%]{height:6px;background:#e1e8ed;border-radius:3px;overflow:hidden;margin-bottom:.5rem}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:3px;transition:width .3s ease}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem;color:#7f8c8d}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-count[_ngcontent-%COMP%]{font-weight:500}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-chart[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-percentage[_ngcontent-%COMP%]{font-weight:600}.analysis-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.analysis-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.analysis-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#2c3e50;margin:0 0 .5rem}.analysis-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:1rem}.top-categories-section[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:2rem;margin-bottom:2rem;box-shadow:0 20px 40px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.top-categories-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.top-categories-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin:0 0 .5rem}.top-categories-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:1rem}.top-categories-section[_ngcontent-%COMP%]   .top-categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:16px;padding:1.5rem;border:1px solid #e1e8ed;transition:all .3s ease;position:relative}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 15px 35px #0000001a}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .rank-badge[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;width:30px;height:30px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;box-shadow:0 4px 15px #667eea66}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;margin-bottom:1rem;box-shadow:0 4px 15px #0003}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#2c3e50;margin:0 0 .5rem}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#667eea;margin-bottom:.25rem}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-percentage[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:600}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-trend[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-items:center;gap:.5rem}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-trend[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1.2rem}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-trend[_ngcontent-%COMP%]   .trend-icon.trend-up[_ngcontent-%COMP%]{color:#e74c3c}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-trend[_ngcontent-%COMP%]   .trend-icon.trend-down[_ngcontent-%COMP%]{color:#27ae60}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-trend[_ngcontent-%COMP%]   .trend-icon.trend-new[_ngcontent-%COMP%]{color:#f39c12}.top-categories-section[_ngcontent-%COMP%]   .top-category-card[_ngcontent-%COMP%]   .category-trend[_ngcontent-%COMP%]   .trend-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;text-transform:capitalize}@media (max-width: 768px){.analysis-container[_ngcontent-%COMP%]{padding:1rem}.analysis-header[_ngcontent-%COMP%]{padding:1.5rem}.analysis-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.analysis-header[_ngcontent-%COMP%]   .analysis-title[_ngcontent-%COMP%]{font-size:2rem}.filters-section[_ngcontent-%COMP%]{padding:1.5rem}.filters-section[_ngcontent-%COMP%]   .filters-grid[_ngcontent-%COMP%], .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.analysis-section[_ngcontent-%COMP%]{padding:1.5rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{width:100%}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]{flex:1;min-width:0}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.analysis-section[_ngcontent-%COMP%]   .category-analysis[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);width:100%}.top-categories-section[_ngcontent-%COMP%]{padding:1.5rem}.top-categories-section[_ngcontent-%COMP%]   .top-categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.multiselect-container[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]{min-width:350px;max-width:85vw}}@media (max-width: 480px){.analysis-container[_ngcontent-%COMP%]{padding:.5rem}.analysis-header[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%], .analysis-section[_ngcontent-%COMP%], .top-categories-section[_ngcontent-%COMP%], .quick-actions-section[_ngcontent-%COMP%]{padding:1rem;border-radius:16px}.analysis-title[_ngcontent-%COMP%]{font-size:1.8rem}.summary-card[_ngcontent-%COMP%]{padding:1rem}.multiselect-container[_ngcontent-%COMP%]   .multiselect-options[_ngcontent-%COMP%]{min-width:300px;max-width:95vw}.category-item[_ngcontent-%COMP%]{padding:1rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]{padding:.4rem .75rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{font-size:.85rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{font-size:.9rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem 2rem .4rem .75rem;min-width:140px}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]{width:32px;height:32px}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-group[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-group[_ngcontent-%COMP%]   .sort-order-btn[_ngcontent-%COMP%]   .sort-arrow[_ngcontent-%COMP%]{font-size:.8rem}}.date-presets-section[_ngcontent-%COMP%]{margin-bottom:2rem}.date-presets-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem;font-size:1.2rem;font-weight:600}.date-presets-section[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.date-presets-section[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .preset-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e0e6ed;background:#fff;border-radius:25px;cursor:pointer;transition:all .3s ease;font-weight:500;color:#5a6c7d}.date-presets-section[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .preset-btn[_ngcontent-%COMP%]:hover{border-color:#667eea;color:#667eea;transform:translateY(-2px)}.date-presets-section[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .preset-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent;box-shadow:0 4px 15px #667eea66}.search-section[_ngcontent-%COMP%]{margin-bottom:2rem}.search-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem;font-size:1.2rem;font-weight:600}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;max-width:500px}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:1rem 3rem 1rem 1rem;border:2px solid #e0e6ed;border-radius:25px;font-size:1rem;transition:all .3s ease;background:#fff}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);font-size:1.2rem;color:#7f8c8d}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);font-size:1.2rem;color:#e74c3c;cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;font-weight:700}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{background-color:#e74c3c;color:#fff;transform:translateY(-50%) scale(1.1)}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:active{transform:translateY(-50%) scale(.95)}.filter-amount-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e0e6ed;border-radius:10px;font-size:1rem;transition:all .3s ease}.filter-amount-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.btn-clear-all[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#e74c3c;color:#fff;border:none;border-radius:20px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-clear-all[_ngcontent-%COMP%]:hover{background:#c0392b;transform:translateY(-2px)}.comparison-section[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:2rem;margin-bottom:2rem;box-shadow:0 10px 30px #0000001a}.comparison-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]{padding:1rem;border:2px solid #e0e6ed;border-radius:10px;cursor:pointer;transition:all .3s ease;text-align:center}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#667eea;transform:translateY(-2px)}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent;box-shadow:0 4px 15px #667eea66}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto .5rem;font-size:1.2rem}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-amount[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:10px;padding:1.5rem}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:#7f8c8d;margin-bottom:.25rem}.comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.category-item.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease}.category-item.clickable[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.clickable-month[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;position:relative}.clickable-month[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a;background:#667eea0d;border-radius:8px;padding:.5rem;margin:-.5rem}@keyframes _ngcontent-%COMP%_chartsFadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_chartCardFadeIn{0%{opacity:0}to{opacity:1}}.btn-charts[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;margin-right:1rem}.btn-charts[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #667eea4d}.btn-charts[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-charts[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea4d}.btn-charts.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);box-shadow:0 4px 15px #4facfe66}.btn-charts[_ngcontent-%COMP%]   .chart-icon[_ngcontent-%COMP%]{font-size:1.1rem}.show-charts-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:20px;padding:3rem 2rem;margin-bottom:2rem;box-shadow:0 12px 40px #00000014;border:2px solid rgba(102,126,234,.1);position:relative;overflow:hidden}.show-charts-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2,#f093fb)}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;z-index:2}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]{flex:1}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin-bottom:.75rem;display:flex;align-items:center;gap:.75rem}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f4ca";font-size:1.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;line-height:1.5;margin:0}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-controls[_ngcontent-%COMP%]{margin-left:2rem}.charts-section[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;margin-bottom:2rem;box-shadow:0 12px 40px #00000014;border:1px solid rgba(102,126,234,.1);position:relative;overflow:hidden;animation:_ngcontent-%COMP%_chartsFadeIn .3s ease-out;transform:translateY(0);opacity:1}.charts-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2,#f093fb)}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2.5rem;position:relative;z-index:2}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]{flex:1}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin-bottom:.75rem;display:flex;align-items:center;gap:.75rem}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f4ca";font-size:1.5rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;line-height:1.5;margin:0}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-controls[_ngcontent-%COMP%]{margin-left:2rem}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2.5rem;min-height:300px;contain:layout}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:16px;padding:2rem;border:1px solid rgba(102,126,234,.1);box-shadow:0 8px 32px #0000000f;position:relative;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);animation:_ngcontent-%COMP%_chartCardFadeIn .3s ease-out;animation-fill-mode:both}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#667eea,#764ba2,#f093fb);border-radius:16px 16px 0 0}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 16px 48px #0000001f}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#2c3e50;margin-bottom:.5rem;display:flex;align-items:center;gap:.75rem}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;line-height:1.5}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:320px;position:relative;background:#ffffff80;border-radius:12px;padding:1rem;border:1px solid rgba(102,126,234,.1)}.sparkline-section[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #e1e8ed}.sparkline-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2c3e50;margin-bottom:.75rem}.sparkline-section[_ngcontent-%COMP%]   .sparkline-container[_ngcontent-%COMP%]{height:60px;position:relative;background:#f8f9fa;border-radius:8px;padding:.5rem}@media (max-width: 768px){.show-charts-section[_ngcontent-%COMP%]{padding:1.5rem}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.show-charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-controls[_ngcontent-%COMP%]{margin-left:0}.charts-section[_ngcontent-%COMP%]{padding:1.5rem}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.charts-section[_ngcontent-%COMP%]   .charts-header[_ngcontent-%COMP%]   .charts-controls[_ngcontent-%COMP%]{margin-left:0}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{padding:1rem}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:250px}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.analysis-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{margin-left:0}.btn-charts[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.9rem;margin-right:.5rem}}@media (max-width: 480px){.show-charts-section[_ngcontent-%COMP%], .charts-section[_ngcontent-%COMP%]{padding:1rem}.charts-section[_ngcontent-%COMP%]   .charts-grid[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:200px}.sparkline-container[_ngcontent-%COMP%]{height:50px}}@media (max-width: 768px){.analysis-container[_ngcontent-%COMP%]{padding:1.5rem}.date-presets-section[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]{flex-direction:column}.date-presets-section[_ngcontent-%COMP%]   .preset-buttons[_ngcontent-%COMP%]   .preset-btn[_ngcontent-%COMP%]{text-align:center}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{max-width:100%}.comparison-section[_ngcontent-%COMP%]   .comparison-categories[_ngcontent-%COMP%], .comparison-section[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}`],changeDetection:0})};export{qn as ExpenseAnalysisComponent};
