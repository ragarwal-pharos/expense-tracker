var K5=Object.defineProperty,Y5=Object.defineProperties;var Q5=Object.getOwnPropertyDescriptors;var zf=Object.getOwnPropertySymbols,Z5=Object.getPrototypeOf,xO=Object.prototype.hasOwnProperty,EO=Object.prototype.propertyIsEnumerable,J5=Reflect.get;var MO=(n,e,t)=>e in n?K5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})xO.call(e,t)&&MO(n,t,e[t]);if(zf)for(var t of zf(e))EO.call(e,t)&&MO(n,t,e[t]);return n},fe=(n,e)=>Y5(n,Q5(e));var To=(n,e)=>{var t={};for(var r in n)xO.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&zf)for(var r of zf(n))e.indexOf(r)<0&&EO.call(n,r)&&(t[r]=n[r]);return t};var Ao=(n,e,t)=>J5(Z5(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Oy;function Hf(){return Oy}function Jr(n){let e=Oy;return Oy=n,e}var PO=Symbol("NotFound");function Ga(n){return n===PO||n?.name==="\u0275NotFound"}function Yf(n,e){return Object.is(n,e)}var Ut=null,qf=!1,Iy=1,X5=null,hn=Symbol("SIGNAL");function Oe(n){let e=Ut;return Ut=n,e}function Qf(){return Ut}var ks={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ka(n){if(qf)throw new Error("");if(Ut===null)return;Ut.consumerOnSignalRead(n);let e=Ut.nextProducerIndex++;if(eh(Ut),e<Ut.producerNode.length&&Ut.producerNode[e]!==n&&Xl(Ut)){let t=Ut.producerNode[e];Xf(t,Ut.producerIndexOfThis[e])}Ut.producerNode[e]!==n&&(Ut.producerNode[e]=n,Ut.producerIndexOfThis[e]=Xl(Ut)?IO(n,Ut,e):0),Ut.producerLastReadVersion[e]=n.version}function OO(){Iy++}function Zf(n){if(!(Xl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Iy)){if(!n.producerMustRecompute(n)&&!eu(n)){Kf(n);return}n.producerRecomputeValue(n),Kf(n)}}function Sy(n){if(n.liveConsumerNode===void 0)return;let e=qf;qf=!0;try{for(let t of n.liveConsumerNode)t.dirty||eL(t)}finally{qf=e}}function Dy(){return Ut?.consumerAllowSignalWrites!==!1}function eL(n){n.dirty=!0,Sy(n),n.consumerMarkedDirty?.(n)}function Kf(n){n.dirty=!1,n.lastCleanEpoch=Iy}function Rs(n){return n&&(n.nextProducerIndex=0),Oe(n)}function Ya(n,e){if(Oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Xl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function eu(n){eh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Zf(t),r!==t.version))return!0}return!1}function Jf(n){if(eh(n),Xl(n))for(let e=0;e<n.producerNode.length;e++)Xf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function IO(n,e,t){if(SO(n),n.liveConsumerNode.length===0&&DO(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=IO(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Xf(n,e){if(SO(n),n.liveConsumerNode.length===1&&DO(n))for(let r=0;r<n.producerNode.length;r++)Xf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];eh(i),i.producerIndexOfThis[r]=e}}function Xl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function eh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function SO(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function DO(n){return n.producerNode!==void 0}function th(n){X5?.(n)}function nh(n,e){let t=Object.create(tL);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zf(t),Ka(t),t.value===Jl)throw t.error;return t.value};return r[hn]=t,th(t),r}var Wf=Symbol("UNSET"),Gf=Symbol("COMPUTING"),Jl=Symbol("ERRORED"),tL=fe(z({},ks),{value:Wf,dirty:!0,error:null,equal:Yf,kind:"computed",producerMustRecompute(n){return n.value===Wf||n.value===Gf},producerRecomputeValue(n){if(n.value===Gf)throw new Error("");let e=n.value;n.value=Gf;let t=Rs(n),r,i=!1;try{r=n.computation(),Oe(null),i=e!==Wf&&e!==Jl&&r!==Jl&&n.equal(e,r)}catch(o){r=Jl,n.error=o}finally{Ya(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function nL(){throw new Error}var TO=nL;function AO(n){TO(n)}function Ty(n){TO=n}var rL=null;function Ay(n,e){let t=Object.create(rh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>kO(t);return r[hn]=t,th(t),[r,s=>Qa(t,s),s=>ky(t,s)]}function kO(n){return Ka(n),n.value}function Qa(n,e){Dy()||AO(n),n.equal(n.value,e)||(n.value=e,iL(n))}function ky(n,e){Dy()||AO(n),Qa(n,e(n.value))}var rh=fe(z({},ks),{equal:Yf,value:void 0,kind:"signal"});function iL(n){n.version++,OO(),Sy(n),rL?.(n)}function Me(n){return typeof n=="function"}function Za(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ih=Za(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ns(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Me(r))try{r()}catch(o){e=o instanceof ih?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RO(o)}catch(s){e=e??[],s instanceof ih?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ih(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RO(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ns(t,e)}remove(e){let{_finalizers:t}=this;t&&Ns(t,e),e instanceof n&&e._removeParent(this)}};ze.EMPTY=(()=>{let n=new ze;return n.closed=!0,n})();var Ry=ze.EMPTY;function oh(n){return n instanceof ze||n&&"closed"in n&&Me(n.remove)&&Me(n.add)&&Me(n.unsubscribe)}function RO(n){Me(n)?n():n.unsubscribe()}var Er={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ja={setTimeout(n,e,...t){let{delegate:r}=Ja;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ja;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function sh(n){Ja.setTimeout(()=>{let{onUnhandledError:e}=Er;if(e)e(n);else throw n})}function Fs(){}var NO=Ny("C",void 0,void 0);function FO(n){return Ny("E",void 0,n)}function LO(n){return Ny("N",n,void 0)}function Ny(n,e,t){return{kind:n,value:e,error:t}}var Ls=null;function Xa(n){if(Er.useDeprecatedSynchronousErrorHandling){let e=!Ls;if(e&&(Ls={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ls;if(Ls=null,t)throw r}}else n()}function VO(n){Er.useDeprecatedSynchronousErrorHandling&&Ls&&(Ls.errorThrown=!0,Ls.error=n)}var Vs=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oh(e)&&e.add(this)):this.destination=aL}static create(e,t,r){return new ec(e,t,r)}next(e){this.isStopped?Ly(LO(e),this):this._next(e)}error(e){this.isStopped?Ly(FO(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ly(NO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oL=Function.prototype.bind;function Fy(n,e){return oL.call(n,e)}var Vy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ah(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ah(r)}else ah(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ah(t)}}},ec=class extends Vs{constructor(e,t,r){super();let i;if(Me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Er.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fy(e.next,o),error:e.error&&Fy(e.error,o),complete:e.complete&&Fy(e.complete,o)}):i=e}this.destination=new Vy(i)}};function ah(n){Er.useDeprecatedSynchronousErrorHandling?VO(n):sh(n)}function sL(n){throw n}function Ly(n,e){let{onStoppedNotification:t}=Er;t&&Ja.setTimeout(()=>t(n,e))}var aL={closed:!0,next:Fs,error:sL,complete:Fs};var tc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qn(n){return n}function jy(...n){return Uy(n)}function Uy(n){return n.length===0?qn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=lL(t)?t:new ec(t,r,i);return Xa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=jO(r),new r((i,o)=>{let s=new ec({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[tc](){return this}pipe(...t){return Uy(t)(this)}toPromise(t){return t=jO(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function jO(n){var e;return(e=n??Er.Promise)!==null&&e!==void 0?e:Promise}function cL(n){return n&&Me(n.next)&&Me(n.error)&&Me(n.complete)}function lL(n){return n&&n instanceof Vs||cL(n)&&oh(n)}function By(n){return Me(n?.lift)}function Fe(n){return e=>{if(By(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,r,i){return new $y(n,e,t,r,i)}var $y=class extends Vs{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function nc(){return Fe((n,e)=>{let t=null;n._refCount++;let r=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var rc=class extends _e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,By(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return nc()(this)}};var UO=Za(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ch(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new UO}next(t){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ry:(this.currentObservers=null,o.push(t),new ze(()=>{this.currentObservers=null,Ns(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new ch(e,t),n})(),ch=class extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ry}};var Ke=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zy={now(){return(zy.delegate||Date).now()},delegate:void 0};var lh=class extends ze{constructor(e,t){super()}schedule(e,t=0){return this}};var tu={setInterval(n,e,...t){let{delegate:r}=tu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=tu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ic=class extends lh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return tu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&tu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ns(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};oc.now=zy.now;var sc=class extends oc{constructor(e,t=oc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Hy=new sc(ic);var uh=class extends ic{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var dh=class extends sc{};var qy=new dh(uh);var Rn=new _e(n=>n.complete());function BO(n){return n&&Me(n.schedule)}function $O(n){return n[n.length-1]}function fh(n){return Me($O(n))?n.pop():void 0}function ko(n){return BO($O(n))?n.pop():void 0}function Wy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function HO(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(m){s(m)}}function c(d){try{u(r.throw(d))}catch(m){s(m)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function zO(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function js(n){return this instanceof js?(this.v=n,this):new js(n)}function qO(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(C){return function(x){return Promise.resolve(x).then(C,m)}}function a(C,x){r[C]&&(i[C]=function(A){return new Promise(function(N,W){o.push([C,A,N,W])>1||c(C,A)})},x&&(i[C]=x(i[C])))}function c(C,x){try{u(r[C](x))}catch(A){v(o[0][3],A)}}function u(C){C.value instanceof js?Promise.resolve(C.value.v).then(d,m):v(o[0][2],C)}function d(C){c("next",C)}function m(C){c("throw",C)}function v(C,x){C(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function WO(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof zO=="function"?zO(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var hh=n=>n&&typeof n.length=="number"&&typeof n!="function";function gh(n){return Me(n?.then)}function ph(n){return Me(n[tc])}function mh(n){return Symbol.asyncIterator&&Me(n?.[Symbol.asyncIterator])}function _h(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yh=uL();function vh(n){return Me(n?.[yh])}function Ch(n){return qO(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield js(t.read());if(i)return yield js(void 0);yield yield js(r)}}finally{t.releaseLock()}})}function bh(n){return Me(n?.getReader)}function Ot(n){if(n instanceof _e)return n;if(n!=null){if(ph(n))return dL(n);if(hh(n))return fL(n);if(gh(n))return hL(n);if(mh(n))return GO(n);if(vh(n))return gL(n);if(bh(n))return pL(n)}throw _h(n)}function dL(n){return new _e(e=>{let t=n[tc]();if(Me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fL(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function hL(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sh)})}function gL(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function GO(n){return new _e(e=>{mL(n,e).catch(t=>e.error(t))})}function pL(n){return GO(Ch(n))}function mL(n,e){var t,r,i,o;return HO(this,void 0,void 0,function*(){try{for(t=WO(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ro(n,e=0){return Fe((t,r)=>{t.subscribe(Re(r,i=>Nn(r,n,()=>r.next(i),e),()=>Nn(r,n,()=>r.complete(),e),i=>Nn(r,n,()=>r.error(i),e)))})}function No(n,e=0){return Fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function KO(n,e){return Ot(n).pipe(No(e),Ro(e))}function YO(n,e){return Ot(n).pipe(No(e),Ro(e))}function QO(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ZO(n,e){return new _e(t=>{let r;return Nn(t,e,()=>{r=n[yh](),Nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}function wh(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{Nn(t,e,()=>{let r=n[Symbol.asyncIterator]();Nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function JO(n,e){return wh(Ch(n),e)}function XO(n,e){if(n!=null){if(ph(n))return KO(n,e);if(hh(n))return QO(n,e);if(gh(n))return YO(n,e);if(mh(n))return wh(n,e);if(vh(n))return ZO(n,e);if(bh(n))return JO(n,e)}throw _h(n)}function st(n,e){return e?XO(n,e):Ot(n)}function pe(...n){let e=ko(n);return st(n,e)}function ac(n,e){let t=Me(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function Gy(n){return!!n&&(n instanceof _e||Me(n.lift)&&Me(n.subscribe))}var Bi=Za(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ve(n,e){return Fe((t,r)=>{let i=0;t.subscribe(Re(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:_L}=Array;function yL(n,e){return _L(e)?n(...e):n(e)}function Mh(n){return ve(e=>yL(n,e))}var{isArray:vL}=Array,{getPrototypeOf:CL,prototype:bL,keys:wL}=Object;function xh(n){if(n.length===1){let e=n[0];if(vL(e))return{args:e,keys:null};if(ML(e)){let t=wL(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ML(n){return n&&typeof n=="object"&&CL(n)===bL}function Eh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function nu(...n){let e=ko(n),t=fh(n),{args:r,keys:i}=xh(n);if(r.length===0)return st([],e);let o=new _e(xL(r,e,i?s=>Eh(i,s):qn));return t?o.pipe(Mh(t)):o}function xL(n,e,t=qn){return r=>{e1(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)e1(e,()=>{let u=st(n[c],e),d=!1;u.subscribe(Re(r,m=>{o[c]=m,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function e1(n,e,t){n?Nn(t,n,e):e()}function t1(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,m=!1,v=()=>{m&&!c.length&&!u&&e.complete()},C=A=>u<r?x(A):c.push(A),x=A=>{o&&e.next(A),u++;let N=!1;Ot(t(A,d++)).subscribe(Re(e,W=>{i?.(W),o?C(W):e.next(W)},()=>{N=!0},void 0,()=>{if(N)try{for(u--;c.length&&u<r;){let W=c.shift();s?Nn(e,s,()=>x(W)):x(W)}v()}catch(W){e.error(W)}}))};return n.subscribe(Re(e,C,()=>{m=!0,v()})),()=>{a?.()}}function Mt(n,e,t=1/0){return Me(e)?Mt((r,i)=>ve((o,s)=>e(r,o,i,s))(Ot(n(r,i))),t):(typeof e=="number"&&(t=e),Fe((r,i)=>t1(r,i,n,t)))}function Fo(n=1/0){return Mt(qn,n)}function n1(){return Fo(1)}function cc(...n){return n1()(st(n,ko(n)))}function ru(n){return new _e(e=>{Ot(n()).subscribe(e)})}function Ky(...n){let e=fh(n),{args:t,keys:r}=xh(n),i=new _e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let m=!1;Ot(t[d]).subscribe(Re(o,v=>{m||(m=!0,u--),a[d]=v},()=>c--,void 0,()=>{(!c||!m)&&(u||o.next(r?Eh(r,a):a),o.complete())}))}});return e?i.pipe(Mh(e)):i}var $i=new _e(Fs);function xt(n,e){return Fe((t,r)=>{let i=0;t.subscribe(Re(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zi(n){return Fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Re(t,void 0,void 0,s=>{o=Ot(n(s,zi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function r1(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Re(s,d=>{let m=u++;c=a?n(c,d,m):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Lo(n,e){return Me(e)?Mt(n,e,1):Mt(n,1)}function Vo(n){return Fe((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Bt(n){return n<=0?()=>Rn:Fe((e,t)=>{let r=0;e.subscribe(Re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ph(n=EL){return Fe((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function EL(){return new Bi}function iu(n){return Fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xt((i,o)=>n(i,o,r)):qn,Bt(1),t?Vo(e):Ph(()=>new Bi))}function lc(n){return n<=0?()=>Rn:Fe((e,t)=>{let r=[];e.subscribe(Re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Yy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?xt((i,o)=>n(i,o,r)):qn,lc(1),t?Vo(e):Ph(()=>new Bi))}function Qy(n,e){return Fe(r1(n,e,arguments.length>=2,!0))}function Zy(...n){let e=ko(n);return Fe((t,r)=>{(e?cc(n,t,e):cc(n,t)).subscribe(r)})}function Ht(n,e){return Fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Re(r,c=>{i?.unsubscribe();let u=0,d=o++;Ot(n(c,d)).subscribe(i=Re(r,m=>r.next(e?e(c,m,d,u++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Oh(n){return Fe((e,t)=>{Ot(n).subscribe(Re(t,()=>t.complete(),Fs)),!t.closed&&e.subscribe(t)})}function qt(n,e,t){let r=Me(n)||e||t?{next:n,error:e,complete:t}:n;return r?Fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Re(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):qn}function i1(n){let e=Oe(null);try{return n()}finally{Oe(e)}}var Ah="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(Ki(e,t)),this.code=e}};function PL(n){return`NG0${Math.abs(n)}`}function Ki(n,e){return`${PL(n)}${e?": "+e:""}`}var Yi=globalThis;function He(n){for(let e in n)if(n[e]===He)return e;throw Error("")}function a1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wi).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function kh(n,e){return n?e?`${n} ${e}`:n:e||""}var OL=He({__forward_ref__:He});function On(n){return n.__forward_ref__=On,n.toString=function(){return Wi(this())},n}function Xt(n){return u0(n)?n():n}function u0(n){return typeof n=="function"&&n.hasOwnProperty(OL)&&n.__forward_ref__===On}function c1(n,e){n==null&&d0(e,n,null,"!=")}function d0(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wn(n){return{providers:n.providers||[],imports:n.imports||[]}}function lu(n){return IL(n,Rh)}function f0(n){return lu(n)!==null}function IL(n,e){return n.hasOwnProperty(e)&&n[e]||null}function SL(n){let e=n?.[Rh]??null;return e||null}function Xy(n){return n&&n.hasOwnProperty(Sh)?n[Sh]:null}var Rh=He({\u0275prov:He}),Sh=He({\u0275inj:He}),X=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function h0(n){return n&&!!n.\u0275providers}var g0=He({\u0275cmp:He}),p0=He({\u0275dir:He}),m0=He({\u0275pipe:He}),_0=He({\u0275mod:He}),au=He({\u0275fac:He}),Hs=He({__NG_ELEMENT_ID__:He}),o1=He({__NG_ENV_ID__:He});function Xr(n){return typeof n=="string"?n:n==null?"":String(n)}function Dh(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xr(n)}var y0=He({ngErrorCode:He}),l1=He({ngErrorMessage:He}),su=He({ngTokenPath:He});function v0(n,e){return u1("",-200,e)}function Nh(n,e){throw new U(-201,!1)}function DL(n,e){n[su]??=[];let t=n[su],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(c1(e.provide,"Token with multi: true should have a provide property"),r=Dh(e.provide)):r=Dh(e),t[0]!==r&&n[su].unshift(r)}function TL(n,e){let t=n[su],r=n[y0],i=n[l1]||n.message;return n.message=kL(i,r,t,e),n}function u1(n,e,t){let r=new U(e,n);return r[y0]=e,r[l1]=n,t&&(r[su]=t),r}function AL(n){return n[y0]}function kL(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Ki(e,`${n}${o}${i}`)}var e0;function d1(){return e0}function En(n){let e=e0;return e0=n,e}function C0(n,e,t){let r=lu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Nh(n,"Injector")}var RL={},Us=RL,t0="__NG_DI_FLAG__",n0=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Bs(t)||0;try{return this.injector.get(e,r&8?null:Us,r)}catch(i){if(Ga(i))return i;throw i}}};function NL(n,e=0){let t=Hf();if(t===void 0)throw new U(-203,!1);if(t===null)return C0(n,void 0,e);{let r=FL(e),i=t.retrieve(n,r);if(Ga(i)){if(r.optional)return null;throw i}return i}}function ne(n,e=0){return(d1()||NL)(Xt(n),e)}function j(n,e){return ne(n,Bs(e))}function Bs(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function FL(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function r0(n){let e=[];for(let t=0;t<n.length;t++){let r=Xt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=LL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function b0(n,e){return n[t0]=e,n.prototype[t0]=e,n}function LL(n){return n[t0]}function jo(n,e){let t=n.hasOwnProperty(au);return t?n[au]:null}function f1(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function h1(n){return n.flat(Number.POSITIVE_INFINITY)}function Fh(n,e){n.forEach(t=>Array.isArray(t)?Fh(t,e):e(t))}function w0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function uu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function g1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Lh(n,e,t){let r=dc(n,e);return r>=0?n[r|1]=t:(r=~r,g1(n,r,e,t)),r}function Vh(n,e){let t=dc(n,e);if(t>=0)return n[t|1]}function dc(n,e){return VL(n,e,1)}function VL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Bo={},Pn=[],Qi=new X(""),M0=new X("",-1),x0=new X(""),cu=class{get(e,t=Us){if(t===Us){let i=u1("",-201);throw i.name="\u0275NotFound",i}return t}};function E0(n){return n[_0]||null}function Zi(n){return n[g0]||null}function P0(n){return n[p0]||null}function p1(n){return n[m0]||null}function Gt(n){return{\u0275providers:n}}function m1(n){return Gt([{provide:Qi,multi:!0,useValue:n}])}function _1(...n){return{\u0275providers:O0(!0,n),\u0275fromNgModule:!0}}function O0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Fh(e,s=>{let a=s;Th(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&y1(i,o),t}function y1(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];I0(i,o=>{e(o,r)})}}function Th(n,e,t,r){if(n=Xt(n),!n)return!1;let i=null,o=Xy(n),s=!o&&Zi(n);if(!o&&!s){let c=n.ngModule;if(o=Xy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Th(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Fh(o.imports,d=>{Th(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&y1(u,e)}if(!a){let u=jo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Pn},i),e({provide:x0,useValue:i,multi:!0},i),e({provide:Qi,useValue:()=>ne(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;I0(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function I0(n,e){for(let t of n)h0(t)&&(t=t.\u0275providers),Array.isArray(t)?I0(t,e):e(t)}var jL=He({provide:String,useValue:He});function v1(n){return n!==null&&typeof n=="object"&&jL in n}function UL(n){return!!(n&&n.useExisting)}function BL(n){return!!(n&&n.useFactory)}function $s(n){return typeof n=="function"}function C1(n){return!!n.useClass}var du=new X(""),Ih={},s1={},Jy;function fu(){return Jy===void 0&&(Jy=new cu),Jy}var Et=class{},zs=class extends Et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,o0(e,s=>this.processProvider(s)),this.records.set(M0,uc(void 0,this)),i.has("environment")&&this.records.set(Et,uc(void 0,this));let o=this.records.get(du);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(x0,Pn,{self:!0}))}retrieve(e,t){let r=Bs(t)||0;try{return this.get(e,Us,r)}catch(i){if(Ga(i))return i;throw i}}destroy(){ou(this),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return ou(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ou(this);let t=Jr(this),r=En(void 0),i;try{return e()}finally{Jr(t),En(r)}}get(e,t=Us,r){if(ou(this),e.hasOwnProperty(o1))return e[o1](this);let i=Bs(r),o,s=Jr(this),a=En(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=WL(e)&&lu(e);d&&this.injectableDefInScope(d)?u=uc(i0(e),Ih):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?fu():this.parent;return t=i&8&&t===Us?null:t,c.get(e,t)}catch(c){let u=AL(c);throw u===-200||u===-201?new U(u,null):c}finally{En(a),Jr(s)}}resolveInjectorInitializers(){let e=Oe(null),t=Jr(this),r=En(void 0),i;try{let o=this.get(Qi,Pn,{self:!0});for(let s of o)s()}finally{Jr(t),En(r),Oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xt(e);let t=$s(e)?e:Xt(e&&e.provide),r=zL(e);if(!$s(e)&&e.multi===!0){let i=this.records.get(t);i||(i=uc(void 0,Ih,!0),i.factory=()=>r0(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Oe(null);try{if(t.value===s1)throw v0(Wi(e));return t.value===Ih&&(t.value=s1,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&qL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Xt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function i0(n){let e=lu(n),t=e!==null?e.factory:jo(n);if(t!==null)return t;if(n instanceof X)throw new U(204,!1);if(n instanceof Function)return $L(n);throw new U(204,!1)}function $L(n){if(n.length>0)throw new U(204,!1);let t=SL(n);return t!==null?()=>t.factory(n):()=>new n}function zL(n){if(v1(n))return uc(void 0,n.useValue);{let e=S0(n);return uc(e,Ih)}}function S0(n,e,t){let r;if($s(n)){let i=Xt(n);return jo(i)||i0(i)}else if(v1(n))r=()=>Xt(n.useValue);else if(BL(n))r=()=>n.useFactory(...r0(n.deps||[]));else if(UL(n))r=(i,o)=>ne(Xt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Xt(n&&(n.useClass||n.provide));if(HL(n))r=()=>new i(...r0(n.deps));else return jo(i)||i0(i)}return r}function ou(n){if(n.destroyed)throw new U(205,!1)}function uc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function HL(n){return!!n.deps}function qL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function WL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function o0(n,e){for(let t of n)Array.isArray(t)?o0(t,e):t&&h0(t)?o0(t.\u0275providers,e):e(t)}function It(n,e){let t;n instanceof zs?(ou(n),t=n):t=new n0(n);let r,i=Jr(t),o=En(void 0);try{return e()}finally{Jr(i),En(o)}}function b1(){return d1()!==void 0||Hf()!=null}var Or=0,ye=1,Ce=2,Wt=3,or=4,sr=5,hu=6,fc=7,gn=8,qs=9,ei=10,ft=11,hc=12,D0=13,Ws=14,ar=15,$o=16,Gs=17,ti=18,gu=19,T0=20,qi=21,jh=22,pu=23,Gn=24,Ks=25,en=26,w1=1;var zo=7,mu=8,Ys=9,In=10;function ni(n){return Array.isArray(n)&&typeof n[w1]=="object"}function Ir(n){return Array.isArray(n)&&n[w1]===!0}function A0(n){return(n.flags&4)!==0}function Ho(n){return n.componentOffset>-1}function _u(n){return(n.flags&1)===1}function ri(n){return!!n.template}function gc(n){return(n[Ce]&512)!==0}function Qs(n){return(n[Ce]&256)===256}var k0="svg",M1="math";function cr(n){for(;Array.isArray(n);)n=n[Or];return n}function R0(n,e){return cr(e[n])}function Sr(n,e){return cr(e[n.index])}function Uh(n,e){return n.data[e]}function Bh(n,e){return n[e]}function N0(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function lr(n,e){let t=e[n];return ni(t)?t:t[Or]}function x1(n){return(n[Ce]&4)===4}function $h(n){return(n[Ce]&128)===128}function E1(n){return Ir(n[Wt])}function yu(n,e){return e==null?null:n[e]}function F0(n){n[Gs]=0}function L0(n){n[Ce]&1024||(n[Ce]|=1024,$h(n)&&pc(n))}function P1(n,e){for(;n>0;)e=e[Ws],n--;return e}function vu(n){return!!(n[Ce]&9216||n[Gn]?.dirty)}function zh(n){n[ei].changeDetectionScheduler?.notify(8),n[Ce]&64&&(n[Ce]|=1024),vu(n)&&pc(n)}function pc(n){n[ei].changeDetectionScheduler?.notify(0);let e=Uo(n);for(;e!==null&&!(e[Ce]&8192||(e[Ce]|=8192,!$h(e)));)e=Uo(e)}function V0(n,e){if(Qs(n))throw new U(911,!1);n[qi]===null&&(n[qi]=[]),n[qi].push(e)}function O1(n,e){if(n[qi]===null)return;let t=n[qi].indexOf(e);t!==-1&&n[qi].splice(t,1)}function Uo(n){let e=n[Wt];return Ir(e)?e[Wt]:e}function j0(n){return n[fc]??=[]}function U0(n){return n.cleanup??=[]}function I1(n,e,t,r){let i=j0(e);i.push(t),n.firstCreatePass&&U0(n).push(r,i.length-1)}var Ee={lFrame:H1(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Cu=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Cu||{}),GL=0,s0=!1;function S1(){return Ee.lFrame.elementDepthCount}function D1(){Ee.lFrame.elementDepthCount++}function T1(){Ee.lFrame.elementDepthCount--}function B0(){return Ee.bindingsEnabled}function A1(){return Ee.skipHydrationRootTNode!==null}function k1(n){return Ee.skipHydrationRootTNode===n}function R1(){Ee.skipHydrationRootTNode=null}function Te(){return Ee.lFrame.lView}function tn(){return Ee.lFrame.tView}function L(n){return Ee.lFrame.contextLView=n,n[gn]}function V(n){return Ee.lFrame.contextLView=null,n}function nn(){let n=$0();for(;n!==null&&n.type===64;)n=n.parent;return n}function $0(){return Ee.lFrame.currentTNode}function N1(){let n=Ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function mc(n,e){let t=Ee.lFrame;t.currentTNode=n,t.isParent=e}function z0(){return Ee.lFrame.isParent}function F1(){Ee.lFrame.isParent=!1}function L1(){return Ee.lFrame.contextLView}function H0(n){d0("Must never be called in production mode"),GL=n}function q0(){return s0}function W0(n){let e=s0;return s0=n,e}function Hh(){let n=Ee.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function G0(){return Ee.lFrame.bindingIndex}function V1(n){return Ee.lFrame.bindingIndex=n}function bu(){return Ee.lFrame.bindingIndex++}function wu(n){let e=Ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function j1(){return Ee.lFrame.inI18n}function U1(n,e){let t=Ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,qh(e)}function B1(){return Ee.lFrame.currentDirectiveIndex}function qh(n){Ee.lFrame.currentDirectiveIndex=n}function $1(n){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function K0(){return Ee.lFrame.currentQueryIndex}function Wh(n){Ee.lFrame.currentQueryIndex=n}function KL(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[sr]:null}function Y0(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=KL(o),i===null||(o=o[Ws],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ee.lFrame=z1();return r.currentTNode=e,r.lView=n,!0}function Gh(n){let e=z1(),t=n[ye];Ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function z1(){let n=Ee.lFrame,e=n===null?null:n.child;return e===null?H1(n):e}function H1(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function q1(){let n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Q0=q1;function Kh(){let n=q1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function W1(n){return(Ee.lFrame.contextLView=P1(n,Ee.lFrame.contextLView))[gn]}function ii(){return Ee.lFrame.selectedIndex}function qo(n){Ee.lFrame.selectedIndex=n}function Yh(){let n=Ee.lFrame;return Uh(n.tView,n.selectedIndex)}function _c(){Ee.lFrame.currentNamespace=k0}function yc(){YL()}function YL(){Ee.lFrame.currentNamespace=null}function G1(){return Ee.lFrame.currentNamespace}var K1=!0;function Qh(){return K1}function Zh(n){K1=n}function a0(n,e=null,t=null,r){let i=Z0(n,e,t,r);return i.resolveInjectorInitializers(),i}function Z0(n,e=null,t=null,r,i=new Set){let o=[t||Pn,_1(n)];return r=r||(typeof n=="object"?void 0:Wi(n)),new zs(o,e||fu(),r||null,i)}var Je=class n{static THROW_IF_NOT_FOUND=Us;static NULL=new cu;static create(e,t){if(Array.isArray(e))return a0({name:""},t,e,"");{let r=e.name??"";return a0({name:r},e.parent,e.providers,r)}}static \u0275prov=Y({token:n,providedIn:"any",factory:()=>ne(M0)});static __NG_ELEMENT_ID__=-1},ht=new X(""),ur=(()=>{class n{static __NG_ELEMENT_ID__=QL;static __NG_ENV_ID__=t=>t}return n})(),c0=class extends ur{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Qs(this._lView)}onDestroy(e){let t=this._lView;return V0(t,e),()=>O1(t,e)}};function QL(){return new c0(Te())}var Pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},pn=new X("",{providedIn:"root",factory:()=>{let n=j(Et),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Pr),e.handleError(t))}}}),Y1={provide:Qi,useValue:()=>void j(Pr),multi:!0},ZL=new X("",{providedIn:"root",factory:()=>{let n=j(ht).defaultView;if(!n)return;let e=j(pn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),j(ur).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function J0(){return Gt([m1(()=>void j(ZL))])}function X0(n){return typeof n=="function"&&n[hn]!==void 0}function oi(n,e){let[t,r,i]=Ay(n,e?.equal),o=t,s=o[hn];return o.set=r,o.update=i,o.asReadonly=Q1.bind(o),o}function Q1(){let n=this[hn];if(n.readonlyFn===void 0){let e=()=>this();e[hn]=n,n.readonlyFn=e}return n.readonlyFn}function ev(n){return X0(n)&&typeof n.set=="function"}var Gi=class{},Mu=new X("",{providedIn:"root",factory:()=>!1});var tv=new X(""),nv=new X("");var Jh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=JL}return n})();function JL(){return new Jh(Te(),nn())}var si=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})(),vc=(()=>{class n{internalPendingTasks=j(si);scheduler=j(Gi);errorHandler=j(pn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})();function xu(...n){}var rv=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new l0})}return n})(),l0=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function xc(n){return{toString:n}.toString()}var Xh="__parameters__";function iV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function OI(n,e,t){return xc(()=>{let r=iV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let m=c.hasOwnProperty(Xh)?c[Xh]:Object.defineProperty(c,Xh,{value:[]})[Xh];for(;m.length<=d;)m.push(null);return(m[d]=m[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var St=b0(OI("Optional"),8);var Bv=b0(OI("SkipSelf"),4);function oV(n){return typeof n=="function"}var sg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function II(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var li=(()=>{let n=()=>SI;return n.ngInherit=!0,n})();function SI(n){return n.type.prototype.ngOnChanges&&(n.setInput=aV),sV}function sV(){let n=TI(this),e=n?.current;if(e){let t=n.previous;if(t===Bo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function aV(n,e,t,r,i){let o=this.declaredInputs[r],s=TI(n)||cV(n,{previous:Bo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new sg(u&&u.currentValue,t,c===Bo),II(n,e,i,t)}var DI="__ngSimpleChanges__";function TI(n){return n[DI]||null}function cV(n,e){return n[DI]=e}var Z1=[];var We=function(n,e=null,t){for(let r=0;r<Z1.length;r++){let i=Z1[r];i(n,e,t)}};function lV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=SI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function AI(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function ng(n,e,t){kI(n,e,3,t)}function rg(n,e,t,r){(n[Ce]&3)===t&&kI(n,e,t,r)}function iv(n,e){let t=n[Ce];(t&3)===e&&(t&=16383,t+=1,n[Ce]=t)}function kI(n,e,t,r){let i=r!==void 0?n[Gs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Gs]+=65536),(a<o||o==-1)&&(uV(n,t,e,c),n[Gs]=(n[Gs]&4294901760)+c+2),c++}function J1(n,e){We(4,n,e);let t=Oe(null);try{e.call(n)}finally{Oe(t),We(5,n,e)}}function uV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Ce]>>14<n[Gs]>>16&&(n[Ce]&3)===e&&(n[Ce]+=16384,J1(a,o)):J1(a,o)}var bc=-1,Xs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function dV(n){return(n.flags&8)!==0}function fV(n){return(n.flags&16)!==0}function hV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];gV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function RI(n){return n===3||n===4||n===6}function gV(n){return n.charCodeAt(0)===64}function Ou(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?X1(n,t,i,null,e[++r]):X1(n,t,i,null,null))}}return n}function X1(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function NI(n){return n!==bc}function ag(n){return n&32767}function pV(n){return n>>16}function cg(n,e){let t=pV(n),r=e;for(;t>0;)r=r[Ws],t--;return r}var pv=!0;function lg(n){let e=pv;return pv=n,e}var mV=256,FI=mV-1,LI=5,_V=0,ai={};function yV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hs)&&(r=t[Hs]),r==null&&(r=t[Hs]=_V++);let i=r&FI,o=1<<i;e.data[n+(i>>LI)]|=o}function ug(n,e){let t=VI(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,ov(r.data,n),ov(e,null),ov(r.blueprint,null));let i=$v(n,e),o=n.injectorIndex;if(NI(i)){let s=ag(i),a=cg(i,e),c=a[ye].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function ov(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function $v(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=zI(i),r===null)return bc;if(t++,i=i[Ws],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return bc}function mv(n,e,t){yV(n,e,t)}function vV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(RI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function jI(n,e,t){if(t&8||n!==void 0)return n;Nh(e,"NodeInjector")}function UI(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[qs],o=En(void 0);try{return i?i.get(e,r,t&8):C0(e,r,t&8)}finally{En(o)}}return jI(r,e,t)}function BI(n,e,t,r=0,i){if(n!==null){if(e[Ce]&2048&&!(r&2)){let s=MV(n,e,t,r,ai);if(s!==ai)return s}let o=$I(n,e,t,r,ai);if(o!==ai)return o}return UI(e,t,r,i)}function $I(n,e,t,r,i){let o=bV(t);if(typeof o=="function"){if(!Y0(e,n,r))return r&1?jI(i,t,r):UI(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Nh(t);else return s}finally{Q0()}}else if(typeof o=="number"){let s=null,a=VI(n,e),c=bc,u=r&1?e[ar][sr]:null;for((a===-1||r&4)&&(c=a===-1?$v(n,e):e[a+8],c===bc||!tI(r,!1)?a=-1:(s=e[ye],a=ag(c),e=cg(c,e)));a!==-1;){let d=e[ye];if(eI(o,a,d.data)){let m=CV(a,e,t,s,r,u);if(m!==ai)return m}c=e[a+8],c!==bc&&tI(r,e[ye].data[a+8]===u)&&eI(o,a,e)?(s=d,a=ag(c),e=cg(c,e)):a=-1}}return i}function CV(n,e,t,r,i,o){let s=e[ye],a=s.data[n+8],c=r==null?Ho(a)&&pv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=ig(a,s,t,c,u);return d!==null?Iu(e,s,d,a,i):ai}function ig(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,m=r?a:a+d,v=i?a+d:u;for(let C=m;C<v;C++){let x=s[C];if(C<c&&t===x||C>=c&&x.type===t)return C}if(i){let C=s[c];if(C&&ri(C)&&C.type===t)return c}return null}function Iu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Xs){let a=o;if(a.resolving){let C=Dh(s[t]);throw v0(C)}let c=lg(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,m=a.injectImpl?En(a.injectImpl):null,v=Y0(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&lV(t,s[t],e)}finally{m!==null&&En(m),lg(c),a.resolving=!1,Q0()}}return o}function bV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hs)?n[Hs]:void 0;return typeof e=="number"?e>=0?e&FI:wV:e}function eI(n,e,t){let r=1<<n;return!!(t[e+(n>>LI)]&r)}function tI(n,e){return!(n&2)&&!(n&1&&e)}var Js=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return BI(this._tNode,this._lView,e,Bs(r),t)}};function wV(){return new Js(nn(),Te())}function dr(n){return xc(()=>{let e=n.prototype.constructor,t=e[au]||_v(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[au]||_v(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _v(n){return u0(n)?()=>{let e=_v(Xt(n));return e&&e()}:jo(n)}function MV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Ce]&2048&&!gc(s);){let a=$I(o,s,t,r|2,ai);if(a!==ai)return a;let c=o.parent;if(!c){let u=s[T0];if(u){let d=u.get(t,ai,r);if(d!==ai)return d}c=zI(s),s=s[Ws]}o=c}return i}function zI(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[sr]:null}function Au(n){return vV(nn(),n)}function xV(){return Ec(nn(),Te())}function Ec(n,e){return new rn(Sr(n,e))}var rn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=xV}return n})();function EV(n){return n instanceof rn?n.nativeElement:n}function PV(){return this._results[Symbol.iterator]()}var dg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ot}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=h1(e);(this._changesDetected=!f1(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PV};function HI(n){return(n.flags&128)===128}var zv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zv||{}),qI=new Map,OV=0;function IV(){return OV++}function SV(n){qI.set(n[gu],n)}function yv(n){qI.delete(n[gu])}var nI="__ngContext__";function wc(n,e){ni(e)?(n[nI]=e[gu],SV(e)):n[nI]=e}function WI(n){return KI(n[hc])}function GI(n){return KI(n[or])}function KI(n){for(;n!==null&&!Ir(n);)n=n[or];return n}var vv;function Hv(n){vv=n}function YI(){if(vv!==void 0)return vv;if(typeof document<"u")return document;throw new U(210,!1)}var Mg=new X("",{providedIn:"root",factory:()=>DV}),DV="ng",xg=new X(""),Ko=new X("",{providedIn:"platform",factory:()=>"unknown"});var Eg=new X(""),Pg=new X("",{providedIn:"root",factory:()=>YI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TV="h",AV="b";var QI=!1,ZI=new X("",{providedIn:"root",factory:()=>QI});var kV=(n,e,t,r)=>{};function RV(n,e,t,r){kV(n,e,t,r)}function qv(n){return(n.flags&32)===32}var NV=()=>null;function JI(n,e,t=!1){return NV(n,e,t)}function XI(n,e){let t=n.contentQueries;if(t!==null){let r=Oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Wh(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function Cv(n,e,t){Wh(0);let r=Oe(null);try{e(n,t)}finally{Oe(r)}}function eS(n,e,t){if(A0(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Oe(r)}}}var Ji=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ji||{});var eg;function FV(){if(eg===void 0&&(eg=null,Yi.trustedTypes))try{eg=Yi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return eg}function rI(n){return FV()?.createScriptURL(n)||n}var fg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ah})`}};function Pc(n){return n instanceof fg?n.changingThisBreaksApplicationSecurity:n}function Wv(n,e){let t=tS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ah})`)}return t===e}function tS(n){return n instanceof fg&&n.getTypeName()||null}var LV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nS(n){return n=String(n),n.match(LV)?n:"unsafe:"+n}var Og=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Og||{});function rS(n){let e=oS();return e?e.sanitize(Og.URL,n)||"":Wv(n,"URL")?Pc(n):nS(Xr(n))}function iS(n){let e=oS();if(e)return rI(e.sanitize(Og.RESOURCE_URL,n)||"");if(Wv(n,"ResourceURL"))return rI(Pc(n));throw new U(904,!1)}function VV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?iS:rS}function Gv(n,e,t){return VV(e,t)(n)}function oS(){let n=Te();return n&&n[ei].sanitizer}function sS(n){return n instanceof Function?n():n}function jV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var aS="ng-template";function UV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Kv(n){return n.type===4&&n.value!==aS}function BV(n,e,t){let r=n.type===4&&!t?aS:n.value;return e===r}function $V(n,e,t){let r=4,i=n.attrs,o=i!==null?qV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Dr(r)&&!Dr(c))return!1;if(s&&Dr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!BV(n,c,t)||c===""&&e.length===1){if(Dr(r))return!1;s=!0}}else if(r&8){if(i===null||!UV(n,i,c,t)){if(Dr(r))return!1;s=!0}}else{let u=e[++a],d=zV(c,i,Kv(n),t);if(d===-1){if(Dr(r))return!1;s=!0;continue}if(u!==""){let m;if(d>o?m="":m=i[d+1].toLowerCase(),r&2&&u!==m){if(Dr(r))return!1;s=!0}}}}return Dr(r)||s}function Dr(n){return(n&1)===0}function zV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WV(e,n)}function HV(n,e,t=!1){for(let r=0;r<e.length;r++)if($V(n,e[r],t))return!0;return!1}function qV(n){for(let e=0;e<n.length;e++){let t=n[e];if(RI(t))return e}return n.length}function WV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function iI(n,e){return n?":not("+e.trim()+")":e}function GV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dr(s)&&(e+=iI(o,i),i=""),r=s,o=o||!Dr(r);t++}return i!==""&&(e+=iI(o,i)),e}function KV(n){return n.map(GV).join(",")}function YV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Dr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Sn={};function QV(n,e){return n.createText(e)}function ZV(n,e,t){n.setValue(e,t)}function cS(n,e,t){return n.createElement(e,t)}function hg(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lS(n,e,t){n.appendChild(e,t)}function oI(n,e,t,r,i){r!==null?hg(n,e,t,r,i):lS(n,e,t)}function JV(n,e,t){n.removeChild(null,e,t)}function XV(n,e,t){n.setAttribute(e,"style",t)}function e3(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&hV(n,e,r),i!==null&&e3(n,e,i),o!==null&&XV(n,e,o)}function Yv(n,e,t,r,i,o,s,a,c,u,d){let m=en+r,v=m+i,C=t3(m,v),x=typeof u=="function"?u():u;return C[ye]={type:n,blueprint:C,template:t,queries:null,viewQuery:a,declTNode:e,data:C.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1,ssrId:d}}function t3(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Sn);return t}function n3(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Yv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qv(n,e,t,r,i,o,s,a,c,u,d){let m=e.blueprint.slice();return m[Or]=i,m[Ce]=r|4|128|8|64|1024,(u!==null||n&&n[Ce]&2048)&&(m[Ce]|=2048),F0(m),m[Wt]=m[Ws]=n,m[gn]=t,m[ei]=s||n&&n[ei],m[ft]=a||n&&n[ft],m[qs]=c||n&&n[qs]||null,m[sr]=o,m[gu]=IV(),m[hu]=d,m[T0]=u,m[ar]=e.type==2?n[ar]:m,m}function r3(n,e,t){let r=Sr(e,n),i=n3(t),o=n[ei].rendererFactory,s=Zv(n,Qv(n,i,null,dS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function dS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function fS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Zv(n,e){return n[hc]?n[D0][or]=e:n[hc]=e,n[D0]=e,e}function y(n=1){hS(tn(),Te(),ii()+n,!1)}function hS(n,e,t,r){if(!r)if((e[Ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ng(e,o,t)}else{let o=n.preOrderHooks;o!==null&&rg(e,o,0,t)}qo(t)}var Ig=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ig||{});function bv(n,e,t,r){let i=Oe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Ig.SignalBased)!==0&&(c=e[o][hn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):II(e,c,o,r)}finally{Oe(i)}}var Ar=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ar||{}),i3;function Jv(n,e){return i3(n,e)}function Cc(n,e,t,r,i){if(r!=null){let o,s=!1;Ir(r)?o=r:ni(r)&&(s=!0,r=r[Or]);let a=cr(r);n===0&&t!==null?i==null?lS(e,t,a):hg(e,t,a,i||null,!0):n===1&&t!==null?hg(e,t,a,i||null,!0):n===2?JV(e,a,s):n===3&&e.destroyNode(a),o!=null&&m3(e,n,o,t,i)}}function o3(n,e){gS(n,e),e[Or]=null,e[sr]=null}function s3(n,e,t,r,i,o){r[Or]=i,r[sr]=e,Sg(n,r,t,1,i,o)}function gS(n,e){e[ei].changeDetectionScheduler?.notify(9),Sg(n,e,e[ft],2,null,null)}function a3(n){let e=n[hc];if(!e)return sv(n[ye],n);for(;e;){let t=null;if(ni(e))t=e[hc];else{let r=e[In];r&&(t=r)}if(!t){for(;e&&!e[or]&&e!==n;)ni(e)&&sv(e[ye],e),e=e[Wt];e===null&&(e=n),ni(e)&&sv(e[ye],e),t=e&&e[or]}e=t}}function Xv(n,e){let t=n[Ys],r=t.indexOf(e);t.splice(r,1)}function pS(n,e){if(Qs(e))return;let t=e[ft];t.destroyNode&&Sg(n,e,t,3,null,null),a3(e)}function sv(n,e){if(Qs(e))return;let t=Oe(null);try{e[Ce]&=-129,e[Ce]|=256,e[Gn]&&Jf(e[Gn]),l3(n,e),c3(n,e),e[ye].type===1&&e[ft].destroy();let r=e[$o];if(r!==null&&Ir(e[Wt])){r!==e[Wt]&&Xv(r,e);let i=e[ti];i!==null&&i.detachView(n)}yv(e)}finally{Oe(t)}}function c3(n,e){let t=n.cleanup,r=e[fc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fc]=null);let i=e[qi];if(i!==null){e[qi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[pu];if(o!==null){e[pu]=null;for(let s of o)s.destroy()}}function l3(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Xs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];We(4,a,c);try{c.call(a)}finally{We(5,a,c)}}else{We(4,i,o);try{o.call(i)}finally{We(5,i,o)}}}}}function u3(n,e,t){return d3(n,e.parent,t)}function d3(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Or];if(Ho(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ji.None||i===Ji.Emulated)return null}return Sr(r,t)}function f3(n,e,t){return g3(n,e,t)}function h3(n,e,t){return n.type&40?Sr(n,t):null}var g3=h3,sI;function eC(n,e,t,r){let i=u3(n,r,e),o=e[ft],s=r.parent||e[sr],a=f3(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)oI(o,i,t[c],a,!1);else oI(o,i,t,a,!1);sI!==void 0&&sI(o,r,e,t,i)}function Eu(n,e){if(e!==null){let t=e.type;if(t&3)return Sr(e,n);if(t&4)return wv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Eu(n,r);{let i=n[e.index];return Ir(i)?wv(-1,i):cr(i)}}else{if(t&128)return Eu(n,e.next);if(t&32)return Jv(e,n)()||cr(n[e.index]);{let r=mS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Uo(n[ar]);return Eu(i,r)}else return Eu(n,e.next)}}}return null}function mS(n,e){if(e!==null){let r=n[ar][sr],i=e.projection;return r.projection[i]}return null}function wv(n,e){let t=In+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return Eu(r,i)}return e[zo]}function tC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&wc(cr(a),r),t.flags|=2),!qv(t))if(c&8)tC(n,e,t.child,r,i,o,!1),Cc(e,n,i,a,o);else if(c&32){let u=Jv(t,r),d;for(;d=u();)Cc(e,n,i,d,o);Cc(e,n,i,a,o)}else c&16?p3(n,e,r,t,i,o):Cc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Sg(n,e,t,r,i,o){tC(t,r,n.firstChild,e,i,o,!1)}function p3(n,e,t,r,i,o){let s=t[ar],c=s[sr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Cc(e,n,i,d,o)}else{let u=c,d=s[Wt];HI(r)&&(u.flags|=128),tC(n,e,u,d,i,o,!0)}}function m3(n,e,t,r,i){let o=t[zo],s=cr(t);o!==s&&Cc(e,n,r,o,i);for(let a=In;a<t.length;a++){let c=t[a];Sg(c[ye],c,n,e,r,o)}}function _3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),n.setStyle(t,r,i,o))}}function _S(n,e,t,r,i){let o=ii(),s=r&2;try{qo(-1),s&&e.length>en&&hS(n,e,en,!1),We(s?2:0,i,t),t(r,i)}finally{qo(o),We(s?3:1,i,t)}}function nC(n,e,t){x3(n,e,t),(t.flags&64)===64&&E3(n,e,t)}function yS(n,e,t=Sr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function y3(n,e,t,r){let o=r.get(ZI,QI)||t===Ji.ShadowDom,s=n.selectRootElement(e,o);return v3(s),s}function v3(n){C3(n)}var C3=()=>null;function b3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function vS(n,e,t,r,i,o){let s=e[ye];if(rC(n,s,e,t,r)){Ho(n)&&M3(e,n.index);return}n.type&3&&(t=b3(t)),w3(n,e,t,r,i,o)}function w3(n,e,t,r,i,o){if(n.type&3){let s=Sr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function M3(n,e){let t=lr(e,n);t[Ce]&16||(t[Ce]|=64)}function x3(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ho(t)&&r3(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ug(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Iu(e,n,s,t);if(wc(c,e),o!==null&&S3(e,s-r,c,a,t,o),ri(a)){let u=lr(t.index,e);u[gn]=Iu(e,n,s,t)}}}function E3(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=B1();try{qo(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];qh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&P3(c,u)}}finally{qo(-1),qh(s)}}function P3(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function CS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];HV(e,o.selectors,!1)&&(r??=[],ri(o)?r.unshift(o):r.push(o))}return r}function O3(n,e,t,r,i,o){let s=Sr(n,e);I3(e[ft],s,o,n.value,t,r,i)}function I3(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Xr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function S3(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];bv(r,t,c,u)}}function D3(n,e,t,r,i){let o=en+t,s=e[ye],a=i(s,e,n,r,t);e[o]=a,mc(n,!0);let c=n.type===2;return c?(uS(e[ft],a,n),(S1()===0||_u(n))&&wc(a,e),D1()):wc(a,e),Qh()&&(!c||!qv(n))&&eC(s,e,a,n),n}function T3(n){let e=n;return z0()?F1():(e=e.parent,mc(e,!1)),e}function A3(n,e){let t=n[qs];if(!t)return;t.get(pn,null)?.(e)}function rC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],m=e.data[u];bv(m,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];bv(d,u,r,i),a=!0}return a}function k3(n,e){let t=lr(e,n),r=t[ye];R3(r,t);let i=t[Or];i!==null&&t[hu]===null&&(t[hu]=JI(i,t[qs])),We(18),iC(r,t,t[gn]),We(19,t[gn])}function R3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function iC(n,e,t){Gh(e);try{let r=n.viewQuery;r!==null&&Cv(1,r,t);let i=n.template;i!==null&&_S(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ti]?.finishViewCreation(n),n.staticContentQueries&&XI(n,e),n.staticViewQueries&&Cv(2,n.viewQuery,t);let o=n.components;o!==null&&N3(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ce]&=-5,Kh()}}function N3(n,e){for(let t=0;t<e.length;t++)k3(n,e[t])}function F3(n,e,t,r){let i=Oe(null);try{let o=e.tView,a=n[Ce]&4096?4096:16,c=Qv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[$o]=u;let d=n[ti];return d!==null&&(c[ti]=d.createEmbeddedView(o)),iC(o,c,t),c}finally{Oe(i)}}function aI(n,e){return!e||e.firstChild===null||HI(n)}var cI=!1,L3=new X("");function Su(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(cr(o)),Ir(o)&&bS(o,r);let s=t.type;if(s&8)Su(n,e,t.child,r);else if(s&32){let a=Jv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=mS(e,t);if(Array.isArray(a))r.push(...a);else{let c=Uo(e[ar]);Su(c[ye],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bS(n,e){for(let t=In;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Su(r[ye],r,i,e)}n[zo]!==n[Or]&&e.push(n[zo])}function wS(n){if(n[Ks]!==null){for(let e of n[Ks])e.impl.addSequence(e);n[Ks].length=0}}var MS=[];function V3(n){return n[Gn]??j3(n)}function j3(n){let e=MS.pop()??Object.create(B3);return e.lView=n,e}function U3(n){n.lView[Gn]!==n&&(n.lView=null,MS.push(n))}var B3=fe(z({},ks),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{pc(n.lView)},consumerOnSignalRead(){this.lView[Gn]=this}});function $3(n){let e=n[Gn]??Object.create(z3);return e.lView=n,e}var z3=fe(z({},ks),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Uo(n.lView);for(;e&&!xS(e[ye]);)e=Uo(e);e&&L0(e)},consumerOnSignalRead(){this.lView[Gn]=this}});function xS(n){return n.type!==2}function ES(n){if(n[pu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[pu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Ce]&8192)}}var H3=100;function oC(n,e=0){let r=n[ei].rendererFactory,i=!1;i||r.begin?.();try{q3(n,e)}finally{i||r.end?.()}}function q3(n,e){let t=q0();try{W0(!0),Mv(n,e);let r=0;for(;vu(n);){if(r===H3)throw new U(103,!1);r++,Mv(n,1)}}finally{W0(t)}}function PS(n,e){H0(e?Cu.Exhaustive:Cu.OnlyDirtyViews);try{oC(n)}finally{H0(Cu.Off)}}function W3(n,e,t,r){if(Qs(e))return;let i=e[Ce],o=!1,s=!1;Gh(e);let a=!0,c=null,u=null;o||(xS(n)?(u=V3(e),c=Rs(u)):Qf()===null?(a=!1,u=$3(e),c=Rs(u)):e[Gn]&&(Jf(e[Gn]),e[Gn]=null));try{F0(e),V1(n.bindingStartIndex),t!==null&&_S(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let C=n.preOrderCheckHooks;C!==null&&ng(e,C,null)}else{let C=n.preOrderHooks;C!==null&&rg(e,C,0,null),iv(e,0)}if(s||G3(e),ES(e),OS(e,0),n.contentQueries!==null&&XI(n,e),!o)if(d){let C=n.contentCheckHooks;C!==null&&ng(e,C)}else{let C=n.contentHooks;C!==null&&rg(e,C,1),iv(e,1)}Y3(n,e);let m=n.components;m!==null&&SS(e,m,0);let v=n.viewQuery;if(v!==null&&Cv(2,v,r),!o)if(d){let C=n.viewCheckHooks;C!==null&&ng(e,C)}else{let C=n.viewHooks;C!==null&&rg(e,C,2),iv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[jh]){for(let C of e[jh])C();e[jh]=null}o||(wS(e),e[Ce]&=-73)}catch(d){throw o||pc(e),d}finally{u!==null&&(Ya(u,c),a&&U3(u)),Kh()}}function OS(n,e){for(let t=WI(n);t!==null;t=GI(t))for(let r=In;r<t.length;r++){let i=t[r];IS(i,e)}}function G3(n){for(let e=WI(n);e!==null;e=GI(e)){if(!(e[Ce]&2))continue;let t=e[Ys];for(let r=0;r<t.length;r++){let i=t[r];L0(i)}}}function K3(n,e,t){We(18);let r=lr(e,n);IS(r,t),We(19,r[gn])}function IS(n,e){$h(n)&&Mv(n,e)}function Mv(n,e){let r=n[ye],i=n[Ce],o=n[Gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&eu(o)),s||=!1,o&&(o.dirty=!1),n[Ce]&=-9217,s)W3(r,n,r.template,n[gn]);else if(i&8192){let a=Oe(null);try{ES(n),OS(n,1);let c=r.components;c!==null&&SS(n,c,1),wS(n)}finally{Oe(a)}}}function SS(n,e,t){for(let r=0;r<e.length;r++)K3(n,e[r],t)}function Y3(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)qo(~i);else{let o=i,s=t[++r],a=t[++r];U1(s,o);let c=e[o];We(24,c),a(2,c),We(25,c)}}}finally{qo(-1)}}function sC(n,e){let t=q0()?64:1088;for(n[ei].changeDetectionScheduler?.notify(e);n;){n[Ce]|=t;let r=Uo(n);if(gc(n)&&!r)return n;n=r}return null}function DS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Q3(n,e,t,r=!0){let i=e[ye];if(Z3(i,e,n,t),r){let s=wv(t,n),a=e[ft],c=a.parentNode(n[zo]);c!==null&&s3(i,n[sr],a,e,c,s)}let o=e[hu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xv(n,e){if(n.length<=In)return;let t=In+e,r=n[t];if(r){let i=r[$o];i!==null&&i!==n&&Xv(i,r),e>0&&(n[t-1][or]=r[or]);let o=uu(n,In+e);o3(r[ye],r);let s=o[ti];s!==null&&s.detachView(o[ye]),r[Wt]=null,r[or]=null,r[Ce]&=-129}return r}function Z3(n,e,t,r){let i=In+r,o=t.length;r>0&&(t[i-1][or]=e),r<o-In?(e[or]=t[i],w0(t,In+r,e)):(t.push(e),e[or]=null),e[Wt]=t;let s=e[$o];s!==null&&t!==s&&TS(s,e);let a=e[ti];a!==null&&a.insertView(n),zh(e),e[Ce]|=128}function TS(n,e){let t=n[Ys],r=e[Wt];if(ni(r))n[Ce]|=2;else{let i=r[Wt][ar];e[ar]!==i&&(n[Ce]|=2)}t===null?n[Ys]=[e]:t.push(e)}var Wo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ye];return Su(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return Qs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Wt];if(Ir(e)){let t=e[mu],r=t?t.indexOf(this):-1;r>-1&&(xv(e,r),uu(t,r))}this._attachedToViewContainer=!1}pS(this._lView[ye],this._lView)}onDestroy(e){V0(this._lView,e)}markForCheck(){sC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ce]&=-129}reattach(){zh(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,oC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[qs].get(L3,cI)}catch{this.exhaustive=cI}}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gc(this._lView),t=this._lView[$o];t!==null&&!e&&Xv(t,this._lView),gS(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=gc(this._lView),r=this._lView[$o];r!==null&&!t&&TS(r,this._lView),zh(this._lView)}};var Go=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=J3;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=F3(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Wo(o)}}return n})();function J3(){return Dg(nn(),Te())}function Dg(n,e){return n.type&4?new Go(e,n,Ec(n,e)):null}function aC(n,e,t,r,i){let o=n.data[e];if(o===null)o=X3(n,e,t,r,i),j1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=N1();o.injectorIndex=s===null?-1:s.injectorIndex}return mc(o,!0),o}function X3(n,e,t,r,i){let o=$0(),s=z0(),a=s?o:o&&o.parent,c=n.data[e]=t4(n,a,t,e,r,i);return e4(n,c,o,s),c}function e4(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function t4(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return A1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var bie=new RegExp(`^(\\d+)*(${AV}|${TV})*(.*)`);var n4=()=>null;function lI(n,e){return n4(n,e)}var AS=class{},Tg=class{},Ev=class{resolveComponentFactory(e){throw new U(917,!1)}},ku=class{static NULL=new Ev},Xi=class{},Kn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>r4()}return n})();function r4(){let n=Te(),e=nn(),t=lr(e.index,n);return(ni(t)?t:n)[ft]}var kS=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}return n})();var og={},Pv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,og,r);return i!==og||t===og?i:this.parentInjector.get(e,t,r)}};function uI(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=kh(i,a);else if(o==2){let c=a,u=e[++s];r=kh(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function G(n,e=0){let t=Te();if(t===null)return ne(n,e);let r=nn();return BI(r,t,Xt(n),e)}function cC(){let n="invalid";throw new Error(n)}function RS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}s4(n,e,t,a,o,c,u)}o!==null&&r!==null&&i4(t,r,o)}function i4(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function o4(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function s4(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let v=0;v<a;v++){let C=r[v];!c&&ri(C)&&(c=!0,o4(n,t,v)),mv(ug(t,e),n,C.type)}f4(t,n.data.length,a);for(let v=0;v<a;v++){let C=r[v];C.providersResolver&&C.providersResolver(C)}let u=!1,d=!1,m=fS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let C=r[v];if(t.mergedAttrs=Ou(t.mergedAttrs,C.hostAttrs),c4(n,t,e,m,C),d4(m,C,i),s!==null&&s.has(C)){let[A,N]=s.get(C);t.directiveToIndex.set(C.type,[m,A+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(C))&&t.directiveToIndex.set(C.type,m);C.contentQueries!==null&&(t.flags|=4),(C.hostBindings!==null||C.hostAttrs!==null||C.hostVars!==0)&&(t.flags|=64);let x=C.type.prototype;!u&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),m++}a4(n,t,o)}function a4(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))dI(0,e,i,r),dI(1,e,i,r),hI(e,r,!1);else{let o=t.get(i);fI(0,e,o,r),fI(1,e,o,r),hI(e,r,!0)}}}function dI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),NS(e,o)}}function fI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),NS(e,s)}}function NS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function hI(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Kv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function c4(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=jo(i.type,!0)),s=new Xs(o,ri(i),G,null);n.blueprint[r]=s,t[r]=s,l4(n,e,r,fS(n,t,i.hostVars,Sn),i)}function l4(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;u4(s)!=a&&s.push(a),s.push(t,r,o)}}function u4(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function d4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ri(e)&&(t[""]=n)}}function f4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function FS(n,e,t,r,i,o,s,a){let c=e[ye],u=c.consts,d=yu(u,s),m=aC(c,n,t,r,d);return o&&RS(c,e,m,yu(u,a),i),m.mergedAttrs=Ou(m.mergedAttrs,m.attrs),m.attrs!==null&&uI(m,m.attrs,!1),m.mergedAttrs!==null&&uI(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function LS(n,e){AI(n,e),A0(e)&&n.queries.elementEnd(e)}function lC(n){return Ag(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function VS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Ag(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function jS(n,e,t){return n[e]=t}function ci(n,e,t){if(t===Sn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function uC(n,e,t,r){let i=ci(n,e,t);return ci(n,e+1,r)||i}function h4(n,e,t,r,i){let o=uC(n,e,t,r);return ci(n,e+2,i)||o}function av(n,e,t){return function r(i){let o=Ho(n)?lr(n.index,e):e;sC(o,5);let s=e[gn],a=gI(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=gI(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function gI(n,e,t,r){let i=Oe(null);try{return We(6,e,t),t(r)!==!1}catch(o){return A3(n,o),!1}finally{We(7,e,t),Oe(i)}}function g4(n,e,t,r,i,o,s,a){let c=_u(n),u=!1,d=null;if(!r&&c&&(d=p4(e,t,o,n.index)),d!==null){let m=d.__ngLastListenerFn__||d;m.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let m=Sr(n,t),v=r?r(m):m;RV(t,v,o,a);let C=i.listen(v,o,a),x=r?A=>r(cr(A[n.index])):n.index;US(x,e,t,o,a,C,!1)}return u}function p4(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fc],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function US(n,e,t,r,i,o,s){let a=e.firstCreatePass?U0(e):null,c=j0(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function pI(n,e,t,r,i,o){let s=e[t],a=e[ye],u=a.data[t].outputs[r],m=s[u].subscribe(o);US(n.index,a,e,i,o,m,!0)}var Ov=Symbol("BINDING");var gg=class extends ku{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Zi(e);return new ea(t,this.ngModule)}};function m4(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ig.SignalBased)!==0};return i&&(o.transform=i),o})}function _4(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function y4(n,e,t){let r=e instanceof Et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Pv(t,r):t}function v4(n){let e=n.get(Xi,null);if(e===null)throw new U(407,!1);let t=n.get(kS,null),r=n.get(Gi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function C4(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return cS(e,t,t==="svg"?k0:t==="math"?M1:null)}var ea=class extends Tg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=m4(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_4(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=KV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){We(22);let a=Oe(null);try{let c=this.componentDef,u=b4(r,c,s,o),d=y4(c,i||this.ngModule,e),m=v4(d),v=m.rendererFactory.createRenderer(null,c),C=r?y3(v,r,c.encapsulation,d):C4(c,v),x=s?.some(mI)||o?.some(W=>typeof W!="function"&&W.bindings.some(mI)),A=Qv(null,u,null,512|dS(c),null,null,m,v,d,null,JI(C,d,!0));A[en]=C,Gh(A);let N=null;try{let W=FS(en,A,2,"#host",()=>u.directiveRegistry,!0,0);C&&(uS(v,C,W),wc(C,A)),nC(u,A,W),eS(u,W,A),LS(u,W),t!==void 0&&M4(W,this.ngContentSelectors,t),N=lr(W.index,A),A[gn]=N[gn],iC(u,A,null)}catch(W){throw N!==null&&yv(N),yv(A),W}finally{We(23),Kh()}return new pg(this.componentType,A,!!x)}finally{Oe(a)}}};function b4(n,e,t,r){let i=n?["ng-version","20.1.3"]:YV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Ov].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let m=r[d];if(typeof m!="function")for(let v of m.bindings){a+=v[Ov].requiredVars;let C=d+1;v.create&&(v.targetIdx=C,(o??=[]).push(v)),v.update&&(v.targetIdx=C,(s??=[]).push(v))}}let c=[e];if(r)for(let d of r){let m=typeof d=="function"?d:d.type,v=P0(m);c.push(v)}return Yv(0,null,w4(o,s),1,a,c,null,null,null,[i],null)}function w4(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function mI(n){let e=n[Ov].kind;return e==="input"||e==="twoWay"}var pg=class extends AS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Uh(t[ye],en),this.location=Ec(this._tNode,t),this.instance=lr(this._tNode.index,t)[gn],this.hostView=this.changeDetectorRef=new Wo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=rC(r,i[ye],i,e,t);this.previousInputValues.set(e,t);let s=lr(r.index,i);sC(s,1)}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function M4(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var eo=(()=>{class n{static __NG_ELEMENT_ID__=x4}return n})();function x4(){let n=nn();return $S(n,Te())}var E4=eo,BS=class extends E4{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ec(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){let e=$v(this._hostTNode,this._hostLView);if(NI(e)){let t=cg(e,this._hostLView),r=ag(e),i=t[ye].data[r+8];return new Js(i,t)}else return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=_I(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=lI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,aI(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!oV(e),u;if(c)u=t;else{let N=t||{};u=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let d=c?e:new ea(Zi(e)),m=r||this.parentInjector;if(!o&&d.ngModule==null){let W=(c?m:this.parentInjector).get(Et,null);W&&(o=W)}let v=Zi(d.componentType??{}),C=lI(this._lContainer,v?.id??null),x=C?.firstChild??null,A=d.create(m,i,x,o,s,a);return this.insertImpl(A.hostView,u,aI(this._hostTNode,C)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(E1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Wt],u=new BS(c,c[sr],c[Wt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Q3(s,i,o,r),e.attachToViewContainerRef(),w0(cv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=_I(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=xv(this._lContainer,t);r&&(uu(cv(this._lContainer),t),pS(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=xv(this._lContainer,t);return r&&uu(cv(this._lContainer),t)!=null?new Wo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function _I(n){return n[mu]}function cv(n){return n[mu]||(n[mu]=[])}function $S(n,e){let t,r=e[n.index];return Ir(r)?t=r:(t=DS(r,e,null,n),e[n.index]=t,Zv(e,t)),O4(t,e,n,r),new BS(t,n,e)}function P4(n,e){let t=n[ft],r=t.createComment(""),i=Sr(e,n),o=t.parentNode(i);return hg(t,o,r,t.nextSibling(i),!1),r}var O4=D4,I4=()=>!1;function S4(n,e,t){return I4(n,e,t)}function D4(n,e,t,r){if(n[zo])return;let i;t.type&8?i=cr(r):i=P4(e,t),n[zo]=i}var Iv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Sv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)dC(e,t).matches!==null&&this.queries[t].setDirty()}},Dv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=V4(e):this.predicate=e}},Tv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Av=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,T4(t,o)),this.matchTNodeWithReadOption(e,t,ig(t,e,o,!1,!1))}else r===Go?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ig(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===rn||i===eo||i===Go&&t.type&4)this.addMatch(t.index,-2);else{let o=ig(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function T4(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function A4(n,e){return n.type&11?Ec(n,e):n.type&4?Dg(n,e):null}function k4(n,e,t,r){return t===-1?A4(e,n):t===-2?R4(n,e,r):Iu(n,n[ye],t,e)}function R4(n,e,t){if(t===rn)return Ec(e,n);if(t===Go)return Dg(e,n);if(t===eo)return $S(e,n)}function zS(n,e,t,r){let i=e[ti].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(k4(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function kv(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=zS(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let m=In;m<d.length;m++){let v=d[m];v[$o]===v[Wt]&&kv(v[ye],v,u,r)}if(d[Ys]!==null){let m=d[Ys];for(let v=0;v<m.length;v++){let C=m[v];kv(C[ye],C,u,r)}}}}}return r}function N4(n,e){return n[ti].queries[e].queryList}function F4(n,e,t){let r=new dg((t&4)===4);return I1(n,e,r,r.destroy),(e[ti]??=new Sv).queries.push(new Iv(r))-1}function L4(n,e,t,r){let i=tn();if(i.firstCreatePass){let o=nn();j4(i,new Dv(e,t,r),o.index),U4(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return F4(i,Te(),t)}function V4(n){return n.split(",").map(e=>e.trim())}function j4(n,e,t){n.queries===null&&(n.queries=new Tv),n.queries.track(new Av(e,t))}function U4(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function dC(n,e){return n.queries.getByIndex(e)}function B4(n,e){let t=n[ye],r=dC(t,e);return r.crossesNgTemplate?kv(t,n,e,[]):zS(t,n,r,e)}var yI=new Set;function to(n){yI.has(n)||(yI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ta=class{},kg=class{};var mg=class extends ta{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gg(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=E0(e);this._bootstrapComponents=sS(o.bootstrap),this._r3Injector=Z0(e,t,[{provide:ta,useValue:this},{provide:ku,useValue:this.componentFactoryResolver},...r],Wi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_g=class extends kg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new mg(this.moduleType,e,[])}};var Du=class extends ta{injector;componentFactoryResolver=new gg(this);instance=null;constructor(e){super();let t=new zs([...e.providers,{provide:ta,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],e.parent||fu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oc(n,e,t=null){return new Du({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var $4=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=O0(!1,t.type),i=r.length>0?Oc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(ne(Et))})}return n})();function at(n){return xc(()=>{let e=HS(n),t=fe(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($4).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ji.Emulated,styles:n.styles||Pn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&to("NgStandalone"),qS(t);let r=n.dependencies;return t.directiveDefs=vI(r,z4),t.pipeDefs=vI(r,p1),t.id=W4(t),t})}function z4(n){return Zi(n)||P0(n)}function fr(n){return xc(()=>({type:n.type,bootstrap:n.bootstrap||Pn,declarations:n.declarations||Pn,imports:n.imports||Pn,exports:n.exports||Pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function H4(n,e){if(n==null)return Bo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ig.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function q4(n){if(n==null)return Bo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ge(n){return xc(()=>{let e=HS(n);return qS(e),e})}function Ic(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function HS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Bo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:H4(n.inputs,e),outputs:q4(n.outputs),debugInfo:null}}function qS(n){n.features?.forEach(e=>e(n))}function vI(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function W4(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function G4(n){return Object.getPrototypeOf(n.prototype).constructor}function mn(n){let e=G4(n.type),t=!0,r=[n];for(;e;){let i;if(ri(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=lv(n.inputs),s.declaredInputs=lv(n.declaredInputs),s.outputs=lv(n.outputs);let a=i.hostBindings;a&&J4(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Q4(n,c),u&&Z4(n,u),K4(n,i),a1(n.outputs,i.outputs),ri(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===mn&&(t=!1)}}e=Object.getPrototypeOf(e)}Y4(r)}function K4(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Y4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ou(i.hostAttrs,t=Ou(t,i.hostAttrs))}}function lv(n){return n===Bo?{}:n===Pn?[]:n}function Q4(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Z4(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function J4(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function X4(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Ou(n.mergedAttrs,n.attrs);let d=n.tView=Yv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),mc(n,!1);let c=t6(t,e,n,r);Qh()&&eC(t,e,c,n),wc(c,e);let u=DS(c,e,c,n);e[r+en]=u,Zv(e,u),S4(u,n,e)}function e6(n,e,t,r,i,o,s,a,c,u,d){let m=t+en,v;return e.firstCreatePass?(v=aC(e,m,4,s||null,a||null),B0()&&RS(e,n,v,yu(e.consts,u),CS),AI(e,v)):v=e.data[m],X4(v,n,e,t,r,i,o,c),_u(v)&&nC(e,n,v),u!=null&&yS(n,v,d),v}function q(n,e,t,r,i,o,s,a){let c=Te(),u=tn(),d=yu(u.consts,o);return e6(c,u,n,e,t,r,i,d,void 0,s,a),q}var t6=n6;function n6(n,e,t,r){return Zh(!0),e[ft].createComment("")}var Rg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Rg||{}),ra=new X(""),WS=!1,Rv=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,b1()&&(this.destroyRef=j(ur,{optional:!0})??void 0,this.pendingTasks=j(si,{optional:!0})??void 0)}emit(e){let t=Oe(null);try{super.next(e)}finally{Oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=Rv;function GS(n){let e,t;function r(){n=xu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function CI(n){return queueMicrotask(()=>n()),()=>{n=xu}}var fC="isAngularZone",yg=fC+"_ID",r6=0,Ae=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=WS}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,s6(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,i6,xu,xu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},i6={};function hC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o6(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){GS(()=>{n.callbackScheduled=!1,Nv(n),n.isCheckStableRunning=!0,hC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Nv(n)}function s6(n){let e=()=>{o6(n)},t=r6++;n._inner=n._inner.fork({name:"angular",properties:{[fC]:!0,[yg]:t,[yg+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(a6(c))return r.invokeTask(o,s,a,c);try{return bI(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),wI(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return bI(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!c6(c)&&e(),wI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Nv(n),hC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Nv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function bI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wI(n){n._nesting--,hC(n)}var vg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function a6(n){return KS(n,"__ignore_ng_zone__")}function c6(n){return KS(n,"__scheduler_tick__")}function KS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})(),YS=[0,1,2,3],QS=(()=>{class n{ngZone=j(Ae);scheduler=j(Gi);errorHandler=j(Pr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){j(ra,{optional:!0})}execute(){let t=this.sequences.size>0;t&&We(16),this.executing=!0;for(let r of YS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&We(17)}register(t){let{view:r}=t;r!==void 0?((r[Ks]??=[]).push(t),pc(r),r[Ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Rg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})(),Cg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ks];e&&(this.view[Ks]=e.filter(t=>t!==this))}};function Ru(n,e){let t=e?.injector??j(Je);return to("NgAfterNextRender"),u6(n,t,e,!0)}function l6(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function u6(n,e,t,r){let i=e.get(gC);i.impl??=e.get(QS);let o=e.get(ra,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(ur):null,a=e.get(Jh,null,{optional:!0}),c=new Cg(i.impl,l6(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var pC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var mC=new X("");function no(n){return!!n&&typeof n.then=="function"}function Ng(n){return!!n&&typeof n.subscribe=="function"}var _C=new X("");function Sc(n){return Gt([{provide:_C,multi:!0,useValue:n}])}var yC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=j(_C,{optional:!0})??[];injector=j(Je);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=It(this.injector,i);if(no(o))t.push(o);else if(Ng(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nu=new X("");function ZS(){Ty(()=>{let n="";throw new U(600,n)})}function JS(n){return n.isBoundToModule}var d6=10;var hr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=j(pn);afterRenderManager=j(gC);zonelessEnabled=j(Mu);rootEffectScheduler=j(rv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ot;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=j(si);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ve(t=>!t))}constructor(){j(ra,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=j(Et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Je.NULL){return this._injector.get(Ae).run(()=>{We(10);let s=t instanceof Tg;if(!this._injector.get(yC).done){let x="";throw new U(405,x)}let c;s?c=t:c=this._injector.get(ku).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=JS(c)?void 0:this._injector.get(ta),d=r||c.selector,m=c.create(i,[],d,u),v=m.location.nativeElement,C=m.injector.get(mC,null);return C?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),Pu(this.components,m),C?.unregisterApplication(v)}),this._loadComponent(m),We(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){We(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=Oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Oe(t),this.afterTick.next(),We(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<d6;)We(14),this.synchronizeOnce(),We(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!vu(i))continue;let o=r&&!this.zonelessEnabled?0:1;oC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>vu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Pu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Nu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Yo(n,e,t,r){let i=Te(),o=bu();if(ci(i,o,e)){let s=tn(),a=Yh();O3(a,i,n,e,t,r)}return Yo}function S(n,e,t){let r=Te(),i=bu();if(ci(r,i,e)){let o=tn(),s=Yh();vS(s,r,n,e,r[ft],t)}return S}function Fv(n,e,t,r,i){rC(e,n,t,i?"class":"style",r)}function f(n,e,t,r){let i=Te(),o=i[ye],s=n+en,a=o.firstCreatePass?FS(s,i,2,e,CS,B0(),t,r):o.data[s];if(D3(a,i,n,e,f6),_u(a)){let c=i[ye];nC(c,i,a),eS(c,a,i)}return r!=null&&yS(i,a),f}function h(){let n=tn(),e=nn(),t=T3(e);return n.firstCreatePass&&LS(n,t),k1(t)&&R1(),T1(),t.classesWithoutHost!=null&&dV(t)&&Fv(n,t,Te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&fV(t)&&Fv(n,t,Te(),t.stylesWithoutHost,!1),h}function pt(n,e,t,r){return f(n,e,t,r),h(),pt}var f6=(n,e,t,r,i)=>(Zh(!0),cS(e[ft],r,G1()));function se(){return Te()}var Zs=void 0;function h6(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var g6=["en",[["a","p"],["AM","PM"],Zs],[["AM","PM"],Zs,Zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zs,"{1} 'at' {0}",Zs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",h6],uv={};function Dn(n){let e=p6(n),t=MI(e);if(t)return t;let r=e.split("-")[0];if(t=MI(r),t)return t;if(r==="en")return g6;throw new U(701,!1)}function MI(n){return n in uv||(uv[n]=Yi.ng&&Yi.ng.common&&Yi.ng.common.locales&&Yi.ng.common.locales[n]),uv[n]}var mt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(mt||{});function p6(n){return n.toLowerCase().replace(/_/g,"-")}var Fu="en-US",m6="USD";var _6=Fu;function XS(n){typeof n=="string"&&(_6=n.toLowerCase().replace(/_/g,"-"))}function B(n,e,t){let r=Te(),i=tn(),o=nn();return eD(i,r,r[ft],o,n,e,t),B}function eD(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=av(r,e,o),g4(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let m=0;m<d.length;m+=2){let v=d[m],C=d[m+1];c??=av(r,e,o),pI(r,e,v,C,i,c)}if(u&&u.length)for(let m of u)c??=av(r,e,o),pI(r,e,m,i,i,c)}}function P(n=1){return W1(n)}function vC(n,e,t,r){L4(n,e,t,r)}function CC(n){let e=Te(),t=tn(),r=K0();Wh(r+1);let i=dC(t,r);if(n.dirty&&x1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=B4(e,r);n.reset(o,EV),n.notifyOnChanges()}return!0}return!1}function bC(){return N4(Te(),K0())}function kr(n){let e=L1();return Bh(e,en+n)}function tg(n,e){return n<<17|e<<2}function na(n){return n>>17&32767}function y6(n){return(n&2)==2}function v6(n,e){return n&131071|e<<17}function Lv(n){return n|2}function Mc(n){return(n&131068)>>2}function dv(n,e){return n&-131069|e<<2}function C6(n){return(n&1)===1}function Vv(n){return n|1}function b6(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=na(s),c=Mc(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let m=t;d=m[1],(d===null||dc(m,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let v=na(n[a+1]);n[r+1]=tg(v,a),v!==0&&(n[v+1]=dv(n[v+1],r)),n[a+1]=v6(n[a+1],r)}else n[r+1]=tg(a,0),a!==0&&(n[a+1]=dv(n[a+1],r)),a=r;else n[r+1]=tg(c,0),a===0?a=r:n[c+1]=dv(n[c+1],r),c=r;u&&(n[r+1]=Lv(n[r+1])),xI(n,d,r,!0),xI(n,d,r,!1),w6(e,d,n,r,o),s=tg(a,c),o?e.classBindings=s:e.styleBindings=s}function w6(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&dc(o,e)>=0&&(t[r+1]=Vv(t[r+1]))}function xI(n,e,t,r){let i=n[t+1],o=e===null,s=r?na(i):Mc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];M6(c,e)&&(a=!0,n[s+1]=r?Vv(u):Lv(u)),s=r?na(u):Mc(u)}a&&(n[t+1]=r?Lv(i):Vv(i))}function M6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?dc(n,e)>=0:!1}var Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function x6(n){return n.substring(Tr.key,Tr.keyEnd)}function E6(n){return P6(n),tD(n,nD(n,0,Tr.textEnd))}function tD(n,e){let t=Tr.textEnd;return t===e?-1:(e=Tr.keyEnd=O6(n,Tr.key=e,t),nD(n,e,t))}function P6(n){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=n.length}function nD(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function O6(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function _n(n,e,t){return rD(n,e,t,!1),_n}function ct(n,e){return rD(n,e,null,!0),ct}function on(n){S6(N6,I6,n,!0)}function I6(n,e){for(let t=E6(e);t>=0;t=tD(e,t))Lh(n,x6(e),!0)}function rD(n,e,t,r){let i=Te(),o=tn(),s=wu(2);if(o.firstUpdatePass&&oD(o,n,s,r),e!==Sn&&ci(i,s,e)){let a=o.data[ii()];sD(o,a,i,i[ft],n,i[s+1]=L6(e,t),r,s)}}function S6(n,e,t,r){let i=tn(),o=wu(2);i.firstUpdatePass&&oD(i,null,o,r);let s=Te();if(t!==Sn&&ci(s,o,t)){let a=i.data[ii()];if(aD(a,r)&&!iD(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=kh(c,t||"")),Fv(i,a,s,t,r)}else F6(i,a,s,s[ft],s[o+1],s[o+1]=R6(n,e,t),r,o)}}function iD(n,e){return e>=n.expandoStartIndex}function oD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ii()],s=iD(n,t);aD(o,r)&&e===null&&!s&&(e=!1),e=D6(i,o,e,r),b6(i,o,e,t,s,r)}}function D6(n,e,t,r){let i=$1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fv(null,n,e,t,r),t=Tu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fv(i,n,e,t,r),o===null){let c=T6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=fv(null,n,e,c[1],r),c=Tu(c,e.attrs,r),A6(n,e,r,c))}else o=k6(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function T6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Mc(r)!==0)return n[na(r)]}function A6(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[na(i)]=r}function k6(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Tu(r,s,t)}return Tu(r,e.attrs,t)}function fv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Tu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Tu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Lh(n,s,t?!0:e[++o]))}return n===void 0?null:n}function R6(n,e,t){if(t==null||t==="")return Pn;let r=[],i=Pc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function N6(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Lh(n,r,t)}function F6(n,e,t,r,i,o,s,a){i===Sn&&(i=Pn);let c=0,u=0,d=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;d!==null||m!==null;){let v=c<i.length?i[c+1]:void 0,C=u<o.length?o[u+1]:void 0,x=null,A;d===m?(c+=2,u+=2,v!==C&&(x=m,A=C)):m===null||d!==null&&d<m?(c+=2,x=d):(u+=2,x=m,A=C),x!==null&&sD(n,e,t,r,x,A,s,a),d=c<i.length?i[c]:null,m=u<o.length?o[u]:null}}function sD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=C6(u)?EI(c,e,t,i,Mc(u),s):void 0;if(!bg(d)){bg(o)||y6(u)&&(o=EI(c,null,t,i,a,s));let m=R0(ii(),t);_3(r,s,m,i,o)}}function EI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,m=d===null,v=t[i+1];v===Sn&&(v=m?Pn:void 0);let C=m?Vh(v,r):d===r?v:void 0;if(u&&!bg(C)&&(C=Vh(c,r)),bg(C)&&(a=C,s))return a;let x=n[i+1];i=s?na(x):Mc(x)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Vh(c,r))}return a}function bg(n){return n!==void 0}function L6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wi(Pc(n)))),n}function aD(n,e){return(n.flags&(e?8:16))!==0}function p(n,e=""){let t=Te(),r=tn(),i=n+en,o=r.firstCreatePass?aC(r,i,1,e,null):r.data[i],s=V6(r,t,o,e,n);t[i]=s,Qh()&&eC(r,t,s,o),mc(o,!1)}var V6=(n,e,t,r,i)=>(Zh(!0),QV(e[ft],r));function j6(n,e,t,r=""){return ci(n,bu(),t)?e+Xr(t)+r:Sn}function U6(n,e,t,r,i,o=""){let s=G0(),a=uC(n,s,t,i);return wu(2),a?e+Xr(t)+r+Xr(i)+o:Sn}function B6(n,e,t,r,i,o,s,a=""){let c=G0(),u=h4(n,c,t,i,s);return wu(3),u?e+Xr(t)+r+Xr(i)+o+Xr(s)+a:Sn}function H(n){return re("",n),H}function re(n,e,t){let r=Te(),i=j6(r,n,e,t);return i!==Sn&&wC(r,ii(),i),re}function sn(n,e,t,r,i){let o=Te(),s=U6(o,n,e,t,r,i);return s!==Sn&&wC(o,ii(),s),sn}function Dc(n,e,t,r,i,o,s){let a=Te(),c=B6(a,n,e,t,r,i,o,s);return c!==Sn&&wC(a,ii(),c),Dc}function wC(n,e,t){let r=R0(e,n);ZV(n[ft],r,t)}function ue(n,e,t){ev(e)&&(e=e());let r=Te(),i=bu();if(ci(r,i,e)){let o=tn(),s=Yh();vS(s,r,n,e,r[ft],t)}return ue}function he(n,e){let t=ev(n);return t&&n.set(e),t}function de(n,e){let t=Te(),r=tn(),i=nn();return eD(r,t,t[ft],i,n,e),de}function $6(n,e,t){let r=tn();if(r.firstCreatePass){let i=ri(n);jv(t,r.data,r.blueprint,i,!0),jv(e,r.data,r.blueprint,i,!1)}}function jv(n,e,t,r,i){if(n=Xt(n),Array.isArray(n))for(let o=0;o<n.length;o++)jv(n[o],e,t,r,i);else{let o=tn(),s=Te(),a=nn(),c=$s(n)?n:Xt(n.provide),u=S0(n),d=a.providerIndexes&1048575,m=a.directiveStart,v=a.providerIndexes>>20;if($s(n)||!n.multi){let C=new Xs(u,i,G,null),x=gv(c,e,i?d:d+v,m);x===-1?(mv(ug(a,s),o,c),hv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)):(t[x]=C,s[x]=C)}else{let C=gv(c,e,d+v,m),x=gv(c,e,d,d+v),A=C>=0&&t[C],N=x>=0&&t[x];if(i&&!N||!i&&!A){mv(ug(a,s),o,c);let W=q6(i?H6:z6,t.length,i,r,u,n);!i&&N&&(t[x].providerFactory=W),hv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(W),s.push(W)}else{let W=cD(t[i?x:C],u,!i&&r);hv(o,n,C>-1?C:x,W)}!i&&r&&N&&t[x].componentProviders++}}}function hv(n,e,t,r){let i=$s(e),o=C1(e);if(i||o){let c=(o?Xt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function cD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function z6(n,e,t,r,i){return Uv(this.multi,[])}function H6(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Iu(r,r[ye],this.providerFactory.index,i);s=c.slice(0,a),Uv(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Uv(o,s);return s}function Uv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function q6(n,e,t,r,i,o){let s=new Xs(n,t,G,null);return s.multi=[],s.index=e,s.componentProviders=0,cD(s,i,r&&!t),s}function gr(n,e=[]){return t=>{t.providersResolver=(r,i)=>$6(r,i?i(n):n,e)}}function Lu(n,e,t,r){return uD(Te(),Hh(),n,e,t,r)}function lD(n,e){let t=n[e];return t===Sn?void 0:t}function uD(n,e,t,r,i,o){let s=e+t;return ci(n,s,i)?jS(n,s+1,o?r.call(o,i):r(i)):lD(n,s+1)}function W6(n,e,t,r,i,o,s){let a=e+t;return uC(n,a,i,o)?jS(n,a+2,s?r.call(s,i,o):r(i,o)):lD(n,a+2)}function Ve(n,e){let t=tn(),r,i=n+en;t.firstCreatePass?(r=G6(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=jo(r.type,!0)),s,a=En(G);try{let c=lg(!1),u=o();return lg(c),N0(t,Te(),i,u),u}finally{En(a)}}function G6(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function yn(n,e,t){let r=n+en,i=Te(),o=Bh(i,r);return dD(i,r)?uD(i,Hh(),e,o.transform,t,o):o.transform(t)}function Dt(n,e,t,r){let i=n+en,o=Te(),s=Bh(o,i);return dD(o,i)?W6(o,Hh(),e,s.transform,t,r,s):s.transform(t,r)}function dD(n,e){return n[ye].data[e].pure}function MC(n,e){return Dg(n,e)}var wg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xC=(()=>{class n{compileModuleSync(t){return new _g(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=E0(t),o=sS(i.declarations).reduce((s,a)=>{let c=Zi(a);return c&&s.push(new ea(c)),s},[]);return new wg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K6=(()=>{class n{zone=j(Ae);changeDetectionScheduler=j(Gi);applicationRef=j(hr);applicationErrorHandler=j(pn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fD=new X("",{factory:()=>!1});function EC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ae(fe(z({},OC()),{scheduleInRootZone:t})),[{provide:Ae,useFactory:n},{provide:Qi,multi:!0,useFactory:()=>{let r=j(K6,{optional:!0});return()=>r.initialize()}},{provide:Qi,multi:!0,useFactory:()=>{let r=j(Y6);return()=>{r.initialize()}}},e===!0?{provide:tv,useValue:!0}:[],{provide:nv,useValue:t??WS},{provide:pn,useFactory:()=>{let r=j(Ae),i=j(Et),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Pr),o.handleError(s))})}}}]}function PC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=EC({ngZoneFactory:()=>{let i=OC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&to("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Gt([{provide:fD,useValue:!0},{provide:Mu,useValue:!1},r])}function OC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Y6=(()=>{class n{subscription=new ze;initialized=!1;zone=j(Ae);pendingTasks=j(si);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hD=(()=>{class n{applicationErrorHandler=j(pn);appRef=j(hr);taskService=j(si);ngZone=j(Ae);zonelessEnabled=j(Mu);tracing=j(ra,{optional:!0});disableScheduling=j(tv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(nv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?CI:GS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q6(){return typeof $localize<"u"&&$localize.locale||Fu}var ia=new X("",{providedIn:"root",factory:()=>j(ia,{optional:!0,skipSelf:!0})||Q6()}),IC=new X("",{providedIn:"root",factory:()=>m6});function Fn(n){return i1(n)}function Tc(n,e){return nh(n,e?.equal)}var gD=class{[hn];constructor(e){this[hn]=e}destroy(){this[hn].destroy()}};var CD=Symbol("InputSignalNode#UNSET"),a8=fe(z({},rh),{transformFn:void 0,applyValueToInputSignal(n,e){Qa(n,e)}});function bD(n,e){let t=Object.create(a8);t.value=n,t.transformFn=e?.transform;function r(){if(Ka(t),t.value===CD){let i=null;throw new U(-950,i)}return t.value}return r[hn]=t,r}var Lg=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Au(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},c8=new X("");c8.__NG_ELEMENT_ID__=n=>{let e=nn();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new U(204,!1)};function pD(n,e){return bD(n,e)}function l8(n){return bD(CD,n)}var wD=(pD.required=l8,pD);var oa=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},MD=new oa("20.1.3");var SC=new X(""),u8=new X("");function Vu(n){return!n.moduleRef}function d8(n){let e=Vu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ae);return t.run(()=>{Vu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(pn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Vu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(SC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(SC);s.add(o),n.moduleRef.onDestroy(()=>{Pu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return h8(r,t,()=>{let o=e.get(si),s=o.add(),a=e.get(yC);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ia,Fu);if(XS(c||Fu),!e.get(u8,!0))return Vu(n)?e.get(hr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Vu(n)){let d=e.get(hr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return f8?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var f8;function h8(n,e,t){try{let r=t();return no(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Fg=null;function g8(n=[],e){return Je.create({name:e,providers:[{provide:du,useValue:"platform"},{provide:SC,useValue:new Set([()=>Fg=null])},...n]})}function p8(n=[]){if(Fg)return Fg;let e=g8(n);return Fg=e,ZS(),m8(e),e}function m8(n){let e=n.get(xg,null);It(n,()=>{e?.forEach(t=>t())})}function ju(){return!1}var ui=(()=>{class n{static __NG_ELEMENT_ID__=_8}return n})();function _8(n){return y8(nn(),Te(),(n&16)===16)}function y8(n,e,t){if(Ho(n)&&!t){let r=lr(n.index,e);return new Wo(r,r)}else if(n.type&175){let r=e[ar];return new Wo(r,e)}return null}var DC=class{constructor(){}supports(e){return lC(e)}create(e){return new TC(e)}},v8=(n,e)=>e,TC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||v8}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<mD(r,i,o)?t:r,a=mD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let v=0;v<u;v++){let C=v<o.length?o[v]:o[v]=0,x=C+v;d<=x&&x<u&&(o[v]=C+1)}let m=s.previousIndex;o[m]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!lC(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,VS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new AC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vg),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},AC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},kC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Vg=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new kC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var RC=class{constructor(){}supports(e){return e instanceof Map||Ag(e)}create(){return new NC}},NC=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Ag(e)))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new FC(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},FC=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function _D(){return new LC([new DC])}var LC=(()=>{class n{factories;static \u0275prov=Y({token:n,providedIn:"root",factory:_D});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_D()),deps:[[n,new Bv,new St]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();function yD(){return new VC([new RC])}var VC=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:yD});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||yD()),deps:[[n,new Bv,new St]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new U(901,!1)}}return n})();function xD(n){We(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=p8(r),o=[EC({}),{provide:Gi,useExisting:hD},Y1,...t||[]],s=new Du({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return d8({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{We(9)}}function Qo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ED(n){let e=Zi(n);if(!e)return null;let t=new ea(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ID=null;function pr(){return ID}function jC(n){ID??=n}var Uu=class{},Bu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>j(SD),providedIn:"platform"})}return n})(),UC=new X(""),SD=(()=>{class n extends Bu{_location;_history;_doc=j(ht);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(t){let r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function jg(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function PD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Nr(n){return n&&n[0]!=="?"?`?${n}`:n}var Fr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>j(Bg),providedIn:"root"})}return n})(),Ug=new X(""),Bg=(()=>{class n extends Fr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(Bu),ne(Ug,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zo=(()=>{class n{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=w8(PD(OD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nr(r))}normalize(t){return n.stripTrailingSlash(b8(this._basePath,OD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Nr;static joinWithSlash=jg;static stripTrailingSlash=PD;static \u0275fac=function(r){return new(r||n)(ne(Fr))};static \u0275prov=Y({token:n,factory:()=>C8(),providedIn:"root"})}return n})();function C8(){return new Zo(ne(Fr))}function b8(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function OD(n){return n.replace(/\/index.html$/,"")}function w8(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var KC=(()=>{class n extends Fr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=jg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(Bu),ne(Ug,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),ND={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Zg=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Zg||{});var vn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(vn||{}),Ye=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ye||{}),Ln=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ln||{}),an={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function FD(n){return Dn(n)[mt.LocaleId]}function LD(n,e,t){let r=Dn(n),i=[r[mt.DayPeriodsFormat],r[mt.DayPeriodsStandalone]],o=mr(i,e);return mr(o,t)}function VD(n,e,t){let r=Dn(n),i=[r[mt.DaysFormat],r[mt.DaysStandalone]],o=mr(i,e);return mr(o,t)}function jD(n,e,t){let r=Dn(n),i=[r[mt.MonthsFormat],r[mt.MonthsStandalone]],o=mr(i,e);return mr(o,t)}function UD(n,e){let r=Dn(n)[mt.Eras];return mr(r,e)}function $u(n,e){let t=Dn(n);return mr(t[mt.DateFormat],e)}function zu(n,e){let t=Dn(n);return mr(t[mt.TimeFormat],e)}function Hu(n,e){let r=Dn(n)[mt.DateTimeFormat];return mr(r,e)}function Vr(n,e){let t=Dn(n),r=t[mt.NumberSymbols][e];if(typeof r>"u"){if(e===an.CurrencyDecimal)return t[mt.NumberSymbols][an.Decimal];if(e===an.CurrencyGroup)return t[mt.NumberSymbols][an.Group]}return r}function YC(n,e){return Dn(n)[mt.NumberFormats][e]}function M8(n){return Dn(n)[mt.Currencies]}function BD(n){if(!n[mt.ExtraData])throw new U(2303,!1)}function $D(n){let e=Dn(n);return BD(e),(e[mt.ExtraData][2]||[]).map(r=>typeof r=="string"?BC(r):[BC(r[0]),BC(r[1])])}function zD(n,e,t){let r=Dn(n);BD(r);let i=[r[mt.ExtraData][0],r[mt.ExtraData][1]],o=mr(i,e)||[];return mr(o,t)||[]}function mr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new U(2304,!1)}function BC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function HD(n,e,t="en"){let r=M8(t)[n]||ND[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var x8=2;function qD(n){let e,t=ND[n];return t&&(e=t[2]),typeof e=="number"?e:x8}var E8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$g={},P8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function WD(n,e,t,r){let i=N8(n);e=ro(t,e)||e;let s=[],a;for(;e;)if(a=P8.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=KD(r,c),i=R8(i,r));let u="";return s.forEach(d=>{let m=A8(d);u+=m?m(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Gg(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ro(n,e){let t=FD(n);if($g[t]??={},$g[t][e])return $g[t][e];let r="";switch(e){case"shortDate":r=$u(n,Ln.Short);break;case"mediumDate":r=$u(n,Ln.Medium);break;case"longDate":r=$u(n,Ln.Long);break;case"fullDate":r=$u(n,Ln.Full);break;case"shortTime":r=zu(n,Ln.Short);break;case"mediumTime":r=zu(n,Ln.Medium);break;case"longTime":r=zu(n,Ln.Long);break;case"fullTime":r=zu(n,Ln.Full);break;case"short":let i=ro(n,"shortTime"),o=ro(n,"shortDate");r=zg(Hu(n,Ln.Short),[i,o]);break;case"medium":let s=ro(n,"mediumTime"),a=ro(n,"mediumDate");r=zg(Hu(n,Ln.Medium),[s,a]);break;case"long":let c=ro(n,"longTime"),u=ro(n,"longDate");r=zg(Hu(n,Ln.Long),[c,u]);break;case"full":let d=ro(n,"fullTime"),m=ro(n,"fullDate");r=zg(Hu(n,Ln.Full),[d,m]);break}return r&&($g[t][e]=r),r}function zg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Lr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function O8(n,e){return Lr(n,3).substring(0,e)}function Tt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=I8(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return O8(a,e);let c=Vr(s,an.MinusSign);return Lr(a,e,c,r,i)}}function I8(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function tt(n,e,t=vn.Format,r=!1){return function(i,o){return S8(i,o,n,e,t,r)}}function S8(n,e,t,r,i,o){switch(t){case 2:return jD(e,i,r)[n.getMonth()];case 1:return VD(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=$D(e),d=zD(e,i,r),m=u.findIndex(v=>{if(Array.isArray(v)){let[C,x]=v,A=s>=C.hours&&a>=C.minutes,N=s<x.hours||s===x.hours&&a<x.minutes;if(C.hours<x.hours){if(A&&N)return!0}else if(A||N)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(m!==-1)return d[m]}return LD(e,i,r)[s<12?0:1];case 3:return UD(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new U(2302,!1)}}function Hg(n){return function(e,t,r){let i=-1*r,o=Vr(t,an.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Lr(s,2,o)+Lr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Lr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Lr(s,2,o)+":"+Lr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Lr(s,2,o)+":"+Lr(Math.abs(i%60),2,o);default:throw new U(2302,!1)}}}var D8=0,Wg=4;function T8(n){let e=Gg(n,D8,1).getDay();return Gg(n,0,1+(e<=Wg?Wg:Wg+7)-e)}function GD(n){let e=n.getDay(),t=e===0?-3:Wg-e;return Gg(n.getFullYear(),n.getMonth(),n.getDate()+t)}function $C(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=GD(t),s=T8(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Lr(i,n,Vr(r,an.MinusSign))}}function qg(n,e=!1){return function(t,r){let o=GD(t).getFullYear();return Lr(o,n,Vr(r,an.MinusSign),e)}}var zC={};function A8(n){if(zC[n])return zC[n];let e;switch(n){case"G":case"GG":case"GGG":e=tt(3,Ye.Abbreviated);break;case"GGGG":e=tt(3,Ye.Wide);break;case"GGGGG":e=tt(3,Ye.Narrow);break;case"y":e=Tt(0,1,0,!1,!0);break;case"yy":e=Tt(0,2,0,!0,!0);break;case"yyy":e=Tt(0,3,0,!1,!0);break;case"yyyy":e=Tt(0,4,0,!1,!0);break;case"Y":e=qg(1);break;case"YY":e=qg(2,!0);break;case"YYY":e=qg(3);break;case"YYYY":e=qg(4);break;case"M":case"L":e=Tt(1,1,1);break;case"MM":case"LL":e=Tt(1,2,1);break;case"MMM":e=tt(2,Ye.Abbreviated);break;case"MMMM":e=tt(2,Ye.Wide);break;case"MMMMM":e=tt(2,Ye.Narrow);break;case"LLL":e=tt(2,Ye.Abbreviated,vn.Standalone);break;case"LLLL":e=tt(2,Ye.Wide,vn.Standalone);break;case"LLLLL":e=tt(2,Ye.Narrow,vn.Standalone);break;case"w":e=$C(1);break;case"ww":e=$C(2);break;case"W":e=$C(1,!0);break;case"d":e=Tt(2,1);break;case"dd":e=Tt(2,2);break;case"c":case"cc":e=Tt(7,1);break;case"ccc":e=tt(1,Ye.Abbreviated,vn.Standalone);break;case"cccc":e=tt(1,Ye.Wide,vn.Standalone);break;case"ccccc":e=tt(1,Ye.Narrow,vn.Standalone);break;case"cccccc":e=tt(1,Ye.Short,vn.Standalone);break;case"E":case"EE":case"EEE":e=tt(1,Ye.Abbreviated);break;case"EEEE":e=tt(1,Ye.Wide);break;case"EEEEE":e=tt(1,Ye.Narrow);break;case"EEEEEE":e=tt(1,Ye.Short);break;case"a":case"aa":case"aaa":e=tt(0,Ye.Abbreviated);break;case"aaaa":e=tt(0,Ye.Wide);break;case"aaaaa":e=tt(0,Ye.Narrow);break;case"b":case"bb":case"bbb":e=tt(0,Ye.Abbreviated,vn.Standalone,!0);break;case"bbbb":e=tt(0,Ye.Wide,vn.Standalone,!0);break;case"bbbbb":e=tt(0,Ye.Narrow,vn.Standalone,!0);break;case"B":case"BB":case"BBB":e=tt(0,Ye.Abbreviated,vn.Format,!0);break;case"BBBB":e=tt(0,Ye.Wide,vn.Format,!0);break;case"BBBBB":e=tt(0,Ye.Narrow,vn.Format,!0);break;case"h":e=Tt(3,1,-12);break;case"hh":e=Tt(3,2,-12);break;case"H":e=Tt(3,1);break;case"HH":e=Tt(3,2);break;case"m":e=Tt(4,1);break;case"mm":e=Tt(4,2);break;case"s":e=Tt(5,1);break;case"ss":e=Tt(5,2);break;case"S":e=Tt(6,1);break;case"SS":e=Tt(6,2);break;case"SSS":e=Tt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Hg(0);break;case"ZZZZZ":e=Hg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hg(2);break;default:return null}return zC[n]=e,e}function KD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function k8(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function R8(n,e,t){let i=n.getTimezoneOffset(),o=KD(e,i);return k8(n,-1*(o-i))}function N8(n){if(DD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Gg(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(E8))return F8(r)}let e=new Date(n);if(!DD(e))throw new U(2302,!1);return e}function F8(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function DD(n){return n instanceof Date&&!isNaN(n.valueOf())}var L8=/^(\d+)?\.((\d+)(-(\d+))?)?$/,TD=22,Kg=".",qu="0",V8=";",j8=",",HC="#",AD="\xA4";function YD(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Vr(t,an.Infinity);else{let u=B8(n);s&&(u=U8(u));let d=e.minInt,m=e.minFrac,v=e.maxFrac;if(o){let J=o.match(L8);if(J===null)throw new U(2306,!1);let ee=J[1],oe=J[3],$e=J[5];ee!=null&&(d=qC(ee)),oe!=null&&(m=qC(oe)),$e!=null?v=qC($e):oe!=null&&m>v&&(v=m)}$8(u,m,v);let C=u.digits,x=u.integerLen,A=u.exponent,N=[];for(c=C.every(J=>!J);x<d;x++)C.unshift(0);for(;x<0;x++)C.unshift(0);x>0?N=C.splice(x,C.length):(N=C,C=[0]);let W=[];for(C.length>=e.lgSize&&W.unshift(C.splice(-e.lgSize,C.length).join(""));C.length>e.gSize;)W.unshift(C.splice(-e.gSize,C.length).join(""));C.length&&W.unshift(C.join("")),a=W.join(Vr(t,r)),N.length&&(a+=Vr(t,i)+N.join("")),A&&(a+=Vr(t,an.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function QD(n,e,t,r,i){let o=YC(e,Zg.Currency),s=JD(o,Vr(e,an.MinusSign));return s.minFrac=qD(r),s.maxFrac=s.minFrac,YD(n,s,e,an.CurrencyGroup,an.CurrencyDecimal,i).replace(AD,t).replace(AD,"").trim()}function ZD(n,e,t){let r=YC(e,Zg.Decimal),i=JD(r,Vr(e,an.MinusSign));return YD(n,i,e,an.Group,an.Decimal,t)}function JD(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(V8),i=r[0],o=r[1],s=i.indexOf(Kg)!==-1?i.split(Kg):[i.substring(0,i.lastIndexOf(qu)+1),i.substring(i.lastIndexOf(qu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(HC));for(let d=0;d<c.length;d++){let m=c.charAt(d);m===qu?t.minFrac=t.maxFrac=d+1:m===HC?t.maxFrac=d+1:t.posSuf+=m}let u=a.split(j8);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,m=o.indexOf(HC);t.negPre=o.substring(0,m).replace(/'/g,""),t.negSuf=o.slice(m+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function U8(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function B8(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Kg))>-1&&(e=e.replace(Kg,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===qu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===qu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>TD&&(r=r.splice(0,TD-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function $8(n,e,t){if(e>t)throw new U(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let m=s;m<r.length;m++)r[m]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let m=1;m<s;m++)r[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(m,v,C,x){return v=v+m,x[C]=v<10?v:v-10,c&&(x[C]===0&&C>=u?x.pop():c=!1),v>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function qC(n){let e=parseInt(n);if(isNaN(e))throw new U(2305,!1);return e}var Yg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),kD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);kD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(G(eo),G(Go),G(LC))};static \u0275dir=Ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function kD(n,e){n.context.$implicit=e.item}var _t=(()=>{class n{_viewContainer;_context=new Qg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(G(eo),G(Go))};static \u0275dir=Ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Qg=class{$implicit=null;ngIf=null};function RD(n,e){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}var Wu=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Ar.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(G(rn),G(VC),G(Kn))};static \u0275dir=Ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Jg(n,e){return new U(2100,!1)}var WC=class{createSubscription(e,t,r){return Fn(()=>e.subscribe({next:t,error:r}))}dispose(e){Fn(()=>e.unsubscribe())}},GC=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},z8=new GC,H8=new WC,QC=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=j(pn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(no(t))return z8;if(Ng(t))return H8;throw Jg(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(G(ui,16))};static \u0275pipe=Ic({name:"async",type:n,pure:!1})}return n})();var q8="mediumDate",XD=new X(""),eT=new X(""),sa=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??q8,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return WD(t,s,o||this.locale,a)}catch(s){throw Jg(n,s.message)}}static \u0275fac=function(r){return new(r||n)(G(ia,16),G(XD,24),G(eT,24))};static \u0275pipe=Ic({name:"date",type:n,pure:!0})}return n})();var ZC=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!tT(t))return null;i||=this._locale;try{let o=nT(t);return ZD(o,i,r)}catch(o){throw Jg(n,o.message)}}static \u0275fac=function(r){return new(r||n)(G(ia,16))};static \u0275pipe=Ic({name:"number",type:n,pure:!0})}return n})();var Gu=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!tT(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=HD(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=nT(t);return QD(c,s,a,r,o)}catch(c){throw Jg(n,c.message)}}static \u0275fac=function(r){return new(r||n)(G(ia,16),G(IC,16))};static \u0275pipe=Ic({name:"currency",type:n,pure:!0})}return n})();function tT(n){return!(n==null||n===""||n!==n)}function nT(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new U(2309,!1);return n}var lt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fr({type:n});static \u0275inj=Wn({})}return n})();function JC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ku=class{};var rT="browser";var iT=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new XC(j(ht),window)})}return n})(),XC=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(fe(z({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=W8(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ki(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(fe(z({},t),{left:i-s[0],top:o-s[1]}))}};function W8(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ep=new X(""),ib=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ne(ep),ne(Ae))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Yu=class{_doc;constructor(e){this._doc=e}manager},eb="ng-app-id";function oT(n){for(let e of n)e.remove()}function sT(n,e){let t=e.createElement("style");return t.textContent=n,t}function G8(n,e,t,r){let i=n.head?.querySelectorAll(`style[${eb}="${e}"],link[${eb}="${e}"]`);if(i)for(let o of i)o.removeAttribute(eb),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function nb(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ob=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,G8(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,sT);r?.forEach(i=>this.addUsage(i,this.external,nb))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(oT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])oT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,sT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,nb(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ne(ht),ne(Mg),ne(Pg,8),ne(Ko))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),tb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sb=/%COMP%/g;var cT="%COMP%",K8=`_nghost-${cT}`,Y8=`_ngcontent-${cT}`,Q8=!0,Z8=new X("",{providedIn:"root",factory:()=>Q8});function J8(n){return Y8.replace(sb,n)}function X8(n){return K8.replace(sb,n)}function lT(n,e){return e.map(t=>t.replace(sb,n))}var Ju=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Qu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Xg?i.applyToHost(t):i instanceof Zu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,m=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Ji.Emulated:o=new Xg(c,u,r,this.appId,d,s,a,m,v);break;case Ji.ShadowDom:return new rb(c,u,t,r,s,a,this.nonce,m,v);default:o=new Zu(c,u,r,d,s,a,m,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ne(ib),ne(ob),ne(Mg),ne(Z8),ne(ht),ne(Ko),ne(Ae),ne(Pg),ne(ra,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Qu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(tb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=tb[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=tb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(t,r,i&Ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function aT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rb=class extends Qu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=lT(i.id,d);for(let v of d){let C=document.createElement("style");a&&C.setAttribute("nonce",a),C.textContent=v,this.shadowRoot.appendChild(C)}let m=i.getExternalStyles?.();if(m)for(let v of m){let C=nb(v,o);a&&C.setAttribute("nonce",a),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zu=class extends Qu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?lT(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xg=class extends Zu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=J8(d),this.hostAttr=X8(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var tp=class n extends Uu{supportsDOMEvents=!0;static makeCurrent(){jC(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ej();return t==null?null:tj(t)}resetBaseElement(){Xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return JC(document.cookie,e)}},Xu=null;function ej(){return Xu=Xu||document.head.querySelector("base"),Xu?Xu.getAttribute("href"):null}function tj(n){return new URL(n,document.baseURI).pathname}var nj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),dT=(()=>{class n extends Yu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ne(ht))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),uT=["alt","control","meta","shift"],rj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ij={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},fT=(()=>{class n extends Yu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uT.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=rj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uT.forEach(s=>{if(s!==i){let a=ij[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ne(ht))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function ab(n,e){let t=z({rootComponent:n},oj(e));return xD(t)}function oj(n){return{appProviders:[...uj,...n?.providers??[]],platformProviders:lj}}function sj(){tp.makeCurrent()}function aj(){return new Pr}function cj(){return Hv(document),document}var lj=[{provide:Ko,useValue:rT},{provide:xg,useValue:sj,multi:!0},{provide:ht,useFactory:cj}];var uj=[{provide:du,useValue:"root"},{provide:Pr,useFactory:aj},{provide:ep,useClass:dT,multi:!0,deps:[ht]},{provide:ep,useClass:fT,multi:!0,deps:[ht]},Ju,ob,ib,{provide:Xi,useExisting:Ju},{provide:Ku,useClass:nj},[]];var hT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ne(ht))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pe="primary",fd=Symbol("RouteTitle"),fb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function la(n){return new fb(n)}function bT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!di(n[t],e[t]))return!1;return!0}function di(n,e){let t=n?hb(n):void 0,r=e?hb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!wT(n[i],e[i]))return!1;return!0}function hb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function MT(n){return n.length>0?n[n.length-1]:null}function io(n){return Gy(n)?n:no(n)?st(Promise.resolve(n)):pe(n)}var hj={exact:ET,subset:PT},xT={exact:gj,subset:pj,ignored:()=>!0};function gT(n,e,t){return hj[t.paths](n.root,e.root,t.matrixParams)&&xT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function gj(n,e){return di(n,e)}function ET(n,e,t){if(!aa(n.segments,e.segments)||!ip(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ET(n.children[r],e.children[r],t))return!1;return!0}function pj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wT(n[t],e[t]))}function PT(n,e,t){return OT(n,e,e.segments,t)}function OT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!aa(i,t)||e.hasChildren()||!ip(i,t,r))}else if(n.segments.length===t.length){if(!aa(n.segments,t)||!ip(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!PT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!aa(n.segments,i)||!ip(n.segments,i,r)||!n.children[Pe]?!1:OT(n.children[Pe],e,o,r)}}function ip(n,e,t){return e.every((r,i)=>xT[t](n[i].parameters,r.parameters))}var hi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=la(this.queryParams),this._queryParamMap}toString(){return yj.serialize(this)}},Be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return op(this)}},Jo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=la(this.parameters),this._parameterMap}toString(){return ST(this)}};function mj(n,e){return aa(n,e)&&n.every((t,r)=>di(t.parameters,e[r].parameters))}function aa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _j(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Pe&&(t=t.concat(e(i,r)))}),t}var ua=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>new Xo,providedIn:"root"})}return n})(),Xo=class{parse(e){let t=new pb(e);return new hi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ed(e.root,!0)}`,r=bj(e.queryParams),i=typeof e.fragment=="string"?`#${vj(e.fragment)}`:"";return`${t}${r}${i}`}},yj=new Xo;function op(n){return n.segments.map(e=>ST(e)).join("/")}function ed(n,e){if(!n.hasChildren())return op(n);if(e){let t=n.children[Pe]?ed(n.children[Pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Pe&&r.push(`${i}:${ed(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_j(n,(r,i)=>i===Pe?[ed(n.children[Pe],!1)]:[`${i}:${ed(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Pe]!=null?`${op(n)}/${t[0]}`:`${op(n)}/(${t.join("//")})`}}function IT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function np(n){return IT(n).replace(/%3B/gi,";")}function vj(n){return encodeURI(n)}function gb(n){return IT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sp(n){return decodeURIComponent(n)}function pT(n){return sp(n.replace(/\+/g,"%20"))}function ST(n){return`${gb(n.path)}${Cj(n.parameters)}`}function Cj(n){return Object.entries(n).map(([e,t])=>`;${gb(e)}=${gb(t)}`).join("")}function bj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${np(t)}=${np(i)}`).join("&"):`${np(t)}=${np(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wj=/^[^\/()?;#]+/;function cb(n){let e=n.match(wj);return e?e[0]:""}var Mj=/^[^\/()?;=#]+/;function xj(n){let e=n.match(Mj);return e?e[0]:""}var Ej=/^[^=?&#]+/;function Pj(n){let e=n.match(Ej);return e?e[0]:""}var Oj=/^[^&#]+/;function Ij(n){let e=n.match(Oj);return e?e[0]:""}var pb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pe]=new Be(e,t)),r}parseSegment(){let e=cb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Jo(sp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cb(this.remaining);i&&(r=i,this.capture(r))}e[sp(t)]=sp(r)}parseQueryParam(e){let t=Pj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Ij(this.remaining);s&&(r=s,this.capture(r))}let i=pT(t),o=pT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Pe]:new Be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function DT(n){return n.segments.length>0?new Be([],{[Pe]:n}):n}function TT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=TT(i);if(r===Pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Be(n.segments,e);return Sj(t)}function Sj(n){if(n.numberOfChildren===1&&n.children[Pe]){let e=n.children[Pe];return new Be(n.segments.concat(e.segments),e.children)}return n}function es(n){return n instanceof hi}function AT(n,e,t=null,r=null){let i=kT(n);return RT(i,e,t,r)}function kT(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=DT(r);return e??i}function RT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lb(i,i,i,t,r);let o=Dj(e);if(o.toRoot())return lb(i,i,new Be([],{}),t,r);let s=Tj(o,i,n),a=s.processChildren?nd(s.segmentGroup,s.index,o.commands):FT(s.segmentGroup,s.index,o.commands);return lb(i,s.segmentGroup,a,t,r)}function ap(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function id(n){return typeof n=="object"&&n!=null&&n.outlets}function lb(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=NT(n,e,t);let a=DT(TT(s));return new hi(a,o,i)}function NT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=NT(o,e,t)}),new Be(n.segments,r)}var cp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ap(r[0]))throw new U(4003,!1);let i=r.find(id);if(i&&i!==MT(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Dj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cp(t,e,r)}var Rc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Tj(n,e,t){if(n.isAbsolute)return new Rc(e,!0,0);if(!t)return new Rc(e,!1,NaN);if(t.parent===null)return new Rc(t,!0,0);let r=ap(n.commands[0])?0:1,i=t.segments.length-1+r;return Aj(t,i,n.numberOfDoubleDots)}function Aj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Rc(r,!1,i-o)}function kj(n){return id(n[0])?n[0].outlets:{[Pe]:n}}function FT(n,e,t){if(n??=new Be([],{}),n.segments.length===0&&n.hasChildren())return nd(n,e,t);let r=Rj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Be(n.segments.slice(0,r.pathIndex),{});return o.children[Pe]=new Be(n.segments.slice(r.pathIndex),n.children),nd(o,0,i)}else return r.match&&i.length===0?new Be(n.segments,{}):r.match&&!n.hasChildren()?mb(n,e,t):r.match?nd(n,0,i):mb(n,e,t)}function nd(n,e,t){if(t.length===0)return new Be(n.segments,{});{let r=kj(t),i={};if(Object.keys(r).some(o=>o!==Pe)&&n.children[Pe]&&n.numberOfChildren===1&&n.children[Pe].segments.length===0){let o=nd(n.children[Pe],e,t);return new Be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=FT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Be(n.segments,i)}}function Rj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(id(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!_T(c,u,s))return o;r+=2}else{if(!_T(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(id(o)){let c=Nj(o.outlets);return new Be(r,c)}if(i===0&&ap(t[0])){let c=n.segments[e];r.push(new Jo(c.path,mT(t[0]))),i++;continue}let s=id(o)?o.outlets[Pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ap(a)?(r.push(new Jo(s,mT(a))),i+=2):(r.push(new Jo(s,{})),i++)}return new Be(r,{})}function Nj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mb(new Be([],{}),0,r))}),e}function mT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _T(n,e,t){return n==t.path&&di(e,t.parameters)}var Nc="imperative",$t=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}($t||{}),Qn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ts=class extends Qn{type=$t.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Qn{urlAfterRedirects;type=$t.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Tn||{}),Lc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Lc||{}),fi=class extends Qn{reason;code;type=$t.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gi=class extends Qn{reason;code;type=$t.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Vc=class extends Qn{error;target;type=$t.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},od=class extends Qn{urlAfterRedirects;state;type=$t.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends Qn{urlAfterRedirects;state;type=$t.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends Qn{urlAfterRedirects;state;shouldActivate;type=$t.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dp=class extends Qn{urlAfterRedirects;state;type=$t.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends Qn{urlAfterRedirects;state;type=$t.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class{route;type=$t.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gp=class{route;type=$t.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pp=class{snapshot;type=$t.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{snapshot;type=$t.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_p=class{snapshot;type=$t.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{snapshot;type=$t.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jc=class{routerEvent;position;anchor;type=$t.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},sd=class{},Uc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Fj(n){return!(n instanceof sd)&&!(n instanceof Uc)}function Lj(n,e){return n.providers&&!n._injector&&(n._injector=Oc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jr(n){return n.outlet||Pe}function Vj(n,e){let t=n.filter(r=>jr(r)===e);return t.push(...n.filter(r=>jr(r)!==e)),t}function zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var vp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new da(this.rootInjector)}},da=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new vp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ne(Et))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=_b(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=_b(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=yb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yb(e,this._root).map(t=>t.value)}};function _b(n,e){if(n===e.value)return e;for(let t of e.children){let r=_b(n,t);if(r)return r}return null}function yb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=yb(n,t);if(r.length)return r.unshift(e),r}return[]}var Yn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ad=class extends Cp{snapshot;constructor(e,t){super(e),this.snapshot=t,Pb(this,e)}toString(){return this.snapshot.toString()}};function LT(n){let e=jj(n),t=new Ke([new Jo("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new jn(t,r,o,s,i,Pe,n,e.root);return a.snapshot=e.root,new ad(new Yn(a,[]),e)}function jj(n){let e={},t={},r={},i="",o=new ca([],e,r,i,t,Pe,n,null,{});return new cd("",new Yn(o,[]))}var jn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ve(u=>u[fd]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>la(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>la(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&jT(i)&&(r.resolve[fd]=i.title),r}var ca=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fd]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=la(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=la(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},cd=class extends Cp{url;constructor(e,t){super(t),this.url=e,Pb(this,t)}toString(){return VT(this._root)}};function Pb(n,e){e.value._routerState=n,e.children.forEach(t=>Pb(n,t))}function VT(n){let e=n.children.length>0?` { ${n.children.map(VT).join(", ")} } `:"";return`${n.value}${e}`}function ub(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,di(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),di(e.params,t.params)||n.paramsSubject.next(t.params),fj(e.url,t.url)||n.urlSubject.next(t.url),di(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vb(n,e){let t=di(n.params,e.params)&&mj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||vb(n.parent,e.parent))}function jT(n){return typeof n.title=="string"||n.title===null}var UT=new X(""),hd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pe;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=wD(void 0);parentContexts=j(da);location=j(eo);changeDetector=j(ui);inputBinder=j(gd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Cb(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[li]})}return n})(),Cb=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===jn?this.route:e===da?this.childContexts:e===UT?this.outletData:this.parent.get(e,t)}},gd=new X(""),Ob=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=nu([r.queryParams,r.params,r.data]).pipe(Ht(([o,s,a],c)=>(a=z(z(z({},o),s),a),c===0?pe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=ED(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Ib=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=at({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&pt(0,"router-outlet")},dependencies:[hd],encapsulation:2})}return n})();function Sb(n){let e=n.children&&n.children.map(Sb),t=e?fe(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pe&&(t.component=Ib),t}function Uj(n,e,t){let r=ld(n,e._root,t?t._root:void 0);return new ad(r,e)}function ld(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Bj(n,e,t);return new Yn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ld(n,a)),s}}let r=$j(e.value),i=e.children.map(o=>ld(n,o));return new Yn(r,i)}}function Bj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ld(n,r,i);return ld(n,r)})}function $j(n){return new jn(new Ke(n.url),new Ke(n.params),new Ke(n.queryParams),new Ke(n.fragment),new Ke(n.data),n.outlet,n.component,n)}var Bc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BT="ngNavigationCancelingError";function wp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$T(!1,Tn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $T(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BT]=!0,t.cancellationCode=e,t}function zj(n){return zT(n)&&es(n.url)}function zT(n){return!!n&&n[BT]}var Hj=(n,e,t,r)=>ve(i=>(new bb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),bb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ub(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=kc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=kc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ub(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ub(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Mp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function qj(n,e,t){let r=n._root,i=e?e._root:null;return td(r,i,t,[r.value])}function Wj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!f0(n)?n:e.get(n):r}function td(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=kc(e);return n.children.forEach(s=>{Gj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rd(a,t.getContext(s),i)),i}function Gj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Kj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Mp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?td(n,e,a?a.children:null,r,i):td(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fc(a.outlet.component,s))}else s&&rd(e,a,i),i.canActivateChecks.push(new Mp(r)),o.component?td(n,null,a?a.children:null,r,i):td(n,null,t,r,i);return i}function Kj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!aa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!aa(n.url,e.url)||!di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vb(n,e)||!di(n.queryParams,e.queryParams);case"paramsChange":default:return!vb(n,e)}}function rd(n,e,t){let r=kc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?rd(s,e.children.getContext(o),t):rd(s,null,t):rd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Fc(e.outlet.component,i)):t.canDeactivateChecks.push(new Fc(null,i)):t.canDeactivateChecks.push(new Fc(null,i))}function pd(n){return typeof n=="function"}function Yj(n){return typeof n=="boolean"}function Qj(n){return n&&pd(n.canLoad)}function Zj(n){return n&&pd(n.canActivate)}function Jj(n){return n&&pd(n.canActivateChild)}function Xj(n){return n&&pd(n.canDeactivate)}function eU(n){return n&&pd(n.canMatch)}function HT(n){return n instanceof Bi||n?.name==="EmptyError"}var rp=Symbol("INITIAL_VALUE");function $c(){return Ht(n=>nu(n.map(e=>e.pipe(Bt(1),Zy(rp)))).pipe(ve(e=>{for(let t of e)if(t!==!0){if(t===rp)return rp;if(t===!1||tU(t))return t}return!0}),xt(e=>e!==rp),Bt(1)))}function tU(n){return es(n)||n instanceof Bc}function nU(n,e){return Mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?pe(fe(z({},t),{guardsResult:!0})):rU(s,r,i,n).pipe(Mt(a=>a&&Yj(a)?iU(r,o,n,e):pe(a)),ve(a=>fe(z({},t),{guardsResult:a})))})}function rU(n,e,t,r){return st(n).pipe(Mt(i=>lU(i.component,i.route,t,e,r)),Hi(i=>i!==!0,!0))}function iU(n,e,t,r){return st(e).pipe(Lo(i=>cc(sU(i.route.parent,r),oU(i.route,r),cU(n,i.path,t),aU(n,i.route,t))),Hi(i=>i!==!0,!0))}function oU(n,e){return n!==null&&e&&e(new _p(n)),pe(!0)}function sU(n,e){return n!==null&&e&&e(new pp(n)),pe(!0)}function aU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>ru(()=>{let s=zc(e)??t,a=Hc(o,s),c=Zj(a)?a.canActivate(e,n):It(s,()=>a(e,n));return io(c).pipe(Hi())}));return pe(i).pipe($c())}function cU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Wj(s)).filter(s=>s!==null).map(s=>ru(()=>{let a=s.guards.map(c=>{let u=zc(s.node)??t,d=Hc(c,u),m=Jj(d)?d.canActivateChild(r,n):It(u,()=>d(r,n));return io(m).pipe(Hi())});return pe(a).pipe($c())}));return pe(o).pipe($c())}function lU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let c=zc(e)??i,u=Hc(a,c),d=Xj(u)?u.canDeactivate(n,e,t,r):It(c,()=>u(n,e,t,r));return io(d).pipe(Hi())});return pe(s).pipe($c())}function uU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=Hc(s,n),c=Qj(a)?a.canLoad(e,t):It(n,()=>a(e,t));return io(c)});return pe(o).pipe($c(),qT(r))}function qT(n){return jy(qt(e=>{if(typeof e!="boolean")throw wp(n,e)}),ve(e=>e===!0))}function dU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=Hc(s,n),c=eU(a)?a.canMatch(e,t):It(n,()=>a(e,t));return io(c)});return pe(o).pipe($c(),qT(r))}var ud=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},dd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ac(n){return ac(new ud(n))}function fU(n){return ac(new U(4e3,!1))}function hU(n){return ac($T(!1,Tn.GuardRejected))}var wb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[Pe])return fU(`${e.redirectTo}`);i=i.children[Pe]}}applyRedirectCommands(e,t,r,i,o){return gU(t,i,o).pipe(ve(s=>{if(s instanceof hi)throw new dd(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new dd(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new hi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function gU(n,e,t){if(typeof n=="string")return pe(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:m}=e;return io(It(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:m})))}var Mb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pU(n,e,t,r,i){let o=WT(n,e,t);return o.matched?(r=Lj(e,r),dU(r,e,t,i).pipe(ve(s=>s===!0?o:z({},Mb)))):pe(o)}function WT(n,e,t){if(e.path==="**")return mU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},Mb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||bT)(t,n,e);if(!i)return z({},Mb);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mU(n){return{matched:!0,parameters:n.length>0?MT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function yT(n,e,t,r){return t.length>0&&vU(n,t,r)?{segmentGroup:new Be(e,yU(r,new Be(t,n.children))),slicedSegments:[]}:t.length===0&&CU(n,t,r)?{segmentGroup:new Be(n.segments,_U(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Be(n.segments,n.children),slicedSegments:t}}function _U(n,e,t,r){let i={};for(let o of t)if(Ep(n,e,o)&&!r[jr(o)]){let s=new Be([],{});i[jr(o)]=s}return z(z({},r),i)}function yU(n,e){let t={};t[Pe]=e;for(let r of n)if(r.path===""&&jr(r)!==Pe){let i=new Be([],{});t[jr(r)]=i}return t}function vU(n,e,t){return t.some(r=>Ep(n,e,r)&&jr(r)!==Pe)}function CU(n,e,t){return t.some(r=>Ep(n,e,r))}function Ep(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function bU(n,e,t){return e.length===0&&!n.children[t]}var xb=class{};function wU(n,e,t,r,i,o,s="emptyOnly"){return new Eb(n,e,t,r,i,s,o).recognize()}var MU=31,Eb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wb(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=yT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:t,rootSnapshot:r})=>{let i=new Yn(r,t),o=new cd("",i),s=AT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ca([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Pe,t).pipe(ve(r=>({children:r,rootSnapshot:t})),zi(r=>{if(r instanceof dd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ud?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ve(s=>s instanceof Yn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return st(o).pipe(Lo(s=>{let a=r.children[s],c=Vj(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Qy((s,a)=>(s.push(...a),s)),Vo(null),Yy(),Mt(s=>{if(s===null)return Ac(r);let a=GT(s);return xU(a),pe(a)}))}processSegment(e,t,r,i,o,s,a){return st(t).pipe(Lo(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(zi(u=>{if(u instanceof ud)return pe(null);throw u}))),Hi(c=>!!c),zi(c=>{if(HT(c))return bU(r,i,o)?pe(new xb):Ac(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return jr(r)!==s&&(s===Pe||!Ep(i,o,r))?Ac(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ac(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:m,remainingSegments:v}=WT(t,i,o);if(!c)return Ac(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MU&&(this.allowRedirects=!1));let C=new ca(o,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,vT(i),jr(i),i.component??i._loadedComponent??null,i,CT(i)),x=bp(C,a,this.paramsInheritanceStrategy);return C.params=Object.freeze(x.params),C.data=Object.freeze(x.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,m,C,e).pipe(Ht(N=>this.applyRedirects.lineralizeSegments(i,N)),Mt(N=>this.processSegment(e,r,t,N.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=pU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ht(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ht(({routes:u})=>{let d=r._loadedInjector??e,{parameters:m,consumedSegments:v,remainingSegments:C}=c,x=new ca(v,m,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,vT(r),jr(r),r.component??r._loadedComponent??null,r,CT(r)),A=bp(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(A.params),x.data=Object.freeze(A.data);let{segmentGroup:N,slicedSegments:W}=yT(t,v,C,u);if(W.length===0&&N.hasChildren())return this.processChildren(d,u,N,x).pipe(ve(ee=>new Yn(x,ee)));if(u.length===0&&W.length===0)return pe(new Yn(x,[]));let J=jr(r)===o;return this.processSegment(d,u,N,W,J?Pe:o,!0,x).pipe(ve(ee=>new Yn(x,ee instanceof Yn?[ee]:[])))}))):Ac(t)))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):uU(e,t,r,this.urlSerializer).pipe(Mt(i=>i?this.configLoader.loadChildren(e,t).pipe(qt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):hU(t))):pe({routes:[],injector:e})}};function xU(n){n.sort((e,t)=>e.value.outlet===Pe?-1:t.value.outlet===Pe?1:e.value.outlet.localeCompare(t.value.outlet))}function EU(n){let e=n.value.routeConfig;return e&&e.path===""}function GT(n){let e=[],t=new Set;for(let r of n){if(!EU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=GT(r.children);e.push(new Yn(r.value,i))}return e.filter(r=>!t.has(r))}function vT(n){return n.data||{}}function CT(n){return n.resolve||{}}function PU(n,e,t,r,i,o){return Mt(s=>wU(n,e,t,r,s.extractedUrl,i,o).pipe(ve(({state:a,tree:c})=>fe(z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function OU(n,e){return Mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of KT(c))s.add(u);let a=0;return st(s).pipe(Lo(c=>o.has(c)?IU(c,r,n,e):(c.data=bp(c,c.parent,n).resolve,pe(void 0))),qt(()=>a++),lc(1),Mt(c=>a===s.size?pe(t):Rn))})}function KT(n){let e=n.children.map(t=>KT(t)).flat();return[n,...e]}function IU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!jT(i)&&(o[fd]=i.title),ru(()=>(n.data=bp(n,n.parent,t).resolve,SU(o,n,e,r).pipe(ve(s=>(n._resolvedData=s,n.data=z(z({},n.data),s),null)))))}function SU(n,e,t,r){let i=hb(n);if(i.length===0)return pe({});let o={};return st(i).pipe(Mt(s=>DU(n[s],e,t,r).pipe(Hi(),qt(a=>{if(a instanceof Bc)throw wp(new Xo,a);o[s]=a}))),lc(1),ve(()=>o),zi(s=>HT(s)?Rn:ac(s)))}function DU(n,e,t,r){let i=zc(e)??r,o=Hc(n,i),s=o.resolve?o.resolve(e,t):It(i,()=>o(e,t));return io(s)}function db(n){return Ht(e=>{let t=n(e);return t?st(t).pipe(ve(()=>e)):pe(e)})}var Db=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pe);return r}getResolvedTitleForRoute(t){return t.data[fd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>j(YT),providedIn:"root"})}return n})(),YT=(()=>{class n extends Db{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ne(hT))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ns=new X("",{providedIn:"root",factory:()=>({})}),fa=new X(""),Pp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=j(xC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return pe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(It(t,()=>r.loadComponent())).pipe(ve(ZT),qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),iu(()=>{this.componentLoaders.delete(r)})),o=new rc(i,()=>new ot).pipe(nc());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=QT(r,this.compiler,t,this.onLoadEndListener).pipe(iu(()=>{this.childrenLoaders.delete(r)})),s=new rc(o,()=>new ot).pipe(nc());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QT(n,e,t,r){return io(It(t,()=>n.loadChildren())).pipe(ve(ZT),Mt(i=>i instanceof kg||Array.isArray(i)?pe(i):st(e.compileModuleAsync(i))),ve(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(fa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sb),injector:o}}))}function TU(n){return n&&typeof n=="object"&&"default"in n}function ZT(n){return TU(n)?n.default:n}var Op=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>j(AU),providedIn:"root"})}return n})(),AU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tb=new X(""),Ab=new X("");function JT(n,e,t){let r=n.get(Ab),i=n.get(ht);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),kU(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&It(n,()=>c({transition:a,from:e,to:t})),s}function kU(n){return new Promise(e=>{Ru({read:()=>setTimeout(e)},{injector:n})})}var kb=new X(""),Ip=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortWithErrorSubject=new ot;configLoader=j(Pp);environmentInjector=j(Et);destroyRef=j(ur);urlSerializer=j(ua);rootContexts=j(da);location=j(Zo);inputBindingEnabled=j(gd,{optional:!0})!==null;titleStrategy=j(Db);options=j(ns,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=j(Op);createViewTransition=j(Tb,{optional:!0});navigationErrorHandler=j(kb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new hp(i)),r=i=>this.events.next(new gp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(fe(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Ke(null),this.transitions.pipe(xt(r=>r!==null),Ht(r=>{let i=!1;return pe(r).pipe(Ht(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Tn.SupersededByNewNavigation),Rn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fe(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new gi(o.id,this.urlSerializer.serialize(o.rawUrl),c,Lc.IgnoredSameUrlNavigation)),o.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return pe(o).pipe(Ht(c=>(this.events.next(new ts(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Rn:Promise.resolve(c))),PU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=fe(z({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new od(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:m,extras:v}=o,C=new ts(c,this.urlSerializer.serialize(u),d,m);this.events.next(C);let x=LT(this.rootComponentType).snapshot;return this.currentTransition=r=fe(z({},o),{targetSnapshot:x,urlAfterRedirects:u,extras:fe(z({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,pe(r)}else{let c="";return this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Lc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Rn}}),qt(o=>{let s=new lp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ve(o=>(this.currentTransition=r=fe(z({},o),{guards:qj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),nU(this.environmentInjector,o=>this.events.next(o)),qt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw wp(this.urlSerializer,o.guardsResult);let s=new up(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),xt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Tn.GuardRejected),!1)),db(o=>{if(o.guards.canActivateChecks.length!==0)return pe(o).pipe(qt(s=>{let a=new dp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ht(s=>{let a=!1;return pe(s).pipe(OU(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Tn.NoDataFromResolver)}}))}),qt(s=>{let a=new fp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),db(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=zc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(qt(d=>{a.component=d}),ve(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return nu(s(o.targetSnapshot.root)).pipe(Vo(null),Bt(1))}),db(()=>this.afterPreactivation()),Ht(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?st(a).pipe(ve(()=>r)):pe(r)}),ve(o=>{let s=Uj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=fe(z({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),qt(()=>{this.events.next(new sd)}),Hj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Bt(1),Oh(new _e(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(xt(()=>!i&&!r.targetRouterState),qt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Tn.Aborted)}))),qt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Oh(this.transitionAbortWithErrorSubject.pipe(qt(o=>{throw o}))),iu(()=>{i||this.cancelNavigationTransition(r,"",Tn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),zi(o=>{if(this.destroyed)return r.resolve(!1),Rn;if(i=!0,zT(o))this.events.next(new fi(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zj(o)?this.events.next(new Uc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Vc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=It(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Bc){let{message:c,cancellationCode:u}=wp(this.urlSerializer,a);this.events.next(new fi(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Uc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Rn}))}))}cancelNavigationTransition(t,r,i){let o=new fi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RU(n){return n!==Nc}var XT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>j(NU),providedIn:"root"})}return n})(),xp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},NU=(()=>{class n extends xp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eA=(()=>{class n{urlSerializer=j(ua);options=j(ns,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=j(Zo);urlHandlingStrategy=j(Op);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof hi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=LT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>j(FU),providedIn:"root"})}return n})(),FU=(()=>{class n extends eA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ts?this.updateStateMemento():t instanceof gi?this.commitTransition(r):t instanceof od?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof sd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof fi&&t.code!==Tn.SupersededByNewNavigation&&t.code!==Tn.Redirect?this.restoreHistory(r):t instanceof Vc?this.restoreHistory(r,!0):t instanceof Zn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=z(z({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=z(z({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sp(n,e){n.events.pipe(xt(t=>t instanceof Zn||t instanceof fi||t instanceof Vc||t instanceof gi),ve(t=>t instanceof Zn||t instanceof gi?0:(t instanceof fi?t.code===Tn.Redirect||t.code===Tn.SupersededByNewNavigation:!1)?2:1),xt(t=>t!==2),Bt(1)).subscribe(()=>{e()})}var LU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=j(pC);stateManager=j(eA);options=j(ns,{optional:!0})||{};pendingTasks=j(si);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=j(Ip);urlSerializer=j(ua);location=j(Zo);urlHandlingStrategy=j(Op);injector=j(Et);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=j(XT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=j(fa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!j(gd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fi&&r.code!==Tn.Redirect&&r.code!==Tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zn)this.navigated=!0;else if(r instanceof Uc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RU(i.source)},s);this.scheduleNavigation(a,Nc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Fj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(pn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let m;try{let v=i?i.snapshot:this.routerState.snapshot.root;m=kT(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return RT(m,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=es(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Nc,null,r)}navigate(t,r={skipLocationChange:!1}){return jU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},LU):r===!1?i=z({},VU):i=r,es(t))return gT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return gT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((m,v)=>{a=m,c=v});let d=this.pendingTasks.add();return Sp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}var rs=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=oi(null);get href(){return Fn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;applicationErrorHandler=j(pn);options=j(ns,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(j(new Lg("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Zn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(es(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:es(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(G(Xe),G(jn),Au("tabindex"),G(Kn),G(rn),G(Fr))};static \u0275dir=Ge({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&B("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Yo("href",i.reactiveHref(),Gv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qo],replaceUrl:[2,"replaceUrl","replaceUrl",Qo],routerLink:"routerLink"},features:[li]})}return n})(),Nb=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new gt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Zn&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(Fo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=st(t).pipe(Fo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=UU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(G(Xe),G(rn),G(Kn),G(ui),G(rs,8))};static \u0275dir=Ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&vC(o,rs,5),r&2){let s;CC(s=bC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[li]})}return n})();function UU(n){return!!n.paths}var md=class{};var tA=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xt(t=>t instanceof Zn),Lo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Oc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return st(i).pipe(Fo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=pe(null);let o=i.pipe(Mt(s=>s===null?pe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return st([o,s]).pipe(Fo())}else return o})}static \u0275fac=function(r){return new(r||n)(ne(Xe),ne(Et),ne(md),ne(Pp))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nA=new X(""),BU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Nc;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof gi&&t.code===Lc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new jc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){cC()};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function Fb(n,...e){return Gt([{provide:fa,multi:!0,useValue:n},[],{provide:jn,useFactory:rA,deps:[Xe]},{provide:Nu,multi:!0,useFactory:iA},e.map(t=>t.\u0275providers)])}function rA(n){return n.routerState.root}function _d(n,e){return{\u0275kind:n,\u0275providers:e}}function iA(){let n=j(Je);return e=>{let t=n.get(hr);if(e!==t.components[0])return;let r=n.get(Xe),i=n.get(oA);n.get(Lb)===1&&r.initialNavigation(),n.get(cA,null,{optional:!0})?.setUpPreloading(),n.get(nA,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oA=new X("",{factory:()=>new ot}),Lb=new X("",{providedIn:"root",factory:()=>1});function sA(){let n=[{provide:Lb,useValue:0},Sc(()=>{let e=j(Je);return e.get(UC,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Xe),o=e.get(oA);Sp(i,()=>{r(!0)}),e.get(Ip).afterPreactivation=()=>(r(!0),o.closed?pe(void 0):o),i.initialNavigation()}))})];return _d(2,n)}function aA(){let n=[Sc(()=>{j(Xe).setUpLocationChangeListener()}),{provide:Lb,useValue:2}];return _d(3,n)}var cA=new X("");function lA(n){return _d(0,[{provide:cA,useExisting:tA},{provide:md,useExisting:n}])}function uA(){return _d(8,[Ob,{provide:gd,useExisting:Ob}])}function dA(n){to("NgRouterViewTransitions");let e=[{provide:Tb,useValue:JT},{provide:Ab,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return _d(9,e)}var fA=[Zo,{provide:ua,useClass:Xo},Xe,da,{provide:jn,useFactory:rA,deps:[Xe]},Pp,[]],Vb=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[fA,[],{provide:fa,multi:!0,useValue:t},[],r?.errorHandler?{provide:kb,useValue:r.errorHandler}:[],{provide:ns,useValue:r||{}},r?.useHash?zU():HU(),$U(),r?.preloadingStrategy?lA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qU(r):[],r?.bindToComponentInputs?uA().\u0275providers:[],r?.enableViewTransitions?dA().\u0275providers:[],WU()]}}static forChild(t){return{ngModule:n,providers:[{provide:fa,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fr({type:n});static \u0275inj=Wn({})}return n})();function $U(){return{provide:nA,useFactory:()=>{let n=j(iT),e=j(Ae),t=j(ns),r=j(Ip),i=j(ua);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BU(i,r,n,e,t)}}}function zU(){return{provide:Fr,useClass:KC}}function HU(){return{provide:Fr,useClass:Bg}}function qU(n){return[n.initialNavigation==="disabled"?aA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?sA().\u0275providers:[]]}var Rb=new X("");function WU(){return[{provide:Rb,useFactory:iA},{provide:Nu,multi:!0,useExisting:Rb}]}var Ie=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ie||{}),Ur="*";function hA(n,e=null){return{type:Ie.Sequence,steps:n,options:e}}function jb(n){return{type:Ie.Style,styles:n,offset:null}}var oo=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},qc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},yd="!";function gA(n){return new U(3e3,!1)}function GU(){return new U(3100,!1)}function KU(){return new U(3101,!1)}function YU(n){return new U(3001,!1)}function QU(n){return new U(3003,!1)}function ZU(n){return new U(3004,!1)}function mA(n,e){return new U(3005,!1)}function _A(){return new U(3006,!1)}function yA(){return new U(3007,!1)}function vA(n,e){return new U(3008,!1)}function CA(n){return new U(3002,!1)}function bA(n,e,t,r,i){return new U(3010,!1)}function wA(){return new U(3011,!1)}function MA(){return new U(3012,!1)}function xA(){return new U(3200,!1)}function EA(){return new U(3202,!1)}function PA(){return new U(3013,!1)}function OA(n){return new U(3014,!1)}function IA(n){return new U(3015,!1)}function SA(n){return new U(3016,!1)}function DA(n,e){return new U(3404,!1)}function JU(n){return new U(3502,!1)}function TA(n){return new U(3503,!1)}function AA(){return new U(3300,!1)}function kA(n){return new U(3504,!1)}function RA(n){return new U(3301,!1)}function NA(n,e){return new U(3302,!1)}function FA(n){return new U(3303,!1)}function LA(n,e){return new U(3400,!1)}function VA(n){return new U(3401,!1)}function jA(n){return new U(3402,!1)}function UA(n,e){return new U(3505,!1)}function so(n){switch(n.length){case 0:return new oo;case 1:return n[0];default:return new qc(n)}}function zb(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,m=d&&a||new Map;c.forEach((v,C)=>{let x=C,A=v;if(C!=="offset")switch(x=n.normalizePropertyName(x,i),A){case yd:A=t.get(C);break;case Ur:A=r.get(C);break;default:A=n.normalizeStyleValue(C,x,A,i);break}m.set(x,A)}),d||o.push(m),a=m,s=u}),i.length)throw JU(i);return o}function Dp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ub(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ub(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ub(t,"destroy",n)));break}}function Ub(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Tp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Tp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Un(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Hb(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var XU=typeof document>"u"?null:document.documentElement;function Ap(n){let e=n.parentNode||n.host||null;return e===XU?null:e}function eB(n){return n.substring(1,6)=="ebkit"}var ha=null,pA=!1;function BA(n){ha||(ha=tB()||{},pA=ha.style?"WebkitAppearance"in ha.style:!1);let e=!0;return ha.style&&!eB(n)&&(e=n in ha.style,!e&&pA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ha.style)),e}function tB(){return typeof document<"u"?document.body:null}function qb(n,e){for(;e;){if(e===n)return!0;e=Ap(e)}return!1}function Wb(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var nB=1e3,Gb="{{",rB="}}",Kb="ng-enter",kp="ng-leave",vd="ng-trigger",Cd=".ng-trigger",Yb="ng-animating",Rp=".ng-animating";function pi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bb(parseFloat(e[1]),e[2])}function Bb(n,e){switch(e){case"s":return n*nB;default:return n}}function bd(n,e,t){return n.hasOwnProperty("duration")?n:iB(n,e,t)}function iB(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(gA(n)),{duration:0,delay:0,easing:""};i=Bb(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Bb(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(GU()),a=!0),o<0&&(e.push(KU()),a=!0),a&&e.splice(c,0,gA(n))}return{duration:i,delay:o,easing:s}}function $A(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Br(n,e,t){e.forEach((r,i)=>{let o=Np(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function os(n,e){e.forEach((t,r)=>{let i=Np(r);n.style[i]=""})}function Wc(n){return Array.isArray(n)?n.length==1?n[0]:hA(n):n}function zA(n,e,t){let r=e.params||{},i=Qb(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(YU(o))})}var $b=new RegExp(`${Gb}\\s*(.+?)\\s*${rB}`,"g");function Qb(n){let e=[];if(typeof n=="string"){let t;for(;t=$b.exec(n);)e.push(t[1]);$b.lastIndex=0}return e}function Gc(n,e,t){let r=`${n}`,i=r.replace($b,(o,s)=>{let a=e[s];return a==null&&(t.push(QU(s)),a=""),a.toString()});return i==r?n:i}var oB=/-+([a-z0-9])/g;function Np(n){return n.replace(oB,(...e)=>e[1].toUpperCase())}function HA(n,e){return n===0||e===0}function qA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Fp(n,a)))}}return e}function Bn(n,e,t){switch(e.type){case Ie.Trigger:return n.visitTrigger(e,t);case Ie.State:return n.visitState(e,t);case Ie.Transition:return n.visitTransition(e,t);case Ie.Sequence:return n.visitSequence(e,t);case Ie.Group:return n.visitGroup(e,t);case Ie.Animate:return n.visitAnimate(e,t);case Ie.Keyframes:return n.visitKeyframes(e,t);case Ie.Style:return n.visitStyle(e,t);case Ie.Reference:return n.visitReference(e,t);case Ie.AnimateChild:return n.visitAnimateChild(e,t);case Ie.AnimateRef:return n.visitAnimateRef(e,t);case Ie.Query:return n.visitQuery(e,t);case Ie.Stagger:return n.visitStagger(e,t);default:throw ZU(e.type)}}function Fp(n,e){return window.getComputedStyle(n)[e]}var hw=(()=>{class n{validateStyleProperty(t){return BA(t)}containsElement(t,r){return qb(t,r)}getParentElement(t){return Ap(t)}query(t,r,i){return Wb(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new oo(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),pa=class{static NOOP=new hw},ma=class{};var sB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Bp=class extends ma{normalizePropertyName(e,t){return Np(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(sB.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(mA(e,r))}return s+o}};var $p="*";function aB(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>cB(r,t,e)):t.push(n),t}function cB(n,e,t){if(n[0]==":"){let c=lB(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(IA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(WA(i,s));let a=i==$p&&s==$p;o[0]=="<"&&!a&&e.push(WA(s,i))}function lB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(SA(n)),"* => *"}}var Lp=new Set(["true","1"]),Vp=new Set(["false","0"]);function WA(n,e){let t=Lp.has(n)||Vp.has(n),r=Lp.has(e)||Vp.has(e);return(i,o)=>{let s=n==$p||n==i,a=e==$p||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Lp.has(n):Vp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Lp.has(e):Vp.has(e)),s&&a}}var nk=":self",uB=new RegExp(`s*${nk}s*,?`,"g");function rk(n,e,t,r){return new nw(n).build(e,t,r)}var GA="",nw=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new rw(t);return this._resetContextStyleTimingState(i),Bn(this,Wc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=GA,e.collectedStyles=new Map,e.collectedStyles.set(GA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(_A()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ie.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==Ie.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(yA())}),{type:Ie.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Qb(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(vA(e.name,[...o.values()]))}return{type:Ie.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Bn(this,Wc(e.animation),t),i=aB(e.expr,t.errors);return{type:Ie.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ga(e.options)}}visitSequence(e,t){return{type:Ie.Sequence,steps:e.steps.map(r=>Bn(this,r,t)),options:ga(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Bn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ie.Group,steps:o,options:ga(e.options)}}visitAnimate(e,t){let r=gB(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:jb({});if(o.type==Ie.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=jb(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ie.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Ur?r.push(a):t.errors.push(CA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Gb)>=0){o=!0;break}}}),{type:Ie.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),m=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(bA(c,d.startTime,d.endTime,o,i)),m=!1),o=d.startTime),m&&u.set(c,{startTime:o,endTime:i}),t.options&&zA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ie.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(wA()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(W=>{let J=this._makeStyleAst(W,t),ee=J.offset!=null?J.offset:hB(J.styles),oe=0;return ee!=null&&(o++,oe=J.offset=ee),c=c||oe<0||oe>1,a=a||oe<u,u=oe,s.push(oe),J});c&&t.errors.push(MA()),a&&t.errors.push(xA());let m=e.steps.length,v=0;o>0&&o<m?t.errors.push(EA()):o==0&&(v=i/(m-1));let C=m-1,x=t.currentTime,A=t.currentAnimateTimings,N=A.duration;return d.forEach((W,J)=>{let ee=v>0?J==C?1:v*J:s[J],oe=ee*N;t.currentTime=x+A.delay+oe,A.duration=oe,this._validateStyleAst(W,t),W.offset=ee,r.styles.push(W)}),r}visitReference(e,t){return{type:Ie.Reference,animation:Bn(this,Wc(e.animation),t),options:ga(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ie.AnimateChild,options:ga(e.options)}}visitAnimateRef(e,t){return{type:Ie.AnimateRef,animation:this.visitReference(e.animation,t),options:ga(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=dB(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Un(t.collectedStyles,t.currentQuerySelector,new Map);let a=Bn(this,Wc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ie.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ga(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(PA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:bd(e.timings,t.errors,!0);return{type:Ie.Stagger,animation:Bn(this,Wc(e.animation),t),timings:r,options:null}}};function dB(n){let e=!!n.split(/\s*,\s*/).find(t=>t==nk);return e&&(n=n.replace(uB,"")),n=n.replace(/@\*/g,Cd).replace(/@\w+/g,t=>Cd+"-"+t.slice(1)).replace(/:animating/g,Rp),[n,e]}function fB(n){return n?z({},n):null}var rw=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function hB(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function gB(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=bd(n,e).duration;return Zb(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Zb(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=bd(t,e);return Zb(i.duration,i.delay,i.easing)}function ga(n){return n?(n=z({},n),n.params&&(n.params=fB(n.params))):n={},n}function Zb(n,e,t){return{duration:n,delay:e,easing:t}}function gw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Md=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},pB=1,mB=":enter",_B=new RegExp(mB,"g"),yB=":leave",vB=new RegExp(yB,"g");function ik(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new iw().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var iw=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new Md;let m=new ow(e,t,u,i,o,d,[]);m.options=c;let v=c.delay?pi(c.delay):0;m.currentTimeline.delayNextStep(v),m.currentTimeline.setStyles([s],null,m.errors,c),Bn(this,r,m);let C=m.timelines.filter(x=>x.containsAnimation());if(C.length&&a.size){let x;for(let A=C.length-1;A>=0;A--){let N=C[A];if(N.element===t){x=N;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([a],null,m.errors,c)}return C.length?C.map(x=>x.buildKeyframes()):[gw(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:pi(Gc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?pi(r.duration):null,a=r.delay!=null?pi(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Bn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ie.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zp);let s=pi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Bn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?pi(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Bn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Gc(r,t.params,t.errors):r;return bd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ie.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?pi(i.delay):0;o&&(t.previousNode.type===Ie.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let m=t.createSubContext(e.options,u);o&&m.delayNextStep(o),u===t.element&&(c=m.currentTimeline),Bn(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe();let v=m.currentTimeline.currentTime;s=Math.max(s,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let m=d.currentTime;Bn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}},zp={},ow=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Hp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=pi(r.duration)),r.delay!=null&&(i.delay=pi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Gc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=zp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new sw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(_B,"."+this._enterClassName),e=e.replace(vB,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(OA(t)),a}},Hp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=pB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ur),this._currentKeyframe.set(t,Ur);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=CB(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Gc(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ur),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,m)=>{d===yd?e.add(m):d===Ur&&t.add(m)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return gw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},sw=class extends Hp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",KA(a)),o.push(u);let d=e.length-1;for(let m=1;m<=d;m++){let v=new Map(e[m]),C=v.get("offset"),x=t+C*r;v.set("offset",KA(x/s)),o.push(v)}r=s,t=0,i="",e=o}return gw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function KA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function CB(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Ur)}else for(let[o,s]of i)t.set(o,s)}),t}function YA(n,e,t,r,i,o,s,a,c,u,d,m,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:m,errors:v}}var Jb={},qp=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return bB(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let m=[],v=this.ast.options&&this.ast.options.params||Jb,C=a&&a.params||Jb,x=this.buildStyles(r,C,m),A=c&&c.params||Jb,N=this.buildStyles(i,A,m),W=new Set,J=new Map,ee=new Map,oe=i==="void",$e={params:ok(A,v),delay:this.ast.options?.delay},be=d?[]:ik(e,t,this.ast.animation,o,s,x,N,$e,u,m),I=0;return be.forEach(M=>{I=Math.max(M.duration+M.delay,I)}),m.length?YA(t,this._triggerName,r,i,oe,x,N,[],[],J,ee,I,m):(be.forEach(M=>{let E=M.element,D=Un(J,E,new Set);M.preStyleProps.forEach(R=>D.add(R));let T=Un(ee,E,new Set);M.postStyleProps.forEach(R=>T.add(R)),E!==t&&W.add(E)}),YA(t,this._triggerName,r,i,oe,x,N,be,[...W.values()],J,ee,I))}};function bB(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function ok(n,e){let t=z({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var aw=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=ok(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Gc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function wB(n,e,t){return new cw(n,e,t)}var cw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new aw(i.style,o,r))}),QA(this.states,"true","1"),QA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qp(e,i,this.states))}),this.fallbackTransition=MB(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function MB(n,e,t){let r=[(s,a)=>!0],i={type:Ie.Sequence,steps:[],options:null},o={type:Ie.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new qp(n,o,e)}function QA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var xB=new Md,lw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=rk(this._driver,t,r,i);if(r.length)throw TA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=zb(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=ik(this._driver,t,o,Kb,kp,new Map,new Map,r,xB,i),s.forEach(d=>{let m=Un(a,d.element,new Map);d.postStyleProps.forEach(v=>m.set(v,null))})):(i.push(AA()),s=[]),i.length)throw kA(i);a.forEach((d,m)=>{d.forEach((v,C)=>{d.set(C,this._driver.computeStyle(m,C,Ur))})});let c=s.map(d=>{let m=a.get(d.element);return this._buildPlayer(d,new Map,m)}),u=so(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw RA(e);return t}listen(e,t,r,i){let o=Tp(t,"","","");return Dp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},ZA="ng-animate-queued",EB=".ng-animate-queued",Xb="ng-animate-disabled",PB=".ng-animate-disabled",OB="ng-star-inserted",IB=".ng-star-inserted",SB=[],sk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$r="__ng_removed",xd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=AB(i),r){let o=e,{value:s}=o,a=To(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},wd="void",ew=new xd(wd),uw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,yr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw NA(r,t);if(r==null||r.length==0)throw FA(t);if(!kB(r))throw LA(r,t);let o=Un(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Un(this._engine.statesByElement,e,new Map);return a.has(t)||(yr(e,vd),yr(e,vd+"-"+t),a.set(t,ew)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw VA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Ed(this.id,t,e),a=this._engine.statesByElement.get(e);a||(yr(e,vd),yr(e,vd+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new xd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=ew),!(u.value===wd)&&c.value===u.value){if(!FB(c.params,u.params)){let A=[],N=o.matchStyles(c.value,c.params,A),W=o.matchStyles(u.value,u.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{os(e,N),Br(e,W)})}return}let v=Un(this._engine.playersByElement,e,[]);v.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let C=o.matchTransition(c.value,u.value,e,u.params),x=!1;if(!C){if(!i)return;C=o.fallbackTransition,x=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:c,toState:u,player:s,isFallbackTransition:x}),x||(yr(e,ZA),s.onStart(()=>{Kc(e,ZA)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let N=this._engine.playersByElement.get(e);if(N){let W=N.indexOf(s);W>=0&&N.splice(W,1)}}),this.players.push(s),v.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Cd,!0);r.forEach(i=>{if(i[$r])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,wd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&so(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||ew,d=new xd(wd),m=new Ed(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[$r];(!o||o===sk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){yr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Tp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Dp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},dw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new uw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(jp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!jp(t))return;let o=t[$r];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yr(e,Xb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kc(e,Xb))}removeNode(e,t,r){if(jp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[$r]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return jp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Cd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Rp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return so(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[$r];if(t&&t.setForRemoval){if(e[$r]=sk,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Xb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,PB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];yr(i,OB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?so(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw jA(e)}_flushAnimations(e,t){let r=new Md,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ie=>{d.add(ie);let ae=this.driver.query(ie,EB,!0);for(let le=0;le<ae.length;le++)d.add(ae[le])});let m=this.bodyNode,v=Array.from(this.statesByElement.keys()),C=ek(v,this.collectedEnterElements),x=new Map,A=0;C.forEach((ie,ae)=>{let le=Kb+A++;x.set(ae,le),ie.forEach(De=>yr(De,le))});let N=[],W=new Set,J=new Set;for(let ie=0;ie<this.collectedLeaveElements.length;ie++){let ae=this.collectedLeaveElements[ie],le=ae[$r];le&&le.setForRemoval&&(N.push(ae),W.add(ae),le.hasAnimation?this.driver.query(ae,IB,!0).forEach(De=>W.add(De)):J.add(ae))}let ee=new Map,oe=ek(v,Array.from(W));oe.forEach((ie,ae)=>{let le=kp+A++;ee.set(ae,le),ie.forEach(De=>yr(De,le))}),e.push(()=>{C.forEach((ie,ae)=>{let le=x.get(ae);ie.forEach(De=>Kc(De,le))}),oe.forEach((ie,ae)=>{let le=ee.get(ae);ie.forEach(De=>Kc(De,le))}),N.forEach(ie=>{this.processLeaveNode(ie)})});let $e=[],be=[];for(let ie=this._namespaceList.length-1;ie>=0;ie--)this._namespaceList[ie].drainQueuedTransitions(t).forEach(le=>{let De=le.player,wt=le.element;if($e.push(De),this.collectedEnterElements.length){let vt=wt[$r];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(le.triggerName)){let Li=vt.previousTriggersValues.get(le.triggerName),kn=this.statesByElement.get(le.element);if(kn&&kn.has(le.triggerName)){let Vi=kn.get(le.triggerName);Vi.value=Li,kn.set(le.triggerName,Vi)}}De.destroy();return}}let ir=!m||!this.driver.containsElement(m,wt),yt=ee.get(wt),nt=x.get(wt),rt=this._buildInstruction(le,r,nt,yt,ir);if(rt.errors&&rt.errors.length){be.push(rt);return}if(ir){De.onStart(()=>os(wt,rt.fromStyles)),De.onDestroy(()=>Br(wt,rt.toStyles)),i.push(De);return}if(le.isFallbackTransition){De.onStart(()=>os(wt,rt.fromStyles)),De.onDestroy(()=>Br(wt,rt.toStyles)),i.push(De);return}let Po=[];rt.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||Po.push(vt)}),rt.timelines=Po,r.append(wt,rt.timelines);let ny={instruction:rt,player:De,element:wt};s.push(ny),rt.queriedElements.forEach(vt=>Un(a,vt,[]).push(De)),rt.preStyleProps.forEach((vt,Li)=>{if(vt.size){let kn=c.get(Li);kn||c.set(Li,kn=new Set),vt.forEach((Vi,Oo)=>kn.add(Oo))}}),rt.postStyleProps.forEach((vt,Li)=>{let kn=u.get(Li);kn||u.set(Li,kn=new Set),vt.forEach((Vi,Oo)=>kn.add(Oo))})});if(be.length){let ie=[];be.forEach(ae=>{ie.push(UA(ae.triggerName,ae.errors))}),$e.forEach(ae=>ae.destroy()),this.reportError(ie)}let I=new Map,M=new Map;s.forEach(ie=>{let ae=ie.element;r.has(ae)&&(M.set(ae,ae),this._beforeAnimationBuild(ie.player.namespaceId,ie.instruction,I))}),i.forEach(ie=>{let ae=ie.element;this._getPreviousPlayers(ae,!1,ie.namespaceId,ie.triggerName,null).forEach(De=>{Un(I,ae,[]).push(De),De.destroy()})});let E=N.filter(ie=>tk(ie,c,u)),D=new Map;XA(D,this.driver,J,u,Ur).forEach(ie=>{tk(ie,c,u)&&E.push(ie)});let R=new Map;C.forEach((ie,ae)=>{XA(R,this.driver,new Set(ie),c,yd)}),E.forEach(ie=>{let ae=D.get(ie),le=R.get(ie);D.set(ie,new Map([...ae?.entries()??[],...le?.entries()??[]]))});let O=[],rr=[],Eo={};s.forEach(ie=>{let{element:ae,player:le,instruction:De}=ie;if(r.has(ae)){if(d.has(ae)){le.onDestroy(()=>Br(ae,De.toStyles)),le.disabled=!0,le.overrideTotalTime(De.totalTime),i.push(le);return}let wt=Eo;if(M.size>1){let yt=ae,nt=[];for(;yt=yt.parentNode;){let rt=M.get(yt);if(rt){wt=rt;break}nt.push(yt)}nt.forEach(rt=>M.set(rt,wt))}let ir=this._buildAnimation(le.namespaceId,De,I,o,R,D);if(le.setRealPlayer(ir),wt===Eo)O.push(le);else{let yt=this.playersByElement.get(wt);yt&&yt.length&&(le.parentPlayer=so(yt)),i.push(le)}}else os(ae,De.fromStyles),le.onDestroy(()=>Br(ae,De.toStyles)),rr.push(le),d.has(ae)&&i.push(le)}),rr.forEach(ie=>{let ae=o.get(ie.element);if(ae&&ae.length){let le=so(ae);ie.setRealPlayer(le)}}),i.forEach(ie=>{ie.parentPlayer?ie.syncPlayerEvents(ie.parentPlayer):ie.destroy()});for(let ie=0;ie<N.length;ie++){let ae=N[ie],le=ae[$r];if(Kc(ae,kp),le&&le.hasAnimation)continue;let De=[];if(a.size){let ir=a.get(ae);ir&&ir.length&&De.push(...ir);let yt=this.driver.query(ae,Rp,!0);for(let nt=0;nt<yt.length;nt++){let rt=a.get(yt[nt]);rt&&rt.length&&De.push(...rt)}}let wt=De.filter(ir=>!ir.destroyed);wt.length?RB(this,ae,wt):this.processLeaveNode(ae)}return N.length=0,O.forEach(ie=>{this.players.push(ie),ie.onDone(()=>{ie.destroy();let ae=this.players.indexOf(ie);this.players.splice(ae,1)}),ie.play()}),O}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==wd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,m=Un(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(C=>{let x=C.getRealPlayer();x.beforeDestroy&&x.beforeDestroy(),C.destroy(),m.push(C)})}os(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,m=new Set,v=t.timelines.map(x=>{let A=x.element;d.add(A);let N=A[$r];if(N&&N.removedBeforeQueried)return new oo(x.duration,x.delay);let W=A!==c,J=NB((r.get(A)||SB).map(I=>I.getRealPlayer())).filter(I=>{let M=I;return M.element?M.element===A:!1}),ee=o.get(A),oe=s.get(A),$e=zb(this._normalizer,x.keyframes,ee,oe),be=this._buildPlayer(x,$e,J);if(x.subTimeline&&i&&m.add(A),W){let I=new Ed(e,a,A);I.setRealPlayer(be),u.push(I)}return be});u.forEach(x=>{Un(this.playersByQueriedElement,x.element,[]).push(x),x.onDone(()=>TB(this.playersByQueriedElement,x.element,x))}),d.forEach(x=>yr(x,Yb));let C=so(v);return C.onDestroy(()=>{d.forEach(x=>Kc(x,Yb)),Br(c,t.toStyles)}),m.forEach(x=>{Un(i,x,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new oo(e.duration,e.delay)}},Ed=class{namespaceId;triggerName;element;_player=new oo;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Dp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Un(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function TB(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function AB(n){return n??null}function jp(n){return n&&n.nodeType===1}function kB(n){return n=="start"||n=="done"}function JA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function XA(n,e,t,r,i){let o=[];t.forEach(c=>o.push(JA(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(m=>{let v=e.computeStyle(u,m,i);d.set(m,v),(!v||v.length==0)&&(u[$r]=DB,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>JA(c,o[a++])),s}function ek(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function yr(n,e){n.classList?.add(e)}function Kc(n,e){n.classList?.remove(e)}function RB(n,e,t){so(t).onDone(()=>n.processLeaveNode(e))}function NB(n){let e=[];return ak(n,e),e}function ak(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof qc?ak(r.players,e):e.push(r)}}function FB(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function tk(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Yc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new dw(e.body,t,r),this._timelineEngine=new lw(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=rk(this._driver,o,c,u);if(c.length)throw DA(i,c);a=wB(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Hb(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Hb(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function LB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tw(e[0]),e.length>1&&(r=tw(e[e.length-1]))):e instanceof Map&&(t=tw(e)),t||r?new VB(n,t,r):null}var VB=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Br(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Br(this._element,this._initialStyles),this._endStyles&&(Br(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(os(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(os(this._element,this._endStyles),this._endStyles=null),Br(this._element,this._initialStyles),this._state=3)}}return n})();function tw(n){let e=null;return n.forEach((t,r)=>{jB(r)&&(e=e||new Map,e.set(r,t))}),e}function jB(n){return n==="display"||n==="position"}var Wp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Fp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Gp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return qb(e,t)}getParentElement(e){return Ap(e)}query(e,t,r){return Wb(e,t,r)}computeStyle(e,t,r){return Fp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(C=>C instanceof Wp);HA(r,i)&&d.forEach(C=>{C.currentSnapshot.forEach((x,A)=>u.set(A,x))});let m=$A(t).map(C=>new Map(C));m=qA(e,m,u);let v=LB(e,m);return new Wp(e,m,c,v)}};var Up="@",ck="@.disabled",Kp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Up&&t==ck?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},fw=class extends Kp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Up?t.charAt(1)=="."&&t==ck?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Up){let o=UB(e),s=t.slice(1),a="";return s.charAt(0)!=Up&&([s,a]=BB(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function UB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function BB(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Yp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let m=()=>u.delete(i);d=new Kp(r,i,this.engine,m),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new fw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var zB=(()=>{class n extends Yc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ne(ht),ne(pa),ne(ma))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function HB(){return new Bp}function qB(n,e,t){return new Yp(n,e,t)}var lk=[{provide:ma,useFactory:HB},{provide:Yc,useClass:zB},{provide:Xi,useFactory:qB,deps:[Ju,Yc,Ae]}],bhe=[{provide:pa,useClass:hw},{provide:Eg,useValue:"NoopAnimations"},...lk],WB=[{provide:pa,useFactory:()=>new Gp},{provide:Eg,useFactory:()=>"BrowserAnimations"},...lk];function uk(){return to("NgEagerAnimations"),[...WB]}var dk=()=>{};var gk=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},GB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,m=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,C=u&63;c||(C=64,s||(v=64)),r.push(t[d],t[m],t[v],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new mw;let v=o<<2|a>>4;if(r.push(v),u!==64){let C=a<<4&240|u>>2;if(r.push(C),m!==64){let x=u<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},mw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KB=function(n){let e=gk(n);return Qp.encodeByteArray(e,!0)},Od=function(n){return KB(n).replace(/\./g,"")},Zp=function(n){try{return Qp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YB=()=>yw().__FIREBASE_DEFAULTS__,QB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zp(n[1]);return e&&JSON.parse(e)},Jp=()=>{try{return dk()||YB()||QB()||ZB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vw=n=>{var e,t;return(t=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Xp=n=>{let e=vw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Cw=()=>{var n;return(n=Jp())===null||n===void 0?void 0:n.config},bw=n=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${n}`]};var _a=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function mi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Qc(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function em(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Od(JSON.stringify(t)),Od(JSON.stringify(s)),""].join(".")}var Pd={};function JB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Pd))Pd[e]?n.emulator.push(e):n.prod.push(e);return n}function XB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var fk=!1;function Zc(n,e){if(typeof window>"u"||typeof document>"u"||!mi(window.location.host)||Pd[n]===e||Pd[n]||fk)return;Pd[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=JB().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{fk=!0,s()},v}function d(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){let v=XB(r),C=t("text"),x=document.getElementById(C)||document.createElement("span"),A=t("learnmore"),N=document.getElementById(A)||document.createElement("a"),W=t("preprendIcon"),J=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let ee=v.element;a(ee),d(N,A);let oe=u();c(J,W),ee.append(J,x,N,oe),document.body.appendChild(ee)}o?(x.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function e7(){var n;let e=(n=Jp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _k(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vk(){let n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ck(){return!e7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Id(){try{return typeof indexedDB=="object"}catch{return!1}}function bk(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var t7="FirebaseError",An=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t7,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}},zr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?n7(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new An(i,a,r)}};function n7(n,e){return n.replace(r7,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var r7=/\{\$([^}]+)}/g;function wk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _i(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(hk(o)&&hk(s)){if(!_i(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function hk(n){return n!==null&&typeof n=="object"}function Sd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Xc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Mk(n,e){let t=new _w(n,e);return t.subscribe.bind(t)}var _w=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");i7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=pw),i.error===void 0&&(i.error=pw),i.complete===void 0&&(i.complete=pw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function i7(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pw(){}var Ehe=4*60*60*1e3;function Qe(n){return n&&n._delegate?n._delegate:n}var cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ya="[DEFAULT]";var ww=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _a;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s7(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function o7(n){return n===ya?void 0:n}function s7(n){return n.instantiationMode==="EAGER"}var tm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ww(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var a7=[],ke=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ke||{}),c7={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},l7=ke.INFO,u7={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},d7=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=u7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yi=class{constructor(e){this.name=e,this._logLevel=l7,this._logHandler=d7,this._userLogHandler=null,a7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};var f7=(n,e)=>e.some(t=>n instanceof t),xk,Ek;function h7(){return xk||(xk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g7(){return Ek||(Ek=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Pk=new WeakMap,xw=new WeakMap,Ok=new WeakMap,Mw=new WeakMap,Pw=new WeakMap;function p7(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(vi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Pk.set(t,n)}).catch(()=>{}),Pw.set(e,n),e}function m7(n){if(xw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xw.set(n,e)}var Ew={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ok.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ik(n){Ew=n(Ew)}function _7(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(nm(this),e,...t);return Ok.set(r,e.sort?e.sort():[e]),vi(r)}:g7().includes(n)?function(...e){return n.apply(nm(this),e),vi(Pk.get(this))}:function(...e){return vi(n.apply(nm(this),e))}}function y7(n){return typeof n=="function"?_7(n):(n instanceof IDBTransaction&&m7(n),f7(n,h7())?new Proxy(n,Ew):n)}function vi(n){if(n instanceof IDBRequest)return p7(n);if(Mw.has(n))return Mw.get(n);let e=y7(n);return e!==n&&(Mw.set(n,e),Pw.set(e,n)),e}var nm=n=>Pw.get(n);function Dk(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=vi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(vi(s.result),c.oldVersion,c.newVersion,vi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var v7=["get","getKey","getAll","getAllKeys","count"],C7=["put","add","delete","clear"],Ow=new Map;function Sk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ow.get(e))return Ow.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=C7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v7.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Ow.set(e,o),o}Ik(n=>fe(z({},n),{get:(e,t,r)=>Sk(e,t)||n.get(e,t,r),has:(e,t)=>!!Sk(e,t)||n.has(e,t)}));var Sw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b7(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function b7(n){let e=n.getComponent();return e?.type==="VERSION"}var Dw="@firebase/app",Tk="0.13.2";var ao=new yi("@firebase/app"),w7="@firebase/app-compat",M7="@firebase/analytics-compat",x7="@firebase/analytics",E7="@firebase/app-check-compat",P7="@firebase/app-check",O7="@firebase/auth",I7="@firebase/auth-compat",S7="@firebase/database",D7="@firebase/data-connect",T7="@firebase/database-compat",A7="@firebase/functions",k7="@firebase/functions-compat",R7="@firebase/installations",N7="@firebase/installations-compat",F7="@firebase/messaging",L7="@firebase/messaging-compat",V7="@firebase/performance",j7="@firebase/performance-compat",U7="@firebase/remote-config",B7="@firebase/remote-config-compat",$7="@firebase/storage",z7="@firebase/storage-compat",H7="@firebase/firestore",q7="@firebase/ai",W7="@firebase/firestore-compat",G7="firebase",K7="11.10.0";var Tw="[DEFAULT]",Y7={[Dw]:"fire-core",[w7]:"fire-core-compat",[x7]:"fire-analytics",[M7]:"fire-analytics-compat",[P7]:"fire-app-check",[E7]:"fire-app-check-compat",[O7]:"fire-auth",[I7]:"fire-auth-compat",[S7]:"fire-rtdb",[D7]:"fire-data-connect",[T7]:"fire-rtdb-compat",[A7]:"fire-fn",[k7]:"fire-fn-compat",[R7]:"fire-iid",[N7]:"fire-iid-compat",[F7]:"fire-fcm",[L7]:"fire-fcm-compat",[V7]:"fire-perf",[j7]:"fire-perf-compat",[U7]:"fire-rc",[B7]:"fire-rc-compat",[$7]:"fire-gcs",[z7]:"fire-gcs-compat",[H7]:"fire-fst",[W7]:"fire-fst-compat",[q7]:"fire-vertex","fire-js":"fire-js",[G7]:"fire-js-all"};var Dd=new Map,Q7=new Map,Aw=new Map;function Ak(n,e){try{n.container.addComponent(e)}catch(t){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jn(n){let e=n.name;if(Aw.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;Aw.set(e,n);for(let t of Dd.values())Ak(t,n);for(let t of Q7.values())Ak(t,n);return!0}function as(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cn(n){return n==null?!1:n.settings!==void 0}var Z7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new zr("app","Firebase",Z7);var kw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}};var Ci=K7;function Fw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Tw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ss.create("bad-app-name",{appName:String(i)});if(t||(t=Cw()),!t)throw ss.create("no-options");let o=Dd.get(i);if(o){if(_i(t,o.options)&&_i(r,o.config))return o;throw ss.create("duplicate-app",{appName:i})}let s=new tm(i);for(let c of Aw.values())s.addComponent(c);let a=new kw(t,r,s);return Dd.set(i,a),a}function co(n=Tw){let e=Dd.get(n);if(!e&&n===Tw&&Cw())return Fw();if(!e)throw ss.create("no-app",{appName:n});return e}function rm(){return Array.from(Dd.values())}function et(n,e,t){var r;let i=(r=Y7[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(a.join(" "));return}Jn(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var J7="firebase-heartbeat-database",X7=1,Td="firebase-heartbeat-store",Iw=null;function Fk(){return Iw||(Iw=Dk(J7,X7,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Td)}catch(t){console.warn(t)}}}}).catch(n=>{throw ss.create("idb-open",{originalErrorMessage:n.message})})),Iw}function e$(n){return b(this,null,function*(){try{let t=(yield Fk()).transaction(Td),r=yield t.objectStore(Td).get(Lk(n));return yield t.done,r}catch(e){if(e instanceof An)ao.warn(e.message);else{let t=ss.create("idb-get",{originalErrorMessage:e?.message});ao.warn(t.message)}}})}function kk(n,e){return b(this,null,function*(){try{let r=(yield Fk()).transaction(Td,"readwrite");yield r.objectStore(Td).put(e,Lk(n)),yield r.done}catch(t){if(t instanceof An)ao.warn(t.message);else{let r=ss.create("idb-set",{originalErrorMessage:t?.message});ao.warn(r.message)}}})}function Lk(n){return`${n.name}!${n.options.appId}`}var t$=1024,n$=30,Rw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Nw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>n$){let s=i$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ao.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Rk(),{heartbeatsToSend:r,unsentEntries:i}=r$(this._heartbeatsCache.heartbeats),o=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ao.warn(t),""}})}};function Rk(){return new Date().toISOString().substring(0,10)}function r$(n,e=t$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Nk(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Nk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Nw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Id()?bk().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield e$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Nk(n){return Od(JSON.stringify({version:2,heartbeats:n})).length}function i$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function o$(n){Jn(new cn("platform-logger",e=>new Sw(e),"PRIVATE")),Jn(new cn("heartbeat",e=>new Rw(e),"PRIVATE")),et(Dw,Tk,n),et(Dw,Tk,"esm2017"),et("fire-js","")}o$("");var s$="firebase",a$="11.10.0";et(s$,a$,"app");function Vk(n){n===void 0&&(n=j(Je));let e=n.get(vc);return t=>new _e(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var bi=new oa("ANGULARFIRE2_VERSION");function Ca(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var cs=(n,e)=>{let t=e?[e]:rm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},el=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(el||{}),jk=ju()&&typeof Zone<"u"?el.WARN:el.SILENT;var im=class{zone;delegate;constructor(e,t=qy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},wi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=j(Ae);this.outsideAngular=t.runOutsideAngular(()=>new im(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new im(typeof Zone>"u"?void 0:Zone.current,Hy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uk=!1;function c$(n,e){!Uk&&(jk>el.SILENT||ju())&&(Uk=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),jk>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function l$(n){let e=j(Ae,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function va(n){let e=j(Ae,{optional:!0});return e?e.run(()=>n()):n()}var u$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),It(t,()=>va(()=>n.apply(void 0,r)))),ln=(n,e,t)=>(t||=e?el.WARN:el.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=j(wi),s=j(vc),a=j(Et)}catch{return c$(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=va(()=>s.add())),i[u]=u$(i[u],r,a));let c=l$(()=>n.apply(this,i));return e?c instanceof _e?c.pipe(No(o.outsideAngular),Ro(o.insideAngular),Vk(a)):c instanceof Promise?va(()=>{let u=s.add();return new Promise((d,m)=>{c.then(v=>It(a,()=>va(()=>d(v))),v=>It(a,()=>va(()=>m(v)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:va(()=>c):c instanceof _e?c.pipe(No(o.outsideAngular),Ro(o.insideAngular)):va(()=>c)});var Hr=class{constructor(e){return e}},lo=class{constructor(){return rm()}};function d$(n){return n&&n.length===1?n[0]:new Hr(co())}var Lw=new X("angularfire2._apps"),f$={provide:Hr,useFactory:d$,deps:[[new St,Lw]]},h$={provide:lo,deps:[[new St,Lw]]};function g$(n){return(e,t)=>{let r=t.get(Ko);et("angularfire",bi.full,"core"),et("angularfire",bi.full,"app"),et("angular",MD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hr(i)}}function Bk(n,...e){return Gt([f$,h$,{provide:Lw,useFactory:g$(n),multi:!0,deps:[Ae,Je,wi,...e]}])}var $k=ln(Fw,!0);var p$=new Map,m$={activated:!1,tokenObservers:[]},_$={initialized:!1,enabled:!1};function qr(n){return p$.get(n)||Object.assign({},m$)}function Wk(){return _$}var y$="https://content-firebaseappcheck.googleapis.com/v1";var v$="exchangeDebugToken",zk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ige=24*60*60*1e3;var Uw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new _a,this.pending.promise.catch(t=>{}),yield C$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _a,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function C$(n){return new Promise(e=>{setTimeout(e,n)})}var b$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ls=new zr("appCheck","AppCheck",b$);function Gk(n){if(!qr(n).activated)throw ls.create("use-before-activation",{appName:n.name})}function Kk(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let C=yield s.getHeartbeatsHeader();C&&(o["X-Firebase-Client"]=C)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(C){throw ls.create("fetch-network-error",{originalErrorMessage:C?.message})}if(c.status!==200)throw ls.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(C){throw ls.create("fetch-parse-error",{originalErrorMessage:C?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let m=Number(d[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}})}function Yk(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${y$}/projects/${t}/apps/${r}:${v$}?key=${i}`,body:{debug_token:e}}}var w$="firebase-app-check-database",M$=1,Bw="firebase-app-check-store";var om=null;function x$(){return om||(om=new Promise((n,e)=>{try{let t=indexedDB.open(w$,M$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ls.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Bw,{keyPath:"compositeKey"})}}}catch(t){e(ls.create("storage-open",{originalErrorMessage:t?.message}))}}),om)}function E$(n,e){return P$(O$(n),e)}function P$(n,e){return b(this,null,function*(){let r=(yield x$()).transaction(Bw,"readwrite"),o=r.objectStore(Bw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(ls.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function O$(n){return`${n.options.appId}-${n.name}`}var Ad=new yi("@firebase/app-check");function Vw(n,e){return Id()?E$(n,e).catch(t=>{Ad.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qk(){return Wk().enabled}function Zk(){return b(this,null,function*(){let n=Wk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var I$={error:"UNKNOWN_ERROR"};function S$(n){return Qp.encodeString(JSON.stringify(n),!1)}function $w(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;Gk(r);let i=qr(r),o=i.token,s;if(o&&!kd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(kd(u)?o=u:yield Vw(r,void 0))}if(!e&&o&&kd(o))return{token:o.token};let a=!1;if(Qk())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Kk(Yk(r,yield Zk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Vw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ad.warn(u.message):t&&Ad.error(u),jw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield qr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ad.warn(u.message):t&&Ad.error(u),s=u}let c;return o?s?kd(o)?c={token:o.token,internalError:s}:c=jw(s):(c={token:o.token},i.token=o,yield Vw(r,o)):c=jw(s),a&&k$(r,c),c})}function D$(n){return b(this,null,function*(){let e=n.app;Gk(e);let{provider:t}=qr(e);if(Qk()){let r=yield Zk(),{token:i}=yield Kk(Yk(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function T$(n,e,t,r){let{app:i}=n,o=qr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&kd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Hk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Hk(n))}function Jk(n,e){let t=qr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Hk(n){let{app:e}=n,t=qr(e),r=t.tokenRefresher;r||(r=A$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function A$(n){let{app:e}=n;return new Uw(()=>b(null,null,function*(){let t=qr(e),r;if(t.token?r=yield $w(n,!0):r=yield $w(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=qr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},zk.RETRIAL_MIN_WAIT,zk.RETRIAL_MAX_WAIT)}function k$(n,e){let t=qr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function kd(n){return n.expireTimeMillis-Date.now()>0}function jw(n){return{token:S$(I$),error:n}}var zw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=qr(this.app);for(let t of e)Jk(this.app,t.next);return Promise.resolve()}};function R$(n,e){return new zw(n,e)}function N$(n){return{getToken:e=>$w(n,e),getLimitedUseToken:()=>D$(n),addTokenListener:e=>T$(n,"INTERNAL",e),removeTokenListener:e=>Jk(n.app,e)}}var F$="@firebase/app-check",L$="0.10.1";var V$="app-check",qk="app-check-internal";function j$(){Jn(new cn(V$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return R$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qk).initialize()})),Jn(new cn(qk,n=>{let e=n.getProvider("app-check").getImmediate();return N$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),et(F$,L$)}j$();var U$="app-check";var us=class{constructor(){return cs(U$)}};var B$=["localhost","0.0.0.0","127.0.0.1"],Bge=typeof window<"u"&&B$.includes(window.location.hostname);function gR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pR=gR,mR=new zr("auth","Firebase",gR());var dm=new yi("@firebase/auth");function $$(n,...e){dm.logLevel<=ke.WARN&&dm.warn(`Auth (${Ci}): ${n}`,...e)}function am(n,...e){dm.logLevel<=ke.ERROR&&dm.error(`Auth (${Ci}): ${n}`,...e)}function Wr(n,...e){throw pM(n,...e)}function ba(n,...e){return pM(n,...e)}function _R(n,e,t){let r=Object.assign(Object.assign({},pR()),{[e]:t});return new zr("auth","Firebase",r).create(e,{appName:n.name})}function ho(n){return _R(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pM(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mR.create(n,...e)}function ce(n,e,...t){if(!n)throw pM(e,...t)}function uo(n){let e="INTERNAL ASSERTION FAILED: "+n;throw am(e),new Error(e)}function hs(n,e){n||uo(e)}function Gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function z$(){return Xk()==="http:"||Xk()==="https:"}function Xk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function H$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z$()||_k()||"connection"in navigator)?navigator.onLine:!0}function q$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var wa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hs(t>e,"Short delay should be less than long delay!"),this.isMobile=pk()||yk()}get(){return H$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mM(n,e){hs(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var fm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var W$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var G$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K$=new wa(3e4,6e4);function xi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Gr(o,s,a,c){return b(this,arguments,function*(n,e,t,r,i={}){return yR(n,i,()=>b(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let m=Sd(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let C=Object.assign({method:e,headers:v},u);return mk()||(C.referrerPolicy="no-referrer"),n.emulatorConfig&&mi(n.emulatorConfig.host)&&(C.credentials="include"),fm.fetch()(yield vR(n,n.config.apiHost,t,m),C)}))})}function yR(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},W$),e);try{let i=new Kw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw sm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw sm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _R(n,d,u);Wr(n,d)}}catch(i){if(i instanceof An)throw i;Wr(n,"network-request-failed",{message:String(i)})}})}function $d(o,s,a,c){return b(this,arguments,function*(n,e,t,r,i={}){let u=yield Gr(n,e,t,r,i);return"mfaPendingCredential"in u&&Wr(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function vR(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?mM(n.config,i):`${n.config.apiScheme}://${i}`;return G$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Y$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Kw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ba(this.auth,"network-request-failed")),K$.get())})}};function sm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ba(n,e,r);return i.customData._tokenResponse=t,i}function eR(n){return n!==void 0&&n.enterprise!==void 0}var Yw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Y$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Q$(n,e){return b(this,null,function*(){return Gr(n,"GET","/v2/recaptchaConfig",xi(n,e))})}function Z$(n,e){return b(this,null,function*(){return Gr(n,"POST","/v1/accounts:delete",e)})}function hm(n,e){return b(this,null,function*(){return Gr(n,"POST","/v1/accounts:lookup",e)})}function Nd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _M(n,e=!1){return b(this,null,function*(){let t=Qe(n),r=yield t.getIdToken(e),i=yM(r);ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Nd(Hw(i.auth_time)),issuedAtTime:Nd(Hw(i.iat)),expirationTime:Nd(Hw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hw(n){return Number(n)*1e3}function yM(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zp(t);return i?JSON.parse(i):(am("Failed to decode base64 JWT payload"),null)}catch(i){return am("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tR(n){let e=yM(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tl(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof An&&J$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function J$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Qw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ld=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nd(this.lastLoginAt),this.creationTime=Nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gm(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield tl(n,hm(t,{idToken:r}));ce(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CR(o.providerUserInfo):[],a=X$(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ld(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,m)})}function vM(n){return b(this,null,function*(){let e=Qe(n);yield gm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function X$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CR(n){return n.map(e=>{var{providerId:t}=e,r=Wy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function e9(n,e){return b(this,null,function*(){let t=yield yR(n,{},()=>b(null,null,function*(){let r=Sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield vR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&mi(n.emulatorConfig.host)&&(c.credentials="include"),fm.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function t9(n,e){return b(this,null,function*(){return Gr(n,"POST","/v2/accounts:revokeToken",xi(n,e))})}var Fd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=tR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield e9(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return uo("not implemented")}};function ds(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var fs=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Wy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ld(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield tl(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return _M(this,e)}reload(){return vM(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield gm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Cn(this.auth.app))return Promise.reject(ho(this.auth));let e=yield this.getIdToken();return yield tl(this,Z$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,W=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ee,emailVerified:oe,isAnonymous:$e,providerData:be,stsTokenManager:I}=t;ce(ee&&I,e,"internal-error");let M=Fd.fromJSON(this.name,I);ce(typeof ee=="string",e,"internal-error"),ds(m,e.name),ds(v,e.name),ce(typeof oe=="boolean",e,"internal-error"),ce(typeof $e=="boolean",e,"internal-error"),ds(C,e.name),ds(x,e.name),ds(A,e.name),ds(N,e.name),ds(W,e.name),ds(J,e.name);let E=new n({uid:ee,auth:e,email:v,emailVerified:oe,displayName:m,isAnonymous:$e,photoURL:x,phoneNumber:C,tenantId:A,stsTokenManager:M,createdAt:W,lastLoginAt:J});return be&&Array.isArray(be)&&(E.providerData=be.map(D=>Object.assign({},D))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Fd;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?CR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Fd;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ld(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var nR=new Map;function fo(n){hs(n instanceof Function,"Expected a class definition");let e=nR.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nR.set(n,e),e)}var n9=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Zw=n9;function cm(n,e,t){return`firebase:${n}:${e}:${t}`}var pm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=cm(this.userKey,i.apiKey,o),this.fullPersistenceKey=cm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield hm(this.auth,{idToken:e}).catch(()=>{});return t?fs._fromGetAccountInfoResponse(this.auth,t,e):null}return fs._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(fo(Zw),e,r);let i=(yield Promise.all(t.map(u=>b(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||fo(Zw),s=cm(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let m;if(typeof d=="string"){let v=yield hm(e,{idToken:d}).catch(()=>{});if(!v)break;m=yield fs._fromGetAccountInfoResponse(e,v,d)}else m=fs._fromJSON(e,d);u!==o&&(a=m),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>b(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function rR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PR(e))return"Blackberry";if(OR(e))return"Webos";if(wR(e))return"Safari";if((e.includes("chrome/")||MR(e))&&!e.includes("edge/"))return"Chrome";if(ER(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function bR(n=Kt()){return/firefox\//i.test(n)}function wR(n=Kt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MR(n=Kt()){return/crios\//i.test(n)}function xR(n=Kt()){return/iemobile/i.test(n)}function ER(n=Kt()){return/android/i.test(n)}function PR(n=Kt()){return/blackberry/i.test(n)}function OR(n=Kt()){return/webos/i.test(n)}function CM(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r9(n=Kt()){var e;return CM(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i9(){return vk()&&document.documentMode===10}function IR(n=Kt()){return CM(n)||ER(n)||OR(n)||PR(n)||/windows phone/i.test(n)||xR(n)}function SR(n,e=[]){let t;switch(n){case"Browser":t=rR(Kt());break;case"Worker":t=`${rR(Kt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ci}/${r}`}var Jw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function o9(t){return b(this,arguments,function*(n,e={}){return Gr(n,"GET","/v2/passwordPolicy",xi(n,e))})}var s9=6,Xw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:s9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var eM=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mm(this),this.idTokenSubscription=new mm(this),this.beforeStateQueue=new Jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fo(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield pm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield hm(this,{idToken:e}),r=yield fs._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(Cn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield gm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=q$()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(Cn(this.app))return Promise.reject(ho(this));let t=e?Qe(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Cn(this.app)?Promise.reject(ho(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Cn(this.app)?Promise.reject(ho(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(fo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield o9(this),t=new Xw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield t9(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&fo(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield pm.create(this,[fo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&$$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function go(n){return Qe(n)}var mm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mk(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xm={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a9(n){xm=n}function DR(n){return xm.loadJS(n)}function c9(){return xm.recaptchaEnterpriseScript}function l9(){return xm.gapiScript}function TR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var tM=class{constructor(){this.enterprise=new nM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},nM=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var u9="recaptcha-enterprise",AR="NO_RECAPTCHA",rM=class{constructor(e){this.type=u9,this.auth=go(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(null,null,function*(){Q$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Yw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;eR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(AR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tM().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&eR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=c9();c.length!==0&&(c+=a),DR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Rd(n,e,t,r=!1,i=!1){return b(this,null,function*(){let o=new rM(n),s;if(i)s=AR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function _m(n,e,t,r,i){return b(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Rd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>b(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Rd(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Rd(n,e,t);return r(n,a).catch(c=>b(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Rd(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Rd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function bM(n,e){let t=as(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(_i(o,e??{}))return i;Wr(i,"already-initialized")}return t.initialize({options:e})}function d9(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(fo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function wM(n,e,t){let r=go(n);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=kR(e),{host:s,port:a}=f9(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(_i(u,r.config.emulator)&&_i(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,mi(s)?(Qc(`${o}//${s}${c}`),Zc("Auth",!0)):i||h9()}function kR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f9(n){let e=kR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:iR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:iR(s)}}}function iR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function h9(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Vd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return uo("not implemented")}_getIdTokenResponse(e){return uo("not implemented")}_linkToIdToken(e,t){return uo("not implemented")}_getReauthenticationResolver(e){return uo("not implemented")}};function RR(n,e){return b(this,null,function*(){return Gr(n,"POST","/v1/accounts:resetPassword",xi(n,e))})}function g9(n,e){return b(this,null,function*(){return Gr(n,"POST","/v1/accounts:signUp",e)})}function p9(n,e){return b(this,null,function*(){return $d(n,"POST","/v1/accounts:signInWithPassword",xi(n,e))})}function m9(n,e){return b(this,null,function*(){return Gr(n,"POST","/v1/accounts:sendOobCode",xi(n,e))})}function _9(n,e){return b(this,null,function*(){return m9(n,e)})}function y9(n,e){return b(this,null,function*(){return $d(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))})}function v9(n,e){return b(this,null,function*(){return $d(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))})}var jd=class n extends Vd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,t,"signInWithPassword",p9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y9(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,r,"signUpPassword",g9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v9(e,{idToken:t,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qw(n,e){return b(this,null,function*(){return $d(n,"POST","/v1/accounts:signInWithIdp",xi(n,e))})}function C9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b9(n){let e=Jc(Xc(n)).link,t=e?Jc(Xc(e)).deep_link_id:null,r=Jc(Xc(n)).deep_link_id;return(r?Jc(Xc(r)).link:null)||r||t||e||n}var ym=class n{constructor(e){var t,r,i,o,s,a;let c=Jc(Xc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,m=C9((i=c.mode)!==null&&i!==void 0?i:null);ce(u&&d&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=b9(e);try{return new n(t)}catch{return null}}};var NR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return jd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ym.parseLink(r);return ce(i,"argument-error"),jd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),vm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var iM=class extends vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function w9(n,e){return b(this,null,function*(){return $d(n,"POST","/v1/accounts:signUp",xi(n,e))})}var nl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield fs._fromIdTokenResponse(e,r,i),s=oR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=oR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function oR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var oM=class n extends An{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function FR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oM._fromErrorAndOperation(n,o,e,r):o})}function M9(n,e,t=!1){return b(this,null,function*(){let r=yield tl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return nl._forOperation(n,"link",r)})}function x9(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(Cn(r.app))return Promise.reject(ho(r));let i="reauthenticate";try{let o=yield tl(n,FR(r,i,e,n),t);ce(o.idToken,r,"internal-error");let s=yM(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(n.uid===a,r,"user-mismatch"),nl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wr(r,"user-mismatch"),o}})}function LR(n,e,t=!1){return b(this,null,function*(){if(Cn(n.app))return Promise.reject(ho(n));let r="signIn",i=yield FR(n,r,e),o=yield nl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function MM(n,e){return b(this,null,function*(){return LR(go(n),e)})}var Ud=class{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?sM._fromServerResponse(e,t):"totpInfo"in t?aM._fromServerResponse(e,t):Wr(e,"internal-error")}},sM=class n extends Ud{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new n(t)}},aM=class n extends Ud{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new n(t)}};function E9(n,e,t){var r;ce(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ce(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ce(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ce(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function xM(n){return b(this,null,function*(){let e=go(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function EM(n,e,t){return b(this,null,function*(){let r=go(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&E9(r,i,t),yield _m(r,i,"getOobCode",_9,"EMAIL_PASSWORD_PROVIDER")})}function PM(n,e,t){return b(this,null,function*(){yield RR(Qe(n),{oobCode:e,newPassword:t}).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&xM(n),r}))})}function OM(n,e){return b(this,null,function*(){let t=Qe(n),r=yield RR(t,{oobCode:e}),i=r.requestType;switch(ce(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(r.mfaInfo,t,"internal-error");default:ce(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Ud._fromServerResponse(go(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})}function IM(n,e){return b(this,null,function*(){let{data:t}=yield OM(Qe(n),e);return t.email})}function SM(n,e,t){return b(this,null,function*(){if(Cn(n.app))return Promise.reject(ho(n));let r=go(n),s=yield _m(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w9,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&xM(n),c}),a=yield nl._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function DM(n,e,t){return Cn(n.app)?Promise.reject(ho(n)):MM(Qe(n),NR.credential(e,t)).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&xM(n),r}))}function P9(n,e){return b(this,null,function*(){return Gr(n,"POST","/v1/accounts:update",e)})}function TM(r,i){return b(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Qe(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield tl(o,P9(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function AM(n,e,t,r){return Qe(n).onIdTokenChanged(e,t,r)}function kM(n,e,t){return Qe(n).beforeAuthStateChanged(e,t)}function RM(n,e,t,r){return Qe(n).onAuthStateChanged(e,t,r)}function NM(n){return Qe(n).signOut()}var Cm="__sak";var bm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var O9=1e3,I9=10,S9=(()=>{class n extends bm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);i9()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,I9):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},O9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Ao(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Ao(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Ao(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),VR=S9;var D9=(()=>{class n extends bm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),FM=D9;function T9(n){return Promise.all(n.map(e=>b(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var A9=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>b(this,null,function*(){return d(r.origin,s)})),u=yield T9(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function jR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var cM=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=jR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let v=m;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Mi(){return window}function k9(n){Mi().location.href=n}function UR(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}function R9(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function N9(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function F9(){return UR()?self:null}var BR="firebaseLocalStorageDb",L9=1,wm="firebaseLocalStorage",$R="fbase_key",Ma=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Em(n,e){return n.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function V9(){let n=indexedDB.deleteDatabase(BR);return new Ma(n).toPromise()}function lM(){let n=indexedDB.open(BR,L9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(wm,{keyPath:$R})}catch(i){t(i)}}),n.addEventListener("success",()=>b(null,null,function*(){let r=n.result;r.objectStoreNames.contains(wm)?e(r):(r.close(),yield V9(),e(yield lM()))}))})}function sR(n,e,t){return b(this,null,function*(){let r=Em(n,!0).put({[$R]:e,value:t});return new Ma(r).toPromise()})}function j9(n,e){return b(this,null,function*(){let t=Em(n,!1).get(e),r=yield new Ma(t).toPromise();return r===void 0?null:r.value})}function aR(n,e){let t=Em(n,!0).delete(e);return new Ma(t).toPromise()}var U9=800,B9=3,$9=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield lM(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>B9)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return UR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=A9._getInstance(F9()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield R9(),!this.activeServiceWorker)return;this.sender=new cM(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||N9()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield lM();return yield sR(t,Cm,"1"),yield aR(t,Cm),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>sR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>j9(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>aR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=Em(o,!1).getAll();return new Ma(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),zR=$9;var Yge=TR("rcb"),Qge=new wa(3e4,6e4);function z9(n,e){return e?fo(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Bd=class extends Vd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function H9(n){return LR(n.auth,new Bd(n),n.bypassAuthState)}function q9(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),x9(t,new Bd(n),n.bypassAuthState)}function W9(n){return b(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),M9(t,new Bd(n),n.bypassAuthState)})}var uM=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H9;case"linkViaPopup":case"linkViaRedirect":return W9;case"reauthViaPopup":case"reauthViaRedirect":return q9;default:Wr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Zge=new wa(2e3,1e4);var G9="pendingRedirect",lm=new Map,dM=class n extends uM{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=lm.get(this.auth._key());if(!e){try{let r=(yield K9(this.resolver,this.auth))?yield Ao(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Ao(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ao(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function K9(n,e){return b(this,null,function*(){let t=Z9(e),r=Q9(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Y9(n,e){lm.set(n._key(),e)}function Q9(n){return fo(n._redirectPersistence)}function Z9(n){return cm(G9,n.config.apiKey,n.name)}function J9(n,e,t=!1){return b(this,null,function*(){if(Cn(n.app))return Promise.reject(ho(n));let r=go(n),i=z9(r,e),s=yield new dM(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var X9=10*60*1e3,fM=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ez(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!HR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ba(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X9&&this.cachedEventUids.clear(),this.cachedEventUids.has(cR(e))}saveEventToCache(e){this.cachedEventUids.add(cR(e)),this.lastProcessedEventTime=Date.now()}};function cR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ez(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HR(n);default:return!1}}function tz(t){return b(this,arguments,function*(n,e={}){return Gr(n,"GET","/v1/projects",e)})}var nz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rz=/^https?/;function iz(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield tz(n);for(let t of e)try{if(oz(t))return}catch{}Wr(n,"unauthorized-domain")})}function oz(n){let e=Gw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!rz.test(t))return!1;if(nz.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var sz=new wa(3e4,6e4);function lR(){let n=Mi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function az(n){return new Promise((e,t)=>{var r,i,o;function s(){lR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lR(),t(ba(n,"network-request-failed"))},timeout:sz.get()})}if(!((i=(r=Mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mi().gapi)===null||o===void 0)&&o.load)s();else{let a=TR("iframefcb");return Mi()[a]=()=>{gapi.load?s():t(ba(n,"network-request-failed"))},DR(`${l9()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw um=null,e})}var um=null;function cz(n){return um=um||az(n),um}var lz=new wa(5e3,15e3),uz="__/auth/iframe",dz="emulator/auth/iframe",fz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gz(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?mM(e,dz):`https://${n.config.authDomain}/${uz}`,r={apiKey:e.apiKey,appName:n.name,v:Ci},i=hz.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sd(r).slice(1)}`}function pz(n){return b(this,null,function*(){let e=yield cz(n),t=Mi().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:gz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fz,dontclear:!0},r=>new Promise((i,o)=>b(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ba(n,"network-request-failed"),a=Mi().setTimeout(()=>{o(s)},lz.get());function c(){Mi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var mz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_z=500,yz=600,vz="_blank",Cz="http://localhost",Mm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function bz(n,e,t,r=_z,i=yz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},mz),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Kt().toLowerCase();t&&(a=MR(u)?vz:t),bR(u)&&(e=e||Cz,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[C,x])=>`${v}${C}=${x},`,"");if(r9(u)&&a!=="_self")return wz(e||"",a),new Mm(null);let m=window.open(e||"",a,d);ce(m,n,"popup-blocked");try{m.focus()}catch{}return new Mm(m)}function wz(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Mz="__/auth/handler",xz="emulator/auth/handler",Ez=encodeURIComponent("fac");function uR(n,e,t,r,i,o){return b(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ci,eventId:i};if(e instanceof vm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,m]of Object.entries(o||{}))s[d]=m}if(e instanceof iM){let d=e.getScopes().filter(m=>m!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${Ez}=${encodeURIComponent(c)}`:"";return`${Pz(n)}?${Sd(a).slice(1)}${u}`})}function Pz({config:n}){return n.emulator?mM(n,xz):`https://${n.authDomain}/${Mz}`}var Ww="webStorageSupport",hM=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FM,this._completeRedirectFn=J9,this._overrideRedirectResult=Y9}_openPopup(e,t,r,i){return b(this,null,function*(){var o;hs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield uR(e,t,r,Gw(),i);return bz(e,s,jR())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield uR(e,t,r,Gw(),i);return k9(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hs(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield pz(e),r=new fM(e);return t.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ww,{type:Ww},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ww];s!==void 0&&t(!!s),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IR()||wR()||CM()}},qR=hM;var dR="@firebase/auth",fR="1.10.8";var gM=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Oz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Iz(n){Jn(new cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SR(n)},u=new eM(r,i,o,c);return d9(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new cn("auth-internal",e=>{let t=go(e.getProvider("auth").getImmediate());return(r=>new gM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(dR,fR,Oz(n)),et(dR,fR,"esm2017")}var Sz=5*60,Dz=bw("authIdTokenMaxAge")||Sz,hR=null,Tz=n=>e=>b(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Dz)return;let i=t?.token;hR!==i&&(hR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function LM(n=co()){let e=as(n,"auth");if(e.isInitialized())return e.getImmediate();let t=bM(n,{popupRedirectResolver:qR,persistence:[zR,VR,FM]}),r=bw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Tz(o.toString());kM(t,s,()=>s(t.currentUser)),AM(t,a=>s(a))}}let i=vw("auth");return i&&wM(t,`http://${i}`),t}function Az(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}a9({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ba("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Az().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Iz("Browser");var WR="auth",xa=class{constructor(e){return e}},Ea=class{constructor(){return cs(WR)}};var VM=new X("angularfire2.auth-instances");function pH(n,e){let t=Ca(WR,n,e);return t&&new xa(t)}function mH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xa(r)}}var _H={provide:Ea,deps:[[new St,VM]]},yH={provide:xa,useFactory:pH,deps:[[new St,VM],Hr]};function GR(n,...e){return et("angularfire",bi.full,"auth"),Gt([yH,_H,{provide:VM,useFactory:mH(n),multi:!0,deps:[Ae,Je,wi,lo,[new St,us],...e]}])}var KR=ln(PM,!0,2);var YR=ln(SM,!0,2);var QR=ln(LM,!0);var ZR=ln(RM,!0);var JR=ln(EM,!0,2);var XR=ln(DM,!0,2);var eN=ln(NM,!0,2);var tN=ln(TM,!0,2);var nN=ln(IM,!0,2);var rN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iN={};var po,jM;(function(){var n;function e(I,M){function E(){}E.prototype=M.prototype,I.D=M.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(D,T,R){for(var O=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)O[rr-2]=arguments[rr];return M.prototype[T].apply(D,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,M,E){E||(E=0);var D=Array(16);if(typeof M=="string")for(var T=0;16>T;++T)D[T]=M.charCodeAt(E++)|M.charCodeAt(E++)<<8|M.charCodeAt(E++)<<16|M.charCodeAt(E++)<<24;else for(T=0;16>T;++T)D[T]=M[E++]|M[E++]<<8|M[E++]<<16|M[E++]<<24;M=I.g[0],E=I.g[1],T=I.g[2];var R=I.g[3],O=M+(R^E&(T^R))+D[0]+3614090360&4294967295;M=E+(O<<7&4294967295|O>>>25),O=R+(T^M&(E^T))+D[1]+3905402710&4294967295,R=M+(O<<12&4294967295|O>>>20),O=T+(E^R&(M^E))+D[2]+606105819&4294967295,T=R+(O<<17&4294967295|O>>>15),O=E+(M^T&(R^M))+D[3]+3250441966&4294967295,E=T+(O<<22&4294967295|O>>>10),O=M+(R^E&(T^R))+D[4]+4118548399&4294967295,M=E+(O<<7&4294967295|O>>>25),O=R+(T^M&(E^T))+D[5]+1200080426&4294967295,R=M+(O<<12&4294967295|O>>>20),O=T+(E^R&(M^E))+D[6]+2821735955&4294967295,T=R+(O<<17&4294967295|O>>>15),O=E+(M^T&(R^M))+D[7]+4249261313&4294967295,E=T+(O<<22&4294967295|O>>>10),O=M+(R^E&(T^R))+D[8]+1770035416&4294967295,M=E+(O<<7&4294967295|O>>>25),O=R+(T^M&(E^T))+D[9]+2336552879&4294967295,R=M+(O<<12&4294967295|O>>>20),O=T+(E^R&(M^E))+D[10]+4294925233&4294967295,T=R+(O<<17&4294967295|O>>>15),O=E+(M^T&(R^M))+D[11]+2304563134&4294967295,E=T+(O<<22&4294967295|O>>>10),O=M+(R^E&(T^R))+D[12]+1804603682&4294967295,M=E+(O<<7&4294967295|O>>>25),O=R+(T^M&(E^T))+D[13]+4254626195&4294967295,R=M+(O<<12&4294967295|O>>>20),O=T+(E^R&(M^E))+D[14]+2792965006&4294967295,T=R+(O<<17&4294967295|O>>>15),O=E+(M^T&(R^M))+D[15]+1236535329&4294967295,E=T+(O<<22&4294967295|O>>>10),O=M+(T^R&(E^T))+D[1]+4129170786&4294967295,M=E+(O<<5&4294967295|O>>>27),O=R+(E^T&(M^E))+D[6]+3225465664&4294967295,R=M+(O<<9&4294967295|O>>>23),O=T+(M^E&(R^M))+D[11]+643717713&4294967295,T=R+(O<<14&4294967295|O>>>18),O=E+(R^M&(T^R))+D[0]+3921069994&4294967295,E=T+(O<<20&4294967295|O>>>12),O=M+(T^R&(E^T))+D[5]+3593408605&4294967295,M=E+(O<<5&4294967295|O>>>27),O=R+(E^T&(M^E))+D[10]+38016083&4294967295,R=M+(O<<9&4294967295|O>>>23),O=T+(M^E&(R^M))+D[15]+3634488961&4294967295,T=R+(O<<14&4294967295|O>>>18),O=E+(R^M&(T^R))+D[4]+3889429448&4294967295,E=T+(O<<20&4294967295|O>>>12),O=M+(T^R&(E^T))+D[9]+568446438&4294967295,M=E+(O<<5&4294967295|O>>>27),O=R+(E^T&(M^E))+D[14]+3275163606&4294967295,R=M+(O<<9&4294967295|O>>>23),O=T+(M^E&(R^M))+D[3]+4107603335&4294967295,T=R+(O<<14&4294967295|O>>>18),O=E+(R^M&(T^R))+D[8]+1163531501&4294967295,E=T+(O<<20&4294967295|O>>>12),O=M+(T^R&(E^T))+D[13]+2850285829&4294967295,M=E+(O<<5&4294967295|O>>>27),O=R+(E^T&(M^E))+D[2]+4243563512&4294967295,R=M+(O<<9&4294967295|O>>>23),O=T+(M^E&(R^M))+D[7]+1735328473&4294967295,T=R+(O<<14&4294967295|O>>>18),O=E+(R^M&(T^R))+D[12]+2368359562&4294967295,E=T+(O<<20&4294967295|O>>>12),O=M+(E^T^R)+D[5]+4294588738&4294967295,M=E+(O<<4&4294967295|O>>>28),O=R+(M^E^T)+D[8]+2272392833&4294967295,R=M+(O<<11&4294967295|O>>>21),O=T+(R^M^E)+D[11]+1839030562&4294967295,T=R+(O<<16&4294967295|O>>>16),O=E+(T^R^M)+D[14]+4259657740&4294967295,E=T+(O<<23&4294967295|O>>>9),O=M+(E^T^R)+D[1]+2763975236&4294967295,M=E+(O<<4&4294967295|O>>>28),O=R+(M^E^T)+D[4]+1272893353&4294967295,R=M+(O<<11&4294967295|O>>>21),O=T+(R^M^E)+D[7]+4139469664&4294967295,T=R+(O<<16&4294967295|O>>>16),O=E+(T^R^M)+D[10]+3200236656&4294967295,E=T+(O<<23&4294967295|O>>>9),O=M+(E^T^R)+D[13]+681279174&4294967295,M=E+(O<<4&4294967295|O>>>28),O=R+(M^E^T)+D[0]+3936430074&4294967295,R=M+(O<<11&4294967295|O>>>21),O=T+(R^M^E)+D[3]+3572445317&4294967295,T=R+(O<<16&4294967295|O>>>16),O=E+(T^R^M)+D[6]+76029189&4294967295,E=T+(O<<23&4294967295|O>>>9),O=M+(E^T^R)+D[9]+3654602809&4294967295,M=E+(O<<4&4294967295|O>>>28),O=R+(M^E^T)+D[12]+3873151461&4294967295,R=M+(O<<11&4294967295|O>>>21),O=T+(R^M^E)+D[15]+530742520&4294967295,T=R+(O<<16&4294967295|O>>>16),O=E+(T^R^M)+D[2]+3299628645&4294967295,E=T+(O<<23&4294967295|O>>>9),O=M+(T^(E|~R))+D[0]+4096336452&4294967295,M=E+(O<<6&4294967295|O>>>26),O=R+(E^(M|~T))+D[7]+1126891415&4294967295,R=M+(O<<10&4294967295|O>>>22),O=T+(M^(R|~E))+D[14]+2878612391&4294967295,T=R+(O<<15&4294967295|O>>>17),O=E+(R^(T|~M))+D[5]+4237533241&4294967295,E=T+(O<<21&4294967295|O>>>11),O=M+(T^(E|~R))+D[12]+1700485571&4294967295,M=E+(O<<6&4294967295|O>>>26),O=R+(E^(M|~T))+D[3]+2399980690&4294967295,R=M+(O<<10&4294967295|O>>>22),O=T+(M^(R|~E))+D[10]+4293915773&4294967295,T=R+(O<<15&4294967295|O>>>17),O=E+(R^(T|~M))+D[1]+2240044497&4294967295,E=T+(O<<21&4294967295|O>>>11),O=M+(T^(E|~R))+D[8]+1873313359&4294967295,M=E+(O<<6&4294967295|O>>>26),O=R+(E^(M|~T))+D[15]+4264355552&4294967295,R=M+(O<<10&4294967295|O>>>22),O=T+(M^(R|~E))+D[6]+2734768916&4294967295,T=R+(O<<15&4294967295|O>>>17),O=E+(R^(T|~M))+D[13]+1309151649&4294967295,E=T+(O<<21&4294967295|O>>>11),O=M+(T^(E|~R))+D[4]+4149444226&4294967295,M=E+(O<<6&4294967295|O>>>26),O=R+(E^(M|~T))+D[11]+3174756917&4294967295,R=M+(O<<10&4294967295|O>>>22),O=T+(M^(R|~E))+D[2]+718787259&4294967295,T=R+(O<<15&4294967295|O>>>17),O=E+(R^(T|~M))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+M&4294967295,I.g[1]=I.g[1]+(T+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,M){M===void 0&&(M=I.length);for(var E=M-this.blockSize,D=this.B,T=this.h,R=0;R<M;){if(T==0)for(;R<=E;)i(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<M;)if(D[T++]=I.charCodeAt(R++),T==this.blockSize){i(this,D),T=0;break}}else for(;R<M;)if(D[T++]=I[R++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=M},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var M=1;M<I.length-8;++M)I[M]=0;var E=8*this.o;for(M=I.length-8;M<I.length;++M)I[M]=E&255,E/=256;for(this.u(I),I=Array(16),M=E=0;4>M;++M)for(var D=0;32>D;D+=8)I[E++]=this.g[M]>>>D&255;return I};function o(I,M){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=M(I)}function s(I,M){this.h=M;for(var E=[],D=!0,T=I.length-1;0<=T;T--){var R=I[T]|0;D&&R==M||(E[T]=R,D=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?o(I,function(M){return new s([M|0],0>M?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return N(u(-I));for(var M=[],E=1,D=0;I>=E;D++)M[D]=I/E|0,E*=4294967296;return new s(M,0)}function d(I,M){if(I.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(I.charAt(0)=="-")return N(d(I.substring(1),M));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(M,8)),D=m,T=0;T<I.length;T+=8){var R=Math.min(8,I.length-T),O=parseInt(I.substring(T,T+R),M);8>R?(R=u(Math.pow(M,R)),D=D.j(R).add(u(O))):(D=D.j(E),D=D.add(u(O)))}return D}var m=c(0),v=c(1),C=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-N(this).m();for(var I=0,M=1,E=0;E<this.g.length;E++){var D=this.i(E);I+=(0<=D?D:4294967296+D)*M,M*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(A(this))return"-"+N(this).toString(I);for(var M=u(Math.pow(I,6)),E=this,D="";;){var T=oe(E,M).g;E=W(E,T.j(M));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=T,x(E))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var M=0;M<I.g.length;M++)if(I.g[M]!=0)return!1;return!0}function A(I){return I.h==-1}n.l=function(I){return I=W(this,I),A(I)?-1:x(I)?0:1};function N(I){for(var M=I.g.length,E=[],D=0;D<M;D++)E[D]=~I.g[D];return new s(E,~I.h).add(v)}n.abs=function(){return A(this)?N(this):this},n.add=function(I){for(var M=Math.max(this.g.length,I.g.length),E=[],D=0,T=0;T<=M;T++){var R=D+(this.i(T)&65535)+(I.i(T)&65535),O=(R>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);D=O>>>16,R&=65535,O&=65535,E[T]=O<<16|R}return new s(E,E[E.length-1]&-2147483648?-1:0)};function W(I,M){return I.add(N(M))}n.j=function(I){if(x(this)||x(I))return m;if(A(this))return A(I)?N(this).j(N(I)):N(N(this).j(I));if(A(I))return N(this.j(N(I)));if(0>this.l(C)&&0>I.l(C))return u(this.m()*I.m());for(var M=this.g.length+I.g.length,E=[],D=0;D<2*M;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<I.g.length;T++){var R=this.i(D)>>>16,O=this.i(D)&65535,rr=I.i(T)>>>16,Eo=I.i(T)&65535;E[2*D+2*T]+=O*Eo,J(E,2*D+2*T),E[2*D+2*T+1]+=R*Eo,J(E,2*D+2*T+1),E[2*D+2*T+1]+=O*rr,J(E,2*D+2*T+1),E[2*D+2*T+2]+=R*rr,J(E,2*D+2*T+2)}for(D=0;D<M;D++)E[D]=E[2*D+1]<<16|E[2*D];for(D=M;D<2*M;D++)E[D]=0;return new s(E,0)};function J(I,M){for(;(I[M]&65535)!=I[M];)I[M+1]+=I[M]>>>16,I[M]&=65535,M++}function ee(I,M){this.g=I,this.h=M}function oe(I,M){if(x(M))throw Error("division by zero");if(x(I))return new ee(m,m);if(A(I))return M=oe(N(I),M),new ee(N(M.g),N(M.h));if(A(M))return M=oe(I,N(M)),new ee(N(M.g),M.h);if(30<I.g.length){if(A(I)||A(M))throw Error("slowDivide_ only works with positive integers.");for(var E=v,D=M;0>=D.l(I);)E=$e(E),D=$e(D);var T=be(E,1),R=be(D,1);for(D=be(D,2),E=be(E,2);!x(D);){var O=R.add(D);0>=O.l(I)&&(T=T.add(E),R=O),D=be(D,1),E=be(E,1)}return M=W(I,T.j(M)),new ee(T,M)}for(T=m;0<=I.l(M);){for(E=Math.max(1,Math.floor(I.m()/M.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=u(E),O=R.j(M);A(O)||0<O.l(I);)E-=D,R=u(E),O=R.j(M);x(R)&&(R=v),T=T.add(R),I=W(I,O)}return new ee(T,I)}n.A=function(I){return oe(this,I).h},n.and=function(I){for(var M=Math.max(this.g.length,I.g.length),E=[],D=0;D<M;D++)E[D]=this.i(D)&I.i(D);return new s(E,this.h&I.h)},n.or=function(I){for(var M=Math.max(this.g.length,I.g.length),E=[],D=0;D<M;D++)E[D]=this.i(D)|I.i(D);return new s(E,this.h|I.h)},n.xor=function(I){for(var M=Math.max(this.g.length,I.g.length),E=[],D=0;D<M;D++)E[D]=this.i(D)^I.i(D);return new s(E,this.h^I.h)};function $e(I){for(var M=I.g.length+1,E=[],D=0;D<M;D++)E[D]=I.i(D)<<1|I.i(D-1)>>>31;return new s(E,I.h)}function be(I,M){var E=M>>5;M%=32;for(var D=I.g.length-E,T=[],R=0;R<D;R++)T[R]=0<M?I.i(R+E)>>>M|I.i(R+E+1)<<32-M:I.i(R+E);return new s(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jM=iN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,po=iN.Integer=s}).apply(typeof rN<"u"?rN:typeof self<"u"?self:typeof window<"u"?window:{});var Pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mo={};var UM,CH,rl,BM,zd,Om,$M,zM,HM;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,g,_){return l==Array.prototype||l==Object.prototype||(l[g]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pm=="object"&&Pm];for(var g=0;g<l.length;++g){var _=l[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function i(l,g){if(g)e:{var _=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var k=l[w];if(!(k in _))break e;_=_[k]}l=l[l.length-1],w=_[l],g=g(w),g!=w&&g!=null&&e(_,l,{configurable:!0,writable:!0,value:g})}}function o(l,g){l instanceof String&&(l+="");var _=0,w=!1,k={next:function(){if(!w&&_<l.length){var F=_++;return{value:g(F,l[F]),done:!1}}return w=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return o(this,function(g,_){return _})}});var s=s||{},a=this||self;function c(l){var g=typeof l;return g=g!="object"?g:l?Array.isArray(l)?"array":g:"null",g=="array"||g=="object"&&typeof l.length=="number"}function u(l){var g=typeof l;return g=="object"&&l!=null||g=="function"}function d(l,g,_){return l.call.apply(l.bind,arguments)}function m(l,g,_){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,w),l.apply(g,k)}}return function(){return l.apply(g,arguments)}}function v(l,g,_){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,v.apply(null,arguments)}function C(l,g){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function x(l,g){function _(){}_.prototype=g.prototype,l.aa=g.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(w,k,F){for(var Q=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Q[Ze-2]=arguments[Ze];return g.prototype[k].apply(w,Q)}}function A(l){let g=l.length;if(0<g){let _=Array(g);for(let w=0;w<g;w++)_[w]=l[w];return _}return[]}function N(l,g){for(let _=1;_<arguments.length;_++){let w=arguments[_];if(c(w)){let k=l.length||0,F=w.length||0;l.length=k+F;for(let Q=0;Q<F;Q++)l[k+Q]=w[Q]}else l.push(w)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(l){return/^[\s\xa0]*$/.test(l)}function ee(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function oe(l){return oe[" "](l),l}oe[" "]=function(){};var $e=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(l,g,_){for(let w in l)g.call(_,l[w],w,l)}function I(l,g){for(let _ in l)g.call(void 0,l[_],_,l)}function M(l){let g={};for(let _ in l)g[_]=l[_];return g}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,g){let _,w;for(let k=1;k<arguments.length;k++){w=arguments[k];for(_ in w)l[_]=w[_];for(let F=0;F<E.length;F++)_=E[F],Object.prototype.hasOwnProperty.call(w,_)&&(l[_]=w[_])}}function T(l){var g=1;l=l.split(":");let _=[];for(;0<g&&l.length;)_.push(l.shift()),g--;return l.length&&_.push(l.join(":")),_}function R(l){a.setTimeout(()=>{throw l},0)}function O(){var l=De;let g=null;return l.g&&(g=l.g,l.g=l.g.next,l.g||(l.h=null),g.next=null),g}class rr{constructor(){this.h=this.g=null}add(g,_){let w=Eo.get();w.set(g,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Eo=new W(()=>new ie,l=>l.reset());class ie{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,De=new rr,wt=()=>{let l=a.Promise.resolve(void 0);ae=()=>{l.then(ir)}};var ir=()=>{for(var l;l=O();){try{l.h.call(l.g)}catch(_){R(_)}var g=Eo;g.j(l),100>g.h&&(g.h++,l.next=g.g,g.g=l)}le=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(l,g){this.type=l,this.g=this.target=g,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,g=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return l}();function Po(l,g){if(nt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=g,g=l.relatedTarget){if($e){e:{try{oe(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else _=="mouseover"?g=l.fromElement:_=="mouseout"&&(g=l.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ny[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Po.aa.h.call(this)}}x(Po,nt);var ny={2:"touch",3:"pen",4:"mouse"};Po.prototype.h=function(){Po.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Li=0;function kn(l,g,_,w,k){this.listener=l,this.proxy=null,this.src=g,this.type=_,this.capture=!!w,this.ha=k,this.key=++Li,this.da=this.fa=!1}function Vi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Oo(l){this.src=l,this.g={},this.h=0}Oo.prototype.add=function(l,g,_,w,k){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Q=iy(l,g,w,k);return-1<Q?(g=l[Q],_||(g.fa=!1)):(g=new kn(g,this.src,F,!!w,k),g.fa=_,l.push(g)),g};function ry(l,g){var _=g.type;if(_ in l.g){var w=l.g[_],k=Array.prototype.indexOf.call(w,g,void 0),F;(F=0<=k)&&Array.prototype.splice.call(w,k,1),F&&(Vi(g),l.g[_].length==0&&(delete l.g[_],l.h--))}}function iy(l,g,_,w){for(var k=0;k<l.length;++k){var F=l[k];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==w)return k}return-1}var oy="closure_lm_"+(1e6*Math.random()|0),sy={};function MP(l,g,_,w,k){if(w&&w.once)return EP(l,g,_,w,k);if(Array.isArray(g)){for(var F=0;F<g.length;F++)MP(l,g[F],_,w,k);return null}return _=uy(_),l&&l[vt]?l.K(g,_,u(w)?!!w.capture:!!w,k):xP(l,g,_,!1,w,k)}function xP(l,g,_,w,k,F){if(!g)throw Error("Invalid event type");var Q=u(k)?!!k.capture:!!k,Ze=cy(l);if(Ze||(l[oy]=Ze=new Oo(l)),_=Ze.add(g,_,w,Q,F),_.proxy)return _;if(w=C5(),_.proxy=w,w.src=l,w.listener=_,l.addEventListener)rt||(k=Q),k===void 0&&(k=!1),l.addEventListener(g.toString(),w,k);else if(l.attachEvent)l.attachEvent(OP(g.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function C5(){function l(_){return g.call(l.src,l.listener,_)}let g=b5;return l}function EP(l,g,_,w,k){if(Array.isArray(g)){for(var F=0;F<g.length;F++)EP(l,g[F],_,w,k);return null}return _=uy(_),l&&l[vt]?l.L(g,_,u(w)?!!w.capture:!!w,k):xP(l,g,_,!0,w,k)}function PP(l,g,_,w,k){if(Array.isArray(g))for(var F=0;F<g.length;F++)PP(l,g[F],_,w,k);else w=u(w)?!!w.capture:!!w,_=uy(_),l&&l[vt]?(l=l.i,g=String(g).toString(),g in l.g&&(F=l.g[g],_=iy(F,_,w,k),-1<_&&(Vi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete l.g[g],l.h--)))):l&&(l=cy(l))&&(g=l.g[g.toString()],l=-1,g&&(l=iy(g,_,w,k)),(_=-1<l?g[l]:null)&&ay(_))}function ay(l){if(typeof l!="number"&&l&&!l.da){var g=l.src;if(g&&g[vt])ry(g.i,l);else{var _=l.type,w=l.proxy;g.removeEventListener?g.removeEventListener(_,w,l.capture):g.detachEvent?g.detachEvent(OP(_),w):g.addListener&&g.removeListener&&g.removeListener(w),(_=cy(g))?(ry(_,l),_.h==0&&(_.src=null,g[oy]=null)):Vi(l)}}}function OP(l){return l in sy?sy[l]:sy[l]="on"+l}function b5(l,g){if(l.da)l=!0;else{g=new Po(g,this);var _=l.listener,w=l.ha||l.src;l.fa&&ay(l),l=_.call(w,g)}return l}function cy(l){return l=l[oy],l instanceof Oo?l:null}var ly="__closure_events_fn_"+(1e9*Math.random()>>>0);function uy(l){return typeof l=="function"?l:(l[ly]||(l[ly]=function(g){return l.handleEvent(g)}),l[ly])}function un(){yt.call(this),this.i=new Oo(this),this.M=this,this.F=null}x(un,yt),un.prototype[vt]=!0,un.prototype.removeEventListener=function(l,g,_,w){PP(this,l,g,_,w)};function Mn(l,g){var _,w=l.F;if(w)for(_=[];w;w=w.F)_.push(w);if(l=l.M,w=g.type||g,typeof g=="string")g=new nt(g,l);else if(g instanceof nt)g.target=g.target||l;else{var k=g;g=new nt(w,l),D(g,k)}if(k=!0,_)for(var F=_.length-1;0<=F;F--){var Q=g.g=_[F];k=If(Q,w,!0,g)&&k}if(Q=g.g=l,k=If(Q,w,!0,g)&&k,k=If(Q,w,!1,g)&&k,_)for(F=0;F<_.length;F++)Q=g.g=_[F],k=If(Q,w,!1,g)&&k}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var l=this.i,g;for(g in l.g){for(var _=l.g[g],w=0;w<_.length;w++)Vi(_[w]);delete l.g[g],l.h--}}this.F=null},un.prototype.K=function(l,g,_,w){return this.i.add(String(l),g,!1,_,w)},un.prototype.L=function(l,g,_,w){return this.i.add(String(l),g,!0,_,w)};function If(l,g,_,w){if(g=l.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,F=0;F<g.length;++F){var Q=g[F];if(Q&&!Q.da&&Q.capture==_){var Ze=Q.listener,Jt=Q.ha||Q.src;Q.fa&&ry(l.i,Q),k=Ze.call(Jt,w)!==!1&&k}}return k&&!w.defaultPrevented}function IP(l,g,_){if(typeof l=="function")_&&(l=v(l,_));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(l,g||0)}function SP(l){l.g=IP(()=>{l.g=null,l.i&&(l.i=!1,SP(l))},l.l);let g=l.h;l.h=null,l.m.apply(null,g)}class w5 extends yt{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:SP(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vl(l){yt.call(this),this.h=l,this.g={}}x(Vl,yt);var DP=[];function TP(l){be(l.g,function(g,_){this.g.hasOwnProperty(_)&&ay(g)},l),l.g={}}Vl.prototype.N=function(){Vl.aa.N.call(this),TP(this)},Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dy=a.JSON.stringify,M5=a.JSON.parse,x5=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function fy(){}fy.prototype.h=null;function AP(l){return l.h||(l.h=l.i())}function kP(){}var jl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hy(){nt.call(this,"d")}x(hy,nt);function gy(){nt.call(this,"c")}x(gy,nt);var Ss={},RP=null;function Sf(){return RP=RP||new un}Ss.La="serverreachability";function NP(l){nt.call(this,Ss.La,l)}x(NP,nt);function Ul(l){let g=Sf();Mn(g,new NP(g))}Ss.STAT_EVENT="statevent";function FP(l,g){nt.call(this,Ss.STAT_EVENT,l),this.stat=g}x(FP,nt);function xn(l){let g=Sf();Mn(g,new FP(g,l))}Ss.Ma="timingevent";function LP(l,g){nt.call(this,Ss.Ma,l),this.size=g}x(LP,nt);function Bl(l,g){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},g)}function $l(){this.g=!0}$l.prototype.xa=function(){this.g=!1};function E5(l,g,_,w,k,F){l.info(function(){if(l.g)if(F)for(var Q="",Ze=F.split("&"),Jt=0;Jt<Ze.length;Jt++){var je=Ze[Jt].split("=");if(1<je.length){var dn=je[0];je=je[1];var fn=dn.split("_");Q=2<=fn.length&&fn[1]=="type"?Q+(dn+"="+je+"&"):Q+(dn+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+w+") [attempt "+k+"]: "+g+`
`+_+`
`+Q})}function P5(l,g,_,w,k,F,Q){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+k+"]: "+g+`
`+_+`
`+F+" "+Q})}function za(l,g,_,w){l.info(function(){return"XMLHTTP TEXT ("+g+"): "+I5(l,_)+(w?" "+w:"")})}function O5(l,g){l.info(function(){return"TIMEOUT: "+g})}$l.prototype.info=function(){};function I5(l,g){if(!l.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var w=_[l];if(!(2>w.length)){var k=w[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<k.length;Q++)k[Q]=""}}}}return dy(_)}catch{return g}}var Df={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},py;function Tf(){}x(Tf,fy),Tf.prototype.g=function(){return new XMLHttpRequest},Tf.prototype.i=function(){return{}},py=new Tf;function Io(l,g,_,w){this.j=l,this.i=g,this.l=_,this.R=w||1,this.U=new Vl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jP}function jP(){this.i=null,this.g="",this.h=!1}var UP={},my={};function _y(l,g,_){l.L=1,l.v=Nf(ji(g)),l.m=_,l.P=!0,BP(l,null)}function BP(l,g){l.F=Date.now(),Af(l),l.A=ji(l.v);var _=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),tO(_.i,"t",w),l.C=0,_=l.j.J,l.h=new jP,l.g=vO(l.j,_?g:null,!l.m),0<l.O&&(l.M=new w5(v(l.Y,l,l.g),l.O)),g=l.U,_=l.g,w=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(DP[0]=k.toString()),k=DP);for(var F=0;F<k.length;F++){var Q=MP(_,k[F],w||g.handleEvent,!1,g.h||g);if(!Q)break;g.g[Q.key]=Q}g=l.H?M(l.H):{},l.m?(l.u||(l.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,g)):(l.u="GET",l.g.ea(l.A,l.u,null,g)),Ul(),E5(l.i,l.u,l.A,l.l,l.R,l.m)}Io.prototype.ca=function(l){l=l.target;let g=this.M;g&&Ui(l)==3?g.j():this.Y(l)},Io.prototype.Y=function(l){try{if(l==this.g)e:{let fn=Ui(this.g);var g=this.g.Ba();let Wa=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||cO(this.g)))){this.J||fn!=4||g==7||(g==8||0>=Wa?Ul(3):Ul(2)),yy(this);var _=this.g.Z();this.X=_;t:if($P(this)){var w=cO(this.g);l="";var k=w.length,F=Ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),zl(this);var Q="";break t}this.h.i=new a.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,l+=this.h.i.decode(w[g],{stream:!(F&&g==k-1)});w.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,P5(this.i,this.u,this.A,this.l,this.R,fn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Jt=this.g;if((Ze=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ze)){var je=Ze;break t}}je=null}if(_=je)za(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vy(this,_);else{this.o=!1,this.s=3,xn(12),Ds(this),zl(this);break e}}if(this.P){_=!0;let xr;for(;!this.J&&this.C<Q.length;)if(xr=S5(this,Q),xr==my){fn==4&&(this.s=4,xn(14),_=!1),za(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==UP){this.s=4,xn(15),za(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else za(this.i,this.l,xr,null),vy(this,xr);if($P(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||Q.length!=0||this.h.h||(this.s=1,xn(16),_=!1),this.o=this.o&&_,!_)za(this.i,this.l,Q,"[Invalid Chunked Response]"),Ds(this),zl(this);else if(0<Q.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Ey(dn),dn.M=!0,xn(11))}}else za(this.i,this.l,Q,null),vy(this,Q);fn==4&&Ds(this),this.o&&!this.J&&(fn==4?pO(this.j,this):(this.o=!1,Af(this)))}else W5(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),Ds(this),zl(this)}}}catch{}finally{}};function $P(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function S5(l,g){var _=l.C,w=g.indexOf(`
`,_);return w==-1?my:(_=Number(g.substring(_,w)),isNaN(_)?UP:(w+=1,w+_>g.length?my:(g=g.slice(w,w+_),l.C=w+_,g)))}Io.prototype.cancel=function(){this.J=!0,Ds(this)};function Af(l){l.S=Date.now()+l.I,zP(l,l.I)}function zP(l,g){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Bl(v(l.ba,l),g)}function yy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Io.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(O5(this.i,this.A),this.L!=2&&(Ul(),xn(17)),Ds(this),this.s=2,zl(this)):zP(this,this.S-l)};function zl(l){l.j.G==0||l.J||pO(l.j,l)}function Ds(l){yy(l);var g=l.M;g&&typeof g.ma=="function"&&g.ma(),l.M=null,TP(l.U),l.g&&(g=l.g,l.g=null,g.abort(),g.ma())}function vy(l,g){try{var _=l.j;if(_.G!=0&&(_.g==l||Cy(_.h,l))){if(!l.K&&Cy(_.h,l)&&_.G==3){try{var w=_.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var k=w;if(k[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Uf(_),Vf(_);else break e;xy(_),xn(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Bl(v(_.Za,_),6e3));if(1>=WP(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else As(_,11)}else if((l.K||_.g==l)&&Uf(_),!J(g))for(k=_.Da.g.parse(g),g=0;g<k.length;g++){let je=k[g];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];let dn=je[3];dn!=null&&(_.la=dn,_.j.info("VER="+_.la));let fn=je[4];fn!=null&&(_.Aa=fn,_.j.info("SVER="+_.Aa));let Wa=je[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(w=1.5*Wa,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;let xr=l.g;if(xr){let $f=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($f){var F=w.h;F.g||$f.indexOf("spdy")==-1&&$f.indexOf("quic")==-1&&$f.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(by(F,F.h),F.h=null))}if(w.D){let Py=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Py&&(w.ya=Py,it(w.I,w.D,Py))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var Q=l;if(w.qa=yO(w,w.J?w.ia:null,w.W),Q.K){GP(w.h,Q);var Ze=Q,Jt=w.L;Jt&&(Ze.I=Jt),Ze.B&&(yy(Ze),Af(Ze)),w.g=Q}else hO(w);0<_.i.length&&jf(_)}else je[0]!="stop"&&je[0]!="close"||As(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?As(_,7):My(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Ul(4)}catch{}}var D5=class{constructor(l,g){this.g=l,this.map=g}};function HP(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qP(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function WP(l){return l.h?1:l.g?l.g.size:0}function Cy(l,g){return l.h?l.h==g:l.g?l.g.has(g):!1}function by(l,g){l.g?l.g.add(g):l.h=g}function GP(l,g){l.h&&l.h==g?l.h=null:l.g&&l.g.has(g)&&l.g.delete(g)}HP.prototype.cancel=function(){if(this.i=KP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function KP(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let g=l.i;for(let _ of l.g.values())g=g.concat(_.D);return g}return A(l.i)}function T5(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var g=[],_=l.length,w=0;w<_;w++)g.push(l[w]);return g}g=[],_=0;for(w in l)g[_++]=l[w];return g}function A5(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var g=[];l=l.length;for(var _=0;_<l;_++)g.push(_);return g}g=[],_=0;for(let w in l)g[_++]=w;return g}}}function YP(l,g){if(l.forEach&&typeof l.forEach=="function")l.forEach(g,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,g,void 0);else for(var _=A5(l),w=T5(l),k=w.length,F=0;F<k;F++)g.call(void 0,w[F],_&&_[F],l)}var QP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k5(l,g){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var w=l[_].indexOf("="),k=null;if(0<=w){var F=l[_].substring(0,w);k=l[_].substring(w+1)}else F=l[_];g(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ts(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ts){this.h=l.h,kf(this,l.j),this.o=l.o,this.g=l.g,Rf(this,l.s),this.l=l.l;var g=l.i,_=new Wl;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ZP(this,_),this.m=l.m}else l&&(g=String(l).match(QP))?(this.h=!1,kf(this,g[1]||"",!0),this.o=Hl(g[2]||""),this.g=Hl(g[3]||"",!0),Rf(this,g[4]),this.l=Hl(g[5]||"",!0),ZP(this,g[6]||"",!0),this.m=Hl(g[7]||"")):(this.h=!1,this.i=new Wl(null,this.h))}Ts.prototype.toString=function(){var l=[],g=this.j;g&&l.push(ql(g,JP,!0),":");var _=this.g;return(_||g=="file")&&(l.push("//"),(g=this.o)&&l.push(ql(g,JP,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(ql(_,_.charAt(0)=="/"?F5:N5,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",ql(_,V5)),l.join("")};function ji(l){return new Ts(l)}function kf(l,g,_){l.j=_?Hl(g,!0):g,l.j&&(l.j=l.j.replace(/:$/,""))}function Rf(l,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);l.s=g}else l.s=null}function ZP(l,g,_){g instanceof Wl?(l.i=g,j5(l.i,l.h)):(_||(g=ql(g,L5)),l.i=new Wl(g,l.h))}function it(l,g,_){l.i.set(g,_)}function Nf(l){return it(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Hl(l,g){return l?g?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ql(l,g,_){return typeof l=="string"?(l=encodeURI(l).replace(g,R5),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function R5(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var JP=/[#\/\?@]/g,N5=/[#\?:]/g,F5=/[#\?]/g,L5=/[#\?@]/g,V5=/#/g;function Wl(l,g){this.h=this.g=null,this.i=l||null,this.j=!!g}function So(l){l.g||(l.g=new Map,l.h=0,l.i&&k5(l.i,function(g,_){l.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Wl.prototype,n.add=function(l,g){So(this),this.i=null,l=Ha(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(g),this.h+=1,this};function XP(l,g){So(l),g=Ha(l,g),l.g.has(g)&&(l.i=null,l.h-=l.g.get(g).length,l.g.delete(g))}function eO(l,g){return So(l),g=Ha(l,g),l.g.has(g)}n.forEach=function(l,g){So(this),this.g.forEach(function(_,w){_.forEach(function(k){l.call(g,k,w,this)},this)},this)},n.na=function(){So(this);let l=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let w=0;w<g.length;w++){let k=l[w];for(let F=0;F<k.length;F++)_.push(g[w])}return _},n.V=function(l){So(this);let g=[];if(typeof l=="string")eO(this,l)&&(g=g.concat(this.g.get(Ha(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)g=g.concat(l[_])}return g},n.set=function(l,g){return So(this),this.i=null,l=Ha(this,l),eO(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[g]),this.h+=1,this},n.get=function(l,g){return l?(l=this.V(l),0<l.length?String(l[0]):g):g};function tO(l,g,_){XP(l,g),0<_.length&&(l.i=null,l.g.set(Ha(l,g),A(_)),l.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var w=g[_];let F=encodeURIComponent(String(w)),Q=this.V(w);for(w=0;w<Q.length;w++){var k=F;Q[w]!==""&&(k+="="+encodeURIComponent(String(Q[w]))),l.push(k)}}return this.i=l.join("&")};function Ha(l,g){return g=String(g),l.j&&(g=g.toLowerCase()),g}function j5(l,g){g&&!l.j&&(So(l),l.i=null,l.g.forEach(function(_,w){var k=w.toLowerCase();w!=k&&(XP(this,w),tO(this,k,_))},l)),l.j=g}function U5(l,g){let _=new $l;if(a.Image){let w=new Image;w.onload=C(Do,_,"TestLoadImage: loaded",!0,g,w),w.onerror=C(Do,_,"TestLoadImage: error",!1,g,w),w.onabort=C(Do,_,"TestLoadImage: abort",!1,g,w),w.ontimeout=C(Do,_,"TestLoadImage: timeout",!1,g,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else g(!1)}function B5(l,g){let _=new $l,w=new AbortController,k=setTimeout(()=>{w.abort(),Do(_,"TestPingServer: timeout",!1,g)},1e4);fetch(l,{signal:w.signal}).then(F=>{clearTimeout(k),F.ok?Do(_,"TestPingServer: ok",!0,g):Do(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Do(_,"TestPingServer: error",!1,g)})}function Do(l,g,_,w,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),w(_)}catch{}}function $5(){this.g=new x5}function z5(l,g,_){let w=_||"";try{YP(l,function(k,F){let Q=k;u(k)&&(Q=dy(k)),g.push(w+F+"="+encodeURIComponent(Q))})}catch(k){throw g.push(w+"type="+encodeURIComponent("_badmap")),k}}function Gl(l){this.l=l.Ub||null,this.j=l.eb||!1}x(Gl,fy),Gl.prototype.g=function(){return new Ff(this.l,this.j)},Gl.prototype.i=function(l){return function(){return l}}({});function Ff(l,g){un.call(this),this.D=l,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ff,un),n=Ff.prototype,n.open=function(l,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=g,this.readyState=1,Yl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(g.body=l),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nO(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nO(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var g=l.value?l.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!l.done}))&&(this.response=this.responseText+=g)}l.done?Kl(this):Yl(this),this.readyState==3&&nO(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Kl(this))},n.Qa=function(l){this.g&&(this.response=l,Kl(this))},n.ga=function(){this.g&&Kl(this)};function Kl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Yl(l)}n.setRequestHeader=function(l,g){this.u.append(l,g)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=g.next();return l.join(`\r
`)};function Yl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rO(l){let g="";return be(l,function(_,w){g+=w,g+=":",g+=_,g+=`\r
`}),g}function wy(l,g,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=rO(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):it(l,g,_))}function Ct(l){un.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ct,un);var H5=/^https?$/i,q5=["POST","PUT"];n=Ct.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,g,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);g=g?g.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():py.g(),this.v=this.o?AP(this.o):AP(py),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(g,String(l),!0),this.B=!1}catch(F){iO(this,F);return}if(l=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var k in w)_.set(k,w[k]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let F of w.keys())_.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(q5,g,void 0))||w||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,Q]of _)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aO(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){iO(this,F)}};function iO(l,g){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=g,l.m=5,oO(l),Lf(l)}function oO(l){l.A||(l.A=!0,Mn(l,"complete"),Mn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Mn(this,"complete"),Mn(this,"abort"),Lf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lf(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sO(this):this.bb())},n.bb=function(){sO(this)};function sO(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Ui(l)!=4||l.Z()!=2)){if(l.u&&Ui(l)==4)IP(l.Ea,0,l);else if(Mn(l,"readystatechange"),Ui(l)==4){l.h=!1;try{let Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var w;if(w=Q===0){var k=String(l.D).match(QP)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),w=!H5.test(k?k.toLowerCase():"")}_=w}if(_)Mn(l,"complete"),Mn(l,"success");else{l.m=6;try{var F=2<Ui(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",oO(l)}}finally{Lf(l)}}}}function Lf(l,g){if(l.g){aO(l);let _=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,g||Mn(l,"ready");try{_.onreadystatechange=w}catch{}}}function aO(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Ui(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var g=this.g.responseText;return l&&g.indexOf(l)==0&&(g=g.substring(l.length)),M5(g)}};function cO(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function W5(l){let g={};l=(l.g&&2<=Ui(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(J(l[w]))continue;var _=T(l[w]);let k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let F=g[k]||[];g[k]=F,F.push(_)}I(g,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ql(l,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||g}function lO(l){this.Aa=0,this.i=[],this.j=new $l,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ql("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ql("baseRetryDelayMs",5e3,l),this.cb=Ql("retryDelaySeedMs",1e4,l),this.Wa=Ql("forwardChannelMaxRetries",2,l),this.wa=Ql("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new HP(l&&l.concurrentRequestLimit),this.Da=new $5,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lO.prototype,n.la=8,n.G=1,n.connect=function(l,g,_,w){xn(0),this.W=l,this.H=g||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=yO(this,null,this.W),jf(this)};function My(l){if(uO(l),l.G==3){var g=l.U++,_=ji(l.I);if(it(_,"SID",l.K),it(_,"RID",g),it(_,"TYPE","terminate"),Zl(l,_),g=new Io(l,l.j,g),g.L=2,g.v=Nf(ji(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.v,_=!0),_||(g.g=vO(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Af(g)}_O(l)}function Vf(l){l.g&&(Ey(l),l.g.cancel(),l.g=null)}function uO(l){Vf(l),l.u&&(a.clearTimeout(l.u),l.u=null),Uf(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function jf(l){if(!qP(l.h)&&!l.s){l.s=!0;var g=l.Ga;ae||wt(),le||(ae(),le=!0),De.add(g,l),l.B=0}}function G5(l,g){return WP(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=g.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Bl(v(l.Ga,l,g),mO(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let k=new Io(this,this.j,l),F=this.o;if(this.S&&(F?(F=M(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=fO(this,k,g),_=ji(this.I),it(_,"RID",l),it(_,"CVER",22),this.D&&it(_,"X-HTTP-Session-Id",this.D),Zl(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(rO(F)))+"&"+g:this.m&&wy(_,this.m,F)),by(this.h,k),this.Ua&&it(_,"TYPE","init"),this.P?(it(_,"$req",g),it(_,"SID","null"),k.T=!0,_y(k,_,null)):_y(k,_,g),this.G=2}}else this.G==3&&(l?dO(this,l):this.i.length==0||qP(this.h)||dO(this))};function dO(l,g){var _;g?_=g.l:_=l.U++;let w=ji(l.I);it(w,"SID",l.K),it(w,"RID",_),it(w,"AID",l.T),Zl(l,w),l.m&&l.o&&wy(w,l.m,l.o),_=new Io(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),g&&(l.i=g.D.concat(l.i)),g=fO(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),by(l.h,_),_y(_,w,g)}function Zl(l,g){l.H&&be(l.H,function(_,w){it(g,w,_)}),l.l&&YP({},function(_,w){it(g,w,_)})}function fO(l,g,_){_=Math.min(l.i.length,_);var w=l.l?v(l.l.Na,l.l,l):null;e:{var k=l.i;let F=-1;for(;;){let Q=["count="+_];F==-1?0<_?(F=k[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let Ze=!0;for(let Jt=0;Jt<_;Jt++){let je=k[Jt].g,dn=k[Jt].map;if(je-=F,0>je)F=Math.max(0,k[Jt].g-100),Ze=!1;else try{z5(dn,Q,"req"+je+"_")}catch{w&&w(dn)}}if(Ze){w=Q.join("&");break e}}}return l=l.i.splice(0,_),g.D=l,w}function hO(l){if(!l.g&&!l.u){l.Y=1;var g=l.Fa;ae||wt(),le||(ae(),le=!0),De.add(g,l),l.v=0}}function xy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Bl(v(l.Fa,l),mO(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,gO(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Bl(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),Vf(this),gO(this))};function Ey(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function gO(l){l.g=new Io(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var g=ji(l.qa);it(g,"RID","rpc"),it(g,"SID",l.K),it(g,"AID",l.T),it(g,"CI",l.F?"0":"1"),!l.F&&l.ja&&it(g,"TO",l.ja),it(g,"TYPE","xmlhttp"),Zl(l,g),l.m&&l.o&&wy(g,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Nf(ji(g)),_.m=null,_.P=!0,BP(_,l)}n.Za=function(){this.C!=null&&(this.C=null,Vf(this),xy(this),xn(19))};function Uf(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function pO(l,g){var _=null;if(l.g==g){Uf(l),Ey(l),l.g=null;var w=2}else if(Cy(l.h,g))_=g.D,GP(l.h,g),w=1;else return;if(l.G!=0){if(g.o)if(w==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var k=l.B;w=Sf(),Mn(w,new LP(w,_)),jf(l)}else hO(l);else if(k=g.s,k==3||k==0&&0<g.X||!(w==1&&G5(l,g)||w==2&&xy(l)))switch(_&&0<_.length&&(g=l.h,g.i=g.i.concat(_)),k){case 1:As(l,5);break;case 4:As(l,10);break;case 3:As(l,6);break;default:As(l,2)}}}function mO(l,g){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*g}function As(l,g){if(l.j.info("Error code "+g),g==2){var _=v(l.fb,l),w=l.Xa;let k=!w;w=new Ts(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kf(w,"https"),Nf(w),k?U5(w.toString(),_):B5(w.toString(),_)}else xn(2);l.G=0,l.l&&l.l.sa(g),_O(l),uO(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function _O(l){if(l.G=0,l.ka=[],l.l){let g=KP(l.h);(g.length!=0||l.i.length!=0)&&(N(l.ka,g),N(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function yO(l,g,_){var w=_ instanceof Ts?ji(_):new Ts(_);if(w.g!="")g&&(w.g=g+"."+w.g),Rf(w,w.s);else{var k=a.location;w=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var F=new Ts(null);w&&kf(F,w),g&&(F.g=g),k&&Rf(F,k),_&&(F.l=_),w=F}return _=l.D,g=l.ya,_&&g&&it(w,_,g),it(w,"VER",l.la),Zl(l,w),w}function vO(l,g,_){if(g&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=l.Ca&&!l.pa?new Ct(new Gl({eb:_})):new Ct(l.pa),g.Ha(l.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function CO(){}n=CO.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bf(){}Bf.prototype.g=function(l,g){return new Hn(l,g)};function Hn(l,g){un.call(this),this.g=new lO(g),this.l=l,this.h=g&&g.messageUrlParams||null,l=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(l?l["X-WebChannel-Content-Type"]=g.messageContentType:l={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(l?l["X-WebChannel-Client-Profile"]=g.va:l={"X-WebChannel-Client-Profile":g.va}),this.g.S=l,(l=g&&g.Sb)&&!J(l)&&(this.g.m=l),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,l=this.h,l!==null&&g in l&&(l=this.h,g in l&&delete l[g])),this.j=new qa(this)}x(Hn,un),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){My(this.g)},Hn.prototype.o=function(l){var g=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=dy(l),l=_);g.i.push(new D5(g.Ya++,l)),g.G==3&&jf(g)},Hn.prototype.N=function(){this.g.l=null,delete this.j,My(this.g),delete this.g,Hn.aa.N.call(this)};function bO(l){hy.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var g=l.__sm__;if(g){e:{for(let _ in g){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,g=g!==null&&l in g?g[l]:void 0),this.data=g}else this.data=l}x(bO,hy);function wO(){gy.call(this),this.status=1}x(wO,gy);function qa(l){this.g=l}x(qa,CO),qa.prototype.ua=function(){Mn(this.g,"a")},qa.prototype.ta=function(l){Mn(this.g,new bO(l))},qa.prototype.sa=function(l){Mn(this.g,new wO)},qa.prototype.ra=function(){Mn(this.g,"b")},Bf.prototype.createWebChannel=Bf.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,HM=mo.createWebChannelTransport=function(){return new Bf},zM=mo.getStatEventTarget=function(){return Sf()},$M=mo.Event=Ss,Om=mo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Df.NO_ERROR=0,Df.TIMEOUT=8,Df.HTTP_ERROR=6,zd=mo.ErrorCode=Df,VP.COMPLETE="complete",BM=mo.EventType=VP,kP.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",un.prototype.listen=un.prototype.K,rl=mo.WebChannel=kP,CH=mo.FetchXmlHttpFactory=Gl,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,UM=mo.XhrIo=Ct}).apply(typeof Pm<"u"?Pm:typeof self<"u"?self:typeof window<"u"?window:{});var oN="@firebase/firestore",sN="4.8.0";var Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");var Ml="11.10.0";var Ta=new yi("@firebase/firestore");function il(){return Ta.logLevel}function te(n,...e){if(Ta.logLevel<=ke.DEBUG){let t=e.map(AE);Ta.debug(`Firestore (${Ml}): ${n}`,...t)}}function _o(n,...e){if(Ta.logLevel<=ke.ERROR){let t=e.map(AE);Ta.error(`Firestore (${Ml}): ${n}`,...t)}}function ys(n,...e){if(Ta.logLevel<=ke.WARN){let t=e.map(AE);Ta.warn(`Firestore (${Ml}): ${n}`,...t)}}function AE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JN(n,r,t)}function JN(n,e,t){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _o(r),new Error(r)}function qe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||JN(e,i,r)}function we(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends An{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Rm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},YM=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}},QM=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ZM=class{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>b(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new Rm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}},JM=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},XM=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new JM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Nm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ex=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Nm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function bH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function XN(){return new TextEncoder}var Yd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=bH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Se(n,e){return n<e?-1:n>e?1:0}function tx(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Se(r,i);{let o=XN(),s=wH(o.encode(aN(n,t)),o.encode(aN(e,t)));return s!==0?s:Se(r,i)}}t+=r>65535?2:1}return Se(n.length,e.length)}function aN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function wH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Se(n[t],e[t]);return Se(n.length,e.length)}function dl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var cN="__name__",Fm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):tx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}},dt=class n extends Fm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},MH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,er=class n extends Fm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return MH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cN}static keyField(){return new n([cN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ge=class n{constructor(e){this.path=e}static fromPath(e){return new n(dt.fromString(e))}static fromName(e){return new n(dt.fromString(e).popFirst(5))}static empty(){return new n(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new dt(e.slice()))}};function e2(n,e,t){if(!t)throw new Z($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xH(n,e,t,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lN(n){if(!ge.isDocumentKey(n))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uN(n){if(ge.isDocumentKey(n))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function t2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function g_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":me(12329,{type:typeof n})}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=g_(n);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Nt(n,e){let t={typeString:n};return e&&(t.value=e),t}function df(n,e){if(!t2(n))throw new Z($.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Z($.INVALID_ARGUMENT,t);return!0}var dN=-62135596800,fN=1e6,Ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*fN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dN)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fN}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-dN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ft._jsonSchemaVersion="firestore/timestamp/1.0",Ft._jsonSchema={type:Nt("string",Ft._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};var xe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ft(0,0))}static max(){return new n(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=-1,nx=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};nx.UNKNOWN_ID=-1;function EH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Ft(t+1,0):new Ft(t,r));return new Aa(i,ge.empty(),e)}function PH(n){return new Aa(n.readTime,n.key,Qd)}var Aa=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(xe.min(),ge.empty(),Qd)}static max(){return new n(xe.max(),ge.empty(),Qd)}};function OH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}var IH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rx=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xl(n){return b(this,null,function*(){if(n.code!==$.FAILED_PRECONDITION||n.message!==IH)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var K=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function SH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(n){return n.name==="IndexedDbTransactionError"}var kE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),RE=-1;function p_(n){return n==null}function Zd(n){return n===0&&1/n==-1/0}function DH(n){return typeof n=="number"&&Number.isInteger(n)&&!Zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var n2="";function TH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hN(e)),e=AH(n.get(t),e);return hN(e)}function AH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case n2:t+="";break;default:t+=o}}return t}function hN(n){return n+n2+""}var kH="remoteDocuments",r2="owner";var i2="mutationQueues";var o2="mutations";var s2="documentMutations",RH="remoteDocumentsV14";var a2="remoteDocumentGlobal";var c2="targets";var l2="targetDocuments";var u2="targetGlobal",d2="collectionParents";var f2="clientMetadata";var h2="bundles";var g2="namedQueries";var NH="indexConfiguration";var FH="indexState";var LH="indexEntries";var p2="documentOverlays";var VH="globals";var jH=[i2,o2,s2,kH,c2,r2,u2,l2,f2,a2,d2,h2,g2],Qpe=[...jH,p2],UH=[i2,o2,s2,RH,c2,r2,u2,l2,f2,a2,d2,h2,g2,p2],BH=UH,$H=[...BH,NH,FH,LH];var Zpe=[...$H,VH];function gN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function m2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var bt=class n{constructor(e,t){this.comparator=e,this.root=t||Ei.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cl(this.root,e,this.comparator,!0)}},cl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ei=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}};Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1;Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ei(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qt=class n{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lm(this.data.getIterator())}getIteratorFrom(e){return new Lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Lm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cr=class n{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qt(er.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Vm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wn.EMPTY_BYTE_STRING=new wn("");var zH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(n){if(qe(!!n,39018),typeof n=="string"){let e=0,t=zH.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vo(n){return typeof n=="string"?wn.fromBase64String(n):wn.fromUint8Array(n)}var _2="server_timestamp",y2="__type__",v2="__previous_value__",C2="__local_write_time__";function NE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[y2])===null||t===void 0?void 0:t.stringValue)===_2}function m_(n){let e=n.mapValue.fields[v2];return NE(e)?m_(e):e}function Jd(n){let e=yo(n.mapValue.fields[C2].timestampValue);return new Ft(e.seconds,e.nanos)}var ix=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},jm="(default)",Um=class n{constructor(e,t){this.projectId=e,this.database=t||jm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===jm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var FE="__type__",b2="__max__",Im={mapValue:{fields:{__type__:{stringValue:b2}}}},LE="__vector__",fl="value";function vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NE(n)?4:M2(n)?9007199254740991:w2(n)?10:11:me(28295,{value:n})}function Si(n,e){if(n===e)return!0;let t=vs(n);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jd(n).isEqual(Jd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=yo(i.timestampValue),a=yo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return vo(i.bytesValue).isEqual(vo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ut(i.geoPointValue.latitude)===ut(o.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ut(i.integerValue)===ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ut(i.doubleValue),a=ut(o.doubleValue);return s===a?Zd(s)===Zd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return dl(n.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gN(s)!==gN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Si(s[c],a[c])))return!1;return!0}(n,e);default:return me(52216,{left:n})}}function Xd(n,e){return(n.values||[]).find(t=>Si(t,e))!==void 0}function hl(n,e){if(n===e)return 0;let t=vs(n),r=vs(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ut(o.integerValue||o.doubleValue),c=ut(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return pN(n.timestampValue,e.timestampValue);case 4:return pN(Jd(n),Jd(e));case 5:return tx(n.stringValue,e.stringValue);case 6:return function(o,s){let a=vo(o),c=vo(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Se(a[u],c[u]);if(d!==0)return d}return Se(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(ut(o.latitude),ut(s.latitude));return a!==0?a:Se(ut(o.longitude),ut(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return mN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let m=o.fields||{},v=s.fields||{},C=(a=m[fl])===null||a===void 0?void 0:a.arrayValue,x=(c=v[fl])===null||c===void 0?void 0:c.arrayValue,A=Se(((u=C?.values)===null||u===void 0?void 0:u.length)||0,((d=x?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:mN(C,x)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Im.mapValue&&s===Im.mapValue)return 0;if(o===Im.mapValue)return 1;if(s===Im.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){let v=tx(c[m],d[m]);if(v!==0)return v;let C=hl(a[c[m]],u[d[m]]);if(C!==0)return C}return Se(c.length,d.length)}(n.mapValue,e.mapValue);default:throw me(23264,{le:t})}}function pN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);let t=yo(n),r=yo(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function mN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=hl(t[i],r[i]);if(o)return o}return Se(t.length,r.length)}function gl(n){return ox(n)}function ox(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=yo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return vo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ox(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ox(t.fields[s])}`;return i+"}"}(n.mapValue):me(61005,{value:n})}function Tm(n){switch(vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=m_(n);return e?16+Tm(e):16;case 5:return 2*n.stringValue.length;case 6:return vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Tm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return xs(r.fields,(o,s)=>{i+=o.length+Tm(s)}),i}(n.mapValue);default:throw me(13486,{value:n})}}function _N(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sx(n){return!!n&&"integerValue"in n}function VE(n){return!!n&&"arrayValue"in n}function yN(n){return!!n&&"nullValue"in n}function vN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Am(n){return!!n&&"mapValue"in n}function w2(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FE])===null||t===void 0?void 0:t.stringValue)===LE}function qd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function M2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===b2}var Xpe={mapValue:{fields:{[FE]:{stringValue:LE},[fl]:{arrayValue:{}}}}};var Xn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Am(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(t)}setAll(e){let t=er.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=qd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Am(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Am(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(qd(this.value))}};function x2(n){let e=[];return xs(n.fields,(t,r)=>{let i=new er([t]);if(Am(r)){let o=x2(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Cr(e)}var Yr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,xe.min(),xe.min(),xe.min(),Xn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,xe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,xe.min(),xe.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,xe.min(),xe.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pl=class{constructor(e,t){this.position=e,this.inclusive=t}};function CN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ge.comparator(ge.fromName(s.referenceValue),t.key):r=hl(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Si(n.position[t],e.position[t]))return!1;return!0}var ka=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function HH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bm=class{},Rt=class n extends Bm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cx(e,t,r):t==="array-contains"?new dx(e,r):t==="in"?new fx(e,r):t==="not-in"?new hx(e,r):t==="array-contains-any"?new gx(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lx(e,r):new ux(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hl(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qr=class n extends Bm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return E2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function E2(n){return n.op==="and"}function P2(n){return qH(n)&&E2(n)}function qH(n){for(let e of n.filters)if(e instanceof Qr)return!1;return!0}function ax(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+gl(n.value);if(P2(n))return n.filters.map(e=>ax(e)).join(",");{let e=n.filters.map(t=>ax(t)).join(",");return`${n.op}(${e})`}}function O2(n,e){return n instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Si(r.value,i.value)}(n,e):n instanceof Qr?function(r,i){return i instanceof Qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&O2(s,i.filters[a]),!0):!1}(n,e):void me(19439)}function I2(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`}(n):n instanceof Qr?function(t){return t.op.toString()+" {"+t.getFilters().map(I2).join(" ,")+"}"}(n):"Filter"}var cx=class extends Rt{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){let t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}},lx=class extends Rt{constructor(e,t){super(e,"in",t),this.keys=S2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ux=class extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=S2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function S2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ge.fromName(r.referenceValue))}var dx=class extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return VE(t)&&Xd(t.arrayValue,this.value)}},fx=class extends Rt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Xd(this.value.arrayValue,t)}},hx=class extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xd(this.value.arrayValue,t)}},gx=class extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!VE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}};var px=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function wN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new px(n,e,t,r,i,o,s)}function jE(n){let e=we(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ax(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),p_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gl(r)).join(",")),e.Pe=t}return e.Pe}function UE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bN(n.startAt,e.startAt)&&bN(n.endAt,e.endAt)}function mx(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Cs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function WH(n,e,t,r,i,o,s,a){return new Cs(n,e,t,r,i,o,s,a)}function __(n){return new Cs(n)}function MN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function D2(n){return n.collectionGroup!==null}function Wd(n){let e=we(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qt(er.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ka(o,r))}),t.has(er.keyField().canonicalString())||e.Te.push(new ka(er.keyField(),r))}return e.Te}function Pi(n){let e=we(n);return e.Ie||(e.Ie=GH(e,Wd(n))),e.Ie}function GH(n,e){if(n.limitType==="F")return wN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ka(i.field,o)});let t=n.endAt?new pl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pl(n.startAt.position,n.startAt.inclusive):null;return wN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _x(n,e){let t=n.filters.concat([e]);return new Cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yx(n,e,t){return new Cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function y_(n,e){return UE(Pi(n),Pi(e))&&n.limitType===e.limitType}function T2(n){return`${jE(Pi(n))}|lt:${n.limitType}`}function ol(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>I2(i)).join(", ")}]`),p_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>gl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>gl(i)).join(",")),`Target(${r})`}(Pi(n))}; limitType=${n.limitType})`}function v_(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Wd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=CN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Wd(r),i)||r.endAt&&!function(s,a,c){let u=CN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Wd(r),i))}(n,e)}function KH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function A2(n){return(e,t)=>{let r=!1;for(let i of Wd(n)){let o=YH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function YH(n,e,t){let r=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?hl(c,u):me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return me(19790,{direction:n.dir})}}var Co=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return m2(this.inner)}size(){return this.innerSize}};var QH=new bt(ge.comparator);function bo(){return QH}var k2=new bt(ge.comparator);function Hd(...n){let e=k2;for(let t of n)e=e.insert(t.key,t);return e}function R2(n){let e=k2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Pa(){return Gd()}function N2(){return Gd()}function Gd(){return new Co(n=>n.toString(),(n,e)=>n.isEqual(e))}var ZH=new bt(ge.comparator),JH=new Qt(ge.comparator);function Ne(...n){let e=JH;for(let t of n)e=e.add(t);return e}var XH=new Qt(Se);function eq(){return XH}function BE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function F2(n){return{integerValue:""+n}}function tq(n,e){return DH(e)?F2(e):BE(n,e)}var ml=class{constructor(){this._=void 0}};function nq(n,e,t){return n instanceof _l?function(i,o){let s={fields:{[y2]:{stringValue:_2},[C2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&NE(o)&&(o=m_(o)),o&&(s.fields[v2]=o),{mapValue:s}}(t,e):n instanceof Ra?V2(n,e):n instanceof Na?j2(n,e):function(i,o){let s=L2(i,o),a=xN(s)+xN(i.Ee);return sx(s)&&sx(i.Ee)?F2(a):BE(i.serializer,a)}(n,e)}function rq(n,e,t){return n instanceof Ra?V2(n,e):n instanceof Na?j2(n,e):t}function L2(n,e){return n instanceof yl?function(r){return sx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var _l=class extends ml{},Ra=class extends ml{constructor(e){super(),this.elements=e}};function V2(n,e){let t=U2(e);for(let r of n.elements)t.some(i=>Si(i,r))||t.push(r);return{arrayValue:{values:t}}}var Na=class extends ml{constructor(e){super(),this.elements=e}};function j2(n,e){let t=U2(e);for(let r of n.elements)t=t.filter(i=>!Si(i,r));return{arrayValue:{values:t}}}var yl=class extends ml{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function xN(n){return ut(n.integerValue||n.doubleValue)}function U2(n){return VE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ra&&i instanceof Ra||r instanceof Na&&i instanceof Na?dl(r.elements,i.elements,Si):r instanceof yl&&i instanceof yl?Si(r.Ee,i.Ee):r instanceof _l&&i instanceof _l}(n.transform,e.transform)}var vx=class{constructor(e,t){this.version=e,this.transformResults=t}},Oi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function km(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vl=class{};function B2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ef(n.key,Oi.none()):new Fa(n.key,n.data,Oi.none());{let t=n.data,r=Xn.empty(),i=new Qt(er.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Di(n.key,r,new Cr(i.toArray()),Oi.none())}}function oq(n,e,t){n instanceof Fa?function(i,o,s){let a=i.value.clone(),c=PN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Di?function(i,o,s){if(!km(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll($2(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Kd(n,e,t,r){return n instanceof Fa?function(o,s,a,c){if(!km(o.precondition,s))return a;let u=o.value.clone(),d=ON(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Di?function(o,s,a,c){if(!km(o.precondition,s))return a;let u=ON(o.fieldTransforms,c,s),d=s.data;return d.setAll($2(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(o,s,a){return km(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function sq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=L2(r.transform,i||null);o!=null&&(t===null&&(t=Xn.empty()),t.set(r.field,o))}return t||null}function EN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dl(r,i,(o,s)=>iq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Fa=class extends vl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Di=class extends vl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function PN(n,e,t){let r=new Map;qe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rq(s,a,t[i]))}return r}function ON(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,nq(o,s,e))}return r}var ef=class extends vl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Cx=class extends vl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bx=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&oq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Kd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=N2();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=B2(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(t,r)=>EN(t,r))&&dl(this.baseMutations,e.baseMutations,(t,r)=>EN(t,r))}},wx=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return ZH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Mx=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xx=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var At,Le;function aq(n){switch(n){case $.OK:return me(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return me(15467,{code:n})}}function z2(n){if(n===void 0)return _o("GRPC error has no .code"),$.UNKNOWN;switch(n){case At.OK:return $.OK;case At.CANCELLED:return $.CANCELLED;case At.UNKNOWN:return $.UNKNOWN;case At.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case At.INTERNAL:return $.INTERNAL;case At.UNAVAILABLE:return $.UNAVAILABLE;case At.UNAUTHENTICATED:return $.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case At.NOT_FOUND:return $.NOT_FOUND;case At.ALREADY_EXISTS:return $.ALREADY_EXISTS;case At.PERMISSION_DENIED:return $.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case At.ABORTED:return $.ABORTED;case At.OUT_OF_RANGE:return $.OUT_OF_RANGE;case At.UNIMPLEMENTED:return $.UNIMPLEMENTED;case At.DATA_LOSS:return $.DATA_LOSS;default:return me(39323,{code:n})}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";var IN=null;var cq=new po([4294967295,4294967295],0);function SN(n){let e=XN().encode(n),t=new jM;return t.update(e),new Uint8Array(t.digest())}function DN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new po([t,r],0),new po([i,o],0)]}var Ex=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Oa(`Invalid padding: ${t}`);if(r<0)throw new Oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=po.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(po.fromNumber(r)));return i.compare(cq)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=SN(e),[r,i]=DN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=SN(e),[r,i]=DN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Oa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $m=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,tf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(xe.min(),i,new bt(Se),bo(),Ne())}},tf=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ne(),Ne(),Ne())}};var ll=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},zm=class{constructor(e,t){this.targetId=e,this.De=t}},Hm=class{constructor(e,t,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},qm=class{constructor(){this.ve=0,this.Ce=TN(),this.Fe=wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ne(),t=Ne(),r=Ne();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:me(38017,{changeType:o})}}),new tf(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=TN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Px=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=bo(),this.je=Sm(),this.Je=Sm(),this.He=new bt(Se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(mx(o))if(r===0){let s=new ge(o.path);this.Xe(t,s,Yr.newNoDocument(s,xe.min()))}else qe(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}IN?.ct(function(d,m,v,C,x){var A,N,W,J,ee,oe;let $e={localCacheCount:d,existenceFilterCount:m.count,databaseId:v.database,projectId:v.projectId},be=m.unchangedNames;return be&&($e.bloomFilter={applied:x===0,hashCount:(A=be?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(J=(W=(N=be?.bits)===null||N===void 0?void 0:N.bitmap)===null||W===void 0?void 0:W.length)!==null&&J!==void 0?J:0,padding:(oe=(ee=be?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&oe!==void 0?oe:0,mightContain:I=>{var M;return(M=C?.mightContain(I))!==null&&M!==void 0&&M}}),$e}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=vo(r).toUint8Array()}catch(c){if(c instanceof Vm)return ys("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ex(s,i,o)}catch(c){return ys(c instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&mx(a.target)){let c=new ge(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Yr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ne();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new $m(e,t,this.He,this.ze,r);return this.ze=bo(),this.je=Sm(),this.Je=Sm(),this.He=new bt(Se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new qm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Qt(Se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Qt(Se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new qm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Sm(){return new bt(ge.comparator)}function TN(){return new bt(ge.comparator)}var lq={asc:"ASCENDING",desc:"DESCENDING"},uq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dq={and:"AND",or:"OR"},Ox=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ix(n,e){return n.useProto3Json||p_(e)?e:{value:e}}function Wm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fq(n,e){return Wm(n,e.toTimestamp())}function Ii(n){return qe(!!n,49232),xe.fromTimestamp(function(t){let r=yo(t);return new Ft(r.seconds,r.nanos)}(n))}function $E(n,e){return Sx(n,e).canonicalString()}function Sx(n,e){let t=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function q2(n){let e=dt.fromString(n);return qe(Q2(e),10190,{key:e.toString()}),e}function Dx(n,e){return $E(n.databaseId,e.path)}function qM(n,e){let t=q2(e);if(t.get(1)!==n.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(G2(t))}function W2(n,e){return $E(n.databaseId,e)}function hq(n){let e=q2(n);return e.length===4?dt.emptyPath():G2(e)}function Tx(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G2(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AN(n,e,t){return{name:Dx(n,e),fields:t.value.mapValue.fields}}function gq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(qe(d===void 0||typeof d=="string",58123),wn.fromBase64String(d||"")):(qe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?$.UNKNOWN:z2(u.code);return new Z(d,u.message||"")}(s);t=new Hm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=qM(n,r.document.name),o=Ii(r.document.updateTime),s=r.document.createTime?Ii(r.document.createTime):xe.min(),a=new Xn({mapValue:{fields:r.document.fields}}),c=Yr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new ll(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=qM(n,r.document),o=r.readTime?Ii(r.readTime):xe.min(),s=Yr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ll([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=qM(n,r.document),o=r.removedTargetIds||[];t=new ll([],o,i,null)}else{if(!("filter"in e))return me(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new xx(i,o),a=r.targetId;t=new zm(a,s)}}return t}function pq(n,e){let t;if(e instanceof Fa)t={update:AN(n,e.key,e.value)};else if(e instanceof ef)t={delete:Dx(n,e.key)};else if(e instanceof Di)t={update:AN(n,e.key,e.data),updateMask:xq(e.fieldMask)};else{if(!(e instanceof Cx))return me(16599,{Rt:e.type});t={verify:Dx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof _l)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ra)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Na)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw me(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:me(27497)}(n,e.precondition)),t}function mq(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Ii(i.updateTime):Ii(o);return s.isEqual(xe.min())&&(s=Ii(o)),new vx(s,i.transformResults||[])}(t,e))):[]}function _q(n,e){return{documents:[W2(n,e.path)]}}function yq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=W2(n,i);let o=function(u){if(u.length!==0)return Y2(Qr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:sl(v.field),direction:bq(v.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Ix(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function vq(n){let e=hq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){qe(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(m){let v=K2(m);return v instanceof Qr&&P2(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(v=>function(x){return new ka(al(x.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(m){let v;return v=typeof m=="object"?m.value:m,p_(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(m){let v=!!m.before,C=m.values||[];return new pl(C,v)}(t.startAt));let u=null;return t.endAt&&(u=function(m){let v=!m.before,C=m.values||[];return new pl(C,v)}(t.endAt)),WH(e,i,s,o,a,"F",c,u)}function Cq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=al(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=al(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=al(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=al(t.unaryFilter.field);return Rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(al(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qr.create(t.compositeFilter.filters.map(r=>K2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(t.compositeFilter.op))}(n):me(30097,{filter:n})}function bq(n){return lq[n]}function wq(n){return uq[n]}function Mq(n){return dq[n]}function sl(n){return{fieldPath:n.canonicalString()}}function al(n){return er.fromServerFormat(n.fieldPath)}function Y2(n){return n instanceof Rt?function(t){if(t.op==="=="){if(vN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NAN"}};if(yN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NOT_NAN"}};if(yN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(t.field),op:wq(t.op),value:t.value}}}(n):n instanceof Qr?function(t){let r=t.getFilters().map(i=>Y2(i));return r.length===1?r[0]:{compositeFilter:{op:Mq(t.op),filters:r}}}(n):me(54877,{filter:n})}function xq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Q2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var nf=class n{constructor(e,t,r,i,o=xe.min(),s=xe.min(),a=wn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ax=class{constructor(e){this.gt=e}};function Eq(n){let e=vq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yx(e,e.limit,"L"):e}var Gm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(ut(e.integerValue));else if("doubleValue"in e){let r=ut(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Zd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=yo(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(vo(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?M2(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):w2(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):me(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=fl,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(ut(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ge.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Gm.Ut=new Gm;var kx=class{constructor(){this.Dn=new Rx}addToCollectionParentIndex(e,t){return this.Dn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Aa.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}},Rx=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qt(dt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qt(dt.comparator)).toArray()}};var eme=new Uint8Array(0);var kN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z2=41943040,vr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(Z2,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);var rf=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var RN="LruGarbageCollector",Pq=1048576;function NN([n,e],[t,r]){let i=Se(n,t);return i===0?Se(e,r):i}var Nx=class{constructor(e){this.Tr=e,this.buffer=new Qt(NN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();NN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Fx=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(RN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?te(RN,"Ignoring IndexedDB error during garbage collection: ",t):yield xl(t)}yield this.Rr(3e5)}))}},Lx=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return K.resolve(kE.ue);let r=new Nx(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(kN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),il()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}};function Oq(n,e){return new Lx(n,e)}var Vx=class{constructor(){this.changes=new Co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jx=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Ux=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Kd(r.mutation,i,Cr.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){let i=Pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Hd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=bo(),s=Gd(),a=function(){return Gd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Di)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Kd(d.mutation,u,d.mutation.getFieldMask(),Ft.now())):s.set(u.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var m;return a.set(u,new jx(d,(m=s.get(u))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Gd(),i=new bt((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Cr.empty();d=a.applyToLocalView(u,d),r.set(c,d);let m=(i.get(a.batchId)||Ne()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,m=N2();d.forEach(v=>{if(!o.has(v)){let C=B2(t.get(v),r.get(v));C!==null&&m.set(v,C),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return K.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):D2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):K.resolve(Pa()),a=Qd,c=o;return s.next(u=>K.forEach(u,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Ne())).next(d=>({batchId:a,changes:R2(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Hd();return this.indexManager.getCollectionParents(e,o).next(a=>K.forEach(a,c=>{let u=function(m,v){return new Cs(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((m,v)=>{s=s.insert(m,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Yr.newInvalidDocument(d)))});let a=Hd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Kd(d.mutation,u,Cr.empty(),Ft.now()),v_(t,u)&&(a=a.insert(c,u))}),a})}};var Bx=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return K.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Eq(i.bundledQuery),readTime:Ii(i.readTime)}}(t)),K.resolve()}};var $x=class{constructor(){this.overlays=new bt(ge.comparator),this.kr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Pa();return K.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),K.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){let i=Pa(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Pa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Pa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return K.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Mx(t,r));let o=this.kr.get(t);o===void 0&&(o=Ne(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var zx=class{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}};var of=class{constructor(){this.qr=new Qt(kt.Qr),this.$r=new Qt(kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new kt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new kt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ge(new dt([])),r=new kt(t,e),i=new kt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ge(new dt([])),r=new kt(t,e),i=new kt(t,e+1),o=Ne();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new kt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},kt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Se(e.Hr,t.Hr)}static Ur(e,t){return Se(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}};var Hx=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Qt(kt.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bx(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(s)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?RE:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new kt(t,0),i=new kt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qt(Se);return t.forEach(i=>{let o=new kt(i,0),s=new kt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),K.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ge.isDocumentKey(o)||(o=o.child(""));let s=new kt(new ge(o),0),a=new Qt(Se);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),K.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return K.forEach(t.mutations,i=>{let o=new kt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new kt(t,0),i=this.Yr.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var qx=class{constructor(e){this.ni=e,this.docs=function(){return new bt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let r=bo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yr.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bo(),s=t.path,a=new ge(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||OH(PH(d),r)<=0||(i.has(d.key)||v_(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,r,i){me(9500)}ri(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wx(this)}getSize(e){return K.resolve(this.size)}},Wx=class extends Vx{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Gx=class{constructor(e){this.persistence=e,this.ii=new Co(t=>jE(t),UE),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.si=0,this.oi=new of,this.targetCount=0,this._i=rf.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),K.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new rf(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.hr(t),K.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),K.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.oi.containsKey(t))}};var Km=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new kE(0),this.ci=!1,this.ci=!0,this.li=new zx,this.referenceDelegate=e(this),this.hi=new Gx(this),this.indexManager=new kx,this.remoteDocumentCache=function(i){return new qx(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Ax(t),this.Ti=new Bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $x,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Hx(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new Kx(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return K.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Kx=class extends rx{constructor(e){super(),this.currentSequenceNumber=e}},Yx=class n{constructor(e){this.persistence=e,this.Ai=new of,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw me(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,r=>{let i=ge.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,xe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return K.or([()=>K.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Ym=class n{constructor(e,t){this.persistence=e,this.gi=new Co(r=>TH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Oq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return K.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?K.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),K.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tm(e.data.value)),t}Sr(e,t,r){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Qx=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ne(),i=Ne();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Zx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jx=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Ck()?8:SH(Kt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Zx;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(il()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(il()<=ke.DEBUG&&te("QueryEngine","Query:",ol(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(il()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):K.resolve())}ps(e,t){if(MN(t))return K.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=yx(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ne(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,yx(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return MN(t)||i.isEqual(xe.min())?K.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?K.resolve(null):(il()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(t)),this.vs(e,s,t,EH(i,Qd)).next(a=>a))})}bs(e,t){let r=new Qt(A2(e));return t.forEach((i,o)=>{v_(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return il()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ol(t)),this.gs.getDocumentsMatchingQuery(e,t,Aa.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zE="LocalStore",Iq=3e8,Xx=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new bt(Se),this.Ms=new Co(o=>jE(o),UE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Sq(n,e,t,r){return new Xx(n,e,t,r)}function J2(n,e){return b(this,null,function*(){let t=we(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ne();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function Dq(n,e){let t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let m=u.batch,v=m.keys(),C=K.resolve();return v.forEach(x=>{C=C.next(()=>d.getEntry(c,x)).next(A=>{let N=u.docVersions.get(x);qe(N!==null,48541),A.version.compareTo(N)<0&&(m.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),d.addEntry(A)))})}),C.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function X2(n){let e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Tq(n,e){let t=we(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,m)=>{let v=i.get(m);if(!v)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,m).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,m)));let C=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?C=C.withResumeToken(wn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):d.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(d.resumeToken,r)),i=i.insert(m,C),function(A,N,W){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Iq?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(v,C,d)&&a.push(t.hi.updateTargetData(o,C))});let c=bo(),u=Ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(Aq(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(xe.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(m=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return K.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function Aq(n,e,t){let r=Ne(),i=Ne();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=bo();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te(zE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function kq(n,e){let t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=RE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rq(n,e){let t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new nf(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function eE(n,e,t){return b(this,null,function*(){let r=we(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!El(s))throw s;te(zE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function FN(n,e,t){let r=we(n),i=xe.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let m=we(c),v=m.Ms.get(d);return v!==void 0?K.resolve(m.Fs.get(v)):m.hi.getTargetData(u,d)}(r,s,Pi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:xe.min(),t?o:Ne())).next(a=>(Nq(r,KH(e),a),{documents:a,qs:o})))}function Nq(n,e,t){let r=n.xs.get(e)||xe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Qm=class{constructor(){this.activeTargetIds=eq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tE=class{constructor(){this.Fo=new Qm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Qm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nE=class{xo(e){}shutdown(){}};var LN="ConnectivityMonitor",Zm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(LN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){te(LN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Dm=null;function rE(){return Dm===null?Dm=function(){return 268435456+Math.round(2147483648*Math.random())}():Dm++,"0x"+Dm.toString(16)}var WM="RestConnection",Fq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},iE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===jm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=rE(),a=this.Go(e,t.toUriEncodedString());te(WM,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=mi(u);return this.jo(e,a,c,r,d).then(m=>(te(WM,`Received RPC '${e}' ${s}: `,m),m),m=>{throw ys(WM,`RPC '${e}' ${s} failed with error: `,m,"url: ",a,"request:",r),m})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Fq[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var oE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var bn="WebChannelConnection",sE=class extends iE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=rE();return new Promise((a,c)=>{let u=new UM;u.setWithCredentials(!0),u.listenOnce(BM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zd.NO_ERROR:let m=u.getResponseJson();te(bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case zd.TIMEOUT:te(bn,`RPC '${e}' ${s} timed out`),c(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:let v=u.getStatus();if(te(bn,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let C=u.getResponseJson();Array.isArray(C)&&(C=C[0]);let x=C?.error;if(x&&x.status&&x.message){let A=function(W){let J=W.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(J)>=0?J:$.UNKNOWN}(x.status);c(new Z(A,x.message))}else c(new Z($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Z($.UNAVAILABLE,"Connection failed."));break;default:me(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(bn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);te(bn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=rE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=HM(),a=zM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");te(bn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let m=s.createWebChannel(d,c);this.T_(m);let v=!1,C=!1,x=new oE({Ho:N=>{C?te(bn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(te(bn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),te(bn,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},Yo:()=>m.close()}),A=(N,W,J)=>{N.listen(W,ee=>{try{J(ee)}catch(oe){setTimeout(()=>{throw oe},0)}})};return A(m,rl.EventType.OPEN,()=>{C||(te(bn,`RPC '${e}' stream ${i} transport opened.`),x.s_())}),A(m,rl.EventType.CLOSE,()=>{C||(C=!0,te(bn,`RPC '${e}' stream ${i} transport closed`),x.__(),this.I_(m))}),A(m,rl.EventType.ERROR,N=>{C||(C=!0,ys(bn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),x.__(new Z($.UNAVAILABLE,"The operation could not be completed")))}),A(m,rl.EventType.MESSAGE,N=>{var W;if(!C){let J=N.data[0];qe(!!J,16349);let ee=J,oe=ee?.error||((W=ee[0])===null||W===void 0?void 0:W.error);if(oe){te(bn,`RPC '${e}' stream ${i} received error:`,oe);let $e=oe.status,be=function(E){let D=At[E];if(D!==void 0)return z2(D)}($e),I=oe.message;be===void 0&&(be=$.INTERNAL,I="Unknown error status: "+$e+" with message "+oe.message),C=!0,x.__(new Z(be,I)),m.close()}else te(bn,`RPC '${e}' stream ${i} received:`,J),x.a_(J)}}),A(a,$M.STAT_EVENT,N=>{N.stat===Om.PROXY?te(bn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Om.NOPROXY&&te(bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function GM(){return typeof document<"u"?document:null}function C_(n){return new Ox(n,!0)}var Jm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var VN="PersistentStream",Xm=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Jm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(_o(t.toString()),_o("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return te(VN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(te(VN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aE=class extends Xm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=gq(this.serializer,e),r=function(o){if(!("targetChange"in o))return xe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?xe.min():s.readTime?Ii(s.readTime):xe.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Tx(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=mx(c)?{documents:_q(o,c)}:{query:yq(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=H2(o,s.resumeToken);let u=Ix(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(xe.min())>0){a.readTime=Wm(o,s.snapshotVersion.toTimestamp());let u=Ix(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Cq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Tx(this.serializer),t.removeTarget=e,this.k_(t)}},cE=class extends Xm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=mq(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Tx(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>pq(this.serializer,r))};this.k_(t)}};var lE=class{},uE=class extends lE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Sx(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Sx(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z($.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},dE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_o(t),this._a=!1):te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var La="RemoteStore",fE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Va(this)&&(te(La,"Restarting streams for network reachability change."),yield function(c){return b(this,null,function*(){let u=we(c);u.Ia.add(4),yield ff(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield b_(u)})}(this))}))}),this.Aa=new dE(r,i)}};function b_(n){return b(this,null,function*(){if(Va(n))for(let e of n.da)yield e(!0)})}function ff(n){return b(this,null,function*(){for(let e of n.da)yield e(!1)})}function eF(n,e){let t=we(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),GE(t)?WE(t):Pl(t).x_()&&qE(t,e))}function HE(n,e){let t=we(n),r=Pl(t);t.Ta.delete(e),r.x_()&&tF(t,e),t.Ta.size===0&&(r.x_()?r.B_():Va(t)&&t.Aa.set("Unknown"))}function qE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pl(n).H_(e)}function tF(n,e){n.Ra.$e(e),Pl(n).Y_(e)}function WE(n){n.Ra=new Px({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Pl(n).start(),n.Aa.aa()}function GE(n){return Va(n)&&!Pl(n).M_()&&n.Ta.size>0}function Va(n){return we(n).Ia.size===0}function nF(n){n.Ra=void 0}function Lq(n){return b(this,null,function*(){n.Aa.set("Online")})}function Vq(n){return b(this,null,function*(){n.Ta.forEach((e,t)=>{qE(n,e)})})}function jq(n,e){return b(this,null,function*(){nF(n),GE(n)?(n.Aa.la(e),WE(n)):n.Aa.set("Unknown")})}function Uq(n,e,t){return b(this,null,function*(){if(n.Aa.set("Online"),e instanceof Hm&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){te(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield e_(n,r)}else if(e instanceof ll?n.Ra.Ye(e):e instanceof zm?n.Ra.it(e):n.Ra.et(e),!t.isEqual(xe.min()))try{let r=yield X2(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(wn.EMPTY_BYTE_STRING,d.snapshotVersion)),tF(o,c);let m=new nf(d.target,c,u,d.sequenceNumber);qE(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){te(La,"Failed to raise snapshot:",r),yield e_(n,r)}})}function e_(n,e,t){return b(this,null,function*(){if(!El(e))throw e;n.Ia.add(1),yield ff(n),n.Aa.set("Offline"),t||(t=()=>X2(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){te(La,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield b_(n)}))})}function rF(n,e){return e().catch(t=>e_(n,t,e))}function w_(n){return b(this,null,function*(){let e=we(n),t=bs(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:RE;for(;Bq(e);)try{let i=yield kq(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,$q(e,i)}catch(i){yield e_(e,i)}iF(e)&&oF(e)})}function Bq(n){return Va(n)&&n.Pa.length<10}function $q(n,e){n.Pa.push(e);let t=bs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function iF(n){return Va(n)&&!bs(n).M_()&&n.Pa.length>0}function oF(n){bs(n).start()}function zq(n){return b(this,null,function*(){bs(n).na()})}function Hq(n){return b(this,null,function*(){let e=bs(n);for(let t of n.Pa)e.X_(t.mutations)})}function qq(n,e,t){return b(this,null,function*(){let r=n.Pa.shift(),i=wx.from(r,e,t);yield rF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield w_(n)})}function Wq(n,e){return b(this,null,function*(){e&&bs(n).Z_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return aq(s)&&s!==$.ABORTED}(i.code)){let o=r.Pa.shift();bs(r).N_(),yield rF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield w_(r)}})}(n,e)),iF(n)&&oF(n)})}function jN(n,e){return b(this,null,function*(){let t=we(n);t.asyncQueue.verifyOperationInProgress(),te(La,"RemoteStore received new credentials");let r=Va(t);t.Ia.add(3),yield ff(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield b_(t)})}function Gq(n,e){return b(this,null,function*(){let t=we(n);e?(t.Ia.delete(2),yield b_(t)):e||(t.Ia.add(2),yield ff(t),t.Aa.set("Unknown"))})}function Pl(n){return n.Va||(n.Va=function(t,r,i){let o=we(t);return o.ia(),new aE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:Lq.bind(null,n),e_:Vq.bind(null,n),n_:jq.bind(null,n),J_:Uq.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.Va.N_(),GE(n)?WE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),nF(n))}))),n.Va}function bs(n){return n.ma||(n.ma=function(t,r,i){let o=we(t);return o.ia(),new cE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:zq.bind(null,n),n_:Wq.bind(null,n),ea:Hq.bind(null,n),ta:qq.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.ma.N_(),yield w_(n)):(yield n.ma.stop(),n.Pa.length>0&&(te(La,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var hE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function KE(n,e){if(_o("AsyncQueue",`${e}: ${n}`),El(n))return new Z($.UNAVAILABLE,`${e}: ${n}`);throw n}var t_=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=Hd(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var n_=class{constructor(){this.fa=new bt(ge.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):me(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Cl=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,t_.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&y_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var gE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},pE=class{constructor(){this.queries=UN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=we(t),o=i.queries;i.queries=UN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}};function UN(){return new Co(n=>T2(n),y_)}function YE(n,e){return b(this,null,function*(){let t=we(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new gE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=KE(s,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&ZE(t)})}function QE(n,e){return b(this,null,function*(){let t=we(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Kq(n,e){let t=we(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&ZE(t)}function Yq(n,e,t){let r=we(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function ZE(n){n.Da.forEach(e=>{e.next()})}var mE,BN;(BN=mE||(mE={})).Fa="default",BN.Cache="cache";var sf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==mE.Cache}};var r_=class{constructor(e){this.key=e}},i_=class{constructor(e){this.key=e}},_E=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ne(),this.mutatedKeys=Ne(),this.Xa=A2(e),this.eu=new t_(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new n_,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{let v=i.get(d),C=v_(this.query,m)?m:null,x=!!v&&this.mutatedKeys.has(v.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),N=!1;v&&C?v.data.isEqual(C.data)?x!==A&&(r.track({type:3,doc:C}),N=!0):this.iu(v,C)||(r.track({type:2,doc:C}),N=!0,(c&&this.Xa(C,c)>0||u&&this.Xa(C,u)<0)&&(a=!0)):!v&&C?(r.track({type:0,doc:C}),N=!0):v&&!C&&(r.track({type:1,doc:v}),N=!0,(c||u)&&(a=!0)),N&&(C?(s=s.add(C),o=A?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,m)=>function(C,x){let A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{At:N})}};return A(C)-A(x)}(d.type,m.type)||this.Xa(d.doc,m.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Cl(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new n_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new i_(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new r_(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ne();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Cl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},JE="SyncEngine",yE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},vE=class{constructor(e){this.key=e,this.lu=!1}},CE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Co(a=>T2(a),y_),this.Tu=new Map,this.Iu=new Set,this.du=new bt(ge.comparator),this.Eu=new Map,this.Au=new of,this.Ru={},this.Vu=new Map,this.mu=rf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Qq(n,e,t=!0){return b(this,null,function*(){let r=dF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield sF(r,e,t,!0),i})}function Zq(n,e){return b(this,null,function*(){let t=dF(n);yield sF(t,e,!0,!1)})}function sF(n,e,t,r){return b(this,null,function*(){let i=yield Rq(n.localStore,Pi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Jq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&eF(n.remoteStore,i),a})}function Jq(n,e,t,r,i){return b(this,null,function*(){n.gu=(m,v,C)=>function(A,N,W,J){return b(this,null,function*(){let ee=N.view.nu(W);ee.Ds&&(ee=yield FN(A.localStore,N.query,!1).then(({documents:I})=>N.view.nu(I,ee)));let oe=J&&J.targetChanges.get(N.targetId),$e=J&&J.targetMismatches.get(N.targetId)!=null,be=N.view.applyChanges(ee,A.isPrimaryClient,oe,$e);return zN(A,N.targetId,be._u),be.snapshot})}(n,m,v,C);let o=yield FN(n.localStore,e,!0),s=new _E(e,o.qs),a=s.nu(o.documents),c=tf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);zN(n,t,u._u);let d=new yE(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function Xq(n,e,t){return b(this,null,function*(){let r=we(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!y_(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield eE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&HE(r.remoteStore,i.targetId),bE(r,i.targetId)}).catch(xl))):(bE(r,i.targetId),yield eE(r.localStore,i.targetId,!0))})}function eW(n,e){return b(this,null,function*(){let t=we(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),HE(t.remoteStore,r.targetId))})}function tW(n,e,t){return b(this,null,function*(){let r=cW(n);try{let i=yield function(s,a){let c=we(s),u=Ft.now(),d=a.reduce((C,x)=>C.add(x.key),Ne()),m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=bo(),A=Ne();return c.Os.getEntries(C,d).next(N=>{x=N,x.forEach((W,J)=>{J.isValidDocument()||(A=A.add(W))})}).next(()=>c.localDocuments.getOverlayedDocuments(C,x)).next(N=>{m=N;let W=[];for(let J of a){let ee=sq(J,m.get(J.key).overlayedDocument);ee!=null&&W.push(new Di(J.key,ee,x2(ee.value.mapValue),Oi.exists(!0)))}return c.mutationQueue.addMutationBatch(C,u,W,a)}).next(N=>{v=N;let W=N.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(C,N.batchId,W)})}).then(()=>({batchId:v.batchId,changes:R2(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new bt(Se)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield hf(r,i.changes),yield w_(r.remoteStore)}catch(i){let o=KE(i,"Failed to persist write");t.reject(o)}})}function aF(n,e){return b(this,null,function*(){let t=we(n);try{let r=yield Tq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?qe(s.lu,14607):i.removedDocuments.size>0&&(qe(s.lu,42227),s.lu=!1))}),yield hf(t,r,e)}catch(r){yield xl(r)}})}function $N(n,e,t){let r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=we(s);c.onlineState=a;let u=!1;c.queries.forEach((d,m)=>{for(let v of m.wa)v.va(a)&&(u=!0)}),u&&ZE(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nW(n,e,t){return b(this,null,function*(){let r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new bt(ge.comparator);s=s.insert(o,Yr.newNoDocument(o,xe.min()));let a=Ne().add(o),c=new $m(xe.min(),new Map,new bt(Se),s,a);yield aF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),XE(r)}else yield eE(r.localStore,e,!1).then(()=>bE(r,e,t)).catch(xl)})}function rW(n,e){return b(this,null,function*(){let t=we(n),r=e.batch.batchId;try{let i=yield Dq(t.localStore,e);lF(t,r,null),cF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hf(t,i)}catch(i){yield xl(i)}})}function iW(n,e,t){return b(this,null,function*(){let r=we(n);try{let i=yield function(s,a){let c=we(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(qe(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);lF(r,e,t),cF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hf(r,i)}catch(i){yield xl(i)}})}function cF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function lF(n,e,t){let r=we(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function bE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||uF(n,r)})}function uF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(HE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),XE(n))}function zN(n,e,t){for(let r of t)r instanceof r_?(n.Au.addReference(r.key,e),oW(n,r)):r instanceof i_?(te(JE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||uF(n,r.key)):me(19791,{yu:r})}function oW(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(te(JE,"New document in limbo: "+t),n.Iu.add(r),XE(n))}function XE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ge(dt.fromString(e)),r=n.mu.next();n.Eu.set(r,new vE(t)),n.du=n.du.insert(t,r),eF(n.remoteStore,new nf(Pi(__(t.path)),r,"TargetPurposeLimboResolution",kE.ue))}}function hf(n,e,t){return b(this,null,function*(){let r=we(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let m=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);let m=Qx.Es(c.targetId,u);o.push(m)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return b(this,null,function*(){let d=we(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(u,v=>K.forEach(v.Is,C=>d.persistence.referenceDelegate.addReference(m,v.targetId,C)).next(()=>K.forEach(v.ds,C=>d.persistence.referenceDelegate.removeReference(m,v.targetId,C)))))}catch(m){if(!El(m))throw m;te(zE,"Failed to update sequence numbers: "+m)}for(let m of u){let v=m.targetId;if(!m.fromCache){let C=d.Fs.get(v),x=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(x);d.Fs=d.Fs.insert(v,A)}}})}(r.localStore,o))})}function sW(n,e){return b(this,null,function*(){let t=we(n);if(!t.currentUser.isEqual(e)){te(JE,"User change. New user:",e.toKey());let r=yield J2(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new Z($.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hf(t,r.Bs)}})}function aW(n,e){let t=we(n),r=t.Eu.get(e);if(r&&r.lu)return Ne().add(r.key);{let i=Ne(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function dF(n){let e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nW.bind(null,e),e.hu.J_=Kq.bind(null,e.eventManager),e.hu.pu=Yq.bind(null,e.eventManager),e}function cW(n){let e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iW.bind(null,e),e}var fF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=C_(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Sq(this.persistence,new Jx,t.initialUser,this.serializer)}Du(t){return new Km(Yx.Vi,this.serializer)}bu(t){return new tE}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),wE=class extends fF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){qe(this.persistence.referenceDelegate instanceof Ym,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Fx(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new Km(r=>Ym.Vi(r,t),this.serializer)}};var lW=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$N(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sW.bind(null,this.syncEngine),yield Gq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new pE}()}createDatastore(t){let r=C_(t.databaseInfo.databaseId),i=function(s){return new sE(s)}(t.databaseInfo);return function(s,a,c,u){return new uE(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new fE(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>$N(this.syncEngine,r,0),function(){return Zm.C()?new Zm:new nE}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,m){let v=new CE(o,s,a,c,u,d);return m&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=we(o);te(La,"RemoteStore shutting down."),s.Ia.add(5),yield ff(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var af=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_o("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ws="FirestoreClient",ME=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=Yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){te(ws,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te(ws,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=KE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function KM(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te(ws,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield J2(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ys("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ys("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function HN(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield uW(n);te(ws,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jN(e.remoteStore,i)),n._onlineComponents=e})}function uW(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(ws,"Using user provided OfflineComponentProvider");try{yield KM(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),yield KM(n,new fF)}}else te(ws,"Using default OfflineComponentProvider"),yield KM(n,new wE(void 0));return n._offlineComponents})}function hF(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(ws,"Using user provided OnlineComponentProvider"),yield HN(n,n._uninitializedComponentsProvider._online)):(te(ws,"Using default OnlineComponentProvider"),yield HN(n,new lW))),n._onlineComponents})}function dW(n){return hF(n).then(e=>e.syncEngine)}function o_(n){return b(this,null,function*(){let e=yield hF(n),t=e.eventManager;return t.onListen=Qq.bind(null,e.syncEngine),t.onUnlisten=Xq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eW.bind(null,e.syncEngine),t})}function fW(n,e,t={}){let r=new Kr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return function(o,s,a,c,u){let d=new af({next:v=>{d.Ou(),s.enqueueAndForget(()=>QE(o,m));let C=v.docs.has(a);!C&&v.fromCache?u.reject(new Z($.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&v.fromCache&&c&&c.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),m=new sf(__(a.path),d,{includeMetadataChanges:!0,ka:!0});return YE(o,m)}(yield o_(n),n.asyncQueue,e,t,r)})),r.promise}function hW(n,e,t={}){let r=new Kr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return function(o,s,a,c,u){let d=new af({next:v=>{d.Ou(),s.enqueueAndForget(()=>QE(o,m)),v.fromCache&&c.source==="server"?u.reject(new Z($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),m=new sf(a,d,{includeMetadataChanges:!0,ka:!0});return YE(o,m)}(yield o_(n),n.asyncQueue,e,t,r)})),r.promise}function gF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var qN=new Map;var pF="firestore.googleapis.com",WN=!0,s_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pF,this.ssl=WN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:WN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pq)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YM;switch(r.type){case"firstParty":return new XM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=qN.get(t);r&&(te("ComponentProvider","Removing Datastore"),qN.delete(t),r.terminate())}(this),Promise.resolve()}};function mF(n,e,t,r={}){var i;n=$n(n,bl);let o=mi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Qc(`https://${c}`),Zc("Firestore",!0)),s.host!==pF&&s.host!==c&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!_i(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Yt.MOCK_USER;else{d=em(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yt(v)}n._authCredentials=new QM(new Rm(d,m))}}var Ms=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(df(t,n._jsonSchema))return new n(e,r||null,new ge(dt.fromString(t.referencePath)))}};zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Nt("string",zt._jsonSchemaVersion),referencePath:Nt("string")};var gs=class n extends Ms{constructor(e,t,r){super(e,t,__(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ge(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Ti(n,e,...t){if(n=Qe(n),e2("collection","path",e),n instanceof bl){let r=dt.fromString(e,...t);return uN(r),new gs(n,null,r)}{if(!(n instanceof zt||n instanceof gs))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(dt.fromString(e,...t));return uN(r),new gs(n.firestore,null,r)}}function wo(n,e,...t){if(n=Qe(n),arguments.length===1&&(e=Yd.newId()),e2("doc","path",e),n instanceof bl){let r=dt.fromString(e,...t);return lN(r),new zt(n,null,new ge(r))}{if(!(n instanceof zt||n instanceof gs))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(dt.fromString(e,...t));return lN(r),new zt(n.firestore,n instanceof gs?n.converter:null,new ge(r))}}var GN="AsyncQueue",a_=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Jm(this,"async_queue_retry"),this.oc=()=>{let r=GM();r&&te(GN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=GM();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=GM();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Kr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!El(e))throw e;te(GN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,_o("INTERNAL UNHANDLED ERROR: ",KN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=hE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&me(47125,{hc:KN(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function KN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function YN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Zr=class extends bl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new a_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,yield e}})}};function _F(n,e){let t=typeof n=="object"?n:co(),r=typeof n=="string"?n:e||jm,i=as(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Xp("firestore");o&&mF(i,...o)}return i}function M_(n){if(n._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gW(n),n._firestoreClient}function gW(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new ix(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ME(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var ps=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wn.fromBase64String(e))}catch(t){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:Nt("string",ps._jsonSchemaVersion),bytes:Nt("string")};var wl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cf=class{constructor(e){this._methodName=e}};var ms=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(df(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Nt("string",ms._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};var _s=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Z($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};_s._jsonSchemaVersion="firestore/vectorValue/1.0",_s._jsonSchema={type:Nt("string",_s._jsonSchemaVersion),vectorValues:Nt("object")};var pW=/^__.*__$/,xE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}},c_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Di(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function yF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ec:n})}}var EE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return u_(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yF(this.Ec)&&pW.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},PE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||C_(e)}Dc(e,t,r,i=!1){return new EE({Ec:e,methodName:t,bc:r,path:er.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function x_(n){let e=n._freezeSettings(),t=C_(n._databaseId);return new PE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vF(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);eP("Data must be an object, but it was:",s,r);let a=CF(r,s),c,u;if(o.merge)c=new Cr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let m of o.mergeFields){let v=OE(e,m,t);if(!s.contains(v))throw new Z($.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);wF(d,v)||d.push(v)}c=new Cr(d),u=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=s.fieldTransforms;return new xE(new Xn(a),c,u)}var l_=class n extends cf{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function mW(n,e,t,r){let i=n.Dc(1,e,t);eP("Data must be an object, but it was:",i,r);let o=[],s=Xn.empty();xs(r,(c,u)=>{let d=tP(e,c,t);u=Qe(u);let m=i.gc(d);if(u instanceof l_)o.push(d);else{let v=gf(u,m);v!=null&&(o.push(d),s.set(d,v))}});let a=new Cr(o);return new c_(s,a,i.fieldTransforms)}function _W(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[OE(e,r,t)],c=[i];if(o.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(OE(e,o[v])),c.push(o[v+1]);let u=[],d=Xn.empty();for(let v=a.length-1;v>=0;--v)if(!wF(u,a[v])){let C=a[v],x=c[v];x=Qe(x);let A=s.gc(C);if(x instanceof l_)u.push(C);else{let N=gf(x,A);N!=null&&(u.push(C),d.set(C,N))}}let m=new Cr(u);return new c_(d,m,s.fieldTransforms)}function yW(n,e,t,r=!1){return gf(t,n.Dc(r?4:3,e))}function gf(n,e){if(bF(n=Qe(n)))return eP("Unsupported field value:",e,n),CF(n,e);if(n instanceof cf)return function(r,i){if(!yF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=gf(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ft.fromDate(r);return{timestampValue:Wm(i.serializer,o)}}if(r instanceof Ft){let o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wm(i.serializer,o)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ps)return{bytesValue:H2(i.serializer,r._byteString)};if(r instanceof zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$E(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _s)return function(s,a){return{mapValue:{fields:{[FE]:{stringValue:LE},[fl]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return BE(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${g_(r)}`)}(n,e)}function CF(n,e){let t={};return m2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(n,(r,i)=>{let o=gf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function bF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof ms||n instanceof ps||n instanceof zt||n instanceof cf||n instanceof _s)}function eP(n,e,t){if(!bF(t)||!t2(t)){let r=g_(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function OE(n,e,t){if((e=Qe(e))instanceof wl)return e._internalPath;if(typeof e=="string")return tP(n,e);throw u_("Field path arguments must be of type string or ",n,!1,void 0,t)}var vW=new RegExp("[~\\*/\\[\\]]");function tP(n,e,t){if(e.search(vW)>=0)throw u_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wl(...e.split("."))._internalPath}catch{throw u_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function u_(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Z($.INVALID_ARGUMENT,a+n+c)}function wF(n,e){return n.some(t=>t.isEqual(e))}var d_=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new IE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(E_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},IE=class extends d_{data(){return super.data()}};function E_(n,e){return typeof e=="string"?tP(n,e):e instanceof wl?e._internalPath:e._delegate._internalPath}function MF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lf=class{},f_=class extends lf{};function ja(n,e,...t){let r=[];e instanceof lf&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof SE).length,a=o.filter(c=>c instanceof h_).length;if(s>1||s>0&&a>0)throw new Z($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var h_=class n extends f_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return xF(e._query,t),new Ms(e.firestore,e.converter,_x(e._query,t))}_parse(e){let t=x_(e.firestore);return function(o,s,a,c,u,d,m){let v;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ZN(m,d);let x=[];for(let A of m)x.push(QN(c,o,A));v={arrayValue:{values:x}}}else v=QN(c,o,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ZN(m,d),v=yW(a,s,m,d==="in"||d==="not-in");return Rt.create(u,d,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Ua(n,e,t){let r=e,i=E_("where",n);return h_._create(i,r,t)}var SE=class n extends lf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Qr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)xF(s,c),s=_x(s,c)}(e._query,t),new Ms(e.firestore,e.converter,_x(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var DE=class n extends f_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new Z($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Z($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ka(o,s)}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Cs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function pf(n,e="asc"){let t=e,r=E_("orderBy",n);return DE._create(r,t)}function QN(n,e,t){if(typeof(t=Qe(t))=="string"){if(t==="")throw new Z($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D2(e)&&t.indexOf("/")!==-1)throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(dt.fromString(t));if(!ge.isDocumentKey(r))throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _N(n,new ge(r))}if(t instanceof zt)return _N(n,t._key);throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g_(t)}.`)}function ZN(n,e){if(!Array.isArray(n)||n.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var TE=class{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[fl].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ut(s.doubleValue));return new _s(o)}convertGeoPoint(e){return new ms(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=m_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){let t=yo(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=dt.fromString(e);qe(Q2(r),9688,{name:e});let i=new Um(r.get(1),r.get(3)),o=new ge(r.popFirst(5));return i.isEqual(t)||_o(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function EF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ia=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Sa=class n extends d_{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(E_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:Nt("string",Sa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};var ul=class extends Sa{data(e={}){return super.data(e)}},Da=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ia(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ul(this._firestore,this._userDataWriter,r.key,r,new Ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ia(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ia(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:CW(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function CW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:n})}}function Ol(n){n=$n(n,zt);let e=$n(n.firestore,Zr);return fW(M_(e),n._key).then(t=>PF(e,n,t))}Da._jsonSchemaVersion="firestore/querySnapshot/1.0",Da._jsonSchema={type:Nt("string",Da._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};var uf=class extends TE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}};function Il(n){n=$n(n,Ms);let e=$n(n.firestore,Zr),t=M_(e),r=new uf(e);return MF(n._query),hW(t,n._query).then(i=>new Da(e,r,n,i))}function mf(n,e,t){n=$n(n,zt);let r=$n(n.firestore,Zr),i=EF(n.converter,e,t);return D_(r,[vF(x_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Oi.none())])}function P_(n,e,t,...r){n=$n(n,zt);let i=$n(n.firestore,Zr),o=x_(i),s;return s=typeof(e=Qe(e))=="string"||e instanceof wl?_W(o,"updateDoc",n._key,e,t,r):mW(o,"updateDoc",n._key,e),D_(i,[s.toMutation(n._key,Oi.exists(!0))])}function O_(n){return D_($n(n.firestore,Zr),[new ef(n._key,Oi.none())])}function I_(n,e){let t=$n(n.firestore,Zr),r=wo(n),i=EF(n.converter,e);return D_(t,[vF(x_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Oi.exists(!1))]).then(()=>r)}function S_(n,...e){var t,r,i;n=Qe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YN(e[s])){let m=e[s];e[s]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,d;if(n instanceof zt)u=$n(n.firestore,Zr),d=__(n._key.path),c={next:m=>{e[s]&&e[s](PF(u,n,m))},error:e[s+1],complete:e[s+2]};else{let m=$n(n,Ms);u=$n(m.firestore,Zr),d=m._query;let v=new uf(u);c={next:C=>{e[s]&&e[s](new Da(u,v,m,C))},error:e[s+1],complete:e[s+2]},MF(n._query)}return function(v,C,x,A){let N=new af(A),W=new sf(C,N,x);return v.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return YE(yield o_(v),W)})),()=>{N.Ou(),v.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return QE(yield o_(v),W)}))}}(M_(u),d,a,c)}function D_(n,e){return function(r,i){let o=new Kr;return r.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return tW(yield dW(r),i,o)})),o.promise}(M_(n),e)}function PF(n,e,t){let r=t.docs.get(e._key),i=new uf(n);return new Sa(n,i,e._key,r,new Ia(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ml=i})(Ci),Jn(new cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Zr(new ZM(r.getProvider("auth-internal")),new ex(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Um(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(oN,sN,e),et(oN,sN,"esm2017")})();var Ba=class{constructor(e){return e}},OF="firestore",nP=class{constructor(){return cs(OF)}};var rP=new X("angularfire2.firestore-instances");function bW(n,e){let t=Ca(OF,n,e);return t&&new Ba(t)}function wW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ba(r)}}var MW={provide:nP,deps:[[new St,rP]]},xW={provide:Ba,useFactory:bW,deps:[[new St,rP],Hr]};function IF(n,...e){return et("angularfire",bi.full,"fst"),Gt([xW,MW,{provide:rP,useFactory:wW(n),multi:!0,deps:[Ae,Je,wi,lo,[new St,Ea],[new St,us],...e]}])}var SF=ln(_F,!0);var NF="firebasestorage.googleapis.com",EW="storageBucket",PW=2*60*1e3,OW=10*60*1e3;var Ai=class n extends An{constructor(e,t,r=0){super(iP(e),`Firebase Storage: ${t} (${iP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},xo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(xo||{});function iP(n){return"storage/"+n}function IW(){let n="An unknown error occurred, please check the error payload for server response.";return new Ai(xo.UNKNOWN,n)}function SW(){return new Ai(xo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DW(){return new Ai(xo.CANCELED,"User canceled the upload/download.")}function TW(n){return new Ai(xo.INVALID_URL,"Invalid URL '"+n+"'.")}function AW(n){return new Ai(xo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function DF(n){return new Ai(xo.INVALID_ARGUMENT,n)}function FF(){return new Ai(xo.APP_DELETED,"The Firebase app was deleted.")}function kW(n){return new Ai(xo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Mo=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw AW(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(oe){oe.path_=decodeURIComponent(oe.path)}let d="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",C=new RegExp(`^https?://${m}/${d}/b/${i}/o${v}`,"i"),x={bucket:1,path:3},A=t===NF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",W=new RegExp(`^https?://${A}/${i}/${N}`,"i"),ee=[{regex:a,indices:c,postModify:o},{regex:C,indices:x,postModify:u},{regex:W,indices:{bucket:1,path:2},postModify:u}];for(let oe=0;oe<ee.length;oe++){let $e=ee[oe],be=$e.regex.exec(e);if(be){let I=be[$e.indices.bucket],M=be[$e.indices.path];M||(M=""),r=new n(I,M),$e.postModify(r);break}}if(r==null)throw TW(e);return r}},oP=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function RW(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...N){u||(u=!0,e.apply(null,N))}function m(N){i=setTimeout(()=>{i=null,n(C,c())},N)}function v(){o&&clearTimeout(o)}function C(N,...W){if(u){v();return}if(N){v(),d.call(null,N,...W);return}if(c()||s){v(),d.call(null,N,...W);return}r<64&&(r*=2);let ee;a===1?(a=2,ee=0):ee=(r+Math.random())*1e3,m(ee)}let x=!1;function A(N){x||(x=!0,v(),!u&&(i!==null?(N||(a=2),clearTimeout(i),m(0)):N||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,A(!0)},t),A}function NW(n){n(!1)}function FW(n){return n!==void 0}function TF(n,e,t,r){if(r<e)throw DF(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw DF(`Invalid value for '${n}'. Expected ${t} or less.`)}function LW(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var sP=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(sP||{});function VW(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var aP=class{constructor(e,t,r,i,o,s,a,c,u,d,m,v=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=m,this.retry=v,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Sl(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===sP.NO_ERROR,c=o.getStatus();if(!a||VW(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===sP.ABORT;r(!1,new Sl(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Sl(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());FW(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=IW();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?FF():DW();s(c)}else{let c=SW();s(c)}};this.canceled_?t(!1,new Sl(!1,null,!0)):this.backoffId_=RW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Sl=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function jW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function UW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function $W(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function zW(n,e,t,r,i,o,s=!0,a=!1){let c=LW(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return BW(d,e),jW(d,t),UW(d,o),$W(d,r),new aP(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function HW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function qW(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var c_e=256*1024;var cP=class n{constructor(e,t){this._service=e,t instanceof Mo?this._location=t:this._location=Mo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Mo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qW(this._location.path)}get storage(){return this._service}get parent(){let e=HW(this._location.path);if(e===null)return null;let t=new Mo(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw kW(e)}};function AF(n,e){let t=e?.[EW];return t==null?null:Mo.makeFromBucketSpec(t,n)}function WW(n,e,t,r={}){n.host=`${e}:${t}`;let i=mi(e);i&&(Qc(`https://${n.host}/b`),Zc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:em(o,n.app.options.projectId))}var lP=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=NF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PW,this._maxUploadRetryTime=OW,this._requests=new Set,i!=null?this._bucket=Mo.makeFromBucketSpec(i,this._host):this._bucket=AF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mo.makeFromBucketSpec(this._url,e):this._bucket=AF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cP(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new oP(FF());{let s=zW(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},kF="@firebase/storage",RF="0.13.14";var LF="storage";function VF(n=co(),e){n=Qe(n);let r=as(n,LF).getImmediate({identifier:e}),i=Xp("storage");return i&&jF(r,...i),r}function jF(n,e,t,r={}){WW(n,e,t,r)}function GW(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new lP(t,r,i,e,Ci)}function KW(){Jn(new cn(LF,GW,"PUBLIC").setMultipleInstances(!0)),et(kF,RF,""),et(kF,RF,"esm2017")}KW();var _f=class{constructor(e){return e}},UF="storage",uP=class{constructor(){return cs(UF)}};var dP=new X("angularfire2.storage-instances");function YW(n,e){let t=Ca(UF,n,e);return t&&new _f(t)}function QW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _f(r)}}var ZW={provide:uP,deps:[[new St,dP]]},JW={provide:_f,useFactory:YW,deps:[[new St,dP],Hr]};function BF(n,...e){return et("angularfire",bi.full,"gcs"),Gt([JW,ZW,{provide:dP,useFactory:QW(n),multi:!0,deps:[Ae,Je,wi,lo,[new St,Ea],[new St,us],...e]}])}var $F=ln(VF,!0);var JF=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(G(Kn),G(rn))};static \u0275dir=Ge({type:n})}return n})(),Mf=(()=>{class n extends JF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,features:[mn]})}return n})(),Rl=new X("");var XW={provide:Rl,useExisting:On(()=>Lt),multi:!0};function eG(){let n=pr()?pr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tG=new X(""),Lt=(()=>{class n extends JF{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!eG())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(G(Kn),G(rn),G(tG,8))};static \u0275dir=Ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&B("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gr([XW]),mn]})}return n})();function nG(n){return n==null||pP(n)===0}function pP(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var xf=new X(""),XF=new X("");function rG(n){return nG(n.value)?{required:!0}:null}function iG(n){return e=>{let t=e.value?.length??pP(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function oG(n){return e=>{let t=e.value?.length??pP(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function zF(n){return null}function e5(n){return n!=null}function t5(n){return no(n)?st(n):n}function n5(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function r5(n,e){return e.map(t=>t(n))}function sG(n){return!n.validate}function i5(n){return n.map(e=>sG(e)?e:t=>e.validate(t))}function aG(n){if(!n)return null;let e=n.filter(e5);return e.length==0?null:function(t){return n5(r5(t,e))}}function mP(n){return n!=null?aG(i5(n)):null}function cG(n){if(!n)return null;let e=n.filter(e5);return e.length==0?null:function(t){let r=r5(t,e).map(t5);return Ky(r).pipe(ve(n5))}}function _P(n){return n!=null?cG(i5(n)):null}function HF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lG(n){return n._rawValidators}function uG(n){return n._rawAsyncValidators}function fP(n){return n?Array.isArray(n)?n:[n]:[]}function A_(n,e){return Array.isArray(n)?n.includes(e):n===e}function qF(n,e){let t=fP(e);return fP(n).forEach(i=>{A_(t,i)||t.push(i)}),t}function WF(n,e){return fP(e).filter(t=>!A_(n,t))}var k_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_P(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Al=class extends k_{name;get formDirective(){return null}get path(){return null}},kl=class extends k_{_parent=null;name=null;valueAccessor=null},R_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Z_e=fe(z({},dG),{"[class.ng-submitted]":"isSubmitted"}),Vt=(()=>{class n extends R_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(G(kl,2))};static \u0275dir=Ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mn]})}return n})(),br=(()=>{class n extends R_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(G(Al,10))};static \u0275dir=Ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mn]})}return n})();var yf="VALID",T_="INVALID",Dl="PENDING",vf="DISABLED",Es=class{},N_=class extends Es{value;source;constructor(e,t){super(),this.value=e,this.source=t}},bf=class extends Es{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},wf=class extends Es{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Tl=class extends Es{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hP=class extends Es{source;constructor(e){super(),this.source=e}},gP=class extends Es{source;constructor(e){super(),this.source=e}};function o5(n){return(V_(n)?n.validators:n)||null}function fG(n){return Array.isArray(n)?mP(n):n||null}function s5(n,e){return(V_(e)?e.asyncValidators:n)||null}function hG(n){return Array.isArray(n)?_P(n):n||null}function V_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gG(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function pG(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var F_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fn(this.statusReactive)}set status(e){Fn(()=>this.statusReactive.set(e))}_status=Tc(()=>this.statusReactive());statusReactive=oi(void 0);get valid(){return this.status===yf}get invalid(){return this.status===T_}get pending(){return this.status==Dl}get disabled(){return this.status===vf}get enabled(){return this.status!==vf}errors;get pristine(){return Fn(this.pristineReactive)}set pristine(e){Fn(()=>this.pristineReactive.set(e))}_pristine=Tc(()=>this.pristineReactive());pristineReactive=oi(!0);get dirty(){return!this.pristine}get touched(){return Fn(this.touchedReactive)}set touched(e){Fn(()=>this.touchedReactive.set(e))}_touched=Tc(()=>this.touchedReactive());touchedReactive=oi(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WF(e,this._rawAsyncValidators))}hasValidator(e){return A_(this._rawValidators,e)}hasAsyncValidator(e){return A_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new wf(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new wf(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new bf(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new bf(!0,r))}markAsPending(e={}){this.status=Dl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this.errors=null,this._forEachChild(i=>{i.disable(fe(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new N_(this.value,r)),this._events.next(new Tl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=yf,this._forEachChild(r=>{r.enable(fe(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yf||this.status===Dl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new N_(this.value,t)),this._events.next(new Tl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vf:yf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Dl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=t5(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Tl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?vf:this.errors?T_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dl)?Dl:this._anyControlsHaveStatus(T_)?T_:yf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new bf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new wf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){V_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hG(this._rawAsyncValidators)}},L_=class extends F_{constructor(e,t,r){super(o5(t),s5(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pG(this,!0,e),Object.keys(e).forEach(r=>{gG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var j_=new X("",{providedIn:"root",factory:()=>U_}),U_="always";function mG(n,e){return[...e.path,n]}function a5(n,e,t=U_){c5(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),yG(n,e),CG(n,e),vG(n,e),_G(n,e)}function GF(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _G(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function c5(n,e){let t=lG(n);e.validator!==null?n.setValidators(HF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=uG(n);e.asyncValidator!==null?n.setAsyncValidators(HF(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();GF(e._rawValidators,i),GF(e._rawAsyncValidators,i)}function yG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&l5(n,e)})}function vG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&l5(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function l5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function bG(n,e){n==null,c5(n,e)}function wG(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function MG(n){return Object.getPrototypeOf(n.constructor)===Mf}function xG(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EG(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Lt?t=o:MG(o)?r=o:i=o}),i||r||t||null}var PG={provide:Al,useExisting:On(()=>tr)},Cf=Promise.resolve(),tr=(()=>{class n extends Al{callSetDisabledState;get submitted(){return Fn(this.submittedReactive)}_submitted=Tc(()=>this.submittedReactive());submittedReactive=oi(!1);_directives=new Set;form;ngSubmit=new gt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new L_({},mP(t),_P(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cf.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),a5(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cf.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Cf.then(()=>{let r=this._findContainer(t.path),i=new L_({});bG(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cf.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Cf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),xG(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new hP(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new gP(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(G(xf,10),G(XF,10),G(j_,8))};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&B("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gr([PG]),mn]})}return n})();function KF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var OG=class extends F_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(o5(t),s5(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),V_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var IG={provide:kl,useExisting:On(()=>Pt)},QF=Promise.resolve(),Pt=(()=>{class n extends kl{_changeDetectorRef;callSetDisabledState;control=new OG;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new gt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EG(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wG(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){a5(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){QF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Qo(r);QF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?mG(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(G(Al,9),G(xf,10),G(XF,10),G(Rl,10),G(ui,8),G(j_,8))};static \u0275dir=Ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gr([IG]),mn,li]})}return n})();var wr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),SG={provide:Rl,useExisting:On(()=>yP),multi:!0},yP=(()=>{class n extends Mf{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&B("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[gr([SG]),mn]})}return n})(),DG={provide:Rl,useExisting:On(()=>vP),multi:!0};var TG=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vP=(()=>{class n extends Mf{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=j(j_,{optional:!0})??U_;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(kl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(G(Kn),G(rn),G(TG),G(Je))};static \u0275dir=Ge({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[gr([DG]),mn]})}return n})();var AG={provide:Rl,useExisting:On(()=>ki),multi:!0};function u5(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function kG(n){return n.split(":")[0]}var ki=(()=>{class n extends Mf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=j(hr).injector;appRefDestroyRef=this.appRefInjector.get(ur);destroyRef=j(ur);cdr=j(ui);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,Ru({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=u5(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=kG(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gr([AG]),mn]})}return n})(),Ps=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(u5(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(G(rn),G(Kn),G(ki,9))};static \u0275dir=Ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),RG={provide:Rl,useExisting:On(()=>d5),multi:!0};function ZF(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function NG(n){return n.split(":")[0]}var d5=(()=>{class n extends Mf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=NG(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[gr([RG]),mn]})}return n})(),Os=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ZF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ZF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(G(rn),G(Kn),G(d5,9))};static \u0275dir=Ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function f5(n){return typeof n=="number"?n:parseInt(n,10)}var CP=(()=>{class n{_validator=zF;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zF,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,features:[li]})}return n})();var FG={provide:xf,useExisting:On(()=>nr),multi:!0};var nr=(()=>{class n extends CP{required;inputName="required";normalizeInput=Qo;createValidator=t=>rG;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Yo("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[gr([FG]),mn]})}return n})();var LG={provide:xf,useExisting:On(()=>Ef),multi:!0},Ef=(()=>{class n extends CP{minlength;inputName="minlength";normalizeInput=t=>f5(t);createValidator=t=>iG(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Yo("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[gr([LG]),mn]})}return n})(),VG={provide:xf,useExisting:On(()=>bP),multi:!0},bP=(()=>{class n extends CP{maxlength;inputName="maxlength";normalizeInput=t=>f5(t);createValidator=t=>oG(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=dr(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Yo("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[gr([VG]),mn]})}return n})();var jG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fr({type:n});static \u0275inj=Wn({})}return n})();var jt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:j_,useValue:t.callSetDisabledState??U_}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fr({type:n});static \u0275inj=Wn({imports:[jG]})}return n})();var Zt=class n{constructor(e){this.auth=e;ZR(this.auth,t=>{console.log("Auth state changed:",t?`User: ${t.email}`:"No user"),this.currentUserSubject.next(t)})}currentUserSubject=new Ke(void 0);currentUser$=this.currentUserSubject.asObservable();getAuthInstance(){return this.auth}getCurrentUser(){let e=this.currentUserSubject.value;return e===void 0?null:e}getCurrentUserId(){let e=this.getCurrentUser();return e?e.uid:null}isAuthenticated(){return this.getCurrentUser()!==null}register(e,t,r){return b(this,null,function*(){try{let i=yield YR(this.auth,e,t);return r&&i.user&&(yield tN(i.user,{displayName:r})),console.log("User registered successfully:",i.user.email),i.user}catch(i){throw console.error("Registration error:",i),i}})}signIn(e,t){return b(this,null,function*(){try{let r=yield XR(this.auth,e,t);return console.log("User signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Sign in error:",r),r}})}sendPasswordResetEmail(e){return b(this,null,function*(){try{if(console.log("Attempting to send password reset email to:",e),console.log("Auth instance:",this.auth),!e||!e.includes("@"))throw new Error("Invalid email address");yield JR(this.auth,e),console.log("Password reset email sent successfully to:",e),console.log("Firebase Auth state:",this.auth.currentUser),console.log("Firebase config:",this.auth.app.options)}catch(t){throw console.error("Password reset error details:",{code:t.code,message:t.message,email:e,authState:this.auth.currentUser?"User logged in":"No user logged in"}),t.code==="auth/user-not-found"?new Error("No account found with this email address. Please check your email or create a new account."):t.code==="auth/invalid-email"?new Error("Invalid email address format. Please enter a valid email."):t.code==="auth/too-many-requests"?new Error("Too many password reset requests. Please wait a few minutes and try again."):t.code==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):t.code==="auth/operation-not-allowed"?new Error("Password reset is not enabled for this Firebase project. Please contact support."):new Error(`Password reset failed: ${t.message||"Unknown error occurred"}`)}})}signOut(){return b(this,null,function*(){try{yield eN(this.auth),console.log("User signed out successfully")}catch(e){throw console.error("Sign out error:",e),e}})}getUserProfile(){let e=this.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,createdAt:new Date(e.metadata.creationTime||Date.now())}:null}static \u0275fac=function(t){return new(t||n)(ne(xa))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var zn=class n{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{t?this.loadData():(this.expensesSubject.next([]),this.categoriesSubject.next([]),this.userSettingsSubject.next({}))})}firestore=j(Ba);expensesSubject=new Ke([]);categoriesSubject=new Ke([]);userSettingsSubject=new Ke({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();loadData(){return b(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return b(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return this.expensesSubject.next([]),[];let t=Ti(this.firestore,"expenses"),r=ja(t,Ua("userId","==",e),pf("date","desc")),i=yield Il(r),o=[];return i.forEach(s=>{o.push(z({id:s.id},s.data()))}),this.expensesSubject.next(o),o}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return b(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=Ti(this.firestore,"expenses"),i=fe(z({},e),{userId:t}),o=yield I_(r,i),s=z({id:o.id},i),a=this.expensesSubject.value;return this.expensesSubject.next([s,...a]),o.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return b(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=wo(this.firestore,"expenses",e.id);if((yield Ol(i)).exists()){let r=e,{id:c}=r,u=To(r,["id"]);yield P_(i,u),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:c}=t,u=To(t,["id"]);yield mf(i,u),console.log(`Created new expense with ID: ${e.id}`)}let a=this.expensesSubject.value.map(c=>c.id===e.id?e:c);this.expensesSubject.next(a)}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return b(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=wo(this.firestore,"expenses",e);yield O_(t),console.log(`Expense ${e} deleted successfully`);let i=this.expensesSubject.value.filter(o=>o.id!==e);this.expensesSubject.next(i)}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");let i=this.expensesSubject.value.filter(o=>o.id!==e);this.expensesSubject.next(i);return}throw t}})}migrateLocalExpenses(e){return b(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=To(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return b(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return console.log("No user authenticated, returning empty categories"),this.categoriesSubject.next([]),[];let t=Ti(this.firestore,"categories"),r=ja(t,Ua("userId","==",e)),i=yield Il(r),o=[];return i.forEach(s=>{o.push(z({id:s.id},s.data()))}),this.categoriesSubject.next(o),o}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return b(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=Ti(this.firestore,"categories"),i=fe(z({},e),{userId:t}),o=yield I_(r,i),s=z({id:o.id},i),a=this.categoriesSubject.value;return this.categoriesSubject.next([...a,s]),o.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return b(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let i=wo(this.firestore,"categories",e.id);if((yield Ol(i)).exists()){let r=e,{id:c}=r,u=To(r,["id"]);yield P_(i,u),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`);let t=e,{id:c}=t,u=To(t,["id"]);yield mf(i,u),console.log(`Created new category with ID: ${e.id}`)}let a=this.categoriesSubject.value.map(c=>c.id===e.id?e:c);this.categoriesSubject.next(a)}catch(i){throw console.error("Error updating category:",i),i}})}deleteCategory(e){return b(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=wo(this.firestore,"categories",e),r=yield Ol(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield O_(t),console.log(`Category ${e} deleted successfully`);let o=this.categoriesSubject.value.filter(s=>s.id!==e);this.categoriesSubject.next(o)}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");let i=this.categoriesSubject.value.filter(o=>o.id!==e);this.categoriesSubject.next(i);return}throw t}})}loadUserSettings(){return b(this,null,function*(){try{let e=wo(this.firestore,"userSettings","default"),t=yield Ol(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return b(this,null,function*(){try{let t=wo(this.firestore,"userSettings","default");yield mf(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=Ti(this.firestore,"expenses"),t=ja(e,pf("date","desc"));return new _e(r=>S_(t,o=>{let s=[];o.forEach(a=>{s.push(z({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=Ti(this.firestore,"categories");return new _e(t=>S_(e,i=>{let o=[];i.forEach(s=>{o.push(z({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return b(this,null,function*(){try{let t=Ti(this.firestore,"expenses"),r=ja(t,Ua("categoryId","==",e)),i=yield Il(r),o=[];return i.forEach(s=>{o.push(z({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return b(this,null,function*(){try{let r=Ti(this.firestore,"expenses"),i=ja(r,Ua("date",">=",e),Ua("date","<=",t),pf("date","desc")),o=yield Il(i),s=[];return o.forEach(a=>{s.push(z({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)(ne(Zt))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ni=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return b(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return b(this,null,function*(){return this.expenses.length===0&&(yield this.loadExpenses()),[...this.expenses]})}add(e){return b(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return b(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully")}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return b(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully")}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return b(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return b(this,null,function*(){return this.expenses.length===0&&(yield this.loadExpenses()),this.expenses.find(t=>t.id===e)})}getByCategoryId(e){return b(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return b(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(ne(zn))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fi=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return b(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return b(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return b(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F355}"},{name:"Transportation",color:"#E83F25",icon:"\u{1F699}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6D2}"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AD}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u26A1"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F393}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3D8}\uFE0F"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F48E}"},{name:"Travel",color:"#9B59B6",icon:"\u2708\uFE0F"},{name:"Fitness & Sports",color:"#E74C3C",icon:"\u{1F3C3}"},{name:"Personal Care",color:"#F39C12",icon:"\u{1F484}"},{name:"Gifts & Donations",color:"#E91E63",icon:"\u{1F381}"},{name:"Technology",color:"#34495E",icon:"\u{1F4BB}"},{name:"Pet Care",color:"#8E44AD",icon:"\u{1F415}"},{name:"Other",color:"#95A5A6",icon:"\u{1F4CC}"}]}getAll(){return b(this,null,function*(){this.categories.length===0&&(yield this.loadCategories());let e=this.removeDuplicateCategories(this.categories);return e.length!==this.categories.length&&(console.log(`Found ${this.categories.length-e.length} duplicate categories. Cleaning up...`),yield this.cleanupDuplicateCategories(e)),[...e]})}removeDuplicateCategories(e){let t=new Set,r=[];for(let i of e){let o=i.name.toLowerCase().trim();t.has(o)?console.log(`Duplicate category found: "${i.name}" (ID: ${i.id})`):(t.add(o),r.push(i))}return r}cleanupDuplicateCategories(e){return b(this,null,function*(){try{let t=yield this.firebaseService.loadCategories(),r=new Set,i=[];for(let o of t){let s=o.name.toLowerCase().trim();r.has(s)?(i.push(o.id),console.log(`Marking duplicate for deletion: "${o.name}" (ID: ${o.id})`)):r.add(s)}for(let o of i)try{yield this.firebaseService.deleteCategory(o),console.log(`Deleted duplicate category with ID: ${o}`)}catch(s){console.error(`Error deleting duplicate category ${o}:`,s)}yield this.loadCategories()}catch(t){console.error("Error cleaning up duplicate categories:",t)}})}add(e){return b(this,null,function*(){try{return yield this.firebaseService.addCategory(e)}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return b(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully")}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return b(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully")}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return b(this,null,function*(){return this.categories.length===0&&(yield this.loadCategories()),this.categories.find(t=>t.id===e)})}triggerDuplicateCleanup(){return b(this,null,function*(){console.log("Manual duplicate cleanup triggered...");let e=yield this.getAll();console.log(`Categories after cleanup: ${e.length}`)})}updateCategoryIcons(){return b(this,null,function*(){console.log("Updating category icons...");let e=yield this.getAll(),t={"Food & Dining":"\u{1F355}",Transportation:"\u{1F699}",Shopping:"\u{1F6D2}",Entertainment:"\u{1F3AD}","Bills & Utilities":"\u26A1",Healthcare:"\u{1F3E5}",Education:"\u{1F393}","Rent/Mortgage":"\u{1F3D8}\uFE0F",Insurance:"\u{1F6E1}\uFE0F",Savings:"\u{1F48E}",Travel:"\u2708\uFE0F","Fitness & Sports":"\u{1F3C3}","Personal Care":"\u{1F484}","Gifts & Donations":"\u{1F381}",Technology:"\u{1F4BB}","Pet Care":"\u{1F415}",Movie:"\u{1F3AC}",Loan:"\u{1F4B3}",SIP:"\u{1F4C8}","Street food":"\u{1F32E}",Snooker:"\u{1F3B1}",Tax:"\u{1F4CA}",Trips:"\u{1F9F3}",EMI:"\u{1F3E6}",Fuel:"\u26FD","Office canteen":"\u{1F37D}\uFE0F"},r=0;for(let i of e){console.log(`Checking category: "${i.name}" with current icon: "${i.icon}"`);let o=t[i.name];if(o&&i.icon!==o)try{let s=fe(z({},i),{icon:o});yield this.update(s),r++,console.log(`\u2705 Updated icon for "${i.name}" from "${i.icon}" to "${o}"`)}catch(s){console.error(`\u274C Error updating icon for "${i.name}":`,s)}else console.log(o?`\u23ED\uFE0F Category "${i.name}" already has the correct icon: "${i.icon}"`:`\u2753 No icon mapping found for category: "${i.name}"`)}return console.log("Forcing reload of categories from Firebase..."),yield this.loadCategories(),console.log(`Updated ${r} category icons`),r})}static \u0275fac=function(t){return new(t||n)(ne(zn))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fl=class n{filterStateSubject=new Ke({selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""});filterState$=this.filterStateSubject.asObservable();constructor(){this.loadFilterState()}updateFilterState(e){let t=this.filterStateSubject.value,r=z(z({},t),e);console.log("Updating filter state:",{currentState:t,newState:e,updatedState:r}),this.filterStateSubject.next(r),this.saveFilterState(r)}getFilterState(){let e=this.filterStateSubject.value;return console.log("Getting filter state:",e),e}clearFilterState(){let e={selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""};this.filterStateSubject.next(e),this.saveFilterState(e)}saveFilterState(e){try{localStorage.setItem("expenseTracker_filterState",JSON.stringify(e)),console.log("Filter state saved to localStorage:",e)}catch(t){console.error("Error saving filter state to localStorage:",t)}}loadFilterState(){try{let e=localStorage.getItem("expenseTracker_filterState");if(console.log("Loading filter state from localStorage:",e),e){let t=JSON.parse(e);console.log("Parsed filter state:",t),this.filterStateSubject.next(t)}else console.log("No saved filter state found in localStorage")}catch(e){console.error("Error loading filter state from localStorage:",e)}}isCustomDateRangeActive(){let e=this.getFilterState();return e.selectedPeriod==="custom"&&!!e.customStartDate&&!!e.customEndDate}getCustomDateRange(){let e=this.getFilterState();return this.isCustomDateRangeActive()?{startDate:e.customStartDate,endDate:e.customEndDate}:null}getCurrentPeriodFilter(){return this.getFilterState().selectedPeriod}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mr=class n{dialogSubject=new Ke(null);resultSubject=new Ke(null);dialog$=this.dialogSubject.asObservable();result$=this.resultSubject.asObservable();alert(e,t="Information"){return new Promise(r=>{this.dialogSubject.next({title:t,message:e,type:"info",confirmText:"OK"}),this.result$.subscribe(i=>{i&&(this.dialogSubject.next(null),this.resultSubject.next(null),r())})})}success(e,t="Success"){return new Promise(r=>{this.dialogSubject.next({title:t,message:e,type:"success",confirmText:"OK"}),this.result$.subscribe(i=>{i&&(this.dialogSubject.next(null),this.resultSubject.next(null),r())})})}warning(e,t="Warning"){return new Promise(r=>{this.dialogSubject.next({title:t,message:e,type:"warning",confirmText:"OK"}),this.result$.subscribe(i=>{i&&(this.dialogSubject.next(null),this.resultSubject.next(null),r())})})}error(e,t="Error"){return new Promise(r=>{this.dialogSubject.next({title:t,message:e,type:"error",confirmText:"OK"}),this.result$.subscribe(i=>{i&&(this.dialogSubject.next(null),this.resultSubject.next(null),r())})})}confirm(e,t="Confirm"){return new Promise(r=>{this.dialogSubject.next({title:t,message:e,type:"confirm",confirmText:"Yes",cancelText:"No"}),this.result$.subscribe(i=>{i&&(this.dialogSubject.next(null),this.resultSubject.next(null),r(i.confirmed))})})}prompt(e,t="Input Required",r="",i="text",o="",s=""){return new Promise(a=>{this.dialogSubject.next({title:t,message:e,type:"confirm",confirmText:"OK",cancelText:"Cancel",inputType:i,inputValue:r,inputPlaceholder:o,inputLabel:s}),this.result$.subscribe(c=>{c&&(this.dialogSubject.next(null),this.resultSubject.next(null),a(c.confirmed&&c.value||null))})})}select(e,t="Select Option",r,i){return new Promise(o=>{this.dialogSubject.next({title:t,message:e,type:"confirm",confirmText:"OK",cancelText:"Cancel",options:r,selectedValue:i}),this.result$.subscribe(s=>{s&&(this.dialogSubject.next(null),this.resultSubject.next(null),o(s.confirmed&&s.selectedOption||null))})})}form(e,t="Edit",r="Please fill in the details:"){return new Promise(i=>{this.dialogSubject.next({title:t,message:r,type:"confirm",fields:e,confirmText:"Save",cancelText:"Cancel"}),this.result$.subscribe(o=>{o&&(this.dialogSubject.next(null),this.resultSubject.next(null),i(o.confirmed&&o.fieldValues||null))})})}handleResult(e){this.resultSubject.next(e)}close(){this.dialogSubject.next(null),this.resultSubject.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function UG(n,e){n&1&&(f(0,"div",25)(1,"div",26),pt(2,"div",27),f(3,"p",28),p(4,"Loading dashboard..."),h()()())}function BG(n,e){if(n&1){let t=se();f(0,"button",29),B("click",function(){let i=L(t).$implicit,o=P();return o.selectedPeriod=i.value,V(o.onFilterChange())}),f(1,"span",30),p(2),h(),f(3,"span",31),p(4),h()()}if(n&2){let t=e.$implicit,r=P();ct("active",r.selectedPeriod===t.value),y(2),H(t.label),y(2),H(t.description)}}function $G(n,e){if(n&1){let t=se();f(0,"button",43),B("click",function(){L(t);let i=P(2);return V(i.clearCustomDateRange())}),f(1,"span",44),p(2,"\u2715"),h()()}}function zG(n,e){if(n&1&&(f(0,"div",45)(1,"div",46)(2,"span",47),p(3),h(),f(4,"span",48),p(5),h()()()),n&2){let t=P(2);y(),on(t.isCustomDateRangeValid()?"valid":"invalid"),y(2),H(t.isCustomDateRangeValid()?"\u2705":"\u26A0\uFE0F"),y(2),re(" ",t.isCustomDateRangeValid()?"Date range is valid":"End date must be after start date"," ")}}function HG(n,e){if(n&1){let t=se();f(0,"div",32)(1,"div",33)(2,"div",34)(3,"label",35),p(4,"Start Date"),h(),f(5,"input",36),de("ngModelChange",function(i){L(t);let o=P();return he(o.customStartDate,i)||(o.customStartDate=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onCustomDateChange())}),h()(),f(6,"div",37)(7,"span",38),p(8,"to"),h()(),f(9,"div",34)(10,"label",35),p(11,"End Date"),h(),f(12,"div",39)(13,"input",40),de("ngModelChange",function(i){L(t);let o=P();return he(o.customEndDate,i)||(o.customEndDate=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onCustomDateChange())}),h(),q(14,$G,3,0,"button",41),h()()(),q(15,zG,6,4,"div",42),h()}if(n&2){let t=P();y(5),ue("ngModel",t.customStartDate),y(8),ue("ngModel",t.customEndDate),y(),S("ngIf",t.customStartDate||t.customEndDate),y(),S("ngIf",t.customStartDate&&t.customEndDate)}}function qG(n,e){if(n&1&&(f(0,"option",60),p(1),h()),n&2){let t=e.$implicit;S("value",t.value),y(),re(" ",t.label," ")}}function WG(n,e){if(n&1&&(f(0,"option",60),p(1),h()),n&2){let t=e.$implicit;S("value",t),y(),re(" ",t," ")}}function GG(n,e){if(n&1&&(f(0,"div",61)(1,"div",62)(2,"span",63),p(3,"Selected Range:"),h(),f(4,"span",64),p(5),h()()()),n&2){let t=P(2);y(5),sn("",t.customStartDate," to ",t.customEndDate)}}function KG(n,e){if(n&1){let t=se();f(0,"div",49)(1,"div",50)(2,"div",51)(3,"label",52),p(4,"Select Month"),h(),f(5,"select",53),de("ngModelChange",function(i){L(t);let o=P();return he(o.selectedMonthOnly,i)||(o.selectedMonthOnly=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onMonthOnlyChange())}),f(6,"option",54),p(7,"Select Month"),h(),q(8,qG,2,2,"option",55),h()(),f(9,"div",56)(10,"label",57),p(11,"Select Year"),h(),f(12,"select",58),de("ngModelChange",function(i){L(t);let o=P();return he(o.selectedYearOnly,i)||(o.selectedYearOnly=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onMonthOnlyChange())}),f(13,"option",54),p(14,"Select Year"),h(),q(15,WG,2,2,"option",55),h()()(),q(16,GG,6,2,"div",59),h()}if(n&2){let t=P();y(5),ue("ngModel",t.selectedMonthOnly),y(3),S("ngForOf",t.availableMonths),y(4),ue("ngModel",t.selectedYearOnly),y(3),S("ngForOf",t.availableYears),y(),S("ngIf",t.customStartDate&&t.customEndDate)}}function YG(n,e){if(n&1&&(f(0,"div",67)(1,"div",68)(2,"span",69),p(3),h(),f(4,"span",70),p(5),h()(),f(6,"div",71)(7,"div",72),p(8),h(),f(9,"div",73)(10,"span",74),p(11),h(),f(12,"span",75),p(13),h()()()()),n&2){let t=e.$implicit;y(3),H(t.icon),y(2),H(t.title),y(3),H(t.value),y(),on("trend-"+t.trend),y(2),re(" ",t.trend==="up"?"\u{1F4C8}":t.trend==="down"?"\u{1F4C9}":"\u27A1\uFE0F"," "),y(2),H(t.change)}}function QG(n,e){if(n&1&&(f(0,"div",65),q(1,YG,14,7,"div",66),h()),n&2){let t=P();y(),S("ngForOf",t.getQuickSummaryCards())}}function ZG(n,e){if(n&1&&(f(0,"div",88),pt(1,"div",89),f(2,"div",90)(3,"h4"),p(4),h(),f(5,"p"),p(6),h()()()),n&2){let t=e.$implicit;y(),on("priority-"+t.priority),y(3),H(t.title),y(2),H(t.description)}}function JG(n,e){if(n&1&&(f(0,"div",91)(1,"h4"),p(2,"Most Expensive Category"),h(),f(3,"p"),p(4),h()()),n&2){let t=P(2);y(4),sn("",t.getSpendingAnalytics().mostExpensiveCategory.name," - ",t.getSpendingAnalytics().mostExpensiveCategory.percentage.toFixed(1),"%")}}function XG(n,e){if(n&1&&(f(0,"div",91)(1,"h4"),p(2,"Least Expensive Category"),h(),f(3,"p"),p(4),h()()),n&2){let t=P(2);y(4),sn("",t.getSpendingAnalytics().leastExpensiveCategory.name," - ",t.getSpendingAnalytics().leastExpensiveCategory.percentage.toFixed(1),"%")}}function eK(n,e){if(n&1&&(f(0,"div",76)(1,"div",77)(2,"h2"),p(3,"\u{1F9E0} Smart Insights"),h(),f(4,"p"),p(5,"AI-powered recommendations based on your spending patterns"),h()(),f(6,"div",78)(7,"div",79)(8,"div",68)(9,"span",69),p(10,"\u{1F4A1}"),h(),f(11,"h3"),p(12,"Smart Recommendations"),h()(),f(13,"div",71),q(14,ZG,7,4,"div",80),h()(),f(15,"div",81)(16,"div",68)(17,"span",69),p(18,"\u{1F4CA}"),h(),f(19,"h3"),p(20,"Spending Analytics"),h()(),f(21,"div",71)(22,"div",82)(23,"div",83)(24,"span",84),p(25,"Total Expenses"),h(),f(26,"span",85),p(27),h()(),f(28,"div",83)(29,"span",84),p(30,"Average Per Expense"),h(),f(31,"span",85),p(32),h()(),f(33,"div",83)(34,"span",84),p(35,"Highest Expense"),h(),f(36,"span",85),p(37),h()(),f(38,"div",83)(39,"span",84),p(40,"Recent Trend"),h(),f(41,"span",85),p(42),h()()()()(),f(43,"div",86)(44,"div",68)(45,"span",69),p(46,"\u{1F3F7}\uFE0F"),h(),f(47,"h3"),p(48,"Category Insights"),h()(),f(49,"div",71),q(50,JG,5,2,"div",87)(51,XG,5,2,"div",87),h()()()()),n&2){let t=P();y(14),S("ngForOf",t.getSmartRecommendations()),y(13),H(t.getSpendingAnalytics().totalExpenses),y(5),re("\u20B9",t.getSpendingAnalytics().averagePerExpense.toFixed(0)),y(5),re("\u20B9",t.getSpendingAnalytics().highestExpense.toFixed(0)),y(4),on("trend-"+t.getSpendingAnalytics().recentTrend.trend),y(),re(" ",t.getSpendingAnalytics().recentTrend.trend," "),y(8),S("ngIf",t.getSpendingAnalytics().mostExpensiveCategory),y(),S("ngIf",t.getSpendingAnalytics().leastExpensiveCategory)}}function tK(n,e){if(n&1&&(f(0,"div",120)(1,"div",121)(2,"div",122),p(3),h(),f(4,"div",123),p(5),h(),f(6,"div",124),p(7),Ve(8,"number"),h()()()),n&2){let t=e.$implicit,r=P(3);_n("width",r.getCategoryPercentage((t==null?null:t.id)||""),"%")("background-color",(t==null?null:t.color)||"#999"),S("title",(t==null?null:t.name)+": "+r.getCategoryPercentage((t==null?null:t.id)||"")+"%"),y(3),H(t==null?null:t.name),y(2),re("",r.getCategoryPercentage((t==null?null:t.id)||""),"%"),y(2),re("\u20B9",yn(8,8,r.categoryTotals[(t==null?null:t.id)||""]||0))}}function nK(n,e){if(n&1&&(f(0,"div",117)(1,"div",118),q(2,tK,9,10,"div",119),h()()),n&2){let t=P(2);y(2),S("ngForOf",t.getCategoriesSortedByExpense())}}function rK(n,e){if(n&1&&(f(0,"div",152)(1,"span",153),p(2),h(),f(3,"span",154),p(4),h()()),n&2){let t=e.$implicit;on("insight-"+t.type),y(2),H(t.icon),y(2),H(t.text)}}function iK(n,e){if(n&1&&(f(0,"div",150),q(1,rK,5,4,"div",151),h()),n&2){let t=P().$implicit,r=P(3);y(),S("ngForOf",r.getCategoryInsights((t==null?null:t.id)||""))}}function oK(n,e){if(n&1&&(f(0,"div",155)(1,"span",156),p(2),h(),f(3,"span",157),p(4),h()()),n&2){let t=P().$implicit,r=P(3);y(2),H(r.getCategoryTrend((t==null?null:t.id)||"").icon),y(2),H(r.getCategoryTrend((t==null?null:t.id)||"").text)}}function sK(n,e){if(n&1){let t=se();f(0,"div",127)(1,"div",128)(2,"div",129),p(3),h(),f(4,"div",130)(5,"div",131),pt(6,"div",132),h(),f(7,"div",133),p(8),h()()(),f(9,"div",134)(10,"div",135)(11,"div",136),p(12),h(),f(13,"div",137),p(14),h()(),f(15,"div",138)(16,"div",139)(17,"div",98)(18,"span",140),p(19,"\u{1F4CA}"),h(),f(20,"span",99),p(21,"Expenses"),h(),f(22,"span",100),p(23),h()(),f(24,"div",98)(25,"span",140),p(26,"\u{1F4B0}"),h(),f(27,"span",99),p(28,"Average"),h(),f(29,"span",100),p(30),h()(),f(31,"div",98)(32,"span",140),p(33,"\u{1F4C8}"),h(),f(34,"span",99),p(35,"Highest"),h(),f(36,"span",100),p(37),h()()()(),q(38,iK,2,1,"div",141),h(),f(39,"div",142)(40,"div",143)(41,"div",144),p(42),Ve(43,"number"),h(),q(44,oK,5,2,"div",145),h(),f(45,"div",146)(46,"button",147),B("click",function(){let i=L(t).$implicit,o=P(3);return V(o.viewCategoryDetails((i==null?null:i.id)||""))}),_c(),f(47,"svg",148),pt(48,"path",149),h(),yc(),f(49,"span"),p(50,"View Expenses"),h()()()()()}if(n&2){let t=e.$implicit,r=e.index,i=P(3);ct("empty-category",i.categoryTotals[(t==null?null:t.id)||""]===0),y(2),_n("background-color",(t==null?null:t.color)||"#999"),y(),re(" ",(t==null?null:t.icon)||"\u{1F4CC}"," "),y(3),_n("width",i.getCategoryPercentage((t==null?null:t.id)||""),"%")("background-color",(t==null?null:t.color)||"#999"),y(2),re("",i.getCategoryPercentage((t==null?null:t.id)||""),"%"),y(4),H((t==null?null:t.name)||"Unknown"),y(2),re("#",r+1),y(9),H(i.getExpensesByCategory((t==null?null:t.id)||"").length),y(7),re("\u20B9",(i.categoryTotals[(t==null?null:t.id)||""]/i.getExpensesByCategory((t==null?null:t.id)||"").length).toFixed(0)),y(7),re("\u20B9",i.getMaxExpenseForCategory((t==null?null:t.id)||"")),y(),S("ngIf",i.getCategoryInsights((t==null?null:t.id)||"").length>0),y(4),re("\u20B9",yn(43,18,i.categoryTotals[(t==null?null:t.id)||""]||0)),y(2),S("ngIf",i.getCategoryTrend((t==null?null:t.id)||""))}}function aK(n,e){if(n&1&&(f(0,"div",125),q(1,sK,51,20,"div",126),h()),n&2){let t=P(2);y(),S("ngForOf",t.getCategoriesSortedByExpense())}}function cK(n,e){n&1&&(f(0,"div",158)(1,"div",159),p(2,"\u{1F3F7}\uFE0F"),h(),f(3,"h6"),p(4,"No Categories Found"),h(),f(5,"p"),p(6,"Add some categories to start tracking your expenses!"),h(),f(7,"div",160)(8,"a",161),p(9,"Add Categories"),h()()())}function lK(n,e){if(n&1&&(f(0,"div",176)(1,"span",177),p(2,"\u26A1"),h(),f(3,"span",178),p(4,"Priority"),h(),f(5,"span",190),p(6),h()()),n&2){let t=P(2).$implicit;y(5),on("priority-"+t.priority),y(),re(" ",t.priority," ")}}function uK(n,e){n&1&&(f(0,"div",176)(1,"span",177),p(2,"\u{1F4B0}"),h(),f(3,"span",178),p(4,"Type"),h(),f(5,"span",191),p(6,"Large Expense"),h()())}function dK(n,e){if(n&1&&(f(0,"div",175),q(1,lK,7,3,"div",189)(2,uK,7,0,"div",189),h()),n&2){let t=P().$implicit;y(),S("ngIf",t.priority),y(),S("ngIf",t.amount>1e3)}}function fK(n,e){if(n&1&&(f(0,"div",152)(1,"span",153),p(2),h(),f(3,"span",154),p(4),h()()),n&2){let t=e.$implicit;on("insight-"+t.type),y(2),H(t.icon),y(2),H(t.text)}}function hK(n,e){if(n&1&&(f(0,"div",192),q(1,fK,5,4,"div",151),h()),n&2){let t=P().$implicit,r=P(3);y(),S("ngForOf",r.getExpenseInsights(t))}}function gK(n,e){if(n&1){let t=se();f(0,"div",164)(1,"div",165)(2,"div",166)(3,"div",167),p(4),h(),f(5,"div",168)(6,"div",169),p(7),Ve(8,"date"),h()(),f(9,"div",170)(10,"div",144),p(11),Ve(12,"number"),h(),f(13,"div",171),p(14),h()()(),f(15,"div",172)(16,"div",173),p(17),h(),f(18,"div",174)(19,"div",175)(20,"div",176)(21,"span",177),p(22,"\u{1F3F7}\uFE0F"),h(),f(23,"span",178),p(24,"Category"),h(),f(25,"span",179),p(26),h()(),f(27,"div",176)(28,"span",177),p(29,"\u{1F4C5}"),h(),f(30,"span",178),p(31,"Day"),h(),f(32,"span",179),p(33),h()()(),q(34,dK,3,2,"div",180),h(),q(35,hK,2,1,"div",181),h(),f(36,"div",182)(37,"button",183),B("click",function(){let i=L(t).$implicit,o=P(3);return V(o.editExpense(i))}),_c(),f(38,"svg",148),pt(39,"path",184)(40,"path",185),h(),yc(),f(41,"span"),p(42,"Edit"),h()(),f(43,"button",186),B("click",function(){let i=L(t).$implicit,o=P(3);return V(o.deleteExpense(i))}),_c(),f(44,"svg",148),pt(45,"path",187)(46,"path",188),h(),yc(),f(47,"span"),p(48,"Delete"),h()()()()()}if(n&2){let t=e.$implicit,r=P(3);y(3),_n("background-color",r.getCategoryColor(t.categoryId)),y(),re(" ",r.getCategoryIcon(t.categoryId)," "),y(3),H(Dt(8,13,t.date,"MMM dd, yyyy")),y(4),re("\u20B9",yn(12,16,t.amount)),y(2),on(r.getAmountIndicator(t.amount)),y(),re(" ",r.getAmountIndicator(t.amount)," "),y(3),H(t.description||"No description"),y(9),H(r.getCategoryName(t.categoryId)),y(7),H(r.getDayOfWeek(t.date)),y(),S("ngIf",t.priority||t.amount>1e3),y(),S("ngIf",r.getExpenseInsights(t).length>0)}}function pK(n,e){if(n&1&&(f(0,"div",162),q(1,gK,49,18,"div",163),h()),n&2){let t=P(2);y(),S("ngForOf",t.getRecentExpensesSorted())}}function mK(n,e){n&1&&(f(0,"div",158)(1,"div",159),p(2,"\u{1F4DD}"),h(),f(3,"h6"),p(4,"No Expenses Found"),h(),f(5,"p"),p(6,"Add some expenses to see them here!"),h(),f(7,"div",160)(8,"a",193),p(9,"Add Expenses"),h()()())}function _K(n,e){if(n&1&&(f(0,"div",196)(1,"div",121)(2,"div",197),p(3),h(),f(4,"div",124),p(5),Ve(6,"number"),h(),f(7,"div",198),p(8),h()()()),n&2){let t=e.$implicit,r=P(3);_n("height",t.amount/r.getMaxSpendingAmount()*100,"%"),y(3),H(t.day),y(2),re("\u20B9",yn(6,5,t.amount)),y(3),re("",t.count," expenses")}}function yK(n,e){if(n&1&&(f(0,"div",194),q(1,_K,9,7,"div",195),h()),n&2){let t=P(2);y(),S("ngForOf",t.getSpendingByDay())}}function vK(n,e){n&1&&(f(0,"div",199)(1,"div",159),p(2,"\u{1F4CA}"),h(),f(3,"h6"),p(4,"No Spending Data"),h(),f(5,"p"),p(6,"No expenses found for the selected period"),h()())}function CK(n,e){if(n&1&&(f(0,"div",202)(1,"div",203),p(2),h(),f(3,"div",204)(4,"div",205),p(5),h(),f(6,"div",206),p(7),h()(),f(8,"div",170),p(9),Ve(10,"number"),h()()),n&2){let t=e.$implicit,r=e.index,i=P(3);y(2),H(r+1),y(3),H(t.description||"No description"),y(2),H(i.getCategoryName(t.categoryId)),y(2),re("\u20B9",yn(10,4,t.amount))}}function bK(n,e){if(n&1&&(f(0,"div",200),q(1,CK,11,6,"div",201),h()),n&2){let t=P(2);y(),S("ngForOf",t.getTopExpenses(5))}}function wK(n,e){n&1&&(f(0,"div",199)(1,"div",159),p(2,"\u{1F3C6}"),h(),f(3,"h6"),p(4,"No Top Expenses"),h(),f(5,"p"),p(6,"Add some expenses to see your top spending patterns"),h()())}function MK(n,e){if(n&1){let t=se();f(0,"div",92)(1,"div",93)(2,"div",68)(3,"div",3)(4,"span",94),p(5,"\u{1F3F7}\uFE0F"),h(),f(6,"h5",95),p(7,"Category-wise Spending"),h()(),f(8,"div",96)(9,"div",97)(10,"div",98)(11,"span",99),p(12,"Total"),h(),f(13,"span",100),p(14),Ve(15,"number"),h()(),f(16,"div",98)(17,"span",99),p(18,"Period"),h(),f(19,"span",100),p(20),h()()()()(),f(21,"div",101),q(22,nK,3,1,"div",102)(23,aK,2,1,"div",103)(24,cK,10,0,"div",104),h()(),f(25,"div",105)(26,"div",68)(27,"div",3)(28,"span",94),p(29,"\u{1F4DD}"),h(),f(30,"h5",95),p(31,"Recent Expenses"),h()(),f(32,"div",96)(33,"div",106)(34,"div",107)(35,"span",108),p(36),h(),f(37,"span",109),p(38),Ve(39,"number"),h()()(),f(40,"button",110),B("click",function(){L(t);let i=P();return V(i.viewAllExpenses())}),p(41," View All "),h()()(),f(42,"div",101),q(43,pK,2,1,"div",111)(44,mK,10,0,"div",104),h()(),f(45,"div",112)(46,"div",68)(47,"span",94),p(48,"\u{1F4C8}"),h(),f(49,"h5",95),p(50,"Spending Patterns"),h()(),f(51,"div",101)(52,"div",113)(53,"h6"),p(54,"Spending by Day of Week"),h(),q(55,yK,2,1,"div",114)(56,vK,7,0,"div",115),h(),f(57,"div",113)(58,"h6"),p(59,"Top 5 Expenses"),h(),q(60,bK,2,1,"div",116)(61,wK,7,0,"div",115),h()()()()}if(n&2){let t=P();y(14),re("\u20B9",yn(15,13,t.getFilteredTotal())),y(6),H(t.getFilterLabel()),y(2),S("ngIf",t.getCategoriesSortedByExpense().length>0),y(),S("ngIf",t.getCategoriesSortedByExpense().length>0),y(),S("ngIf",t.getCategoriesSortedByExpense().length===0),y(12),H(t.getFilterLabel()),y(2),re("\u20B9",yn(39,15,t.getFilteredTotal())),y(5),S("ngIf",t.getRecentExpensesSorted().length>0),y(),S("ngIf",t.getRecentExpensesSorted().length===0),y(11),S("ngIf",t.getSpendingByDay().length>0&&t.getMaxSpendingAmount()>0),y(),S("ngIf",t.getSpendingByDay().length===0||t.getMaxSpendingAmount()===0),y(4),S("ngIf",t.getTopExpenses(5).length>0),y(),S("ngIf",t.getTopExpenses(5).length===0)}}function xK(n,e){if(n&1&&(f(0,"a",210)(1,"span",9),p(2),h(),f(3,"div",211)(4,"h4"),p(5),h(),f(6,"p"),p(7),h()()()),n&2){let t=P().$implicit;S("routerLink",t.route),y(2),H(t.icon),y(3),H(t.title),y(2),H(t.action)}}function EK(n,e){if(n&1){let t=se();f(0,"button",212),B("click",function(){L(t);let i=P().$implicit;return V(i.method())}),f(1,"span",9),p(2),h(),f(3,"div",211)(4,"h4"),p(5),h(),f(6,"p"),p(7),h()()()}if(n&2){let t=P().$implicit;y(2),H(t.icon),y(3),H(t.title),y(2),H(t.action)}}function PK(n,e){if(n&1&&(f(0,"div",207),q(1,xK,8,4,"a",208)(2,EK,8,3,"button",209),h()),n&2){let t=e.$implicit;y(),S("ngIf",t.route),y(),S("ngIf",t.method)}}var z_=class n{constructor(e,t,r,i,o,s){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.filterStateService=i;this.dialogService=o;this.router=s}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";selectedMonth="";selectedYear="";customStartDate="";customEndDate="";selectedMonthOnly="";selectedYearOnly="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;weeklyTotal=0;showInsights=!1;isLoading=!0;subscription=new ze;ngOnInit(){this.loadFilterState();let e=new Date().getFullYear();for(let t=2020;t<=e+1;t++)this.availableYears.push(t.toString());this.subscription.add(this.firebaseService.expenses$.subscribe(t=>{this.expenses=t,this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateWeeklyData(),console.log(`Received ${t.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(t=>{this.categories=t,console.log(`Received ${t.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return b(this,null,function*(){try{this.isLoading=!0,console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{this.isLoading=!1}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){let e=this.getFilteredExpenses();this.recentExpenses=[...e].sort((t,r)=>{let i=new Date(t.date+"T00:00:00"),s=new Date(r.date+"T00:00:00").getTime()-i.getTime();return s===0?t.createdAt&&r.createdAt?new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime():t.createdAt&&!r.createdAt?-1:!t.createdAt&&r.createdAt?1:r.id.localeCompare(t.id):s}).slice(0,5)}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getCategoryAmountColor(e){return this.categories.find(r=>r.id===e)?.color||"#3b82f6"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date;switch(this.selectedPeriod){case"monthly":let r=parseInt(this.selectedMonth),i=parseInt(this.selectedYear);e=e.filter(a=>{let c=new Date(a.date);return c.getMonth()===r&&c.getFullYear()===i});break;case"yearly":e=e.filter(a=>new Date(a.date).getFullYear()===t.getFullYear());break;case"last30":let o=new Date;o.setDate(t.getDate()-30),e=e.filter(a=>new Date(a.date)>=o);break;case"last7":let s=new Date;s.setDate(t.getDate()-7),e=e.filter(a=>new Date(a.date)>=s);break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(a=>{let c=new Date(a.date),u=new Date(this.customStartDate),d=new Date(this.customEndDate);return c>=u&&c<=d}));break;case"monthOnly":if(this.selectedMonthOnly&&this.selectedYearOnly){let a=parseInt(this.selectedMonthOnly),c=parseInt(this.selectedYearOnly);e=e.filter(u=>{let d=new Date(u.date);return d.getMonth()===a&&d.getFullYear()===c})}break}}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"monthly":return"This Month";case"yearly":return"This Year";case"last30":return"Last 30 Days";case"last7":return"Last 7 Days";case"custom":return this.getCustomDateRangeLabel();default:return"All Time"}}getCustomDateRangeLabel(){if(!this.customStartDate||!this.customEndDate)return"Custom Range";let e=new Date(this.customStartDate),t=new Date(this.customEndDate),r=e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),i=t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${r} - ${i}`}loadFilterState(){let e=this.filterStateService.getFilterState();if(console.log("Loading filter state from service:",e),this.selectedPeriod=e.selectedPeriod,this.selectedMonth=e.selectedMonth,this.selectedYear=e.selectedYear,this.customStartDate=e.customStartDate,this.customEndDate=e.customEndDate,this.selectedMonthOnly=e.selectedMonthOnly||"",this.selectedYearOnly=e.selectedYearOnly||"",this.selectedPeriod==="monthOnly"&&(!this.selectedMonthOnly||!this.selectedYearOnly)){let t=new Date;this.selectedMonthOnly=t.getMonth().toString(),this.selectedYearOnly=t.getFullYear().toString(),console.log("Auto-selected current month and year on load:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.onMonthOnlyChange()}console.log("Filter state loaded into component:",{selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly})}onFilterChange(){if(console.log("Filter changed, saving state:",{selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate}),this.selectedPeriod==="monthOnly"){let e=new Date;this.selectedMonthOnly=e.getMonth().toString(),this.selectedYearOnly=e.getFullYear().toString(),console.log("Auto-selected current month and year:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.onMonthOnlyChange()}this.filterStateService.updateFilterState({selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly})}onCustomDateChange(){console.log("Custom date changed:",{start:this.customStartDate,end:this.customEndDate}),this.customStartDate&&this.customEndDate&&this.isCustomDateRangeValid()&&(console.log("Auto-applying custom date range filter"),this.onFilterChange())}onMonthOnlyChange(){if(console.log("Month only changed:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.selectedMonthOnly&&this.selectedYearOnly){let e=parseInt(this.selectedMonthOnly),t=parseInt(this.selectedYearOnly),r=new Date(Date.UTC(t,e,1)),i=new Date(Date.UTC(t,e+1,0)),o=s=>{let a=s.getUTCFullYear(),c=String(s.getUTCMonth()+1).padStart(2,"0"),u=String(s.getUTCDate()).padStart(2,"0");return`${a}-${c}-${u}`};console.log("Date calculations:",{monthIndex:e,year:t,startDate:r.toISOString(),endDate:i.toISOString(),startDateMonth:r.getUTCMonth(),startDateDate:r.getUTCDate(),endDateMonth:i.getUTCMonth(),endDateDate:i.getUTCDate()}),this.customStartDate=o(r),this.customEndDate=o(i),console.log("Month only filter applied:",{month:e,year:t,startDate:this.customStartDate,endDate:this.customEndDate}),this.filterStateService.updateFilterState({selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly}),setTimeout(()=>{console.log("Month only filter state after delay:",{selectedPeriod:this.selectedPeriod,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly,customStartDate:this.customStartDate,customEndDate:this.customEndDate})},100)}}isCustomDateRangeValid(){if(!this.customStartDate||!this.customEndDate)return!1;let e=new Date(this.customStartDate),t=new Date(this.customEndDate);return e<=t}clearCustomDateRange(){this.customStartDate="",this.customEndDate="",console.log("Custom date range cleared"),this.onFilterChange()}openDatePicker(){this.setDefaultDateRange("last30")}setDefaultDateRange(e){let t=new Date,r;switch(e){case"last7":r=new Date(t.getTime()-7*24*60*60*1e3);break;case"last30":r=new Date(t.getTime()-30*24*60*60*1e3);break;case"last90":r=new Date(t.getTime()-90*24*60*60*1e3);break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1);break;case"lastMonth":r=new Date(t.getFullYear(),t.getMonth()-1,1);let i=new Date(t.getFullYear(),t.getMonth(),0);this.customStartDate=r.toISOString().split("T")[0],this.customEndDate=i.toISOString().split("T")[0],this.onFilterChange();return}this.customStartDate=r.toISOString().split("T")[0],this.customEndDate=t.toISOString().split("T")[0],console.log(`Default date range set (${e}):`,{start:this.customStartDate,end:this.customEndDate}),this.onFilterChange()}getExpensesByCategory(e){return this.getFilteredExpenses().filter(t=>t.categoryId===e)}get categoryTotals(){let e={},t=this.getFilteredExpenses();return this.categories.forEach(r=>{e[r.id]=t.filter(i=>i.categoryId===r.id).reduce((i,o)=>i+o.amount,0)}),e}get monthlyTotal(){return this.currentMonthTotal}getRecentExpensesSorted(){let t=[...this.getFilteredExpenses()].sort((r,i)=>{let o=new Date(r.date+"T00:00:00"),a=new Date(i.date+"T00:00:00").getTime()-o.getTime();return a===0?r.createdAt&&i.createdAt?new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime():r.createdAt&&!i.createdAt?-1:!r.createdAt&&i.createdAt?1:i.id.localeCompare(r.id):a}).slice(0,5);return t.length>0&&console.log("Recent expenses sorted by date and creation time (latest first):",t.map(r=>({date:r.date,description:r.description,amount:r.amount,createdAt:r.createdAt?new Date(r.createdAt).toLocaleTimeString():"N/A",id:r.id.substring(0,8)+"..."}))),t}getFilteredExpensesSorted(){return this.getFilteredExpenses().sort((e,t)=>t.amount-e.amount)}getCategoriesSortedByExpense(){return[...this.categories].filter(e=>(this.categoryTotals[e.id]||0)>0).sort((e,t)=>{let r=this.categoryTotals[e.id]||0;return(this.categoryTotals[t.id]||0)-r})}getBudgetProgress(){return null}getDailyAverage(){let e=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),t=new Date().getDate();return this.currentMonthTotal/t}getPotentialSavings(){return 0}getSavingsTip(){return null}getCategoryPercentage(e){let t=this.getFilteredTotal();if(t===0)return 0;let r=this.categoryTotals[e]||0;return parseFloat((r/t*100).toFixed(2))}getCategoryTrendLegacy(e){return null}getTopSpendingCategory(){let e=this.getFilteredExpenses();if(e.length===0)return null;let t={};e.forEach(i=>{let o=i.categoryId;t[o]?t[o]+=i.amount:t[o]=i.amount});let r=Object.entries(t).map(([i,o])=>{let s=this.categories.find(a=>a.id===i);return{categoryId:i,categoryName:s?.name||"Unknown",amount:o}}).sort((i,o)=>o.amount-i.amount);return r.length===0?null:{name:r[0].categoryName,amount:r[0].amount}}getSpendingPattern(){let e=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);return e>1e3?"High Value":e>500?"Medium Value":"Low Value"}getPatternDescription(){switch(this.getSpendingPattern()){case"High Value":return"Large individual expenses";case"Medium Value":return"Moderate spending pattern";case"Low Value":return"Small frequent expenses";default:return"Balanced spending"}}getQuickWin(){let e=this.getTopSpendingCategory();return e&&e.amount>this.monthlyTotal*.4?{title:`Reduce ${e.name} spending`,description:`This category represents ${(e.amount/this.getFilteredTotal()*100).toFixed(1)}% of your expenses`}:null}getAchievement(){return this.currentMonthTotal<this.monthlyTotal*.5?{title:"Budget Master!",description:"You're under 50% of your monthly budget"}:null}getMonthlyTrends(){let e=[],t=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe"];for(let r=5;r>=0;r--){let i=new Date;i.setMonth(i.getMonth()-r);let s=this.expenses.filter(u=>{let d=new Date(u.date);return d.getMonth()===i.getMonth()&&d.getFullYear()===i.getFullYear()}).reduce((u,d)=>u+d.amount,0),a=Math.max(...this.getMonthlyAmounts()),c=a>0?s/a*100:0;e.push({name:i.toLocaleDateString("en-US",{month:"short"}),amount:s,percentage:c,color:t[r]})}return e}getMonthlyAmounts(){let e=[];for(let t=5;t>=0;t--){let r=new Date;r.setMonth(r.getMonth()-t);let i=this.expenses.filter(o=>{let s=new Date(o.date);return s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear()});e.push(i.reduce((o,s)=>o+s.amount,0))}return e}toggleInsights(){this.showInsights=!this.showInsights,this.showInsights&&setTimeout(()=>{let e=document.getElementById("insights-section");if(e){let i=e.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"})}},150)}viewAllExpenses(){this.router.navigate(["/expenses"])}editExpense(e){return b(this,null,function*(){try{let t=yield this.dialogService.prompt("Enter expense description:","Edit Expense",e.description,"text","Enter description...","Description");if(t===null)return;let r=yield this.dialogService.prompt("Enter expense amount:","Edit Expense",e.amount.toString(),"number","Enter amount...","Amount (\u20B9)");if(r===null)return;let i=yield this.dialogService.prompt("Enter expense date:","Edit Expense",e.date,"date","","Date");if(i===null)return;let o=parseFloat(r);if(isNaN(o)||o<=0){yield this.dialogService.error("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){yield this.dialogService.error("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let a=fe(z({},e),{description:t,amount:o,date:i});yield this.expenseService.update(a),yield this.dialogService.success("Expense updated successfully!")}catch(t){console.error("Error editing expense:",t),yield this.dialogService.error("Error updating expense. Please try again.")}})}deleteExpense(e){return b(this,null,function*(){if(yield this.dialogService.confirm(`Are you sure you want to delete this expense?

Description: ${e.description}
Amount: \u20B9${e.amount}
Date: ${e.date}`,"Delete Expense")){let r=[...this.expenses];this.expenses=this.expenses.filter(i=>i.id!==e.id);try{yield this.expenseService.delete(e.id),yield this.dialogService.success("Expense deleted successfully!")}catch(i){console.error("Error deleting expense:",i),this.expenses=r,yield this.dialogService.error("Error deleting expense. Please try again.")}}})}getSmartInsights(){let e=[],t=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);t>1e3&&e.push({title:"High-Value Spending Pattern",description:`Your average expense is \u20B9${t.toFixed(0)}, indicating large purchases. Consider breaking down big expenses.`});let r=this.getTopSpendingCategory();r&&r.amount/this.getFilteredTotal()>.5&&e.push({title:"Category Concentration Alert",description:`${r.name} represents ${(r.amount/this.getFilteredTotal()*100).toFixed(1)}% of your spending. Consider diversifying.`});let i=this.weeklyTotal;i>this.currentMonthTotal/4&&e.push({title:"High Weekly Spending",description:`This week's spending (\u20B9${i.toFixed(0)}) is above average. Monitor your daily expenses.`});let o=this.getPotentialSavings();return o>0&&e.push({title:"Savings Opportunity",description:`You could save \u20B9${o.toFixed(0)} by optimizing your spending patterns.`}),e}getQuickActions(){return[{title:"Add Expense",action:"Quick Entry",icon:"\u2795",route:"/expenses"},{title:"View Reports",action:"Monthly Analysis",icon:"\u{1F4CA}",route:"/reports"},{title:"Manage Categories",action:"Organize",icon:"\u{1F3F7}\uFE0F",route:"/categories"},{title:"Export Data",action:"Download",icon:"\u{1F4E5}",method:()=>this.exportData()}]}getSpendingAnalytics(){let e=this.getFilteredExpenses(),t=this.getFilteredTotal();return{totalExpenses:e.length,totalAmount:t,averagePerExpense:e.length>0?t/e.length:0,highestExpense:Math.max(...e.map(r=>r.amount)),lowestExpense:Math.min(...e.map(r=>r.amount)),mostExpensiveCategory:this.getMostExpensiveCategory(),leastExpensiveCategory:this.getLeastExpensiveCategory(),spendingByDay:this.getSpendingByDay(),spendingByWeek:this.getSpendingByWeek(),spendingByMonth:this.getSpendingByMonth(),topExpenses:this.getTopExpenses(5),recentTrend:this.getRecentSpendingTrend()}}getMostExpensiveCategory(){let e=this.categoryTotals,t=this.getFilteredTotal();if(t===0)return null;let r=Object.entries(e).reduce((o,[s,a])=>a>o.amount?{id:s,amount:a}:o,{id:"",amount:0});return{name:this.categories.find(o=>o.id===r.id)?.name||"Unknown",amount:r.amount,percentage:r.amount/t*100}}getLeastExpensiveCategory(){let e=this.categoryTotals,t=this.getFilteredTotal();if(t===0)return null;let r=Object.entries(e).reduce((o,[s,a])=>a<o.amount?{id:s,amount:a}:o,{id:"",amount:1/0});return{name:this.categories.find(o=>o.id===r.id)?.name||"Unknown",amount:r.amount,percentage:r.amount/t*100}}getSpendingByDay(){let e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t={};return e.forEach(r=>{t[r]={amount:0,count:0}}),this.getFilteredExpenses().forEach(r=>{let i=new Date(r.date).toLocaleDateString("en-US",{weekday:"long"});t[i].amount+=r.amount,t[i].count+=1}),e.map(r=>({day:r,amount:t[r].amount,count:t[r].count}))}getSpendingByWeek(){let e={};return this.getFilteredExpenses().forEach(t=>{let r=new Date(t.date),i=new Date(r);i.setDate(r.getDate()-r.getDay());let o=i.toISOString().split("T")[0];e[o]||(e[o]={amount:0,count:0}),e[o].amount+=t.amount,e[o].count+=1}),Object.entries(e).map(([t,r])=>({week:new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),amount:r.amount,count:r.count})).sort((t,r)=>new Date(t.week).getTime()-new Date(r.week).getTime())}getSpendingByMonth(){let e={};return this.getFilteredExpenses().forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${r.getMonth()}`;e[i]||(e[i]={amount:0,count:0}),e[i].amount+=t.amount,e[i].count+=1}),Object.entries(e).map(([t,r])=>({month:new Date(t+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"}),amount:r.amount,count:r.count})).sort((t,r)=>new Date(t.month).getTime()-new Date(r.month).getTime())}getTopExpenses(e){return[...this.getFilteredExpenses()].sort((t,r)=>r.amount-t.amount).slice(0,e)}getRecentSpendingTrend(){let e=this.getRecentExpensesSorted().slice(0,10);if(e.length<5)return{trend:"stable",percentage:0};let t=Math.floor(e.length/2),r=e.slice(0,t),i=e.slice(t),o=r.reduce((c,u)=>c+u.amount,0),s=i.reduce((c,u)=>c+u.amount,0);if(o===0)return{trend:"stable",percentage:0};let a=(s-o)/o*100;return a>10?{trend:"increasing",percentage:a}:a<-10?{trend:"decreasing",percentage:a}:{trend:"stable",percentage:a}}exportData(){let e={expenses:this.expenses,categories:this.categories,analytics:this.getSpendingAnalytics(),exportDate:new Date().toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`expense-tracker-data-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}getSmartRecommendations(){let e=[],t=this.getTopSpendingCategory();return t&&t.amount/this.getFilteredTotal()>.6&&e.push({title:"Category Diversification",description:`Consider reducing spending in ${t.name} category.`,priority:"medium"}),this.expenses.filter(i=>i.amount>1e3).length>3&&e.push({title:"Large Expenses Review",description:"You have several large expenses. Consider if all are necessary.",priority:"medium"}),e}getSmartFilters(){return[{label:"All Time",value:"all",description:"Complete expense history"},{label:"This Month",value:"monthly",description:"Current month expenses"},{label:"This Year",value:"yearly",description:"Current year expenses"},{label:"Last 30 Days",value:"last30",description:"Recent month activity"},{label:"Last 7 Days",value:"last7",description:"This week's expenses"},{label:"Specific Month/Year",value:"monthOnly",description:"Select specific month and year"},{label:"Custom Range",value:"custom",description:"Select specific dates"}]}getQuickSummaryCards(){return[{title:"Total Spent",value:`\u20B9${this.getFilteredTotal().toLocaleString()}`,change:"Current period",trend:"stable",icon:"\u{1F4B0}"},{title:"Expense Count",value:this.getFilteredExpenses().length.toString(),change:`${this.getFilteredExpenses().length} this period`,trend:"stable",icon:"\u{1F4CA}"},{title:"Average Per Expense",value:`\u20B9${(this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1)).toFixed(0)}`,change:"Per transaction",trend:"stable",icon:"\u{1F4C8}"},{title:"Top Category",value:this.getTopSpendingCategory()?.name||"No Data",change:this.getTopSpendingCategory()&&this.getFilteredTotal()>0?`${(this.getTopSpendingCategory().amount/this.getFilteredTotal()*100).toFixed(1)}%`:"No expenses",trend:"stable",icon:"\u{1F3F7}\uFE0F"}]}viewCategoryDetails(e){let t=this.filterStateService.getFilterState();this.router.navigate(["/expenses"],{queryParams:{category:e,filter:"category",period:t.selectedPeriod,month:t.selectedMonth,year:t.selectedYear,startDate:t.customStartDate,endDate:t.customEndDate,monthOnly:t.selectedMonthOnly,yearOnly:t.selectedYearOnly}})}getMaxSpendingAmount(){let e=this.getSpendingByDay();return e.length===0?0:Math.max(...e.map(t=>t.amount))}getDayOfWeek(e){return new Date(e).toLocaleDateString("en-US",{weekday:"short"})}getMaxExpenseForCategory(e){let t=this.getExpensesByCategory(e);return t.length===0?0:Math.max(...t.map(r=>r.amount))}getCurrentMonthName(){return new Date().toLocaleDateString("en-US",{month:"long"})}getCurrentYear(){return new Date().getFullYear().toString()}getSelectedMonthName(){let e=parseInt(this.selectedMonth);return["January","February","March","April","May","June","July","August","September","October","November","December"][e]||"January"}getSelectedYear(){return this.selectedYear||new Date().getFullYear().toString()}availableMonths=[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}];availableYears=[];getLastWeekTotal(){let e=new Date;return e.setDate(e.getDate()-7),this.expenses.filter(t=>new Date(t.date)>=e).reduce((t,r)=>t+r.amount,0)}getAmountIndicator(e){return e>5e3?"high":e>1e3?"medium":"low"}getCategoryInsights(e){let t=[],r=this.getExpensesByCategory(e),i=this.categoryTotals[e]||0,o=r.length>0?i/r.length:0;return i>this.getFilteredTotal()*.4&&t.push({type:"high",icon:"\u26A0\uFE0F",text:"High spending category"}),o>2e3&&t.push({type:"medium",icon:"\u{1F4B0}",text:"High average expense"}),r.length>10&&t.push({type:"low",icon:"\u{1F4CA}",text:"Frequent expenses"}),t}getCategoryTrend(e){let t=this.categoryTotals[e]||0,r=this.getFilteredTotal()/Object.keys(this.categoryTotals).length;return t>r*1.2?{icon:"\u{1F4C8}",text:"Above average"}:t<r*.8?{icon:"\u{1F4C9}",text:"Below average"}:{icon:"\u27A1\uFE0F",text:"Stable"}}getExpenseInsights(e){let t=[];e.amount>5e3&&t.push({type:"high",icon:"\u{1F4B0}",text:"Large expense"}),e.amount>this.getAverageExpense()*2&&t.push({type:"medium",icon:"\u{1F4CA}",text:"Above average"});let r=new Date(e.date);return Math.floor((new Date().getTime()-r.getTime())/(1e3*60*60*24))<=1&&t.push({type:"low",icon:"\u{1F195}",text:"Recent"}),t}getAverageExpense(){return this.expenses.length===0?0:this.expenses.reduce((e,t)=>e+t.amount,0)/this.expenses.length}static \u0275fac=function(t){return new(t||n)(G(Ni),G(Fi),G(zn),G(Fl),G(Mr),G(Xe))};static \u0275cmp=at({type:n,selectors:[["app-dashboard"]],decls:40,vars:10,consts:[[1,"dashboard-container"],[1,"smart-header"],[1,"header-content"],[1,"header-left"],[1,"dashboard-title"],[1,"dashboard-subtitle"],[1,"quick-actions"],[1,"action-buttons"],["routerLink","/expenses",1,"action-btn","primary"],[1,"action-icon"],[1,"action-text"],[1,"action-btn","secondary",3,"click"],["class","loading-container",4,"ngIf"],[1,"smart-filters"],[1,"filter-tabs"],["class","filter-tab",3,"active","click",4,"ngFor","ngForOf"],["class","custom-date-range",4,"ngIf"],["class","month-only-filter",4,"ngIf"],["class","summary-grid",4,"ngIf"],["id","insights-section","class","insights-section",4,"ngIf"],["class","content-grid",4,"ngIf"],[1,"quick-actions-panel"],[1,"panel-header"],[1,"actions-grid"],["class","action-item",4,"ngFor","ngForOf"],[1,"loading-container"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"filter-tab",3,"click"],[1,"filter-label"],[1,"filter-description"],[1,"custom-date-range"],[1,"date-range-container"],[1,"date-input-group"],[1,"date-label"],["type","date","placeholder","Start date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"date-separator"],[1,"separator-text"],[1,"end-date-container"],["type","date","placeholder","End date",1,"date-input",3,"ngModelChange","change","ngModel"],["class","clear-date-btn","title","Clear date range",3,"click",4,"ngIf"],["class","date-validation",4,"ngIf"],["title","Clear date range",1,"clear-date-btn",3,"click"],[1,"clear-icon"],[1,"date-validation"],[1,"validation-message"],[1,"validation-icon"],[1,"validation-text"],[1,"month-only-filter"],[1,"month-only-container"],[1,"month-input-group"],[1,"month-label"],[1,"month-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"year-input-group"],[1,"year-label"],[1,"year-select",3,"ngModelChange","change","ngModel"],["class","month-range-display",4,"ngIf"],[3,"value"],[1,"month-range-display"],[1,"range-info"],[1,"range-label"],[1,"range-dates"],[1,"summary-grid"],["class","summary-card",4,"ngFor","ngForOf"],[1,"summary-card"],[1,"card-header"],[1,"card-icon"],[1,"card-title"],[1,"card-content"],[1,"card-value"],[1,"card-change"],[1,"change-icon"],[1,"change-text"],["id","insights-section",1,"insights-section"],[1,"section-header"],[1,"insights-grid"],[1,"insight-card","recommendations"],["class","recommendation-item",4,"ngFor","ngForOf"],[1,"insight-card","analytics"],[1,"analytics-grid"],[1,"analytics-item"],[1,"analytics-label"],[1,"analytics-value"],[1,"insight-card","categories"],["class","category-insight",4,"ngIf"],[1,"recommendation-item"],[1,"rec-priority"],[1,"rec-content"],[1,"category-insight"],[1,"content-grid"],[1,"content-card","category-section"],[1,"header-icon"],[1,"header-title"],[1,"header-right"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"card-body"],["class","category-summary",4,"ngIf"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-section"],[1,"expense-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["class","expense-timeline",4,"ngIf"],[1,"content-card","patterns-section"],[1,"pattern-section"],["class","pattern-chart",4,"ngIf"],["class","empty-state compact",4,"ngIf"],["class","top-expenses",4,"ngIf"],[1,"category-summary"],[1,"summary-chart"],["class","chart-bar",3,"width","background-color","title",4,"ngFor","ngForOf"],[1,"chart-bar",3,"title"],[1,"bar-tooltip"],[1,"tooltip-category"],[1,"tooltip-percentage"],[1,"tooltip-amount"],[1,"category-list"],["class","category-item",3,"empty-category",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-visual"],[1,"category-icon"],[1,"category-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-label"],[1,"category-info"],[1,"category-header"],[1,"category-name"],[1,"category-rank"],[1,"category-stats"],[1,"stat-row"],[1,"stat-icon"],["class","category-insights",4,"ngIf"],[1,"category-amount"],[1,"amount-display"],[1,"amount-value"],["class","amount-trend",4,"ngIf"],[1,"category-actions"],["title","View Category Expenses",1,"action-btn","primary",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z","fill","currentColor"],[1,"category-insights"],["class","insight-badge",3,"class",4,"ngFor","ngForOf"],[1,"insight-badge"],[1,"insight-icon"],[1,"insight-text"],[1,"amount-trend"],[1,"trend-icon"],[1,"trend-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-action"],["routerLink","/categories",1,"btn"],[1,"expense-timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"expense-card"],[1,"expense-header"],[1,"expense-icon"],[1,"expense-meta"],[1,"expense-date"],[1,"expense-amount"],[1,"amount-indicator"],[1,"expense-content"],[1,"expense-description"],[1,"expense-details"],[1,"detail-row"],[1,"detail-item"],[1,"detail-icon"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["class","expense-insights",4,"ngIf"],[1,"expense-actions"],["title","Edit Expense",1,"action-btn","primary",3,"click"],["d","M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Delete",1,"action-btn","danger",3,"click"],["d","M3 6h18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","detail-item",4,"ngIf"],[1,"detail-value","priority-badge"],[1,"detail-value","type-badge","large-expense"],[1,"expense-insights"],["routerLink","/expenses",1,"btn"],[1,"pattern-chart"],["class","chart-bar",3,"height",4,"ngFor","ngForOf"],[1,"chart-bar"],[1,"tooltip-day"],[1,"tooltip-count"],[1,"empty-state","compact"],[1,"top-expenses"],["class","top-expense",4,"ngFor","ngForOf"],[1,"top-expense"],[1,"rank"],[1,"expense-info"],[1,"expense-name"],[1,"expense-category"],[1,"action-item"],["class","action-card",3,"routerLink",4,"ngIf"],["class","action-card",3,"click",4,"ngIf"],[1,"action-card",3,"routerLink"],[1,"action-content"],[1,"action-card",3,"click"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),p(5,"\u{1F4CA} Smart Dashboard"),h(),f(6,"p",5),p(7,"Complete financial overview at a glance"),h()(),f(8,"div",6)(9,"div",7)(10,"button",8)(11,"span",9),p(12,"\u2795"),h(),f(13,"span",10),p(14,"Add Expense"),h()(),f(15,"button",11),B("click",function(){return r.exportData()}),f(16,"span",9),p(17,"\u{1F4E5}"),h(),f(18,"span",10),p(19,"Export Data"),h()(),f(20,"button",11),B("click",function(){return r.toggleInsights()}),f(21,"span",9),p(22),h(),f(23,"span",10),p(24),h()()()()()(),q(25,UG,5,0,"div",12),f(26,"div",13)(27,"div",14),q(28,BG,5,4,"button",15),h(),q(29,HG,16,4,"div",16),h(),q(30,KG,17,5,"div",17)(31,QG,2,1,"div",18)(32,eK,52,9,"div",19)(33,MK,62,17,"div",20),f(34,"div",21)(35,"div",22)(36,"h3"),p(37,"\u26A1 Quick Actions"),h()(),f(38,"div",23),q(39,PK,3,2,"div",24),h()()()),t&2&&(y(22),H(r.showInsights?"\u{1F4CA}":"\u{1F50D}"),y(2),H(r.showInsights?"Hide Insights":"Show Insights"),y(),S("ngIf",r.isLoading),y(3),S("ngForOf",r.getSmartFilters()),y(),S("ngIf",r.selectedPeriod==="custom"),y(),S("ngIf",r.selectedPeriod==="monthOnly"),y(),S("ngIf",!r.isLoading),y(),S("ngIf",r.showInsights),y(),S("ngIf",!r.isLoading),y(6),S("ngForOf",r.getQuickActions()))},dependencies:[lt,Vn,_t,jt,Ps,Os,Lt,ki,Vt,Pt,Vb,rs,ZC,sa],styles:[`@charset "UTF-8";.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #9b6b9b;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.loading-text[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#666}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}html[_ngcontent-%COMP%]{scroll-behavior:smooth}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{box-shadow:0 0 5px #a855f74d}50%{box-shadow:0 0 20px #a855f799}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.dashboard-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe);min-height:100vh;padding:1.25rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#1e293b}.smart-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);border-radius:16px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 8px 30px #a855f726}.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem}@media (max-width: 768px){.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex:1}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:700;margin:0 0 .5rem;letter-spacing:-.025em}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0 0 1rem;font-weight:400}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);border-radius:50px;padding:.75rem 1.5rem;font-size:.875rem;font-weight:500;color:#fff;display:inline-flex;align-items:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s ease}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .period-icon[_ngcontent-%COMP%]{font-size:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .period-text[_ngcontent-%COMP%]{font-weight:500}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-monthly[_ngcontent-%COMP%]{background:#22c55e33;border-color:#22c55e4d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-yearly[_ngcontent-%COMP%]{background:#3b82f633;border-color:#3b82f64d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-last30[_ngcontent-%COMP%]{background:#f59e0b33;border-color:#f59e0b4d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-last7[_ngcontent-%COMP%]{background:#10b98133;border-color:#10b9814d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-custom[_ngcontent-%COMP%]{background:#ef444433;border-color:#ef44444d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{margin-left:.5rem;display:flex;gap:.5rem;align-items:flex-end;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);max-width:280px;flex-wrap:wrap}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#ffffffe6;text-transform:uppercase;letter-spacing:.5px;margin:0}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{background:#fafbfcf2;border:1px solid rgba(250,251,252,.3);border-radius:6px;padding:.375rem 1.5rem .375rem .5rem;font-size:.8rem;font-weight:600;color:#1e293b;cursor:pointer;transition:all .2s ease;min-width:80px;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .3rem center;background-repeat:no-repeat;background-size:1em}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover{border-color:#ffffff80;background-color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fffc;background-color:#fff;box-shadow:0 0 0 3px #fff3}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{min-width:70px;max-width:90px}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{min-width:60px;max-width:75px}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}@media (max-width: 768px){.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:center}}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.25rem;border-radius:12px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;text-decoration:none;font-size:.875rem;flex:1;min-width:140px;justify-content:center}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#fff3;border-color:#ffffff4d}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.125rem}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-text[_ngcontent-%COMP%]{font-size:.875rem}.smart-filters[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;color:#64748b;padding:.625rem 1.25rem;border-radius:10px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;gap:.25rem;font-size:.875rem}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-color:#3b82f6;color:#fff;box-shadow:0 4px 15px #3b82f633}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .filter-description[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:1.5rem;margin-top:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;flex-wrap:wrap}@media (max-width: 768px){.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:150px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #e5e7eb;border-radius:12px;font-size:.875rem;background:#fff;color:#374151;transition:all .2s ease;cursor:pointer}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:hover{border-color:#d1d5db}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{flex:1}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]:hover{background:#ef44441a}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;font-weight:600}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{color:#dc2626}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;padding:0 .5rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280;background:#f3f4f6;padding:.5rem 1rem;border-radius:8px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message.valid[_ngcontent-%COMP%]{background:#22c55e1a;color:#059669;border:1px solid rgba(34,197,94,.2)}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message.invalid[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   .validation-icon[_ngcontent-%COMP%]{font-size:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   .validation-text[_ngcontent-%COMP%]{font-size:.875rem}.month-only-filter[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:2rem;margin-top:1.5rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:16px;padding:2rem;margin-bottom:1rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:2rem;justify-content:center;flex-wrap:wrap;margin-bottom:1.5rem}@media (max-width: 768px){.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:center}}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;min-width:180px;position:relative}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#1e293b;text-align:center;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.25rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{padding:1rem 2.5rem 1rem 1.25rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;font-weight:600;background:#fff;color:#1e293b;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;box-shadow:0 2px 4px #0000000d;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f626,0 4px 12px #3b82f61a;transform:translateY(-1px)}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f61a;transform:translateY(-1px)}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:500;padding:.5rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]:has(select:focus), .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]:has(select:focus){transform:scale(1.02);transition:transform .2s ease}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:2px;height:60px;background:linear-gradient(135deg,#e2e8f0,#cbd5e1);border-radius:1px}@media (max-width: 768px){.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]:after{display:none}}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;border-radius:12px;font-size:.95rem;font-weight:600;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;box-shadow:0 4px 15px #3b82f64d;transition:all .3s ease}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.5px;font-size:.8rem;opacity:.9}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-dates[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,monospace;font-weight:700;font-size:1rem;letter-spacing:.5px}.month-only-filter[_ngcontent-%COMP%]:before{content:"\\1f4c5  Select Month & Year";display:block;text-align:center;font-size:1.1rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem;letter-spacing:.5px}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:2rem;border:1px solid rgba(139,92,246,.08);box-shadow:0 4px 20px #8b5cf614,0 8px 32px #0000000a,inset 0 1px #fffc;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#a855f7,#7c3aed,#6d28d9);opacity:0;transition:opacity .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(168,85,247,.03) 50%,transparent 70%);transform:rotate(45deg) translate(-100%);transition:transform .6s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 40px #8b5cf626,0 20px 60px #00000014,inset 0 1px #ffffffe6;border-color:#8b5cf626}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover:before{opacity:1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover:after{transform:rotate(45deg) translate(100%)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover   .card-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{background-position:0% 50%}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover   .card-value[_ngcontent-%COMP%]{transform:scale(1.05)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;margin-bottom:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.25rem;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:60px;height:60px;background:radial-gradient(circle,rgba(168,85,247,.1) 0%,transparent 70%);border-radius:50%;transform:translate(-50%,-50%) scale(0);transition:transform .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:hover:before{transform:translate(-50%,-50%) scale(1)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0;letter-spacing:.025em;transition:all .3s ease;background-size:200% 200%}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;letter-spacing:-.02em;line-height:1.1;transition:all .3s ease;position:relative}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:0;height:2px;background:linear-gradient(90deg,#a855f7,#7c3aed);transition:width .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]:hover:after{width:100%}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:.95rem;font-weight:600;padding:.75rem 1rem;border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#a855f70d,#7c3aed0d);opacity:0;transition:opacity .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]:hover:before{opacity:1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]{color:#dc2626;background:linear-gradient(135deg,#dc262614,#ef444414);border:1px solid rgba(220,38,38,.15)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]{color:#16a34a;background:linear-gradient(135deg,#16a34a14,#22c55e14);border:1px solid rgba(22,163,74,.15)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]{color:#64748b;background:linear-gradient(135deg,#64748b14,#94a3b814);border:1px solid rgba(100,116,139,.15)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:1.125rem;transition:all .3s ease;position:relative;z-index:1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{position:relative;z-index:1;font-weight:600;letter-spacing:.025em}.insights-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:1.75rem;margin-bottom:1rem;box-shadow:0 4px 20px #8b5cf614,0 8px 32px #0000000a,inset 0 1px #fffc;border:1px solid rgba(139,92,246,.08);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .3s both}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .75rem;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700;font-size:1.75rem;letter-spacing:.025em}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-size:1rem;margin:0;font-weight:500;letter-spacing:.025em}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:.75rem 0;border-bottom:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority[_ngcontent-%COMP%]{width:3px;border-radius:2px}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-high[_ngcontent-%COMP%]{background:#dc2626}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-medium[_ngcontent-%COMP%]{background:#f59e0b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-low[_ngcontent-%COMP%]{background:#16a34a}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]{flex:1}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#64748b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]{text-align:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]   .analytics-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-bottom:.25rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]:last-child{border-bottom:none}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#64748b}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.25rem;margin-bottom:1rem}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.content-grid[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{grid-column:1/-1}.content-grid[_ngcontent-%COMP%]   .recent-section[_ngcontent-%COMP%]{grid-column:1/2}.content-grid[_ngcontent-%COMP%]   .patterns-section[_ngcontent-%COMP%]{grid-column:2/3}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]   .patterns-section[_ngcontent-%COMP%]{grid-column:1/-1}}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 12px #0000000d;border:1px solid #e2e8f0;overflow:hidden;transition:all .2s ease;height:fit-content}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 20px #0000001a}.content-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#ffffffe6;border:1px solid rgba(255,255,255,.8);color:#3b82f6;font-size:.875rem;font-weight:500;padding:.5rem 1rem;border-radius:8px;transition:all .2s ease;text-decoration:none;display:inline-block;cursor:pointer}.content-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#fff;transform:translateY(-1px);text-decoration:none;color:#3b82f6}.content-card[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.content-card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.8);color:#fff}.content-card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#ffffffe6;color:#3b82f6;border-color:#fff}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;padding:.875rem 1.125rem;display:flex;align-items:center;justify-content:space-between}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.25rem;opacity:.9}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;background:#ffffff26;padding:.5rem 1rem;border-radius:8px}.content-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:right}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fffc;font-weight:500;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:700;color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:8px;border:1px solid #e2e8f0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]{display:flex;height:32px;border-radius:6px;overflow:hidden;box-shadow:inset 0 1px 3px #0000001a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{position:relative;min-width:16px;transition:all .3s ease;cursor:pointer}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scaleY(1.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translateY(-10px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%) translateY(0);background:#1e293b;color:#fff;padding:.5rem;border-radius:6px;font-size:.75rem;white-space:nowrap;opacity:0;transition:all .3s ease;z-index:10;box-shadow:0 4px 12px #00000026}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#1e293b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-category[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-percentage[_ngcontent-%COMP%]{color:#94a3b8;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{font-weight:600;color:#10b981}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#fafbff,#f8fafc 50%,#f1f5f9);border-radius:20px;padding:2rem;display:grid;grid-template-columns:auto 1fr auto;gap:2rem;align-items:center;transition:all .4s cubic-bezier(.25,.46,.45,.94);border:1px solid rgba(168,85,247,.08);box-shadow:0 4px 6px -1px #a855f70d,0 2px 4px -1px #a855f708,0 0 0 1px #a855f705;overflow:hidden;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.25,.46,.45,.94) both}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);opacity:0;transition:all .4s cubic-bezier(.25,.46,.45,.94);transform:scaleX(0);transform-origin:left}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#a855f705,#7c3aed03,#6d28d905);opacity:0;transition:opacity .4s ease;pointer-events:none}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#fef7ff,#faf5ff,#f3e8ff,#ede9fe,#e9d5ff);transform:translateY(-4px) scale(1.01);box-shadow:0 20px 25px -5px #a855f71a,0 10px 10px -5px #a855f70a,0 0 0 1px #a855f71a;border-color:#a855f726}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover:before{opacity:1;transform:scaleX(1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover:after{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.25rem;min-width:100px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#fff;box-shadow:0 8px 25px #00000026,0 4px 10px #0000001a,inset 0 1px #fff3;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(2deg);box-shadow:0 12px 35px #0003,0 6px 15px #00000026,inset 0 1px #ffffff4d;animation:_ngcontent-%COMP%_pulseGlow 2s infinite}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;width:100%}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:10px;background:linear-gradient(90deg,#f8fafc,#f1f5f9,#e2e8f0,#cbd5e1,#94a3b8);border-radius:6px;overflow:hidden;box-shadow:inset 0 2px 4px #0000001a,0 1px 2px #0000000d;position:relative}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.3) 0%,transparent 100%);border-radius:6px 6px 0 0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .6s cubic-bezier(.25,.46,.45,.94);box-shadow:0 2px 4px #0003,inset 0 1px #ffffff4d;position:relative}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.4) 0%,transparent 100%);border-radius:6px 6px 0 0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:800;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:.025em;text-shadow:0 1px 2px rgba(168,85,247,.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:900;background:linear-gradient(135deg,#0f172a,#1e293b,#334155,#475569,#64748b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;flex:1;min-width:0;word-wrap:break-word;overflow-wrap:break-word;transition:all .4s cubic-bezier(.25,.46,.45,.94);letter-spacing:-.025em;line-height:1.3}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;transform:translate(2px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);color:#fff;padding:.5rem 1.25rem;border-radius:30px;font-size:.9rem;font-weight:800;flex-shrink:0;box-shadow:0 4px 12px #a855f74d,0 2px 4px #a855f733,inset 0 1px #fff3;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]:hover{transform:scale(1.08) translateY(-1px);box-shadow:0 8px 20px #a855f766,0 4px 8px #a855f74d,inset 0 1px #ffffff4d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}@media (max-width: 768px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.5rem}}@media (max-width: 480px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.375rem}}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:1px solid rgba(168,85,247,.1);min-width:0;overflow:visible;flex-wrap:wrap;transition:all .3s ease;box-shadow:0 1px 3px #0000000d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border-color:#a855f733;transform:translateY(-1px);box-shadow:0 2px 8px #a855f71a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border-radius:8px;font-size:.75rem;font-weight:600;transition:all .3s ease;box-shadow:0 1px 3px #0000001a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc262626);color:#dc2626;border:1px solid rgba(239,68,68,.2)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef444426,#dc262633);transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#f59e0b26);color:#f59e0b;border:1px solid rgba(245,158,11,.2)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b26,#f59e0b33);transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e1a,#16a34a26);color:#16a34a;border:1px solid rgba(34,197,94,.2)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#22c55e26,#16a34a33);transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;min-width:120px;max-width:200px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:right}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.5rem;margin-right:12px;transition:all .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a855f7,#7c3aed);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;font-weight:500}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-up[_ngcontent-%COMP%]{color:#dc2626}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-down[_ngcontent-%COMP%]{color:#16a34a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-stable[_ngcontent-%COMP%]{color:#64748b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border:none;border-radius:12px;font-size:.9rem;font-weight:700;cursor:pointer;transition:all .4s cubic-bezier(.25,.46,.45,.94);white-space:nowrap;min-width:fit-content;flex-shrink:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #a855f74d,0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transform:scale(1.02)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 10px 25px -3px #a855f766,0 4px 6px -1px #a855f71a;background:linear-gradient(135deg,#9333ea,#7c3aed,#6d28d9,#5b21b6,#4c1d95)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(.98);box-shadow:0 4px 8px -1px #a855f74d,0 2px 4px -1px #a855f71a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f714,#7c3aed1f,#6d28d926,#5b21b62e,#4c1d9533);color:#7c3aed;border:1px solid rgba(168,85,247,.15)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a855f71f,#7c3aed29,#6d28d933,#5b21b63d,#4c1d9547);transform:translateY(-2px) scale(1.02);box-shadow:0 8px 20px -3px #a855f733,0 4px 6px -1px #a855f71a;border-color:#a855f740}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626,#b91c1c,#991b1b,#7f1d1d);color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 10px 25px -3px #ef444466,0 4px 6px -1px #ef44441a;background:linear-gradient(135deg,#dc2626,#b91c1c,#991b1b,#7f1d1d,#450a0a)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;transition:transform .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px dashed rgba(168,85,247,.3);opacity:.7;position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(168,85,247,.1) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 2s infinite}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border-color:#a855f780;opacity:.9;animation:_ngcontent-%COMP%_pulseGlow 2s infinite}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-right:1rem}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fffc;font-weight:500;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:700;color:#fff}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]{position:absolute;left:30px;top:-2rem;bottom:0;z-index:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]   .connector-line[_ngcontent-%COMP%]{width:3px;height:100%;background:linear-gradient(180deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);border-radius:2px;opacity:.7;box-shadow:0 0 10px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#fafbff,#f8fafc,#f1f5f9,#e2e8f0);border-radius:20px;padding:1.5rem 2rem;border:1px solid rgba(139,92,246,.08);box-shadow:0 4px 6px -1px #8b5cf60d,0 2px 4px -1px #8b5cf608,0 0 0 1px #8b5cf605;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;z-index:2;margin:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideInLeft .6s cubic-bezier(.25,.46,.45,.94) both}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);border-radius:20px 20px 0 0;opacity:0;transition:all .4s cubic-bezier(.25,.46,.45,.94);transform:scaleX(0);transform-origin:left}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#8b5cf605,#a855f703,#7c3aed05);opacity:0;transition:opacity .4s ease;pointer-events:none;border-radius:20px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#fef7ff,#faf5ff,#f3e8ff,#ede9fe,#e9d5ff);transform:translateY(-4px) scale(1.01);box-shadow:0 20px 25px -5px #8b5cf61a,0 10px 10px -5px #8b5cf60a,0 0 0 1px #8b5cf61a;border-color:#8b5cf626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover:before{opacity:1;transform:scaleX(1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover:after{opacity:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;margin-bottom:1.25rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 6px 20px #00000026,0 3px 8px #0000001a,inset 0 1px #fff3;flex-shrink:0;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(2deg);box-shadow:0 10px 30px #0003,0 5px 15px #00000026,inset 0 1px #ffffff4d;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover:before{opacity:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{flex:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;background:linear-gradient(135deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.375rem;letter-spacing:.025em}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-time[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:900;background:linear-gradient(135deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.375rem;letter-spacing:-.025em}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;padding:.375rem .75rem;border-radius:6px;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc262626);color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#f59e0b26);color:#f59e0b;border:1px solid rgba(245,158,11,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e1a,#16a34a26);color:#16a34a;border:1px solid rgba(34,197,94,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:800;background:linear-gradient(135deg,#0f172a,#1e293b,#334155,#475569,#64748b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1.25rem;line-height:1.6;letter-spacing:-.01em;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:1rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;padding:.5rem .75rem;background:linear-gradient(135deg,#8b5cf60d,#a855f70d);border-radius:8px;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);transform:translate(2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;min-width:60px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge.large-expense[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(139,92,246,.1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:none;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;height:2.75rem;justify-content:center}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf666}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf626,#a855f726);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf633}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef444426,#dc262626);transform:translateY(-2px);box-shadow:0 4px 12px #ef444433}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1.5rem;background:#f8fafc;border-radius:12px;border:1px dashed #cbd5e1;margin:1rem 0}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.75rem;opacity:.6;color:#64748b}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#475569;margin-bottom:.5rem;font-size:.9rem;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0;font-size:.8rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]{margin-top:1rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .2s ease;text-decoration:none;display:inline-block;cursor:pointer;font-size:.875rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 15px #3b82f64d;text-decoration:none;color:#fff}.empty-state.compact[_ngcontent-%COMP%]{padding:1.5rem 1rem;margin:.5rem 0}.empty-state.compact[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.empty-state.compact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.empty-state.compact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]{margin-bottom:2rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:1rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;height:180px;gap:.5rem;margin-bottom:1rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:4px 4px 0 0;position:relative;transition:all .2s ease;min-height:20px}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#1e293b;color:#fff;padding:.5rem;border-radius:6px;font-size:.75rem;white-space:nowrap;opacity:0;visibility:hidden;transition:all .2s ease;z-index:10}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#1e293b}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-day[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{opacity:.9}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-count[_ngcontent-%COMP%]{opacity:.8;font-size:.7rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:24px;height:24px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{flex:1}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.quick-actions-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:1.75rem;box-shadow:0 4px 20px #8b5cf614,0 8px 32px #0000000a,inset 0 1px #fffc;border:1px solid rgba(139,92,246,.08);margin-top:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .5s both}.quick-actions-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.quick-actions-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:.025em}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.25rem}@media (max-width: 768px){.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.875rem}}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffffe6,#f8fafce6);border:1px solid rgba(139,92,246,.1);border-radius:16px;padding:1.25rem;display:flex;align-items:center;gap:.875rem;transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer;text-decoration:none;color:inherit;height:100%;width:100%;position:relative;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 20px #8b5cf60d,0 8px 32px #00000008,inset 0 1px #fffc}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#a855f7,#7c3aed,#6d28d9);opacity:0;transition:opacity .3s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(168,85,247,.03) 50%,transparent 70%);transform:rotate(45deg) translate(-100%);transition:transform .6s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #8b5cf61f,0 20px 60px #0000000f,inset 0 1px #ffffffe6;border-color:#8b5cf626;text-decoration:none;color:inherit}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover:before{opacity:1}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover:after{transform:rotate(45deg) translate(100%)}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.75rem;flex-shrink:0;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:50px;height:50px;background:radial-gradient(circle,rgba(168,85,247,.1) 0%,transparent 70%);border-radius:50%;transform:translate(-50%,-50%) scale(0);transition:transform .3s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:hover:before{transform:translate(-50%,-50%) scale(1)}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{flex:1;text-align:left}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:700;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:left;letter-spacing:.025em;transition:all .3s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:left;font-weight:500;letter-spacing:.025em}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe)}.smart-header[_ngcontent-%COMP%]{padding:1.5rem}.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{margin-left:.25rem;gap:.375rem;padding:.375rem;max-width:240px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]{gap:.25rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-size:.65rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{padding:.25rem 1.25rem .25rem .375rem;font-size:.75rem;min-width:60px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{min-width:60px;max-width:75px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{min-width:50px;max-width:65px}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:center}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;flex:1;min-width:120px}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{flex-direction:column}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]{width:48px;height:48px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.125rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.75rem}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:2rem;border-radius:18px}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{gap:1rem;margin-bottom:1.75rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2.25rem;margin-bottom:.875rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.875rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:1rem}.insights-section[_ngcontent-%COMP%]{padding:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}}@media (max-width: 768px) and (max-width: 1200px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:auto 1fr;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{grid-column:1/-1;flex-direction:row;justify-content:space-between;align-items:center;max-width:none;margin-top:1rem}}@media (max-width: 768px) and (max-width: 768px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{justify-self:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;margin-top:.75rem}}@media (max-width: 768px){.quick-actions-panel[_ngcontent-%COMP%]{padding:1.5rem}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem;padding:.75rem;background:linear-gradient(135deg,#8b5cf605,#a855f705);border:1px solid rgba(139,92,246,.1);border-radius:12px;box-shadow:0 2px 8px #8b5cf614;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60d,#a855f70d);transform:translateY(-2px);box-shadow:0 4px 16px #8b5cf626}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{align-self:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.25rem;box-shadow:0 2px 8px #8b5cf633;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #8b5cf64d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{margin-top:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px;background:#8b5cf61a;border-radius:2px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.7rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{text-align:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.7rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;border-radius:6px;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{justify-content:center;gap:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:.375rem;background:linear-gradient(135deg,#8b5cf60d,#a855f70d);border-radius:6px;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);transform:translate(2px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#8b5cf6}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.75rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem;border-radius:6px;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #8b5cf633}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{align-items:center;text-align:center;min-width:auto}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:center;margin-bottom:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.375rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.7rem;min-width:auto;border-radius:8px;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 2px 8px #8b5cf64d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf666}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;align-items:flex-start}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]{margin-right:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,#8b5cf605,#a855f705);border:1px solid rgba(139,92,246,.1);border-radius:12px;box-shadow:0 2px 8px #8b5cf614;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60d,#a855f70d);transform:translateY(-2px);box-shadow:0 4px 16px #8b5cf626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;gap:.75rem;align-items:center;margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.25rem;flex-shrink:0;box-shadow:0 2px 8px #8b5cf633;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{text-align:left;min-width:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.25rem;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.25rem;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.25rem .5rem;border-radius:4px;display:inline-block}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.75rem;line-height:1.4;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:linear-gradient(135deg,#8b5cf60d,#a855f70d);border-radius:6px;border:1px solid rgba(139,92,246,.1);transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);transform:translate(2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1rem;color:#8b5cf6;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;min-width:50px;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge.large-expense[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #8b5cf633}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(139,92,246,.1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;border:none;border-radius:8px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;justify-content:center;white-space:nowrap;min-width:fit-content}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 2px 8px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf666}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#8b5cf633;transform:translateY(-2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:translateY(-2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]{padding:.5rem}.smart-header[_ngcontent-%COMP%]{padding:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.5rem;gap:.5rem;background:linear-gradient(135deg,#8b5cf608,#a855f708);border:1px solid rgba(139,92,246,.12);border-radius:10px;box-shadow:0 1px 6px #8b5cf61a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60f,#a855f70f);transform:translateY(-1px);box-shadow:0 3px 12px #8b5cf62e}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.125rem;box-shadow:0 1px 6px #8b5cf640}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 2px 10px #8b5cf659}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;background:#8b5cf61f}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.65rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.9rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{padding:.15rem .375rem;font-size:.65rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;border-radius:5px;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:.25rem;background:linear-gradient(135deg,#8b5cf60f,#a855f70f);border-radius:5px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61f,#a855f71f);transform:translate(1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:.8rem;color:#8b5cf6}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.7rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.15rem .25rem;font-size:.65rem;border-radius:5px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 1px 6px #8b5cf640}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.65rem;border-radius:6px;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 1px 6px #8b5cf659}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-1px);box-shadow:0 2px 10px #8b5cf673}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{padding:.5rem;background:linear-gradient(135deg,#8b5cf608,#a855f708);border:1px solid rgba(139,92,246,.12);border-radius:10px;box-shadow:0 1px 6px #8b5cf61a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60f,#a855f70f);transform:translateY(-1px);box-shadow:0 3px 12px #8b5cf62e}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto;gap:.5rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.125rem;box-shadow:0 1px 6px #8b5cf640}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 2px 10px #8b5cf659}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.125rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.125rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.375rem;margin-bottom:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:.375rem;background:linear-gradient(135deg,#8b5cf60f,#a855f70f);border-radius:5px;border:1px solid rgba(139,92,246,.12)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61f,#a855f71f);transform:translate(1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.8rem;min-width:50px;color:#64748b;font-weight:600}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.8rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{gap:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem;border-radius:5px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 1px 6px #8b5cf640}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{gap:.375rem;margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(139,92,246,.12)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.7rem;min-width:70px;border-radius:6px;font-weight:600}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 1px 6px #8b5cf659}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-1px);box-shadow:0 2px 10px #8b5cf673}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#8b5cf633;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}}.summary-grid[_ngcontent-%COMP%]{gap:1rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:16px;background:linear-gradient(135deg,#fffffffa,#f8fafcfa);border:1px solid rgba(139,92,246,.1);box-shadow:0 2px 12px #8b5cf614,0 4px 20px #00000008,inset 0 1px #ffffffe6}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 8px 25px #8b5cf61f,0 12px 35px #0000000d,inset 0 1px #fffffff2;border-color:#8b5cf62e}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{gap:.875rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.75rem;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(3deg);filter:drop-shadow(0 2px 8px rgba(168,85,247,.25))}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.95rem;background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600;letter-spacing:.02em}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2rem;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800;margin-bottom:.75rem;letter-spacing:-.01em;line-height:1.1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8rem;border-radius:10px;font-weight:600}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc26261a,#ef44441a);border:1px solid rgba(220,38,38,.2);color:#dc2626}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseGlow 2s infinite}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a1a,#22c55e1a);border:1px solid rgba(22,163,74,.2);color:#16a34a}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b1a,#94a3b81a);border:1px solid rgba(100,116,139,.2);color:#64748b}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 2s infinite}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:.95rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.02em}`]})};var OK=n=>({background:n});function IK(n,e){n&1&&(f(0,"div",35)(1,"div",36),pt(2,"div",37),f(3,"p",38),p(4,"Loading expenses..."),h()()())}function SK(n,e){if(n&1&&(f(0,"option",61),p(1),h()),n&2){let t=e.$implicit;S("value",t.id),y(),sn(" ",t.icon," ",t.name," ")}}function DK(n,e){if(n&1){let t=se();f(0,"button",62),B("click",function(){L(t);let i=P(2);return V(i.clearCategory())}),p(1," \u2715 "),h()}}function TK(n,e){if(n&1&&(f(0,"span",32),p(1),h()),n&2){let t=P(2);y(),H(t.isEditMode?"\u{1F4BE}":"\u2795")}}function AK(n,e){n&1&&(f(0,"span",32),p(1,"\u23F3"),h())}function kK(n,e){if(n&1){let t=se();f(0,"button",63),B("click",function(){L(t);let i=P(2);return V(i.cancelEdit())}),f(1,"span",32),p(2,"\u274C"),h(),f(3,"span",33),p(4,"Cancel"),h()()}}function RK(n,e){if(n&1){let t=se();f(0,"div",39)(1,"div",12)(2,"div",4)(3,"span",14),p(4),h(),f(5,"h5",8),p(6),h()()(),f(7,"div",16)(8,"form",40,0),B("ngSubmit",function(){L(t);let i=P();return V(i.addExpense())}),f(10,"div",41)(11,"div",42)(12,"label",43),p(13,"Amount"),h(),f(14,"div",44)(15,"span",45),p(16,"\u20B9"),h(),f(17,"input",46),de("ngModelChange",function(i){L(t);let o=P();return he(o.amountInput,i)||(o.amountInput=i),V(i)}),B("input",function(i){L(t);let o=P();return V(o.onAmountInput(i))})("keypress",function(i){L(t);let o=P();return V(o.onAmountKeypress(i))}),h()()(),f(18,"div",42)(19,"label",47),p(20,"Date"),h(),f(21,"input",48),de("ngModelChange",function(i){L(t);let o=P();return he(o.newExpense.date,i)||(o.newExpense.date=i),V(i)}),h()(),f(22,"div",42)(23,"label",49),p(24,"Category"),h(),f(25,"div",50)(26,"select",51),de("ngModelChange",function(i){L(t);let o=P();return he(o.newExpense.categoryId,i)||(o.newExpense.categoryId=i),V(i)}),f(27,"option",52),p(28,"\u{1F3F7}\uFE0F Select a category"),h(),q(29,SK,2,3,"option",22),h(),q(30,DK,2,0,"button",53),h()(),f(31,"div",42)(32,"label",54),p(33,"Description"),h(),f(34,"input",55),de("ngModelChange",function(i){L(t);let o=P();return he(o.newExpense.description,i)||(o.newExpense.description=i),V(i)}),h()(),f(35,"div",56)(36,"label",30),p(37,"\xA0"),h(),f(38,"div",57)(39,"button",58),q(40,TK,2,1,"span",59)(41,AK,2,0,"span",59),f(42,"span",33),p(43),h()(),q(44,kK,5,0,"button",60),h()()()()()()}if(n&2){let t=P();y(4),H(t.isEditMode?"\u270F\uFE0F":"\u2795"),y(2),H(t.isEditMode?"Edit Expense":"Add New Expense"),y(11),ue("ngModel",t.amountInput),y(4),ue("ngModel",t.newExpense.date),S("max",t.getMaxDate()),y(5),ue("ngModel",t.newExpense.categoryId),y(),S("selected",!t.newExpense.categoryId),y(2),S("ngForOf",t.categories),y(),S("ngIf",t.newExpense.categoryId),y(4),ue("ngModel",t.newExpense.description),y(5),S("disabled",!t.isFormValid()||t.isSaving),y(),S("ngIf",!t.isSaving),y(),S("ngIf",t.isSaving),y(2),H(t.isSaving?"Saving...":t.isEditMode?"Save Changes":"Add Expense"),y(),S("ngIf",t.isEditMode)}}function NK(n,e){if(n&1){let t=se();f(0,"div",64)(1,"span",65),p(2),f(3,"button",66),B("click",function(){L(t);let i=P();return V(i.clearCategoryFilter())}),p(4," \u2715 "),h()()()}if(n&2){let t=P();y(2),sn(" ",t.getCategoryIcon(t.filterCategory)," ",t.getCategoryName(t.filterCategory)," ")}}function FK(n,e){if(n&1&&(f(0,"option",61),p(1),h()),n&2){let t=e.$implicit;S("value",t.id),y(),sn("",t.icon," ",t.name)}}function LK(n,e){if(n&1){let t=se();f(0,"div",76)(1,"div",77)(2,"div",78),p(3),Ve(4,"currency"),h(),f(5,"div",79)(6,"span",80),p(7),h()()(),f(8,"div",81)(9,"div",82),p(10),Ve(11,"date"),h(),f(12,"div",83),p(13),h()(),f(14,"div",84)(15,"button",85),B("click",function(){let i=L(t).$implicit,o=P(3);return V(o.editExpense(i))}),f(16,"span",86),p(17,"\u270F\uFE0F"),h()(),f(18,"button",87),B("click",function(){let i=L(t).$implicit,o=P(3);return V(o.deleteExpense(i))}),f(19,"span",86),p(20,"\u{1F5D1}\uFE0F"),h()()()()}if(n&2){let t=e.$implicit,r=e.index,i=P(3);_n("animation-delay",r*.1+"s"),y(3),H(Dt(4,8,t.amount,"INR")),y(3),S("ngStyle",Lu(13,OK,i.getCategoryColor(t.categoryId))),y(),sn(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),y(3),H(yn(11,11,t.date)),y(3),H(t.description||"No description")}}function VK(n,e){if(n&1&&(f(0,"div",74),q(1,LK,21,15,"div",75),h()),n&2){let t=P(2);y(),S("ngForOf",t.getPaginatedExpenses())}}function jK(n,e){n&1&&(f(0,"div",88)(1,"div",89),p(2,"\u{1F4CB}"),h(),f(3,"h6"),p(4,"No expenses found"),h(),f(5,"p"),p(6,"Add your first expense using the form above!"),h()())}function UK(n,e){if(n&1){let t=se();f(0,"div",90)(1,"div",91)(2,"div",92)(3,"span",93),p(4),h()(),f(5,"div",94)(6,"div",95)(7,"button",96),B("click",function(){L(t);let i=P(2);return V(i.goToPage(i.currentPage-1))}),p(8," \u2190 Previous "),h(),f(9,"span",97),p(10),h(),f(11,"button",98),B("click",function(){L(t);let i=P(2);return V(i.goToPage(i.currentPage+1))}),p(12," Next \u2192 "),h()()()()()}if(n&2){let t=P(2);y(4),Dc(" Showing ",t.getStartIndex()+1," to ",t.getEndIndex()," of ",t.getFilteredExpenses().length," expenses "),y(3),S("disabled",t.currentPage===1),y(3),sn(" Page ",t.currentPage," of ",t.getTotalPages()," "),y(),S("disabled",t.currentPage===t.getTotalPages())}}function BK(n,e){if(n&1&&(f(0,"div",67)(1,"div",12)(2,"div",68)(3,"div",4)(4,"span",14),p(5,"\u{1F4CB}"),h(),f(6,"h5",8),p(7,"All Expenses"),h()(),f(8,"div",69)(9,"div",70),p(10),Ve(11,"currency"),h(),f(12,"div",71),p(13),h()()()(),f(14,"div",16),q(15,VK,2,1,"div",72)(16,jK,7,0,"ng-template",null,1,MC),h(),f(18,"div",16),q(19,UK,13,7,"div",73),h()()),n&2){let t=kr(17),r=P();y(10),H(Dt(11,5,r.getTotalAmount(),"INR")),y(3),re("",r.getFilteredExpenses().length," expenses"),y(2),S("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",t),y(4),S("ngIf",r.getFilteredExpenses().length>r.itemsPerPage)}}var H_=class n{constructor(e,t,r,i,o,s,a){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.filterStateService=i;this.dialogService=o;this.router=s;this.route=a}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};amountInput="";filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";dashboardPeriod="all";dashboardMonth="";dashboardYear="";dashboardStartDate="";dashboardEndDate="";dashboardMonthOnly="";dashboardYearOnly="";isEditMode=!1;editingExpenseId="";currentPage=1;itemsPerPage=10;isLoading=!0;isSaving=!1;subscription=new ze;ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.edit,r=e.mode,i=e.category,o=e.filter;t&&r==="edit"&&(this.isEditMode=!0,this.editingExpenseId=t,console.log("Edit mode activated for expense:",t)),i&&o==="category"&&(this.filterCategory=i,console.log("Category filter applied:",i))}),this.loadDashboardFilterState(),this.subscription.add(this.filterStateService.filterState$.subscribe(e=>{console.log("Filter state changed in expenses component:",e),this.loadDashboardFilterState()})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,console.log(`Received ${e.length} expenses from Firebase`),this.isEditMode&&this.editingExpenseId&&this.loadExpenseForEditing()})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadDashboardFilterState(){let e=this.filterStateService.getFilterState();if(console.log("Loading dashboard filter state from service:",e),this.dashboardPeriod=e.selectedPeriod,this.dashboardMonth=e.selectedMonth,this.dashboardYear=e.selectedYear,this.dashboardStartDate=e.customStartDate,this.dashboardEndDate=e.customEndDate,this.dashboardMonthOnly=e.selectedMonthOnly||"",this.dashboardYearOnly=e.selectedYearOnly||"",this.dashboardPeriod==="custom"&&this.dashboardStartDate&&this.dashboardEndDate)this.filterDateFrom=this.dashboardStartDate,this.filterDateTo=this.dashboardEndDate,console.log("Populated expenses page date filters with dashboard custom range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo});else if(this.dashboardPeriod==="monthly"&&this.dashboardMonth&&this.dashboardYear){let t=parseInt(this.dashboardMonth),r=parseInt(this.dashboardYear),i=new Date(r,t,1),o=new Date(r,t+1,0);this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard monthly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="yearly"&&this.dashboardYear){let t=parseInt(this.dashboardYear),r=new Date(t,0,1),i=new Date(t,11,31);this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=i.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard yearly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last30"){let t=new Date,r=new Date;r.setDate(t.getDate()-30),this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=t.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 30 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last7"){let t=new Date,r=new Date;r.setDate(t.getDate()-7),this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=t.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 7 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="monthOnly"&&this.dashboardMonthOnly&&this.dashboardYearOnly){let t=parseInt(this.dashboardMonthOnly),r=parseInt(this.dashboardYearOnly),i=new Date(Date.UTC(r,t,1)),o=new Date(Date.UTC(r,t+1,0));this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard month only range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}console.log("Dashboard filter state loaded into expenses component:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly})}loadData(){return b(this,null,function*(){try{this.isLoading=!0,console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{this.isLoading=!1}})}loadExpenseForEditing(){let e=this.expenses.find(t=>t.id===this.editingExpenseId);e?(this.newExpense=z({},e),this.amountInput=e.amount.toString(),console.log("Loaded expense for editing:",e)):(console.error("Expense not found for editing:",this.editingExpenseId),this.isEditMode=!1,this.editingExpenseId="")}addExpense(){return b(this,null,function*(){if(yield this.validateExpense())try{this.isSaving=!0,this.isEditMode?yield this.saveExpenseChanges():yield this.createNewExpense()}finally{this.isSaving=!1}})}createNewExpense(){return b(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){yield this.dialogService.warning("Please enter a valid amount greater than 0.");return}let t={description:this.newExpense.description,amount:e,date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||"",createdAt:new Date().toISOString()},r=yield this.expenseService.add(t);console.log(`Expense added with Firebase ID: ${r}`),this.resetForm(),yield this.dialogService.success("Expense added successfully!"),yield this.checkAchievements()}catch(e){console.error("Error adding expense:",e),yield this.dialogService.error("Error adding expense. Please try again.")}})}saveExpenseChanges(){return b(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){yield this.dialogService.warning("Please enter a valid amount greater than 0.");return}let t=fe(z({},this.newExpense),{amount:e});yield this.expenseService.update(t),console.log("Expense updated successfully"),this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),yield this.dialogService.success("Expense updated successfully!"),this.router.navigate(["/expenses"])}catch(e){console.error("Error updating expense:",e),yield this.dialogService.error("Error updating expense. Please try again.")}})}cancelEdit(){this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}editExpense(e){return b(this,null,function*(){try{let t=yield this.dialogService.prompt("Enter expense description:","Edit Expense",e.description,"text","Enter description...","Description");if(t===null)return;let r=yield this.dialogService.prompt("Enter expense amount:","Edit Expense",e.amount.toString(),"number","Enter amount...","Amount (\u20B9)");if(r===null)return;let i=yield this.dialogService.prompt("Enter expense date:","Edit Expense",e.date,"date","","Date");if(i===null)return;let o=this.categories.map(x=>({value:x.id,label:x.name,icon:x.icon})),s=yield this.dialogService.select("Select a category:","Edit Expense",o,e.categoryId);if(s===null)return;let a=parseFloat(r);if(isNaN(a)||a<=0){yield this.dialogService.error("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){yield this.dialogService.error("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let u=new Date(i),d=new Date;if(u.setHours(0,0,0,0),d.setHours(0,0,0,0),u>d){yield this.dialogService.error("Cannot edit expenses to future dates. Please select today's date or a past date.");return}let m=this.categories.find(x=>x.id===s);if(!m){yield this.dialogService.error(`Error: Category with ID "${s}" does not exist. Please select a valid category from the list.`);return}let v=fe(z({},e),{description:t,amount:a,date:i,categoryId:s});yield this.expenseService.update(v);let C=`Expense updated successfully!

Description: ${t}
Amount: \u20B9${a}
Date: ${i}
Category: ${m.icon} ${m.name}`;yield this.dialogService.success(C)}catch(t){console.error("Error editing expense:",t),yield this.dialogService.error("Error updating expense. Please try again.")}})}deleteExpense(e){return b(this,null,function*(){if(yield this.dialogService.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`,"Delete Expense"))try{yield this.expenseService.delete(e.id),yield this.dialogService.success("Expense deleted successfully!")}catch(r){console.error("Error deleting expense:",r),yield this.dialogService.error("Error deleting expense. Please try again.")}})}validateExpense(){return b(this,null,function*(){if(!this.newExpense.description?.trim())return yield this.dialogService.warning("Please enter a description."),!1;let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0)return yield this.dialogService.warning("Please enter a valid amount greater than 0."),!1;if(!this.newExpense.categoryId)return yield this.dialogService.warning("Please select a category."),!1;if(!this.newExpense.date)return yield this.dialogService.warning("Please select a date."),!1;let t=new Date(this.newExpense.date),r=new Date;return t.setHours(0,0,0,0),r.setHours(0,0,0,0),t>r?(yield this.dialogService.warning("Cannot add expenses for future dates. Please select today's date or a past date."),!1):!0})}isFormValid(){let e=parseFloat(this.amountInput);return!!(this.newExpense.description?.trim()&&this.amountInput&&!isNaN(e)&&e>0&&this.newExpense.categoryId&&this.newExpense.date)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""},this.amountInput=""}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e=this.applyDashboardFilters(e),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}applyDashboardFilters(e){if(console.log("Applying dashboard filters:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly,totalExpenses:e.length}),!this.dashboardPeriod||this.dashboardPeriod==="all")return console.log("No dashboard filter active, returning all expenses"),e;let t=new Date;switch(this.dashboardPeriod){case"monthly":if(this.dashboardMonth&&this.dashboardYear){let a=parseInt(this.dashboardMonth),c=parseInt(this.dashboardYear);console.log("Applying monthly filter:",{month:a,year:c});let u=e.filter(d=>{let m=new Date(d.date);return m.getMonth()===a&&m.getFullYear()===c});return console.log(`Monthly filter: ${e.length} -> ${u.length} expenses`),u}console.log("Monthly filter: missing month or year");break;case"yearly":if(this.dashboardYear){let a=parseInt(this.dashboardYear);console.log("Applying yearly filter:",{year:a});let c=e.filter(u=>new Date(u.date).getFullYear()===a);return console.log(`Yearly filter: ${e.length} -> ${c.length} expenses`),c}console.log("Yearly filter: missing year");break;case"last30":let r=new Date;r.setDate(t.getDate()-30),console.log("Applying last 30 days filter:",{thirtyDaysAgo:r});let i=e.filter(a=>new Date(a.date)>=r);return console.log(`Last 30 days filter: ${e.length} -> ${i.length} expenses`),i;case"last7":let o=new Date;o.setDate(t.getDate()-7),console.log("Applying last 7 days filter:",{sevenDaysAgo:o});let s=e.filter(a=>new Date(a.date)>=o);return console.log(`Last 7 days filter: ${e.length} -> ${s.length} expenses`),s;case"custom":if(this.dashboardStartDate&&this.dashboardEndDate){console.log("Applying custom date range filter:",{startDate:this.dashboardStartDate,endDate:this.dashboardEndDate});let a=e.filter(c=>{let u=new Date(c.date),d=new Date(this.dashboardStartDate),m=new Date(this.dashboardEndDate);return u>=d&&u<=m});return console.log(`Custom filter: ${e.length} -> ${a.length} expenses`),a}console.log("Custom date range filter: missing start or end date");break;case"monthOnly":if(this.dashboardMonthOnly&&this.dashboardYearOnly){let a=parseInt(this.dashboardMonthOnly),c=parseInt(this.dashboardYearOnly);console.log("Applying month only filter:",{month:a,year:c});let u=e.filter(d=>{let m=new Date(d.date);return m.getMonth()===a&&m.getFullYear()===c});return console.log(`Month only filter: ${e.length} -> ${u.length} expenses`),u}console.log("Month only filter: missing month or year");break}return console.log("No matching dashboard filter, returning all expenses"),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getMonthName(e){let t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=parseInt(e);return t[r]||"Unknown"}clearDashboardFilters(){this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.filterDateFrom="",this.filterDateTo="";let e=this.route.snapshot.queryParams;this.router.navigate([],{queryParams:{category:e.category,filter:e.filter},replaceUrl:!0})}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo="",this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.resetPagination(),this.router.navigate([],{queryParams:{},replaceUrl:!0})}clearCategoryFilter(){this.filterCategory="",this.resetPagination(),this.router.navigate([],{queryParams:{},queryParamsHandling:"merge"})}onCategoryFilterChange(){this.resetPagination()}clearCategory(){this.newExpense.categoryId=""}onAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.amountInput=r}onAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}onFilterAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.filterAmount=r,this.resetPagination()}onFilterAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){return b(this,null,function*(){let e=this.expenses.length;e===10?yield this.dialogService.success("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?yield this.dialogService.success("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&(yield this.dialogService.success("Incredible! You've logged 100 expenses. You're a financial tracking master!"));let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1});for(let[r,i]of Object.entries(t))if(i===10){let o=this.getCategoryName(r);yield this.dialogService.success(`${o} mastery achieved! You've logged 10 expenses in this category.`)}yield this.checkDailyStreak()})}checkDailyStreak(){return b(this,null,function*(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&(yield this.dialogService.success(`Daily streak of ${o} days achieved! Keep it up!`))}})}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}validateCategoryExists(e){return this.categories.some(t=>t.id===e)}getCategoryById(e){return this.categories.find(r=>r.id===e)||null}getExpensesWithUnknownCategories(){return this.expenses.filter(e=>!this.categories.find(t=>t.id===e.categoryId))}getUnknownCategoryCount(){return this.getExpensesWithUnknownCategories().length}getMaxDate(){return new Date().toISOString().split("T")[0]}onFromDateChange(){this.filterDateTo&&this.filterDateFrom&&this.filterDateTo<this.filterDateFrom&&(this.filterDateTo=""),this.resetPagination()}onToDateChange(){this.filterDateFrom&&this.filterDateTo&&this.filterDateTo<this.filterDateFrom&&(this.dialogService.warning("To Date cannot be earlier than From Date. Please select a valid date range."),this.filterDateTo=""),this.resetPagination()}getPaginatedExpenses(){let e=this.getFilteredExpenses(),t=this.getStartIndex(),r=this.getEndIndex();return e.slice(t,r)}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage}getEndIndex(){let e=this.getFilteredExpenses();return Math.min(this.currentPage*this.itemsPerPage,e.length)}getTotalPages(){let e=this.getFilteredExpenses();return Math.ceil(e.length/this.itemsPerPage)}goToPage(e){let t=this.getTotalPages();e>=1&&e<=t&&(this.currentPage=e)}resetPagination(){this.currentPage=1}static \u0275fac=function(t){return new(t||n)(G(Ni),G(Fi),G(zn),G(Fl),G(Mr),G(Xe),G(jn))};static \u0275cmp=at({type:n,selectors:[["app-expenses"]],decls:52,vars:14,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"mb-0"],["class","loading-container",4,"ngIf"],["class","add-expense-card mb-4",4,"ngIf"],[1,"filters-card","mb-4"],[1,"card-header-modern"],[1,"d-flex","align-items-center","justify-content-between"],[1,"header-icon-small","me-2"],["class","active-filter-indicator",4,"ngIf"],[1,"card-body-modern"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","change","ngModel","max"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","change","ngModel","max","min"],["for","filterAmount",1,"form-label-modern"],["type","text","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],[1,"filter-group","button-group"],[1,"form-label-modern"],["type","button",1,"btn-clear-filters",3,"click"],[1,"btn-icon"],[1,"btn-text"],["class","expenses-list-card",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"add-expense-card","mb-4"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","text","id","expenseAmount","placeholder","0.00","name","amount","required","",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel","max"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"d-flex","gap-2"],["type","submit",1,"btn-add-expense",3,"disabled"],["class","btn-icon",4,"ngIf"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],["type","button",1,"btn-cancel",3,"click"],[1,"active-filter-indicator"],[1,"filter-badge"],["title","Clear category filter",1,"clear-filter-btn",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],["class","pagination-controls mb-3",4,"ngIf"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"],[1,"pagination-controls","mb-3"],[1,"pagination-layout"],[1,"pagination-info"],[1,"text-muted"],[1,"pagination-navigation"],[1,"pagination-buttons"],["type","button","title","Previous page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"page-info"],["type","button","title","Next page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"]],template:function(t,r){t&1&&(f(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),p(5,"\u{1F4B8}"),h()(),f(6,"div")(7,"h1",7),p(8),h(),f(9,"p",8),p(10),h()()()(),q(11,IK,5,0,"div",9)(12,RK,45,15,"div",10),f(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",4)(17,"span",14),p(18,"\u{1F50D}"),h(),f(19,"h5",8),p(20,"Filters"),h()(),q(21,NK,5,2,"div",15),h()(),f(22,"div",16)(23,"div",17)(24,"div",18)(25,"label",19),p(26,"Category"),h(),f(27,"select",20),de("ngModelChange",function(o){return he(r.filterCategory,o)||(r.filterCategory=o),o}),B("change",function(){return r.onCategoryFilterChange()}),f(28,"option",21),p(29,"\u{1F3F7}\uFE0F All Categories"),h(),q(30,FK,2,3,"option",22),h()(),f(31,"div",18)(32,"label",23),p(33,"From Date"),h(),f(34,"input",24),de("ngModelChange",function(o){return he(r.filterDateFrom,o)||(r.filterDateFrom=o),o}),B("change",function(){return r.onFromDateChange()}),h()(),f(35,"div",18)(36,"label",25),p(37,"To Date"),h(),f(38,"input",26),de("ngModelChange",function(o){return he(r.filterDateTo,o)||(r.filterDateTo=o),o}),B("change",function(){return r.onToDateChange()}),h()(),f(39,"div",18)(40,"label",27),p(41,"Min Amount"),h(),f(42,"input",28),de("ngModelChange",function(o){return he(r.filterAmount,o)||(r.filterAmount=o),o}),B("input",function(o){return r.onFilterAmountInput(o)})("keypress",function(o){return r.onFilterAmountKeypress(o)}),h()(),f(43,"div",29)(44,"label",30),p(45,"\xA0"),h(),f(46,"button",31),B("click",function(){return r.clearFilters()}),f(47,"span",32),p(48,"\u{1F504}"),h(),f(49,"span",33),p(50,"Clear Filters"),h()()()()()(),q(51,BK,20,8,"div",34),h()),t&2&&(y(8),re(" ",r.filterCategory&&r.getCategoryName(r.filterCategory)?r.getCategoryName(r.filterCategory)+" Expenses":"Expenses"," "),y(2),re(" ",r.filterCategory&&r.getCategoryName(r.filterCategory)?"Viewing expenses for "+r.getCategoryName(r.filterCategory):"Track and manage your daily expenses"," "),y(),S("ngIf",r.isLoading),y(),S("ngIf",!r.isLoading),y(9),S("ngIf",r.filterCategory&&r.getCategoryName(r.filterCategory)),y(6),ue("ngModel",r.filterCategory),y(3),S("ngForOf",r.categories),y(4),ue("ngModel",r.filterDateFrom),S("max",r.getMaxDate()),y(4),ue("ngModel",r.filterDateTo),S("max",r.getMaxDate())("min",r.filterDateFrom),y(4),ue("ngModel",r.filterAmount),y(9),S("ngIf",!r.isLoading))},dependencies:[lt,Vn,_t,Wu,jt,wr,Ps,Os,Lt,ki,Vt,br,nr,Pt,tr,Gu,sa],styles:[`.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #9b6b9b;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.loading-text[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#666}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pagination-controls[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1rem;border:1px solid #e9ecef;margin-bottom:1.5rem}.pagination-layout[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;flex-shrink:0}.pagination-navigation[_ngcontent-%COMP%]{flex-shrink:0}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.page-info[_ngcontent-%COMP%]{font-weight:600;color:#495057;font-size:.9rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease;min-width:80px;white-space:nowrap}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:.8rem;cursor:pointer;padding:.2rem;border-radius:50%;transition:all .2s ease}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.1)}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:visible;text-overflow:unset;white-space:normal;line-height:1.3;margin-top:.25rem;text-align:center;width:100%;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.pagination-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.pagination-info[_ngcontent-%COMP%]{text-align:center;order:1}.pagination-navigation[_ngcontent-%COMP%]{order:2}.pagination-buttons[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.75rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;padding:.5rem 1rem;font-size:.9rem}.page-info[_ngcontent-%COMP%]{order:2;text-align:center;width:100%;margin:.5rem 0}.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.pagination-controls[_ngcontent-%COMP%]{padding:.75rem}.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:center}.page-info[_ngcontent-%COMP%]{order:1;margin-bottom:.5rem}.pagination-info[_ngcontent-%COMP%]{font-size:.8rem}.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var $K=n=>({background:n});function zK(n,e){n&1&&(f(0,"div",43)(1,"div",44),pt(2,"div",45),f(3,"p",46),p(4,"Loading categories..."),h()()())}function HK(n,e){if(n&1&&(f(0,"div",50)(1,"div",51),p(2),h(),f(3,"div",52)(4,"div",53),p(5),h(),f(6,"div",54),p(7),h()()()),n&2){let t=e.$implicit;y(2),H(t.icon),y(3),H(t.value),y(2),H(t.title)}}function qK(n,e){if(n&1&&(f(0,"div",47)(1,"div",48)(2,"h3"),p(3,"\u{1F4CA} Category Analytics"),h()(),f(4,"div",49)(5,"div",50)(6,"div",51),p(7,"\u{1F4C2}"),h(),f(8,"div",52)(9,"div",53),p(10),h(),f(11,"div",54),p(12,"Total Categories"),h()()(),f(13,"div",50)(14,"div",51),p(15,"\u2705"),h(),f(16,"div",52)(17,"div",53),p(18),h(),f(19,"div",54),p(20,"Used Categories"),h()()(),f(21,"div",50)(22,"div",51),p(23,"\u274C"),h(),f(24,"div",52)(25,"div",53),p(26),h(),f(27,"div",54),p(28,"Unused Categories"),h()()(),q(29,HK,8,3,"div",55),h()()),n&2){let t=P();y(10),H(t.totalCategories),y(8),H(t.usedCategories),y(8),H(t.unusedCategories),y(3),S("ngForOf",t.getAnalyticsInsights())}}function WK(n,e){n&1&&(f(0,"div",56)(1,"span",57),p(2,"\u26A0\uFE0F"),h(),p(3," Category name already exists! "),h())}function GK(n,e){if(n&1){let t=se();f(0,"div",58)(1,"div",59)(2,"h3"),p(3,"\u{1F50D} Search & Filter"),h(),f(4,"button",60),B("click",function(){L(t);let i=P();return V(i.clearSearch())}),p(5,"Clear All"),h()(),f(6,"div",61)(7,"div",62)(8,"label",63),p(9,"Search"),h(),f(10,"input",64),de("ngModelChange",function(i){L(t);let o=P();return he(o.searchTerm,i)||(o.searchTerm=i),V(i)}),h()(),f(11,"div",65)(12,"label",66),p(13,"Usage"),h(),f(14,"select",67),de("ngModelChange",function(i){L(t);let o=P();return he(o.filterByUsage,i)||(o.filterByUsage=i),V(i)}),f(15,"option",68),p(16,"All Categories"),h(),f(17,"option",69),p(18,"Used Only"),h(),f(19,"option",70),p(20,"Unused Only"),h()()(),f(21,"div",65)(22,"label",71),p(23,"Sort By"),h(),f(24,"select",72),de("ngModelChange",function(i){L(t);let o=P();return he(o.sortBy,i)||(o.sortBy=i),V(i)}),f(25,"option",73),p(26,"Name"),h(),f(27,"option",74),p(28,"Usage"),h(),f(29,"option",75),p(30,"Color"),h()()(),f(31,"div",65)(32,"label",76),p(33,"Order"),h(),f(34,"select",77),de("ngModelChange",function(i){L(t);let o=P();return he(o.sortOrder,i)||(o.sortOrder=i),V(i)}),f(35,"option",78),p(36,"Ascending"),h(),f(37,"option",79),p(38,"Descending"),h()()()()()}if(n&2){let t=P();y(10),ue("ngModel",t.searchTerm),y(4),ue("ngModel",t.filterByUsage),y(10),ue("ngModel",t.sortBy),y(10),ue("ngModel",t.sortOrder)}}function KK(n,e){if(n&1){let t=se();f(0,"div",80)(1,"p",81),p(2,"No categories found. Would you like to initialize default categories?"),h(),f(3,"button",82),B("click",function(){L(t);let i=P();return V(i.initializeDefaultCategories())}),f(4,"span",83),p(5,"\u{1F4C2}"),h(),p(6," Initialize Default Categories "),h()()}}function YK(n,e){n&1&&(f(0,"span",83),p(1,"\u{1F3A8}"),h())}function QK(n,e){n&1&&(f(0,"span",83),p(1,"\u23F3"),h())}function ZK(n,e){if(n&1){let t=se();f(0,"div",84)(1,"p",85),p(2,"\u2728 Update your category icons with new enhanced designs!"),h(),f(3,"button",86),B("click",function(){L(t);let i=P();return V(i.updateCategoryIcons())}),q(4,YK,2,0,"span",87)(5,QK,2,0,"span",87),p(6),h()()}if(n&2){let t=P();y(3),S("disabled",t.isUpdatingIcons),y(),S("ngIf",!t.isUpdatingIcons),y(),S("ngIf",t.isUpdatingIcons),y(),re(" ",t.isUpdatingIcons?"Updating Icons...":"Update Category Icons"," ")}}function JK(n,e){if(n&1){let t=se();f(0,"div",90)(1,"div",91)(2,"div",92),pt(3,"div",93),f(4,"div",94),p(5),h(),f(6,"div",95),p(7),h(),f(8,"div",96),p(9),h()(),f(10,"div",97)(11,"button",98),B("click",function(){let i=L(t).$implicit,o=P(2);return V(o.updateCategory(i))}),f(12,"span",99),p(13,"\u270F\uFE0F"),h(),f(14,"span",100),p(15,"Edit"),h()(),f(16,"button",101),B("click",function(){let i=L(t).$implicit,o=P(2);return V(o.confirmDelete(i))}),f(17,"span",102),p(18,"\u{1F5D1}\uFE0F"),h(),f(19,"span",103),p(20,"Delete"),h()()()()()}if(n&2){let t=e.$implicit,r=P(2);y(3),S("ngStyle",Lu(4,$K,t.color)),y(2),H(t.icon),y(2),H(t.name),y(2),re(" ",r.getCategoryUsage(t.id)," expenses ")}}function XK(n,e){if(n&1&&(f(0,"div",88),q(1,JK,21,6,"div",89),h()),n&2){let t=P();y(),S("ngForOf",t.getFilteredCategories())}}function eY(n,e){n&1&&(f(0,"div",104)(1,"div",105),p(2,"\u{1F50D}"),h(),f(3,"h6",106),p(4,"No Categories Found"),h(),f(5,"p",107),p(6,"Try adjusting your search or filters."),h()())}function tY(n,e){n&1&&(f(0,"div",104)(1,"div",105),p(2,"\u{1F4C2}"),h(),f(3,"h6",106),p(4,"No Categories Yet"),h(),f(5,"p",107),p(6,"Start by adding your first expense category above."),h()())}var q_=class n{constructor(e,t,r,i){this.categoryService=e;this.expenseService=t;this.firebaseService=r;this.dialogService=i}categories=[];expenses=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";filterByUsage="all";sortBy="name";sortOrder="asc";showAdvancedOptions=!1;isDuplicateCategory=!1;isEditMode=!1;editingCategoryId="";totalCategories=0;usedCategories=0;unusedCategories=0;mostUsedCategory=null;leastUsedCategory=null;isLoading=!0;isUpdatingIcons=!1;subscription=new ze;ngOnInit(){this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,this.calculateAnalytics(),console.log(`Received ${e.length} categories from Firebase`)})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateAnalytics(),console.log(`Received ${e.length} expenses from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return b(this,null,function*(){try{this.isLoading=!0,this.categories=yield this.categoryService.getAll(),this.expenses=yield this.expenseService.getAll(),this.calculateAnalytics()}catch(e){console.error("Error loading data:",e)}finally{this.isLoading=!1}})}calculateAnalytics(){this.totalCategories=this.categories.length;let e=this.getCategoryUsageStats();if(this.usedCategories=Object.keys(e).length,this.unusedCategories=this.totalCategories-this.usedCategories,Object.keys(e).length>0){let t=Object.entries(e).sort((r,i)=>i[1]-r[1]);this.mostUsedCategory=this.categories.find(r=>r.id===t[0][0])||null,this.leastUsedCategory=this.categories.find(r=>r.id===t[t.length-1][0])||null}}getCategoryUsageStats(){let e={};return this.expenses.forEach(t=>{t.categoryId&&(e[t.categoryId]=(e[t.categoryId]||0)+1)}),e}initializeDefaultCategories(){return b(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData(),yield this.dialogService.success("Default categories initialized successfully!")}catch(e){console.error("Error initializing default categories:",e),yield this.dialogService.error("Error initializing default categories. Please try again.")}})}addCategory(){return b(this,null,function*(){if(yield this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),this.resetForm(),yield this.dialogService.success("Category added successfully!")}catch(e){console.error("Error adding category:",e),yield this.dialogService.error("Error adding category. Please try again.")}})}updateCategory(e){return b(this,null,function*(){try{let t=yield this.dialogService.form([{name:"name",label:"Category Name",type:"text",value:e.name,placeholder:"Enter category name...",required:!0},{name:"color",label:"Category Color",type:"color",value:e.color||"#ff6b9d",required:!0},{name:"icon",label:"Category Icon",type:"text",value:e.icon||"\u{1F4CC}",placeholder:"Enter emoji icon...",required:!0}],"Edit Category","Update your category details:");if(!t)return;let r=fe(z({},e),{name:t.name.trim(),color:t.color,icon:t.icon.trim()});yield this.categoryService.update(r),yield this.loadData(),yield this.dialogService.success("Category updated successfully!")}catch(t){console.error("Error updating category:",t),yield this.dialogService.error("Error updating category. Please try again.")}})}deleteCategory(e){return b(this,null,function*(){if(yield this.dialogService.confirm(`Are you sure you want to delete "${e.name}"?

This will also remove all expenses in this category.`,"Delete Category"))try{yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),yield this.dialogService.success("Category deleted successfully!")}catch(r){console.error("Error deleting category:",r),yield this.dialogService.error("Error deleting category. Please try again.")}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){return b(this,null,function*(){return this.newCategory.name?.trim()?this.categories.some(t=>t.name.toLowerCase().trim()===this.newCategory.name.toLowerCase().trim()&&t.id!==this.editingCategoryId)?(this.isDuplicateCategory=!0,yield this.dialogService.warning("Category name already exists!"),!1):(this.isDuplicateCategory=!1,!0):(yield this.dialogService.warning("Please enter a category name."),!1)})}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.isEditMode=!1,this.editingCategoryId="",this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];if(this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),this.filterByUsage!=="all"){let t=this.getCategoryUsageStats();this.filterByUsage==="used"?e=e.filter(r=>t[r.id]>0):this.filterByUsage==="unused"&&(e=e.filter(r=>!t[r.id]||t[r.id]===0))}return e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":let s=this.getCategoryUsageStats();i=s[t.id]||0,o=s[r.id]||0;break;case"color":i=t.color||"",o=r.color||"";break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i<o?-1:i>o?1:0:i>o?-1:i<o?1:0}),e}getCategoryUsage(e){return this.getCategoryUsageStats()[e]||0}clearSearch(){this.searchTerm=""}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3","#ff9f43","#ff6348","#2ed573","#1e90ff","#ffa502","#ff3838"]}getIconPresets(){return["\u{1F4CC}","\u{1F354}","\u{1F697}","\u{1F3E0}","\u{1F48A}","\u{1F3AC}","\u{1F6D2}","\u2708\uFE0F","\u{1F393}","\u{1F4BB}","\u{1F4F1}","\u{1F3AE}","\u{1F3CB}\uFE0F","\u{1F3A8}","\u{1F4DA}","\u{1F3B5}","\u{1F3AA}","\u{1F3E5}","\u{1F487}","\u{1F484}"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets();this.newCategory.color=e[Math.floor(Math.random()*e.length)]}setRandomIcon(){let e=this.getIconPresets();this.newCategory.icon=e[Math.floor(Math.random()*e.length)]}getCategoryCount(){return this.categories.length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.mostUsedCategory}getLeastUsedCategory(){return this.leastUsedCategory}cleanupDuplicates(){return b(this,null,function*(){if(yield this.dialogService.confirm("This will remove duplicate categories. Continue?","Cleanup Duplicates"))try{let t=this.categories.filter((r,i,o)=>i===o.findIndex(s=>s.name.toLowerCase()===r.name.toLowerCase()));for(let r of this.categories)yield this.categoryService.delete(r.id);for(let r of t)yield this.categoryService.add({name:r.name,color:r.color||"#ff6b9d",icon:r.icon||"\u{1F4CC}"});yield this.dialogService.success("Duplicate categories cleaned up successfully!")}catch(t){console.error("Error cleaning up duplicates:",t),yield this.dialogService.error("Error cleaning up duplicates. Please try again.")}})}hasOutdatedIcons(){let e={"Food & Dining":"\u{1F355}",Transportation:"\u{1F699}",Shopping:"\u{1F6D2}",Entertainment:"\u{1F3AD}","Bills & Utilities":"\u26A1",Healthcare:"\u{1F3E5}",Education:"\u{1F393}","Rent/Mortgage":"\u{1F3D8}\uFE0F",Insurance:"\u{1F6E1}\uFE0F",Savings:"\u{1F48E}",Travel:"\u2708\uFE0F","Fitness & Sports":"\u{1F3C3}","Personal Care":"\u{1F484}","Gifts & Donations":"\u{1F381}",Technology:"\u{1F4BB}","Pet Care":"\u{1F415}",Movie:"\u{1F3AC}",Loan:"\u{1F4B3}",SIP:"\u{1F4C8}","Street food":"\u{1F32E}",Snooker:"\u{1F3B1}",Tax:"\u{1F4CA}",Trips:"\u{1F9F3}",EMI:"\u{1F3E6}",Fuel:"\u26FD","Office canteen":"\u{1F37D}\uFE0F"};return this.categories.some(t=>{let r=e[t.name];return r&&t.icon!==r})}updateCategoryIcons(){return b(this,null,function*(){if(yield this.dialogService.confirm("This will update your existing category icons with new enhanced designs. Continue?","Update Category Icons"))try{this.isUpdatingIcons=!0;let t=yield this.categoryService.updateCategoryIcons();yield this.loadData(),yield this.dialogService.success(`Updated ${t} category icons with new enhanced icons!`)}catch(t){console.error("Error updating category icons:",t),yield this.dialogService.error("Error updating category icons. Please try again.")}finally{this.isUpdatingIcons=!1}})}getAnalyticsInsights(){let e=[];return this.mostUsedCategory&&e.push({type:"most-used",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon,color:this.mostUsedCategory.color}),this.leastUsedCategory&&e.push({type:"least-used",title:"Least Used Category",value:this.leastUsedCategory.name,icon:this.leastUsedCategory.icon,color:this.leastUsedCategory.color}),e.push({type:"stats",title:"Category Statistics",value:`${this.usedCategories} used, ${this.unusedCategories} unused`,icon:"\u{1F4CA}"}),e}static \u0275fac=function(t){return new(t||n)(G(Fi),G(Ni),G(zn),G(Mr))};static \u0275cmp=at({type:n,selectors:[["app-categories"]],decls:66,vars:17,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","loading-container",4,"ngIf"],["class","analytics-section",4,"ngIf"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryIcon",1,"form-label"],[1,"icon-group"],["type","text","id","categoryIcon","name","categoryIcon","placeholder","\u{1F4CC}","maxlength","2",1,"icon-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-icon",3,"click"],[1,"random-icon"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["class","search-filters-section",4,"ngIf"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],["class","update-icons-section","style","margin-bottom: 20px; padding: 15px; background: #e8f5e8; border-radius: 8px; text-align: center; border: 1px solid #4caf50;",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"analytics-section"],[1,"analytics-header"],[1,"analytics-grid"],[1,"analytics-card"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-card",4,"ngFor","ngForOf"],[1,"error-message"],[1,"error-icon"],[1,"search-filters-section"],[1,"search-filters-header"],[1,"btn-clear-filters",3,"click"],[1,"search-filters-grid"],[1,"search-group"],["for","searchTerm"],["type","text","id","searchTerm","placeholder","Search categories...",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-group"],["for","filterByUsage"],["id","filterByUsage",1,"form-select",3,"ngModelChange","ngModel"],["value","all"],["value","used"],["value","unused"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","name"],["value","usage"],["value","color"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],[1,"update-icons-section",2,"margin-bottom","20px","padding","15px","background","#e8f5e8","border-radius","8px","text-align","center","border","1px solid #4caf50"],[2,"margin-bottom","15px","color","#2e7d32","font-weight","500"],[2,"padding","10px 20px","background","#4caf50","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500","opacity","isUpdatingIcons ? 0.7 : 1",3,"click","disabled"],["style","margin-right: 8px;",4,"ngIf"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-usage"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"\u{1F4C2}"),h(),f(5,"div",4)(6,"h1",5),p(7,"Categories"),h(),f(8,"p",6),p(9,"Manage your expense categories and organize your spending"),h()()()(),q(10,zK,5,0,"div",7)(11,qK,30,4,"div",8),f(12,"div",9)(13,"div",10)(14,"div",2)(15,"span",3),p(16,"\u2795"),h(),f(17,"h3",11),p(18,"Add New Category"),h()()(),f(19,"div",12)(20,"form",13),B("ngSubmit",function(){return r.addCategory()}),f(21,"div",14)(22,"div",15)(23,"label",16),p(24,"Category Name"),h(),f(25,"input",17),de("ngModelChange",function(o){return he(r.newCategory.name,o)||(r.newCategory.name=o),o}),B("input",function(){return r.clearValidationErrors()}),h(),q(26,WK,4,0,"div",18),h(),f(27,"div",15)(28,"label",19),p(29,"Icon"),h(),f(30,"div",20)(31,"input",21),de("ngModelChange",function(o){return he(r.newCategory.icon,o)||(r.newCategory.icon=o),o}),h(),f(32,"button",22),B("click",function(){return r.setRandomIcon()}),f(33,"span",23),p(34,"\u{1F3B2}"),h(),p(35," Random "),h()()(),f(36,"div",15)(37,"label",24),p(38,"Color"),h(),f(39,"div",25)(40,"input",26),de("ngModelChange",function(o){return he(r.newCategory.color,o)||(r.newCategory.color=o),o}),h(),f(41,"button",27),B("click",function(){return r.setRandomColor()}),f(42,"span",23),p(43,"\u{1F3B2}"),h(),p(44," Random "),h()()()(),f(45,"div",28)(46,"button",29)(47,"span",30),p(48,"\u2795"),h(),f(49,"span",31),p(50,"Add Category"),h()()()()()(),q(51,GK,39,4,"div",32),f(52,"div",33)(53,"div",34)(54,"div",35)(55,"span",36),p(56,"\u{1F4C2}"),h(),f(57,"h3",37),p(58,"Your Categories"),h()(),f(59,"div",38),p(60),h()(),q(61,KK,7,0,"div",39)(62,ZK,7,4,"div",40)(63,XK,2,1,"div",41)(64,eY,7,0,"div",42)(65,tY,7,0,"div",42),h()()),t&2&&(y(10),S("ngIf",r.isLoading),y(),S("ngIf",r.categories.length>0&&!r.isLoading),y(14),ct("error",r.isDuplicateCategory),ue("ngModel",r.newCategory.name),y(),S("ngIf",r.isDuplicateCategory),y(5),ue("ngModel",r.newCategory.icon),y(9),ue("ngModel",r.newCategory.color),y(6),S("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),y(5),S("ngIf",r.categories.length>0),y(9),sn("",r.getFilteredCategories().length," of ",r.categories.length," Categories"),y(),S("ngIf",r.categories.length===0),y(),S("ngIf",r.categories.length>0&&r.hasOutdatedIcons()&&!r.isLoading),y(),S("ngIf",r.getFilteredCategories().length>0&&!r.isLoading),y(),S("ngIf",r.getFilteredCategories().length===0&&r.categories.length>0),y(),S("ngIf",r.categories.length===0))},dependencies:[lt,Vn,_t,Wu,jt,wr,Ps,Os,Lt,ki,Vt,br,nr,bP,Pt,tr],styles:[".categories-page[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;background:#f8f9fa;min-height:100vh;max-width:100%;overflow-x:hidden}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #9b6b9b;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.loading-text[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#666}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#667eea;border-radius:8px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#fff}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;font-weight:500}.analytics-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}.btn-toggle-analytics[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-toggle-analytics[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;padding:1.5rem}.analytics-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef;display:flex;align-items:center;gap:1rem}.analytics-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f}.analytics-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.analytics-content[_ngcontent-%COMP%]{flex:1}.analytics-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.analytics-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.add-category-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;border-bottom:1px solid #e9ecef;border-top-left-radius:12px;border-top-right-radius:12px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff}.header-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1rem;transition:border-color .2s ease;background:#fff;width:100%;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.85rem;display:flex;align-items:center;gap:.5rem;margin-top:.25rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap}.color-input[_ngcontent-%COMP%]{width:50px;height:40px;border:1px solid #e9ecef;border-radius:6px;cursor:pointer;background:none;padding:0}.icon-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1.2rem;text-align:center;transition:border-color .2s ease;background:#fff;width:60px}.icon-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 5px 20px #ff6b354d;height:50px;min-width:fit-content}.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}@media (hover: none) and (pointer: coarse){.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 5px 20px #ff6b354d}.btn-random-color[_ngcontent-%COMP%]:active, .btn-random-icon[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 2px 10px #ff6b3566}}.random-icon[_ngcontent-%COMP%]{font-size:.9rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}@media (hover: none) and (pointer: coarse){.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 5px 20px #ff6b354d}.btn-add-category[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(1px);box-shadow:0 2px 10px #ff6b3566}}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1rem}.btn-text[_ngcontent-%COMP%]{font-weight:600}.search-filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.search-filters-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;border-radius:8px 8px 0 0}.search-filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.search-filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.search-group[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.search-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e9ecef;border-radius:6px;font-size:.9rem;transition:border-color .2s ease;background:#fff;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#fff3;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;font-weight:500}.initialize-section[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]{margin:1.5rem;padding:1.5rem;border-radius:8px;text-align:center}.initialize-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef}.cleanup-section[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7}.initialize-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:500}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-weight:600;font-size:.9rem;transition:background-color .2s ease;display:inline-flex;align-items:center;gap:.5rem}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#5a6fd8}.categories-grid[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.category-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:1.5rem;transition:all .2s ease;width:100%}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.category-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:2rem;width:100%}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1;min-width:0}.category-color-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.category-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:6px;flex-shrink:0}.category-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem;flex:1;min-width:0;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.category-usage[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500;flex-shrink:0}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;border-radius:4px;cursor:pointer;font-weight:500;font-size:.85rem;transition:background-color .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem;color:#6c757d}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#2c3e50}.empty-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.8}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.categories-page[_ngcontent-%COMP%]{padding:.5rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.search-filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.categories-grid[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.category-info[_ngcontent-%COMP%]{width:100%}.category-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:.75rem;flex-wrap:wrap}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{flex:1;min-width:120px;justify-content:center;padding:.75rem 1rem;font-size:.9rem}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;min-width:unset}.button-container[_ngcontent-%COMP%]{margin-top:1.5rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-card[_ngcontent-%COMP%]{padding:1rem}.analytics-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.25rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.add-category-card[_ngcontent-%COMP%]{margin-bottom:.75rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem}.card-body-modern[_ngcontent-%COMP%]{padding:.75rem}.form-row[_ngcontent-%COMP%]{gap:1rem}.form-group[_ngcontent-%COMP%]{gap:.25rem}.form-label[_ngcontent-%COMP%]{font-size:.85rem}.form-control[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.9rem}.icon-input[_ngcontent-%COMP%]{width:50px;padding:.625rem .5rem;font-size:1rem;flex-shrink:0}.color-input[_ngcontent-%COMP%]{width:50px;height:35px;flex-shrink:0}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.85rem;height:45px}.btn-add-category[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;height:45px}.button-container[_ngcontent-%COMP%]{margin-top:1rem}}"]})};function nY(n,e){n&1&&(f(0,"div",27)(1,"div",28),pt(2,"div",29),f(3,"p",30),p(4,"Loading reports..."),h()()())}function rY(n,e){if(n&1){let t=se();f(0,"div",46)(1,"div",47),B("click",function(i){L(t);let o=P(2);return V(o.toggleTrendDisplayMode(i))})("mousedown",function(i){return L(t),V(i.stopPropagation())})("mouseup",function(i){return L(t),V(i.stopPropagation())})("touchstart",function(i){return L(t),V(i.stopPropagation())})("touchend",function(i){return L(t),V(i.stopPropagation())}),f(2,"span",48),p(3),h(),f(4,"span",49),p(5),h()(),f(6,"div",50),p(7),h(),f(8,"div",51),p(9),h()()}if(n&2){let t,r,i,o=P(2);y(3),H(o.getSpendingTrend().icon),y(),ct("trend-positive",(t=o.getSpendingTrend())==null?null:t.isPositive)("trend-negative",(r=o.getSpendingTrend())==null?null:r.isNegative)("trend-neutral",(i=o.getSpendingTrend())==null?null:i.isNeutral),y(),re(" ",o.getSpendingTrend().text," "),y(2),H(o.getSpendingTrend().description),y(2),H(o.getSpendingTrend().insight)}}function iY(n,e){if(n&1&&(f(0,"div",31)(1,"div",32)(2,"h3"),p(3,"\u{1F4C8} Spending Analytics"),h(),f(4,"div",33)(5,"span",34),p(6),h()()(),f(7,"div",35)(8,"div",36)(9,"div",37),p(10,"\u{1F4B0}"),h(),f(11,"div",38)(12,"div",39),p(13),Ve(14,"currency"),h(),f(15,"div",40),p(16,"Total Spent"),h(),q(17,rY,10,10,"div",41),h()(),f(18,"div",42)(19,"div",37),p(20,"\u{1F4C5}"),h(),f(21,"div",38)(22,"div",39),p(23),Ve(24,"currency"),h(),f(25,"div",40),p(26,"Average Monthly"),h(),f(27,"div",43),p(28,"Per month"),h()()(),f(29,"div",44)(30,"div",37),p(31,"\u{1F4CA}"),h(),f(32,"div",38)(33,"div",39),p(34),h(),f(35,"div",40),p(36,"Total Expenses"),h(),f(37,"div",43),p(38,"All time"),h()()(),f(39,"div",45)(40,"div",37),p(41,"\u{1F3C6}"),h(),f(42,"div",38)(43,"div",39),p(44),h(),f(45,"div",40),p(46,"Top Category"),h(),f(47,"div",43),p(48),h()()()()()),n&2){let t,r=P();y(6),H(r.getAnalyticsPeriod()),y(7),H(Dt(14,7,r.totalSpent,"INR")),y(4),S("ngIf",r.getSpendingTrend()),y(6),H(Dt(24,10,r.averageMonthlySpend,"INR")),y(11),H(r.getTotalExpenses()),y(10),H(((t=r.getTopCategory())==null?null:t.name)||"None"),y(4),re("",r.getTopCategoryPercentage(),"% of total")}}function oY(n,e){if(n&1&&(f(0,"div",61),p(1),Ve(2,"currency"),h()),n&2){let t=P(2);ct("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),y(),re(" ",Dt(2,5,t.getMonthlyComparison().change,"INR")," ")}}function sY(n,e){if(n&1&&(f(0,"div",68),p(1),h()),n&2){let t=P(2);y(),re(" ",t.getMonthlyComparison().status," ")}}function aY(n,e){n&1&&(f(0,"div",69),p(1," First Month "),h())}function cY(n,e){if(n&1&&(f(0,"div",52)(1,"div",53)(2,"div",54)(3,"div",55)(4,"h3"),p(5,"Current Month Overview"),h(),f(6,"span",56),p(7),h()()(),f(8,"div",57)(9,"div",58)(10,"div",59),p(11,"\u{1F4B0}"),h(),f(12,"div",60)(13,"div",61),p(14),Ve(15,"currency"),h(),f(16,"div",62),p(17,"Total Spent"),h()()(),f(18,"div",63)(19,"div",59),p(20,"\u{1F4DD}"),h(),f(21,"div",60)(22,"div",61),p(23),h(),f(24,"div",62),p(25,"Expenses"),h()()(),f(26,"div",64)(27,"div",59),p(28,"\u{1F4C8}"),h(),f(29,"div",60),q(30,oY,3,8,"div",65)(31,sY,2,1,"div",66)(32,aY,2,0,"div",67),f(33,"div",62),p(34,"vs Last Month"),h()()()()()()),n&2){let t,r,i,o,s=P();y(7),H((t=s.getCurrentMonthReport())==null?null:t.monthName),y(7),H(Dt(15,6,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),y(9),H((i=s.getCurrentMonthReport())==null?null:i.expenseCount),y(7),S("ngIf",s.getMonthlyComparison().hasPreviousData),y(),S("ngIf",s.getMonthlyComparison().hasPreviousData),y(),S("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function lY(n,e){if(n&1){let t=se();f(0,"button",92),B("click",function(){L(t);let i=P(2);return V(i.clearFilters())}),f(1,"span",93),p(2,"\u2715"),h(),p(3," Clear All "),h()}}function uY(n,e){if(n&1&&(f(0,"option",94),p(1),h()),n&2){let t=e.$implicit;S("value",t),y(),H(t)}}function dY(n,e){if(n&1&&(f(0,"option",94),p(1),h()),n&2){let t=e.$implicit,r=P(2);S("value",t),y(),H(r.getMonthName(t))}}function fY(n,e){if(n&1&&(f(0,"option",94),p(1),h()),n&2){let t=e.$implicit;S("value",t.id),y(),sn(" ",t.icon," ",t.name," ")}}function hY(n,e){if(n&1){let t=se();f(0,"div",70)(1,"div",71)(2,"h3"),p(3,"\u{1F50D} Smart Filters"),h(),q(4,lY,4,0,"button",72),h(),f(5,"div",73)(6,"div",74)(7,"label",75),p(8,"Year"),h(),f(9,"select",76),de("ngModelChange",function(i){L(t);let o=P();return he(o.filterYear,i)||(o.filterYear=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onFilterChange())}),f(10,"option",77),p(11,"All Years"),h(),q(12,uY,2,2,"option",78),h()(),f(13,"div",74)(14,"label",79),p(15,"Month"),h(),f(16,"select",80),de("ngModelChange",function(i){L(t);let o=P();return he(o.filterMonth,i)||(o.filterMonth=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onFilterChange())}),f(17,"option",77),p(18,"All Months"),h(),q(19,dY,2,2,"option",78),h()(),f(20,"div",74)(21,"label",81),p(22,"Category"),h(),f(23,"select",82),de("ngModelChange",function(i){L(t);let o=P();return he(o.filterCategory,i)||(o.filterCategory=i),V(i)}),B("change",function(){L(t);let i=P();return V(i.onFilterChange())}),f(24,"option",77),p(25,"All Categories"),h(),q(26,fY,2,3,"option",78),h()(),f(27,"div",74)(28,"label",83),p(29,"Sort By"),h(),f(30,"select",84),de("ngModelChange",function(i){L(t);let o=P();return he(o.sortBy,i)||(o.sortBy=i),V(i)}),f(31,"option",85),p(32,"Month"),h(),f(33,"option",86),p(34,"Amount"),h(),f(35,"option",87),p(36,"Expense Count"),h()()(),f(37,"div",74)(38,"label",88),p(39,"Order"),h(),f(40,"select",89),de("ngModelChange",function(i){L(t);let o=P();return he(o.sortOrder,i)||(o.sortOrder=i),V(i)}),f(41,"option",90),p(42,"Descending"),h(),f(43,"option",91),p(44,"Ascending"),h()()()()()}if(n&2){let t=P();y(4),S("ngIf",t.hasActiveFilters()),y(5),ue("ngModel",t.filterYear),y(3),S("ngForOf",t.getAvailableYears()),y(4),ue("ngModel",t.filterMonth),y(3),S("ngForOf",t.getAvailableMonths()),y(4),ue("ngModel",t.filterCategory),y(3),S("ngForOf",t.categories),y(4),ue("ngModel",t.sortBy),y(10),ue("ngModel",t.sortOrder)}}function gY(n,e){if(n&1&&(f(0,"div",110)(1,"span",111),p(2),h(),f(3,"span",112),p(4),h(),f(5,"span",113),p(6),Ve(7,"currency"),h()()),n&2){let t=e.$implicit;y(),_n("background-color",t.category.color),y(),H(t.category.icon),y(2),H(t.category.name),y(2),H(Dt(7,5,t.amount,"INR"))}}function pY(n,e){if(n&1){let t=se();f(0,"div",114),B("click",function(i){return L(t),V(i.stopPropagation())}),f(1,"div",115)(2,"span",48),p(3),h(),f(4,"span",116),B("click",function(i){L(t);let o=P().$implicit,s=P(2);return V(s.toggleTrendDisplayMode(i,o.monthKey))}),p(5),h()(),f(6,"div",50),p(7),h(),f(8,"div",51),p(9),h()()}if(n&2){let t,r,i,o,s,a,c,u=P().$implicit,d=P(2);y(3),H((t=d.getReportTrend(u))==null?null:t.icon),y(),ct("trend-positive",(r=d.getReportTrend(u))==null?null:r.isPositive)("trend-negative",(i=d.getReportTrend(u))==null?null:i.isNegative)("trend-neutral",(o=d.getReportTrend(u))==null?null:o.isNeutral),y(),re(" ",(s=d.getReportTrend(u))==null?null:s.text," "),y(2),H((a=d.getReportTrend(u))==null?null:a.description),y(2),H((c=d.getReportTrend(u))==null?null:c.insight)}}function mY(n,e){if(n&1){let t=se();f(0,"div",97),B("click",function(){let i=L(t).$implicit,o=P(2);return V(o.selectMonth(i.monthKey))}),f(1,"div",98)(2,"div",99)(3,"h4",100),p(4),h(),f(5,"div",101),p(6),h()(),f(7,"div",102),B("click",function(i){let o=L(t).$implicit;return P(2).selectMonth(o.monthKey),V(i.stopPropagation())}),p(8,"\u2192"),h()(),f(9,"div",103)(10,"div",104),p(11),Ve(12,"currency"),h(),f(13,"div",105),p(14),h()(),f(15,"div",106),q(16,gY,8,8,"div",107),h(),f(17,"div",108),q(18,pY,10,10,"div",109),h()()}if(n&2){let t=e.$implicit,r=P(2);y(4),H(t.monthName),y(2),H(t.year),y(5),H(Dt(12,6,t.totalAmount,"INR")),y(3),re("",t.expenseCount," expenses"),y(2),S("ngForOf",t.categoryBreakdown.slice(0,3)),y(2),S("ngIf",r.getReportTrend(t))}}function _Y(n,e){if(n&1&&(f(0,"div",95),q(1,mY,19,9,"div",96),h()),n&2){let t=P();y(),S("ngForOf",t.getFilteredReports())}}function yY(n,e){if(n&1){let t=se();f(0,"div",127)(1,"div",114),B("click",function(i){return L(t),V(i.stopPropagation())}),f(2,"div",115)(3,"span",48),p(4),h(),f(5,"span",116),B("click",function(i){L(t);let o=P().$implicit,s=P(2);return V(s.toggleTrendDisplayMode(i,o.monthKey))}),p(6),h()(),f(7,"div",50),p(8),h(),f(9,"div",51),p(10),h()()()}if(n&2){let t,r,i,o,s,a,c,u=P().$implicit,d=P(2);y(4),H((t=d.getReportTrend(u))==null?null:t.icon),y(),ct("trend-positive",(r=d.getReportTrend(u))==null?null:r.isPositive)("trend-negative",(i=d.getReportTrend(u))==null?null:i.isNegative)("trend-neutral",(o=d.getReportTrend(u))==null?null:o.isNeutral),y(),re(" ",(s=d.getReportTrend(u))==null?null:s.text," "),y(2),H((a=d.getReportTrend(u))==null?null:a.description),y(2),H((c=d.getReportTrend(u))==null?null:c.insight)}}function vY(n,e){if(n&1){let t=se();f(0,"div",119),B("click",function(){let i=L(t).$implicit,o=P(2);return V(o.selectMonth(i.monthKey))}),f(1,"div",120)(2,"div",99)(3,"h4",100),p(4),h(),f(5,"div",101),p(6),h()(),f(7,"div",121),p(8),Ve(9,"currency"),h(),f(10,"div",102),B("click",function(i){let o=L(t).$implicit;return P(2).selectMonth(o.monthKey),V(i.stopPropagation())}),p(11,"\u2192"),h()(),f(12,"div",122)(13,"div",123)(14,"span",124),p(15,"Expenses:"),h(),f(16,"span",125),p(17),h()(),f(18,"div",123)(19,"span",124),p(20,"Top Category:"),h(),f(21,"span",125),p(22),h()()(),q(23,yY,11,10,"div",126),h()}if(n&2){let t,r=e.$implicit,i=P(2);y(4),H(r.monthName),y(2),H(r.year),y(2),H(Dt(9,6,r.totalAmount,"INR")),y(9),H(r.expenseCount),y(5),H(((t=i.getTopCategoryForReport(r))==null?null:t.name)||"None"),y(),S("ngIf",i.getReportTrend(r))}}function CY(n,e){if(n&1&&(f(0,"div",117),q(1,vY,24,9,"div",118),h()),n&2){let t=P();y(),S("ngForOf",t.getFilteredReports())}}function bY(n,e){n&1&&(f(0,"div",128)(1,"div",129),p(2,"\u{1F4CA}"),h(),f(3,"h6"),p(4,"No Reports Found"),h(),f(5,"p"),p(6,"Try adjusting your filters or add some expenses!"),h(),f(7,"button",130),p(8,"Add Expenses"),h()())}function wY(n,e){if(n&1&&(f(0,"div",157)(1,"div",158)(2,"span",111),p(3),h(),f(4,"div",159)(5,"div",112),p(6),h(),f(7,"div",160),p(8),h()()(),f(9,"div",161)(10,"div",162),p(11),Ve(12,"currency"),h(),f(13,"div",163),p(14),h()(),f(15,"div",164)(16,"div",165),pt(17,"div",166),h()()()),n&2){let t=e.$implicit,r=P(2);y(2),_n("background-color",t.category.color),y(),H(t.category.icon),y(3),H(t.category.name),y(2),re("",t.count," expenses"),y(3),H(Dt(12,11,t.amount,"INR")),y(3),re("",r.getCategoryPercentage(t),"%"),y(3),_n("width",r.getCategoryPercentage(t),"%")("background-color",t.category.color)}}function MY(n,e){if(n&1&&(f(0,"div",167)(1,"div",168)(2,"div",169),p(3),h(),f(4,"div",170)(5,"div",171),p(6),h(),f(7,"div",172)(8,"span",173),p(9),Ve(10,"date"),h(),f(11,"span",174)(12,"span",175),p(13),h()()()()(),f(14,"div",176)(15,"div",177),p(16),Ve(17,"currency"),h(),f(18,"div",178),p(19),h()()()),n&2){let t=e.$implicit,r=P(2);y(2),_n("background-color",r.getCategoryColor(t.categoryId)),y(),re(" ",r.getCategoryIcon(t.categoryId)," "),y(3),H(t.description||"No description"),y(3),H(Dt(10,13,t.date,"MMM dd, yyyy")),y(3),_n("background-color",r.getCategoryColor(t.categoryId)),y(),sn(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),y(3),H(Dt(17,16,t.amount,"INR")),y(2),on(r.getAmountIndicator(t.amount)),y(),re(" ",r.getAmountIndicator(t.amount)," ")}}function xY(n,e){if(n&1){let t=se();f(0,"button",186),B("click",function(){let i=L(t).$implicit,o=P(3);return V(o.goToExpensePage(i))}),p(1),h()}if(n&2){let t=e.$implicit,r=P(3);ct("active",t===r.currentExpensePage),y(),re(" ",t," ")}}function EY(n,e){if(n&1){let t=se();f(0,"div",179)(1,"div",180),p(2),h(),f(3,"div",181)(4,"button",182),B("click",function(){L(t);let i=P(2);return V(i.goToExpensePage(i.currentExpensePage-1))}),f(5,"span",183),p(6,"\u2190"),h(),p(7," Previous "),h(),f(8,"div",184),q(9,xY,2,3,"button",185),h(),f(10,"button",182),B("click",function(){L(t);let i=P(2);return V(i.goToExpensePage(i.currentExpensePage+1))}),p(11," Next "),f(12,"span",183),p(13,"\u2192"),h()()()()}if(n&2){let t=P(2);y(2),Dc(" Showing ",t.getExpenseStartIndex()+1,"-",t.getExpenseEndIndex()," of ",t.getSortedExpenses().length," expenses "),y(2),S("disabled",t.currentExpensePage===1),y(5),S("ngForOf",t.getExpensePageNumbers()),y(),S("disabled",t.currentExpensePage===t.getTotalExpensePages())}}function PY(n,e){if(n&1){let t=se();f(0,"div",131)(1,"div",132)(2,"button",133),B("click",function(){L(t);let i=P();return V(i.showDetailedView=!1)}),f(3,"span",134),p(4,"\u2190"),h(),p(5," Back to Overview "),h(),f(6,"div",135)(7,"h3"),p(8),h(),f(9,"div",136),p(10,"Comprehensive spending analysis"),h()(),f(11,"div",137)(12,"button",138),B("click",function(){L(t);let i=P();return V(i.exportMonthReport())}),f(13,"span",8),p(14,"\u{1F4E4}"),h(),p(15," Export Month Report "),h()()(),f(16,"div",139)(17,"div",140)(18,"div",141)(19,"div",142),p(20,"\u{1F4B0}"),h(),f(21,"div",143)(22,"div",144),p(23),Ve(24,"currency"),h(),f(25,"div",145),p(26,"Total Spent"),h()()(),f(27,"div",141)(28,"div",142),p(29,"\u{1F4DD}"),h(),f(30,"div",143)(31,"div",144),p(32),h(),f(33,"div",145),p(34,"Total Expenses"),h()()(),f(35,"div",141)(36,"div",142),p(37,"\u{1F4CA}"),h(),f(38,"div",143)(39,"div",144),p(40),Ve(41,"currency"),h(),f(42,"div",145),p(43,"Average Per Expense"),h()()(),f(44,"div",141)(45,"div",142),p(46,"\u{1F3F7}\uFE0F"),h(),f(47,"div",143)(48,"div",144),p(49),h(),f(50,"div",145),p(51,"Categories Used"),h()()()(),f(52,"div",146)(53,"div",16)(54,"h4"),p(55,"Category Breakdown"),h(),f(56,"div",147),p(57),Ve(58,"currency"),h()(),f(59,"div",148),q(60,wY,18,14,"div",149),h()(),f(61,"div",150)(62,"div",16)(63,"h4"),p(64,"All Expenses"),h(),f(65,"div",151)(66,"button",152),B("click",function(){L(t);let i=P();return V(i.toggleExpenseSort())}),f(67,"span",153),p(68),h(),p(69),h()()(),f(70,"div",154),q(71,MY,20,19,"div",155),h(),q(72,EY,14,6,"div",156),h()()()}if(n&2){let t,r,i,o,s,a,c=P();y(8),re("",(t=c.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),y(15),H(Dt(24,11,(r=c.getSelectedMonthReport())==null?null:r.totalAmount,"INR")),y(9),H((i=c.getSelectedMonthReport())==null?null:i.expenseCount),y(8),H(Dt(41,14,c.getAverageExpenseAmount(),"INR")),y(9),H((o=c.getSelectedMonthReport())==null?null:o.categoryBreakdown.length),y(8),re("Total: ",Dt(58,17,(s=c.getSelectedMonthReport())==null?null:s.totalAmount,"INR")),y(3),S("ngForOf",(a=c.getSelectedMonthReport())==null?null:a.categoryBreakdown),y(8),H(c.getSortIcon()),y(),re(" ",c.getSortLabel()," "),y(2),S("ngForOf",c.getPaginatedExpenses()),y(),S("ngIf",c.getTotalExpensePages()>1)}}var W_=class n{constructor(e,t,r){this.expenseService=e;this.categoryService=t;this.dialogService=r}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;filterYear="";filterMonth="";filterCategory="";sortBy="month";sortOrder="desc";showAnalytics=!0;trendDisplayModes={};viewMode="grid";expenseSortBy="date";expenseSortOrder="desc";currentExpensePage=1;expensesPerPage=10;totalSpent=0;averageMonthlySpend=0;highestSpendingMonth=null;mostUsedCategory=null;spendingTrend="stable";isLoading=!0;ngOnInit(){this.loadData()}loadData(){return b(this,null,function*(){try{this.isLoading=!0,this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports(),this.calculateAnalytics()}catch(e){console.error("Error loading reports:",e)}finally{this.isLoading=!1}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r,year:parseInt(s),month:parseInt(a)})})}calculateAnalytics(){if(this.monthlyReports.length===0)return;let e=this.getFilteredReports();if(this.totalSpent=e.reduce((t,r)=>t+r.totalAmount,0),this.averageMonthlySpend=e.length>0?this.totalSpent/e.length:0,this.highestSpendingMonth=e.reduce((t,r)=>r.totalAmount>t.totalAmount?r:t,e[0]),e.length>=2){let t=e[0].totalAmount,r=e[1].totalAmount,i=(t-r)/r*100;i>10?this.spendingTrend="increasing":i<-10?this.spendingTrend="decreasing":this.spendingTrend="stable"}}toggleAnalytics(){this.showAnalytics=!this.showAnalytics}setViewMode(e){this.viewMode=e}getAnalyticsPeriod(){let e=this.getFilteredReports();if(e.length===0)return"No data";let t=e[e.length-1],r=e[0];return`${t.monthName} - ${r.monthName}`}getSpendingTrend(){let e=this.trendDisplayModes.analytics||"percentage";return this.spendingTrend==="increasing"?{icon:"\u{1F4C8}",text:"Spending is increasing",description:"Monthly expenses are trending upward",insight:"Consider setting spending limits",severity:"medium",isPositive:!0,isNegative:!1,isNeutral:!1}:this.spendingTrend==="decreasing"?{icon:"\u{1F4C9}",text:"Spending is decreasing",description:"Monthly expenses are trending downward",insight:"Excellent financial discipline!",severity:"low",isPositive:!1,isNegative:!0,isNeutral:!1}:{icon:"\u27A1\uFE0F",text:"Spending is stable",description:"Monthly expenses are consistent",insight:"Good spending control",severity:"low",isPositive:!1,isNegative:!1,isNeutral:!0}}getTotalExpenses(){return this.expenses.length}getTopCategory(){let e={};this.expenses.forEach(r=>{e[r.categoryId]=(e[r.categoryId]||0)+r.amount});let t=Object.keys(e).reduce((r,i)=>e[r]>e[i]?r:i);return this.categories.find(r=>r.id===t)}getTopCategoryPercentage(){let e=this.getTopCategory();if(!e||this.totalSpent===0)return 0;let t=this.expenses.filter(r=>r.categoryId===e.id).reduce((r,i)=>r+i.amount,0);return Math.round(t/this.totalSpent*100)}getReportTrend(e){let t=this.monthlyReports.findIndex(u=>u.monthKey===e.monthKey);if(t===-1||t===this.monthlyReports.length-1)return null;let r=e.totalAmount,i=this.monthlyReports[t+1].totalAmount,o=(r-i)/i*100,s=r-i,c=(this.trendDisplayModes[e.monthKey]||"percentage")==="percentage"?`${o>0?"+":""}${o.toFixed(1)}%`:`${s>0?"+":""}\u20B9${Math.abs(s).toLocaleString()}`;return o>50?{icon:"\u{1F6A8}",text:c,description:"Significantly higher spending",insight:"Consider reviewing your budget",severity:"high",isPositive:!0,isNegative:!1,isNeutral:!1}:o>10?{icon:"\u{1F4C8}",text:c,description:"Higher spending than last month",insight:"Monitor your expenses closely",severity:"medium",isPositive:!0,isNegative:!1,isNeutral:!1}:o<-50?{icon:"\u{1F389}",text:c,description:"Significantly lower spending",insight:"Great job managing your budget!",severity:"high",isPositive:!1,isNegative:!0,isNeutral:!1}:o<-10?{icon:"\u{1F4C9}",text:c,description:"Lower spending than last month",insight:"Good progress on savings",severity:"medium",isPositive:!1,isNegative:!0,isNeutral:!1}:{icon:"\u27A1\uFE0F",text:(this.trendDisplayModes[e.monthKey]||"percentage")==="percentage"?"\xB10%":"\u20B90",description:"Similar spending to last month",insight:"Consistent spending pattern",severity:"low",isPositive:!1,isNegative:!1,isNeutral:!0}}getTopCategoryForReport(e){return!e.categoryBreakdown||e.categoryBreakdown.length===0?null:e.categoryBreakdown[0].category}getAverageExpenseAmount(){let e=this.getSelectedMonthReport();return!e||e.expenseCount===0?0:e.totalAmount/e.expenseCount}getCategoryPercentage(e){let t=this.getSelectedMonthReport();return!t||t.totalAmount===0?0:Math.round(e.amount/t.totalAmount*100)}toggleExpenseSort(){this.expenseSortBy==="date"?this.expenseSortBy="amount":this.expenseSortBy==="amount"?this.expenseSortBy="category":this.expenseSortBy="date",this.currentExpensePage=1}getSortIcon(){switch(this.expenseSortBy){case"date":return"\u{1F4C5}";case"amount":return"\u{1F4B0}";case"category":return"\u{1F3F7}\uFE0F";default:return"\u{1F4C5}"}}getSortLabel(){switch(this.expenseSortBy){case"date":return"Sort by Date";case"amount":return"Sort by Amount";case"category":return"Sort by Category";default:return"Sort by Date"}}getSortedExpenses(){let e=this.getSelectedMonthReport();if(!e)return[];let t=[...e.expenses];return t.sort((r,i)=>{let o=0;switch(this.expenseSortBy){case"date":o=new Date(r.date).getTime()-new Date(i.date).getTime();break;case"amount":o=r.amount-i.amount;break;case"category":let s=this.getCategoryName(r.categoryId),a=this.getCategoryName(i.categoryId);o=s.localeCompare(a);break}return this.expenseSortOrder==="asc"?o:-o}),t}getAmountIndicator(e){return e>5e3?"high":e>1e3?"medium":"low"}exportReport(){if(!this.getSelectedMonthReport()){this.exportFullReport();return}this.exportMonthReport()}exportFullReport(){return b(this,null,function*(){let e=this.getFilteredReports();if(e.length===0){yield this.dialogService.warning("No data to export. Please adjust your filters.");return}let t=new Date,i=`expense_report_${t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}.csv`,o=this.generateFullReportCSV(e);yield this.downloadCSV(o,i)})}exportMonthReport(){return b(this,null,function*(){let e=this.getSelectedMonthReport();if(!e){yield this.dialogService.warning("No month selected for export.");return}let t=new Date,r=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0"),i=`expense_report_${e.monthName.replace(" ","_")}_${r}.csv`,o=this.generateMonthReportCSV(e);yield this.downloadCSV(o,i)})}generateFullReportCSV(e){let t="";t+=`Expense Tracker - Full Report
`,t+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,t+=`Report Period: ${e.length>0?`${e[e.length-1]?.monthName} to ${e[0]?.monthName}`:"N/A"}
`,t+=`
`,t+=`SUMMARY OVERVIEW
`,t+="=".repeat(50)+`
`;let r=e.reduce((a,c)=>a+c.totalAmount,0),i=e.reduce((a,c)=>a+c.expenseCount,0),o=e.length>0?r/e.length:0;if(t+=`Total Amount Spent: \u20B9${r.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Total Number of Expenses: ${i.toLocaleString("en-IN")}
`,t+=`Average Monthly Spending: \u20B9${o.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Number of Months: ${e.length}
`,t+=`
`,t+=`MONTHLY BREAKDOWN
`,t+="=".repeat(50)+`
`,t+=`Month,Total Amount (\u20B9),Expense Count,Top Category,Top Category Amount (\u20B9),Top Category %
`,e.forEach(a=>{let c=this.getTopCategoryForReport(a),u=c?this.getCategoryAmountForReport(a,c.id):"0.00",d=c&&a.totalAmount>0?(parseFloat(u)/a.totalAmount*100).toFixed(1):"0.0";t+=`"${a.monthName}","${a.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${a.expenseCount}","${c?.name||"N/A"}","${u}","${d}%"
`}),t+=`
`,t+=`CATEGORY SUMMARY (All Months)
`,t+="=".repeat(50)+`
`,t+=`Category,Total Amount (\u20B9),Total Count,Percentage of Total,Average per Expense (\u20B9)
`,this.getCategorySummaryAcrossMonths(e).forEach(a=>{let c=r>0?(a.amount/r*100).toFixed(1):"0.0",u=a.count>0?a.amount/a.count:0;t+=`"${a.name}","${a.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${a.count}","${c}%","${u.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}"
`}),t+=`
`,t+=`ADDITIONAL INSIGHTS
`,t+="=".repeat(50)+`
`,e.length>0){let a=e.reduce((u,d)=>d.totalAmount>u.totalAmount?d:u,e[0]),c=e.reduce((u,d)=>d.totalAmount<u.totalAmount?d:u,e[0]);if(t+=`Highest Spending Month: ${a.monthName} (\u20B9${a.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})
`,t+=`Lowest Spending Month: ${c.monthName} (\u20B9${c.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})
`,e.length>=2){let u=e[0].totalAmount,d=e[1].totalAmount,m=(u-d)/d*100;t+=`Recent Trend: ${m>0?"Increase":m<0?"Decrease":"Stable"} (${m.toFixed(1)}%)
`}}return t}generateMonthReportCSV(e){let t="";t+=`Expense Tracker - Monthly Report
`,t+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,t+=`
`,t+=`MONTHLY SUMMARY
`,t+="=".repeat(50)+`
`,t+=`Report Period: ${e.monthName}
`,t+=`Total Amount Spent: \u20B9${e.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Total Number of Expenses: ${e.expenseCount.toLocaleString("en-IN")}
`,t+=`Average Amount per Expense: \u20B9${(e.totalAmount/e.expenseCount).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Number of Categories Used: ${e.categoryBreakdown.length}
`,t+=`
`,t+=`CATEGORY BREAKDOWN
`,t+="=".repeat(50)+`
`,t+=`Category,Amount (\u20B9),Number of Expenses,Percentage of Total,Average per Expense (\u20B9)
`,e.categoryBreakdown.forEach(s=>{let a=(s.amount/e.totalAmount*100).toFixed(1),c=s.count>0?s.amount/s.count:0;t+=`"${s.category.name}","${s.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${s.count}","${a}%","${c.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}"
`}),t+=`
`,t+=`INDIVIDUAL EXPENSES
`,t+="=".repeat(50)+`
`,t+=`Date,Description,Category,Amount (\u20B9),Priority,Amount Category
`;let r=[...e.expenses].sort((s,a)=>new Date(a.date).getTime()-new Date(s.date).getTime());if(r.forEach(s=>{let a=this.getCategoryName(s.categoryId),c=new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=s.priority||"Normal",d=this.getAmountCategory(s.amount);t+=`"${c}","${s.description||"No description"}","${a}","${s.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${u}","${d}"
`}),t+=`
`,t+=`MONTHLY INSIGHTS
`,t+="=".repeat(50)+`
`,e.categoryBreakdown.length>0){let s=e.categoryBreakdown[0],a=e.categoryBreakdown[e.categoryBreakdown.length-1];t+=`Top Spending Category: ${s.category.name} (\u20B9${s.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} - ${(s.amount/e.totalAmount*100).toFixed(1)}%)
`,t+=`Lowest Spending Category: ${a.category.name} (\u20B9${a.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} - ${(a.amount/e.totalAmount*100).toFixed(1)}%)
`}let i=r.filter(s=>s.amount>1e3),o=r.filter(s=>s.amount<=500);return t+=`High Value Expenses (>\u20B91,000): ${i.length}
`,t+=`Low Value Expenses (\u2264\u20B9500): ${o.length}
`,t+=`Medium Value Expenses (\u20B9500-\u20B91,000): ${r.length-i.length-o.length}
`,t}getAmountCategory(e){return e>5e3?"Very High":e>2e3?"High":e>1e3?"Medium-High":e>500?"Medium":e>200?"Low-Medium":"Low"}getCategorySummaryAcrossMonths(e){let t={};return e.forEach(r=>{r.categoryBreakdown.forEach(i=>{let o=i.category.id;t[o]||(t[o]={amount:0,count:0,name:i.category.name}),t[o].amount+=i.amount,t[o].count+=i.count})}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCategoryAmountForReport(e,t){let r=e.categoryBreakdown.find(i=>i.category.id===t);return r?r.amount.toFixed(2):"0.00"}downloadCSV(e,t){return b(this,null,function*(){let r=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){let o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else yield this.dialogService.warning("Download not supported in this browser. Copy the data manually."),console.log("CSV Content:",e)})}hasActiveFilters(){return!!(this.filterYear||this.filterMonth||this.filterCategory)}getPaginatedExpenses(){let e=this.getSortedExpenses(),t=this.getExpenseStartIndex(),r=this.getExpenseEndIndex();return e.slice(t,r)}getTotalExpensePages(){let e=this.getSortedExpenses().length;return Math.ceil(e/this.expensesPerPage)}getExpenseStartIndex(){return(this.currentExpensePage-1)*this.expensesPerPage}getExpenseEndIndex(){let e=this.getExpenseStartIndex(),t=this.getSortedExpenses().length;return Math.min(e+this.expensesPerPage,t)}getExpensePageNumbers(){let e=this.getTotalExpensePages(),t=this.currentExpensePage,r=[],i=Math.max(1,t-2),o=Math.min(e,t+2);for(let s=i;s<=o;s++)r.push(s);return r}goToExpensePage(e){e>=1&&e<=this.getTotalExpensePages()&&(this.currentExpensePage=e)}getFilteredReports(){let e=[...this.monthlyReports];return this.filterYear&&(e=e.filter(t=>t.year.toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>t.month.toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryBreakdown.some(r=>r.category.id===this.filterCategory))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"month":i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime();break;case"amount":i=t.totalAmount,o=r.totalAmount;break;case"expenseCount":i=t.expenseCount,o=r.expenseCount;break;default:i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime()}return this.sortOrder==="asc"?i-o:o-i}),e}getAvailableYears(){return[...new Set(this.monthlyReports.map(t=>t.year.toString()))].sort((t,r)=>parseInt(r)-parseInt(t))}getAvailableMonths(){return[...new Set(this.monthlyReports.map(t=>t.month.toString()))].sort((t,r)=>parseInt(t)-parseInt(r))}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e)-1]||e}clearFilters(){this.filterYear="",this.filterMonth="",this.filterCategory="",this.sortBy="month",this.sortOrder="desc",this.calculateAnalytics()}onFilterChange(){this.calculateAnalytics()}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1,status:e?"First Month":"No Data"};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0?r/t.totalAmount*100:0,o="No significant change";return r>0?o="Higher spending this month":r<0&&(o="Lower spending this month"),{change:r,percentage:parseFloat(i.toFixed(2)),hasPreviousData:!0,status:o}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){let t=this.categories.find(r=>r.id===e);return t&&t.icon?t.icon:"\u{1F4CC}"}getCategoryColor(e){let t=this.categories.find(r=>r.id===e);return t&&t.color?t.color:"#6c757d"}getSpendingInsights(){let e=[];return this.highestSpendingMonth&&e.push({type:"highest",title:"Highest Spending Month",value:this.highestSpendingMonth.monthName,amount:this.highestSpendingMonth.totalAmount,icon:"\u{1F4C8}"}),this.mostUsedCategory&&e.push({type:"category",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon||"\u{1F4CC}"}),e.push({type:"trend",title:"Spending Trend",value:this.spendingTrend.charAt(0).toUpperCase()+this.spendingTrend.slice(1),icon:this.spendingTrend==="increasing"?"\u{1F4C8}":this.spendingTrend==="decreasing"?"\u{1F4C9}":"\u27A1\uFE0F"}),e}toggleTrendDisplayMode(e,t){if(e&&(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()),t){let r=this.trendDisplayModes[t]||"percentage";this.trendDisplayModes[t]=r==="percentage"?"amount":"percentage"}else{let r=this.trendDisplayModes.analytics||"percentage";this.trendDisplayModes.analytics=r==="percentage"?"amount":"percentage"}}getFilteredExpenses(){let e=[...this.expenses];return this.filterYear&&(e=e.filter(t=>new Date(t.date).getFullYear().toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>(new Date(t.date).getMonth()+1).toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),e}static \u0275fac=function(t){return new(t||n)(G(Ni),G(Fi),G(Mr))};static \u0275cmp=at({type:n,selectors:[["app-monthly-reports"]],decls:48,vars:15,consts:[[1,"monthly-reports-page"],[1,"smart-header"],[1,"header-content"],[1,"header-left"],[1,"page-title"],[1,"page-description"],[1,"header-actions"],["title","Export all filtered data",1,"action-btn","primary",3,"click"],[1,"action-icon"],[1,"action-text"],[1,"action-btn","secondary",3,"click"],["class","loading-container",4,"ngIf"],["class","analytics-section",4,"ngIf"],["class","overview-section",4,"ngIf"],["class","filters-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],[1,"header-right"],[1,"reports-count"],[1,"view-toggle"],[1,"view-btn",3,"click"],[1,"view-icon"],[1,"view-text"],["class","reports-grid",4,"ngIf"],["class","reports-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"spinner"],[1,"loading-text"],[1,"analytics-section"],[1,"analytics-header"],[1,"analytics-period"],[1,"period-badge"],[1,"analytics-grid"],[1,"analytics-card","primary"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-trend",4,"ngIf"],[1,"analytics-card","secondary"],[1,"analytics-subtitle"],[1,"analytics-card","tertiary"],[1,"analytics-card","accent"],[1,"analytics-trend"],["title","Click to toggle between percentage and amount",1,"trend-header","clickable-trend",3,"click","mousedown","mouseup","touchstart","touchend"],[1,"trend-icon"],[1,"trend-text"],[1,"trend-description"],[1,"trend-insight"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"overview-title"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item","primary"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-item","secondary"],[1,"stat-item","tertiary"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-description",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-description"],[1,"stat-value","new-month"],[1,"filters-section"],[1,"filters-header"],["class","btn-clear-filters",3,"click",4,"ngIf"],[1,"filters-grid"],[1,"filter-group"],["for","filterYear"],["id","filterYear",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterMonth"],["id","filterMonth",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filterCategory"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","month"],["value","amount"],["value","expenseCount"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","desc"],["value","asc"],[1,"btn-clear-filters",3,"click"],[1,"clear-icon"],[3,"value"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-info"],[1,"month-name"],[1,"month-year"],["title","View detailed report",1,"report-arrow","clickable-arrow",3,"click"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"report-footer"],["class","trend-indicator",3,"click",4,"ngIf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"trend-indicator",3,"click"],[1,"trend-header"],["title","Click to toggle between percentage and amount",1,"trend-percentage","clickable-trend",3,"click"],[1,"reports-list"],["class","report-list-item",3,"click",4,"ngFor","ngForOf"],[1,"report-list-item",3,"click"],[1,"list-item-header"],[1,"list-item-amount"],[1,"list-item-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","list-item-footer",4,"ngIf"],[1,"list-item-footer"],[1,"empty-state"],[1,"empty-icon"],["routerLink","/expenses",1,"btn-add-expense"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"back-icon"],[1,"detailed-title"],[1,"detailed-subtitle"],[1,"detailed-actions"],["title","Export this month's detailed report",1,"action-btn",3,"click"],[1,"detailed-content"],[1,"summary-cards"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-value"],[1,"summary-label"],[1,"breakdown-section"],[1,"breakdown-total"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-controls"],[1,"btn-sort",3,"click"],[1,"sort-icon"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],["class","pagination-controls",4,"ngIf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"category-amounts"],[1,"amount-primary"],[1,"amount-percentage"],[1,"category-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"expense-item"],[1,"expense-main"],[1,"expense-icon"],[1,"expense-info"],[1,"expense-description"],[1,"expense-meta"],[1,"expense-date"],[1,"expense-category"],[1,"category-badge"],[1,"expense-amount"],[1,"amount-value"],[1,"amount-indicator"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-icon"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],[1,"page-number",3,"click"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),p(5,"\u{1F4CA} Financial Reports"),h(),f(6,"p",5),p(7,"Comprehensive spending analysis and insights"),h()(),f(8,"div",6)(9,"button",7),B("click",function(){return r.exportFullReport()}),f(10,"span",8),p(11,"\u{1F4CA}"),h(),f(12,"span",9),p(13,"Export Full Report"),h()(),f(14,"button",10),B("click",function(){return r.toggleAnalytics()}),f(15,"span",8),p(16),h(),f(17,"span",9),p(18),h()()()()(),q(19,nY,5,0,"div",11)(20,iY,49,13,"div",12)(21,cY,35,9,"div",13)(22,hY,45,9,"div",14),f(23,"div",15)(24,"div",16)(25,"div",3)(26,"h3"),p(27,"Monthly Breakdown"),h(),f(28,"p"),p(29,"Click on any month to view detailed breakdown"),h()(),f(30,"div",17)(31,"div",18),p(32),h(),f(33,"div",19)(34,"button",20),B("click",function(){return r.setViewMode("grid")}),f(35,"span",21),p(36,"\u229E"),h(),f(37,"span",22),p(38,"Grid"),h()(),f(39,"button",20),B("click",function(){return r.setViewMode("list")}),f(40,"span",21),p(41,"\u2630"),h(),f(42,"span",22),p(43,"List"),h()()()()(),q(44,_Y,2,1,"div",23)(45,CY,2,1,"div",24)(46,bY,9,0,"div",25),h(),q(47,PY,73,20,"div",26),h()),t&2&&(y(16),H(r.showAnalytics?"\u{1F4CA}":"\u{1F50D}"),y(2),H(r.showAnalytics?"Hide Analytics":"Show Analytics"),y(),S("ngIf",r.isLoading),y(),S("ngIf",r.monthlyReports.length>0&&r.showAnalytics&&!r.isLoading),y(),S("ngIf",r.getCurrentMonthReport()),y(),S("ngIf",r.monthlyReports.length>0),y(10),re("",r.getFilteredReports().length," months"),y(2),ct("active",r.viewMode==="grid"),y(5),ct("active",r.viewMode==="list"),y(5),S("ngIf",r.getFilteredReports().length>0&&r.viewMode==="grid"&&!r.isLoading),y(),S("ngIf",r.getFilteredReports().length>0&&r.viewMode==="list"&&!r.isLoading),y(),S("ngIf",r.getFilteredReports().length===0),y(),S("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[lt,Vn,_t,jt,Ps,Os,ki,Vt,Pt,Gu,sa],styles:['@charset "UTF-8";.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #a855f7;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.loading-text[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#666}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.monthly-reports-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe);min-height:100vh;padding:1.25rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#1e293b}.smart-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);border-radius:16px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 8px 30px #a855f726;border:1px solid rgba(255,255,255,.1)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:2rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;text-align:center}}.header-left[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:700;margin:0 0 .5rem;letter-spacing:-.025em}.page-description[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0;font-weight:400}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{justify-content:center}}.action-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3,#ffffff1a);border:1px solid rgba(255,255,255,.3);color:#fff;padding:.875rem 1.75rem;border-radius:12px;font-size:.9375rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:.625rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 12px #0000001a;position:relative;overflow:hidden}.action-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.action-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffffff4d,#fff3);transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.action-btn[_ngcontent-%COMP%]:hover:before{left:100%}.action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff40,#ffffff26);border-color:#fff6;box-shadow:0 4px 12px #7c3aed4d}.action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffffff59,#ffffff40);box-shadow:0 6px 20px #7c3aed66}.action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff26,#ffffff0d);border-color:#fff3}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffffff40,#ffffff26)}.action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444433,#dc26261a);border-color:#ef44444d}.action-btn.danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef44444d,#dc262633);box-shadow:0 6px 20px #ef44444d}.action-icon[_ngcontent-%COMP%]{font-size:1.125rem;transition:transform .3s ease}.action-btn[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.analytics-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffffe6,#f8fafcf2);border-radius:20px;margin-bottom:1.5rem;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a,inset 0 1px #fffc;border:1px solid rgba(255,255,255,.6);overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);position:relative}.analytics-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(168,85,247,.3),transparent)}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9,#5b21b6);color:#fff;padding:1.75rem;display:flex;align-items:center;justify-content:space-between;position:relative;overflow:hidden}.analytics-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;margin:0;display:flex;align-items:center;gap:.75rem;position:relative;z-index:2;background:linear-gradient(135deg,#fff,#f3e8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@media (max-width: 768px){.analytics-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center;padding:1.5rem}}.analytics-period[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3,#ffffff1a);border:1px solid rgba(255,255,255,.3);border-radius:50px;padding:.625rem 1.25rem;font-size:.875rem;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;position:relative;z-index:2}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem;padding:1.75rem}@media (max-width: 768px){.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}}.analytics-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:16px;padding:2rem;border:1px solid rgba(255,255,255,.8);transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6}.analytics-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#7c3aed,#8b5cf6,#a855f7);opacity:0;transition:opacity .3s ease}.analytics-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(168,85,247,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.analytics-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #0000001f,0 6px 20px #00000014,inset 0 1px #fffffff2;border-color:#a855f74d}.analytics-card[_ngcontent-%COMP%]:hover:before{opacity:1}.analytics-card[_ngcontent-%COMP%]:hover:after{opacity:1}.analytics-card[_ngcontent-%COMP%]:hover   .analytics-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.analytics-card.primary[_ngcontent-%COMP%]{border-left:4px solid #7c3aed}.analytics-card.primary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#7c3aed,#8b5cf6)}.analytics-card.secondary[_ngcontent-%COMP%]{border-left:4px solid #10b981}.analytics-card.secondary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#059669)}.analytics-card.tertiary[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.analytics-card.tertiary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#d97706)}.analytics-card.accent[_ngcontent-%COMP%]{border-left:4px solid #8b5cf6}.analytics-card.accent[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.analytics-icon[_ngcontent-%COMP%]{font-size:2.25rem;margin-bottom:1.25rem;transition:all .3s cubic-bezier(.4,0,.2,1);display:inline-block}.analytics-content[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:#1e293b;margin-bottom:.625rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.analytics-content[_ngcontent-%COMP%]   .analytics-label[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#64748b;margin-bottom:.375rem;text-transform:uppercase;letter-spacing:.025em}.analytics-content[_ngcontent-%COMP%]   .analytics-subtitle[_ngcontent-%COMP%]{font-size:.8125rem;color:#94a3b8;font-weight:500}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:1rem;padding:.75rem;background:#f8fafccc;border-radius:8px;border:1px solid rgba(226,232,240,.6)}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;padding:.25rem .5rem;border-radius:4px;position:relative}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:active{transform:scale(.95)}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:after{content:"\\1f504";position:absolute;top:-8px;right:-8px;font-size:.75rem;opacity:0;transition:opacity .2s ease}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:hover:after{opacity:.7}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1.25rem;animation:_ngcontent-%COMP%_pulseGlow 2s ease-in-out infinite}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-text.trend-positive[_ngcontent-%COMP%]{color:#ef4444;background:linear-gradient(135deg,#ef4444,#dc2626);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-text.trend-negative[_ngcontent-%COMP%]{color:#10b981;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-text.trend-neutral[_ngcontent-%COMP%]{color:#6b7280;background:linear-gradient(135deg,#6b7280,#4b5563);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-description[_ngcontent-%COMP%]{font-weight:500;color:#475569;font-size:.8125rem;line-height:1.3}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-insight[_ngcontent-%COMP%]{font-weight:400;color:#64748b;font-size:.75rem;font-style:italic;line-height:1.3;padding:.25rem .5rem;background:#fff9;border-radius:4px;border-left:3px solid #e2e8f0}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-10px) rotate(180deg)}}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{filter:drop-shadow(0 0 5px rgba(16,185,129,.3))}50%{filter:drop-shadow(0 0 15px rgba(16,185,129,.6))}}.overview-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a,inset 0 1px #fffc;border:1px solid rgba(255,255,255,.6);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);position:relative;overflow:hidden}.overview-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(168,85,247,.3),transparent)}.overview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.75rem}@media (max-width: 768px){.overview-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.overview-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;color:#1e293b;margin:0 0 .625rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.month-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9,#5b21b6);color:#fff;padding:.625rem 1.25rem;border-radius:50px;font-size:.875rem;font-weight:600;box-shadow:0 4px 12px #7c3aed4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-view-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9);color:#fff;border:none;padding:.875rem 1.75rem;border-radius:12px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #7c3aed4d}.btn-view-details[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d9,#5b21b6);transform:translateY(-2px);box-shadow:0 6px 20px #7c3aed66}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem}@media (max-width: 768px){.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;padding:1.5rem;background:linear-gradient(135deg,#ffffffe6,#f8fafcf2);border-radius:16px;border:1px solid rgba(255,255,255,.8);transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 30px #0000001f,0 4px 16px #00000014,inset 0 1px #fffffff2}.stat-item.primary[_ngcontent-%COMP%]{border-left:4px solid #7c3aed}.stat-item.secondary[_ngcontent-%COMP%]{border-left:4px solid #10b981}.stat-item.tertiary[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.stat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:linear-gradient(135deg,#f3e8ff,#e9d5ff);box-shadow:0 4px 12px #a855f733;transition:all .3s ease}.stat-item[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);box-shadow:0 6px 20px #a855f74d}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:800;color:#1e293b;margin-bottom:.375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.stat-content[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#10b981;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stat-content[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#ef4444;background:linear-gradient(135deg,#ef4444,#dc2626);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stat-content[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#7c3aed;background:linear-gradient(135deg,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-size:1.125rem}.stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.025em}.stat-content[_ngcontent-%COMP%]   .stat-description[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;font-weight:500;margin-top:.25rem;line-height:1.3;opacity:.9}.filters-section[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;margin-bottom:1.5rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;overflow:hidden}.filters-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b,#475569);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}@media (max-width: 768px){.filters-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.btn-clear-filters[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]:hover{background:#ffffff40}.clear-icon[_ngcontent-%COMP%]{font-size:.875rem}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;padding:1.5rem}@media (max-width: 768px){.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem}.form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;background:#fff;color:#374151;transition:border-color .2s ease}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.reports-section[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;overflow:hidden}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#334155);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0 0 .25rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:.875rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 768px){.header-right[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.reports-count[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);border-radius:50px;padding:.5rem 1rem;font-size:.875rem;font-weight:500}.view-toggle[_ngcontent-%COMP%]{display:flex;background:#0003;border-radius:50px;padding:.25rem;border:1px solid rgba(255,255,255,.1);position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px 3px #0000001a}.view-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#ffffffb3;padding:.5rem 1rem;border-radius:50px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:.5rem;position:relative;z-index:2;min-width:80px;justify-content:center}.view-btn[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{font-size:1rem;transition:transform .2s ease}.view-btn[_ngcontent-%COMP%]   .view-text[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.025em}.view-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;box-shadow:0 2px 8px #3b82f666;transform:scale(1.02)}.view-btn.active[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.view-btn[_ngcontent-%COMP%]:hover:not(.active){color:#ffffffe6;background:#ffffff0d}.view-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 768px){.view-btn[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.8rem;min-width:70px}.view-btn[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{font-size:.9rem}}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.25rem;padding:1.75rem}@media (max-width: 768px){.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}}.report-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:20px;padding:2rem;border:1px solid rgba(255,255,255,.8);cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6}.report-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#7c3aed,#8b5cf6,#a855f7);opacity:0;transition:opacity .3s ease}.report-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(168,85,247,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 16px 50px #00000026,0 8px 25px #0000001a,inset 0 1px #fffffff2;border-color:#a855f766}.report-card[_ngcontent-%COMP%]:hover:before{opacity:1}.report-card[_ngcontent-%COMP%]:hover:after{opacity:1}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(8px);color:#7c3aed}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.25rem}.month-info[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b;margin:0 0 .375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.month-info[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:500}.report-arrow[_ngcontent-%COMP%]{font-size:1.375rem;color:#7c3aed;transition:all .3s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 2px 4px rgba(124,58,237,.2))}.report-arrow.clickable-arrow[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.report-arrow.clickable-arrow[_ngcontent-%COMP%]:hover{background:#7c3aed1a;color:#5b21b6;transform:translate(4px) scale(1.1);filter:drop-shadow(0 4px 8px rgba(124,58,237,.3))}.report-arrow.clickable-arrow[_ngcontent-%COMP%]:active{transform:translate(2px) scale(.95)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1.25rem}.report-stats[_ngcontent-%COMP%]   .report-amount[_ngcontent-%COMP%]{font-size:1.625rem;font-weight:800;color:#1e293b;margin-bottom:.375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.report-stats[_ngcontent-%COMP%]   .report-count[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:500}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem;margin-bottom:1.25rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.75rem;background:linear-gradient(135deg,#f8fafccc,#f1f5f9e6);border-radius:12px;border:1px solid rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f3e8ffcc,#e9d5ffe6);transform:translate(4px)}.category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.9375rem;color:#fff;box-shadow:0 2px 8px #00000026}.category-item[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{flex:1;font-size:.9375rem;color:#374151;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b}.report-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(226,232,240,.6);padding-top:1.25rem}.trend-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;font-size:.875rem;padding:.75rem;background:#f8fafccc;border-radius:8px;border:1px solid rgba(226,232,240,.6)}.trend-indicator[_ngcontent-%COMP%]   .trend-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.trend-indicator[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;padding:.25rem .5rem;border-radius:4px;position:relative}.trend-indicator[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.trend-indicator[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:active{transform:scale(.95)}.trend-indicator[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:after{content:"\\1f504";position:absolute;top:-8px;right:-8px;font-size:.75rem;opacity:0;transition:opacity .2s ease}.trend-indicator[_ngcontent-%COMP%]   .clickable-trend[_ngcontent-%COMP%]:hover:after{opacity:.7}.trend-indicator[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1.25rem;animation:_ngcontent-%COMP%_pulseGlow 2s ease-in-out infinite}.trend-indicator[_ngcontent-%COMP%]   .trend-percentage[_ngcontent-%COMP%], .trend-indicator[_ngcontent-%COMP%]   .trend-text[_ngcontent-%COMP%]{font-weight:700;font-size:.9375rem}.trend-indicator[_ngcontent-%COMP%]   .trend-percentage.trend-positive[_ngcontent-%COMP%], .trend-indicator[_ngcontent-%COMP%]   .trend-text.trend-positive[_ngcontent-%COMP%]{color:#ef4444;background:linear-gradient(135deg,#ef4444,#dc2626);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.trend-indicator[_ngcontent-%COMP%]   .trend-percentage.trend-negative[_ngcontent-%COMP%], .trend-indicator[_ngcontent-%COMP%]   .trend-text.trend-negative[_ngcontent-%COMP%]{color:#10b981;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.trend-indicator[_ngcontent-%COMP%]   .trend-percentage.trend-neutral[_ngcontent-%COMP%], .trend-indicator[_ngcontent-%COMP%]   .trend-text.trend-neutral[_ngcontent-%COMP%]{color:#6b7280;background:linear-gradient(135deg,#6b7280,#4b5563);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.trend-indicator[_ngcontent-%COMP%]   .trend-description[_ngcontent-%COMP%]{font-weight:500;color:#475569;font-size:.8125rem;line-height:1.3}.trend-indicator[_ngcontent-%COMP%]   .trend-insight[_ngcontent-%COMP%]{font-weight:400;color:#64748b;font-size:.75rem;font-style:italic;line-height:1.3;padding:.25rem .5rem;background:#fff9;border-radius:4px;border-left:3px solid #e2e8f0}.reports-list[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 768px){.reports-list[_ngcontent-%COMP%]{padding:1rem}}.report-list-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease;margin-bottom:1rem;position:relative;overflow:hidden}.report-list-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);opacity:0;transition:opacity .3s ease}.report-list-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001f;border-color:#3b82f6}.report-list-item[_ngcontent-%COMP%]:hover:before{opacity:1}.report-list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.list-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:1rem}.list-item-amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b}.list-item-footer[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(226,232,240,.6)}.list-item-details[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1rem}@media (max-width: 768px){.list-item-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.list-item-arrow[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6;text-align:right}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem}.btn-add-expense[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;display:inline-block}.btn-add-expense[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.detailed-view[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;overflow:hidden;margin-top:1.5rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#334155);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}@media (max-width: 768px){.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.back-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff40}.back-icon[_ngcontent-%COMP%]{font-size:1rem}.detailed-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0 0 .25rem}.detailed-title[_ngcontent-%COMP%]   .detailed-subtitle[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.detailed-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.detailed-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff40}.detailed-content[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 768px){.detailed-content[_ngcontent-%COMP%]{padding:1rem}}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem;margin-bottom:2rem}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:20px;padding:2rem;border:1px solid rgba(255,255,255,.8);display:flex;align-items:center;gap:1.25rem;transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6;position:relative;overflow:hidden}.summary-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#7c3aed,#8b5cf6,#a855f7);opacity:0;transition:opacity .3s ease}.summary-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(168,85,247,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #0000001f,0 6px 20px #00000014,inset 0 1px #fffffff2;border-color:#a855f74d}.summary-card[_ngcontent-%COMP%]:hover:before{opacity:1}.summary-card[_ngcontent-%COMP%]:hover:after{opacity:1}.summary-card[_ngcontent-%COMP%]:hover   .summary-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:linear-gradient(135deg,#f3e8ff,#e9d5ff);box-shadow:0 4px 12px #a855f733;transition:all .3s cubic-bezier(.4,0,.2,1)}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{flex:1}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:800;color:#1e293b;margin-bottom:.375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.025em}.breakdown-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0;margin-bottom:1.5rem}.breakdown-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{background:none;color:#1e293b;padding:0 0 1rem;border-bottom:1px solid #e2e8f0;margin-bottom:1.5rem}.breakdown-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0}.breakdown-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .breakdown-total[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}.category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.category-amounts[_ngcontent-%COMP%]{text-align:right;margin-right:1rem}.category-amounts[_ngcontent-%COMP%]   .amount-primary[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin-bottom:.25rem}.category-amounts[_ngcontent-%COMP%]   .amount-percentage[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.category-progress[_ngcontent-%COMP%]{width:100px}.category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden}.category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.expenses-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.expenses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{background:none;color:#1e293b;padding:0 0 1rem;border-bottom:1px solid #e2e8f0;margin-bottom:1.5rem}.expenses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0}.expenses-controls[_ngcontent-%COMP%]   .btn-sort[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#374151;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.expenses-controls[_ngcontent-%COMP%]   .btn-sort[_ngcontent-%COMP%]:hover{background:#e2e8f0}.sort-icon[_ngcontent-%COMP%]{font-size:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0;transition:all .2s ease}.expense-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#3b82f6}.expense-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.expense-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}.expense-info[_ngcontent-%COMP%]{flex:1}.expense-info[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.expense-info[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 768px){.expense-info[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}.expense-info[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.expense-info[_ngcontent-%COMP%]   .category-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500;color:#fff}.expense-amount[_ngcontent-%COMP%]{text-align:right}.expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin-bottom:.25rem}.expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.25rem .5rem;border-radius:4px}.expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706}.expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.pagination-controls[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #e2e8f0;display:flex;flex-direction:column;gap:1rem}@media (max-width: 768px){.pagination-controls[_ngcontent-%COMP%]{gap:.75rem}}.pagination-info[_ngcontent-%COMP%]{text-align:center;font-size:.875rem;color:#64748b;font-weight:500}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}@media (max-width: 768px){.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.pagination-btn[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#374151;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0;border-color:#3b82f6}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-icon[_ngcontent-%COMP%]{font-size:1rem}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 768px){.page-numbers[_ngcontent-%COMP%]{gap:.25rem}}.page-number[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#374151;padding:.75rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:40px;text-align:center}.page-number[_ngcontent-%COMP%]:hover{background:#e2e8f0;border-color:#3b82f6}.page-number.active[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6;color:#fff}@media (max-width: 768px){.page-number[_ngcontent-%COMP%]{padding:.5rem .75rem;min-width:35px;font-size:.8rem}}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:1rem}.smart-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}.analytics-card[_ngcontent-%COMP%]{padding:1.5rem}.analytics-card[_ngcontent-%COMP%]   .analytics-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.analytics-card[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{font-size:1.5rem}.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-item[_ngcontent-%COMP%]{padding:1.25rem}.stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:40px;height:40px}.stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}.stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-description[_ngcontent-%COMP%]{font-size:.75rem}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}.report-card[_ngcontent-%COMP%]{padding:1.5rem}.report-card[_ngcontent-%COMP%]   .report-stats[_ngcontent-%COMP%]   .report-amount[_ngcontent-%COMP%]{font-size:1.375rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.625rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:.875rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.summary-card[_ngcontent-%COMP%]{padding:1.5rem}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:40px;height:40px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.25rem}.category-item-detailed[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.category-amounts[_ngcontent-%COMP%]{text-align:left;margin-right:0}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.expense-amount[_ngcontent-%COMP%]{text-align:left;width:100%}.action-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:.875rem}.action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.monthly-reports-page[_ngcontent-%COMP%]{padding:.75rem}.smart-header[_ngcontent-%COMP%]{padding:1.25rem}.page-title[_ngcontent-%COMP%]{font-size:1.375rem}.analytics-grid[_ngcontent-%COMP%]{padding:1rem}.analytics-card[_ngcontent-%COMP%]{padding:1.25rem}.analytics-card[_ngcontent-%COMP%]   .analytics-icon[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:.875rem}.analytics-card[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{font-size:1.375rem}.overview-card[_ngcontent-%COMP%]{padding:1.5rem}.stat-item[_ngcontent-%COMP%]{padding:1rem}.stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.375rem;width:36px;height:36px}.stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.125rem}.stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-description[_ngcontent-%COMP%]{font-size:.6875rem}.filters-grid[_ngcontent-%COMP%]{padding:.875rem}.reports-grid[_ngcontent-%COMP%]{padding:1rem}.report-card[_ngcontent-%COMP%]{padding:1.25rem}.report-card[_ngcontent-%COMP%]   .report-stats[_ngcontent-%COMP%]   .report-amount[_ngcontent-%COMP%]{font-size:1.25rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.5rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:.8125rem}.summary-card[_ngcontent-%COMP%]{padding:1.25rem}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:1.375rem;width:36px;height:36px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.125rem}.action-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.8125rem}.action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:.9375rem}}']})};function OY(n,e){n&1&&(f(0,"span",22),p(1,"\u23F3"),h())}function IY(n,e){n&1&&(f(0,"span"),p(1,"Sign In"),h())}function SY(n,e){if(n&1&&(f(0,"div",23),p(1),h()),n&2){let t=P();y(),re(" ",t.error," ")}}var G_=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loading=!1;error="";signIn(){return b(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(t){return new(t||n)(G(Zt),G(Xe))};static \u0275cmp=at({type:n,selectors:[["app-login"]],decls:33,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"forgot-password-link"],[1,"link",3,"click"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=se();f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),p(5,"\u{1F4B0}"),h(),f(6,"h1",6),p(7,"Expense Tracker"),h()(),f(8,"p",7),p(9,"Sign in to manage your expenses"),h()(),f(10,"form",8,0),B("ngSubmit",function(){return L(i),V(r.signIn())}),f(12,"div",9)(13,"label",10),p(14,"Email"),h(),f(15,"input",11),de("ngModelChange",function(s){return L(i),he(r.email,s)||(r.email=s),V(s)}),h()(),f(16,"div",9)(17,"label",12),p(18,"Password"),h(),f(19,"input",13),de("ngModelChange",function(s){return L(i),he(r.password,s)||(r.password=s),V(s)}),h(),f(20,"div",14)(21,"a",15),B("click",function(){return L(i),V(r.goToForgotPassword())}),p(22,"Forgot Password?"),h()()(),f(23,"div",16)(24,"button",17),q(25,OY,2,0,"span",18)(26,IY,2,0,"span",19),h()()(),f(27,"div",20)(28,"p"),p(29,"Don't have an account? "),f(30,"a",15),B("click",function(){return L(i),V(r.goToRegister())}),p(31,"Sign up"),h()()(),q(32,SY,2,1,"div",21),h()()}if(t&2){let i=kr(11);y(15),ue("ngModel",r.email),y(4),ue("ngModel",r.password),y(5),S("disabled",!i.form.valid||r.loading),y(),S("ngIf",r.loading),y(),S("ngIf",!r.loading),y(6),S("ngIf",r.error)}},dependencies:[lt,_t,jt,wr,Lt,Vt,br,nr,Pt,tr],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-top:.5rem}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500;font-size:.875rem;cursor:pointer;transition:color .3s ease}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var K_=class n{constructor(e){this.firebaseService=e}createDefaultCategories(){return b(this,null,function*(){let e=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let t of e)yield this.firebaseService.addCategory(t);console.log("Default categories created successfully")}catch(t){console.error("Error creating default categories:",t)}})}static \u0275fac=function(t){return new(t||n)(ne(zn))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function TY(n,e){n&1&&(f(0,"span",25),p(1,"\u23F3"),h())}function AY(n,e){n&1&&(f(0,"span"),p(1,"Create Account"),h())}function kY(n,e){if(n&1&&(f(0,"div",26),p(1),h()),n&2){let t=P();y(),re(" ",t.error," ")}}var Y_=class n{constructor(e,t,r){this.authService=e;this.router=t;this.defaultCategoriesService=r}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return b(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(e){return e.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":e.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(t){return new(t||n)(G(Zt),G(Xe),G(K_))};static \u0275cmp=at({type:n,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=se();f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),p(5,"\u{1F4B0}"),h(),f(6,"h1",6),p(7,"Expense Tracker"),h()(),f(8,"p",7),p(9,"Create your account to start tracking expenses"),h()(),f(10,"form",8,0),B("ngSubmit",function(){return L(i),V(r.register())}),f(12,"div",9)(13,"label",10),p(14,"Full Name"),h(),f(15,"input",11),de("ngModelChange",function(s){return L(i),he(r.displayName,s)||(r.displayName=s),V(s)}),h()(),f(16,"div",9)(17,"label",12),p(18,"Email"),h(),f(19,"input",13),de("ngModelChange",function(s){return L(i),he(r.email,s)||(r.email=s),V(s)}),h()(),f(20,"div",9)(21,"label",14),p(22,"Password"),h(),f(23,"input",15),de("ngModelChange",function(s){return L(i),he(r.password,s)||(r.password=s),V(s)}),h()(),f(24,"div",9)(25,"label",16),p(26,"Confirm Password"),h(),f(27,"input",17),de("ngModelChange",function(s){return L(i),he(r.confirmPassword,s)||(r.confirmPassword=s),V(s)}),h()(),f(28,"div",18)(29,"button",19),q(30,TY,2,0,"span",20)(31,AY,2,0,"span",21),h()()(),f(32,"div",22)(33,"p"),p(34,"Already have an account? "),f(35,"a",23),B("click",function(){return L(i),V(r.goToLogin())}),p(36,"Sign in"),h()()(),q(37,kY,2,1,"div",24),h()()}if(t&2){let i=kr(11);y(15),ue("ngModel",r.displayName),y(4),ue("ngModel",r.email),y(4),ue("ngModel",r.password),y(4),ue("ngModel",r.confirmPassword),y(2),S("disabled",!i.form.valid||r.loading||!r.passwordsMatch()),y(),S("ngIf",r.loading),y(),S("ngIf",!r.loading),y(6),S("ngIf",r.error)}},dependencies:[lt,_t,jt,wr,Lt,Vt,br,nr,Ef,Pt,tr],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};function RY(n,e){n&1&&(f(0,"span",24),p(1,"\u23F3"),h())}function NY(n,e){n&1&&(f(0,"span"),p(1,"Send Reset Link"),h())}function FY(n,e){if(n&1){let t=se();f(0,"div",14)(1,"p",15),p(2," Enter your email address and we'll send you a link to reset your password. "),h(),f(3,"form",16,0),B("ngSubmit",function(){L(t);let i=P();return V(i.sendResetEmail())}),f(5,"div",17)(6,"label",18),p(7,"Email Address"),h(),f(8,"input",19),de("ngModelChange",function(i){L(t);let o=P();return he(o.email,i)||(o.email=i),V(i)}),h()(),f(9,"div",20)(10,"button",21),q(11,RY,2,0,"span",22)(12,NY,2,0,"span",23),h()()()()}if(n&2){let t=kr(4),r=P();y(8),ue("ngModel",r.email),y(2),S("disabled",!t.form.valid||r.loading),y(),S("ngIf",r.loading),y(),S("ngIf",!r.loading)}}function LY(n,e){n&1&&(f(0,"span",24),p(1,"\u23F3"),h())}function VY(n,e){n&1&&(f(0,"span"),p(1,"Resend Email"),h())}function jY(n,e){if(n&1){let t=se();f(0,"div",25)(1,"div",26),p(2,"\u2705"),h(),f(3,"h3",27),p(4,"Check Your Email"),h(),f(5,"p",28),p(6," We've sent a password reset link to "),f(7,"strong"),p(8),h()(),f(9,"p",29),p(10," Click the link in the email to reset your password. The link will expire in 1 hour. "),h(),f(11,"div",30)(12,"h4"),p(13,"Not receiving the email?"),h(),f(14,"ul")(15,"li"),p(16,"Check your spam/junk folder"),h(),f(17,"li"),p(18,"Verify the email address is correct"),h(),f(19,"li"),p(20,"Wait a few minutes for delivery"),h(),f(21,"li"),p(22,"Add noreply@expense-tracker-4d264.firebaseapp.com to your contacts"),h()()(),f(23,"div",31)(24,"button",32),B("click",function(){L(t);let i=P();return V(i.resendEmail())}),q(25,LY,2,0,"span",22)(26,VY,2,0,"span",23),h()()()}if(n&2){let t=P();y(8),H(t.email),y(16),S("disabled",t.resendLoading),y(),S("ngIf",t.resendLoading),y(),S("ngIf",!t.resendLoading)}}function UY(n,e){if(n&1&&(f(0,"div",33),p(1),h()),n&2){let t=P();y(),re(" ",t.error," ")}}function BY(n,e){if(n&1&&(f(0,"div",34),p(1),h()),n&2){let t=P();y(),re(" ",t.success," ")}}var Q_=class n{constructor(e,t){this.authService=e;this.router=t}email="";loading=!1;resendLoading=!1;emailSent=!1;error="";success="";sendResetEmail(){return b(this,null,function*(){if(!this.email){this.error="Please enter your email address";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){this.error="Please enter a valid email address";return}this.loading=!0,this.error="",this.success="";try{console.log("Sending reset email to:",this.email),console.log("Current auth state:",this.authService.getCurrentUser()),yield this.authService.sendPasswordResetEmail(this.email),this.emailSent=!0,console.log("Reset email sent successfully"),this.success=`Reset link sent to ${this.email}. Please check your email (including spam folder).`}catch(t){console.error("Error in sendResetEmail:",t),t.message.includes("No account found")?this.error=`${t.message} If you're sure this is the correct email, try creating a new account.`:t.message.includes("network")?this.error=`${t.message} Please check your internet connection.`:t.message.includes("too many requests")?this.error=`${t.message} Please wait 5-10 minutes before trying again.`:this.error=t.message||"An error occurred while sending the reset email. Please try again."}finally{this.loading=!1}})}resendEmail(){return b(this,null,function*(){this.resendLoading=!0,this.error="",this.success="";try{yield this.authService.sendPasswordResetEmail(this.email),this.success="Reset link sent again successfully!"}catch(e){this.error=this.getErrorMessage(e)}finally{this.resendLoading=!1}})}goToLogin(){this.router.navigate(["/login"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many requests. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred while sending the reset email. Please try again."}static \u0275fac=function(t){return new(t||n)(G(Zt),G(Xe))};static \u0275cmp=at({type:n,selectors:[["app-forgot-password"]],decls:17,vars:4,consts:[["resetForm","ngForm"],[1,"forgot-password-container"],[1,"forgot-password-card"],[1,"forgot-password-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"forgot-password-subtitle"],["class","forgot-password-form",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"navigation-links"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],["class","success-notification",4,"ngIf"],[1,"forgot-password-form"],[1,"instruction-text"],[1,"reset-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email address",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"success-message"],[1,"success-icon"],[1,"success-title"],[1,"success-text"],[1,"success-instruction"],[1,"troubleshooting-tips"],[1,"success-actions"],[1,"btn-secondary",3,"click","disabled"],[1,"error-message"],[1,"success-notification"]],template:function(t,r){t&1&&(f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),p(5,"\u{1F4B0}"),h(),f(6,"h1",6),p(7,"Expense Tracker"),h()(),f(8,"p",7),p(9,"Reset your password"),h()(),q(10,FY,13,4,"div",8)(11,jY,27,4,"div",9),f(12,"div",10)(13,"a",11),B("click",function(){return r.goToLogin()}),p(14,"\u2190 Back to Sign In"),h()(),q(15,UY,2,1,"div",12)(16,BY,2,1,"div",13),h()()),t&2&&(y(10),S("ngIf",!r.emailSent),y(),S("ngIf",r.emailSent),y(4),S("ngIf",r.error),y(),S("ngIf",r.success))},dependencies:[lt,_t,jt,wr,Lt,Vt,br,nr,Pt,tr],styles:[".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.forgot-password-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:450px}.forgot-password-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.forgot-password-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.instruction-text[_ngcontent-%COMP%]{color:#666;text-align:center;margin-bottom:1.5rem;line-height:1.5}.reset-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0000001a;border-color:#667eea;color:#667eea}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.success-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_bounce .6s ease-in-out}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.success-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#28a745;margin:0 0 1rem}.success-text[_ngcontent-%COMP%]{color:#666;margin:0 0 1rem;line-height:1.5}.success-instruction[_ngcontent-%COMP%]{color:#888;font-size:.9rem;margin:0 0 1.5rem;line-height:1.4}.success-actions[_ngcontent-%COMP%]{margin-top:1.5rem}.navigation-links[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s ease}.link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}.success-notification[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #c3e6cb}.troubleshooting-tips[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #eee}.troubleshooting-tips[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin-bottom:.5rem}.troubleshooting-tips[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.troubleshooting-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:.3rem;line-height:1.4}@media (max-width: 480px){.forgot-password-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}.success-icon[_ngcontent-%COMP%]{font-size:2.5rem}.success-title[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};function $Y(n,e){n&1&&(f(0,"span",24),p(1,"\u23F3"),h())}function zY(n,e){n&1&&(f(0,"span"),p(1,"Reset Password"),h())}function HY(n,e){if(n&1){let t=se();f(0,"div",12)(1,"p",13),p(2," Enter your new password below. Make sure it's secure and easy to remember. "),h(),f(3,"form",14,0),B("ngSubmit",function(){L(t);let i=P();return V(i.resetPassword())}),f(5,"div",15)(6,"label",16),p(7,"New Password"),h(),f(8,"input",17),de("ngModelChange",function(i){L(t);let o=P();return he(o.password,i)||(o.password=i),V(i)}),h()(),f(9,"div",15)(10,"label",18),p(11,"Confirm New Password"),h(),f(12,"input",19),de("ngModelChange",function(i){L(t);let o=P();return he(o.confirmPassword,i)||(o.confirmPassword=i),V(i)}),h()(),f(13,"div",20)(14,"button",21),q(15,$Y,2,0,"span",22)(16,zY,2,0,"span",23),h()()()()}if(n&2){let t=kr(4),r=P();y(8),ue("ngModel",r.password),y(4),ue("ngModel",r.confirmPassword),y(2),S("disabled",!t.form.valid||r.loading||!r.passwordsMatch()),y(),S("ngIf",r.loading),y(),S("ngIf",!r.loading)}}function qY(n,e){if(n&1){let t=se();f(0,"div",25)(1,"div",26),p(2,"\u2705"),h(),f(3,"h3",27),p(4,"Password Reset Successful!"),h(),f(5,"p",28),p(6," Your password has been successfully reset. You can now sign in with your new password. "),h(),f(7,"div",29)(8,"button",30),B("click",function(){L(t);let i=P();return V(i.goToLogin())}),p(9," Sign In Now "),h()()()}}function WY(n,e){if(n&1){let t=se();f(0,"div",31)(1,"div",32),p(2,"\u274C"),h(),f(3,"h3",33),p(4,"Invalid Reset Link"),h(),f(5,"p",34),p(6," This password reset link is invalid or has expired. Please request a new reset link. "),h(),f(7,"div",35)(8,"button",36),B("click",function(){L(t);let i=P();return V(i.goToForgotPassword())}),p(9," Request New Link "),h()()()}}function GY(n,e){if(n&1&&(f(0,"div",37),p(1),h()),n&2){let t=P();y(),re(" ",t.error," ")}}var Z_=class n{constructor(e,t,r){this.authService=e;this.router=t;this.route=r}password="";confirmPassword="";loading=!1;resetSuccess=!1;invalidCode=!1;error="";oobCode="";ngOnInit(){this.route.queryParams.subscribe(e=>{this.oobCode=e.oobCode,this.oobCode?this.verifyResetCode():(this.invalidCode=!0,this.error="No reset code provided. Please use the link from your email.")})}verifyResetCode(){return b(this,null,function*(){try{yield nN(this.authService.getAuthInstance(),this.oobCode)}catch(e){this.invalidCode=!0,this.error=this.getErrorMessage(e)}})}resetPassword(){return b(this,null,function*(){if(!this.passwordsMatch()){this.error="Passwords do not match. Please try again.";return}if(this.password.length<6){this.error="Password must be at least 6 characters long.";return}this.loading=!0,this.error="";try{yield KR(this.authService.getAuthInstance(),this.oobCode,this.password),this.resetSuccess=!0}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}passwordsMatch(){return this.password===this.confirmPassword&&this.password.length>0}goToLogin(){this.router.navigate(["/login"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}getErrorMessage(e){return e.code==="auth/expired-action-code"?"The password reset link has expired. Please request a new one.":e.code==="auth/invalid-action-code"?"The password reset link is invalid. Please request a new one.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred while resetting your password. Please try again."}static \u0275fac=function(t){return new(t||n)(G(Zt),G(Xe),G(jn))};static \u0275cmp=at({type:n,selectors:[["app-reset-password"]],decls:14,vars:4,consts:[["resetForm","ngForm"],[1,"reset-password-container"],[1,"reset-password-card"],[1,"reset-password-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"reset-password-subtitle"],["class","reset-password-form",4,"ngIf"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","error-notification",4,"ngIf"],[1,"reset-password-form"],[1,"instruction-text"],[1,"reset-form",3,"ngSubmit"],[1,"form-group"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your new password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your new password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"success-message"],[1,"success-icon"],[1,"success-title"],[1,"success-text"],[1,"success-actions"],[1,"btn-primary",3,"click"],[1,"error-message"],[1,"error-icon"],[1,"error-title"],[1,"error-text"],[1,"error-actions"],[1,"btn-secondary",3,"click"],[1,"error-notification"]],template:function(t,r){t&1&&(f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),p(5,"\u{1F4B0}"),h(),f(6,"h1",6),p(7,"Expense Tracker"),h()(),f(8,"p",7),p(9,"Set New Password"),h()(),q(10,HY,17,5,"div",8)(11,qY,10,0,"div",9)(12,WY,10,0,"div",10)(13,GY,2,1,"div",11),h()()),t&2&&(y(10),S("ngIf",!r.resetSuccess),y(),S("ngIf",r.resetSuccess),y(),S("ngIf",r.invalidCode),y(),S("ngIf",r.error))},dependencies:[lt,_t,jt,wr,Lt,Vt,br,nr,Ef,Pt,tr],styles:[".reset-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.reset-password-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:450px}.reset-password-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.reset-password-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.instruction-text[_ngcontent-%COMP%]{color:#666;text-align:center;margin-bottom:1.5rem;line-height:1.5}.reset-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0000001a;border-color:#667eea;color:#667eea}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.success-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_bounce .6s ease-in-out}.error-icon[_ngcontent-%COMP%]{color:#dc3545}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.success-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#28a745;margin:0 0 1rem}.error-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#dc3545;margin:0 0 1rem}.success-text[_ngcontent-%COMP%], .error-text[_ngcontent-%COMP%]{color:#666;margin:0 0 1.5rem;line-height:1.5}.success-actions[_ngcontent-%COMP%], .error-actions[_ngcontent-%COMP%]{margin-top:1.5rem}.error-notification[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.reset-password-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}.success-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%]{font-size:2.5rem}.success-title[_ngcontent-%COMP%], .error-title[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};function KY(n,e){if(n&1&&(f(0,"div",11)(1,"div",12),p(2),h(),f(3,"div",13),p(4),h(),f(5,"div",14),p(6),h()()),n&2){let t=e.$implicit;y(2),H(t.time),y(),on(t.success?"success":"error"),y(),re(" ",t.success?"\u2705 Success":"\u274C Error"," "),y(2),H(t.message)}}function YY(n,e){if(n&1&&(f(0,"div",9)(1,"h3"),p(2,"Test Results"),h(),q(3,KY,7,5,"div",10),h()),n&2){let t=P();y(3),S("ngForOf",t.testResults)}}var J_=class n{constructor(e){this.authService=e}testEmail="";testing=!1;testResults=[];getCurrentUserInfo(){let e=this.authService.getCurrentUser();return e?`${e.email} (${e.uid})`:"No user logged in"}testPasswordReset(){return b(this,null,function*(){if(!this.testEmail){this.addResult(!1,"Please enter an email address");return}this.testing=!0;try{console.log("Testing password reset for:",this.testEmail),yield this.authService.sendPasswordResetEmail(this.testEmail),this.addResult(!0,`Password reset email sent successfully to ${this.testEmail}`)}catch(e){console.error("Test failed:",e),this.addResult(!1,`Error: ${e.message}`)}finally{this.testing=!1}})}addResult(e,t){this.testResults.unshift({time:new Date().toLocaleTimeString(),success:e,message:t})}static \u0275fac=function(t){return new(t||n)(G(Zt))};static \u0275cmp=at({type:n,selectors:[["app-email-test"]],decls:49,vars:5,consts:[[1,"email-test-container"],[1,"email-test-card"],[1,"debug-info"],[1,"test-form"],[1,"form-group"],["type","email","placeholder","Enter email to test",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn-test",3,"click","disabled"],["class","results",4,"ngIf"],[1,"troubleshooting"],[1,"results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[1,"result-time"],[1,"result-status"],[1,"result-message"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),p(3,"Email Test & Debug"),h(),f(4,"div",2)(5,"h3"),p(6,"Firebase Configuration"),h(),f(7,"p")(8,"strong"),p(9,"Project ID:"),h(),p(10," expense-tracker-4d264"),h(),f(11,"p")(12,"strong"),p(13,"Auth Domain:"),h(),p(14," expense-tracker-4d264.firebaseapp.com"),h(),f(15,"p")(16,"strong"),p(17,"Current User:"),h(),p(18),h()(),f(19,"div",3)(20,"h3"),p(21,"Test Password Reset"),h(),f(22,"div",4)(23,"label"),p(24,"Email Address:"),h(),f(25,"input",5),de("ngModelChange",function(o){return he(r.testEmail,o)||(r.testEmail=o),o}),h()(),f(26,"button",6),B("click",function(){return r.testPasswordReset()}),p(27),h()(),q(28,YY,4,1,"div",7),f(29,"div",8)(30,"h3"),p(31,"Common Issues & Solutions"),h(),f(32,"ul")(33,"li")(34,"strong"),p(35,"No account found:"),h(),p(36," Email doesn't exist in Firebase Auth"),h(),f(37,"li")(38,"strong"),p(39,"Network error:"),h(),p(40," Check internet connection"),h(),f(41,"li")(42,"strong"),p(43,"Too many requests:"),h(),p(44," Wait 5-10 minutes before retrying"),h(),f(45,"li")(46,"strong"),p(47,"Operation not allowed:"),h(),p(48," Password reset disabled in Firebase"),h()()()()()),t&2&&(y(18),re(" ",r.getCurrentUserInfo()),y(7),ue("ngModel",r.testEmail),y(),S("disabled",r.testing),y(),re(" ",r.testing?"Testing...":"Test Password Reset"," "),y(),S("ngIf",r.testResults.length>0))},dependencies:[lt,Vn,_t,jt,Lt,Vt,Pt],styles:[".email-test-container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.email-test-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 20px #0000001a}.debug-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:8px;margin-bottom:1.5rem}.debug-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.debug-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-family:monospace}.test-form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem}.btn-test[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem}.btn-test[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.results[_ngcontent-%COMP%]{margin-top:1.5rem}.result-item[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:6px;margin-bottom:.5rem;border-left:4px solid #007bff}.result-time[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-bottom:.5rem}.result-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.result-status.success[_ngcontent-%COMP%]{color:#28a745}.result-status.error[_ngcontent-%COMP%]{color:#dc3545}.result-message[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;white-space:pre-wrap}.troubleshooting[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #eee}.troubleshooting[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.troubleshooting[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;background:#fff3cd;border-radius:4px;border-left:4px solid #ffc107}"]})};var $a=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.currentUser$.pipe(xt(e=>e!==void 0),Bt(1),ve(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(ne(Zt),ne(Xe))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var g5=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:G_},{path:"register",component:Y_},{path:"forgot-password",component:Q_},{path:"reset-password",component:Z_},{path:"email-test",component:J_},{path:"dashboard",component:z_,canActivate:[$a]},{path:"expenses",component:H_,canActivate:[$a]},{path:"categories",component:q_,canActivate:[$a]},{path:"reports",component:W_,canActivate:[$a]}];var p5={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"};var wP="Service workers are disabled or not supported by this browser",Ll=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new _e(r=>r.error(new U(5601,!1)));else{let r=null,i=new ot;this.worker=new _e(u=>(r!==null&&u.next(r),i.subscribe(d=>u.next(d))));let o=()=>{let{controller:u}=e;u!==null&&(r=u,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Ht(()=>e.getRegistration()));let s=new ot;this.events=s.asObservable();let a=u=>{let{data:d}=u;d?.type&&s.next(d)};e.addEventListener("message",a),t?.get(hr,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Bt(1)).subscribe(i=>{i.postMessage(z({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(xt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Bt(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(xt(i=>i.nonce===e),Bt(1),ve(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},QY=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ot;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=$i,this.notificationClicks=$i,this.notificationCloses=$i,this.pushSubscriptionChanges=$i,this.subscription=$i;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ve(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ve(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ve(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ve(i=>i.data)),this.pushManager=this.sw.registration.pipe(ve(i=>i.pushManager));let r=this.pushManager.pipe(Ht(i=>i.getSubscription()));this.subscription=new _e(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(wP));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Ht(c=>c.subscribe(r)),Bt(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(wP));let t=r=>{if(r===null)throw new U(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new U(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Bt(1),Ht(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(ne(Ll))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),ZY=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=$i,this.unrecoverable=$i;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(wP));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new U(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(ne(Ll))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();var _5=new X("");function JY(){let n=j(Of);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=j(_5),t=j(Ae),r=j(hr);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=m5(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),m5(+a[0])]);break;default:throw new U(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(Ki(5604,!1)))})})}function m5(n){return new Promise(e=>setTimeout(e,n))}function XY(n,e){return new Ll(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Of=class{enabled;scope;registrationStrategy};function y5(n,e={}){return Gt([QY,ZY,{provide:_5,useValue:n},{provide:Of,useValue:e},{provide:Ll,useFactory:XY,deps:[Of,Je]},Sc(JY)])}var v5={providers:[J0(),PC({eventCoalescing:!0}),Fb(g5),uk(),Bk(()=>$k(p5)),GR(()=>QR()),IF(()=>SF()),BF(()=>$F()),y5("ngsw-worker.js",{enabled:!ju(),registrationStrategy:"registerWhenStable:30000"})]};function eQ(n,e){n&1&&(f(0,"span"),p(1,"\u2139\uFE0F"),h())}function tQ(n,e){n&1&&(f(0,"span"),p(1,"\u2705"),h())}function nQ(n,e){n&1&&(f(0,"span"),p(1,"\u26A0\uFE0F"),h())}function rQ(n,e){n&1&&(f(0,"span"),p(1,"\u274C"),h())}function iQ(n,e){n&1&&(f(0,"span"),p(1,"\u2753"),h())}function oQ(n,e){if(n&1){let t=se();f(0,"button",18),B("click",function(){L(t);let i=P(2);return V(i.onCancel())}),f(1,"span"),p(2,"\u2715"),h()()}}function sQ(n,e){if(n&1&&(f(0,"p",19),p(1),h()),n&2){let t=P(2);y(),H(t.config.message)}}function aQ(n,e){if(n&1&&(f(0,"label",26),p(1),h()),n&2){let t=P(3);y(),H(t.config.inputLabel)}}function cQ(n,e){if(n&1){let t=se();f(0,"input",27,0),de("ngModelChange",function(i){L(t);let o=P(3);return he(o.inputValue,i)||(o.inputValue=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(3);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(3);return V(i.onCancel())}),h()}if(n&2){let t=P(3);S("type",t.config.inputType),ue("ngModel",t.inputValue),S("placeholder",t.config.inputPlaceholder||"")}}function lQ(n,e){if(n&1){let t=se();f(0,"input",28,0),de("ngModelChange",function(i){L(t);let o=P(3);return he(o.inputValue,i)||(o.inputValue=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(3);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(3);return V(i.onCancel())}),h()}if(n&2){let t=P(3);ue("ngModel",t.inputValue),S("placeholder",t.config.inputPlaceholder||"")}}function uQ(n,e){if(n&1){let t=se();f(0,"input",29,0),de("ngModelChange",function(i){L(t);let o=P(3);return he(o.inputValue,i)||(o.inputValue=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(3);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(3);return V(i.onCancel())}),h()}if(n&2){let t=P(3);ue("ngModel",t.inputValue)}}function dQ(n,e){if(n&1){let t=se();f(0,"input",30,0),de("ngModelChange",function(i){L(t);let o=P(3);return he(o.inputValue,i)||(o.inputValue=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(3);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(3);return V(i.onCancel())}),h()}if(n&2){let t=P(3);ue("ngModel",t.inputValue)}}function fQ(n,e){if(n&1&&(f(0,"div",20),q(1,aQ,2,1,"label",21)(2,cQ,2,3,"input",22)(3,lQ,2,2,"input",23)(4,uQ,2,1,"input",24)(5,dQ,2,1,"input",25),h()),n&2){let t=P(2);y(),S("ngIf",t.config.inputLabel),y(),S("ngIf",t.config.inputType==="text"||t.config.inputType==="email"||t.config.inputType==="password"),y(),S("ngIf",t.config.inputType==="number"),y(),S("ngIf",t.config.inputType==="color"),y(),S("ngIf",t.config.inputType==="date")}}function hQ(n,e){n&1&&(f(0,"span",36),p(1,"*"),h())}function gQ(n,e){if(n&1){let t=se();f(0,"input",27),de("ngModelChange",function(i){L(t);let o=P().$implicit,s=P(3);return he(s.fieldValues[o.name],i)||(s.fieldValues[o.name]=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(4);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(4);return V(i.onCancel())}),h()}if(n&2){let t=P().$implicit,r=P(3);S("type",t.type),ue("ngModel",r.fieldValues[t.name]),S("placeholder",t.placeholder||"")}}function pQ(n,e){if(n&1){let t=se();f(0,"input",28),de("ngModelChange",function(i){L(t);let o=P().$implicit,s=P(3);return he(s.fieldValues[o.name],i)||(s.fieldValues[o.name]=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(4);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(4);return V(i.onCancel())}),h()}if(n&2){let t=P().$implicit,r=P(3);ue("ngModel",r.fieldValues[t.name]),S("placeholder",t.placeholder||"")}}function mQ(n,e){if(n&1){let t=se();f(0,"input",29),de("ngModelChange",function(i){L(t);let o=P().$implicit,s=P(3);return he(s.fieldValues[o.name],i)||(s.fieldValues[o.name]=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(4);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(4);return V(i.onCancel())}),h()}if(n&2){let t=P().$implicit,r=P(3);ue("ngModel",r.fieldValues[t.name])}}function _Q(n,e){if(n&1){let t=se();f(0,"input",30),de("ngModelChange",function(i){L(t);let o=P().$implicit,s=P(3);return he(s.fieldValues[o.name],i)||(s.fieldValues[o.name]=i),V(i)}),B("keyup.enter",function(){L(t);let i=P(4);return V(i.onConfirm())})("keyup.escape",function(){L(t);let i=P(4);return V(i.onCancel())}),h()}if(n&2){let t=P().$implicit,r=P(3);ue("ngModel",r.fieldValues[t.name])}}function yQ(n,e){if(n&1&&(f(0,"div",33)(1,"label",34),p(2),q(3,hQ,2,0,"span",35),h(),q(4,gQ,1,3,"input",22)(5,pQ,1,2,"input",23)(6,mQ,1,1,"input",24)(7,_Q,1,1,"input",25),h()),n&2){let t=e.$implicit;y(2),H(t.label),y(),S("ngIf",t.required),y(),S("ngIf",t.type==="text"||t.type==="email"||t.type==="password"),y(),S("ngIf",t.type==="number"),y(),S("ngIf",t.type==="color"),y(),S("ngIf",t.type==="date")}}function vQ(n,e){if(n&1&&(f(0,"div",31),q(1,yQ,8,6,"div",32),h()),n&2){let t=P(2);y(),S("ngForOf",t.config.fields)}}function CQ(n,e){if(n&1&&(f(0,"span",44),p(1),h()),n&2){let t=P().$implicit;y(),H(t.icon)}}function bQ(n,e){if(n&1){let t=se();f(0,"label",40)(1,"input",41),de("ngModelChange",function(i){L(t);let o=P(3);return he(o.selectedOption,i)||(o.selectedOption=i),V(i)}),h(),q(2,CQ,2,1,"span",42),f(3,"span",43),p(4),h()()}if(n&2){let t=e.$implicit,r=e.index,i=P(3);ct("selected",i.selectedOption===t.value),y(),S("name","option-"+r)("value",t.value),ue("ngModel",i.selectedOption),y(),S("ngIf",t.icon),y(2),H(t.label)}}function wQ(n,e){if(n&1&&(f(0,"div",37)(1,"div",38),q(2,bQ,5,7,"label",39),h()()),n&2){let t=P(2);y(2),S("ngForOf",t.config.options)}}function MQ(n,e){if(n&1){let t=se();f(0,"button",45),B("click",function(){L(t);let i=P(2);return V(i.onCancel())}),p(1),h()}if(n&2){let t=P(2);y(),re(" ",t.config.cancelText," ")}}function xQ(n,e){if(n&1){let t=se();f(0,"div",2),B("click",function(i){L(t);let o=P();return V(o.onOverlayClick(i))}),f(1,"div",3),B("click",function(i){return L(t),V(i.stopPropagation())}),f(2,"div",4)(3,"div",5)(4,"div",6),q(5,eQ,2,0,"span",7)(6,tQ,2,0,"span",7)(7,nQ,2,0,"span",7)(8,rQ,2,0,"span",7)(9,iQ,2,0,"span",7),h(),f(10,"h3",8),p(11),h()(),q(12,oQ,3,0,"button",9),h(),f(13,"div",10),q(14,sQ,2,1,"p",11)(15,fQ,6,5,"div",12)(16,vQ,2,1,"div",13)(17,wQ,3,1,"div",14),h(),f(18,"div",15),q(19,MQ,2,1,"button",16),f(20,"button",17),B("click",function(){L(t);let i=P();return V(i.onConfirm())}),p(21),h()()()()}if(n&2){let t=P();y(),on(t.config.type),y(4),S("ngIf",t.config.type==="info"),y(),S("ngIf",t.config.type==="success"),y(),S("ngIf",t.config.type==="warning"),y(),S("ngIf",t.config.type==="error"),y(),S("ngIf",t.config.type==="confirm"),y(2),H(t.config.title),y(),S("ngIf",t.config.type==="confirm"&&t.config.cancelText),y(2),S("ngIf",t.config.message),y(),S("ngIf",t.config.inputType),y(),S("ngIf",t.config.fields&&t.config.fields.length>0),y(),S("ngIf",t.config.options&&t.config.options.length>0),y(2),S("ngIf",t.config.cancelText),y(),on("btn-"+t.config.type),S("disabled",!t.isValidInput()),y(),re(" ",t.config.confirmText||"OK"," ")}}var X_=class n{constructor(e){this.dialogService=e}config=null;result=new gt;inputValue="";selectedOption="";fieldValues={};subscription=new ze;ngOnInit(){this.subscription.add(this.dialogService.dialog$.subscribe(e=>{this.config=e,e&&(this.inputValue=e.inputValue||"",this.selectedOption=e.selectedValue||"",this.fieldValues={},e.fields&&e.fields.forEach(t=>{this.fieldValues[t.name]=t.value||""}),setTimeout(()=>{let t=document.querySelector(".dialog-input");t&&(t.focus(),t.select())},100))}))}ngOnDestroy(){this.subscription.unsubscribe()}onConfirm(){if(!this.isValidInput())return;let e={confirmed:!0,value:this.inputValue,selectedOption:this.selectedOption,fieldValues:this.fieldValues};this.dialogService.handleResult(e)}onCancel(){let e={confirmed:!1};this.dialogService.handleResult(e)}onOverlayClick(e){this.config&&(this.config.type==="confirm"||this.config.type==="info")&&this.onCancel()}isValidInput(){return this.config?this.config.inputType?this.config.inputType==="number"?this.inputValue!==""&&!isNaN(Number(this.inputValue)):this.inputValue.trim()!=="":this.config.options&&this.config.options.length>0?this.selectedOption!=="":!0:!1}static \u0275fac=function(t){return new(t||n)(G(Mr))};static \u0275cmp=at({type:n,selectors:[["app-dialog"]],inputs:{config:"config"},outputs:{result:"result"},decls:1,vars:1,consts:[["inputRef",""],["class","dialog-overlay",3,"click",4,"ngIf"],[1,"dialog-overlay",3,"click"],[1,"dialog-container",3,"click"],[1,"dialog-header"],[1,"header-content"],[1,"header-icon"],[4,"ngIf"],[1,"dialog-title"],["class","close-btn",3,"click",4,"ngIf"],[1,"dialog-body"],["class","dialog-message",4,"ngIf"],["class","input-group",4,"ngIf"],["class","fields-group",4,"ngIf"],["class","options-group",4,"ngIf"],[1,"dialog-footer"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[1,"close-btn",3,"click"],[1,"dialog-message"],[1,"input-group"],["class","input-label",4,"ngIf"],["class","dialog-input",3,"type","ngModel","placeholder","ngModelChange","keyup.enter","keyup.escape",4,"ngIf"],["type","number","class","dialog-input",3,"ngModel","placeholder","ngModelChange","keyup.enter","keyup.escape",4,"ngIf"],["type","color","class","dialog-input color-input",3,"ngModel","ngModelChange","keyup.enter","keyup.escape",4,"ngIf"],["type","date","class","dialog-input",3,"ngModel","ngModelChange","keyup.enter","keyup.escape",4,"ngIf"],[1,"input-label"],[1,"dialog-input",3,"ngModelChange","keyup.enter","keyup.escape","type","ngModel","placeholder"],["type","number",1,"dialog-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel","placeholder"],["type","color",1,"dialog-input","color-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],["type","date",1,"dialog-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"fields-group"],["class","field-item",4,"ngFor","ngForOf"],[1,"field-item"],[1,"field-label"],["class","required",4,"ngIf"],[1,"required"],[1,"options-group"],[1,"options-list"],["class","option-item",3,"selected",4,"ngFor","ngForOf"],[1,"option-item"],["type","radio",1,"option-radio",3,"ngModelChange","name","value","ngModel"],["class","option-icon",4,"ngIf"],[1,"option-label"],[1,"option-icon"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){t&1&&q(0,xQ,22,18,"div",1),t&2&&S("ngIf",r.config)},dependencies:[lt,Vn,_t,jt,Lt,yP,vP,Vt,Pt],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.dialog-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 40px #00000026;max-width:500px;width:90%;max-height:80vh;overflow:hidden;animation:_ngcontent-%COMP%_dialogSlideIn .3s ease-out;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_dialogSlideIn{0%{opacity:0;transform:scale(.9) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.dialog-header[_ngcontent-%COMP%]{padding:20px 24px 16px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.header-icon[_ngcontent-%COMP%]{font-size:24px}.dialog-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1f2937}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dialog-body[_ngcontent-%COMP%]{padding:20px 24px;overflow-y:auto;max-height:calc(80vh - 160px);min-height:0}.dialog-message[_ngcontent-%COMP%]{margin:0 0 20px;color:#4b5563;line-height:1.5}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}.input-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151}.dialog-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e5e7eb;border-radius:8px;font-size:14px;transition:border-color .2s;box-sizing:border-box}.dialog-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.color-input[_ngcontent-%COMP%]{width:60px!important;height:40px;padding:4px;border-radius:6px;cursor:pointer}.fields-group[_ngcontent-%COMP%]{margin-bottom:20px}.field-item[_ngcontent-%COMP%]{margin-bottom:16px}.field-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#374151}.required[_ngcontent-%COMP%]{color:#ef4444;margin-left:4px}.options-group[_ngcontent-%COMP%]{margin-bottom:20px;max-height:300px;overflow:hidden}.options-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto;padding-right:8px}.options-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.options-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.options-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.options-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.option-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s}.option-item[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f9fafb}.option-item.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.option-radio[_ngcontent-%COMP%]{margin:0}.option-icon[_ngcontent-%COMP%]{font-size:18px}.option-label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.dialog-footer[_ngcontent-%COMP%]{padding:16px 24px 20px;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:12px;flex-shrink:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s;font-size:14px}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.btn-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#059669}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background:#d97706}.btn-error[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-error[_ngcontent-%COMP%]:hover{background:#dc2626}.dialog-container.info[_ngcontent-%COMP%]{border-left:5px solid #3b82f6;box-shadow:0 20px 40px #00000026,-2px 0 #3b82f61a}.dialog-container.success[_ngcontent-%COMP%]{border-left:5px solid #10b981;box-shadow:0 20px 40px #00000026,-2px 0 #10b9811a}.dialog-container.warning[_ngcontent-%COMP%]{border-left:5px solid #f59e0b;box-shadow:0 20px 40px #00000026,-2px 0 #f59e0b1a}.dialog-container.error[_ngcontent-%COMP%]{border-left:5px solid #ef4444;box-shadow:0 20px 40px #00000026,-2px 0 #ef44441a}.dialog-container.confirm[_ngcontent-%COMP%]{border-left:5px solid #8b5cf6;box-shadow:0 20px 40px #00000026,-2px 0 #8b5cf61a}@media (max-width: 768px){.dialog-container[_ngcontent-%COMP%]{max-width:95%;max-height:90vh}.dialog-body[_ngcontent-%COMP%]{max-height:calc(90vh - 140px);padding:16px 20px}.options-group[_ngcontent-%COMP%], .options-list[_ngcontent-%COMP%]{max-height:250px}.option-item[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}}@media (max-width: 480px){.dialog-container[_ngcontent-%COMP%]{max-width:98%;max-height:95vh}.dialog-body[_ngcontent-%COMP%]{max-height:calc(95vh - 120px);padding:12px 16px}.options-group[_ngcontent-%COMP%], .options-list[_ngcontent-%COMP%]{max-height:200px}}"]})};var ey=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function PQ(n,e){n&1&&(f(0,"div",3)(1,"div",4),p(2,"\u23F3"),h(),f(3,"p"),p(4,"Loading..."),h()())}function OQ(n,e){if(n&1){let t=se();f(0,"div",35)(1,"div",36)(2,"span",37),p(3),h(),f(4,"button",38),B("click",function(){L(t);let i=P(2);return V(i.signOut())}),f(5,"span",39),p(6,"\u{1F6AA}"),h()()()()}if(n&2){let t=e.ngIf;y(3),H(t.displayName||t.email)}}function IQ(n,e){if(n&1){let t=se();f(0,"div",40),B("click",function(){L(t);let i=P(2);return V(i.closeSidebar())}),h()}}function SQ(n,e){if(n&1){let t=se();f(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),B("click",function(){L(t);let i=P();return V(i.toggleSidebar())}),f(5,"span",10),p(6,"\u2630"),h()(),f(7,"div",11)(8,"span",12),p(9,"\u{1F4B0}"),h(),f(10,"span",13),p(11,"Expense Tracker"),h()()(),f(12,"nav",14)(13,"a",15),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(14,"span",16),p(15,"\u{1F4CA}"),h(),f(16,"span",17),p(17,"Dashboard"),h()(),f(18,"a",18),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(19,"span",16),p(20,"\u{1F4B8}"),h(),f(21,"span",17),p(22,"Expenses"),h()(),f(23,"a",19),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(24,"span",16),p(25,"\u{1F3F7}\uFE0F"),h(),f(26,"span",17),p(27,"Categories"),h()(),f(28,"a",20),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(29,"span",16),p(30,"\u{1F4CA}"),h(),f(31,"span",17),p(32,"Reports"),h()()(),q(33,OQ,7,1,"div",21),Ve(34,"async"),h()(),q(35,IQ,1,0,"div",22),f(36,"aside",23)(37,"div",24)(38,"div",25)(39,"span",12),p(40,"\u{1F4B0}"),h(),f(41,"span",13),p(42,"Expense Tracker"),h()()(),f(43,"nav",26)(44,"a",27),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(45,"span",28),p(46,"\u{1F4CA}"),h(),f(47,"span",29),p(48,"Dashboard"),h()(),f(49,"a",30),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(50,"span",28),p(51,"\u{1F4B8}"),h(),f(52,"span",29),p(53,"Expenses"),h()(),f(54,"a",31),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(55,"span",28),p(56,"\u{1F3F7}\uFE0F"),h(),f(57,"span",29),p(58,"Categories"),h()(),f(59,"a",32),B("click",function(){L(t);let i=P();return V(i.onNavClick())}),f(60,"span",28),p(61,"\u{1F4CA}"),h(),f(62,"span",29),p(63,"Reports"),h()()()(),f(64,"main",33)(65,"div",34),pt(66,"router-outlet"),h()()()}if(n&2){let t=P();y(),ct("header-hidden",t.headerHidden),y(32),S("ngIf",yn(34,8,t.currentUser$)),y(2),S("ngIf",t.sidebarOpen),y(),ct("sidebar-open",t.sidebarOpen),y(28),ct("content-blurred",t.sidebarOpen)}}function DQ(n,e){n&1&&(f(0,"div",41),pt(1,"router-outlet"),h())}var ty=class n{constructor(e,t,r){this.scrollService=e;this.authService=t;this.router=r;this.restoreLastRoute(),this.router.events.subscribe(()=>{this.saveCurrentRoute()})}sidebarOpen=!1;headerHidden=!1;lastScrollY=0;scrollThreshold=10;scrollHandler=null;ngOnInit(){this.setupScrollListener()}ngOnDestroy(){this.removeScrollListener()}get currentUser$(){return this.authService.currentUser$}setupScrollListener(){this.scrollHandler=()=>{let e=window.scrollY||window.pageYOffset;Math.abs(e-this.lastScrollY)>this.scrollThreshold&&(e>this.lastScrollY&&e>100?this.headerHidden=!0:e<this.lastScrollY&&(this.headerHidden=!1),this.lastScrollY=e)},window.addEventListener("scroll",this.scrollHandler,{passive:!0})}removeScrollListener(){this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler),this.scrollHandler=null)}toggleSidebar(){console.log("Toggle sidebar called"),this.sidebarOpen=!this.sidebarOpen,this.sidebarOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeSidebar(){console.log("Close sidebar called"),this.sidebarOpen=!1,document.body.style.overflow=""}signOut(){return b(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/login"])}catch(e){console.error("Error signing out:",e)}})}saveCurrentRoute(){let e=this.router.url;e&&e!=="/login"&&e!=="/register"&&localStorage.setItem("lastRoute",e)}restoreLastRoute(){let e=localStorage.getItem("lastRoute");e&&e!=="/login"&&e!=="/register"&&this.authService.currentUser$.pipe(xt(t=>t!==void 0),Bt(1)).subscribe(t=>{t&&this.router.url==="/dashboard"&&setTimeout(()=>{this.router.navigate([e])},100)})}onNavClick(){this.closeSidebar(),this.scrollService.scrollToTop(),this.saveCurrentRoute()}static \u0275fac=function(t){return new(t||n)(G(ey),G(Zt),G(Xe))};static \u0275cmp=at({type:n,selectors:[["app-root"]],decls:7,vars:9,consts:[["class","loading-container",4,"ngIf"],["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["aria-label","Toggle sidebar",1,"sidebar-toggle",3,"click"],[1,"hamburger-icon"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"header-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link",3,"click"],["class","user-section",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-brand"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"link-icon"],[1,"link-text"],["routerLink","/expenses","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"main-content"],[1,"content-container"],[1,"user-section"],[1,"user-info"],[1,"user-name"],["title","Sign out",1,"sign-out-btn",3,"click"],[1,"sign-out-icon"],[1,"sidebar-overlay",3,"click"],[1,"auth-container"]],template:function(t,r){t&1&&(q(0,PQ,5,0,"div",0),Ve(1,"async"),q(2,SQ,67,10,"div",1),Ve(3,"async"),q(4,DQ,2,0,"div",2),Ve(5,"async"),pt(6,"app-dialog")),t&2&&(S("ngIf",yn(1,3,r.currentUser$)===void 0),y(2),S("ngIf",yn(3,5,r.currentUser$)),y(2),S("ngIf",yn(5,7,r.currentUser$)===null))},dependencies:[hd,rs,Nb,lt,_t,X_,QC],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;position:relative;height:100%;margin:0;padding:0}@supports (height: 100dvh){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100vh!important;min-height:100vh!important;max-height:100vh!important;top:0!important}}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 2px 10px #0000001a;position:fixed;top:0;left:0;right:0;z-index:100;padding:0;transition:transform .3s cubic-bezier(.4,0,.2,1);transform:translateY(0)}.app-header.header-hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;margin:0 auto}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:8px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;min-width:44px;min-height:44px}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}@media (min-width: 769px){.sidebar-toggle[_ngcontent-%COMP%]{display:none}}.hamburger-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.header-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#fff;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d}.nav-icon[_ngcontent-%COMP%]{font-size:1rem}.nav-text[_ngcontent-%COMP%]{font-size:.9rem}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.5rem 1rem;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.9rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sign-out-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:6px;padding:.25rem .5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.sign-out-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.sign-out-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.auth-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;min-height:100vh;max-height:100vh;background:#00000080;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;min-height:100vh;max-height:100vh;background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);box-shadow:4px 0 20px #00000026;z-index:300;transition:left .3s ease;overflow-y:auto;display:flex;flex-direction:column;padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0;flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:#fff;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left-color:#ffffff80}.sidebar-link.active[_ngcontent-%COMP%]{background:#fff3;border-left-color:#fff}.link-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.link-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;transition:filter .3s ease,margin-top .3s cubic-bezier(.4,0,.2,1);margin-top:70px}.main-content.content-blurred[_ngcontent-%COMP%]{filter:blur(4px);pointer-events:none}.content-container[_ngcontent-%COMP%]{margin:0 auto;padding:2rem 1.5rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.header-nav[_ngcontent-%COMP%]{display:none}.sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:280px;left:-280px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.main-content[_ngcontent-%COMP%]{margin-top:65px}.content-container[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.user-section[_ngcontent-%COMP%]{margin-left:.5rem}.user-info[_ngcontent-%COMP%]{padding:.25rem .5rem}.user-name[_ngcontent-%COMP%]{max-width:100px;font-size:.8rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem}.sidebar[_ngcontent-%COMP%]{width:260px;left:-260px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.main-content[_ngcontent-%COMP%]{margin-top:60px}.content-container[_ngcontent-%COMP%]{padding:.75rem}}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem}.loading-spinner[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};ab(ty,v5).catch(n=>console.error(n));
