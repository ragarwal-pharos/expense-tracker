var SL=Object.defineProperty,xL=Object.defineProperties;var TL=Object.getOwnPropertyDescriptors;var kh=Object.getOwnPropertySymbols,AL=Object.getPrototypeOf,cD=Object.prototype.hasOwnProperty,lD=Object.prototype.propertyIsEnumerable,RL=Reflect.get;var aD=(n,e,t)=>e in n?SL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})cD.call(e,t)&&aD(n,t,e[t]);if(kh)for(var t of kh(e))lD.call(e,t)&&aD(n,t,e[t]);return n},ce=(n,e)=>xL(n,TL(e));var Is=(n,e)=>{var t={};for(var r in n)cD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&kh)for(var r of kh(n))e.indexOf(r)<0&&lD.call(n,r)&&(t[r]=n[r]);return t};var wo=(n,e,t)=>RL(AL(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var p_;function Nh(){return p_}function jr(n){let e=p_;return p_=n,e}var uD=Symbol("NotFound");function Ha(n){return n===uD||n?.name==="\u0275NotFound"}function Uh(n,e){return Object.is(n,e)}var xt=null,Fh=!1,m_=1,kL=null,en=Symbol("SIGNAL");function Ee(n){let e=xt;return xt=n,e}function Bh(){return xt}var Ps={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qa(n){if(Fh)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(n);let e=xt.nextProducerIndex++;if(qh(xt),e<xt.producerNode.length&&xt.producerNode[e]!==n&&Kl(xt)){let t=xt.producerNode[e];Hh(t,xt.producerIndexOfThis[e])}xt.producerNode[e]!==n&&(xt.producerNode[e]=n,xt.producerIndexOfThis[e]=Kl(xt)?hD(n,xt,e):0),xt.producerLastReadVersion[e]=n.version}function dD(){m_++}function $h(n){if(!(Kl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===m_)){if(!n.producerMustRecompute(n)&&!Yl(n)){jh(n);return}n.producerRecomputeValue(n),jh(n)}}function y_(n){if(n.liveConsumerNode===void 0)return;let e=Fh;Fh=!0;try{for(let t of n.liveConsumerNode)t.dirty||NL(t)}finally{Fh=e}}function __(){return xt?.consumerAllowSignalWrites!==!1}function NL(n){n.dirty=!0,y_(n),n.consumerMarkedDirty?.(n)}function jh(n){n.dirty=!1,n.lastCleanEpoch=m_}function Ds(n){return n&&(n.nextProducerIndex=0),Ee(n)}function Wa(n,e){if(Ee(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Kl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Hh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Yl(n){qh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||($h(t),r!==t.version))return!0}return!1}function zh(n){if(qh(n),Kl(n))for(let e=0;e<n.producerNode.length;e++)Hh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function hD(n,e,t){if(fD(n),n.liveConsumerNode.length===0&&gD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=hD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Hh(n,e){if(fD(n),n.liveConsumerNode.length===1&&gD(n))for(let r=0;r<n.producerNode.length;r++)Hh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];qh(i),i.producerIndexOfThis[r]=e}}function Kl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function qh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function fD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function gD(n){return n.producerNode!==void 0}function Wh(n){kL?.(n)}function Gh(n,e){let t=Object.create(FL);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if($h(t),qa(t),t.value===Gl)throw t.error;return t.value};return r[en]=t,Wh(t),r}var Lh=Symbol("UNSET"),Vh=Symbol("COMPUTING"),Gl=Symbol("ERRORED"),FL=ce(j({},Ps),{value:Lh,dirty:!0,error:null,equal:Uh,kind:"computed",producerMustRecompute(n){return n.value===Lh||n.value===Vh},producerRecomputeValue(n){if(n.value===Vh)throw new Error("");let e=n.value;n.value=Vh;let t=Ds(n),r,i=!1;try{r=n.computation(),Ee(null),i=e!==Lh&&e!==Gl&&r!==Gl&&n.equal(e,r)}catch(o){r=Gl,n.error=o}finally{Wa(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function LL(){throw new Error}var pD=LL;function mD(n){pD(n)}function v_(n){pD=n}var VL=null;function C_(n,e){let t=Object.create(Kh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>yD(t);return r[en]=t,Wh(t),[r,s=>Ga(t,s),s=>b_(t,s)]}function yD(n){return qa(n),n.value}function Ga(n,e){__()||mD(n),n.equal(n.value,e)||(n.value=e,jL(n))}function b_(n,e){__()||mD(n),Ga(n,e(n.value))}var Kh=ce(j({},Ps),{equal:Uh,value:void 0,kind:"signal"});function jL(n){n.version++,dD(),y_(n),VL?.(n)}function ve(n){return typeof n=="function"}function Ka(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Yh=Ka(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Os(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ve(r))try{r()}catch(o){e=o instanceof Yh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_D(o)}catch(s){e=e??[],s instanceof Yh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_D(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Os(t,e)}remove(e){let{_finalizers:t}=this;t&&Os(t,e),e instanceof n&&e._removeParent(this)}};qe.EMPTY=(()=>{let n=new qe;return n.closed=!0,n})();var w_=qe.EMPTY;function Qh(n){return n instanceof qe||n&&"closed"in n&&ve(n.remove)&&ve(n.add)&&ve(n.unsubscribe)}function _D(n){ve(n)?n():n.unsubscribe()}var pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ya={setTimeout(n,e,...t){let{delegate:r}=Ya;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ya;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zh(n){Ya.setTimeout(()=>{let{onUnhandledError:e}=pr;if(e)e(n);else throw n})}function Ss(){}var vD=E_("C",void 0,void 0);function CD(n){return E_("E",void 0,n)}function bD(n){return E_("N",n,void 0)}function E_(n,e,t){return{kind:n,value:e,error:t}}var xs=null;function Qa(n){if(pr.useDeprecatedSynchronousErrorHandling){let e=!xs;if(e&&(xs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xs;if(xs=null,t)throw r}}else n()}function wD(n){pr.useDeprecatedSynchronousErrorHandling&&xs&&(xs.errorThrown=!0,xs.error=n)}var Ts=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qh(e)&&e.add(this)):this.destination=$L}static create(e,t,r){return new Za(e,t,r)}next(e){this.isStopped?I_(bD(e),this):this._next(e)}error(e){this.isStopped?I_(CD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?I_(vD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UL=Function.prototype.bind;function M_(n,e){return UL.call(n,e)}var P_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jh(r)}else Jh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jh(t)}}},Za=class extends Ts{constructor(e,t,r){super();let i;if(ve(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&M_(e.next,o),error:e.error&&M_(e.error,o),complete:e.complete&&M_(e.complete,o)}):i=e}this.destination=new P_(i)}};function Jh(n){pr.useDeprecatedSynchronousErrorHandling?wD(n):Zh(n)}function BL(n){throw n}function I_(n,e){let{onStoppedNotification:t}=pr;t&&Ya.setTimeout(()=>t(n,e))}var $L={closed:!0,next:Ss,error:BL,complete:Ss};var Ja=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fn(n){return n}function D_(...n){return O_(n)}function O_(n){return n.length===0?Fn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=HL(t)?t:new Za(t,r,i);return Qa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ED(r),new r((i,o)=>{let s=new Za({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ja](){return this}pipe(...t){return O_(t)(this)}toPromise(t){return t=ED(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ED(n){var e;return(e=n??pr.Promise)!==null&&e!==void 0?e:Promise}function zL(n){return n&&ve(n.next)&&ve(n.error)&&ve(n.complete)}function HL(n){return n&&n instanceof Ts||zL(n)&&Qh(n)}function S_(n){return ve(n?.lift)}function Ne(n){return e=>{if(S_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,r,i){return new x_(n,e,t,r,i)}var x_=class extends Ts{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xa(){return Ne((n,e)=>{let t=null;n._refCount++;let r=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ec=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,S_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Xa()(this)}};var MD=Ka(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Xh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new MD}next(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?w_:(this.currentObservers=null,o.push(t),new qe(()=>{this.currentObservers=null,Os(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new Xh(e,t),n})(),Xh=class extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:w_}};var rt=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var T_={now(){return(T_.delegate||Date).now()},delegate:void 0};var ef=class extends qe{constructor(e,t){super()}schedule(e,t=0){return this}};var Ql={setInterval(n,e,...t){let{delegate:r}=Ql;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ql;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var tc=class extends ef{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ql.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ql.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Os(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var nc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};nc.now=T_.now;var rc=class extends nc{constructor(e,t=nc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var A_=new rc(tc);var tf=class extends tc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var nf=class extends rc{};var R_=new nf(tf);var Mn=new de(n=>n.complete());function ID(n){return n&&ve(n.schedule)}function PD(n){return n[n.length-1]}function rf(n){return ve(PD(n))?n.pop():void 0}function Eo(n){return ID(PD(n))?n.pop():void 0}function k_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function DD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function As(n){return this instanceof As?(this.v=n,this):new As(n)}function SD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(M){return Promise.resolve(M).then(v,f)}}function a(v,M){r[v]&&(i[v]=function(x){return new Promise(function(R,B){o.push([v,x,R,B])>1||c(v,x)})},M&&(i[v]=M(i[v])))}function c(v,M){try{u(r[v](M))}catch(x){y(o[0][3],x)}}function u(v){v.value instanceof As?Promise.resolve(v.value.v).then(d,f):y(o[0][2],v)}function d(v){c("next",v)}function f(v){c("throw",v)}function y(v,M){v(M),o.shift(),o.length&&c(o[0][0],o[0][1])}}function xD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof DD=="function"?DD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var of=n=>n&&typeof n.length=="number"&&typeof n!="function";function sf(n){return ve(n?.then)}function af(n){return ve(n[Ja])}function cf(n){return Symbol.asyncIterator&&ve(n?.[Symbol.asyncIterator])}function lf(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uf=qL();function df(n){return ve(n?.[uf])}function hf(n){return SD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield As(t.read());if(i)return yield As(void 0);yield yield As(r)}}finally{t.releaseLock()}})}function ff(n){return ve(n?.getReader)}function bt(n){if(n instanceof de)return n;if(n!=null){if(af(n))return WL(n);if(of(n))return GL(n);if(sf(n))return KL(n);if(cf(n))return TD(n);if(df(n))return YL(n);if(ff(n))return QL(n)}throw lf(n)}function WL(n){return new de(e=>{let t=n[Ja]();if(ve(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GL(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function KL(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zh)})}function YL(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function TD(n){return new de(e=>{ZL(n,e).catch(t=>e.error(t))})}function QL(n){return TD(hf(n))}function ZL(n,e){var t,r,i,o;return OD(this,void 0,void 0,function*(){try{for(t=xD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function In(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Mo(n,e=0){return Ne((t,r)=>{t.subscribe(Re(r,i=>In(r,n,()=>r.next(i),e),()=>In(r,n,()=>r.complete(),e),i=>In(r,n,()=>r.error(i),e)))})}function Io(n,e=0){return Ne((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function AD(n,e){return bt(n).pipe(Io(e),Mo(e))}function RD(n,e){return bt(n).pipe(Io(e),Mo(e))}function kD(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ND(n,e){return new de(t=>{let r;return In(t,e,()=>{r=n[uf](),In(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ve(r?.return)&&r.return()})}function gf(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{In(t,e,()=>{let r=n[Symbol.asyncIterator]();In(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function FD(n,e){return gf(hf(n),e)}function LD(n,e){if(n!=null){if(af(n))return AD(n,e);if(of(n))return kD(n,e);if(sf(n))return RD(n,e);if(cf(n))return gf(n,e);if(df(n))return ND(n,e);if(ff(n))return FD(n,e)}throw lf(n)}function it(n,e){return e?LD(n,e):bt(n)}function le(...n){let e=Eo(n);return it(n,e)}function ic(n,e){let t=ve(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function N_(n){return!!n&&(n instanceof de||ve(n.lift)&&ve(n.subscribe))}var xi=Ka(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ge(n,e){return Ne((t,r)=>{let i=0;t.subscribe(Re(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:JL}=Array;function XL(n,e){return JL(e)?n(...e):n(e)}function pf(n){return ge(e=>XL(n,e))}var{isArray:eV}=Array,{getPrototypeOf:tV,prototype:nV,keys:rV}=Object;function mf(n){if(n.length===1){let e=n[0];if(eV(e))return{args:e,keys:null};if(iV(e)){let t=rV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function iV(n){return n&&typeof n=="object"&&tV(n)===nV}function yf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Zl(...n){let e=Eo(n),t=rf(n),{args:r,keys:i}=mf(n);if(r.length===0)return it([],e);let o=new de(oV(r,e,i?s=>yf(i,s):Fn));return t?o.pipe(pf(t)):o}function oV(n,e,t=Fn){return r=>{VD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)VD(e,()=>{let u=it(n[c],e),d=!1;u.subscribe(Re(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VD(n,e,t){n?In(t,n,e):e()}function jD(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,y=()=>{f&&!c.length&&!u&&e.complete()},v=x=>u<r?M(x):c.push(x),M=x=>{o&&e.next(x),u++;let R=!1;bt(t(x,d++)).subscribe(Re(e,B=>{i?.(B),o?v(B):e.next(B)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;c.length&&u<r;){let B=c.shift();s?In(e,s,()=>M(B)):M(B)}y()}catch(B){e.error(B)}}))};return n.subscribe(Re(e,v,()=>{f=!0,y()})),()=>{a?.()}}function yt(n,e,t=1/0){return ve(e)?yt((r,i)=>ge((o,s)=>e(r,o,i,s))(bt(n(r,i))),t):(typeof e=="number"&&(t=e),Ne((r,i)=>jD(r,i,n,t)))}function Po(n=1/0){return yt(Fn,n)}function UD(){return Po(1)}function oc(...n){return UD()(it(n,Eo(n)))}function Jl(n){return new de(e=>{bt(n()).subscribe(e)})}function F_(...n){let e=rf(n),{args:t,keys:r}=mf(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;bt(t[d]).subscribe(Re(o,y=>{f||(f=!0,u--),a[d]=y},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?yf(r,a):a),o.complete())}))}});return e?i.pipe(pf(e)):i}var Ti=new de(Ss);function _t(n,e){return Ne((t,r)=>{let i=0;t.subscribe(Re(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ai(n){return Ne((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Re(t,void 0,void 0,s=>{o=bt(n(s,Ai(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function BD(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Re(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Do(n,e){return ve(e)?yt(n,e,1):yt(n,1)}function Oo(n){return Ne((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tt(n){return n<=0?()=>Mn:Ne((e,t)=>{let r=0;e.subscribe(Re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _f(n=sV){return Ne((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sV(){return new xi}function Xl(n){return Ne((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ri(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_t((i,o)=>n(i,o,r)):Fn,Tt(1),t?Oo(e):_f(()=>new xi))}function sc(n){return n<=0?()=>Mn:Ne((e,t)=>{let r=[];e.subscribe(Re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function L_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_t((i,o)=>n(i,o,r)):Fn,sc(1),t?Oo(e):_f(()=>new xi))}function V_(n,e){return Ne(BD(n,e,arguments.length>=2,!0))}function j_(...n){let e=Eo(n);return Ne((t,r)=>{(e?oc(n,t,e):oc(n,t)).subscribe(r)})}function kt(n,e){return Ne((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Re(r,c=>{i?.unsubscribe();let u=0,d=o++;bt(n(c,d)).subscribe(i=Re(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function vf(n){return Ne((e,t)=>{bt(n).subscribe(Re(t,()=>t.complete(),Ss)),!t.closed&&e.subscribe(t)})}function Nt(n,e,t){let r=ve(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ne((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Re(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Fn}function $D(n){let e=Ee(null);try{return n()}finally{Ee(e)}}var Mf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(Li(e,t)),this.code=e}};function aV(n){return`NG0${Math.abs(n)}`}function Li(n,e){return`${aV(n)}${e?": "+e:""}`}var Vi=globalThis;function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("")}function qD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ni(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ni).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function If(n,e){return n?e?`${n} ${e}`:n:e||""}var cV=Be({__forward_ref__:Be});function Ln(n){return n.__forward_ref__=Ln,n.toString=function(){return Ni(this())},n}function zt(n){return J_(n)?n():n}function J_(n){return typeof n=="function"&&n.hasOwnProperty(cV)&&n.__forward_ref__===Ln}function WD(n,e){n==null&&X_(e,n,null,"!=")}function X_(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function iu(n){return lV(n,Pf)}function ev(n){return iu(n)!==null}function lV(n,e){return n.hasOwnProperty(e)&&n[e]||null}function uV(n){let e=n?.[Pf]??null;return e||null}function B_(n){return n&&n.hasOwnProperty(bf)?n[bf]:null}var Pf=Be({\u0275prov:Be}),bf=Be({\u0275inj:Be}),J=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tv(n){return n&&!!n.\u0275providers}var nv=Be({\u0275cmp:Be}),rv=Be({\u0275dir:Be}),iv=Be({\u0275pipe:Be}),ov=Be({\u0275mod:Be}),nu=Be({\u0275fac:Be}),Ls=Be({__NG_ELEMENT_ID__:Be}),zD=Be({__NG_ENV_ID__:Be});function Ur(n){return typeof n=="string"?n:n==null?"":String(n)}function wf(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ur(n)}var sv=Be({ngErrorCode:Be}),GD=Be({ngErrorMessage:Be}),tu=Be({ngTokenPath:Be});function av(n,e){return KD("",-200,e)}function Df(n,e){throw new F(-201,!1)}function dV(n,e){n[tu]??=[];let t=n[tu],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(WD(e.provide,"Token with multi: true should have a provide property"),r=wf(e.provide)):r=wf(e),t[0]!==r&&n[tu].unshift(r)}function hV(n,e){let t=n[tu],r=n[sv],i=n[GD]||n.message;return n.message=gV(i,r,t,e),n}function KD(n,e,t){let r=new F(e,n);return r[sv]=e,r[GD]=n,t&&(r[tu]=t),r}function fV(n){return n[sv]}function gV(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Li(e,`${n}${o}${i}`)}var $_;function YD(){return $_}function fn(n){let e=$_;return $_=n,e}function cv(n,e,t){let r=iu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Df(n,"Injector")}var pV={},Rs=pV,z_="__NG_DI_FLAG__",H_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ks(t)||0;try{return this.injector.get(e,r&8?null:Rs,r)}catch(i){if(Ha(i))return i;throw i}}};function mV(n,e=0){let t=Nh();if(t===void 0)throw new F(-203,!1);if(t===null)return cv(n,void 0,e);{let r=yV(e),i=t.retrieve(n,r);if(Ha(i)){if(r.optional)return null;throw i}return i}}function ne(n,e=0){return(YD()||mV)(zt(n),e)}function N(n,e){return ne(n,ks(e))}function ks(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yV(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function q_(n){let e=[];for(let t=0;t<n.length;t++){let r=zt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=_V(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function lv(n,e){return n[z_]=e,n.prototype[z_]=e,n}function _V(n){return n[z_]}function So(n,e){let t=n.hasOwnProperty(nu);return t?n[nu]:null}function QD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function ZD(n){return n.flat(Number.POSITIVE_INFINITY)}function Of(n,e){n.forEach(t=>Array.isArray(t)?Of(t,e):e(t))}function uv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ou(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function JD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Sf(n,e,t){let r=cc(n,e);return r>=0?n[r|1]=t:(r=~r,JD(n,r,e,t)),r}function xf(n,e){let t=cc(n,e);if(t>=0)return n[t|1]}function cc(n,e){return vV(n,e,1)}function vV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var To={},gn=[],ji=new J(""),dv=new J("",-1),hv=new J(""),ru=class{get(e,t=Rs){if(t===Rs){let i=KD("",-201);throw i.name="\u0275NotFound",i}return t}};function fv(n){return n[ov]||null}function Ui(n){return n[nv]||null}function gv(n){return n[rv]||null}function XD(n){return n[iv]||null}function Lt(n){return{\u0275providers:n}}function eO(n){return Lt([{provide:ji,multi:!0,useValue:n}])}function tO(...n){return{\u0275providers:pv(!0,n),\u0275fromNgModule:!0}}function pv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Of(e,s=>{let a=s;Ef(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nO(i,o),t}function nO(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];mv(i,o=>{e(o,r)})}}function Ef(n,e,t,r){if(n=zt(n),!n)return!1;let i=null,o=B_(n),s=!o&&Ui(n);if(!o&&!s){let c=n.ngModule;if(o=B_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ef(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Of(o.imports,d=>{Ef(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&nO(u,e)}if(!a){let u=So(i)||(()=>new i);e({provide:i,useFactory:u,deps:gn},i),e({provide:hv,useValue:i,multi:!0},i),e({provide:ji,useValue:()=>ne(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;mv(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function mv(n,e){for(let t of n)tv(t)&&(t=t.\u0275providers),Array.isArray(t)?mv(t,e):e(t)}var CV=Be({provide:String,useValue:Be});function rO(n){return n!==null&&typeof n=="object"&&CV in n}function bV(n){return!!(n&&n.useExisting)}function wV(n){return!!(n&&n.useFactory)}function Ns(n){return typeof n=="function"}function iO(n){return!!n.useClass}var su=new J(""),Cf={},HD={},U_;function au(){return U_===void 0&&(U_=new ru),U_}var vt=class{},Fs=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,G_(e,s=>this.processProvider(s)),this.records.set(dv,ac(void 0,this)),i.has("environment")&&this.records.set(vt,ac(void 0,this));let o=this.records.get(su);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hv,gn,{self:!0}))}retrieve(e,t){let r=ks(t)||0;try{return this.get(e,Rs,r)}catch(i){if(Ha(i))return i;throw i}}destroy(){eu(this),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return eu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){eu(this);let t=jr(this),r=fn(void 0),i;try{return e()}finally{jr(t),fn(r)}}get(e,t=Rs,r){if(eu(this),e.hasOwnProperty(zD))return e[zD](this);let i=ks(r),o,s=jr(this),a=fn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=DV(e)&&iu(e);d&&this.injectableDefInScope(d)?u=ac(W_(e),Cf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?au():this.parent;return t=i&8&&t===Rs?null:t,c.get(e,t)}catch(c){let u=fV(c);throw u===-200||u===-201?new F(u,null):c}finally{fn(a),jr(s)}}resolveInjectorInitializers(){let e=Ee(null),t=jr(this),r=fn(void 0),i;try{let o=this.get(ji,gn,{self:!0});for(let s of o)s()}finally{jr(t),fn(r),Ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ni(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=zt(e);let t=Ns(e)?e:zt(e&&e.provide),r=MV(e);if(!Ns(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ac(void 0,Cf,!0),i.factory=()=>q_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ee(null);try{if(t.value===HD)throw av(Ni(e));return t.value===Cf&&(t.value=HD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&PV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=zt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function W_(n){let e=iu(n),t=e!==null?e.factory:So(n);if(t!==null)return t;if(n instanceof J)throw new F(204,!1);if(n instanceof Function)return EV(n);throw new F(204,!1)}function EV(n){if(n.length>0)throw new F(204,!1);let t=uV(n);return t!==null?()=>t.factory(n):()=>new n}function MV(n){if(rO(n))return ac(void 0,n.useValue);{let e=yv(n);return ac(e,Cf)}}function yv(n,e,t){let r;if(Ns(n)){let i=zt(n);return So(i)||W_(i)}else if(rO(n))r=()=>zt(n.useValue);else if(wV(n))r=()=>n.useFactory(...q_(n.deps||[]));else if(bV(n))r=(i,o)=>ne(zt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=zt(n&&(n.useClass||n.provide));if(IV(n))r=()=>new i(...q_(n.deps));else return So(i)||W_(i)}return r}function eu(n){if(n.destroyed)throw new F(205,!1)}function ac(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function IV(n){return!!n.deps}function PV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function DV(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function G_(n,e){for(let t of n)Array.isArray(t)?G_(t,e):t&&tv(t)?G_(t.\u0275providers,e):e(t)}function wt(n,e){let t;n instanceof Fs?(eu(n),t=n):t=new H_(n);let r,i=jr(t),o=fn(void 0);try{return e()}finally{jr(i),fn(o)}}function oO(){return YD()!==void 0||Nh()!=null}var yr=0,fe=1,pe=2,Ft=3,Yn=4,Qn=5,cu=6,lc=7,tn=8,Vs=9,Br=10,ct=11,uc=12,_v=13,js=14,Zn=15,Ao=16,Us=17,$r=18,lu=19,vv=20,ki=21,Tf=22,uu=23,jn=24,Bs=25,Ht=26,sO=1;var Ro=7,du=8,$s=9,pn=10;function zr(n){return Array.isArray(n)&&typeof n[sO]=="object"}function _r(n){return Array.isArray(n)&&n[sO]===!0}function Cv(n){return(n.flags&4)!==0}function ko(n){return n.componentOffset>-1}function hu(n){return(n.flags&1)===1}function Hr(n){return!!n.template}function dc(n){return(n[pe]&512)!==0}function zs(n){return(n[pe]&256)===256}var bv="svg",aO="math";function Jn(n){for(;Array.isArray(n);)n=n[yr];return n}function wv(n,e){return Jn(e[n])}function vr(n,e){return Jn(e[n.index])}function Af(n,e){return n.data[e]}function Rf(n,e){return n[e]}function Ev(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xn(n,e){let t=e[n];return zr(t)?t:t[yr]}function cO(n){return(n[pe]&4)===4}function kf(n){return(n[pe]&128)===128}function lO(n){return _r(n[Ft])}function fu(n,e){return e==null?null:n[e]}function Mv(n){n[Us]=0}function Iv(n){n[pe]&1024||(n[pe]|=1024,kf(n)&&hc(n))}function uO(n,e){for(;n>0;)e=e[js],n--;return e}function gu(n){return!!(n[pe]&9216||n[jn]?.dirty)}function Nf(n){n[Br].changeDetectionScheduler?.notify(8),n[pe]&64&&(n[pe]|=1024),gu(n)&&hc(n)}function hc(n){n[Br].changeDetectionScheduler?.notify(0);let e=xo(n);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!kf(e)));)e=xo(e)}function Pv(n,e){if(zs(n))throw new F(911,!1);n[ki]===null&&(n[ki]=[]),n[ki].push(e)}function dO(n,e){if(n[ki]===null)return;let t=n[ki].indexOf(e);t!==-1&&n[ki].splice(t,1)}function xo(n){let e=n[Ft];return _r(e)?e[Ft]:e}function Dv(n){return n[lc]??=[]}function Ov(n){return n.cleanup??=[]}function hO(n,e,t,r){let i=Dv(e);i.push(t),n.firstCreatePass&&Ov(n).push(r,i.length-1)}var be={lFrame:OO(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pu=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(pu||{}),OV=0,K_=!1;function fO(){return be.lFrame.elementDepthCount}function gO(){be.lFrame.elementDepthCount++}function pO(){be.lFrame.elementDepthCount--}function Sv(){return be.bindingsEnabled}function mO(){return be.skipHydrationRootTNode!==null}function yO(n){return be.skipHydrationRootTNode===n}function _O(){be.skipHydrationRootTNode=null}function Se(){return be.lFrame.lView}function qt(){return be.lFrame.tView}function z(n){return be.lFrame.contextLView=n,n[tn]}function H(n){return be.lFrame.contextLView=null,n}function Wt(){let n=xv();for(;n!==null&&n.type===64;)n=n.parent;return n}function xv(){return be.lFrame.currentTNode}function vO(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function fc(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function Tv(){return be.lFrame.isParent}function CO(){be.lFrame.isParent=!1}function bO(){return be.lFrame.contextLView}function Av(n){X_("Must never be called in production mode"),OV=n}function Rv(){return K_}function kv(n){let e=K_;return K_=n,e}function Ff(){let n=be.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Nv(){return be.lFrame.bindingIndex}function wO(n){return be.lFrame.bindingIndex=n}function mu(){return be.lFrame.bindingIndex++}function yu(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function EO(){return be.lFrame.inI18n}function MO(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lf(e)}function IO(){return be.lFrame.currentDirectiveIndex}function Lf(n){be.lFrame.currentDirectiveIndex=n}function PO(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Fv(){return be.lFrame.currentQueryIndex}function Vf(n){be.lFrame.currentQueryIndex=n}function SV(n){let e=n[fe];return e.type===2?e.declTNode:e.type===1?n[Qn]:null}function Lv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=SV(o),i===null||(o=o[js],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=be.lFrame=DO();return r.currentTNode=e,r.lView=n,!0}function jf(n){let e=DO(),t=n[fe];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function DO(){let n=be.lFrame,e=n===null?null:n.child;return e===null?OO(n):e}function OO(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function SO(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Vv=SO;function Uf(){let n=SO();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xO(n){return(be.lFrame.contextLView=uO(n,be.lFrame.contextLView))[tn]}function qr(){return be.lFrame.selectedIndex}function No(n){be.lFrame.selectedIndex=n}function Bf(){let n=be.lFrame;return Af(n.tView,n.selectedIndex)}function gc(){be.lFrame.currentNamespace=bv}function pc(){xV()}function xV(){be.lFrame.currentNamespace=null}function TO(){return be.lFrame.currentNamespace}var AO=!0;function $f(){return AO}function zf(n){AO=n}function Y_(n,e=null,t=null,r){let i=jv(n,e,t,r);return i.resolveInjectorInitializers(),i}function jv(n,e=null,t=null,r,i=new Set){let o=[t||gn,tO(n)];return r=r||(typeof n=="object"?void 0:Ni(n)),new Fs(o,e||au(),r||null,i)}var Ze=class n{static THROW_IF_NOT_FOUND=Rs;static NULL=new ru;static create(e,t){if(Array.isArray(e))return Y_({name:""},t,e,"");{let r=e.name??"";return Y_({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>ne(dv)});static __NG_ELEMENT_ID__=-1},lt=new J(""),er=(()=>{class n{static __NG_ELEMENT_ID__=TV;static __NG_ENV_ID__=t=>t}return n})(),Q_=class extends er{_lView;constructor(e){super(),this._lView=e}get destroyed(){return zs(this._lView)}onDestroy(e){let t=this._lView;return Pv(t,e),()=>dO(t,e)}};function TV(){return new Q_(Se())}var mr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},nn=new J("",{providedIn:"root",factory:()=>{let n=N(vt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(mr),e.handleError(t))}}}),RO={provide:ji,useValue:()=>void N(mr),multi:!0},AV=new J("",{providedIn:"root",factory:()=>{let n=N(lt).defaultView;if(!n)return;let e=N(nn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(er).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Uv(){return Lt([eO(()=>void N(AV))])}function Bv(n){return typeof n=="function"&&n[en]!==void 0}function Wr(n,e){let[t,r,i]=C_(n,e?.equal),o=t,s=o[en];return o.set=r,o.update=i,o.asReadonly=kO.bind(o),o}function kO(){let n=this[en];if(n.readonlyFn===void 0){let e=()=>this();e[en]=n,n.readonlyFn=e}return n.readonlyFn}function $v(n){return Bv(n)&&typeof n.set=="function"}var Fi=class{},_u=new J("",{providedIn:"root",factory:()=>!1});var zv=new J(""),Hv=new J("");var Hf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=RV}return n})();function RV(){return new Hf(Se(),Wt())}var Gr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new rt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new de(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),mc=(()=>{class n{internalPendingTasks=N(Gr);scheduler=N(Fi);errorHandler=N(nn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();function vu(...n){}var qv=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Z_})}return n})(),Z_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function bc(n){return{toString:n}.toString()}var qf="__parameters__";function jV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function dS(n,e,t){return bc(()=>{let r=jV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(qf)?c[qf]:Object.defineProperty(c,qf,{value:[]})[qf];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Et=lv(dS("Optional"),8);var SC=lv(dS("SkipSelf"),4);function UV(n){return typeof n=="function"}var Jf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function hS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Qr=(()=>{let n=()=>fS;return n.ngInherit=!0,n})();function fS(n){return n.type.prototype.ngOnChanges&&(n.setInput=$V),BV}function BV(){let n=pS(this),e=n?.current;if(e){let t=n.previous;if(t===To)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function $V(n,e,t,r,i){let o=this.declaredInputs[r],s=pS(n)||zV(n,{previous:To,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Jf(u&&u.currentValue,t,c===To),hS(n,e,i,t)}var gS="__ngSimpleChanges__";function pS(n){return n[gS]||null}function zV(n,e){return n[gS]=e}var NO=[];var ze=function(n,e=null,t){for(let r=0;r<NO.length;r++){let i=NO[r];i(n,e,t)}};function HV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=fS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function mS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Kf(n,e,t){yS(n,e,3,t)}function Yf(n,e,t,r){(n[pe]&3)===t&&yS(n,e,t,r)}function Wv(n,e){let t=n[pe];(t&3)===e&&(t&=16383,t+=1,n[pe]=t)}function yS(n,e,t,r){let i=r!==void 0?n[Us]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Us]+=65536),(a<o||o==-1)&&(qV(n,t,e,c),n[Us]=(n[Us]&4294901760)+c+2),c++}function FO(n,e){ze(4,n,e);let t=Ee(null);try{e.call(n)}finally{Ee(t),ze(5,n,e)}}function qV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[pe]>>14<n[Us]>>16&&(n[pe]&3)===e&&(n[pe]+=16384,FO(a,o)):FO(a,o)}var _c=-1,Ws=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function WV(n){return(n.flags&8)!==0}function GV(n){return(n.flags&16)!==0}function KV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];YV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function _S(n){return n===3||n===4||n===6}function YV(n){return n.charCodeAt(0)===64}function wu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?LO(n,t,i,null,e[++r]):LO(n,t,i,null,null))}}return n}function LO(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function vS(n){return n!==_c}function Xf(n){return n&32767}function QV(n){return n>>16}function eg(n,e){let t=QV(n),r=e;for(;t>0;)r=r[js],t--;return r}var rC=!0;function tg(n){let e=rC;return rC=n,e}var ZV=256,CS=ZV-1,bS=5,JV=0,Kr={};function XV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ls)&&(r=t[Ls]),r==null&&(r=t[Ls]=JV++);let i=r&CS,o=1<<i;e.data[n+(i>>bS)]|=o}function ng(n,e){let t=wS(n,e);if(t!==-1)return t;let r=e[fe];r.firstCreatePass&&(n.injectorIndex=e.length,Gv(r.data,n),Gv(e,null),Gv(r.blueprint,null));let i=xC(n,e),o=n.injectorIndex;if(vS(i)){let s=Xf(i),a=eg(i,e),c=a[fe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Gv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function xC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=DS(i),r===null)return _c;if(t++,i=i[js],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _c}function iC(n,e,t){XV(n,e,t)}function e5(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(_S(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ES(n,e,t){if(t&8||n!==void 0)return n;Df(e,"NodeInjector")}function MS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Vs],o=fn(void 0);try{return i?i.get(e,r,t&8):cv(e,r,t&8)}finally{fn(o)}}return ES(r,e,t)}function IS(n,e,t,r=0,i){if(n!==null){if(e[pe]&2048&&!(r&2)){let s=i5(n,e,t,r,Kr);if(s!==Kr)return s}let o=PS(n,e,t,r,Kr);if(o!==Kr)return o}return MS(e,t,r,i)}function PS(n,e,t,r,i){let o=n5(t);if(typeof o=="function"){if(!Lv(e,n,r))return r&1?ES(i,t,r):MS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Df(t);else return s}finally{Vv()}}else if(typeof o=="number"){let s=null,a=wS(n,e),c=_c,u=r&1?e[Zn][Qn]:null;for((a===-1||r&4)&&(c=a===-1?xC(n,e):e[a+8],c===_c||!jO(r,!1)?a=-1:(s=e[fe],a=Xf(c),e=eg(c,e)));a!==-1;){let d=e[fe];if(VO(o,a,d.data)){let f=t5(a,e,t,s,r,u);if(f!==Kr)return f}c=e[a+8],c!==_c&&jO(r,e[fe].data[a+8]===u)&&VO(o,a,e)?(s=d,a=Xf(c),e=eg(c,e)):a=-1}}return i}function t5(n,e,t,r,i,o){let s=e[fe],a=s.data[n+8],c=r==null?ko(a)&&rC:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=Qf(a,s,t,c,u);return d!==null?Eu(e,s,d,a,i):Kr}function Qf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,y=i?a+d:u;for(let v=f;v<y;v++){let M=s[v];if(v<c&&t===M||v>=c&&M.type===t)return v}if(i){let v=s[c];if(v&&Hr(v)&&v.type===t)return c}return null}function Eu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ws){let a=o;if(a.resolving){let v=wf(s[t]);throw av(v)}let c=tg(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?fn(a.injectImpl):null,y=Lv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&HV(t,s[t],e)}finally{f!==null&&fn(f),tg(c),a.resolving=!1,Vv()}}return o}function n5(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ls)?n[Ls]:void 0;return typeof e=="number"?e>=0?e&CS:r5:e}function VO(n,e,t){let r=1<<n;return!!(t[e+(n>>bS)]&r)}function jO(n,e){return!(n&2)&&!(n&1&&e)}var qs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return IS(this._tNode,this._lView,e,ks(r),t)}};function r5(){return new qs(Wt(),Se())}function Er(n){return bc(()=>{let e=n.prototype.constructor,t=e[nu]||oC(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[nu]||oC(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function oC(n){return J_(n)?()=>{let e=oC(zt(n));return e&&e()}:So(n)}function i5(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[pe]&2048&&!dc(s);){let a=PS(o,s,t,r|2,Kr);if(a!==Kr)return a;let c=o.parent;if(!c){let u=s[vv];if(u){let d=u.get(t,Kr,r);if(d!==Kr)return d}c=DS(s),s=s[js]}o=c}return i}function DS(n){let e=n[fe],t=e.type;return t===2?e.declTNode:t===1?n[Qn]:null}function Du(n){return e5(Wt(),n)}function o5(){return wc(Wt(),Se())}function wc(n,e){return new rn(vr(n,e))}var rn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=o5}return n})();function s5(n){return n instanceof rn?n.nativeElement:n}function a5(){return this._results[Symbol.iterator]()}var rg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new nt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=ZD(e);(this._changesDetected=!QD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=a5};function OS(n){return(n.flags&128)===128}var TC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(TC||{}),SS=new Map,c5=0;function l5(){return c5++}function u5(n){SS.set(n[lu],n)}function sC(n){SS.delete(n[lu])}var UO="__ngContext__";function vc(n,e){zr(e)?(n[UO]=e[lu],u5(e)):n[UO]=e}function xS(n){return AS(n[uc])}function TS(n){return AS(n[Yn])}function AS(n){for(;n!==null&&!_r(n);)n=n[Yn];return n}var aC;function AC(n){aC=n}function RS(){if(aC!==void 0)return aC;if(typeof document<"u")return document;throw new F(210,!1)}var pg=new J("",{providedIn:"root",factory:()=>d5}),d5="ng",mg=new J(""),Vo=new J("",{providedIn:"platform",factory:()=>"unknown"});var yg=new J(""),_g=new J("",{providedIn:"root",factory:()=>RS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var h5="h",f5="b";var kS=!1,NS=new J("",{providedIn:"root",factory:()=>kS});var g5=(n,e,t,r)=>{};function p5(n,e,t,r){g5(n,e,t,r)}function RC(n){return(n.flags&32)===32}var m5=()=>null;function FS(n,e,t=!1){return m5(n,e,t)}function LS(n,e){let t=n.contentQueries;if(t!==null){let r=Ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Vf(o),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function cC(n,e,t){Vf(0);let r=Ee(null);try{e(n,t)}finally{Ee(r)}}function VS(n,e,t){if(Cv(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ee(r)}}}var Bi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Bi||{});var Wf;function y5(){if(Wf===void 0&&(Wf=null,Vi.trustedTypes))try{Wf=Vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wf}function BO(n){return y5()?.createScriptURL(n)||n}var ig=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mf})`}};function Ec(n){return n instanceof ig?n.changingThisBreaksApplicationSecurity:n}function kC(n,e){let t=jS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Mf})`)}return t===e}function jS(n){return n instanceof ig&&n.getTypeName()||null}var _5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function US(n){return n=String(n),n.match(_5)?n:"unsafe:"+n}var vg=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(vg||{});function BS(n){let e=zS();return e?e.sanitize(vg.URL,n)||"":kC(n,"URL")?Ec(n):US(Ur(n))}function $S(n){let e=zS();if(e)return BO(e.sanitize(vg.RESOURCE_URL,n)||"");if(kC(n,"ResourceURL"))return BO(Ec(n));throw new F(904,!1)}function v5(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?$S:BS}function NC(n,e,t){return v5(e,t)(n)}function zS(){let n=Se();return n&&n[Br].sanitizer}function HS(n){return n instanceof Function?n():n}function C5(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var qS="ng-template";function b5(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&C5(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(FC(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function FC(n){return n.type===4&&n.value!==qS}function w5(n,e,t){let r=n.type===4&&!t?qS:n.value;return e===r}function E5(n,e,t){let r=4,i=n.attrs,o=i!==null?P5(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Cr(r)&&!Cr(c))return!1;if(s&&Cr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!w5(n,c,t)||c===""&&e.length===1){if(Cr(r))return!1;s=!0}}else if(r&8){if(i===null||!b5(n,i,c,t)){if(Cr(r))return!1;s=!0}}else{let u=e[++a],d=M5(c,i,FC(n),t);if(d===-1){if(Cr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(Cr(r))return!1;s=!0}}}}return Cr(r)||s}function Cr(n){return(n&1)===0}function M5(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return D5(e,n)}function I5(n,e,t=!1){for(let r=0;r<e.length;r++)if(E5(n,e[r],t))return!0;return!1}function P5(n){for(let e=0;e<n.length;e++){let t=n[e];if(_S(t))return e}return n.length}function D5(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $O(n,e){return n?":not("+e.trim()+")":e}function O5(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cr(s)&&(e+=$O(o,i),i=""),r=s,o=o||!Cr(r);t++}return i!==""&&(e+=$O(o,i)),e}function S5(n){return n.map(O5).join(",")}function x5(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Cr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var mn={};function T5(n,e){return n.createText(e)}function A5(n,e,t){n.setValue(e,t)}function WS(n,e,t){return n.createElement(e,t)}function og(n,e,t,r,i){n.insertBefore(e,t,r,i)}function GS(n,e,t){n.appendChild(e,t)}function zO(n,e,t,r,i){r!==null?og(n,e,t,r,i):GS(n,e,t)}function R5(n,e,t){n.removeChild(null,e,t)}function k5(n,e,t){n.setAttribute(e,"style",t)}function N5(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function KS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&KV(n,e,r),i!==null&&N5(n,e,i),o!==null&&k5(n,e,o)}function LC(n,e,t,r,i,o,s,a,c,u,d){let f=Ht+r,y=f+i,v=F5(f,y),M=typeof u=="function"?u():u;return v[fe]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1,ssrId:d}}function F5(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:mn);return t}function L5(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=LC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function VC(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[yr]=i,f[pe]=r|4|128|8|64|1024,(u!==null||n&&n[pe]&2048)&&(f[pe]|=2048),Mv(f),f[Ft]=f[js]=n,f[tn]=t,f[Br]=s||n&&n[Br],f[ct]=a||n&&n[ct],f[Vs]=c||n&&n[Vs]||null,f[Qn]=o,f[lu]=l5(),f[cu]=d,f[vv]=u,f[Zn]=e.type==2?n[Zn]:f,f}function V5(n,e,t){let r=vr(e,n),i=L5(t),o=n[Br].rendererFactory,s=jC(n,VC(n,i,null,YS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function YS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function QS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function jC(n,e){return n[uc]?n[_v][Yn]=e:n[uc]=e,n[_v]=e,e}function w(n=1){ZS(qt(),Se(),qr()+n,!1)}function ZS(n,e,t,r){if(!r)if((e[pe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Kf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yf(e,o,0,t)}No(t)}var Cg=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Cg||{});function lC(n,e,t,r){let i=Ee(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Cg.SignalBased)!==0&&(c=e[o][en]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):hS(e,c,o,r)}finally{Ee(i)}}var wr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(wr||{}),j5;function UC(n,e){return j5(n,e)}function yc(n,e,t,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:zr(r)&&(s=!0,r=r[yr]);let a=Jn(r);n===0&&t!==null?i==null?GS(e,t,a):og(e,t,a,i||null,!0):n===1&&t!==null?og(e,t,a,i||null,!0):n===2?R5(e,a,s):n===3&&e.destroyNode(a),o!=null&&Z5(e,n,o,t,i)}}function U5(n,e){JS(n,e),e[yr]=null,e[Qn]=null}function B5(n,e,t,r,i,o){r[yr]=i,r[Qn]=e,bg(n,r,t,1,i,o)}function JS(n,e){e[Br].changeDetectionScheduler?.notify(9),bg(n,e,e[ct],2,null,null)}function $5(n){let e=n[uc];if(!e)return Kv(n[fe],n);for(;e;){let t=null;if(zr(e))t=e[uc];else{let r=e[pn];r&&(t=r)}if(!t){for(;e&&!e[Yn]&&e!==n;)zr(e)&&Kv(e[fe],e),e=e[Ft];e===null&&(e=n),zr(e)&&Kv(e[fe],e),t=e&&e[Yn]}e=t}}function BC(n,e){let t=n[$s],r=t.indexOf(e);t.splice(r,1)}function XS(n,e){if(zs(e))return;let t=e[ct];t.destroyNode&&bg(n,e,t,3,null,null),$5(e)}function Kv(n,e){if(zs(e))return;let t=Ee(null);try{e[pe]&=-129,e[pe]|=256,e[jn]&&zh(e[jn]),H5(n,e),z5(n,e),e[fe].type===1&&e[ct].destroy();let r=e[Ao];if(r!==null&&_r(e[Ft])){r!==e[Ft]&&BC(r,e);let i=e[$r];i!==null&&i.detachView(n)}sC(e)}finally{Ee(t)}}function z5(n,e){let t=n.cleanup,r=e[lc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[lc]=null);let i=e[ki];if(i!==null){e[ki]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[uu];if(o!==null){e[uu]=null;for(let s of o)s.destroy()}}function H5(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ws)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ze(4,a,c);try{c.call(a)}finally{ze(5,a,c)}}else{ze(4,i,o);try{o.call(i)}finally{ze(5,i,o)}}}}}function q5(n,e,t){return W5(n,e.parent,t)}function W5(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[yr];if(ko(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Bi.None||i===Bi.Emulated)return null}return vr(r,t)}function G5(n,e,t){return Y5(n,e,t)}function K5(n,e,t){return n.type&40?vr(n,t):null}var Y5=K5,HO;function $C(n,e,t,r){let i=q5(n,r,e),o=e[ct],s=r.parent||e[Qn],a=G5(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)zO(o,i,t[c],a,!1);else zO(o,i,t,a,!1);HO!==void 0&&HO(o,r,e,t,i)}function Cu(n,e){if(e!==null){let t=e.type;if(t&3)return vr(e,n);if(t&4)return uC(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Cu(n,r);{let i=n[e.index];return _r(i)?uC(-1,i):Jn(i)}}else{if(t&128)return Cu(n,e.next);if(t&32)return UC(e,n)()||Jn(n[e.index]);{let r=ex(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xo(n[Zn]);return Cu(i,r)}else return Cu(n,e.next)}}}return null}function ex(n,e){if(e!==null){let r=n[Zn][Qn],i=e.projection;return r.projection[i]}return null}function uC(n,e){let t=pn+n+1;if(t<e.length){let r=e[t],i=r[fe].firstChild;if(i!==null)return Cu(r,i)}return e[Ro]}function zC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&vc(Jn(a),r),t.flags|=2),!RC(t))if(c&8)zC(n,e,t.child,r,i,o,!1),yc(e,n,i,a,o);else if(c&32){let u=UC(t,r),d;for(;d=u();)yc(e,n,i,d,o);yc(e,n,i,a,o)}else c&16?Q5(n,e,r,t,i,o):yc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function bg(n,e,t,r,i,o){zC(t,r,n.firstChild,e,i,o,!1)}function Q5(n,e,t,r,i,o){let s=t[Zn],c=s[Qn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];yc(e,n,i,d,o)}else{let u=c,d=s[Ft];OS(r)&&(u.flags|=128),zC(n,e,u,d,i,o,!0)}}function Z5(n,e,t,r,i){let o=t[Ro],s=Jn(t);o!==s&&yc(e,n,r,o,i);for(let a=pn;a<t.length;a++){let c=t[a];bg(c[fe],c,n,e,r,o)}}function J5(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:wr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wr.Important),n.setStyle(t,r,i,o))}}function tx(n,e,t,r,i){let o=qr(),s=r&2;try{No(-1),s&&e.length>Ht&&ZS(n,e,Ht,!1),ze(s?2:0,i,t),t(r,i)}finally{No(o),ze(s?3:1,i,t)}}function HC(n,e,t){o3(n,e,t),(t.flags&64)===64&&s3(n,e,t)}function nx(n,e,t=vr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function X5(n,e,t,r){let o=r.get(NS,kS)||t===Bi.ShadowDom,s=n.selectRootElement(e,o);return e3(s),s}function e3(n){t3(n)}var t3=()=>null;function n3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rx(n,e,t,r,i,o){let s=e[fe];if(qC(n,s,e,t,r)){ko(n)&&i3(e,n.index);return}n.type&3&&(t=n3(t)),r3(n,e,t,r,i,o)}function r3(n,e,t,r,i,o){if(n.type&3){let s=vr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function i3(n,e){let t=Xn(e,n);t[pe]&16||(t[pe]|=64)}function o3(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ko(t)&&V5(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ng(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Eu(e,n,s,t);if(vc(c,e),o!==null&&u3(e,s-r,c,a,t,o),Hr(a)){let u=Xn(t.index,e);u[tn]=Eu(e,n,s,t)}}}function s3(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=IO();try{No(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Lf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&a3(c,u)}}finally{No(-1),Lf(s)}}function a3(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ix(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];I5(e,o.selectors,!1)&&(r??=[],Hr(o)?r.unshift(o):r.push(o))}return r}function c3(n,e,t,r,i,o){let s=vr(n,e);l3(e[ct],s,o,n.value,t,r,i)}function l3(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ur(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function u3(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];lC(r,t,c,u)}}function d3(n,e,t,r,i){let o=Ht+t,s=e[fe],a=i(s,e,n,r,t);e[o]=a,fc(n,!0);let c=n.type===2;return c?(KS(e[ct],a,n),(fO()===0||hu(n))&&vc(a,e),gO()):vc(a,e),$f()&&(!c||!RC(n))&&$C(s,e,a,n),n}function h3(n){let e=n;return Tv()?CO():(e=e.parent,fc(e,!1)),e}function f3(n,e){let t=n[Vs];if(!t)return;t.get(nn,null)?.(e)}function qC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];lC(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];lC(d,u,r,i),a=!0}return a}function g3(n,e){let t=Xn(e,n),r=t[fe];p3(r,t);let i=t[yr];i!==null&&t[cu]===null&&(t[cu]=FS(i,t[Vs])),ze(18),WC(r,t,t[tn]),ze(19,t[tn])}function p3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function WC(n,e,t){jf(e);try{let r=n.viewQuery;r!==null&&cC(1,r,t);let i=n.template;i!==null&&tx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[$r]?.finishViewCreation(n),n.staticContentQueries&&LS(n,e),n.staticViewQueries&&cC(2,n.viewQuery,t);let o=n.components;o!==null&&m3(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[pe]&=-5,Uf()}}function m3(n,e){for(let t=0;t<e.length;t++)g3(n,e[t])}function y3(n,e,t,r){let i=Ee(null);try{let o=e.tView,a=n[pe]&4096?4096:16,c=VC(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Ao]=u;let d=n[$r];return d!==null&&(c[$r]=d.createEmbeddedView(o)),WC(o,c,t),c}finally{Ee(i)}}function qO(n,e){return!e||e.firstChild===null||OS(n)}var WO=!1,_3=new J("");function Mu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Jn(o)),_r(o)&&ox(o,r);let s=t.type;if(s&8)Mu(n,e,t.child,r);else if(s&32){let a=UC(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ex(e,t);if(Array.isArray(a))r.push(...a);else{let c=xo(e[Zn]);Mu(c[fe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ox(n,e){for(let t=pn;t<n.length;t++){let r=n[t],i=r[fe].firstChild;i!==null&&Mu(r[fe],r,i,e)}n[Ro]!==n[yr]&&e.push(n[Ro])}function sx(n){if(n[Bs]!==null){for(let e of n[Bs])e.impl.addSequence(e);n[Bs].length=0}}var ax=[];function v3(n){return n[jn]??C3(n)}function C3(n){let e=ax.pop()??Object.create(w3);return e.lView=n,e}function b3(n){n.lView[jn]!==n&&(n.lView=null,ax.push(n))}var w3=ce(j({},Ps),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{hc(n.lView)},consumerOnSignalRead(){this.lView[jn]=this}});function E3(n){let e=n[jn]??Object.create(M3);return e.lView=n,e}var M3=ce(j({},Ps),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xo(n.lView);for(;e&&!cx(e[fe]);)e=xo(e);e&&Iv(e)},consumerOnSignalRead(){this.lView[jn]=this}});function cx(n){return n.type!==2}function lx(n){if(n[uu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[uu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[pe]&8192)}}var I3=100;function GC(n,e=0){let r=n[Br].rendererFactory,i=!1;i||r.begin?.();try{P3(n,e)}finally{i||r.end?.()}}function P3(n,e){let t=Rv();try{kv(!0),dC(n,e);let r=0;for(;gu(n);){if(r===I3)throw new F(103,!1);r++,dC(n,1)}}finally{kv(t)}}function ux(n,e){Av(e?pu.Exhaustive:pu.OnlyDirtyViews);try{GC(n)}finally{Av(pu.Off)}}function D3(n,e,t,r){if(zs(e))return;let i=e[pe],o=!1,s=!1;jf(e);let a=!0,c=null,u=null;o||(cx(n)?(u=v3(e),c=Ds(u)):Bh()===null?(a=!1,u=E3(e),c=Ds(u)):e[jn]&&(zh(e[jn]),e[jn]=null));try{Mv(e),wO(n.bindingStartIndex),t!==null&&tx(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let v=n.preOrderCheckHooks;v!==null&&Kf(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Yf(e,v,0,null),Wv(e,0)}if(s||O3(e),lx(e),dx(e,0),n.contentQueries!==null&&LS(n,e),!o)if(d){let v=n.contentCheckHooks;v!==null&&Kf(e,v)}else{let v=n.contentHooks;v!==null&&Yf(e,v,1),Wv(e,1)}x3(n,e);let f=n.components;f!==null&&fx(e,f,0);let y=n.viewQuery;if(y!==null&&cC(2,y,r),!o)if(d){let v=n.viewCheckHooks;v!==null&&Kf(e,v)}else{let v=n.viewHooks;v!==null&&Yf(e,v,2),Wv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Tf]){for(let v of e[Tf])v();e[Tf]=null}o||(sx(e),e[pe]&=-73)}catch(d){throw o||hc(e),d}finally{u!==null&&(Wa(u,c),a&&b3(u)),Uf()}}function dx(n,e){for(let t=xS(n);t!==null;t=TS(t))for(let r=pn;r<t.length;r++){let i=t[r];hx(i,e)}}function O3(n){for(let e=xS(n);e!==null;e=TS(e)){if(!(e[pe]&2))continue;let t=e[$s];for(let r=0;r<t.length;r++){let i=t[r];Iv(i)}}}function S3(n,e,t){ze(18);let r=Xn(e,n);hx(r,t),ze(19,r[tn])}function hx(n,e){kf(n)&&dC(n,e)}function dC(n,e){let r=n[fe],i=n[pe],o=n[jn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Yl(o)),s||=!1,o&&(o.dirty=!1),n[pe]&=-9217,s)D3(r,n,r.template,n[tn]);else if(i&8192){let a=Ee(null);try{lx(n),dx(n,1);let c=r.components;c!==null&&fx(n,c,1),sx(n)}finally{Ee(a)}}}function fx(n,e,t){for(let r=0;r<e.length;r++)S3(n,e[r],t)}function x3(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)No(~i);else{let o=i,s=t[++r],a=t[++r];MO(s,o);let c=e[o];ze(24,c),a(2,c),ze(25,c)}}}finally{No(-1)}}function KC(n,e){let t=Rv()?64:1088;for(n[Br].changeDetectionScheduler?.notify(e);n;){n[pe]|=t;let r=xo(n);if(dc(n)&&!r)return n;n=r}return null}function gx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function T3(n,e,t,r=!0){let i=e[fe];if(A3(i,e,n,t),r){let s=uC(t,n),a=e[ct],c=a.parentNode(n[Ro]);c!==null&&B5(i,n[Qn],a,e,c,s)}let o=e[cu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hC(n,e){if(n.length<=pn)return;let t=pn+e,r=n[t];if(r){let i=r[Ao];i!==null&&i!==n&&BC(i,r),e>0&&(n[t-1][Yn]=r[Yn]);let o=ou(n,pn+e);U5(r[fe],r);let s=o[$r];s!==null&&s.detachView(o[fe]),r[Ft]=null,r[Yn]=null,r[pe]&=-129}return r}function A3(n,e,t,r){let i=pn+r,o=t.length;r>0&&(t[i-1][Yn]=e),r<o-pn?(e[Yn]=t[i],uv(t,pn+r,e)):(t.push(e),e[Yn]=null),e[Ft]=t;let s=e[Ao];s!==null&&t!==s&&px(s,e);let a=e[$r];a!==null&&a.insertView(n),Nf(e),e[pe]|=128}function px(n,e){let t=n[$s],r=e[Ft];if(zr(r))n[pe]|=2;else{let i=r[Ft][Zn];e[Zn]!==i&&(n[pe]|=2)}t===null?n[$s]=[e]:t.push(e)}var Fo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[fe];return Mu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return zs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(_r(e)){let t=e[du],r=t?t.indexOf(this):-1;r>-1&&(hC(e,r),ou(t,r))}this._attachedToViewContainer=!1}XS(this._lView[fe],this._lView)}onDestroy(e){Pv(this._lView,e)}markForCheck(){KC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pe]&=-129}reattach(){Nf(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,GC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Vs].get(_3,WO)}catch{this.exhaustive=WO}}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dc(this._lView),t=this._lView[Ao];t!==null&&!e&&BC(t,this._lView),JS(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=dc(this._lView),r=this._lView[Ao];r!==null&&!t&&px(r,this._lView),Nf(this._lView)}};var Lo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=R3;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=y3(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Fo(o)}}return n})();function R3(){return wg(Wt(),Se())}function wg(n,e){return n.type&4?new Lo(e,n,wc(n,e)):null}function YC(n,e,t,r,i){let o=n.data[e];if(o===null)o=k3(n,e,t,r,i),EO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=vO();o.injectorIndex=s===null?-1:s.injectorIndex}return fc(o,!0),o}function k3(n,e,t,r,i){let o=xv(),s=Tv(),a=s?o:o&&o.parent,c=n.data[e]=F3(n,a,t,e,r,i);return N3(n,c,o,s),c}function N3(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function F3(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mO()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Kne=new RegExp(`^(\\d+)*(${f5}|${h5})*(.*)`);var L3=()=>null;function GO(n,e){return L3(n,e)}var mx=class{},Eg=class{},fC=class{resolveComponentFactory(e){throw new F(917,!1)}},Ou=class{static NULL=new fC},$i=class{},tr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>V3()}return n})();function V3(){let n=Se(),e=Wt(),t=Xn(e.index,n);return(zr(t)?t:n)[ct]}var yx=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var Zf={},gC=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Zf,r);return i!==Zf||t===Zf?i:this.parentInjector.get(e,t,r)}};function KO(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=If(i,a);else if(o==2){let c=a,u=e[++s];r=If(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function q(n,e=0){let t=Se();if(t===null)return ne(n,e);let r=Wt();return IS(r,t,zt(n),e)}function QC(){let n="invalid";throw new Error(n)}function _x(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}B3(n,e,t,a,o,c,u)}o!==null&&r!==null&&j3(t,r,o)}function j3(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function U3(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function B3(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let y=0;y<a;y++){let v=r[y];!c&&Hr(v)&&(c=!0,U3(n,t,y)),iC(ng(t,e),n,v.type)}G3(t,n.data.length,a);for(let y=0;y<a;y++){let v=r[y];v.providersResolver&&v.providersResolver(v)}let u=!1,d=!1,f=QS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let v=r[y];if(t.mergedAttrs=wu(t.mergedAttrs,v.hostAttrs),z3(n,t,e,f,v),W3(f,v,i),s!==null&&s.has(v)){let[x,R]=s.get(v);t.directiveToIndex.set(v.type,[f,x+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,f);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let M=v.type.prototype;!u&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}$3(n,t,o)}function $3(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))YO(0,e,i,r),YO(1,e,i,r),ZO(e,r,!1);else{let o=t.get(i);QO(0,e,o,r),QO(1,e,o,r),ZO(e,r,!0)}}}function YO(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vx(e,o)}}function QO(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),vx(e,s)}}function vx(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ZO(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||FC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function z3(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=So(i.type,!0)),s=new Ws(o,Hr(i),q,null);n.blueprint[r]=s,t[r]=s,H3(n,e,r,QS(n,t,i.hostVars,mn),i)}function H3(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;q3(s)!=a&&s.push(a),s.push(t,r,o)}}function q3(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function W3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Hr(e)&&(t[""]=n)}}function G3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Cx(n,e,t,r,i,o,s,a){let c=e[fe],u=c.consts,d=fu(u,s),f=YC(c,n,t,r,d);return o&&_x(c,e,f,fu(u,a),i),f.mergedAttrs=wu(f.mergedAttrs,f.attrs),f.attrs!==null&&KO(f,f.attrs,!1),f.mergedAttrs!==null&&KO(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function bx(n,e){mS(n,e),Cv(e)&&n.queries.elementEnd(e)}function ZC(n){return Mg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function wx(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Mg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ex(n,e,t){return n[e]=t}function Yr(n,e,t){if(t===mn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function JC(n,e,t,r){let i=Yr(n,e,t);return Yr(n,e+1,r)||i}function K3(n,e,t,r,i){let o=JC(n,e,t,r);return Yr(n,e+2,i)||o}function Yv(n,e,t){return function r(i){let o=ko(n)?Xn(n.index,e):e;KC(o,5);let s=e[tn],a=JO(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=JO(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function JO(n,e,t,r){let i=Ee(null);try{return ze(6,e,t),t(r)!==!1}catch(o){return f3(n,o),!1}finally{ze(7,e,t),Ee(i)}}function Y3(n,e,t,r,i,o,s,a){let c=hu(n),u=!1,d=null;if(!r&&c&&(d=Q3(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=vr(n,t),y=r?r(f):f;p5(t,y,o,a);let v=i.listen(y,o,a),M=r?x=>r(Jn(x[n.index])):n.index;Mx(M,e,t,o,a,v,!1)}return u}function Q3(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[lc],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Mx(n,e,t,r,i,o,s){let a=e.firstCreatePass?Ov(e):null,c=Dv(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function XO(n,e,t,r,i,o){let s=e[t],a=e[fe],u=a.data[t].outputs[r],f=s[u].subscribe(o);Mx(n.index,a,e,i,o,f,!0)}var pC=Symbol("BINDING");var sg=class extends Ou{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ui(e);return new Gs(t,this.ngModule)}};function Z3(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Cg.SignalBased)!==0};return i&&(o.transform=i),o})}function J3(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function X3(n,e,t){let r=e instanceof vt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new gC(t,r):t}function ej(n){let e=n.get($i,null);if(e===null)throw new F(407,!1);let t=n.get(yx,null),r=n.get(Fi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function tj(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return WS(e,t,t==="svg"?bv:t==="math"?aO:null)}var Gs=class extends Eg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Z3(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=J3(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=S5(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ze(22);let a=Ee(null);try{let c=this.componentDef,u=nj(r,c,s,o),d=X3(c,i||this.ngModule,e),f=ej(d),y=f.rendererFactory.createRenderer(null,c),v=r?X5(y,r,c.encapsulation,d):tj(c,y),M=s?.some(eS)||o?.some(B=>typeof B!="function"&&B.bindings.some(eS)),x=VC(null,u,null,512|YS(c),null,null,f,y,d,null,FS(v,d,!0));x[Ht]=v,jf(x);let R=null;try{let B=Cx(Ht,x,2,"#host",()=>u.directiveRegistry,!0,0);v&&(KS(y,v,B),vc(v,x)),HC(u,x,B),VS(u,B,x),bx(u,B),t!==void 0&&ij(B,this.ngContentSelectors,t),R=Xn(B.index,x),x[tn]=R[tn],WC(u,x,null)}catch(B){throw R!==null&&sC(R),sC(x),B}finally{ze(23),Uf()}return new ag(this.componentType,x,!!M)}finally{Ee(a)}}};function nj(n,e,t,r){let i=n?["ng-version","20.1.3"]:x5(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[pC].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let y of f.bindings){a+=y[pC].requiredVars;let v=d+1;y.create&&(y.targetIdx=v,(o??=[]).push(y)),y.update&&(y.targetIdx=v,(s??=[]).push(y))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,y=gv(f);c.push(y)}return LC(0,null,rj(o,s),1,a,c,null,null,null,[i],null)}function rj(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function eS(n){let e=n[pC].kind;return e==="input"||e==="twoWay"}var ag=class extends mx{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Af(t[fe],Ht),this.location=wc(this._tNode,t),this.instance=Xn(this._tNode.index,t)[tn],this.hostView=this.changeDetectorRef=new Fo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=qC(r,i[fe],i,e,t);this.previousInputValues.set(e,t);let s=Xn(r.index,i);KC(s,1)}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ij(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var zi=(()=>{class n{static __NG_ELEMENT_ID__=oj}return n})();function oj(){let n=Wt();return Px(n,Se())}var sj=zi,Ix=class extends sj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){let e=xC(this._hostTNode,this._hostLView);if(vS(e)){let t=eg(e,this._hostLView),r=Xf(e),i=t[fe].data[r+8];return new qs(i,t)}else return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=tS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=GO(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,qO(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!UV(e),u;if(c)u=t;else{let R=t||{};u=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let d=c?e:new Gs(Ui(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let B=(c?f:this.parentInjector).get(vt,null);B&&(o=B)}let y=Ui(d.componentType??{}),v=GO(this._lContainer,y?.id??null),M=v?.firstChild??null,x=d.create(f,i,M,o,s,a);return this.insertImpl(x.hostView,u,qO(this._hostTNode,v)),x}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(lO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ft],u=new Ix(c,c[Qn],c[Ft]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return T3(s,i,o,r),e.attachToViewContainerRef(),uv(Qv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=tS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=hC(this._lContainer,t);r&&(ou(Qv(this._lContainer),t),XS(r[fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=hC(this._lContainer,t);return r&&ou(Qv(this._lContainer),t)!=null?new Fo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tS(n){return n[du]}function Qv(n){return n[du]||(n[du]=[])}function Px(n,e){let t,r=e[n.index];return _r(r)?t=r:(t=gx(r,e,null,n),e[n.index]=t,jC(e,t)),cj(t,e,n,r),new Ix(t,n,e)}function aj(n,e){let t=n[ct],r=t.createComment(""),i=vr(e,n),o=t.parentNode(i);return og(t,o,r,t.nextSibling(i),!1),r}var cj=dj,lj=()=>!1;function uj(n,e,t){return lj(n,e,t)}function dj(n,e,t,r){if(n[Ro])return;let i;t.type&8?i=Jn(r):i=aj(e,t),n[Ro]=i}var mC=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},yC=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)XC(e,t).matches!==null&&this.queries[t].setDirty()}},_C=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=vj(e):this.predicate=e}},vC=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},CC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,hj(t,o)),this.matchTNodeWithReadOption(e,t,Qf(t,e,o,!1,!1))}else r===Lo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===rn||i===zi||i===Lo&&t.type&4)this.addMatch(t.index,-2);else{let o=Qf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function hj(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function fj(n,e){return n.type&11?wc(n,e):n.type&4?wg(n,e):null}function gj(n,e,t,r){return t===-1?fj(e,n):t===-2?pj(n,e,r):Eu(n,n[fe],t,e)}function pj(n,e,t){if(t===rn)return wc(e,n);if(t===Lo)return wg(e,n);if(t===zi)return Px(e,n)}function Dx(n,e,t,r){let i=e[$r].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(gj(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function bC(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=Dx(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=pn;f<d.length;f++){let y=d[f];y[Ao]===y[Ft]&&bC(y[fe],y,u,r)}if(d[$s]!==null){let f=d[$s];for(let y=0;y<f.length;y++){let v=f[y];bC(v[fe],v,u,r)}}}}}return r}function mj(n,e){return n[$r].queries[e].queryList}function yj(n,e,t){let r=new rg((t&4)===4);return hO(n,e,r,r.destroy),(e[$r]??=new yC).queries.push(new mC(r))-1}function _j(n,e,t,r){let i=qt();if(i.firstCreatePass){let o=Wt();Cj(i,new _C(e,t,r),o.index),bj(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return yj(i,Se(),t)}function vj(n){return n.split(",").map(e=>e.trim())}function Cj(n,e,t){n.queries===null&&(n.queries=new vC),n.queries.track(new CC(e,t))}function bj(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function XC(n,e){return n.queries.getByIndex(e)}function wj(n,e){let t=n[fe],r=XC(t,e);return r.crossesNgTemplate?bC(t,n,e,[]):Dx(t,n,r,e)}var nS=new Set;function Hi(n){nS.has(n)||(nS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ks=class{},Ig=class{};var cg=class extends Ks{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sg(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=fv(e);this._bootstrapComponents=HS(o.bootstrap),this._r3Injector=jv(e,t,[{provide:Ks,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver},...r],Ni(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lg=class extends Ig{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new cg(this.moduleType,e,[])}};var Iu=class extends Ks{injector;componentFactoryResolver=new sg(this);instance=null;constructor(e){super();let t=new Fs([...e.providers,{provide:Ks,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],e.parent||au(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Mc(n,e,t=null){return new Iu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Ej=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=pv(!1,t.type),i=r.length>0?Mc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(ne(vt))})}return n})();function Gt(n){return bc(()=>{let e=Ox(n),t=ce(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===TC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ej).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Bi.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Hi("NgStandalone"),Sx(t);let r=n.dependencies;return t.directiveDefs=rS(r,Mj),t.pipeDefs=rS(r,XD),t.id=Dj(t),t})}function Mj(n){return Ui(n)||gv(n)}function nr(n){return bc(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ij(n,e){if(n==null)return To;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Cg.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function Pj(n){if(n==null)return To;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ke(n){return bc(()=>{let e=Ox(n);return Sx(e),e})}function Ic(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ox(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||To,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Ij(n.inputs,e),outputs:Pj(n.outputs),debugInfo:null}}function Sx(n){n.features?.forEach(e=>e(n))}function rS(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Dj(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Oj(n){return Object.getPrototypeOf(n.prototype).constructor}function Pn(n){let e=Oj(n.type),t=!0,r=[n];for(;e;){let i;if(Hr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Zv(n.inputs),s.declaredInputs=Zv(n.declaredInputs),s.outputs=Zv(n.outputs);let a=i.hostBindings;a&&Rj(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Tj(n,c),u&&Aj(n,u),Sj(n,i),qD(n.outputs,i.outputs),Hr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Pn&&(t=!1)}}e=Object.getPrototypeOf(e)}xj(r)}function Sj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function xj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wu(i.hostAttrs,t=wu(t,i.hostAttrs))}}function Zv(n){return n===To?{}:n===gn?[]:n}function Tj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Aj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Rj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function kj(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=wu(n.mergedAttrs,n.attrs);let d=n.tView=LC(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),fc(n,!1);let c=Fj(t,e,n,r);$f()&&$C(t,e,c,n),vc(c,e);let u=gx(c,e,c,n);e[r+Ht]=u,jC(e,u),uj(u,n,e)}function Nj(n,e,t,r,i,o,s,a,c,u,d){let f=t+Ht,y;return e.firstCreatePass?(y=YC(e,f,4,s||null,a||null),Sv()&&_x(e,n,y,fu(e.consts,u),ix),mS(e,y)):y=e.data[f],kj(y,n,e,t,r,i,o,c),hu(y)&&HC(e,n,y),u!=null&&nx(n,y,d),y}function Y(n,e,t,r,i,o,s,a){let c=Se(),u=qt(),d=fu(u.consts,o);return Nj(c,u,n,e,t,r,i,d,void 0,s,a),Y}var Fj=Lj;function Lj(n,e,t,r){return zf(!0),e[ct].createComment("")}var Pg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Pg||{}),Qs=new J(""),xx=!1,wC=class extends nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oO()&&(this.destroyRef=N(er,{optional:!0})??void 0,this.pendingTasks=N(Gr,{optional:!0})??void 0)}emit(e){let t=Ee(null);try{super.next(e)}finally{Ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ct=wC;function Tx(n){let e,t;function r(){n=vu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function iS(n){return queueMicrotask(()=>n()),()=>{n=vu}}var e0="isAngularZone",ug=e0+"_ID",Vj=0,xe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=xx}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Bj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(e0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jj,vu,vu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},jj={};function t0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Tx(()=>{n.callbackScheduled=!1,EC(n),n.isCheckStableRunning=!0,t0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),EC(n)}function Bj(n){let e=()=>{Uj(n)},t=Vj++;n._inner=n._inner.fork({name:"angular",properties:{[e0]:!0,[ug]:t,[ug+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if($j(c))return r.invokeTask(o,s,a,c);try{return oS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return oS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!zj(c)&&e(),sS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,EC(n),t0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function EC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sS(n){n._nesting--,t0(n)}var dg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $j(n){return Ax(n,"__ignore_ng_zone__")}function zj(n){return Ax(n,"__scheduler_tick__")}function Ax(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var n0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Rx=[0,1,2,3],kx=(()=>{class n{ngZone=N(xe);scheduler=N(Fi);errorHandler=N(mr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Qs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ze(16),this.executing=!0;for(let r of Rx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ze(17)}register(t){let{view:r}=t;r!==void 0?((r[Bs]??=[]).push(t),hc(r),r[pe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Pg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),hg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Bs];e&&(this.view[Bs]=e.filter(t=>t!==this))}};function Su(n,e){let t=e?.injector??N(Ze);return Hi("NgAfterNextRender"),qj(n,t,e,!0)}function Hj(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function qj(n,e,t,r){let i=e.get(n0);i.impl??=e.get(kx);let o=e.get(Qs,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(er):null,a=e.get(Hf,null,{optional:!0}),c=new hg(i.impl,Hj(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var r0=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var i0=new J("");function qi(n){return!!n&&typeof n.then=="function"}function Dg(n){return!!n&&typeof n.subscribe=="function"}var o0=new J("");function Pc(n){return Lt([{provide:o0,multi:!0,useValue:n}])}var s0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(o0,{optional:!0})??[];injector=N(Ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=wt(this.injector,i);if(qi(o))t.push(o);else if(Dg(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xu=new J("");function Nx(){v_(()=>{let n="";throw new F(600,n)})}function Fx(n){return n.isBoundToModule}var Wj=10;var rr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(nn);afterRenderManager=N(n0);zonelessEnabled=N(_u);rootEffectScheduler=N(qv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new nt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Gr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ge(t=>!t))}constructor(){N(Qs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ze.NULL){return this._injector.get(xe).run(()=>{ze(10);let s=t instanceof Eg;if(!this._injector.get(s0).done){let M="";throw new F(405,M)}let c;s?c=t:c=this._injector.get(Ou).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=Fx(c)?void 0:this._injector.get(Ks),d=r||c.selector,f=c.create(i,[],d,u),y=f.location.nativeElement,v=f.injector.get(i0,null);return v?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),bu(this.components,f),v?.unregisterApplication(y)}),this._loadComponent(f),ze(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ze(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=Ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ee(t),this.afterTick.next(),ze(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($i,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Wj;)ze(14),this.synchronizeOnce(),ze(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!gu(i))continue;let o=r&&!this.zonelessEnabled?0:1;GC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>gu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;bu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(xu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jo(n,e,t,r){let i=Se(),o=mu();if(Yr(i,o,e)){let s=qt(),a=Bf();c3(a,i,n,e,t,r)}return jo}function V(n,e,t){let r=Se(),i=mu();if(Yr(r,i,e)){let o=qt(),s=Bf();rx(s,r,n,e,r[ct],t)}return V}function MC(n,e,t,r,i){qC(e,n,t,i?"class":"style",r)}function p(n,e,t,r){let i=Se(),o=i[fe],s=n+Ht,a=o.firstCreatePass?Cx(s,i,2,e,ix,Sv(),t,r):o.data[s];if(d3(a,i,n,e,Gj),hu(a)){let c=i[fe];HC(c,i,a),VS(c,a,i)}return r!=null&&nx(i,a),p}function m(){let n=qt(),e=Wt(),t=h3(e);return n.firstCreatePass&&bx(n,t),yO(t)&&_O(),pO(),t.classesWithoutHost!=null&&WV(t)&&MC(n,t,Se(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&GV(t)&&MC(n,t,Se(),t.stylesWithoutHost,!1),m}function on(n,e,t,r){return p(n,e,t,r),m(),on}var Gj=(n,e,t,r,i)=>(zf(!0),WS(e[ct],r,TO()));function Le(){return Se()}var Hs=void 0;function Kj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Yj=["en",[["a","p"],["AM","PM"],Hs],[["AM","PM"],Hs,Hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hs,"{1} 'at' {0}",Hs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Kj],Jv={};function yn(n){let e=Qj(n),t=aS(e);if(t)return t;let r=e.split("-")[0];if(t=aS(r),t)return t;if(r==="en")return Yj;throw new F(701,!1)}function aS(n){return n in Jv||(Jv[n]=Vi.ng&&Vi.ng.common&&Vi.ng.common.locales&&Vi.ng.common.locales[n]),Jv[n]}var ut=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ut||{});function Qj(n){return n.toLowerCase().replace(/_/g,"-")}var Tu="en-US",Zj="USD";var Jj=Tu;function Lx(n){typeof n=="string"&&(Jj=n.toLowerCase().replace(/_/g,"-"))}function X(n,e,t){let r=Se(),i=qt(),o=Wt();return Vx(i,r,r[ct],o,n,e,t),X}function Vx(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Yv(r,e,o),Y3(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let y=d[f],v=d[f+1];c??=Yv(r,e,o),XO(r,e,y,v,i,c)}if(u&&u.length)for(let f of u)c??=Yv(r,e,o),XO(r,e,f,i,i,c)}}function U(n=1){return xO(n)}function a0(n,e,t,r){_j(n,e,t,r)}function c0(n){let e=Se(),t=qt(),r=Fv();Vf(r+1);let i=XC(t,r);if(n.dirty&&cO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=wj(e,r);n.reset(o,s5),n.notifyOnChanges()}return!0}return!1}function l0(){return mj(Se(),Fv())}function Zs(n){let e=bO();return Rf(e,Ht+n)}function Gf(n,e){return n<<17|e<<2}function Ys(n){return n>>17&32767}function Xj(n){return(n&2)==2}function eU(n,e){return n&131071|e<<17}function IC(n){return n|2}function Cc(n){return(n&131068)>>2}function Xv(n,e){return n&-131069|e<<2}function tU(n){return(n&1)===1}function PC(n){return n|1}function nU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ys(s),c=Cc(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||cc(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let y=Ys(n[a+1]);n[r+1]=Gf(y,a),y!==0&&(n[y+1]=Xv(n[y+1],r)),n[a+1]=eU(n[a+1],r)}else n[r+1]=Gf(a,0),a!==0&&(n[a+1]=Xv(n[a+1],r)),a=r;else n[r+1]=Gf(c,0),a===0?a=r:n[c+1]=Xv(n[c+1],r),c=r;u&&(n[r+1]=IC(n[r+1])),cS(n,d,r,!0),cS(n,d,r,!1),rU(e,d,n,r,o),s=Gf(a,c),o?e.classBindings=s:e.styleBindings=s}function rU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&cc(o,e)>=0&&(t[r+1]=PC(t[r+1]))}function cS(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ys(i):Cc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];iU(c,e)&&(a=!0,n[s+1]=r?PC(u):IC(u)),s=r?Ys(u):Cc(u)}a&&(n[t+1]=r?IC(i):PC(i))}function iU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?cc(n,e)>=0:!1}var br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oU(n){return n.substring(br.key,br.keyEnd)}function sU(n){return aU(n),jx(n,Ux(n,0,br.textEnd))}function jx(n,e){let t=br.textEnd;return t===e?-1:(e=br.keyEnd=cU(n,br.key=e,t),Ux(n,e,t))}function aU(n){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=n.length}function Ux(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function cU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Dn(n,e,t){return Bx(n,e,t,!1),Dn}function _n(n,e){return Bx(n,e,null,!0),_n}function Zr(n){uU(mU,lU,n,!0)}function lU(n,e){for(let t=sU(e);t>=0;t=jx(e,t))Sf(n,oU(e),!0)}function Bx(n,e,t,r){let i=Se(),o=qt(),s=yu(2);if(o.firstUpdatePass&&zx(o,n,s,r),e!==mn&&Yr(i,s,e)){let a=o.data[qr()];Hx(o,a,i,i[ct],n,i[s+1]=_U(e,t),r,s)}}function uU(n,e,t,r){let i=qt(),o=yu(2);i.firstUpdatePass&&zx(i,null,o,r);let s=Se();if(t!==mn&&Yr(s,o,t)){let a=i.data[qr()];if(qx(a,r)&&!$x(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=If(c,t||"")),MC(i,a,s,t,r)}else yU(i,a,s,s[ct],s[o+1],s[o+1]=pU(n,e,t),r,o)}}function $x(n,e){return e>=n.expandoStartIndex}function zx(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[qr()],s=$x(n,t);qx(o,r)&&e===null&&!s&&(e=!1),e=dU(i,o,e,r),nU(i,o,e,t,s,r)}}function dU(n,e,t,r){let i=PO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=eC(null,n,e,t,r),t=Pu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=eC(i,n,e,t,r),o===null){let c=hU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=eC(null,n,e,c[1],r),c=Pu(c,e.attrs,r),fU(n,e,r,c))}else o=gU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function hU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Cc(r)!==0)return n[Ys(r)]}function fU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ys(i)]=r}function gU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Pu(r,s,t)}return Pu(r,e.attrs,t)}function eC(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Pu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Pu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Sf(n,s,t?!0:e[++o]))}return n===void 0?null:n}function pU(n,e,t){if(t==null||t==="")return gn;let r=[],i=Ec(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function mU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Sf(n,r,t)}function yU(n,e,t,r,i,o,s,a){i===mn&&(i=gn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let y=c<i.length?i[c+1]:void 0,v=u<o.length?o[u+1]:void 0,M=null,x;d===f?(c+=2,u+=2,y!==v&&(M=f,x=v)):f===null||d!==null&&d<f?(c+=2,M=d):(u+=2,M=f,x=v),M!==null&&Hx(n,e,t,r,M,x,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function Hx(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=tU(u)?lS(c,e,t,i,Cc(u),s):void 0;if(!fg(d)){fg(o)||Xj(u)&&(o=lS(c,null,t,i,a,s));let f=wv(qr(),t);J5(r,s,f,i,o)}}function lS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,y=t[i+1];y===mn&&(y=f?gn:void 0);let v=f?xf(y,r):d===r?y:void 0;if(u&&!fg(v)&&(v=xf(c,r)),fg(v)&&(a=v,s))return a;let M=n[i+1];i=s?Ys(M):Cc(M)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=xf(c,r))}return a}function fg(n){return n!==void 0}function _U(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ni(Ec(n)))),n}function qx(n,e){return(n.flags&(e?8:16))!==0}function _(n,e=""){let t=Se(),r=qt(),i=n+Ht,o=r.firstCreatePass?YC(r,i,1,e,null):r.data[i],s=vU(r,t,o,e,n);t[i]=s,$f()&&$C(r,t,s,o),fc(o,!1)}var vU=(n,e,t,r,i)=>(zf(!0),T5(e[ct],r));function CU(n,e,t,r=""){return Yr(n,mu(),t)?e+Ur(t)+r:mn}function bU(n,e,t,r,i,o=""){let s=Nv(),a=JC(n,s,t,i);return yu(2),a?e+Ur(t)+r+Ur(i)+o:mn}function wU(n,e,t,r,i,o,s,a=""){let c=Nv(),u=K3(n,c,t,i,s);return yu(3),u?e+Ur(t)+r+Ur(i)+o+Ur(s)+a:mn}function K(n){return me("",n),K}function me(n,e,t){let r=Se(),i=CU(r,n,e,t);return i!==mn&&u0(r,qr(),i),me}function Kt(n,e,t,r,i){let o=Se(),s=bU(o,n,e,t,r,i);return s!==mn&&u0(o,qr(),s),Kt}function Og(n,e,t,r,i,o,s){let a=Se(),c=wU(a,n,e,t,r,i,o,s);return c!==mn&&u0(a,qr(),c),Og}function u0(n,e,t){let r=wv(e,n);A5(n[ct],r,t)}function Pe(n,e,t){$v(e)&&(e=e());let r=Se(),i=mu();if(Yr(r,i,e)){let o=qt(),s=Bf();rx(s,r,n,e,r[ct],t)}return Pe}function Te(n,e){let t=$v(n);return t&&n.set(e),t}function De(n,e){let t=Se(),r=qt(),i=Wt();return Vx(r,t,t[ct],i,n,e),De}function EU(n,e,t){let r=qt();if(r.firstCreatePass){let i=Hr(n);DC(t,r.data,r.blueprint,i,!0),DC(e,r.data,r.blueprint,i,!1)}}function DC(n,e,t,r,i){if(n=zt(n),Array.isArray(n))for(let o=0;o<n.length;o++)DC(n[o],e,t,r,i);else{let o=qt(),s=Se(),a=Wt(),c=Ns(n)?n:zt(n.provide),u=yv(n),d=a.providerIndexes&1048575,f=a.directiveStart,y=a.providerIndexes>>20;if(Ns(n)||!n.multi){let v=new Ws(u,i,q,null),M=nC(c,e,i?d:d+y,f);M===-1?(iC(ng(a,s),o,c),tC(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[M]=v,s[M]=v)}else{let v=nC(c,e,d+y,f),M=nC(c,e,d,d+y),x=v>=0&&t[v],R=M>=0&&t[M];if(i&&!R||!i&&!x){iC(ng(a,s),o,c);let B=PU(i?IU:MU,t.length,i,r,u,n);!i&&R&&(t[M].providerFactory=B),tC(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=Wx(t[i?M:v],u,!i&&r);tC(o,n,v>-1?v:M,B)}!i&&r&&R&&t[M].componentProviders++}}}function tC(n,e,t,r){let i=Ns(e),o=iO(e);if(i||o){let c=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function Wx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function nC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function MU(n,e,t,r,i){return OC(this.multi,[])}function IU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Eu(r,r[fe],this.providerFactory.index,i);s=c.slice(0,a),OC(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],OC(o,s);return s}function OC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function PU(n,e,t,r,i,o){let s=new Ws(n,t,q,null);return s.multi=[],s.index=e,s.componentProviders=0,Wx(s,i,r&&!t),s}function Jr(n,e=[]){return t=>{t.providersResolver=(r,i)=>EU(r,i?i(n):n,e)}}function Au(n,e,t,r){return Kx(Se(),Ff(),n,e,t,r)}function Gx(n,e){let t=n[e];return t===mn?void 0:t}function Kx(n,e,t,r,i,o){let s=e+t;return Yr(n,s,i)?Ex(n,s+1,o?r.call(o,i):r(i)):Gx(n,s+1)}function DU(n,e,t,r,i,o,s){let a=e+t;return JC(n,a,i,o)?Ex(n,a+2,s?r.call(s,i,o):r(i,o)):Gx(n,a+2)}function He(n,e){let t=qt(),r,i=n+Ht;t.firstCreatePass?(r=OU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=So(r.type,!0)),s,a=fn(q);try{let c=tg(!1),u=o();return tg(c),Ev(t,Se(),i,u),u}finally{fn(a)}}function OU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Vt(n,e,t){let r=n+Ht,i=Se(),o=Rf(i,r);return Yx(i,r)?Kx(i,Ff(),e,o.transform,t,o):o.transform(t)}function vn(n,e,t,r){let i=n+Ht,o=Se(),s=Rf(o,i);return Yx(o,i)?DU(o,Ff(),e,s.transform,t,r,s):s.transform(t,r)}function Yx(n,e){return n[fe].data[e].pure}function d0(n,e){return wg(n,e)}var gg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},h0=(()=>{class n{compileModuleSync(t){return new lg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=fv(t),o=HS(i.declarations).reduce((s,a)=>{let c=Ui(a);return c&&s.push(new Gs(c)),s},[]);return new gg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SU=(()=>{class n{zone=N(xe);changeDetectionScheduler=N(Fi);applicationRef=N(rr);applicationErrorHandler=N(nn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qx=new J("",{factory:()=>!1});function f0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(ce(j({},p0()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:ji,multi:!0,useFactory:()=>{let r=N(SU,{optional:!0});return()=>r.initialize()}},{provide:ji,multi:!0,useFactory:()=>{let r=N(xU);return()=>{r.initialize()}}},e===!0?{provide:zv,useValue:!0}:[],{provide:Hv,useValue:t??xx},{provide:nn,useFactory:()=>{let r=N(xe),i=N(vt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(mr),o.handleError(s))})}}}]}function g0(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=f0({ngZoneFactory:()=>{let i=p0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Hi("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Lt([{provide:Qx,useValue:!0},{provide:_u,useValue:!1},r])}function p0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var xU=(()=>{class n{subscription=new qe;initialized=!1;zone=N(xe);pendingTasks=N(Gr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zx=(()=>{class n{applicationErrorHandler=N(nn);appRef=N(rr);taskService=N(Gr);ngZone=N(xe);zonelessEnabled=N(_u);tracing=N(Qs,{optional:!0});disableScheduling=N(zv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ug):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Hv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iS:Tx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ug+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TU(){return typeof $localize<"u"&&$localize.locale||Tu}var Js=new J("",{providedIn:"root",factory:()=>N(Js,{optional:!0,skipSelf:!0})||TU()}),m0=new J("",{providedIn:"root",factory:()=>Zj});function On(n){return $D(n)}function Dc(n,e){return Gh(n,e?.equal)}var Jx=class{[en];constructor(e){this[en]=e}destroy(){this[en].destroy()}};var iT=Symbol("InputSignalNode#UNSET"),$U=ce(j({},Kh),{transformFn:void 0,applyValueToInputSignal(n,e){Ga(n,e)}});function oT(n,e){let t=Object.create($U);t.value=n,t.transformFn=e?.transform;function r(){if(qa(t),t.value===iT){let i=null;throw new F(-950,i)}return t.value}return r[en]=t,r}var xg=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Du(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},zU=new J("");zU.__NG_ELEMENT_ID__=n=>{let e=Wt();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function Xx(n,e){return oT(n,e)}function HU(n){return oT(iT,n)}var sT=(Xx.required=HU,Xx);var Xs=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},aT=new Xs("20.1.3");var y0=new J(""),qU=new J("");function Ru(n){return!n.moduleRef}function WU(n){let e=Ru(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Ru(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(nn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ru(n)){let o=()=>e.destroy(),s=n.platformInjector.get(y0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(y0);s.add(o),n.moduleRef.onDestroy(()=>{bu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return KU(r,t,()=>{let o=e.get(Gr),s=o.add(),a=e.get(s0);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Js,Tu);if(Lx(c||Tu),!e.get(qU,!0))return Ru(n)?e.get(rr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ru(n)){let d=e.get(rr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return GU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var GU;function KU(n,e,t){try{let r=t();return qi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Sg=null;function YU(n=[],e){return Ze.create({name:e,providers:[{provide:su,useValue:"platform"},{provide:y0,useValue:new Set([()=>Sg=null])},...n]})}function QU(n=[]){if(Sg)return Sg;let e=YU(n);return Sg=e,Nx(),ZU(e),e}function ZU(n){let e=n.get(mg,null);wt(n,()=>{e?.forEach(t=>t())})}function ku(){return!1}var Xr=(()=>{class n{static __NG_ELEMENT_ID__=JU}return n})();function JU(n){return XU(Wt(),Se(),(n&16)===16)}function XU(n,e,t){if(ko(n)&&!t){let r=Xn(n.index,e);return new Fo(r,r)}else if(n.type&175){let r=e[Zn];return new Fo(r,e)}return null}var _0=class{constructor(){}supports(e){return ZC(e)}create(e){return new v0(e)}},e4=(n,e)=>e,v0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||e4}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<eT(r,i,o)?t:r,a=eT(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let y=0;y<u;y++){let v=y<o.length?o[y]:o[y]=0,M=v+y;d<=M&&M<u&&(o[y]=v+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ZC(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,wx(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new C0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tg),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},C0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},b0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Tg=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new b0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var w0=class{constructor(){}supports(e){return e instanceof Map||Mg(e)}create(){return new E0}},E0=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Mg(e)))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new M0(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},M0=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function tT(){return new I0([new _0])}var I0=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:tT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tT()),deps:[[n,new SC,new Et]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function nT(){return new P0([new w0])}var P0=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:nT});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nT()),deps:[[n,new SC,new Et]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new F(901,!1)}}return n})();function cT(n){ze(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=QU(r),o=[f0({}),{provide:Fi,useExisting:Zx},RO,...t||[]],s=new Iu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return WU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ze(9)}}function Uo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function lT(n){let e=Ui(n);if(!e)return null;let t=new Gs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var hT=null;function ir(){return hT}function D0(n){hT??=n}var Nu=class{},Fu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>N(fT),providedIn:"platform"})}return n})(),O0=new J(""),fT=(()=>{class n extends Fu{_location;_history;_doc=N(lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(t){let r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ag(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function uT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Mr(n){return n&&n[0]!=="?"?`?${n}`:n}var Ir=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>N(kg),providedIn:"root"})}return n})(),Rg=new J(""),kg=(()=>{class n extends Ir{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ag(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Mr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Mr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(Fu),ne(Rg,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bo=(()=>{class n{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=r4(uT(dT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Mr(r))}normalize(t){return n.stripTrailingSlash(n4(this._basePath,dT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mr;static joinWithSlash=Ag;static stripTrailingSlash=uT;static \u0275fac=function(r){return new(r||n)(ne(Ir))};static \u0275prov=W({token:n,factory:()=>t4(),providedIn:"root"})}return n})();function t4(){return new Bo(ne(Ir))}function n4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function dT(n){return n.replace(/\/index.html$/,"")}function r4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var F0=(()=>{class n extends Ir{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Ag(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Mr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Mr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(Fu),ne(Rg,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),vT={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Hg=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Hg||{});var sn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(sn||{}),We=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(We||{}),Sn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Sn||{}),Yt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function CT(n){return yn(n)[ut.LocaleId]}function bT(n,e,t){let r=yn(n),i=[r[ut.DayPeriodsFormat],r[ut.DayPeriodsStandalone]],o=or(i,e);return or(o,t)}function wT(n,e,t){let r=yn(n),i=[r[ut.DaysFormat],r[ut.DaysStandalone]],o=or(i,e);return or(o,t)}function ET(n,e,t){let r=yn(n),i=[r[ut.MonthsFormat],r[ut.MonthsStandalone]],o=or(i,e);return or(o,t)}function MT(n,e){let r=yn(n)[ut.Eras];return or(r,e)}function Lu(n,e){let t=yn(n);return or(t[ut.DateFormat],e)}function Vu(n,e){let t=yn(n);return or(t[ut.TimeFormat],e)}function ju(n,e){let r=yn(n)[ut.DateTimeFormat];return or(r,e)}function Dr(n,e){let t=yn(n),r=t[ut.NumberSymbols][e];if(typeof r>"u"){if(e===Yt.CurrencyDecimal)return t[ut.NumberSymbols][Yt.Decimal];if(e===Yt.CurrencyGroup)return t[ut.NumberSymbols][Yt.Group]}return r}function L0(n,e){return yn(n)[ut.NumberFormats][e]}function i4(n){return yn(n)[ut.Currencies]}function IT(n){if(!n[ut.ExtraData])throw new F(2303,!1)}function PT(n){let e=yn(n);return IT(e),(e[ut.ExtraData][2]||[]).map(r=>typeof r=="string"?S0(r):[S0(r[0]),S0(r[1])])}function DT(n,e,t){let r=yn(n);IT(r);let i=[r[ut.ExtraData][0],r[ut.ExtraData][1]],o=or(i,e)||[];return or(o,t)||[]}function or(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new F(2304,!1)}function S0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function OT(n,e,t="en"){let r=i4(t)[n]||vT[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var o4=2;function ST(n){let e,t=vT[n];return t&&(e=t[2]),typeof e=="number"?e:o4}var s4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ng={},a4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function xT(n,e,t,r){let i=m4(n);e=Wi(t,e)||e;let s=[],a;for(;e;)if(a=a4.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=AT(r,c),i=p4(i,r));let u="";return s.forEach(d=>{let f=f4(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Ug(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wi(n,e){let t=CT(n);if(Ng[t]??={},Ng[t][e])return Ng[t][e];let r="";switch(e){case"shortDate":r=Lu(n,Sn.Short);break;case"mediumDate":r=Lu(n,Sn.Medium);break;case"longDate":r=Lu(n,Sn.Long);break;case"fullDate":r=Lu(n,Sn.Full);break;case"shortTime":r=Vu(n,Sn.Short);break;case"mediumTime":r=Vu(n,Sn.Medium);break;case"longTime":r=Vu(n,Sn.Long);break;case"fullTime":r=Vu(n,Sn.Full);break;case"short":let i=Wi(n,"shortTime"),o=Wi(n,"shortDate");r=Fg(ju(n,Sn.Short),[i,o]);break;case"medium":let s=Wi(n,"mediumTime"),a=Wi(n,"mediumDate");r=Fg(ju(n,Sn.Medium),[s,a]);break;case"long":let c=Wi(n,"longTime"),u=Wi(n,"longDate");r=Fg(ju(n,Sn.Long),[c,u]);break;case"full":let d=Wi(n,"fullTime"),f=Wi(n,"fullDate");r=Fg(ju(n,Sn.Full),[d,f]);break}return r&&(Ng[t][e]=r),r}function Fg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Pr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function c4(n,e){return Pr(n,3).substring(0,e)}function Mt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=l4(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return c4(a,e);let c=Dr(s,Yt.MinusSign);return Pr(a,e,c,r,i)}}function l4(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new F(2301,!1)}}function Je(n,e,t=sn.Format,r=!1){return function(i,o){return u4(i,o,n,e,t,r)}}function u4(n,e,t,r,i,o){switch(t){case 2:return ET(e,i,r)[n.getMonth()];case 1:return wT(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=PT(e),d=DT(e,i,r),f=u.findIndex(y=>{if(Array.isArray(y)){let[v,M]=y,x=s>=v.hours&&a>=v.minutes,R=s<M.hours||s===M.hours&&a<M.minutes;if(v.hours<M.hours){if(x&&R)return!0}else if(x||R)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return bT(e,i,r)[s<12?0:1];case 3:return MT(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new F(2302,!1)}}function Lg(n){return function(e,t,r){let i=-1*r,o=Dr(t,Yt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Pr(s,2,o)+Pr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Pr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Pr(s,2,o)+":"+Pr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Pr(s,2,o)+":"+Pr(Math.abs(i%60),2,o);default:throw new F(2302,!1)}}}var d4=0,jg=4;function h4(n){let e=Ug(n,d4,1).getDay();return Ug(n,0,1+(e<=jg?jg:jg+7)-e)}function TT(n){let e=n.getDay(),t=e===0?-3:jg-e;return Ug(n.getFullYear(),n.getMonth(),n.getDate()+t)}function x0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=TT(t),s=h4(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Pr(i,n,Dr(r,Yt.MinusSign))}}function Vg(n,e=!1){return function(t,r){let o=TT(t).getFullYear();return Pr(o,n,Dr(r,Yt.MinusSign),e)}}var T0={};function f4(n){if(T0[n])return T0[n];let e;switch(n){case"G":case"GG":case"GGG":e=Je(3,We.Abbreviated);break;case"GGGG":e=Je(3,We.Wide);break;case"GGGGG":e=Je(3,We.Narrow);break;case"y":e=Mt(0,1,0,!1,!0);break;case"yy":e=Mt(0,2,0,!0,!0);break;case"yyy":e=Mt(0,3,0,!1,!0);break;case"yyyy":e=Mt(0,4,0,!1,!0);break;case"Y":e=Vg(1);break;case"YY":e=Vg(2,!0);break;case"YYY":e=Vg(3);break;case"YYYY":e=Vg(4);break;case"M":case"L":e=Mt(1,1,1);break;case"MM":case"LL":e=Mt(1,2,1);break;case"MMM":e=Je(2,We.Abbreviated);break;case"MMMM":e=Je(2,We.Wide);break;case"MMMMM":e=Je(2,We.Narrow);break;case"LLL":e=Je(2,We.Abbreviated,sn.Standalone);break;case"LLLL":e=Je(2,We.Wide,sn.Standalone);break;case"LLLLL":e=Je(2,We.Narrow,sn.Standalone);break;case"w":e=x0(1);break;case"ww":e=x0(2);break;case"W":e=x0(1,!0);break;case"d":e=Mt(2,1);break;case"dd":e=Mt(2,2);break;case"c":case"cc":e=Mt(7,1);break;case"ccc":e=Je(1,We.Abbreviated,sn.Standalone);break;case"cccc":e=Je(1,We.Wide,sn.Standalone);break;case"ccccc":e=Je(1,We.Narrow,sn.Standalone);break;case"cccccc":e=Je(1,We.Short,sn.Standalone);break;case"E":case"EE":case"EEE":e=Je(1,We.Abbreviated);break;case"EEEE":e=Je(1,We.Wide);break;case"EEEEE":e=Je(1,We.Narrow);break;case"EEEEEE":e=Je(1,We.Short);break;case"a":case"aa":case"aaa":e=Je(0,We.Abbreviated);break;case"aaaa":e=Je(0,We.Wide);break;case"aaaaa":e=Je(0,We.Narrow);break;case"b":case"bb":case"bbb":e=Je(0,We.Abbreviated,sn.Standalone,!0);break;case"bbbb":e=Je(0,We.Wide,sn.Standalone,!0);break;case"bbbbb":e=Je(0,We.Narrow,sn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Je(0,We.Abbreviated,sn.Format,!0);break;case"BBBB":e=Je(0,We.Wide,sn.Format,!0);break;case"BBBBB":e=Je(0,We.Narrow,sn.Format,!0);break;case"h":e=Mt(3,1,-12);break;case"hh":e=Mt(3,2,-12);break;case"H":e=Mt(3,1);break;case"HH":e=Mt(3,2);break;case"m":e=Mt(4,1);break;case"mm":e=Mt(4,2);break;case"s":e=Mt(5,1);break;case"ss":e=Mt(5,2);break;case"S":e=Mt(6,1);break;case"SS":e=Mt(6,2);break;case"SSS":e=Mt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Lg(0);break;case"ZZZZZ":e=Lg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Lg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Lg(2);break;default:return null}return T0[n]=e,e}function AT(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function g4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function p4(n,e,t){let i=n.getTimezoneOffset(),o=AT(e,i);return g4(n,-1*(o-i))}function m4(n){if(gT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Ug(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(s4))return y4(r)}let e=new Date(n);if(!gT(e))throw new F(2302,!1);return e}function y4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function gT(n){return n instanceof Date&&!isNaN(n.valueOf())}var _4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pT=22,Bg=".",Uu="0",v4=";",C4=",",A0="#",mT="\xA4";function RT(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Dr(t,Yt.Infinity);else{let u=w4(n);s&&(u=b4(u));let d=e.minInt,f=e.minFrac,y=e.maxFrac;if(o){let Z=o.match(_4);if(Z===null)throw new F(2306,!1);let ee=Z[1],ie=Z[3],Ue=Z[5];ee!=null&&(d=R0(ee)),ie!=null&&(f=R0(ie)),Ue!=null?y=R0(Ue):ie!=null&&f>y&&(y=f)}E4(u,f,y);let v=u.digits,M=u.integerLen,x=u.exponent,R=[];for(c=v.every(Z=>!Z);M<d;M++)v.unshift(0);for(;M<0;M++)v.unshift(0);M>0?R=v.splice(M,v.length):(R=v,v=[0]);let B=[];for(v.length>=e.lgSize&&B.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)B.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&B.unshift(v.join("")),a=B.join(Dr(t,r)),R.length&&(a+=Dr(t,i)+R.join("")),x&&(a+=Dr(t,Yt.Exponential)+"+"+x)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function kT(n,e,t,r,i){let o=L0(e,Hg.Currency),s=FT(o,Dr(e,Yt.MinusSign));return s.minFrac=ST(r),s.maxFrac=s.minFrac,RT(n,s,e,Yt.CurrencyGroup,Yt.CurrencyDecimal,i).replace(mT,t).replace(mT,"").trim()}function NT(n,e,t){let r=L0(e,Hg.Decimal),i=FT(r,Dr(e,Yt.MinusSign));return RT(n,i,e,Yt.Group,Yt.Decimal,t)}function FT(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(v4),i=r[0],o=r[1],s=i.indexOf(Bg)!==-1?i.split(Bg):[i.substring(0,i.lastIndexOf(Uu)+1),i.substring(i.lastIndexOf(Uu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(A0));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Uu?t.minFrac=t.maxFrac=d+1:f===A0?t.maxFrac=d+1:t.posSuf+=f}let u=a.split(C4);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(A0);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function b4(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function w4(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Bg))>-1&&(e=e.replace(Bg,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Uu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Uu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>pT&&(r=r.splice(0,pT-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function E4(n,e,t){if(e>t)throw new F(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(f,y,v,M){return y=y+f,M[v]=y<10?y:y-10,c&&(M[v]===0&&v>=u?M.pop():c=!1),y>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function R0(n){let e=parseInt(n);if(isNaN(e))throw new F(2305,!1);return e}var $g=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ei=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $g(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),yT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(zi),q(Lo),q(I0))};static \u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function yT(n,e){n.context.$implicit=e.item}var Cn=(()=>{class n{_viewContainer;_context=new zg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_T(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_T(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(zi),q(Lo))};static \u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),zg=class{$implicit=null;ngIf=null};function _T(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}var Bu=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:wr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(q(rn),q(P0),q(tr))};static \u0275dir=Ke({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function qg(n,e){return new F(2100,!1)}var k0=class{createSubscription(e,t,r){return On(()=>e.subscribe({next:t,error:r}))}dispose(e){On(()=>e.unsubscribe())}},N0=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},M4=new N0,I4=new k0,V0=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(nn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(qi(t))return M4;if(Dg(t))return I4;throw qg(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(q(Xr,16))};static \u0275pipe=Ic({name:"async",type:n,pure:!1})}return n})();var P4="mediumDate",LT=new J(""),VT=new J(""),ta=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??P4,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return xT(t,s,o||this.locale,a)}catch(s){throw qg(n,s.message)}}static \u0275fac=function(r){return new(r||n)(q(Js,16),q(LT,24),q(VT,24))};static \u0275pipe=Ic({name:"date",type:n,pure:!0})}return n})();var j0=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!jT(t))return null;i||=this._locale;try{let o=UT(t);return NT(o,i,r)}catch(o){throw qg(n,o.message)}}static \u0275fac=function(r){return new(r||n)(q(Js,16))};static \u0275pipe=Ic({name:"number",type:n,pure:!0})}return n})();var $u=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!jT(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=OT(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=UT(t);return kT(c,s,a,r,o)}catch(c){throw qg(n,c.message)}}static \u0275fac=function(r){return new(r||n)(q(Js,16),q(m0,16))};static \u0275pipe=Ic({name:"currency",type:n,pure:!0})}return n})();function jT(n){return!(n==null||n===""||n!==n)}function UT(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new F(2309,!1);return n}var an=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=nr({type:n});static \u0275inj=Vn({})}return n})();function U0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zu=class{};var BT="browser";var $T=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new B0(N(lt),window)})}return n})(),B0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ce(j({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=D4(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Li(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ce(j({},t),{left:i-s[0],top:o-s[1]}))}};function D4(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Gg=new J(""),W0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ne(Gg),ne(xe))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Hu=class{_doc;constructor(e){this._doc=e}manager},$0="ng-app-id";function zT(n){for(let e of n)e.remove()}function HT(n,e){let t=e.createElement("style");return t.textContent=n,t}function O4(n,e,t,r){let i=n.head?.querySelectorAll(`style[${$0}="${e}"],link[${$0}="${e}"]`);if(i)for(let o of i)o.removeAttribute($0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function H0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var G0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,O4(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,HT);r?.forEach(i=>this.addUsage(i,this.external,H0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(zT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])zT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,HT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,H0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ne(lt),ne(pg),ne(_g,8),ne(Vo))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),z0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},K0=/%COMP%/g;var WT="%COMP%",S4=`_nghost-${WT}`,x4=`_ngcontent-${WT}`,T4=!0,A4=new J("",{providedIn:"root",factory:()=>T4});function R4(n){return x4.replace(K0,n)}function k4(n){return S4.replace(K0,n)}function GT(n,e){return e.map(t=>t.replace(K0,n))}var Gu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new qu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Wg?i.applyToHost(t):i instanceof Wu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Bi.Emulated:o=new Wg(c,u,r,this.appId,d,s,a,f,y);break;case Bi.ShadowDom:return new q0(c,u,t,r,s,a,this.nonce,f,y);default:o=new Wu(c,u,r,d,s,a,f,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ne(W0),ne(G0),ne(pg),ne(A4),ne(lt),ne(Vo),ne(xe),ne(_g),ne(Qs,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),qu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(z0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(qT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=z0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=z0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wr.DashCase|wr.Important)?e.style.setProperty(t,r,i&wr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ir().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function qT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var q0=class extends qu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=GT(i.id,d);for(let y of d){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=y,this.shadowRoot.appendChild(v)}let f=i.getExternalStyles?.();if(f)for(let y of f){let v=H0(y,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wu=class extends qu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?GT(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wg=class extends Wu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=R4(d),this.hostAttr=k4(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Kg=class n extends Nu{supportsDOMEvents=!0;static makeCurrent(){D0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=N4();return t==null?null:F4(t)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return U0(document.cookie,e)}},Ku=null;function N4(){return Ku=Ku||document.head.querySelector("base"),Ku?Ku.getAttribute("href"):null}function F4(n){return new URL(n,document.baseURI).pathname}var L4=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),YT=(()=>{class n extends Hu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ne(lt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),KT=["alt","control","meta","shift"],V4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},QT=(()=>{class n extends Hu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),KT.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=V4[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KT.forEach(s=>{if(s!==i){let a=j4[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ne(lt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Y0(n,e){let t=j({rootComponent:n},U4(e));return cT(t)}function U4(n){return{appProviders:[...q4,...n?.providers??[]],platformProviders:H4}}function B4(){Kg.makeCurrent()}function $4(){return new mr}function z4(){return AC(document),document}var H4=[{provide:Vo,useValue:BT},{provide:mg,useValue:B4,multi:!0},{provide:lt,useFactory:z4}];var q4=[{provide:su,useValue:"root"},{provide:mr,useFactory:$4},{provide:Gg,useClass:YT,multi:!0,deps:[lt]},{provide:Gg,useClass:QT,multi:!0,deps:[lt]},Gu,G0,W0,{provide:$i,useExisting:Gu},{provide:zu,useClass:L4},[]];var ZT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ne(lt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we="primary",ad=Symbol("RouteTitle"),eb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ia(n){return new eb(n)}function o1(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function G4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ti(n[t],e[t]))return!1;return!0}function ti(n,e){let t=n?tb(n):void 0,r=e?tb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!s1(n[i],e[i]))return!1;return!0}function tb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function s1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function a1(n){return n.length>0?n[n.length-1]:null}function Gi(n){return N_(n)?n:qi(n)?it(Promise.resolve(n)):le(n)}var K4={exact:l1,subset:u1},c1={exact:Y4,subset:Q4,ignored:()=>!0};function JT(n,e,t){return K4[t.paths](n.root,e.root,t.matrixParams)&&c1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Y4(n,e){return ti(n,e)}function l1(n,e,t){if(!na(n.segments,e.segments)||!Zg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!l1(n.children[r],e.children[r],t))return!1;return!0}function Q4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>s1(n[t],e[t]))}function u1(n,e,t){return d1(n,e,e.segments,t)}function d1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!na(i,t)||e.hasChildren()||!Zg(i,t,r))}else if(n.segments.length===t.length){if(!na(n.segments,t)||!Zg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!u1(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!na(n.segments,i)||!Zg(n.segments,i,r)||!n.children[we]?!1:d1(n.children[we],e,o,r)}}function Zg(n,e,t){return e.every((r,i)=>c1[t](n[i].parameters,r.parameters))}var ri=class{root;queryParams;fragment;_queryParamMap;constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ia(this.queryParams),this._queryParamMap}toString(){return X4.serialize(this)}},je=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jg(this)}},zo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ia(this.parameters),this._parameterMap}toString(){return f1(this)}};function Z4(n,e){return na(n,e)&&n.every((t,r)=>ti(t.parameters,e[r].parameters))}function na(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function J4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var oa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new Ho,providedIn:"root"})}return n})(),Ho=class{parse(e){let t=new rb(e);return new ri(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Yu(e.root,!0)}`,r=nB(e.queryParams),i=typeof e.fragment=="string"?`#${eB(e.fragment)}`:"";return`${t}${r}${i}`}},X4=new Ho;function Jg(n){return n.segments.map(e=>f1(e)).join("/")}function Yu(n,e){if(!n.hasChildren())return Jg(n);if(e){let t=n.children[we]?Yu(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${Yu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=J4(n,(r,i)=>i===we?[Yu(n.children[we],!1)]:[`${i}:${Yu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Jg(n)}/${t[0]}`:`${Jg(n)}/(${t.join("//")})`}}function h1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yg(n){return h1(n).replace(/%3B/gi,";")}function eB(n){return encodeURI(n)}function nb(n){return h1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xg(n){return decodeURIComponent(n)}function XT(n){return Xg(n.replace(/\+/g,"%20"))}function f1(n){return`${nb(n.path)}${tB(n.parameters)}`}function tB(n){return Object.entries(n).map(([e,t])=>`;${nb(e)}=${nb(t)}`).join("")}function nB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yg(t)}=${Yg(i)}`).join("&"):`${Yg(t)}=${Yg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var rB=/^[^\/()?;#]+/;function Q0(n){let e=n.match(rB);return e?e[0]:""}var iB=/^[^\/()?;=#]+/;function oB(n){let e=n.match(iB);return e?e[0]:""}var sB=/^[^=?&#]+/;function aB(n){let e=n.match(sB);return e?e[0]:""}var cB=/^[^&#]+/;function lB(n){let e=n.match(cB);return e?e[0]:""}var rb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new je(e,t)),r}parseSegment(){let e=Q0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new zo(Xg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=oB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Q0(this.remaining);i&&(r=i,this.capture(r))}e[Xg(t)]=Xg(r)}parseQueryParam(e){let t=aB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lB(this.remaining);s&&(r=s,this.capture(r))}let i=XT(t),o=XT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Q0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function g1(n){return n.segments.length>0?new je([],{[we]:n}):n}function p1(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=p1(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new je(n.segments,e);return uB(t)}function uB(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new je(n.segments.concat(e.segments),e.children)}return n}function qo(n){return n instanceof ri}function m1(n,e,t=null,r=null){let i=y1(n);return _1(i,e,t,r)}function y1(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new je(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=g1(r);return e??i}function _1(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Z0(i,i,i,t,r);let o=dB(e);if(o.toRoot())return Z0(i,i,new je([],{}),t,r);let s=hB(o,i,n),a=s.processChildren?Zu(s.segmentGroup,s.index,o.commands):C1(s.segmentGroup,s.index,o.commands);return Z0(i,s.segmentGroup,a,t,r)}function ep(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xu(n){return typeof n=="object"&&n!=null&&n.outlets}function Z0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=v1(n,e,t);let a=g1(p1(s));return new ri(a,o,i)}function v1(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=v1(o,e,t)}),new je(n.segments,r)}var tp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ep(r[0]))throw new F(4003,!1);let i=r.find(Xu);if(i&&i!==a1(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new tp(t,e,r)}var xc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function hB(n,e,t){if(n.isAbsolute)return new xc(e,!0,0);if(!t)return new xc(e,!1,NaN);if(t.parent===null)return new xc(t,!0,0);let r=ep(n.commands[0])?0:1,i=t.segments.length-1+r;return fB(t,i,n.numberOfDoubleDots)}function fB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new xc(r,!1,i-o)}function gB(n){return Xu(n[0])?n[0].outlets:{[we]:n}}function C1(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return Zu(n,e,t);let r=pB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new je(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new je(n.segments.slice(r.pathIndex),n.children),Zu(o,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?ib(n,e,t):r.match?Zu(n,0,i):ib(n,e,t)}function Zu(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=gB(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=Zu(n.children[we],e,t);return new je(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=C1(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new je(n.segments,i)}}function pB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Xu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!t1(c,u,s))return o;r+=2}else{if(!t1(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ib(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Xu(o)){let c=mB(o.outlets);return new je(r,c)}if(i===0&&ep(t[0])){let c=n.segments[e];r.push(new zo(c.path,e1(t[0]))),i++;continue}let s=Xu(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ep(a)?(r.push(new zo(s,e1(a))),i+=2):(r.push(new zo(s,{})),i++)}return new je(r,{})}function mB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ib(new je([],{}),0,r))}),e}function e1(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function t1(n,e,t){return n==t.path&&ti(e,t.parameters)}var Tc="imperative",At=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(At||{}),Bn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wo=class extends Bn{type=At.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends Bn{urlAfterRedirects;type=At.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(bn||{}),Rc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Rc||{}),ni=class extends Bn{reason;code;type=At.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends Bn{reason;code;type=At.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},kc=class extends Bn{error;target;type=At.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ed=class extends Bn{urlAfterRedirects;state;type=At.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},np=class extends Bn{urlAfterRedirects;state;type=At.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends Bn{urlAfterRedirects;state;shouldActivate;type=At.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ip=class extends Bn{urlAfterRedirects;state;type=At.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends Bn{urlAfterRedirects;state;type=At.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class{route;type=At.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ap=class{route;type=At.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cp=class{snapshot;type=At.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lp=class{snapshot;type=At.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},up=class{snapshot;type=At.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=At.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nc=class{routerEvent;position;anchor;type=At.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},td=class{},Fc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function yB(n){return!(n instanceof td)&&!(n instanceof Fc)}function _B(n,e){return n.providers&&!n._injector&&(n._injector=Mc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Or(n){return n.outlet||we}function vB(n,e){let t=n.filter(r=>Or(r)===e);return t.push(...n.filter(r=>Or(r)!==e)),t}function jc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new sa(this.rootInjector)}},sa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ne(vt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ob(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ob(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=sb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sb(e,this._root).map(t=>t.value)}};function ob(n,e){if(n===e.value)return e;for(let t of e.children){let r=ob(n,t);if(r)return r}return null}function sb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=sb(n,t);if(r.length)return r.unshift(e),r}return[]}var Un=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Sc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var nd=class extends fp{snapshot;constructor(e,t){super(e),this.snapshot=t,gb(this,e)}toString(){return this.snapshot.toString()}};function b1(n){let e=CB(n),t=new rt([new zo("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new sr(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new nd(new Un(a,[]),e)}function CB(n){let e={},t={},r={},i="",o=new ra([],e,r,i,t,we,n,null,{});return new rd("",new Un(o,[]))}var sr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ge(u=>u[ad]))??le(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ge(e=>ia(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ge(e=>ia(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&E1(i)&&(r.resolve[ad]=i.title),r}var ra=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ad]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ia(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ia(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},rd=class extends fp{url;constructor(e,t){super(t),this.url=e,gb(this,t)}toString(){return w1(this._root)}};function gb(n,e){e.value._routerState=n,e.children.forEach(t=>gb(n,t))}function w1(n){let e=n.children.length>0?` { ${n.children.map(w1).join(", ")} } `:"";return`${n.value}${e}`}function J0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ti(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ti(e.params,t.params)||n.paramsSubject.next(t.params),G4(e.url,t.url)||n.urlSubject.next(t.url),ti(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ab(n,e){let t=ti(n.params,e.params)&&Z4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ab(n.parent,e.parent))}function E1(n){return typeof n.title=="string"||n.title===null}var M1=new J(""),cd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=we;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=sT(void 0);parentContexts=N(sa);location=N(zi);changeDetector=N(Xr);inputBinder=N(ld,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cb(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qr]})}return n})(),cb=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===sr?this.route:e===sa?this.childContexts:e===M1?this.outletData:this.parent.get(e,t)}},ld=new J(""),pb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Zl([r.queryParams,r.params,r.data]).pipe(kt(([o,s,a],c)=>(a=j(j(j({},o),s),a),c===0?le(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=lT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),mb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Gt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&on(0,"router-outlet")},dependencies:[cd],encapsulation:2})}return n})();function yb(n){let e=n.children&&n.children.map(yb),t=e?ce(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=mb),t}function bB(n,e,t){let r=id(n,e._root,t?t._root:void 0);return new nd(r,e)}function id(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=wB(n,e,t);return new Un(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>id(n,a)),s}}let r=EB(e.value),i=e.children.map(o=>id(n,o));return new Un(r,i)}}function wB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return id(n,r,i);return id(n,r)})}function EB(n){return new sr(new rt(n.url),new rt(n.params),new rt(n.queryParams),new rt(n.fragment),new rt(n.data),n.outlet,n.component,n)}var Lc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},I1="ngNavigationCancelingError";function pp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=P1(!1,bn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function P1(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[I1]=!0,t.cancellationCode=e,t}function MB(n){return D1(n)&&qo(n.url)}function D1(n){return!!n&&n[I1]}var IB=(n,e,t,r)=>ge(i=>(new lb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),lb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),J0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Sc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Sc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Sc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(J0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),J0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},mp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ac=class{component;route;constructor(e,t){this.component=e,this.route=t}};function PB(n,e,t){let r=n._root,i=e?e._root:null;return Qu(r,i,t,[r.value])}function DB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Uc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!ev(n)?n:e.get(n):r}function Qu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Sc(e);return n.children.forEach(s=>{OB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ju(a,t.getContext(s),i)),i}function OB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=SB(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new mp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qu(n,e,a?a.children:null,r,i):Qu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ac(a.outlet.component,s))}else s&&Ju(e,a,i),i.canActivateChecks.push(new mp(r)),o.component?Qu(n,null,a?a.children:null,r,i):Qu(n,null,t,r,i);return i}function SB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!na(n.url,e.url)||!ti(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ab(n,e)||!ti(n.queryParams,e.queryParams);case"paramsChange":default:return!ab(n,e)}}function Ju(n,e,t){let r=Sc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ju(s,e.children.getContext(o),t):Ju(s,null,t):Ju(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ac(e.outlet.component,i)):t.canDeactivateChecks.push(new Ac(null,i)):t.canDeactivateChecks.push(new Ac(null,i))}function ud(n){return typeof n=="function"}function xB(n){return typeof n=="boolean"}function TB(n){return n&&ud(n.canLoad)}function AB(n){return n&&ud(n.canActivate)}function RB(n){return n&&ud(n.canActivateChild)}function kB(n){return n&&ud(n.canDeactivate)}function NB(n){return n&&ud(n.canMatch)}function O1(n){return n instanceof xi||n?.name==="EmptyError"}var Qg=Symbol("INITIAL_VALUE");function Vc(){return kt(n=>Zl(n.map(e=>e.pipe(Tt(1),j_(Qg)))).pipe(ge(e=>{for(let t of e)if(t!==!0){if(t===Qg)return Qg;if(t===!1||FB(t))return t}return!0}),_t(e=>e!==Qg),Tt(1)))}function FB(n){return qo(n)||n instanceof Lc}function LB(n,e){return yt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?le(ce(j({},t),{guardsResult:!0})):VB(s,r,i,n).pipe(yt(a=>a&&xB(a)?jB(r,o,n,e):le(a)),ge(a=>ce(j({},t),{guardsResult:a})))})}function VB(n,e,t,r){return it(n).pipe(yt(i=>HB(i.component,i.route,t,e,r)),Ri(i=>i!==!0,!0))}function jB(n,e,t,r){return it(e).pipe(Do(i=>oc(BB(i.route.parent,r),UB(i.route,r),zB(n,i.path,t),$B(n,i.route,t))),Ri(i=>i!==!0,!0))}function UB(n,e){return n!==null&&e&&e(new up(n)),le(!0)}function BB(n,e){return n!==null&&e&&e(new cp(n)),le(!0)}function $B(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return le(!0);let i=r.map(o=>Jl(()=>{let s=jc(e)??t,a=Uc(o,s),c=AB(a)?a.canActivate(e,n):wt(s,()=>a(e,n));return Gi(c).pipe(Ri())}));return le(i).pipe(Vc())}function zB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DB(s)).filter(s=>s!==null).map(s=>Jl(()=>{let a=s.guards.map(c=>{let u=jc(s.node)??t,d=Uc(c,u),f=RB(d)?d.canActivateChild(r,n):wt(u,()=>d(r,n));return Gi(f).pipe(Ri())});return le(a).pipe(Vc())}));return le(o).pipe(Vc())}function HB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let c=jc(e)??i,u=Uc(a,c),d=kB(u)?u.canDeactivate(n,e,t,r):wt(c,()=>u(n,e,t,r));return Gi(d).pipe(Ri())});return le(s).pipe(Vc())}function qB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return le(!0);let o=i.map(s=>{let a=Uc(s,n),c=TB(a)?a.canLoad(e,t):wt(n,()=>a(e,t));return Gi(c)});return le(o).pipe(Vc(),S1(r))}function S1(n){return D_(Nt(e=>{if(typeof e!="boolean")throw pp(n,e)}),ge(e=>e===!0))}function WB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return le(!0);let o=i.map(s=>{let a=Uc(s,n),c=NB(a)?a.canMatch(e,t):wt(n,()=>a(e,t));return Gi(c)});return le(o).pipe(Vc(),S1(r))}var od=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},sd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Oc(n){return ic(new od(n))}function GB(n){return ic(new F(4e3,!1))}function KB(n){return ic(P1(!1,bn.GuardRejected))}var ub=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return le(r);if(i.numberOfChildren>1||!i.children[we])return GB(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){return YB(t,i,o).pipe(ge(s=>{if(s instanceof ri)throw new sd(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new sd(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ri(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new je(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function YB(n,e,t){if(typeof n=="string")return le(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:f}=e;return Gi(wt(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var db={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QB(n,e,t,r,i){let o=x1(n,e,t);return o.matched?(r=_B(e,r),WB(r,e,t,i).pipe(ge(s=>s===!0?o:j({},db)))):le(o)}function x1(n,e,t){if(e.path==="**")return ZB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},db):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||o1)(t,n,e);if(!i)return j({},db);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ZB(n){return{matched:!0,parameters:n.length>0?a1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function n1(n,e,t,r){return t.length>0&&e6(n,t,r)?{segmentGroup:new je(e,XB(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&t6(n,t,r)?{segmentGroup:new je(n.segments,JB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function JB(n,e,t,r){let i={};for(let o of t)if(_p(n,e,o)&&!r[Or(o)]){let s=new je([],{});i[Or(o)]=s}return j(j({},r),i)}function XB(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Or(r)!==we){let i=new je([],{});t[Or(r)]=i}return t}function e6(n,e,t){return t.some(r=>_p(n,e,r)&&Or(r)!==we)}function t6(n,e,t){return t.some(r=>_p(n,e,r))}function _p(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function n6(n,e,t){return e.length===0&&!n.children[t]}var hb=class{};function r6(n,e,t,r,i,o,s="emptyOnly"){return new fb(n,e,t,r,i,s,o).recognize()}var i6=31,fb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ub(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=n1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(({children:t,rootSnapshot:r})=>{let i=new Un(r,t),o=new rd("",i),s=m1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ra([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(ge(r=>({children:r,rootSnapshot:t})),Ai(r=>{if(r instanceof sd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof od?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ge(s=>s instanceof Un?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return it(o).pipe(Do(s=>{let a=r.children[s],c=vB(t,s);return this.processSegmentGroup(e,c,a,s,i)}),V_((s,a)=>(s.push(...a),s)),Oo(null),L_(),yt(s=>{if(s===null)return Oc(r);let a=T1(s);return o6(a),le(a)}))}processSegment(e,t,r,i,o,s,a){return it(t).pipe(Do(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ai(u=>{if(u instanceof od)return le(null);throw u}))),Ri(c=>!!c),Ai(c=>{if(O1(c))return n6(r,i,o)?le(new hb):Oc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Or(r)!==s&&(s===we||!_p(i,o,r))?Oc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Oc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:y}=x1(t,i,o);if(!c)return Oc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i6&&(this.allowRedirects=!1));let v=new ra(o,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,r1(i),Or(i),i.component??i._loadedComponent??null,i,i1(i)),M=gp(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(M.params),v.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,v,e).pipe(kt(R=>this.applyRedirects.lineralizeSegments(i,R)),yt(R=>this.processSegment(e,r,t,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=QB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(kt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:y,remainingSegments:v}=c,M=new ra(y,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,r1(r),Or(r),r.component??r._loadedComponent??null,r,i1(r)),x=gp(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(x.params),M.data=Object.freeze(x.data);let{segmentGroup:R,slicedSegments:B}=n1(t,y,v,u);if(B.length===0&&R.hasChildren())return this.processChildren(d,u,R,M).pipe(ge(ee=>new Un(M,ee)));if(u.length===0&&B.length===0)return le(new Un(M,[]));let Z=Or(r)===o;return this.processSegment(d,u,R,B,Z?we:o,!0,M).pipe(ge(ee=>new Un(M,ee instanceof Un?[ee]:[])))}))):Oc(t)))}getChildConfig(e,t,r){return t.children?le({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?le({routes:t._loadedRoutes,injector:t._loadedInjector}):qB(e,t,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,t).pipe(Nt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):KB(t))):le({routes:[],injector:e})}};function o6(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function s6(n){let e=n.value.routeConfig;return e&&e.path===""}function T1(n){let e=[],t=new Set;for(let r of n){if(!s6(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=T1(r.children);e.push(new Un(r.value,i))}return e.filter(r=>!t.has(r))}function r1(n){return n.data||{}}function i1(n){return n.resolve||{}}function a6(n,e,t,r,i,o){return yt(s=>r6(n,e,t,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:c})=>ce(j({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function c6(n,e){return yt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return le(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of A1(c))s.add(u);let a=0;return it(s).pipe(Do(c=>o.has(c)?l6(c,r,n,e):(c.data=gp(c,c.parent,n).resolve,le(void 0))),Nt(()=>a++),sc(1),yt(c=>a===s.size?le(t):Mn))})}function A1(n){let e=n.children.map(t=>A1(t)).flat();return[n,...e]}function l6(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!E1(i)&&(o[ad]=i.title),Jl(()=>(n.data=gp(n,n.parent,t).resolve,u6(o,n,e,r).pipe(ge(s=>(n._resolvedData=s,n.data=j(j({},n.data),s),null)))))}function u6(n,e,t,r){let i=tb(n);if(i.length===0)return le({});let o={};return it(i).pipe(yt(s=>d6(n[s],e,t,r).pipe(Ri(),Nt(a=>{if(a instanceof Lc)throw pp(new Ho,a);o[s]=a}))),sc(1),ge(()=>o),Ai(s=>O1(s)?Mn:ic(s)))}function d6(n,e,t,r){let i=jc(e)??r,o=Uc(n,i),s=o.resolve?o.resolve(e,t):wt(i,()=>o(e,t));return Gi(s)}function X0(n){return kt(e=>{let t=n(e);return t?it(t).pipe(ge(()=>e)):le(e)})}var _b=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[ad]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>N(R1),providedIn:"root"})}return n})(),R1=(()=>{class n extends _b{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ne(ZT))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Go=new J("",{providedIn:"root",factory:()=>({})}),aa=new J(""),vp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(h0);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Gi(wt(t,()=>r.loadComponent())).pipe(ge(N1),Nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xl(()=>{this.componentLoaders.delete(r)})),o=new ec(i,()=>new nt).pipe(Xa());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=k1(r,this.compiler,t,this.onLoadEndListener).pipe(Xl(()=>{this.childrenLoaders.delete(r)})),s=new ec(o,()=>new nt).pipe(Xa());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k1(n,e,t,r){return Gi(wt(t,()=>n.loadChildren())).pipe(ge(N1),yt(i=>i instanceof Ig||Array.isArray(i)?le(i):it(e.compileModuleAsync(i))),ge(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(aa,[],{optional:!0,self:!0}).flat()),{routes:s.map(yb),injector:o}}))}function h6(n){return n&&typeof n=="object"&&"default"in n}function N1(n){return h6(n)?n.default:n}var Cp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>N(f6),providedIn:"root"})}return n})(),f6=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vb=new J(""),Cb=new J("");function F1(n,e,t){let r=n.get(Cb),i=n.get(lt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),g6(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&wt(n,()=>c({transition:a,from:e,to:t})),s}function g6(n){return new Promise(e=>{Su({read:()=>setTimeout(e)},{injector:n})})}var bb=new J(""),bp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=N(vp);environmentInjector=N(vt);destroyRef=N(er);urlSerializer=N(oa);rootContexts=N(sa);location=N(Bo);inputBindingEnabled=N(ld,{optional:!0})!==null;titleStrategy=N(_b);options=N(Go,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Cp);createViewTransition=N(vb,{optional:!0});navigationErrorHandler=N(bb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new sp(i)),r=i=>this.events.next(new ap(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new rt(null),this.transitions.pipe(_t(r=>r!==null),kt(r=>{let i=!1;return le(r).pipe(kt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",bn.SupersededByNewNavigation),Mn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ce(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new ii(o.id,this.urlSerializer.serialize(o.rawUrl),c,Rc.IgnoredSameUrlNavigation)),o.resolve(!1),Mn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return le(o).pipe(kt(c=>(this.events.next(new Wo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Mn:Promise.resolve(c))),a6(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Nt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ce(j({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new ed(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:y}=o,v=new Wo(c,this.urlSerializer.serialize(u),d,f);this.events.next(v);let M=b1(this.rootComponentType).snapshot;return this.currentTransition=r=ce(j({},o),{targetSnapshot:M,urlAfterRedirects:u,extras:ce(j({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,le(r)}else{let c="";return this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Rc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Mn}}),Nt(o=>{let s=new np(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ge(o=>(this.currentTransition=r=ce(j({},o),{guards:PB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),LB(this.environmentInjector,o=>this.events.next(o)),Nt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw pp(this.urlSerializer,o.guardsResult);let s=new rp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),_t(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",bn.GuardRejected),!1)),X0(o=>{if(o.guards.canActivateChecks.length!==0)return le(o).pipe(Nt(s=>{let a=new ip(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),kt(s=>{let a=!1;return le(s).pipe(c6(this.paramsInheritanceStrategy,this.environmentInjector),Nt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",bn.NoDataFromResolver)}}))}),Nt(s=>{let a=new op(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),X0(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=jc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Nt(d=>{a.component=d}),ge(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Zl(s(o.targetSnapshot.root)).pipe(Oo(null),Tt(1))}),X0(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?it(a).pipe(ge(()=>r)):le(r)}),ge(o=>{let s=bB(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ce(j({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Nt(()=>{this.events.next(new td)}),IB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Tt(1),vf(new de(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(_t(()=>!i&&!r.targetRouterState),Nt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",bn.Aborted)}))),Nt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),vf(this.transitionAbortWithErrorSubject.pipe(Nt(o=>{throw o}))),Xl(()=>{i||this.cancelNavigationTransition(r,"",bn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ai(o=>{if(this.destroyed)return r.resolve(!1),Mn;if(i=!0,D1(o))this.events.next(new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),MB(o)?this.events.next(new Fc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new kc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=wt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Lc){let{message:c,cancellationCode:u}=pp(this.urlSerializer,a);this.events.next(new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Fc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Mn}))}))}cancelNavigationTransition(t,r,i){let o=new ni(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p6(n){return n!==Tc}var L1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>N(m6),providedIn:"root"})}return n})(),yp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},m6=(()=>{class n extends yp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V1=(()=>{class n{urlSerializer=N(oa);options=N(Go,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Bo);urlHandlingStrategy=N(Cp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ri;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ri?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=b1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>N(y6),providedIn:"root"})}return n})(),y6=(()=>{class n extends V1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wo?this.updateStateMemento():t instanceof ii?this.commitTransition(r):t instanceof ed?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof td?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ni&&t.code!==bn.SupersededByNewNavigation&&t.code!==bn.Redirect?this.restoreHistory(r):t instanceof kc?this.restoreHistory(r,!0):t instanceof $n&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=j(j({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wp(n,e){n.events.pipe(_t(t=>t instanceof $n||t instanceof ni||t instanceof kc||t instanceof ii),ge(t=>t instanceof $n||t instanceof ii?0:(t instanceof ni?t.code===bn.Redirect||t.code===bn.SupersededByNewNavigation:!1)?2:1),_t(t=>t!==2),Tt(1)).subscribe(()=>{e()})}var _6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(r0);stateManager=N(V1);options=N(Go,{optional:!0})||{};pendingTasks=N(Gr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(bp);urlSerializer=N(oa);location=N(Bo);urlHandlingStrategy=N(Cp);injector=N(vt);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(L1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(aa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(ld,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ni&&r.code!==bn.Redirect&&r.code!==bn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $n)this.navigated=!0;else if(r instanceof Fc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||p6(i.source)},s);this.scheduleNavigation(a,Tc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(nn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(yb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let y=i?i.snapshot:this.routerState.snapshot.root;f=y1(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return _1(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Tc,null,r)}navigate(t,r={skipLocationChange:!1}){return C6(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},_6):r===!1?i=j({},v6):i=r,qo(t))return JT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return JT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,y)=>{a=f,c=y});let d=this.pendingTasks.add();return wp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C6(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var Ko=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Wr(null);get href(){return On(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new nt;applicationErrorHandler=N(nn);options=N(Go,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new xg("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof $n&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:qo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(q(dt),q(sr),Du("tabindex"),q(tr),q(rn),q(Ir))};static \u0275dir=Ke({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&X("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&jo("href",i.reactiveHref(),NC)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Uo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Uo],replaceUrl:[2,"replaceUrl","replaceUrl",Uo],routerLink:"routerLink"},features:[Qr]})}return n})(),Eb=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ct;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof $n&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(Po()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=it(t).pipe(Po()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=b6(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(q(dt),q(rn),q(tr),q(Xr),q(Ko,8))};static \u0275dir=Ke({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&a0(o,Ko,5),r&2){let s;c0(s=l0())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Qr]})}return n})();function b6(n){return!!n.paths}var dd=class{};var j1=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(_t(t=>t instanceof $n),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Mc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return it(i).pipe(Po())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=le(null);let o=i.pipe(yt(s=>s===null?le(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return it([o,s]).pipe(Po())}else return o})}static \u0275fac=function(r){return new(r||n)(ne(dt),ne(vt),ne(dd),ne(vp))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U1=new J(""),w6=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Tc;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $n?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ii&&t.code===Rc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Nc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){QC()};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Mb(n,...e){return Lt([{provide:aa,multi:!0,useValue:n},[],{provide:sr,useFactory:B1,deps:[dt]},{provide:xu,multi:!0,useFactory:$1},e.map(t=>t.\u0275providers)])}function B1(n){return n.routerState.root}function hd(n,e){return{\u0275kind:n,\u0275providers:e}}function $1(){let n=N(Ze);return e=>{let t=n.get(rr);if(e!==t.components[0])return;let r=n.get(dt),i=n.get(z1);n.get(Ib)===1&&r.initialNavigation(),n.get(W1,null,{optional:!0})?.setUpPreloading(),n.get(U1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var z1=new J("",{factory:()=>new nt}),Ib=new J("",{providedIn:"root",factory:()=>1});function H1(){let n=[{provide:Ib,useValue:0},Pc(()=>{let e=N(Ze);return e.get(O0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(dt),o=e.get(z1);wp(i,()=>{r(!0)}),e.get(bp).afterPreactivation=()=>(r(!0),o.closed?le(void 0):o),i.initialNavigation()}))})];return hd(2,n)}function q1(){let n=[Pc(()=>{N(dt).setUpLocationChangeListener()}),{provide:Ib,useValue:2}];return hd(3,n)}var W1=new J("");function G1(n){return hd(0,[{provide:W1,useExisting:j1},{provide:dd,useExisting:n}])}function K1(){return hd(8,[pb,{provide:ld,useExisting:pb}])}function Y1(n){Hi("NgRouterViewTransitions");let e=[{provide:vb,useValue:F1},{provide:Cb,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return hd(9,e)}var Q1=[Bo,{provide:oa,useClass:Ho},dt,sa,{provide:sr,useFactory:B1,deps:[dt]},vp,[]],Pb=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Q1,[],{provide:aa,multi:!0,useValue:t},[],r?.errorHandler?{provide:bb,useValue:r.errorHandler}:[],{provide:Go,useValue:r||{}},r?.useHash?M6():I6(),E6(),r?.preloadingStrategy?G1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?P6(r):[],r?.bindToComponentInputs?K1().\u0275providers:[],r?.enableViewTransitions?Y1().\u0275providers:[],D6()]}}static forChild(t){return{ngModule:n,providers:[{provide:aa,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=nr({type:n});static \u0275inj=Vn({})}return n})();function E6(){return{provide:U1,useFactory:()=>{let n=N($T),e=N(xe),t=N(Go),r=N(bp),i=N(oa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new w6(i,r,n,e,t)}}}function M6(){return{provide:Ir,useClass:F0}}function I6(){return{provide:Ir,useClass:kg}}function P6(n){return[n.initialNavigation==="disabled"?q1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?H1().\u0275providers:[]]}var wb=new J("");function D6(){return[{provide:wb,useFactory:$1},{provide:xu,multi:!0,useExisting:wb}]}var Me=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Me||{}),Sr="*";function Z1(n,e=null){return{type:Me.Sequence,steps:n,options:e}}function Db(n){return{type:Me.Style,styles:n,offset:null}}var Ki=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},$c=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},fd="!";function J1(n){return new F(3e3,!1)}function O6(){return new F(3100,!1)}function S6(){return new F(3101,!1)}function x6(n){return new F(3001,!1)}function T6(n){return new F(3003,!1)}function A6(n){return new F(3004,!1)}function eA(n,e){return new F(3005,!1)}function tA(){return new F(3006,!1)}function nA(){return new F(3007,!1)}function rA(n,e){return new F(3008,!1)}function iA(n){return new F(3002,!1)}function oA(n,e,t,r,i){return new F(3010,!1)}function sA(){return new F(3011,!1)}function aA(){return new F(3012,!1)}function cA(){return new F(3200,!1)}function lA(){return new F(3202,!1)}function uA(){return new F(3013,!1)}function dA(n){return new F(3014,!1)}function hA(n){return new F(3015,!1)}function fA(n){return new F(3016,!1)}function gA(n,e){return new F(3404,!1)}function R6(n){return new F(3502,!1)}function pA(n){return new F(3503,!1)}function mA(){return new F(3300,!1)}function yA(n){return new F(3504,!1)}function _A(n){return new F(3301,!1)}function vA(n,e){return new F(3302,!1)}function CA(n){return new F(3303,!1)}function bA(n,e){return new F(3400,!1)}function wA(n){return new F(3401,!1)}function EA(n){return new F(3402,!1)}function MA(n,e){return new F(3505,!1)}function Yi(n){switch(n.length){case 0:return new Ki;case 1:return n[0];default:return new $c(n)}}function Tb(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((y,v)=>{let M=v,x=y;if(v!=="offset")switch(M=n.normalizePropertyName(M,i),x){case fd:x=t.get(v);break;case Sr:x=r.get(v);break;default:x=n.normalizeStyleValue(v,M,x,i);break}f.set(M,x)}),d||o.push(f),a=f,s=u}),i.length)throw R6(i);return o}function Ep(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ob(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ob(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ob(t,"destroy",n)));break}}function Ob(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Mp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Mp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Ab(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var k6=typeof document>"u"?null:document.documentElement;function Ip(n){let e=n.parentNode||n.host||null;return e===k6?null:e}function N6(n){return n.substring(1,6)=="ebkit"}var ca=null,X1=!1;function IA(n){ca||(ca=F6()||{},X1=ca.style?"WebkitAppearance"in ca.style:!1);let e=!0;return ca.style&&!N6(n)&&(e=n in ca.style,!e&&X1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ca.style)),e}function F6(){return typeof document<"u"?document.body:null}function Rb(n,e){for(;e;){if(e===n)return!0;e=Ip(e)}return!1}function kb(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var L6=1e3,Nb="{{",V6="}}",Fb="ng-enter",Pp="ng-leave",gd="ng-trigger",pd=".ng-trigger",Lb="ng-animating",Dp=".ng-animating";function oi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sb(parseFloat(e[1]),e[2])}function Sb(n,e){switch(e){case"s":return n*L6;default:return n}}function md(n,e,t){return n.hasOwnProperty("duration")?n:j6(n,e,t)}function j6(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(J1(n)),{duration:0,delay:0,easing:""};i=Sb(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Sb(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(O6()),a=!0),o<0&&(e.push(S6()),a=!0),a&&e.splice(c,0,J1(n))}return{duration:i,delay:o,easing:s}}function PA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function xr(n,e,t){e.forEach((r,i)=>{let o=Op(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Yo(n,e){e.forEach((t,r)=>{let i=Op(r);n.style[i]=""})}function zc(n){return Array.isArray(n)?n.length==1?n[0]:Z1(n):n}function DA(n,e,t){let r=e.params||{},i=Vb(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(x6(o))})}var xb=new RegExp(`${Nb}\\s*(.+?)\\s*${V6}`,"g");function Vb(n){let e=[];if(typeof n=="string"){let t;for(;t=xb.exec(n);)e.push(t[1]);xb.lastIndex=0}return e}function Hc(n,e,t){let r=`${n}`,i=r.replace(xb,(o,s)=>{let a=e[s];return a==null&&(t.push(T6(s)),a=""),a.toString()});return i==r?n:i}var U6=/-+([a-z0-9])/g;function Op(n){return n.replace(U6,(...e)=>e[1].toUpperCase())}function OA(n,e){return n===0||e===0}function SA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Sp(n,a)))}}return e}function Tn(n,e,t){switch(e.type){case Me.Trigger:return n.visitTrigger(e,t);case Me.State:return n.visitState(e,t);case Me.Transition:return n.visitTransition(e,t);case Me.Sequence:return n.visitSequence(e,t);case Me.Group:return n.visitGroup(e,t);case Me.Animate:return n.visitAnimate(e,t);case Me.Keyframes:return n.visitKeyframes(e,t);case Me.Style:return n.visitStyle(e,t);case Me.Reference:return n.visitReference(e,t);case Me.AnimateChild:return n.visitAnimateChild(e,t);case Me.AnimateRef:return n.visitAnimateRef(e,t);case Me.Query:return n.visitQuery(e,t);case Me.Stagger:return n.visitStagger(e,t);default:throw A6(e.type)}}function Sp(n,e){return window.getComputedStyle(n)[e]}var tw=(()=>{class n{validateStyleProperty(t){return IA(t)}containsElement(t,r){return Rb(t,r)}getParentElement(t){return Ip(t)}query(t,r,i){return kb(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ki(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),ua=class{static NOOP=new tw},da=class{};var B6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),kp=class extends da{normalizePropertyName(e,t){return Op(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(B6.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(eA(e,r))}return s+o}};var Np="*";function $6(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>z6(r,t,e)):t.push(n),t}function z6(n,e,t){if(n[0]==":"){let c=H6(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(hA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(xA(i,s));let a=i==Np&&s==Np;o[0]=="<"&&!a&&e.push(xA(s,i))}function H6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(fA(n)),"* => *"}}var xp=new Set(["true","1"]),Tp=new Set(["false","0"]);function xA(n,e){let t=xp.has(n)||Tp.has(n),r=xp.has(e)||Tp.has(e);return(i,o)=>{let s=n==Np||n==i,a=e==Np||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?xp.has(n):Tp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?xp.has(e):Tp.has(e)),s&&a}}var UA=":self",q6=new RegExp(`s*${UA}s*,?`,"g");function BA(n,e,t,r){return new Hb(n).build(e,t,r)}var TA="",Hb=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new qb(t);return this._resetContextStyleTimingState(i),Tn(this,zc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=TA,e.collectedStyles=new Map,e.collectedStyles.set(TA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(tA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Me.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==Me.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(nA())}),{type:Me.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Vb(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(rA(e.name,[...o.values()]))}return{type:Me.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Tn(this,zc(e.animation),t),i=$6(e.expr,t.errors);return{type:Me.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:la(e.options)}}visitSequence(e,t){return{type:Me.Sequence,steps:e.steps.map(r=>Tn(this,r,t)),options:la(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Tn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Me.Group,steps:o,options:la(e.options)}}visitAnimate(e,t){let r=Y6(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Db({});if(o.type==Me.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=Db(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Me.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Sr?r.push(a):t.errors.push(iA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Nb)>=0){o=!0;break}}}),{type:Me.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(oA(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&DA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Me.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(sA()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(B=>{let Z=this._makeStyleAst(B,t),ee=Z.offset!=null?Z.offset:K6(Z.styles),ie=0;return ee!=null&&(o++,ie=Z.offset=ee),c=c||ie<0||ie>1,a=a||ie<u,u=ie,s.push(ie),Z});c&&t.errors.push(aA()),a&&t.errors.push(cA());let f=e.steps.length,y=0;o>0&&o<f?t.errors.push(lA()):o==0&&(y=i/(f-1));let v=f-1,M=t.currentTime,x=t.currentAnimateTimings,R=x.duration;return d.forEach((B,Z)=>{let ee=y>0?Z==v?1:y*Z:s[Z],ie=ee*R;t.currentTime=M+x.delay+ie,x.duration=ie,this._validateStyleAst(B,t),B.offset=ee,r.styles.push(B)}),r}visitReference(e,t){return{type:Me.Reference,animation:Tn(this,zc(e.animation),t),options:la(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Me.AnimateChild,options:la(e.options)}}visitAnimateRef(e,t){return{type:Me.AnimateRef,animation:this.visitReference(e.animation,t),options:la(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=W6(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,xn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Tn(this,zc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Me.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:la(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(uA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:md(e.timings,t.errors,!0);return{type:Me.Stagger,animation:Tn(this,zc(e.animation),t),timings:r,options:null}}};function W6(n){let e=!!n.split(/\s*,\s*/).find(t=>t==UA);return e&&(n=n.replace(q6,"")),n=n.replace(/@\*/g,pd).replace(/@\w+/g,t=>pd+"-"+t.slice(1)).replace(/:animating/g,Dp),[n,e]}function G6(n){return n?j({},n):null}var qb=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function K6(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Y6(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=md(n,e).duration;return jb(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=jb(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=md(t,e);return jb(i.duration,i.delay,i.easing)}function la(n){return n?(n=j({},n),n.params&&(n.params=G6(n.params))):n={},n}function jb(n,e,t){return{duration:n,delay:e,easing:t}}function nw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var _d=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Q6=1,Z6=":enter",J6=new RegExp(Z6,"g"),X6=":leave",e$=new RegExp(X6,"g");function $A(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new Wb().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var Wb=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new _d;let f=new Gb(e,t,u,i,o,d,[]);f.options=c;let y=c.delay?oi(c.delay):0;f.currentTimeline.delayNextStep(y),f.currentTimeline.setStyles([s],null,f.errors,c),Tn(this,r,f);let v=f.timelines.filter(M=>M.containsAnimation());if(v.length&&a.size){let M;for(let x=v.length-1;x>=0;x--){let R=v[x];if(R.element===t){M=R;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([a],null,f.errors,c)}return v.length?v.map(M=>M.buildKeyframes()):[nw(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:oi(Hc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?oi(r.duration):null,a=r.delay!=null?oi(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Tn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Me.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Fp);let s=oi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Tn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?oi(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Tn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Hc(r,t.params,t.errors):r;return md(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Me.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?oi(i.delay):0;o&&(t.previousNode.type===Me.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Fp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),Tn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let y=f.currentTimeline.currentTime;s=Math.max(s,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Tn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Fp={},Gb=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Fp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Lp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=oi(r.duration)),r.delay!=null&&(i.delay=oi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Hc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Fp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Kb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(J6,"."+this._enterClassName),e=e.replace(e$,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(dA(t)),a}},Lp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Q6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Sr),this._currentKeyframe.set(t,Sr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=t$(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Hc(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Sr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===fd?e.add(f):d===Sr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return nw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Kb=class extends Lp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",AA(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let y=new Map(e[f]),v=y.get("offset"),M=t+v*r;y.set("offset",AA(M/s)),o.push(y)}r=s,t=0,i="",e=o}return nw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function AA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function t$(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Sr)}else for(let[o,s]of i)t.set(o,s)}),t}function RA(n,e,t,r,i,o,s,a,c,u,d,f,y){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:y}}var Ub={},Vp=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return n$(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],y=this.ast.options&&this.ast.options.params||Ub,v=a&&a.params||Ub,M=this.buildStyles(r,v,f),x=c&&c.params||Ub,R=this.buildStyles(i,x,f),B=new Set,Z=new Map,ee=new Map,ie=i==="void",Ue={params:zA(x,y),delay:this.ast.options?.delay},ye=d?[]:$A(e,t,this.ast.animation,o,s,M,R,Ue,u,f),D=0;return ye.forEach(E=>{D=Math.max(E.duration+E.delay,D)}),f.length?RA(t,this._triggerName,r,i,ie,M,R,[],[],Z,ee,D,f):(ye.forEach(E=>{let I=E.element,O=xn(Z,I,new Set);E.preStyleProps.forEach(A=>O.add(A));let S=xn(ee,I,new Set);E.postStyleProps.forEach(A=>S.add(A)),I!==t&&B.add(I)}),RA(t,this._triggerName,r,i,ie,M,R,ye,[...B.values()],Z,ee,D))}};function n$(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function zA(n,e){let t=j({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Yb=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=zA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Hc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function r$(n,e,t){return new Qb(n,e,t)}var Qb=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Yb(i.style,o,r))}),kA(this.states,"true","1"),kA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Vp(e,i,this.states))}),this.fallbackTransition=i$(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function i$(n,e,t){let r=[(s,a)=>!0],i={type:Me.Sequence,steps:[],options:null},o={type:Me.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Vp(n,o,e)}function kA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var o$=new _d,Zb=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=BA(this._driver,t,r,i);if(r.length)throw pA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Tb(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=$A(this._driver,t,o,Fb,Pp,new Map,new Map,r,o$,i),s.forEach(d=>{let f=xn(a,d.element,new Map);d.postStyleProps.forEach(y=>f.set(y,null))})):(i.push(mA()),s=[]),i.length)throw yA(i);a.forEach((d,f)=>{d.forEach((y,v)=>{d.set(v,this._driver.computeStyle(f,v,Sr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Yi(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw _A(e);return t}listen(e,t,r,i){let o=Mp(t,"","","");return Ep(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},NA="ng-animate-queued",s$=".ng-animate-queued",Bb="ng-animate-disabled",a$=".ng-animate-disabled",c$="ng-star-inserted",l$=".ng-star-inserted",u$=[],HA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},d$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tr="__ng_removed",vd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=f$(i),r){let o=e,{value:s}=o,a=Is(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},yd="void",$b=new vd(yd),Jb=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,ar(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw vA(r,t);if(r==null||r.length==0)throw CA(t);if(!g$(r))throw bA(r,t);let o=xn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=xn(this._engine.statesByElement,e,new Map);return a.has(t)||(ar(e,gd),ar(e,gd+"-"+t),a.set(t,$b)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw wA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Cd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ar(e,gd),ar(e,gd+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new vd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=$b),!(u.value===yd)&&c.value===u.value){if(!y$(c.params,u.params)){let x=[],R=o.matchStyles(c.value,c.params,x),B=o.matchStyles(u.value,u.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Yo(e,R),xr(e,B)})}return}let y=xn(this._engine.playersByElement,e,[]);y.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let v=o.matchTransition(c.value,u.value,e,u.params),M=!1;if(!v){if(!i)return;v=o.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:u,player:s,isFallbackTransition:M}),M||(ar(e,NA),s.onStart(()=>{qc(e,NA)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);let R=this._engine.playersByElement.get(e);if(R){let B=R.indexOf(s);B>=0&&R.splice(B,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,pd,!0);r.forEach(i=>{if(i[Tr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,yd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Yi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||$b,d=new vd(yd),f=new Cd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Tr];(!o||o===HA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ar(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Mp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Ep(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Xb=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Jb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Ap(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ap(t))return;let o=t[Tr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ar(e,Bb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qc(e,Bb))}removeNode(e,t,r){if(Ap(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Tr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ap(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,pd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Dp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Tr];if(t&&t.setForRemoval){if(e[Tr]=HA,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Bb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,a$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];ar(i,c$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Yi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw EA(e)}_flushAnimations(e,t){let r=new _d,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(re=>{d.add(re);let oe=this.driver.query(re,s$,!0);for(let se=0;se<oe.length;se++)d.add(oe[se])});let f=this.bodyNode,y=Array.from(this.statesByElement.keys()),v=VA(y,this.collectedEnterElements),M=new Map,x=0;v.forEach((re,oe)=>{let se=Fb+x++;M.set(oe,se),re.forEach(Oe=>ar(Oe,se))});let R=[],B=new Set,Z=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let oe=this.collectedLeaveElements[re],se=oe[Tr];se&&se.setForRemoval&&(R.push(oe),B.add(oe),se.hasAnimation?this.driver.query(oe,l$,!0).forEach(Oe=>B.add(Oe)):Z.add(oe))}let ee=new Map,ie=VA(y,Array.from(B));ie.forEach((re,oe)=>{let se=Pp+x++;ee.set(oe,se),re.forEach(Oe=>ar(Oe,se))}),e.push(()=>{v.forEach((re,oe)=>{let se=M.get(oe);re.forEach(Oe=>qc(Oe,se))}),ie.forEach((re,oe)=>{let se=ee.get(oe);re.forEach(Oe=>qc(Oe,se))}),R.forEach(re=>{this.processLeaveNode(re)})});let Ue=[],ye=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(t).forEach(se=>{let Oe=se.player,mt=se.element;if(Ue.push(Oe),this.collectedEnterElements.length){let ft=mt[Tr];if(ft&&ft.setForMove){if(ft.previousTriggersValues&&ft.previousTriggersValues.has(se.triggerName)){let Pi=ft.previousTriggersValues.get(se.triggerName),En=this.statesByElement.get(se.element);if(En&&En.has(se.triggerName)){let Di=En.get(se.triggerName);Di.value=Pi,En.set(se.triggerName,Di)}}Oe.destroy();return}}let Kn=!f||!this.driver.containsElement(f,mt),ht=ee.get(mt),Xe=M.get(mt),et=this._buildInstruction(se,r,Xe,ht,Kn);if(et.errors&&et.errors.length){ye.push(et);return}if(Kn){Oe.onStart(()=>Yo(mt,et.fromStyles)),Oe.onDestroy(()=>xr(mt,et.toStyles)),i.push(Oe);return}if(se.isFallbackTransition){Oe.onStart(()=>Yo(mt,et.fromStyles)),Oe.onDestroy(()=>xr(mt,et.toStyles)),i.push(Oe);return}let yo=[];et.timelines.forEach(ft=>{ft.stretchStartingKeyframe=!0,this.disabledNodes.has(ft.element)||yo.push(ft)}),et.timelines=yo,r.append(mt,et.timelines);let Hy={instruction:et,player:Oe,element:mt};s.push(Hy),et.queriedElements.forEach(ft=>xn(a,ft,[]).push(Oe)),et.preStyleProps.forEach((ft,Pi)=>{if(ft.size){let En=c.get(Pi);En||c.set(Pi,En=new Set),ft.forEach((Di,_o)=>En.add(_o))}}),et.postStyleProps.forEach((ft,Pi)=>{let En=u.get(Pi);En||u.set(Pi,En=new Set),ft.forEach((Di,_o)=>En.add(_o))})});if(ye.length){let re=[];ye.forEach(oe=>{re.push(MA(oe.triggerName,oe.errors))}),Ue.forEach(oe=>oe.destroy()),this.reportError(re)}let D=new Map,E=new Map;s.forEach(re=>{let oe=re.element;r.has(oe)&&(E.set(oe,oe),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,D))}),i.forEach(re=>{let oe=re.element;this._getPreviousPlayers(oe,!1,re.namespaceId,re.triggerName,null).forEach(Oe=>{xn(D,oe,[]).push(Oe),Oe.destroy()})});let I=R.filter(re=>jA(re,c,u)),O=new Map;LA(O,this.driver,Z,u,Sr).forEach(re=>{jA(re,c,u)&&I.push(re)});let A=new Map;v.forEach((re,oe)=>{LA(A,this.driver,new Set(re),c,fd)}),I.forEach(re=>{let oe=O.get(re),se=A.get(re);O.set(re,new Map([...oe?.entries()??[],...se?.entries()??[]]))});let P=[],Gn=[],mo={};s.forEach(re=>{let{element:oe,player:se,instruction:Oe}=re;if(r.has(oe)){if(d.has(oe)){se.onDestroy(()=>xr(oe,Oe.toStyles)),se.disabled=!0,se.overrideTotalTime(Oe.totalTime),i.push(se);return}let mt=mo;if(E.size>1){let ht=oe,Xe=[];for(;ht=ht.parentNode;){let et=E.get(ht);if(et){mt=et;break}Xe.push(ht)}Xe.forEach(et=>E.set(et,mt))}let Kn=this._buildAnimation(se.namespaceId,Oe,D,o,A,O);if(se.setRealPlayer(Kn),mt===mo)P.push(se);else{let ht=this.playersByElement.get(mt);ht&&ht.length&&(se.parentPlayer=Yi(ht)),i.push(se)}}else Yo(oe,Oe.fromStyles),se.onDestroy(()=>xr(oe,Oe.toStyles)),Gn.push(se),d.has(oe)&&i.push(se)}),Gn.forEach(re=>{let oe=o.get(re.element);if(oe&&oe.length){let se=Yi(oe);re.setRealPlayer(se)}}),i.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<R.length;re++){let oe=R[re],se=oe[Tr];if(qc(oe,Pp),se&&se.hasAnimation)continue;let Oe=[];if(a.size){let Kn=a.get(oe);Kn&&Kn.length&&Oe.push(...Kn);let ht=this.driver.query(oe,Dp,!0);for(let Xe=0;Xe<ht.length;Xe++){let et=a.get(ht[Xe]);et&&et.length&&Oe.push(...et)}}let mt=Oe.filter(Kn=>!Kn.destroyed);mt.length?p$(this,oe,mt):this.processLeaveNode(oe)}return R.length=0,P.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let oe=this.players.indexOf(re);this.players.splice(oe,1)}),re.play()}),P}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==yd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=xn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(v=>{let M=v.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),v.destroy(),f.push(v)})}Yo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,y=t.timelines.map(M=>{let x=M.element;d.add(x);let R=x[Tr];if(R&&R.removedBeforeQueried)return new Ki(M.duration,M.delay);let B=x!==c,Z=m$((r.get(x)||u$).map(D=>D.getRealPlayer())).filter(D=>{let E=D;return E.element?E.element===x:!1}),ee=o.get(x),ie=s.get(x),Ue=Tb(this._normalizer,M.keyframes,ee,ie),ye=this._buildPlayer(M,Ue,Z);if(M.subTimeline&&i&&f.add(x),B){let D=new Cd(e,a,x);D.setRealPlayer(ye),u.push(D)}return ye});u.forEach(M=>{xn(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>h$(this.playersByQueriedElement,M.element,M))}),d.forEach(M=>ar(M,Lb));let v=Yi(y);return v.onDestroy(()=>{d.forEach(M=>qc(M,Lb)),xr(c,t.toStyles)}),f.forEach(M=>{xn(i,M,[]).push(v)}),v}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ki(e.duration,e.delay)}},Cd=class{namespaceId;triggerName;element;_player=new Ki;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ep(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function h$(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function f$(n){return n??null}function Ap(n){return n&&n.nodeType===1}function g$(n){return n=="start"||n=="done"}function FA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function LA(n,e,t,r,i){let o=[];t.forEach(c=>o.push(FA(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let y=e.computeStyle(u,f,i);d.set(f,y),(!y||y.length==0)&&(u[Tr]=d$,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>FA(c,o[a++])),s}function VA(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function ar(n,e){n.classList?.add(e)}function qc(n,e){n.classList?.remove(e)}function p$(n,e,t){Yi(t).onDone(()=>n.processLeaveNode(e))}function m$(n){let e=[];return qA(n,e),e}function qA(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof $c?qA(r.players,e):e.push(r)}}function y$(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function jA(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Wc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Xb(e.body,t,r),this._timelineEngine=new Zb(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=BA(this._driver,o,c,u);if(c.length)throw gA(i,c);a=r$(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Ab(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Ab(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function _$(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=zb(e[0]),e.length>1&&(r=zb(e[e.length-1]))):e instanceof Map&&(t=zb(e)),t||r?new v$(n,t,r):null}var v$=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xr(this._element,this._initialStyles),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yo(this._element,this._endStyles),this._endStyles=null),xr(this._element,this._initialStyles),this._state=3)}}return n})();function zb(n){let e=null;return n.forEach((t,r)=>{C$(r)&&(e=e||new Map,e.set(r,t))}),e}function C$(n){return n==="display"||n==="position"}var jp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Sp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Up=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Rb(e,t)}getParentElement(e){return Ip(e)}query(e,t,r){return kb(e,t,r)}computeStyle(e,t,r){return Sp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(v=>v instanceof jp);OA(r,i)&&d.forEach(v=>{v.currentSnapshot.forEach((M,x)=>u.set(x,M))});let f=PA(t).map(v=>new Map(v));f=SA(e,f,u);let y=_$(e,f);return new jp(e,f,c,y)}};var Rp="@",WA="@.disabled",Bp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Rp&&t==WA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ew=class extends Bp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Rp?t.charAt(1)=="."&&t==WA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Rp){let o=b$(e),s=t.slice(1),a="";return s.charAt(0)!=Rp&&([s,a]=w$(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function b$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function w$(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var $p=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Bp(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new ew(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var M$=(()=>{class n extends Wc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ne(lt),ne(ua),ne(da))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function I$(){return new kp}function P$(n,e,t){return new $p(n,e,t)}var GA=[{provide:da,useFactory:I$},{provide:Wc,useClass:M$},{provide:$i,useFactory:P$,deps:[Gu,Wc,xe]}],Kde=[{provide:ua,useClass:tw},{provide:yg,useValue:"NoopAnimations"},...GA],D$=[{provide:ua,useFactory:()=>new Up},{provide:yg,useFactory:()=>"BrowserAnimations"},...GA];function KA(){return Hi("NgEagerAnimations"),[...D$]}var YA=()=>{};var JA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},O$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,v=u&63;c||(v=64,s||(y=64)),r.push(t[d],t[f],t[y],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):O$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new iw;let y=o<<2|a>>4;if(r.push(y),u!==64){let v=a<<4&240|u>>2;if(r.push(v),f!==64){let M=u<<6&192|f;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},iw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},S$=function(n){let e=JA(n);return zp.encodeByteArray(e,!0)},wd=function(n){return S$(n).replace(/\./g,"")},Hp=function(n){try{return zp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var x$=()=>sw().__FIREBASE_DEFAULTS__,T$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hp(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return YA()||x$()||T$()||A$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aw=n=>{var e,t;return(t=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Wp=n=>{let e=aw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cw=()=>{var n;return(n=qp())===null||n===void 0?void 0:n.config},lw=n=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${n}`]};var ha=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function si(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Gc(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Gp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wd(JSON.stringify(t)),wd(JSON.stringify(s)),""].join(".")}var bd={};function R$(){let n={prod:[],emulator:[]};for(let e of Object.keys(bd))bd[e]?n.emulator.push(e):n.prod.push(e);return n}function k$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var QA=!1;function Kc(n,e){if(typeof window>"u"||typeof document>"u"||!si(window.location.host)||bd[n]===e||bd[n]||QA)return;bd[n]=e;function t(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=R$().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{QA=!0,s()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function f(){let y=k$(r),v=t("text"),M=document.getElementById(v)||document.createElement("span"),x=t("learnmore"),R=document.getElementById(x)||document.createElement("a"),B=t("preprendIcon"),Z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let ee=y.element;a(ee),d(R,x);let ie=u();c(Z,B),ee.append(Z,M,R,ie),document.body.appendChild(ee)}o?(M.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function N$(){var n;let e=(n=qp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){let n=jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iR(){return!N$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ed(){try{return typeof indexedDB=="object"}catch{return!1}}function oR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var F$="FirebaseError",wn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=F$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}},Ar=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?L$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wn(i,a,r)}};function L$(n,e){return n.replace(V$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var V$=/\{\$([^}]+)}/g;function sR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ai(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(ZA(o)&&ZA(s)){if(!ai(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ZA(n){return n!==null&&typeof n=="object"}function Md(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aR(n,e){let t=new ow(n,e);return t.subscribe.bind(t)}var ow=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");j$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=rw),i.error===void 0&&(i.error=rw),i.complete===void 0&&(i.complete=rw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function j$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rw(){}var Jde=4*60*60*1e3;function ot(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fa="[DEFAULT]";var uw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ha;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B$(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U$(n){return n===fa?void 0:n}function B$(n){return n.instantiationMode==="EAGER"}var Kp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var $$=[],Ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ae||{}),z$={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},H$=Ae.INFO,q$={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},W$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=q$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ci=class{constructor(e){this.name=e,this._logLevel=H$,this._logHandler=W$,this._userLogHandler=null,$$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};var G$=(n,e)=>e.some(t=>n instanceof t),cR,lR;function K$(){return cR||(cR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y$(){return lR||(lR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uR=new WeakMap,hw=new WeakMap,dR=new WeakMap,dw=new WeakMap,gw=new WeakMap;function Q$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(li(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&uR.set(t,n)}).catch(()=>{}),gw.set(e,n),e}function Z$(n){if(hw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});hw.set(n,e)}var fw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return li(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hR(n){fw=n(fw)}function J$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Yp(this),e,...t);return dR.set(r,e.sort?e.sort():[e]),li(r)}:Y$().includes(n)?function(...e){return n.apply(Yp(this),e),li(uR.get(this))}:function(...e){return li(n.apply(Yp(this),e))}}function X$(n){return typeof n=="function"?J$(n):(n instanceof IDBTransaction&&Z$(n),G$(n,K$())?new Proxy(n,fw):n)}function li(n){if(n instanceof IDBRequest)return Q$(n);if(dw.has(n))return dw.get(n);let e=X$(n);return e!==n&&(dw.set(n,e),gw.set(e,n)),e}var Yp=n=>gw.get(n);function gR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=li(s);return r&&s.addEventListener("upgradeneeded",c=>{r(li(s.result),c.oldVersion,c.newVersion,li(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var e8=["get","getKey","getAll","getAllKeys","count"],t8=["put","add","delete","clear"],pw=new Map;function fR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pw.get(e))return pw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=t8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e8.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return pw.set(e,o),o}hR(n=>ce(j({},n),{get:(e,t,r)=>fR(e,t)||n.get(e,t,r),has:(e,t)=>!!fR(e,t)||n.has(e,t)}));var yw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n8(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function n8(n){let e=n.getComponent();return e?.type==="VERSION"}var _w="@firebase/app",pR="0.13.2";var Qi=new ci("@firebase/app"),r8="@firebase/app-compat",i8="@firebase/analytics-compat",o8="@firebase/analytics",s8="@firebase/app-check-compat",a8="@firebase/app-check",c8="@firebase/auth",l8="@firebase/auth-compat",u8="@firebase/database",d8="@firebase/data-connect",h8="@firebase/database-compat",f8="@firebase/functions",g8="@firebase/functions-compat",p8="@firebase/installations",m8="@firebase/installations-compat",y8="@firebase/messaging",_8="@firebase/messaging-compat",v8="@firebase/performance",C8="@firebase/performance-compat",b8="@firebase/remote-config",w8="@firebase/remote-config-compat",E8="@firebase/storage",M8="@firebase/storage-compat",I8="@firebase/firestore",P8="@firebase/ai",D8="@firebase/firestore-compat",O8="firebase",S8="11.10.0";var vw="[DEFAULT]",x8={[_w]:"fire-core",[r8]:"fire-core-compat",[o8]:"fire-analytics",[i8]:"fire-analytics-compat",[a8]:"fire-app-check",[s8]:"fire-app-check-compat",[c8]:"fire-auth",[l8]:"fire-auth-compat",[u8]:"fire-rtdb",[d8]:"fire-data-connect",[h8]:"fire-rtdb-compat",[f8]:"fire-fn",[g8]:"fire-fn-compat",[p8]:"fire-iid",[m8]:"fire-iid-compat",[y8]:"fire-fcm",[_8]:"fire-fcm-compat",[v8]:"fire-perf",[C8]:"fire-perf-compat",[b8]:"fire-rc",[w8]:"fire-rc-compat",[E8]:"fire-gcs",[M8]:"fire-gcs-compat",[I8]:"fire-fst",[D8]:"fire-fst-compat",[P8]:"fire-vertex","fire-js":"fire-js",[O8]:"fire-js-all"};var Id=new Map,T8=new Map,Cw=new Map;function mR(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zn(n){let e=n.name;if(Cw.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Cw.set(e,n);for(let t of Id.values())mR(t,n);for(let t of T8.values())mR(t,n);return!0}function Zo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cn(n){return n==null?!1:n.settings!==void 0}var A8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Ar("app","Firebase",A8);var bw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}};var ui=S8;function Mw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(t||(t=cw()),!t)throw Qo.create("no-options");let o=Id.get(i);if(o){if(ai(t,o.options)&&ai(r,o.config))return o;throw Qo.create("duplicate-app",{appName:i})}let s=new Kp(i);for(let c of Cw.values())s.addComponent(c);let a=new bw(t,r,s);return Id.set(i,a),a}function Zi(n=vw){let e=Id.get(n);if(!e&&n===vw&&cw())return Mw();if(!e)throw Qo.create("no-app",{appName:n});return e}function Qp(){return Array.from(Id.values())}function Qe(n,e,t){var r;let i=(r=x8[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(a.join(" "));return}zn(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var R8="firebase-heartbeat-database",k8=1,Pd="firebase-heartbeat-store",mw=null;function CR(){return mw||(mw=gR(R8,k8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qo.create("idb-open",{originalErrorMessage:n.message})})),mw}function N8(n){return b(this,null,function*(){try{let t=(yield CR()).transaction(Pd),r=yield t.objectStore(Pd).get(bR(n));return yield t.done,r}catch(e){if(e instanceof wn)Qi.warn(e.message);else{let t=Qo.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(t.message)}}})}function yR(n,e){return b(this,null,function*(){try{let r=(yield CR()).transaction(Pd,"readwrite");yield r.objectStore(Pd).put(e,bR(n)),yield r.done}catch(t){if(t instanceof wn)Qi.warn(t.message);else{let r=Qo.create("idb-set",{originalErrorMessage:t?.message});Qi.warn(r.message)}}})}function bR(n){return`${n.name}!${n.options.appId}`}var F8=1024,L8=30,ww=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ew(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_R();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>L8){let s=j8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qi.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=_R(),{heartbeatsToSend:r,unsentEntries:i}=V8(this._heartbeatsCache.heartbeats),o=wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}})}};function _R(){return new Date().toISOString().substring(0,10)}function V8(n,e=F8){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ew=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Ed()?oR().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield N8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vR(n){return wd(JSON.stringify({version:2,heartbeats:n})).length}function j8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function U8(n){zn(new Qt("platform-logger",e=>new yw(e),"PRIVATE")),zn(new Qt("heartbeat",e=>new ww(e),"PRIVATE")),Qe(_w,pR,n),Qe(_w,pR,"esm2017"),Qe("fire-js","")}U8("");var B8="firebase",$8="11.10.0";Qe(B8,$8,"app");function wR(n){n===void 0&&(n=N(Ze));let e=n.get(mc);return t=>new de(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var di=new Xs("ANGULARFIRE2_VERSION");function pa(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Jo=(n,e)=>{let t=e?[e]:Qp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Zc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Zc||{}),ER=ku()&&typeof Zone<"u"?Zc.WARN:Zc.SILENT;var Zp=class{zone;delegate;constructor(e,t=R_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},hi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(xe);this.outsideAngular=t.runOutsideAngular(()=>new Zp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Zp(typeof Zone>"u"?void 0:Zone.current,A_))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MR=!1;function z8(n,e){!MR&&(ER>Zc.SILENT||ku())&&(MR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ER>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function H8(n){let e=N(xe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ga(n){let e=N(xe,{optional:!0});return e?e.run(()=>n()):n()}var q8=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),wt(t,()=>ga(()=>n.apply(void 0,r)))),An=(n,e,t)=>(t||=e?Zc.WARN:Zc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(hi),s=N(mc),a=N(vt)}catch{return z8(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ga(()=>s.add())),i[u]=q8(i[u],r,a));let c=H8(()=>n.apply(this,i));return e?c instanceof de?c.pipe(Io(o.outsideAngular),Mo(o.insideAngular),wR(a)):c instanceof Promise?ga(()=>{let u=s.add();return new Promise((d,f)=>{c.then(y=>wt(a,()=>ga(()=>d(y))),y=>wt(a,()=>ga(()=>f(y)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ga(()=>c):c instanceof de?c.pipe(Io(o.outsideAngular),Mo(o.insideAngular)):ga(()=>c)});var Rr=class{constructor(e){return e}},Ji=class{constructor(){return Qp()}};function W8(n){return n&&n.length===1?n[0]:new Rr(Zi())}var Iw=new J("angularfire2._apps"),G8={provide:Rr,useFactory:W8,deps:[[new Et,Iw]]},K8={provide:Ji,deps:[[new Et,Iw]]};function Y8(n){return(e,t)=>{let r=t.get(Vo);Qe("angularfire",di.full,"core"),Qe("angularfire",di.full,"app"),Qe("angular",aT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Rr(i)}}function IR(n,...e){return Lt([G8,K8,{provide:Iw,useFactory:Y8(n),multi:!0,deps:[xe,Ze,hi,...e]}])}var PR=An(Mw,!0);var Q8=new Map,Z8={activated:!1,tokenObservers:[]},J8={initialized:!1,enabled:!1};function kr(n){return Q8.get(n)||Object.assign({},Z8)}function xR(){return J8}var X8="https://content-firebaseappcheck.googleapis.com/v1";var ez="exchangeDebugToken",DR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},tfe=24*60*60*1e3;var Ow=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new ha,this.pending.promise.catch(t=>{}),yield tz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ha,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function tz(n){return new Promise(e=>{setTimeout(e,n)})}var nz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Xo=new Ar("appCheck","AppCheck",nz);function TR(n){if(!kr(n).activated)throw Xo.create("use-before-activation",{appName:n.name})}function AR(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(v){throw Xo.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw Xo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(v){throw Xo.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Xo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+f,issuedAtTimeMillis:y}})}function RR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${X8}/projects/${t}/apps/${r}:${ez}?key=${i}`,body:{debug_token:e}}}var rz="firebase-app-check-database",iz=1,Sw="firebase-app-check-store";var Jp=null;function oz(){return Jp||(Jp=new Promise((n,e)=>{try{let t=indexedDB.open(rz,iz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Xo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Sw,{keyPath:"compositeKey"})}}}catch(t){e(Xo.create("storage-open",{originalErrorMessage:t?.message}))}}),Jp)}function sz(n,e){return az(cz(n),e)}function az(n,e){return b(this,null,function*(){let r=(yield oz()).transaction(Sw,"readwrite"),o=r.objectStore(Sw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Xo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function cz(n){return`${n.options.appId}-${n.name}`}var Dd=new ci("@firebase/app-check");function Pw(n,e){return Ed()?sz(n,e).catch(t=>{Dd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kR(){return xR().enabled}function NR(){return b(this,null,function*(){let n=xR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lz={error:"UNKNOWN_ERROR"};function uz(n){return zp.encodeString(JSON.stringify(n),!1)}function xw(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;TR(r);let i=kr(r),o=i.token,s;if(o&&!Od(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Od(u)?o=u:yield Pw(r,void 0))}if(!e&&o&&Od(o))return{token:o.token};let a=!1;if(kR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=AR(RR(r,yield NR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Pw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Dd.warn(u.message):t&&Dd.error(u),Dw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield kr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Dd.warn(u.message):t&&Dd.error(u),s=u}let c;return o?s?Od(o)?c={token:o.token,internalError:s}:c=Dw(s):(c={token:o.token},i.token=o,yield Pw(r,o)):c=Dw(s),a&&gz(r,c),c})}function dz(n){return b(this,null,function*(){let e=n.app;TR(e);let{provider:t}=kr(e);if(kR()){let r=yield NR(),{token:i}=yield AR(RR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function hz(n,e,t,r){let{app:i}=n,o=kr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Od(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),OR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>OR(n))}function FR(n,e){let t=kr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function OR(n){let{app:e}=n,t=kr(e),r=t.tokenRefresher;r||(r=fz(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fz(n){let{app:e}=n;return new Ow(()=>b(null,null,function*(){let t=kr(e),r;if(t.token?r=yield xw(n,!0):r=yield xw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},DR.RETRIAL_MIN_WAIT,DR.RETRIAL_MAX_WAIT)}function gz(n,e){let t=kr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Od(n){return n.expireTimeMillis-Date.now()>0}function Dw(n){return{token:uz(lz),error:n}}var Tw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=kr(this.app);for(let t of e)FR(this.app,t.next);return Promise.resolve()}};function pz(n,e){return new Tw(n,e)}function mz(n){return{getToken:e=>xw(n,e),getLimitedUseToken:()=>dz(n),addTokenListener:e=>hz(n,"INTERNAL",e),removeTokenListener:e=>FR(n.app,e)}}var yz="@firebase/app-check",_z="0.10.1";var vz="app-check",SR="app-check-internal";function Cz(){zn(new Qt(vz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return pz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SR).initialize()})),zn(new Qt(SR,n=>{let e=n.getProvider("app-check").getImmediate();return mz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qe(yz,_z)}Cz();var bz="app-check";var es=class{constructor(){return Jo(bz)}};var wz=["localhost","0.0.0.0","127.0.0.1"],gfe=typeof window<"u"&&wz.includes(window.location.hostname);function JR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XR=JR,ek=new Ar("auth","Firebase",JR());var im=new ci("@firebase/auth");function Ez(n,...e){im.logLevel<=Ae.WARN&&im.warn(`Auth (${ui}): ${n}`,...e)}function em(n,...e){im.logLevel<=Ae.ERROR&&im.error(`Auth (${ui}): ${n}`,...e)}function gi(n,...e){throw nE(n,...e)}function ma(n,...e){return nE(n,...e)}function tk(n,e,t){let r=Object.assign(Object.assign({},XR()),{[e]:t});return new Ar("auth","Firebase",r).create(e,{appName:n.name})}function to(n){return tk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ek.create(n,...e)}function he(n,e,...t){if(!n)throw nE(e,...t)}function Xi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw em(e),new Error(e)}function rs(n,e){n||Xi(e)}function Nw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Mz(){return LR()==="http:"||LR()==="https:"}function LR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Iz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mz()||tR()||"connection"in navigator)?navigator.onLine:!0}function Pz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ya=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,rs(t>e,"Short delay should be less than long delay!"),this.isMobile=XA()||nR()}get(){return Iz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rE(n,e){rs(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var om=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Dz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Oz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sz=new ya(3e4,6e4);function is(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function no(o,s,a,c){return b(this,arguments,function*(n,e,t,r,i={}){return nk(n,i,()=>b(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Md(Object.assign({key:n.config.apiKey},d)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:y},u);return eR()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&si(n.emulatorConfig.host)&&(v.credentials="include"),om.fetch()(yield rk(n,n.config.apiHost,t,f),v)}))})}function nk(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Dz),e);try{let i=new Fw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Xp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Xp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Xp(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tk(n,d,u);gi(n,d)}}catch(i){if(i instanceof wn)throw i;gi(n,"network-request-failed",{message:String(i)})}})}function Fd(o,s,a,c){return b(this,arguments,function*(n,e,t,r,i={}){let u=yield no(n,e,t,r,i);return"mfaPendingCredential"in u&&gi(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function rk(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?rE(n.config,i):`${n.config.apiScheme}://${i}`;return Oz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function xz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Fw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),Sz.get())})}};function Xp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ma(n,e,r);return i.customData._tokenResponse=t,i}function VR(n){return n!==void 0&&n.enterprise!==void 0}var Lw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Tz(n,e){return b(this,null,function*(){return no(n,"GET","/v2/recaptchaConfig",is(n,e))})}function Az(n,e){return b(this,null,function*(){return no(n,"POST","/v1/accounts:delete",e)})}function sm(n,e){return b(this,null,function*(){return no(n,"POST","/v1/accounts:lookup",e)})}function xd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iE(n,e=!1){return b(this,null,function*(){let t=ot(n),r=yield t.getIdToken(e),i=oE(r);he(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xd(Aw(i.auth_time)),issuedAtTime:xd(Aw(i.iat)),expirationTime:xd(Aw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Aw(n){return Number(n)*1e3}function oE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hp(t);return i?JSON.parse(i):(em("Failed to decode base64 JWT payload"),null)}catch(i){return em("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jR(n){let e=oE(n);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jc(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof wn&&Rz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Rz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Vw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ad=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function am(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Jc(n,sm(t,{idToken:r}));he(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ik(o.providerUserInfo):[],a=kz(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ad(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function sE(n){return b(this,null,function*(){let e=ot(n);yield am(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ik(n){return n.map(e=>{var{providerId:t}=e,r=k_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Nz(n,e){return b(this,null,function*(){let t=yield nk(n,{},()=>b(null,null,function*(){let r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield rk(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&si(n.emulatorConfig.host)&&(c.credentials="include"),om.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Fz(n,e){return b(this,null,function*(){return no(n,"POST","/v2/accounts:revokeToken",is(n,e))})}var Td=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){he(e.length!==0,"internal-error");let t=jR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Nz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xi("not implemented")}};function ts(n,e){he(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ns=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=k_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ad(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield Jc(this,this.stsTokenManager.getToken(this.auth,e));return he(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return iE(this,e)}reload(){return sE(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield am(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(cn(this.auth.app))return Promise.reject(to(this.auth));let e=yield this.getIdToken();return yield Jc(this,Az(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,B=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Z=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ee,emailVerified:ie,isAnonymous:Ue,providerData:ye,stsTokenManager:D}=t;he(ee&&D,e,"internal-error");let E=Td.fromJSON(this.name,D);he(typeof ee=="string",e,"internal-error"),ts(f,e.name),ts(y,e.name),he(typeof ie=="boolean",e,"internal-error"),he(typeof Ue=="boolean",e,"internal-error"),ts(v,e.name),ts(M,e.name),ts(x,e.name),ts(R,e.name),ts(B,e.name),ts(Z,e.name);let I=new n({uid:ee,auth:e,email:y,emailVerified:ie,displayName:f,isAnonymous:Ue,photoURL:M,phoneNumber:v,tenantId:x,stsTokenManager:E,createdAt:B,lastLoginAt:Z});return ye&&Array.isArray(ye)&&(I.providerData=ye.map(O=>Object.assign({},O))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Td;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield am(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];he(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ik(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Td;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ad(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var UR=new Map;function eo(n){rs(n instanceof Function,"Expected a class definition");let e=UR.get(n);return e?(rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UR.set(n,e),e)}var Lz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),jw=Lz;function tm(n,e,t){return`firebase:${n}:${e}:${t}`}var cm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,o),this.fullPersistenceKey=tm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield sm(this.auth,{idToken:e}).catch(()=>{});return t?ns._fromGetAccountInfoResponse(this.auth,t,e):null}return ns._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(eo(jw),e,r);let i=(yield Promise.all(t.map(u=>b(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||eo(jw),s=tm(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f;if(typeof d=="string"){let y=yield sm(e,{idToken:d}).catch(()=>{});if(!y)break;f=yield ns._fromGetAccountInfoResponse(e,y,d)}else f=ns._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>b(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function BR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uk(e))return"Blackberry";if(dk(e))return"Webos";if(sk(e))return"Safari";if((e.includes("chrome/")||ak(e))&&!e.includes("edge/"))return"Chrome";if(lk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ok(n=jt()){return/firefox\//i.test(n)}function sk(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ak(n=jt()){return/crios\//i.test(n)}function ck(n=jt()){return/iemobile/i.test(n)}function lk(n=jt()){return/android/i.test(n)}function uk(n=jt()){return/blackberry/i.test(n)}function dk(n=jt()){return/webos/i.test(n)}function aE(n=jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Vz(n=jt()){var e;return aE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jz(){return rR()&&document.documentMode===10}function hk(n=jt()){return aE(n)||lk(n)||dk(n)||uk(n)||/windows phone/i.test(n)||ck(n)}function fk(n,e=[]){let t;switch(n){case"Browser":t=BR(jt());break;case"Worker":t=`${BR(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ui}/${r}`}var Uw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Uz(t){return b(this,arguments,function*(n,e={}){return no(n,"GET","/v2/passwordPolicy",is(n,e))})}var Bz=6,Bw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Bz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $w=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lm(this),this.idTokenSubscription=new lm(this),this.beforeStateQueue=new Uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield cm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield sm(this,{idToken:e}),r=yield ns._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(cn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield am(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Pz()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(cn(this.app))return Promise.reject(to(this));let t=e?ot(e):null;return t&&he(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return cn(this.app)?Promise.reject(to(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cn(this.app)?Promise.reject(to(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(eo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield Uz(this),t=new Bw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Fz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&eo(e)||this._popupRedirectResolver;he(t,this,"argument-error"),this.redirectPersistenceManager=yield cm.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Ez(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function va(n){return ot(n)}var lm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(t=>this.observer=t)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var mm={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $z(n){mm=n}function gk(n){return mm.loadJS(n)}function zz(){return mm.recaptchaEnterpriseScript}function Hz(){return mm.gapiScript}function pk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var zw=class{constructor(){this.enterprise=new Hw}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Hw=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var qz="recaptcha-enterprise",mk="NO_RECAPTCHA",qw=class{constructor(e){this.type=qz,this.auth=va(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(null,null,function*(){Tz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Lw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;VR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(mk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&VR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zz();c.length!==0&&(c+=a),gk(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Sd(n,e,t,r=!1,i=!1){return b(this,null,function*(){let o=new qw(n),s;if(i)s=mk;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Ww(n,e,t,r,i){return b(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Sd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>b(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Sd(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Sd(n,e,t);return r(n,a).catch(c=>b(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Sd(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Sd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function cE(n,e){let t=Zo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ai(o,e??{}))return i;gi(i,"already-initialized")}return t.initialize({options:e})}function Wz(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function lE(n,e,t){let r=va(n);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=yk(e),{host:s,port:a}=Gz(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(ai(u,r.config.emulator)&&ai(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,si(s)?(Gc(`${o}//${s}${c}`),Kc("Auth",!0)):i||Kz()}function yk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Gz(n){let e=yk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$R(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$R(s)}}}function $R(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Kz(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Rd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}};function Yz(n,e){return b(this,null,function*(){return no(n,"POST","/v1/accounts:signUp",e)})}function Qz(n,e){return b(this,null,function*(){return Fd(n,"POST","/v1/accounts:signInWithPassword",is(n,e))})}function Zz(n,e){return b(this,null,function*(){return Fd(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))})}function Jz(n,e){return b(this,null,function*(){return Fd(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))})}var kd=class n extends Rd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,t,"signInWithPassword",Qz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zz(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,r,"signUpPassword",Yz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Jz(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Rw(n,e){return b(this,null,function*(){return Fd(n,"POST","/v1/accounts:signInWithIdp",is(n,e))})}function Xz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eH(n){let e=Yc(Qc(n)).link,t=e?Yc(Qc(e)).deep_link_id:null,r=Yc(Qc(n)).deep_link_id;return(r?Yc(Qc(r)).link:null)||r||t||e||n}var um=class n{constructor(e){var t,r,i,o,s,a;let c=Yc(Qc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Xz((i=c.mode)!==null&&i!==void 0?i:null);he(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=eH(e);try{return new n(t)}catch{return null}}};var _k=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return kd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=um.parseLink(r);return he(i,"argument-error"),kd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),dm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gw=class extends dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function tH(n,e){return b(this,null,function*(){return Fd(n,"POST","/v1/accounts:signUp",is(n,e))})}var Xc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield ns._fromIdTokenResponse(e,r,i),s=zR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function zR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Kw=class n extends wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kw._fromErrorAndOperation(n,o,e,r):o})}function nH(n,e,t=!1){return b(this,null,function*(){let r=yield Jc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xc._forOperation(n,"link",r)})}function rH(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(cn(r.app))return Promise.reject(to(r));let i="reauthenticate";try{let o=yield Jc(n,vk(r,i,e,n),t);he(o.idToken,r,"internal-error");let s=oE(o.idToken);he(s,r,"internal-error");let{sub:a}=s;return he(n.uid===a,r,"user-mismatch"),Xc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),o}})}function Ck(n,e,t=!1){return b(this,null,function*(){if(cn(n.app))return Promise.reject(to(n));let r="signIn",i=yield vk(n,r,e),o=yield Xc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function uE(n,e){return b(this,null,function*(){return Ck(va(n),e)})}function bk(n){return b(this,null,function*(){let e=va(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function dE(n,e,t){return b(this,null,function*(){if(cn(n.app))return Promise.reject(to(n));let r=va(n),s=yield Ww(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tH,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bk(n),c}),a=yield Xc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function hE(n,e,t){return cn(n.app)?Promise.reject(to(n)):uE(ot(n),_k.credential(e,t)).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&bk(n),r}))}function iH(n,e){return b(this,null,function*(){return no(n,"POST","/v1/accounts:update",e)})}function fE(r,i){return b(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=ot(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Jc(o,iH(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function gE(n,e,t,r){return ot(n).onIdTokenChanged(e,t,r)}function pE(n,e,t){return ot(n).beforeAuthStateChanged(e,t)}function mE(n,e,t,r){return ot(n).onAuthStateChanged(e,t,r)}function yE(n){return ot(n).signOut()}var hm="__sak";var fm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oH=1e3,sH=10,aH=(()=>{class n extends fm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);jz()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},oH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield wo(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield wo(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield wo(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),wk=aH;var cH=(()=>{class n extends fm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),_E=cH;function lH(n){return Promise.all(n.map(e=>b(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var uH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>b(this,null,function*(){return d(r.origin,s)})),u=yield lH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ek(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Yw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=Ek("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let y=f;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function fi(){return window}function dH(n){fi().location.href=n}function Mk(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}function hH(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gH(){return Mk()?self:null}var Ik="firebaseLocalStorageDb",pH=1,gm="firebaseLocalStorage",Pk="fbase_key",_a=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ym(n,e){return n.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function mH(){let n=indexedDB.deleteDatabase(Ik);return new _a(n).toPromise()}function Qw(){let n=indexedDB.open(Ik,pH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(gm,{keyPath:Pk})}catch(i){t(i)}}),n.addEventListener("success",()=>b(null,null,function*(){let r=n.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),yield mH(),e(yield Qw()))}))})}function HR(n,e,t){return b(this,null,function*(){let r=ym(n,!0).put({[Pk]:e,value:t});return new _a(r).toPromise()})}function yH(n,e){return b(this,null,function*(){let t=ym(n,!1).get(e),r=yield new _a(t).toPromise();return r===void 0?null:r.value})}function qR(n,e){let t=ym(n,!0).delete(e);return new _a(t).toPromise()}var _H=800,vH=3,CH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Qw(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>vH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return Mk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=uH._getInstance(gH()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield hH(),!this.activeServiceWorker)return;this.sender=new Yw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Qw();return yield HR(t,hm,"1"),yield qR(t,hm),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>HR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>yH(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>qR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=ym(o,!1).getAll();return new _a(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Dk=CH;var wfe=pk("rcb"),Efe=new ya(3e4,6e4);function bH(n,e){return e?eo(e):(he(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Nd=class extends Rd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function wH(n){return Ck(n.auth,new Nd(n),n.bypassAuthState)}function EH(n){let{auth:e,user:t}=n;return he(t,e,"internal-error"),rH(t,new Nd(n),n.bypassAuthState)}function MH(n){return b(this,null,function*(){let{auth:e,user:t}=n;return he(t,e,"internal-error"),nH(t,new Nd(n),n.bypassAuthState)})}var Zw=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wH;case"linkViaPopup":case"linkViaRedirect":return MH;case"reauthViaPopup":case"reauthViaRedirect":return EH;default:gi(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Mfe=new ya(2e3,1e4);var IH="pendingRedirect",nm=new Map,Jw=class n extends Zw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=nm.get(this.auth._key());if(!e){try{let r=(yield PH(this.resolver,this.auth))?yield wo(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nm.set(this.auth._key(),e)}return this.bypassAuthState||nm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return wo(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,wo(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function PH(n,e){return b(this,null,function*(){let t=SH(e),r=OH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function DH(n,e){nm.set(n._key(),e)}function OH(n){return eo(n._redirectPersistence)}function SH(n){return tm(IH,n.config.apiKey,n.name)}function xH(n,e,t=!1){return b(this,null,function*(){if(cn(n.app))return Promise.reject(to(n));let r=va(n),i=bH(r,e),s=yield new Jw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var TH=10*60*1e3,Xw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ok(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ma(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TH&&this.cachedEventUids.clear(),this.cachedEventUids.has(WR(e))}saveEventToCache(e){this.cachedEventUids.add(WR(e)),this.lastProcessedEventTime=Date.now()}};function WR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ok({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function AH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ok(n);default:return!1}}function RH(t){return b(this,arguments,function*(n,e={}){return no(n,"GET","/v1/projects",e)})}var kH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NH=/^https?/;function FH(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield RH(n);for(let t of e)try{if(LH(t))return}catch{}gi(n,"unauthorized-domain")})}function LH(n){let e=Nw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!NH.test(t))return!1;if(kH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var VH=new ya(3e4,6e4);function GR(){let n=fi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jH(n){return new Promise((e,t)=>{var r,i,o;function s(){GR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GR(),t(ma(n,"network-request-failed"))},timeout:VH.get()})}if(!((i=(r=fi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=fi().gapi)===null||o===void 0)&&o.load)s();else{let a=pk("iframefcb");return fi()[a]=()=>{gapi.load?s():t(ma(n,"network-request-failed"))},gk(`${Hz()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw rm=null,e})}var rm=null;function UH(n){return rm=rm||jH(n),rm}var BH=new ya(5e3,15e3),$H="__/auth/iframe",zH="emulator/auth/iframe",HH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WH(n){let e=n.config;he(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?rE(e,zH):`https://${n.config.authDomain}/${$H}`,r={apiKey:e.apiKey,appName:n.name,v:ui},i=qH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Md(r).slice(1)}`}function GH(n){return b(this,null,function*(){let e=yield UH(n),t=fi().gapi;return he(t,n,"internal-error"),e.open({where:document.body,url:WH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HH,dontclear:!0},r=>new Promise((i,o)=>b(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ma(n,"network-request-failed"),a=fi().setTimeout(()=>{o(s)},BH.get());function c(){fi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var KH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YH=500,QH=600,ZH="_blank",JH="http://localhost",pm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XH(n,e,t,r=YH,i=QH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},KH),{width:r.toString(),height:i.toString(),top:o,left:s}),u=jt().toLowerCase();t&&(a=ak(u)?ZH:t),ok(u)&&(e=e||JH,c.scrollbars="yes");let d=Object.entries(c).reduce((y,[v,M])=>`${y}${v}=${M},`,"");if(Vz(u)&&a!=="_self")return e9(e||"",a),new pm(null);let f=window.open(e||"",a,d);he(f,n,"popup-blocked");try{f.focus()}catch{}return new pm(f)}function e9(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var t9="__/auth/handler",n9="emulator/auth/handler",r9=encodeURIComponent("fac");function KR(n,e,t,r,i,o){return b(this,null,function*(){he(n.config.authDomain,n,"auth-domain-config-required"),he(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ui,eventId:i};if(e instanceof dm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",sR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof Gw){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${r9}=${encodeURIComponent(c)}`:"";return`${i9(n)}?${Md(a).slice(1)}${u}`})}function i9({config:n}){return n.emulator?rE(n,n9):`https://${n.authDomain}/${t9}`}var kw="webStorageSupport",eE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=xH,this._overrideRedirectResult=DH}_openPopup(e,t,r,i){return b(this,null,function*(){var o;rs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield KR(e,t,r,Nw(),i);return XH(e,s,Ek())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield KR(e,t,r,Nw(),i);return dH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(rs(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield GH(e),r=new Xw(e);return t.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kw,{type:kw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[kw];s!==void 0&&t(!!s),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hk()||sk()||aE()}},Sk=eE;var YR="@firebase/auth",QR="1.10.8";var tE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s9(n){zn(new Qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(n)},u=new $w(r,i,o,c);return Wz(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zn(new Qt("auth-internal",e=>{let t=va(e.getProvider("auth").getImmediate());return(r=>new tE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(YR,QR,o9(n)),Qe(YR,QR,"esm2017")}var a9=5*60,c9=lw("authIdTokenMaxAge")||a9,ZR=null,l9=n=>e=>b(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c9)return;let i=t?.token;ZR!==i&&(ZR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function vE(n=Zi()){let e=Zo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=cE(n,{popupRedirectResolver:Sk,persistence:[Dk,wk,_E]}),r=lw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=l9(o.toString());pE(t,s,()=>s(t.currentUser)),gE(t,a=>s(a))}}let i=aw("auth");return i&&lE(t,`http://${i}`),t}function u9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$z({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ma("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",u9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s9("Browser");var xk="auth",Ca=class{constructor(e){return e}},ba=class{constructor(){return Jo(xk)}};var CE=new J("angularfire2.auth-instances");function Z9(n,e){let t=pa(xk,n,e);return t&&new Ca(t)}function J9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ca(r)}}var X9={provide:ba,deps:[[new Et,CE]]},e7={provide:Ca,useFactory:Z9,deps:[[new Et,CE],Rr]};function Tk(n,...e){return Qe("angularfire",di.full,"auth"),Lt([e7,X9,{provide:CE,useFactory:J9(n),multi:!0,deps:[xe,Ze,hi,Ji,[new Et,es],...e]}])}var Ak=An(dE,!0,2);var Rk=An(vE,!0);var kk=An(mE,!0);var Nk=An(hE,!0,2);var Fk=An(yE,!0,2);var Lk=An(fE,!0,2);var Vk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jk={};var ro,bE;(function(){var n;function e(D,E){function I(){}I.prototype=E.prototype,D.D=E.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(O,S,A){for(var P=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)P[Gn-2]=arguments[Gn];return E.prototype[S].apply(O,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,I){I||(I=0);var O=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)O[S]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(S=0;16>S;++S)O[S]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=D.g[0],I=D.g[1],S=D.g[2];var A=D.g[3],P=E+(A^I&(S^A))+O[0]+3614090360&4294967295;E=I+(P<<7&4294967295|P>>>25),P=A+(S^E&(I^S))+O[1]+3905402710&4294967295,A=E+(P<<12&4294967295|P>>>20),P=S+(I^A&(E^I))+O[2]+606105819&4294967295,S=A+(P<<17&4294967295|P>>>15),P=I+(E^S&(A^E))+O[3]+3250441966&4294967295,I=S+(P<<22&4294967295|P>>>10),P=E+(A^I&(S^A))+O[4]+4118548399&4294967295,E=I+(P<<7&4294967295|P>>>25),P=A+(S^E&(I^S))+O[5]+1200080426&4294967295,A=E+(P<<12&4294967295|P>>>20),P=S+(I^A&(E^I))+O[6]+2821735955&4294967295,S=A+(P<<17&4294967295|P>>>15),P=I+(E^S&(A^E))+O[7]+4249261313&4294967295,I=S+(P<<22&4294967295|P>>>10),P=E+(A^I&(S^A))+O[8]+1770035416&4294967295,E=I+(P<<7&4294967295|P>>>25),P=A+(S^E&(I^S))+O[9]+2336552879&4294967295,A=E+(P<<12&4294967295|P>>>20),P=S+(I^A&(E^I))+O[10]+4294925233&4294967295,S=A+(P<<17&4294967295|P>>>15),P=I+(E^S&(A^E))+O[11]+2304563134&4294967295,I=S+(P<<22&4294967295|P>>>10),P=E+(A^I&(S^A))+O[12]+1804603682&4294967295,E=I+(P<<7&4294967295|P>>>25),P=A+(S^E&(I^S))+O[13]+4254626195&4294967295,A=E+(P<<12&4294967295|P>>>20),P=S+(I^A&(E^I))+O[14]+2792965006&4294967295,S=A+(P<<17&4294967295|P>>>15),P=I+(E^S&(A^E))+O[15]+1236535329&4294967295,I=S+(P<<22&4294967295|P>>>10),P=E+(S^A&(I^S))+O[1]+4129170786&4294967295,E=I+(P<<5&4294967295|P>>>27),P=A+(I^S&(E^I))+O[6]+3225465664&4294967295,A=E+(P<<9&4294967295|P>>>23),P=S+(E^I&(A^E))+O[11]+643717713&4294967295,S=A+(P<<14&4294967295|P>>>18),P=I+(A^E&(S^A))+O[0]+3921069994&4294967295,I=S+(P<<20&4294967295|P>>>12),P=E+(S^A&(I^S))+O[5]+3593408605&4294967295,E=I+(P<<5&4294967295|P>>>27),P=A+(I^S&(E^I))+O[10]+38016083&4294967295,A=E+(P<<9&4294967295|P>>>23),P=S+(E^I&(A^E))+O[15]+3634488961&4294967295,S=A+(P<<14&4294967295|P>>>18),P=I+(A^E&(S^A))+O[4]+3889429448&4294967295,I=S+(P<<20&4294967295|P>>>12),P=E+(S^A&(I^S))+O[9]+568446438&4294967295,E=I+(P<<5&4294967295|P>>>27),P=A+(I^S&(E^I))+O[14]+3275163606&4294967295,A=E+(P<<9&4294967295|P>>>23),P=S+(E^I&(A^E))+O[3]+4107603335&4294967295,S=A+(P<<14&4294967295|P>>>18),P=I+(A^E&(S^A))+O[8]+1163531501&4294967295,I=S+(P<<20&4294967295|P>>>12),P=E+(S^A&(I^S))+O[13]+2850285829&4294967295,E=I+(P<<5&4294967295|P>>>27),P=A+(I^S&(E^I))+O[2]+4243563512&4294967295,A=E+(P<<9&4294967295|P>>>23),P=S+(E^I&(A^E))+O[7]+1735328473&4294967295,S=A+(P<<14&4294967295|P>>>18),P=I+(A^E&(S^A))+O[12]+2368359562&4294967295,I=S+(P<<20&4294967295|P>>>12),P=E+(I^S^A)+O[5]+4294588738&4294967295,E=I+(P<<4&4294967295|P>>>28),P=A+(E^I^S)+O[8]+2272392833&4294967295,A=E+(P<<11&4294967295|P>>>21),P=S+(A^E^I)+O[11]+1839030562&4294967295,S=A+(P<<16&4294967295|P>>>16),P=I+(S^A^E)+O[14]+4259657740&4294967295,I=S+(P<<23&4294967295|P>>>9),P=E+(I^S^A)+O[1]+2763975236&4294967295,E=I+(P<<4&4294967295|P>>>28),P=A+(E^I^S)+O[4]+1272893353&4294967295,A=E+(P<<11&4294967295|P>>>21),P=S+(A^E^I)+O[7]+4139469664&4294967295,S=A+(P<<16&4294967295|P>>>16),P=I+(S^A^E)+O[10]+3200236656&4294967295,I=S+(P<<23&4294967295|P>>>9),P=E+(I^S^A)+O[13]+681279174&4294967295,E=I+(P<<4&4294967295|P>>>28),P=A+(E^I^S)+O[0]+3936430074&4294967295,A=E+(P<<11&4294967295|P>>>21),P=S+(A^E^I)+O[3]+3572445317&4294967295,S=A+(P<<16&4294967295|P>>>16),P=I+(S^A^E)+O[6]+76029189&4294967295,I=S+(P<<23&4294967295|P>>>9),P=E+(I^S^A)+O[9]+3654602809&4294967295,E=I+(P<<4&4294967295|P>>>28),P=A+(E^I^S)+O[12]+3873151461&4294967295,A=E+(P<<11&4294967295|P>>>21),P=S+(A^E^I)+O[15]+530742520&4294967295,S=A+(P<<16&4294967295|P>>>16),P=I+(S^A^E)+O[2]+3299628645&4294967295,I=S+(P<<23&4294967295|P>>>9),P=E+(S^(I|~A))+O[0]+4096336452&4294967295,E=I+(P<<6&4294967295|P>>>26),P=A+(I^(E|~S))+O[7]+1126891415&4294967295,A=E+(P<<10&4294967295|P>>>22),P=S+(E^(A|~I))+O[14]+2878612391&4294967295,S=A+(P<<15&4294967295|P>>>17),P=I+(A^(S|~E))+O[5]+4237533241&4294967295,I=S+(P<<21&4294967295|P>>>11),P=E+(S^(I|~A))+O[12]+1700485571&4294967295,E=I+(P<<6&4294967295|P>>>26),P=A+(I^(E|~S))+O[3]+2399980690&4294967295,A=E+(P<<10&4294967295|P>>>22),P=S+(E^(A|~I))+O[10]+4293915773&4294967295,S=A+(P<<15&4294967295|P>>>17),P=I+(A^(S|~E))+O[1]+2240044497&4294967295,I=S+(P<<21&4294967295|P>>>11),P=E+(S^(I|~A))+O[8]+1873313359&4294967295,E=I+(P<<6&4294967295|P>>>26),P=A+(I^(E|~S))+O[15]+4264355552&4294967295,A=E+(P<<10&4294967295|P>>>22),P=S+(E^(A|~I))+O[6]+2734768916&4294967295,S=A+(P<<15&4294967295|P>>>17),P=I+(A^(S|~E))+O[13]+1309151649&4294967295,I=S+(P<<21&4294967295|P>>>11),P=E+(S^(I|~A))+O[4]+4149444226&4294967295,E=I+(P<<6&4294967295|P>>>26),P=A+(I^(E|~S))+O[11]+3174756917&4294967295,A=E+(P<<10&4294967295|P>>>22),P=S+(E^(A|~I))+O[2]+718787259&4294967295,S=A+(P<<15&4294967295|P>>>17),P=I+(A^(S|~E))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(S+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var I=E-this.blockSize,O=this.B,S=this.h,A=0;A<E;){if(S==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<E;)if(O[S++]=D.charCodeAt(A++),S==this.blockSize){i(this,O),S=0;break}}else for(;A<E;)if(O[S++]=D[A++],S==this.blockSize){i(this,O),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var I=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=I&255,I/=256;for(this.u(D),D=Array(16),E=I=0;4>E;++E)for(var O=0;32>O;O+=8)D[I++]=this.g[E]>>>O&255;return D};function o(D,E){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=E(D)}function s(D,E){this.h=E;for(var I=[],O=!0,S=D.length-1;0<=S;S--){var A=D[S]|0;O&&A==E||(I[S]=A,O=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(E){return new s([E|0],0>E?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return R(u(-D));for(var E=[],I=1,O=0;D>=I;O++)E[O]=D/I|0,I*=4294967296;return new s(E,0)}function d(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return R(d(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),O=f,S=0;S<D.length;S+=8){var A=Math.min(8,D.length-S),P=parseInt(D.substring(S,S+A),E);8>A?(A=u(Math.pow(E,A)),O=O.j(A).add(u(P))):(O=O.j(I),O=O.add(u(P)))}return O}var f=c(0),y=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(x(this))return-R(this).m();for(var D=0,E=1,I=0;I<this.g.length;I++){var O=this.i(I);D+=(0<=O?O:4294967296+O)*E,E*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(x(this))return"-"+R(this).toString(D);for(var E=u(Math.pow(D,6)),I=this,O="";;){var S=ie(I,E).g;I=B(I,S.j(E));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=S,M(I))return A+O;for(;6>A.length;)A="0"+A;O=A+O}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function x(D){return D.h==-1}n.l=function(D){return D=B(this,D),x(D)?-1:M(D)?0:1};function R(D){for(var E=D.g.length,I=[],O=0;O<E;O++)I[O]=~D.g[O];return new s(I,~D.h).add(y)}n.abs=function(){return x(this)?R(this):this},n.add=function(D){for(var E=Math.max(this.g.length,D.g.length),I=[],O=0,S=0;S<=E;S++){var A=O+(this.i(S)&65535)+(D.i(S)&65535),P=(A>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);O=P>>>16,A&=65535,P&=65535,I[S]=P<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function B(D,E){return D.add(R(E))}n.j=function(D){if(M(this)||M(D))return f;if(x(this))return x(D)?R(this).j(R(D)):R(R(this).j(D));if(x(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return u(this.m()*D.m());for(var E=this.g.length+D.g.length,I=[],O=0;O<2*E;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var S=0;S<D.g.length;S++){var A=this.i(O)>>>16,P=this.i(O)&65535,Gn=D.i(S)>>>16,mo=D.i(S)&65535;I[2*O+2*S]+=P*mo,Z(I,2*O+2*S),I[2*O+2*S+1]+=A*mo,Z(I,2*O+2*S+1),I[2*O+2*S+1]+=P*Gn,Z(I,2*O+2*S+1),I[2*O+2*S+2]+=A*Gn,Z(I,2*O+2*S+2)}for(O=0;O<E;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=E;O<2*E;O++)I[O]=0;return new s(I,0)};function Z(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function ee(D,E){this.g=D,this.h=E}function ie(D,E){if(M(E))throw Error("division by zero");if(M(D))return new ee(f,f);if(x(D))return E=ie(R(D),E),new ee(R(E.g),R(E.h));if(x(E))return E=ie(D,R(E)),new ee(R(E.g),E.h);if(30<D.g.length){if(x(D)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var I=y,O=E;0>=O.l(D);)I=Ue(I),O=Ue(O);var S=ye(I,1),A=ye(O,1);for(O=ye(O,2),I=ye(I,2);!M(O);){var P=A.add(O);0>=P.l(D)&&(S=S.add(I),A=P),O=ye(O,1),I=ye(I,1)}return E=B(D,S.j(E)),new ee(S,E)}for(S=f;0<=D.l(E);){for(I=Math.max(1,Math.floor(D.m()/E.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),A=u(I),P=A.j(E);x(P)||0<P.l(D);)I-=O,A=u(I),P=A.j(E);M(A)&&(A=y),S=S.add(A),D=B(D,P)}return new ee(S,D)}n.A=function(D){return ie(this,D).h},n.and=function(D){for(var E=Math.max(this.g.length,D.g.length),I=[],O=0;O<E;O++)I[O]=this.i(O)&D.i(O);return new s(I,this.h&D.h)},n.or=function(D){for(var E=Math.max(this.g.length,D.g.length),I=[],O=0;O<E;O++)I[O]=this.i(O)|D.i(O);return new s(I,this.h|D.h)},n.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),I=[],O=0;O<E;O++)I[O]=this.i(O)^D.i(O);return new s(I,this.h^D.h)};function Ue(D){for(var E=D.g.length+1,I=[],O=0;O<E;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new s(I,D.h)}function ye(D,E){var I=E>>5;E%=32;for(var O=D.g.length-I,S=[],A=0;A<O;A++)S[A]=0<E?D.i(A+I)>>>E|D.i(A+I+1)<<32-E:D.i(A+I);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bE=jk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,ro=jk.Integer=s}).apply(typeof Vk<"u"?Vk:typeof self<"u"?self:typeof window<"u"?window:{});var _m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},io={};var wE,n7,el,EE,Ld,vm,ME,IE,PE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof _m=="object"&&_m];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var T=l[C];if(!(T in g))break e;g=g[T]}l=l[l.length-1],C=g[l],h=h(C),h!=C&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var g=0,C=!1,T={next:function(){if(!C&&g<l.length){var k=g++;return{value:h(k,l[k]),done:!1}}return C=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,g){return g})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,C),l.apply(h,T)}}return function(){return l.apply(h,arguments)}}function y(l,h,g){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,y.apply(null,arguments)}function v(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function M(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(C,T,k){for(var G=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)G[Ge-2]=arguments[Ge];return h.prototype[T].apply(C,G)}}function x(l){let h=l.length;if(0<h){let g=Array(h);for(let C=0;C<h;C++)g[C]=l[C];return g}return[]}function R(l,h){for(let g=1;g<arguments.length;g++){let C=arguments[g];if(c(C)){let T=l.length||0,k=C.length||0;l.length=T+k;for(let G=0;G<k;G++)l[T+G]=C[G]}else l.push(C)}}class B{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function Z(l){return/^[\s\xa0]*$/.test(l)}function ee(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ie(l){return ie[" "](l),l}ie[" "]=function(){};var Ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ye(l,h,g){for(let C in l)h.call(g,l[C],C,l)}function D(l,h){for(let g in l)h.call(void 0,l[g],g,l)}function E(l){let h={};for(let g in l)h[g]=l[g];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(l,h){let g,C;for(let T=1;T<arguments.length;T++){C=arguments[T];for(g in C)l[g]=C[g];for(let k=0;k<I.length;k++)g=I[k],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function S(l){var h=1;l=l.split(":");let g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function A(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Oe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Gn{constructor(){this.h=this.g=null}add(h,g){let C=mo.get();C.set(h,g),this.h?this.h.next=C:this.g=C,this.h=C}}var mo=new B(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,se=!1,Oe=new Gn,mt=()=>{let l=a.Promise.resolve(void 0);oe=()=>{l.then(Kn)}};var Kn=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(g){A(g)}var h=mo;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}se=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function yo(l,h){if(Xe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Ue){e:{try{ie(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Hy[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&yo.aa.h.call(this)}}M(yo,Xe);var Hy={2:"touch",3:"pen",4:"mouse"};yo.prototype.h=function(){yo.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Pi=0;function En(l,h,g,C,T){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!C,this.ha=T,this.key=++Pi,this.da=this.fa=!1}function Di(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function _o(l){this.src=l,this.g={},this.h=0}_o.prototype.add=function(l,h,g,C,T){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var G=Wy(l,h,C,T);return-1<G?(h=l[G],g||(h.fa=!1)):(h=new En(h,this.src,k,!!C,T),h.fa=g,l.push(h)),h};function qy(l,h){var g=h.type;if(g in l.g){var C=l.g[g],T=Array.prototype.indexOf.call(C,h,void 0),k;(k=0<=T)&&Array.prototype.splice.call(C,T,1),k&&(Di(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Wy(l,h,g,C){for(var T=0;T<l.length;++T){var k=l[T];if(!k.da&&k.listener==h&&k.capture==!!g&&k.ha==C)return T}return-1}var Gy="closure_lm_"+(1e6*Math.random()|0),Ky={};function aP(l,h,g,C,T){if(C&&C.once)return lP(l,h,g,C,T);if(Array.isArray(h)){for(var k=0;k<h.length;k++)aP(l,h[k],g,C,T);return null}return g=Jy(g),l&&l[ft]?l.K(h,g,u(C)?!!C.capture:!!C,T):cP(l,h,g,!1,C,T)}function cP(l,h,g,C,T,k){if(!h)throw Error("Invalid event type");var G=u(T)?!!T.capture:!!T,Ge=Qy(l);if(Ge||(l[Gy]=Ge=new _o(l)),g=Ge.add(h,g,C,G,k),g.proxy)return g;if(C=tL(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)et||(T=G),T===void 0&&(T=!1),l.addEventListener(h.toString(),C,T);else if(l.attachEvent)l.attachEvent(dP(h.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function tL(){function l(g){return h.call(l.src,l.listener,g)}let h=nL;return l}function lP(l,h,g,C,T){if(Array.isArray(h)){for(var k=0;k<h.length;k++)lP(l,h[k],g,C,T);return null}return g=Jy(g),l&&l[ft]?l.L(h,g,u(C)?!!C.capture:!!C,T):cP(l,h,g,!0,C,T)}function uP(l,h,g,C,T){if(Array.isArray(h))for(var k=0;k<h.length;k++)uP(l,h[k],g,C,T);else C=u(C)?!!C.capture:!!C,g=Jy(g),l&&l[ft]?(l=l.i,h=String(h).toString(),h in l.g&&(k=l.g[h],g=Wy(k,g,C,T),-1<g&&(Di(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete l.g[h],l.h--)))):l&&(l=Qy(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Wy(h,g,C,T)),(g=-1<l?h[l]:null)&&Yy(g))}function Yy(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ft])qy(h.i,l);else{var g=l.type,C=l.proxy;h.removeEventListener?h.removeEventListener(g,C,l.capture):h.detachEvent?h.detachEvent(dP(g),C):h.addListener&&h.removeListener&&h.removeListener(C),(g=Qy(h))?(qy(g,l),g.h==0&&(g.src=null,h[Gy]=null)):Di(l)}}}function dP(l){return l in Ky?Ky[l]:Ky[l]="on"+l}function nL(l,h){if(l.da)l=!0;else{h=new yo(h,this);var g=l.listener,C=l.ha||l.src;l.fa&&Yy(l),l=g.call(C,h)}return l}function Qy(l){return l=l[Gy],l instanceof _o?l:null}var Zy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jy(l){return typeof l=="function"?l:(l[Zy]||(l[Zy]=function(h){return l.handleEvent(h)}),l[Zy])}function Zt(){ht.call(this),this.i=new _o(this),this.M=this,this.F=null}M(Zt,ht),Zt.prototype[ft]=!0,Zt.prototype.removeEventListener=function(l,h,g,C){uP(this,l,h,g,C)};function dn(l,h){var g,C=l.F;if(C)for(g=[];C;C=C.F)g.push(C);if(l=l.M,C=h.type||h,typeof h=="string")h=new Xe(h,l);else if(h instanceof Xe)h.target=h.target||l;else{var T=h;h=new Xe(C,l),O(h,T)}if(T=!0,g)for(var k=g.length-1;0<=k;k--){var G=h.g=g[k];T=vh(G,C,!0,h)&&T}if(G=h.g=l,T=vh(G,C,!0,h)&&T,T=vh(G,C,!1,h)&&T,g)for(k=0;k<g.length;k++)G=h.g=g[k],T=vh(G,C,!1,h)&&T}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],C=0;C<g.length;C++)Di(g[C]);delete l.g[h],l.h--}}this.F=null},Zt.prototype.K=function(l,h,g,C){return this.i.add(String(l),h,!1,g,C)},Zt.prototype.L=function(l,h,g,C){return this.i.add(String(l),h,!0,g,C)};function vh(l,h,g,C){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,k=0;k<h.length;++k){var G=h[k];if(G&&!G.da&&G.capture==g){var Ge=G.listener,$t=G.ha||G.src;G.fa&&qy(l.i,G),T=Ge.call($t,C)!==!1&&T}}return T&&!C.defaultPrevented}function hP(l,h,g){if(typeof l=="function")g&&(l=y(l,g));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function fP(l){l.g=hP(()=>{l.g=null,l.i&&(l.i=!1,fP(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class rL extends ht{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:fP(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(l){ht.call(this),this.h=l,this.g={}}M(Rl,ht);var gP=[];function pP(l){ye(l.g,function(h,g){this.g.hasOwnProperty(g)&&Yy(h)},l),l.g={}}Rl.prototype.N=function(){Rl.aa.N.call(this),pP(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xy=a.JSON.stringify,iL=a.JSON.parse,oL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function e_(){}e_.prototype.h=null;function mP(l){return l.h||(l.h=l.i())}function yP(){}var kl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function t_(){Xe.call(this,"d")}M(t_,Xe);function n_(){Xe.call(this,"c")}M(n_,Xe);var bs={},_P=null;function Ch(){return _P=_P||new Zt}bs.La="serverreachability";function vP(l){Xe.call(this,bs.La,l)}M(vP,Xe);function Nl(l){let h=Ch();dn(h,new vP(h))}bs.STAT_EVENT="statevent";function CP(l,h){Xe.call(this,bs.STAT_EVENT,l),this.stat=h}M(CP,Xe);function hn(l){let h=Ch();dn(h,new CP(h,l))}bs.Ma="timingevent";function bP(l,h){Xe.call(this,bs.Ma,l),this.size=h}M(bP,Xe);function Fl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ll(){this.g=!0}Ll.prototype.xa=function(){this.g=!1};function sL(l,h,g,C,T,k){l.info(function(){if(l.g)if(k)for(var G="",Ge=k.split("&"),$t=0;$t<Ge.length;$t++){var Ve=Ge[$t].split("=");if(1<Ve.length){var Jt=Ve[0];Ve=Ve[1];var Xt=Jt.split("_");G=2<=Xt.length&&Xt[1]=="type"?G+(Jt+"="+Ve+"&"):G+(Jt+"=redacted&")}}else G=null;else G=k;return"XMLHTTP REQ ("+C+") [attempt "+T+"]: "+h+`
`+g+`
`+G})}function aL(l,h,g,C,T,k,G){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+T+"]: "+h+`
`+g+`
`+k+" "+G})}function Ua(l,h,g,C){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+lL(l,g)+(C?" "+C:"")})}function cL(l,h){l.info(function(){return"TIMEOUT: "+h})}Ll.prototype.info=function(){};function lL(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var C=g[l];if(!(2>C.length)){var T=C[1];if(Array.isArray(T)&&!(1>T.length)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(var G=1;G<T.length;G++)T[G]=""}}}}return Xy(g)}catch{return h}}var bh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},r_;function wh(){}M(wh,e_),wh.prototype.g=function(){return new XMLHttpRequest},wh.prototype.i=function(){return{}},r_=new wh;function vo(l,h,g,C){this.j=l,this.i=h,this.l=g,this.R=C||1,this.U=new Rl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new EP}function EP(){this.i=null,this.g="",this.h=!1}var MP={},i_={};function o_(l,h,g){l.L=1,l.v=Ph(Oi(h)),l.m=g,l.P=!0,IP(l,null)}function IP(l,h){l.F=Date.now(),Eh(l),l.A=Oi(l.v);var g=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),jP(g.i,"t",C),l.C=0,g=l.j.J,l.h=new EP,l.g=rD(l.j,g?h:null,!l.m),0<l.O&&(l.M=new rL(y(l.Y,l,l.g),l.O)),h=l.U,g=l.g,C=l.ca;var T="readystatechange";Array.isArray(T)||(T&&(gP[0]=T.toString()),T=gP);for(var k=0;k<T.length;k++){var G=aP(g,T[k],C||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Nl(),sL(l.i,l.u,l.A,l.l,l.R,l.m)}vo.prototype.ca=function(l){l=l.target;let h=this.M;h&&Si(l)==3?h.j():this.Y(l)},vo.prototype.Y=function(l){try{if(l==this.g)e:{let Xt=Si(this.g);var h=this.g.Ba();let za=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||WP(this.g)))){this.J||Xt!=4||h==7||(h==8||0>=za?Nl(3):Nl(2)),s_(this);var g=this.g.Z();this.X=g;t:if(PP(this)){var C=WP(this.g);l="";var T=C.length,k=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Vl(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,l+=this.h.i.decode(C[h],{stream:!(k&&h==T-1)});C.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,aL(this.i,this.u,this.A,this.l,this.R,Xt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,$t=this.g;if((Ge=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ge)){var Ve=Ge;break t}}Ve=null}if(g=Ve)Ua(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,a_(this,g);else{this.o=!1,this.s=3,hn(12),ws(this),Vl(this);break e}}if(this.P){g=!0;let gr;for(;!this.J&&this.C<G.length;)if(gr=uL(this,G),gr==i_){Xt==4&&(this.s=4,hn(14),g=!1),Ua(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==MP){this.s=4,hn(15),Ua(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Ua(this.i,this.l,gr,null),a_(this,gr);if(PP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||G.length!=0||this.h.h||(this.s=1,hn(16),g=!1),this.o=this.o&&g,!g)Ua(this.i,this.l,G,"[Invalid Chunked Response]"),ws(this),Vl(this);else if(0<G.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),f_(Jt),Jt.M=!0,hn(11))}}else Ua(this.i,this.l,G,null),a_(this,G);Xt==4&&ws(this),this.o&&!this.J&&(Xt==4?XP(this.j,this):(this.o=!1,Eh(this)))}else DL(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),ws(this),Vl(this)}}}catch{}finally{}};function PP(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function uL(l,h){var g=l.C,C=h.indexOf(`
`,g);return C==-1?i_:(g=Number(h.substring(g,C)),isNaN(g)?MP:(C+=1,C+g>h.length?i_:(h=h.slice(C,C+g),l.C=C+g,h)))}vo.prototype.cancel=function(){this.J=!0,ws(this)};function Eh(l){l.S=Date.now()+l.I,DP(l,l.I)}function DP(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Fl(y(l.ba,l),h)}function s_(l){l.B&&(a.clearTimeout(l.B),l.B=null)}vo.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(cL(this.i,this.A),this.L!=2&&(Nl(),hn(17)),ws(this),this.s=2,Vl(this)):DP(this,this.S-l)};function Vl(l){l.j.G==0||l.J||XP(l.j,l)}function ws(l){s_(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,pP(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function a_(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||c_(g.h,l))){if(!l.K&&c_(g.h,l)&&g.G==3){try{var C=g.Da.g.parse(h)}catch{C=null}if(Array.isArray(C)&&C.length==3){var T=C;if(T[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Th(g),Sh(g);else break e;h_(g),hn(18)}}else g.za=T[1],0<g.za-g.T&&37500>T[2]&&g.F&&g.v==0&&!g.C&&(g.C=Fl(y(g.Za,g),6e3));if(1>=xP(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ms(g,11)}else if((l.K||g.g==l)&&Th(g),!Z(h))for(T=g.Da.g.parse(h),h=0;h<T.length;h++){let Ve=T[h];if(g.T=Ve[0],Ve=Ve[1],g.G==2)if(Ve[0]=="c"){g.K=Ve[1],g.ia=Ve[2];let Jt=Ve[3];Jt!=null&&(g.la=Jt,g.j.info("VER="+g.la));let Xt=Ve[4];Xt!=null&&(g.Aa=Xt,g.j.info("SVER="+g.Aa));let za=Ve[5];za!=null&&typeof za=="number"&&0<za&&(C=1.5*za,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;let gr=l.g;if(gr){let Rh=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rh){var k=C.h;k.g||Rh.indexOf("spdy")==-1&&Rh.indexOf("quic")==-1&&Rh.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(l_(k,k.h),k.h=null))}if(C.D){let g_=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;g_&&(C.ya=g_,tt(C.I,C.D,g_))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var G=l;if(C.qa=nD(C,C.J?C.ia:null,C.W),G.K){TP(C.h,G);var Ge=G,$t=C.L;$t&&(Ge.I=$t),Ge.B&&(s_(Ge),Eh(Ge)),C.g=G}else ZP(C);0<g.i.length&&xh(g)}else Ve[0]!="stop"&&Ve[0]!="close"||Ms(g,7);else g.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ms(g,7):d_(g):Ve[0]!="noop"&&g.l&&g.l.ta(Ve),g.v=0)}}Nl(4)}catch{}}var dL=class{constructor(l,h){this.g=l,this.map=h}};function OP(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SP(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function xP(l){return l.h?1:l.g?l.g.size:0}function c_(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function l_(l,h){l.g?l.g.add(h):l.h=h}function TP(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}OP.prototype.cancel=function(){if(this.i=AP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function AP(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let g of l.g.values())h=h.concat(g.D);return h}return x(l.i)}function hL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,C=0;C<g;C++)h.push(l[C]);return h}h=[],g=0;for(C in l)h[g++]=l[C];return h}function fL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(let C in l)h[g++]=C;return h}}}function RP(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=fL(l),C=hL(l),T=C.length,k=0;k<T;k++)h.call(void 0,C[k],g&&g[k],l)}var kP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gL(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var C=l[g].indexOf("="),T=null;if(0<=C){var k=l[g].substring(0,C);T=l[g].substring(C+1)}else k=l[g];h(k,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Es(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Es){this.h=l.h,Mh(this,l.j),this.o=l.o,this.g=l.g,Ih(this,l.s),this.l=l.l;var h=l.i,g=new Bl;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),NP(this,g),this.m=l.m}else l&&(h=String(l).match(kP))?(this.h=!1,Mh(this,h[1]||"",!0),this.o=jl(h[2]||""),this.g=jl(h[3]||"",!0),Ih(this,h[4]),this.l=jl(h[5]||"",!0),NP(this,h[6]||"",!0),this.m=jl(h[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}Es.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ul(h,FP,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ul(h,FP,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ul(g,g.charAt(0)=="/"?yL:mL,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ul(g,vL)),l.join("")};function Oi(l){return new Es(l)}function Mh(l,h,g){l.j=g?jl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ih(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function NP(l,h,g){h instanceof Bl?(l.i=h,CL(l.i,l.h)):(g||(h=Ul(h,_L)),l.i=new Bl(h,l.h))}function tt(l,h,g){l.i.set(h,g)}function Ph(l){return tt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function jl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ul(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,pL),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function pL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var FP=/[#\/\?@]/g,mL=/[#\?:]/g,yL=/[#\?]/g,_L=/[#\?@]/g,vL=/#/g;function Bl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Co(l){l.g||(l.g=new Map,l.h=0,l.i&&gL(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}n=Bl.prototype,n.add=function(l,h){Co(this),this.i=null,l=Ba(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function LP(l,h){Co(l),h=Ba(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function VP(l,h){return Co(l),h=Ba(l,h),l.g.has(h)}n.forEach=function(l,h){Co(this),this.g.forEach(function(g,C){g.forEach(function(T){l.call(h,T,C,this)},this)},this)},n.na=function(){Co(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let C=0;C<h.length;C++){let T=l[C];for(let k=0;k<T.length;k++)g.push(h[C])}return g},n.V=function(l){Co(this);let h=[];if(typeof l=="string")VP(this,l)&&(h=h.concat(this.g.get(Ba(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},n.set=function(l,h){return Co(this),this.i=null,l=Ba(this,l),VP(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function jP(l,h,g){LP(l,h),0<g.length&&(l.i=null,l.g.set(Ba(l,h),x(g)),l.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var C=h[g];let k=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var T=k;G[C]!==""&&(T+="="+encodeURIComponent(String(G[C]))),l.push(T)}}return this.i=l.join("&")};function Ba(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function CL(l,h){h&&!l.j&&(Co(l),l.i=null,l.g.forEach(function(g,C){var T=C.toLowerCase();C!=T&&(LP(this,C),jP(this,T,g))},l)),l.j=h}function bL(l,h){let g=new Ll;if(a.Image){let C=new Image;C.onload=v(bo,g,"TestLoadImage: loaded",!0,h,C),C.onerror=v(bo,g,"TestLoadImage: error",!1,h,C),C.onabort=v(bo,g,"TestLoadImage: abort",!1,h,C),C.ontimeout=v(bo,g,"TestLoadImage: timeout",!1,h,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else h(!1)}function wL(l,h){let g=new Ll,C=new AbortController,T=setTimeout(()=>{C.abort(),bo(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:C.signal}).then(k=>{clearTimeout(T),k.ok?bo(g,"TestPingServer: ok",!0,h):bo(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),bo(g,"TestPingServer: error",!1,h)})}function bo(l,h,g,C,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),C(g)}catch{}}function EL(){this.g=new oL}function ML(l,h,g){let C=g||"";try{RP(l,function(T,k){let G=T;u(T)&&(G=Xy(T)),h.push(C+k+"="+encodeURIComponent(G))})}catch(T){throw h.push(C+"type="+encodeURIComponent("_badmap")),T}}function $l(l){this.l=l.Ub||null,this.j=l.eb||!1}M($l,e_),$l.prototype.g=function(){return new Dh(this.l,this.j)},$l.prototype.i=function(l){return function(){return l}}({});function Dh(l,h){Zt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Dh,Zt),n=Dh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Hl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;UP(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function UP(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?zl(this):Hl(this),this.readyState==3&&UP(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,zl(this))},n.Qa=function(l){this.g&&(this.response=l,zl(this))},n.ga=function(){this.g&&zl(this)};function zl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Hl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function Hl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function BP(l){let h="";return ye(l,function(g,C){h+=C,h+=":",h+=g,h+=`\r
`}),h}function u_(l,h,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=BP(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):tt(l,h,g))}function gt(l){Zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(gt,Zt);var IL=/^https?$/i,PL=["POST","PUT"];n=gt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():r_.g(),this.v=this.o?mP(this.o):mP(r_),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(k){$P(this,k);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var T in C)g.set(T,C[T]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let k of C.keys())g.set(k,C.get(k));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),T=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PL,h,void 0))||C||T||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,G]of g)this.g.setRequestHeader(k,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qP(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){$P(this,k)}};function $P(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,zP(l),Oh(l)}function zP(l){l.A||(l.A=!0,dn(l,"complete"),dn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,dn(this,"complete"),dn(this,"abort"),Oh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oh(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?HP(this):this.bb())},n.bb=function(){HP(this)};function HP(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Si(l)!=4||l.Z()!=2)){if(l.u&&Si(l)==4)hP(l.Ea,0,l);else if(dn(l,"readystatechange"),Si(l)==4){l.h=!1;try{let G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var C;if(C=G===0){var T=String(l.D).match(kP)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),C=!IL.test(T?T.toLowerCase():"")}g=C}if(g)dn(l,"complete"),dn(l,"success");else{l.m=6;try{var k=2<Si(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",zP(l)}}finally{Oh(l)}}}}function Oh(l,h){if(l.g){qP(l);let g=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||dn(l,"ready");try{g.onreadystatechange=C}catch{}}}function qP(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Si(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),iL(h)}};function WP(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function DL(l){let h={};l=(l.g&&2<=Si(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(Z(l[C]))continue;var g=S(l[C]);let T=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let k=h[T]||[];h[T]=k,k.push(g)}D(h,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function GP(l){this.Aa=0,this.i=[],this.j=new Ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ql("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ql("baseRetryDelayMs",5e3,l),this.cb=ql("retryDelaySeedMs",1e4,l),this.Wa=ql("forwardChannelMaxRetries",2,l),this.wa=ql("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new OP(l&&l.concurrentRequestLimit),this.Da=new EL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=GP.prototype,n.la=8,n.G=1,n.connect=function(l,h,g,C){hn(0),this.W=l,this.H=h||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=nD(this,null,this.W),xh(this)};function d_(l){if(KP(l),l.G==3){var h=l.U++,g=Oi(l.I);if(tt(g,"SID",l.K),tt(g,"RID",h),tt(g,"TYPE","terminate"),Wl(l,g),h=new vo(l,l.j,h),h.L=2,h.v=Ph(Oi(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=rD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Eh(h)}tD(l)}function Sh(l){l.g&&(f_(l),l.g.cancel(),l.g=null)}function KP(l){Sh(l),l.u&&(a.clearTimeout(l.u),l.u=null),Th(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function xh(l){if(!SP(l.h)&&!l.s){l.s=!0;var h=l.Ga;oe||mt(),se||(oe(),se=!0),Oe.add(h,l),l.B=0}}function OL(l,h){return xP(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Fl(y(l.Ga,l,h),eD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let T=new vo(this,this.j,l),k=this.o;if(this.S&&(k?(k=E(k),O(k,this.S)):k=this.S),this.m!==null||this.O||(T.H=k,k=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(h+=C,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=QP(this,T,h),g=Oi(this.I),tt(g,"RID",l),tt(g,"CVER",22),this.D&&tt(g,"X-HTTP-Session-Id",this.D),Wl(this,g),k&&(this.O?h="headers="+encodeURIComponent(String(BP(k)))+"&"+h:this.m&&u_(g,this.m,k)),l_(this.h,T),this.Ua&&tt(g,"TYPE","init"),this.P?(tt(g,"$req",h),tt(g,"SID","null"),T.T=!0,o_(T,g,null)):o_(T,g,h),this.G=2}}else this.G==3&&(l?YP(this,l):this.i.length==0||SP(this.h)||YP(this))};function YP(l,h){var g;h?g=h.l:g=l.U++;let C=Oi(l.I);tt(C,"SID",l.K),tt(C,"RID",g),tt(C,"AID",l.T),Wl(l,C),l.m&&l.o&&u_(C,l.m,l.o),g=new vo(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=QP(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),l_(l.h,g),o_(g,C,h)}function Wl(l,h){l.H&&ye(l.H,function(g,C){tt(h,C,g)}),l.l&&RP({},function(g,C){tt(h,C,g)})}function QP(l,h,g){g=Math.min(l.i.length,g);var C=l.l?y(l.l.Na,l.l,l):null;e:{var T=l.i;let k=-1;for(;;){let G=["count="+g];k==-1?0<g?(k=T[0].g,G.push("ofs="+k)):k=0:G.push("ofs="+k);let Ge=!0;for(let $t=0;$t<g;$t++){let Ve=T[$t].g,Jt=T[$t].map;if(Ve-=k,0>Ve)k=Math.max(0,T[$t].g-100),Ge=!1;else try{ML(Jt,G,"req"+Ve+"_")}catch{C&&C(Jt)}}if(Ge){C=G.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,C}function ZP(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;oe||mt(),se||(oe(),se=!0),Oe.add(h,l),l.v=0}}function h_(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Fl(y(l.Fa,l),eD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,JP(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Fl(y(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Sh(this),JP(this))};function f_(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function JP(l){l.g=new vo(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Oi(l.qa);tt(h,"RID","rpc"),tt(h,"SID",l.K),tt(h,"AID",l.T),tt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&tt(h,"TO",l.ja),tt(h,"TYPE","xmlhttp"),Wl(l,h),l.m&&l.o&&u_(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ph(Oi(h)),g.m=null,g.P=!0,IP(g,l)}n.Za=function(){this.C!=null&&(this.C=null,Sh(this),h_(this),hn(19))};function Th(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function XP(l,h){var g=null;if(l.g==h){Th(l),f_(l),l.g=null;var C=2}else if(c_(l.h,h))g=h.D,TP(l.h,h),C=1;else return;if(l.G!=0){if(h.o)if(C==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var T=l.B;C=Ch(),dn(C,new bP(C,g)),xh(l)}else ZP(l);else if(T=h.s,T==3||T==0&&0<h.X||!(C==1&&OL(l,h)||C==2&&h_(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),T){case 1:Ms(l,5);break;case 4:Ms(l,10);break;case 3:Ms(l,6);break;default:Ms(l,2)}}}function eD(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Ms(l,h){if(l.j.info("Error code "+h),h==2){var g=y(l.fb,l),C=l.Xa;let T=!C;C=new Es(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mh(C,"https"),Ph(C),T?bL(C.toString(),g):wL(C.toString(),g)}else hn(2);l.G=0,l.l&&l.l.sa(h),tD(l),KP(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function tD(l){if(l.G=0,l.ka=[],l.l){let h=AP(l.h);(h.length!=0||l.i.length!=0)&&(R(l.ka,h),R(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function nD(l,h,g){var C=g instanceof Es?Oi(g):new Es(g);if(C.g!="")h&&(C.g=h+"."+C.g),Ih(C,C.s);else{var T=a.location;C=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var k=new Es(null);C&&Mh(k,C),h&&(k.g=h),T&&Ih(k,T),g&&(k.l=g),C=k}return g=l.D,h=l.ya,g&&h&&tt(C,g,h),tt(C,"VER",l.la),Wl(l,C),C}function rD(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new gt(new $l({eb:g})):new gt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function iD(){}n=iD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ah(){}Ah.prototype.g=function(l,h){return new Nn(l,h)};function Nn(l,h){Zt.call(this),this.g=new GP(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!Z(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!Z(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new $a(this)}M(Nn,Zt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){d_(this.g)},Nn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Xy(l),l=g);h.i.push(new dL(h.Ya++,l)),h.G==3&&xh(h)},Nn.prototype.N=function(){this.g.l=null,delete this.j,d_(this.g),delete this.g,Nn.aa.N.call(this)};function oD(l){t_.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}M(oD,t_);function sD(){n_.call(this),this.status=1}M(sD,n_);function $a(l){this.g=l}M($a,iD),$a.prototype.ua=function(){dn(this.g,"a")},$a.prototype.ta=function(l){dn(this.g,new oD(l))},$a.prototype.sa=function(l){dn(this.g,new sD)},$a.prototype.ra=function(){dn(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,PE=io.createWebChannelTransport=function(){return new Ah},IE=io.getStatEventTarget=function(){return Ch()},ME=io.Event=bs,vm=io.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bh.NO_ERROR=0,bh.TIMEOUT=8,bh.HTTP_ERROR=6,Ld=io.ErrorCode=bh,wP.COMPLETE="complete",EE=io.EventType=wP,yP.EventType=kl,kl.OPEN="a",kl.CLOSE="b",kl.ERROR="c",kl.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,el=io.WebChannel=yP,n7=io.FetchXmlHttpFactory=$l,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,wE=io.XhrIo=gt}).apply(typeof _m<"u"?_m:typeof self<"u"?self:typeof window<"u"?window:{});var Uk="@firebase/firestore",Bk="4.8.0";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");var Cl="11.10.0";var Da=new ci("@firebase/firestore");function tl(){return Da.logLevel}function te(n,...e){if(Da.logLevel<=Ae.DEBUG){let t=e.map(gI);Da.debug(`Firestore (${Cl}): ${n}`,...t)}}function oo(n,...e){if(Da.logLevel<=Ae.ERROR){let t=e.map(gI);Da.error(`Firestore (${Cl}): ${n}`,...t)}}function ls(n,...e){if(Da.logLevel<=Ae.WARN){let t=e.map(gI);Da.warn(`Firestore (${Cl}): ${n}`,...t)}}function gI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RN(n,r,t)}function RN(n,e,t){let r=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw oo(r),new Error(r)}function $e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||RN(e,i,r)}function _e(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Pm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},TE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}},AE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},RE=class{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>b(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new Pm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}},kE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},NE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new kE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},FE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r7(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function kN(){return new TextEncoder}var zd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=r7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Ie(n,e){return n<e?-1:n>e?1:0}function LE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ie(r,i);{let o=kN(),s=i7(o.encode($k(n,t)),o.encode($k(e,t)));return s!==0?s:Ie(r,i)}}t+=r>65535?2:1}return Ie(n.length,e.length)}function $k(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function i7(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}function cl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var zk="__name__",Om=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):LE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}},at=class n extends Om{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},o7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qn=class n extends Om{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return o7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zk}static keyField(){return new n([zk])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(at.fromString(e))}static fromName(e){return new n(at.fromString(e).popFirst(5))}static empty(){return new n(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new at(e.slice()))}};function NN(n,e,t){if(!t)throw new Q(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s7(n,e,t,r){if(e===!0&&r===!0)throw new Q(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hk(n){if(!ae.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qk(n){if(ae.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function sy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue(12329,{type:typeof n})}function Rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=sy(n);throw new Q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ot(n,e){let t={typeString:n};return e&&(t.value=e),t}function ih(n,e){if(!FN(n))throw new Q(L.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Q(L.INVALID_ARGUMENT,t);return!0}var Wk=-62135596800,Gk=1e6,St=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Gk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Wk)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gk}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ih(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Wk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Ot("string",St._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};var Ce=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new St(0,0))}static max(){return new n(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hd=-1,VE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};VE.UNKNOWN_ID=-1;function a7(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new Oa(i,ae.empty(),e)}function c7(n){return new Oa(n.readTime,n.key,Hd)}var Oa=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ce.min(),ae.empty(),Hd)}static max(){return new n(Ce.max(),ae.empty(),Hd)}};function l7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}var u7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bl(n){return b(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==u7)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function d7(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wl(n){return n.name==="IndexedDbTransactionError"}var pI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),mI=-1;function ay(n){return n==null}function qd(n){return n===0&&1/n==-1/0}function h7(n){return typeof n=="number"&&Number.isInteger(n)&&!qd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var LN="";function f7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Kk(e)),e=g7(n.get(t),e);return Kk(e)}function g7(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case LN:t+="";break;default:t+=o}}return t}function Kk(n){return n+LN+""}var p7="remoteDocuments",VN="owner";var jN="mutationQueues";var UN="mutations";var BN="documentMutations",m7="remoteDocumentsV14";var $N="remoteDocumentGlobal";var zN="targets";var HN="targetDocuments";var qN="targetGlobal",WN="collectionParents";var GN="clientMetadata";var KN="bundles";var YN="namedQueries";var y7="indexConfiguration";var _7="indexState";var v7="indexEntries";var QN="documentOverlays";var C7="globals";var b7=[jN,UN,BN,p7,zN,VN,qN,HN,GN,$N,WN,KN,YN],Ege=[...b7,QN],w7=[jN,UN,BN,m7,zN,VN,qN,HN,GN,$N,WN,KN,YN,QN],E7=w7,M7=[...E7,y7,_7,v7];var Mge=[...M7,C7];function Yk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ps(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var pt=class n{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}},ol=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}};pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bt=class n{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sm(this.data.getIterator())}getIteratorFrom(e){return new Sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var lr=class n{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Bt(qn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var xm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var un=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};un.EMPTY_BYTE_STRING=new un("");var I7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if($e(!!n,39018),typeof n=="string"){let e=0,t=I7.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}var JN="server_timestamp",XN="__type__",eF="__previous_value__",tF="__local_write_time__";function yI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XN])===null||t===void 0?void 0:t.stringValue)===JN}function cy(n){let e=n.mapValue.fields[eF];return yI(e)?cy(e):e}function Wd(n){let e=so(n.mapValue.fields[tF].timestampValue);return new St(e.seconds,e.nanos)}var UE=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},Tm="(default)",Am=class n{constructor(e,t){this.projectId=e,this.database=t||Tm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Tm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var _I="__type__",nF="__max__",Cm={mapValue:{fields:{__type__:{stringValue:nF}}}},vI="__vector__",ll="value";function us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yI(n)?4:iF(n)?9007199254740991:rF(n)?10:11:ue(28295,{value:n})}function vi(n,e){if(n===e)return!0;let t=us(n);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wd(n).isEqual(Wd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=so(i.timestampValue),a=so(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ao(i.bytesValue).isEqual(ao(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=st(i.doubleValue),a=st(o.doubleValue);return s===a?qd(s)===qd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return cl(n.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Yk(s)!==Yk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!vi(s[c],a[c])))return!1;return!0}(n,e);default:return ue(52216,{left:n})}}function Gd(n,e){return(n.values||[]).find(t=>vi(t,e))!==void 0}function ul(n,e){if(n===e)return 0;let t=us(n),r=us(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=st(o.integerValue||o.doubleValue),c=st(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Qk(n.timestampValue,e.timestampValue);case 4:return Qk(Wd(n),Wd(e));case 5:return LE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ao(o),c=ao(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ie(a[u],c[u]);if(d!==0)return d}return Ie(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ie(st(o.latitude),st(s.latitude));return a!==0?a:Ie(st(o.longitude),st(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Zk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},y=s.fields||{},v=(a=f[ll])===null||a===void 0?void 0:a.arrayValue,M=(c=y[ll])===null||c===void 0?void 0:c.arrayValue,x=Ie(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((d=M?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Zk(v,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Cm.mapValue&&s===Cm.mapValue)return 0;if(o===Cm.mapValue)return 1;if(s===Cm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let y=LE(c[f],d[f]);if(y!==0)return y;let v=ul(a[c[f]],u[d[f]]);if(v!==0)return v}return Ie(c.length,d.length)}(n.mapValue,e.mapValue);default:throw ue(23264,{le:t})}}function Qk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);let t=so(n),r=so(e),i=Ie(t.seconds,r.seconds);return i!==0?i:Ie(t.nanos,r.nanos)}function Zk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ul(t[i],r[i]);if(o)return o}return Ie(t.length,r.length)}function dl(n){return BE(n)}function BE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=so(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=BE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${BE(t.fields[s])}`;return i+"}"}(n.mapValue):ue(61005,{value:n})}function Em(n){switch(us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=cy(n);return e?16+Em(e):16;case 5:return 2*n.stringValue.length;case 6:return ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Em(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ps(r.fields,(o,s)=>{i+=o.length+Em(s)}),i}(n.mapValue);default:throw ue(13486,{value:n})}}function Jk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $E(n){return!!n&&"integerValue"in n}function CI(n){return!!n&&"arrayValue"in n}function Xk(n){return!!n&&"nullValue"in n}function eN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mm(n){return!!n&&"mapValue"in n}function rF(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[_I])===null||t===void 0?void 0:t.stringValue)===vI}function jd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ps(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=jd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nF}var Pge={mapValue:{fields:{[_I]:{stringValue:vI},[ll]:{arrayValue:{}}}}};var Hn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(t)}setAll(e){let t=qn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=jd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ps(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(jd(this.value))}};function oF(n){let e=[];return ps(n.fields,(t,r)=>{let i=new qn([t]);if(Mm(r)){let o=oF(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new lr(e)}var Fr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ce.min(),Ce.min(),Ce.min(),Hn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ce.min(),Ce.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ce.min(),Ce.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hl=class{constructor(e,t){this.position=e,this.inclusive=t}};function tN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),t.key):r=ul(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vi(n.position[t],e.position[t]))return!1;return!0}var Sa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function P7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Rm=class{},Dt=class n extends Rm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new HE(e,t,r):t==="array-contains"?new GE(e,r):t==="in"?new KE(e,r):t==="not-in"?new YE(e,r):t==="array-contains-any"?new QE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qE(e,r):new WE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&us(this.value)===us(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Lr=class n extends Rm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return sF(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function sF(n){return n.op==="and"}function aF(n){return D7(n)&&sF(n)}function D7(n){for(let e of n.filters)if(e instanceof Lr)return!1;return!0}function zE(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+dl(n.value);if(aF(n))return n.filters.map(e=>zE(e)).join(",");{let e=n.filters.map(t=>zE(t)).join(",");return`${n.op}(${e})`}}function cF(n,e){return n instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&vi(r.value,i.value)}(n,e):n instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&cF(s,i.filters[a]),!0):!1}(n,e):void ue(19439)}function lF(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${dl(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(lF).join(" ,")+"}"}(n):"Filter"}var HE=class extends Dt{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},qE=class extends Dt{constructor(e,t){super(e,"in",t),this.keys=uF("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},WE=class extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=uF("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function uF(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ae.fromName(r.referenceValue))}var GE=class extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return CI(t)&&Gd(t.arrayValue,this.value)}},KE=class extends Dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Gd(this.value.arrayValue,t)}},YE=class extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gd(this.value.arrayValue,t)}},QE=class extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!CI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}};var ZE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function rN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ZE(n,e,t,r,i,o,s)}function bI(n){let e=_e(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ay(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dl(r)).join(",")),e.Pe=t}return e.Pe}function wI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nN(n.startAt,e.startAt)&&nN(n.endAt,e.endAt)}function JE(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ds=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function O7(n,e,t,r,i,o,s,a){return new ds(n,e,t,r,i,o,s,a)}function ly(n){return new ds(n)}function iN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dF(n){return n.collectionGroup!==null}function Ud(n){let e=_e(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bt(qn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Sa(o,r))}),t.has(qn.keyField().canonicalString())||e.Te.push(new Sa(qn.keyField(),r))}return e.Te}function mi(n){let e=_e(n);return e.Ie||(e.Ie=S7(e,Ud(n))),e.Ie}function S7(n,e){if(n.limitType==="F")return rN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Sa(i.field,o)});let t=n.endAt?new hl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hl(n.startAt.position,n.startAt.inclusive):null;return rN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function XE(n,e){let t=n.filters.concat([e]);return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eM(n,e,t){return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uy(n,e){return wI(mi(n),mi(e))&&n.limitType===e.limitType}function hF(n){return`${bI(mi(n))}|lt:${n.limitType}`}function nl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lF(i)).join(", ")}]`),ay(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>dl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(mi(n))}; limitType=${n.limitType})`}function dy(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ud(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=tN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Ud(r),i)||r.endAt&&!function(s,a,c){let u=tN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Ud(r),i))}(n,e)}function x7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fF(n){return(e,t)=>{let r=!1;for(let i of Ud(n)){let o=T7(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function T7(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ul(c,u):ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:n.dir})}}var co=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZN(this.inner)}size(){return this.innerSize}};var A7=new pt(ae.comparator);function lo(){return A7}var gF=new pt(ae.comparator);function Vd(...n){let e=gF;for(let t of n)e=e.insert(t.key,t);return e}function pF(n){let e=gF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wa(){return Bd()}function mF(){return Bd()}function Bd(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}var R7=new pt(ae.comparator),k7=new Bt(ae.comparator);function ke(...n){let e=k7;for(let t of n)e=e.add(t);return e}var N7=new Bt(Ie);function F7(){return N7}function EI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function yF(n){return{integerValue:""+n}}function L7(n,e){return h7(e)?yF(e):EI(n,e)}var fl=class{constructor(){this._=void 0}};function V7(n,e,t){return n instanceof gl?function(i,o){let s={fields:{[XN]:{stringValue:JN},[tF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yI(o)&&(o=cy(o)),o&&(s.fields[eF]=o),{mapValue:s}}(t,e):n instanceof xa?vF(n,e):n instanceof Ta?CF(n,e):function(i,o){let s=_F(i,o),a=oN(s)+oN(i.Ee);return $E(s)&&$E(i.Ee)?yF(a):EI(i.serializer,a)}(n,e)}function j7(n,e,t){return n instanceof xa?vF(n,e):n instanceof Ta?CF(n,e):t}function _F(n,e){return n instanceof pl?function(r){return $E(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gl=class extends fl{},xa=class extends fl{constructor(e){super(),this.elements=e}};function vF(n,e){let t=bF(e);for(let r of n.elements)t.some(i=>vi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ta=class extends fl{constructor(e){super(),this.elements=e}};function CF(n,e){let t=bF(e);for(let r of n.elements)t=t.filter(i=>!vi(i,r));return{arrayValue:{values:t}}}var pl=class extends fl{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function oN(n){return st(n.integerValue||n.doubleValue)}function bF(n){return CI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function U7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof xa&&i instanceof xa||r instanceof Ta&&i instanceof Ta?cl(r.elements,i.elements,vi):r instanceof pl&&i instanceof pl?vi(r.Ee,i.Ee):r instanceof gl&&i instanceof gl}(n.transform,e.transform)}var tM=class{constructor(e,t){this.version=e,this.transformResults=t}},yi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Im(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ml=class{};function wF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kd(n.key,yi.none()):new Aa(n.key,n.data,yi.none());{let t=n.data,r=Hn.empty(),i=new Bt(qn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ci(n.key,r,new lr(i.toArray()),yi.none())}}function B7(n,e,t){n instanceof Aa?function(i,o,s){let a=i.value.clone(),c=aN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ci?function(i,o,s){if(!Im(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=aN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(EF(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function $d(n,e,t,r){return n instanceof Aa?function(o,s,a,c){if(!Im(o.precondition,s))return a;let u=o.value.clone(),d=cN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ci?function(o,s,a,c){if(!Im(o.precondition,s))return a;let u=cN(o.fieldTransforms,c,s),d=s.data;return d.setAll(EF(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return Im(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function $7(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=_F(r.transform,i||null);o!=null&&(t===null&&(t=Hn.empty()),t.set(r.field,o))}return t||null}function sN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cl(r,i,(o,s)=>U7(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Aa=class extends ml{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ci=class extends ml{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function EF(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function aN(n,e,t){let r=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,j7(s,a,t[i]))}return r}function cN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,V7(o,s,e))}return r}var Kd=class extends ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},nM=class extends ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var rM=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&B7(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=$d(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=$d(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=mF();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=wF(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(t,r)=>sN(t,r))&&cl(this.baseMutations,e.baseMutations,(t,r)=>sN(t,r))}},iM=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return R7}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var oM=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sM=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var It,Fe;function z7(n){switch(n){case L.OK:return ue(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ue(15467,{code:n})}}function MF(n){if(n===void 0)return oo("GRPC error has no .code"),L.UNKNOWN;switch(n){case It.OK:return L.OK;case It.CANCELLED:return L.CANCELLED;case It.UNKNOWN:return L.UNKNOWN;case It.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case It.INTERNAL:return L.INTERNAL;case It.UNAVAILABLE:return L.UNAVAILABLE;case It.UNAUTHENTICATED:return L.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case It.NOT_FOUND:return L.NOT_FOUND;case It.ALREADY_EXISTS:return L.ALREADY_EXISTS;case It.PERMISSION_DENIED:return L.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case It.ABORTED:return L.ABORTED;case It.OUT_OF_RANGE:return L.OUT_OF_RANGE;case It.UNIMPLEMENTED:return L.UNIMPLEMENTED;case It.DATA_LOSS:return L.DATA_LOSS;default:return ue(39323,{code:n})}}(Fe=It||(It={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var lN=null;var H7=new ro([4294967295,4294967295],0);function uN(n){let e=kN().encode(n),t=new bE;return t.update(e),new Uint8Array(t.digest())}function dN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ro([t,r],0),new ro([i,o],0)]}var aM=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ea(`Invalid padding: ${t}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ro.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ro.fromNumber(r)));return i.compare(H7)===1&&(i=new ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=uN(e),[r,i]=dN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=uN(e),[r,i]=dN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ea=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var km=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ce.min(),i,new pt(Ie),lo(),ke())}},Yd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ke(),ke(),ke())}};var sl=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Nm=class{constructor(e,t){this.targetId=e,this.De=t}},Fm=class{constructor(e,t,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Lm=class{constructor(){this.ve=0,this.Ce=hN(),this.Fe=un.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),r=ke();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:o})}}),new Yd(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=hN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},cM=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=lo(),this.je=bm(),this.Je=bm(),this.He=new pt(Ie)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(JE(o))if(r===0){let s=new ae(o.path);this.Xe(t,s,Fr.newNoDocument(s,Ce.min()))}else $e(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}lN?.ct(function(d,f,y,v,M){var x,R,B,Z,ee,ie;let Ue={localCacheCount:d,existenceFilterCount:f.count,databaseId:y.database,projectId:y.projectId},ye=f.unchangedNames;return ye&&(Ue.bloomFilter={applied:M===0,hashCount:(x=ye?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(Z=(B=(R=ye?.bits)===null||R===void 0?void 0:R.bitmap)===null||B===void 0?void 0:B.length)!==null&&Z!==void 0?Z:0,padding:(ie=(ee=ye?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ie!==void 0?ie:0,mightContain:D=>{var E;return(E=v?.mightContain(D))!==null&&E!==void 0&&E}}),Ue}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ao(r).toUint8Array()}catch(c){if(c instanceof xm)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new aM(s,i,o)}catch(c){return ls(c instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&JE(a.target)){let c=new ae(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Fr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ke();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new km(e,t,this.He,this.ze,r);return this.ze=lo(),this.je=bm(),this.Je=bm(),this.He=new pt(Ie),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Lm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Bt(Ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Bt(Ie),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Lm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function bm(){return new pt(ae.comparator)}function hN(){return new pt(ae.comparator)}var q7={asc:"ASCENDING",desc:"DESCENDING"},W7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G7={and:"AND",or:"OR"},lM=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function uM(n,e){return n.useProto3Json||ay(e)?e:{value:e}}function Vm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K7(n,e){return Vm(n,e.toTimestamp())}function _i(n){return $e(!!n,49232),Ce.fromTimestamp(function(t){let r=so(t);return new St(r.seconds,r.nanos)}(n))}function MI(n,e){return dM(n,e).canonicalString()}function dM(n,e){let t=function(i){return new at(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PF(n){let e=at.fromString(n);return $e(TF(e),10190,{key:e.toString()}),e}function hM(n,e){return MI(n.databaseId,e.path)}function DE(n,e){let t=PF(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(OF(t))}function DF(n,e){return MI(n.databaseId,e)}function Y7(n){let e=PF(n);return e.length===4?at.emptyPath():OF(e)}function fM(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OF(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fN(n,e,t){return{name:hM(n,e),fields:t.value.mapValue.fields}}function Q7(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string",58123),un.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),un.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?L.UNKNOWN:MF(u.code);return new Q(d,u.message||"")}(s);t=new Fm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=DE(n,r.document.name),o=_i(r.document.updateTime),s=r.document.createTime?_i(r.document.createTime):Ce.min(),a=new Hn({mapValue:{fields:r.document.fields}}),c=Fr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new sl(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=DE(n,r.document),o=r.readTime?_i(r.readTime):Ce.min(),s=Fr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new sl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=DE(n,r.document),o=r.removedTargetIds||[];t=new sl([],o,i,null)}else{if(!("filter"in e))return ue(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new sM(i,o),a=r.targetId;t=new Nm(a,s)}}return t}function Z7(n,e){let t;if(e instanceof Aa)t={update:fN(n,e.key,e.value)};else if(e instanceof Kd)t={delete:hM(n,e.key)};else if(e instanceof Ci)t={update:fN(n,e.key,e.data),updateMask:sq(e.fieldMask)};else{if(!(e instanceof nM))return ue(16599,{Rt:e.type});t={verify:hM(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof gl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ue(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:K7(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue(27497)}(n,e.precondition)),t}function J7(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?_i(i.updateTime):_i(o);return s.isEqual(Ce.min())&&(s=_i(o)),new tM(s,i.transformResults||[])}(t,e))):[]}function X7(n,e){return{documents:[DF(n,e.path)]}}function eq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DF(n,i);let o=function(u){if(u.length!==0)return xF(Lr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(y){return{field:rl(y.field),direction:rq(y.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=uM(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function tq(n){let e=Y7(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$e(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let y=SF(f);return y instanceof Lr&&aF(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(y=>function(M){return new Sa(il(M.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(f){let y;return y=typeof f=="object"?f.value:f,ay(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(f){let y=!!f.before,v=f.values||[];return new hl(v,y)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let y=!f.before,v=f.values||[];return new hl(v,y)}(t.endAt)),O7(e,i,s,o,a,"F",c,u)}function nq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SF(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=il(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=il(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=il(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=il(t.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(il(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(r=>SF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(t.compositeFilter.op))}(n):ue(30097,{filter:n})}function rq(n){return q7[n]}function iq(n){return W7[n]}function oq(n){return G7[n]}function rl(n){return{fieldPath:n.canonicalString()}}function il(n){return qn.fromServerFormat(n.fieldPath)}function xF(n){return n instanceof Dt?function(t){if(t.op==="=="){if(eN(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NAN"}};if(Xk(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eN(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NAN"}};if(Xk(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(t.field),op:iq(t.op),value:t.value}}}(n):n instanceof Lr?function(t){let r=t.getFilters().map(i=>xF(i));return r.length===1?r[0]:{compositeFilter:{op:oq(t.op),filters:r}}}(n):ue(54877,{filter:n})}function sq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qd=class n{constructor(e,t,r,i,o=Ce.min(),s=Ce.min(),a=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var gM=class{constructor(e){this.gt=e}};function aq(n){let e=tq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eM(e,e.limit,"L"):e}var jm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(st(e.integerValue));else if("doubleValue"in e){let r=st(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),qd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=so(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ao(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?iF(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):rF(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ue(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ll,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(st(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ae.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};jm.Ut=new jm;var pM=class{constructor(){this.Dn=new mM}addToCollectionParentIndex(e,t){return this.Dn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Oa.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},mM=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bt(at.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}};var Dge=new Uint8Array(0);var gN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AF=41943040,cr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(AF,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);var Zd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var pN="LruGarbageCollector",cq=1048576;function mN([n,e],[t,r]){let i=Ie(n,t);return i===0?Ie(e,r):i}var yM=class{constructor(e){this.Tr=e,this.buffer=new Bt(mN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();mN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},_M=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(pN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){wl(t)?te(pN,"Ignoring IndexedDB error during garbage collection: ",t):yield bl(t)}yield this.Rr(3e5)}))}},vM=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $.resolve(pI.ue);let r=new yM(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(gN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),tl()<=Ae.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function lq(n,e){return new vM(n,e)}var CM=class{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var bM=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var wM=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&$d(r.mutation,i,lr.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){let i=wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Vd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=lo(),s=Bd(),a=function(){return Bd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ci)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),$d(d.mutation,u,d.mutation.getFieldMask(),St.now())):s.set(u.key,lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new bM(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Bd(),i=new pt((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||lr.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||ke()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=mF();d.forEach(y=>{if(!o.has(y)){let v=wF(t.get(y),r.get(y));v!==null&&f.set(y,v),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(wa()),a=Hd,c=o;return s.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{c=c.insert(d,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ke())).next(d=>({batchId:a,changes:pF(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=Vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Vd();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,c=>{let u=function(f,y){return new ds(y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,y)=>{s=s.insert(f,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Fr.newInvalidDocument(d)))});let a=Vd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&$d(d.mutation,u,lr.empty(),St.now()),dy(t,u)&&(a=a.insert(c,u))}),a})}};var EM=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return $.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:_i(i.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:aq(i.bundledQuery),readTime:_i(i.readTime)}}(t)),$.resolve()}};var MM=class{constructor(){this.overlays=new pt(ae.comparator),this.kr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=wa();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=wa(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new pt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=wa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=wa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oM(t,r));let o=this.kr.get(t);o===void 0&&(o=ke(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var IM=class{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var Jd=class{constructor(){this.qr=new Bt(Pt.Qr),this.$r=new Bt(Pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Pt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Pt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ae(new at([])),r=new Pt(t,e),i=new Pt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ae(new at([])),r=new Pt(t,e),i=new Pt(t,e+1),o=ke();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Pt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Pt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ae.comparator(e.key,t.key)||Ie(e.Hr,t.Hr)}static Ur(e,t){return Ie(e.Hr,t.Hr)||ae.comparator(e.key,t.key)}};var PM=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Bt(Pt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new rM(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?mI:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Pt(t,0),i=new Pt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Ie);return t.forEach(i=>{let o=new Pt(i,0),s=new Pt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ae.isDocumentKey(o)||(o=o.child(""));let s=new Pt(new ae(o),0),a=new Bt(Ie);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),$.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(t.mutations,i=>{let o=new Pt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Pt(t,0),i=this.Yr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var DM=class{constructor(e){this.ni=e,this.docs=function(){return new pt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():Fr.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fr.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=lo(),s=t.path,a=new ae(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||l7(c7(d),r)<=0||(i.has(d.key)||dy(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue(9500)}ri(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new OM(this)}getSize(e){return $.resolve(this.size)}},OM=class extends CM{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var SM=class{constructor(e){this.persistence=e,this.ii=new co(t=>bI(t),wI),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new Jd,this.targetCount=0,this._i=Zd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),$.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Zd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.hr(t),$.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.oi.containsKey(t))}};var Um=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new pI(0),this.ci=!1,this.ci=!0,this.li=new IM,this.referenceDelegate=e(this),this.hi=new SM(this),this.indexManager=new pM,this.remoteDocumentCache=function(i){return new DM(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new gM(t),this.Ti=new EM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new PM(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new xM(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return $.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},xM=class extends jE{constructor(e){super(),this.currentSequenceNumber=e}},TM=class n{constructor(e){this.persistence=e,this.Ai=new Jd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ue(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,r=>{let i=ae.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Ce.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return $.or([()=>$.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Bm=class n{constructor(e,t){this.persistence=e,this.gi=new co(r=>f7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return $.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?$.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Em(e.data.value)),t}Sr(e,t,r){return $.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var AM=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ke(),i=ke();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var RM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kM=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return iR()?8:d7(jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new RM;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(tl()<=Ae.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(tl()<=Ae.DEBUG&&te("QueryEngine","Query:",nl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(tl()<=Ae.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):$.resolve())}ps(e,t){if(iN(t))return $.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=eM(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ke(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,eM(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return iN(t)||i.isEqual(Ce.min())?$.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?$.resolve(null):(tl()<=Ae.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nl(t)),this.vs(e,s,t,a7(i,Hd)).next(a=>a))})}bs(e,t){let r=new Bt(fF(e));return t.forEach((i,o)=>{dy(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return tl()<=Ae.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",nl(t)),this.gs.getDocumentsMatchingQuery(e,t,Oa.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var II="LocalStore",uq=3e8,NM=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new pt(Ie),this.Ms=new co(o=>bI(o),wI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function dq(n,e,t,r){return new NM(n,e,t,r)}function RF(n,e){return b(this,null,function*(){let t=_e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ke();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function hq(n,e){let t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,y=f.keys(),v=$.resolve();return y.forEach(M=>{v=v.next(()=>d.getEntry(c,M)).next(x=>{let R=u.docVersions.get(M);$e(R!==null,48541),x.version.compareTo(R)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function kF(n){let e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function fq(n,e){let t=_e(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let y=i.get(f);if(!y)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(un.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(x,R,B){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=uq?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(y,v,d)&&a.push(t.hi.updateTargetData(o,v))});let c=lo(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(gq(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(Ce.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function gq(n,e,t){let r=ke(),i=ke();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=lo();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ce.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te(II,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function pq(n,e){let t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mq(n,e){let t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Qd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function FM(n,e,t){return b(this,null,function*(){let r=_e(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wl(s))throw s;te(II,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function yN(n,e,t){let r=_e(n),i=Ce.min(),o=ke();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=_e(c),y=f.Ms.get(d);return y!==void 0?$.resolve(f.Fs.get(y)):f.hi.getTargetData(u,d)}(r,s,mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Ce.min(),t?o:ke())).next(a=>(yq(r,x7(e),a),{documents:a,qs:o})))}function yq(n,e,t){let r=n.xs.get(e)||Ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var $m=class{constructor(){this.activeTargetIds=F7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var LM=class{constructor(){this.Fo=new $m,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $m,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var VM=class{xo(e){}shutdown(){}};var _N="ConnectivityMonitor",zm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(_N,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){te(_N,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wm=null;function jM(){return wm===null?wm=function(){return 268435456+Math.round(2147483648*Math.random())}():wm++,"0x"+wm.toString(16)}var OE="RestConnection",_q={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},UM=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Tm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=jM(),a=this.Go(e,t.toUriEncodedString());te(OE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=si(u);return this.jo(e,a,c,r,d).then(f=>(te(OE,`Received RPC '${e}' ${s}: `,f),f),f=>{throw ls(OE,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=_q[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var BM=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ln="WebChannelConnection",$M=class extends UM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=jM();return new Promise((a,c)=>{let u=new wE;u.setWithCredentials(!0),u.listenOnce(EE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ld.NO_ERROR:let f=u.getResponseJson();te(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ld.TIMEOUT:te(ln,`RPC '${e}' ${s} timed out`),c(new Q(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:let y=u.getStatus();if(te(ln,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let M=v?.error;if(M&&M.status&&M.message){let x=function(B){let Z=B.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(Z)>=0?Z:L.UNKNOWN}(M.status);c(new Q(x,M.message))}else c(new Q(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Q(L.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(ln,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);te(ln,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=jM(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PE(),a=IE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");te(ln,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let y=!1,v=!1,M=new BM({Ho:R=>{v?te(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(te(ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),y=!0),te(ln,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Yo:()=>f.close()}),x=(R,B,Z)=>{R.listen(B,ee=>{try{Z(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return x(f,el.EventType.OPEN,()=>{v||(te(ln,`RPC '${e}' stream ${i} transport opened.`),M.s_())}),x(f,el.EventType.CLOSE,()=>{v||(v=!0,te(ln,`RPC '${e}' stream ${i} transport closed`),M.__(),this.I_(f))}),x(f,el.EventType.ERROR,R=>{v||(v=!0,ls(ln,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),M.__(new Q(L.UNAVAILABLE,"The operation could not be completed")))}),x(f,el.EventType.MESSAGE,R=>{var B;if(!v){let Z=R.data[0];$e(!!Z,16349);let ee=Z,ie=ee?.error||((B=ee[0])===null||B===void 0?void 0:B.error);if(ie){te(ln,`RPC '${e}' stream ${i} received error:`,ie);let Ue=ie.status,ye=function(I){let O=It[I];if(O!==void 0)return MF(O)}(Ue),D=ie.message;ye===void 0&&(ye=L.INTERNAL,D="Unknown error status: "+Ue+" with message "+ie.message),v=!0,M.__(new Q(ye,D)),f.close()}else te(ln,`RPC '${e}' stream ${i} received:`,Z),M.a_(Z)}}),x(a,ME.STAT_EVENT,R=>{R.stat===vm.PROXY?te(ln,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vm.NOPROXY&&te(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function SE(){return typeof document<"u"?document:null}function hy(n){return new lM(n,!0)}var Hm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var vN="PersistentStream",qm=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Hm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(oo(t.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new Q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return te(vN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(te(vN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zM=class extends qm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Q7(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ce.min():s.readTime?_i(s.readTime):Ce.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=fM(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=JE(c)?{documents:X7(o,c)}:{query:eq(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IF(o,s.resumeToken);let u=uM(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Vm(o,s.snapshotVersion.toTimestamp());let u=uM(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=nq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=fM(this.serializer),t.removeTarget=e,this.k_(t)}},HM=class extends qm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=J7(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=fM(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Z7(this.serializer,r))};this.k_(t)}};var qM=class{},WM=class extends qM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,dM(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(L.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,dM(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(L.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},GM=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oo(t),this._a=!1):te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ra="RemoteStore",KM=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){ka(this)&&(te(Ra,"Restarting streams for network reachability change."),yield function(c){return b(this,null,function*(){let u=_e(c);u.Ia.add(4),yield oh(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield fy(u)})}(this))}))}),this.Aa=new GM(r,i)}};function fy(n){return b(this,null,function*(){if(ka(n))for(let e of n.da)yield e(!0)})}function oh(n){return b(this,null,function*(){for(let e of n.da)yield e(!1)})}function NF(n,e){let t=_e(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),SI(t)?OI(t):El(t).x_()&&DI(t,e))}function PI(n,e){let t=_e(n),r=El(t);t.Ta.delete(e),r.x_()&&FF(t,e),t.Ta.size===0&&(r.x_()?r.B_():ka(t)&&t.Aa.set("Unknown"))}function DI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(n).H_(e)}function FF(n,e){n.Ra.$e(e),El(n).Y_(e)}function OI(n){n.Ra=new cM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),El(n).start(),n.Aa.aa()}function SI(n){return ka(n)&&!El(n).M_()&&n.Ta.size>0}function ka(n){return _e(n).Ia.size===0}function LF(n){n.Ra=void 0}function vq(n){return b(this,null,function*(){n.Aa.set("Online")})}function Cq(n){return b(this,null,function*(){n.Ta.forEach((e,t)=>{DI(n,e)})})}function bq(n,e){return b(this,null,function*(){LF(n),SI(n)?(n.Aa.la(e),OI(n)):n.Aa.set("Unknown")})}function wq(n,e,t){return b(this,null,function*(){if(n.Aa.set("Online"),e instanceof Fm&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){te(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wm(n,r)}else if(e instanceof sl?n.Ra.Ye(e):e instanceof Nm?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ce.min()))try{let r=yield kF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(un.EMPTY_BYTE_STRING,d.snapshotVersion)),FF(o,c);let f=new Qd(d.target,c,u,d.sequenceNumber);DI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){te(Ra,"Failed to raise snapshot:",r),yield Wm(n,r)}})}function Wm(n,e,t){return b(this,null,function*(){if(!wl(e))throw e;n.Ia.add(1),yield oh(n),n.Aa.set("Offline"),t||(t=()=>kF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){te(Ra,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield fy(n)}))})}function VF(n,e){return e().catch(t=>Wm(n,t,e))}function gy(n){return b(this,null,function*(){let e=_e(n),t=hs(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:mI;for(;Eq(e);)try{let i=yield pq(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,Mq(e,i)}catch(i){yield Wm(e,i)}jF(e)&&UF(e)})}function Eq(n){return ka(n)&&n.Pa.length<10}function Mq(n,e){n.Pa.push(e);let t=hs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function jF(n){return ka(n)&&!hs(n).M_()&&n.Pa.length>0}function UF(n){hs(n).start()}function Iq(n){return b(this,null,function*(){hs(n).na()})}function Pq(n){return b(this,null,function*(){let e=hs(n);for(let t of n.Pa)e.X_(t.mutations)})}function Dq(n,e,t){return b(this,null,function*(){let r=n.Pa.shift(),i=iM.from(r,e,t);yield VF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gy(n)})}function Oq(n,e){return b(this,null,function*(){e&&hs(n).Z_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return z7(s)&&s!==L.ABORTED}(i.code)){let o=r.Pa.shift();hs(r).N_(),yield VF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gy(r)}})}(n,e)),jF(n)&&UF(n)})}function CN(n,e){return b(this,null,function*(){let t=_e(n);t.asyncQueue.verifyOperationInProgress(),te(Ra,"RemoteStore received new credentials");let r=ka(t);t.Ia.add(3),yield oh(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield fy(t)})}function Sq(n,e){return b(this,null,function*(){let t=_e(n);e?(t.Ia.delete(2),yield fy(t)):e||(t.Ia.add(2),yield oh(t),t.Aa.set("Unknown"))})}function El(n){return n.Va||(n.Va=function(t,r,i){let o=_e(t);return o.ia(),new zM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:vq.bind(null,n),e_:Cq.bind(null,n),n_:bq.bind(null,n),J_:wq.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.Va.N_(),SI(n)?OI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),LF(n))}))),n.Va}function hs(n){return n.ma||(n.ma=function(t,r,i){let o=_e(t);return o.ia(),new HM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Iq.bind(null,n),n_:Oq.bind(null,n),ea:Pq.bind(null,n),ta:Dq.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.ma.N_(),yield gy(n)):(yield n.ma.stop(),n.Pa.length>0&&(te(Ra,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var YM=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xI(n,e){if(oo("AsyncQueue",`${e}: ${n}`),wl(n))return new Q(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Gm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=Vd(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Km=class{constructor(){this.fa=new pt(ae.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},yl=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Gm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var QM=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},ZM=class{constructor(){this.queries=bN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=_e(t),o=i.queries;i.queries=bN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new Q(L.ABORTED,"Firestore shutting down"))}};function bN(){return new co(n=>hF(n),uy)}function TI(n,e){return b(this,null,function*(){let t=_e(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new QM,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=xI(s,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&RI(t)})}function AI(n,e){return b(this,null,function*(){let t=_e(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function xq(n,e){let t=_e(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&RI(t)}function Tq(n,e,t){let r=_e(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function RI(n){n.Da.forEach(e=>{e.next()})}var JM,wN;(wN=JM||(JM={})).Fa="default",wN.Cache="cache";var Xd=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==JM.Cache}};var Ym=class{constructor(e){this.key=e}},Qm=class{constructor(e){this.key=e}},XM=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=fF(e),this.eu=new Gm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Km,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let y=i.get(d),v=dy(this.query,f)?f:null,M=!!y&&this.mutatedKeys.has(y.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;y&&v?y.data.isEqual(v.data)?M!==x&&(r.track({type:3,doc:v}),R=!0):this.iu(y,v)||(r.track({type:2,doc:v}),R=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),R=!0):y&&!v&&(r.track({type:1,doc:y}),R=!0,(c||u)&&(a=!0)),R&&(v?(s=s.add(v),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>function(v,M){let x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{At:R})}};return x(v)-x(M)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new yl(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Km,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Qm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Ym(r))}),t}uu(e){this.Ha=e.qs,this.Za=ke();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return yl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},kI="SyncEngine",eI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},tI=class{constructor(e){this.key=e,this.lu=!1}},nI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new co(a=>hF(a),uy),this.Tu=new Map,this.Iu=new Set,this.du=new pt(ae.comparator),this.Eu=new Map,this.Au=new Jd,this.Ru={},this.Vu=new Map,this.mu=Zd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Aq(n,e,t=!0){return b(this,null,function*(){let r=WF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield BF(r,e,t,!0),i})}function Rq(n,e){return b(this,null,function*(){let t=WF(n);yield BF(t,e,!0,!1)})}function BF(n,e,t,r){return b(this,null,function*(){let i=yield mq(n.localStore,mi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield kq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&NF(n.remoteStore,i),a})}function kq(n,e,t,r,i){return b(this,null,function*(){n.gu=(f,y,v)=>function(x,R,B,Z){return b(this,null,function*(){let ee=R.view.nu(B);ee.Ds&&(ee=yield yN(x.localStore,R.query,!1).then(({documents:D})=>R.view.nu(D,ee)));let ie=Z&&Z.targetChanges.get(R.targetId),Ue=Z&&Z.targetMismatches.get(R.targetId)!=null,ye=R.view.applyChanges(ee,x.isPrimaryClient,ie,Ue);return MN(x,R.targetId,ye._u),ye.snapshot})}(n,f,y,v);let o=yield yN(n.localStore,e,!0),s=new XM(e,o.qs),a=s.nu(o.documents),c=Yd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);MN(n,t,u._u);let d=new eI(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function Nq(n,e,t){return b(this,null,function*(){let r=_e(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!uy(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield FM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&PI(r.remoteStore,i.targetId),rI(r,i.targetId)}).catch(bl))):(rI(r,i.targetId),yield FM(r.localStore,i.targetId,!0))})}function Fq(n,e){return b(this,null,function*(){let t=_e(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),PI(t.remoteStore,r.targetId))})}function Lq(n,e,t){return b(this,null,function*(){let r=Hq(n);try{let i=yield function(s,a){let c=_e(s),u=St.now(),d=a.reduce((v,M)=>v.add(M.key),ke()),f,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let M=lo(),x=ke();return c.Os.getEntries(v,d).next(R=>{M=R,M.forEach((B,Z)=>{Z.isValidDocument()||(x=x.add(B))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,M)).next(R=>{f=R;let B=[];for(let Z of a){let ee=$7(Z,f.get(Z.key).overlayedDocument);ee!=null&&B.push(new Ci(Z.key,ee,oF(ee.value.mapValue),yi.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,B,a)}).next(R=>{y=R;let B=R.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(v,R.batchId,B)})}).then(()=>({batchId:y.batchId,changes:pF(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new pt(Ie)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield sh(r,i.changes),yield gy(r.remoteStore)}catch(i){let o=xI(i,"Failed to persist write");t.reject(o)}})}function $F(n,e){return b(this,null,function*(){let t=_e(n);try{let r=yield fq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?$e(s.lu,14607):i.removedDocuments.size>0&&($e(s.lu,42227),s.lu=!1))}),yield sh(t,r,e)}catch(r){yield bl(r)}})}function EN(n,e,t){let r=_e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=_e(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let y of f.wa)y.va(a)&&(u=!0)}),u&&RI(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vq(n,e,t){return b(this,null,function*(){let r=_e(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new pt(ae.comparator);s=s.insert(o,Fr.newNoDocument(o,Ce.min()));let a=ke().add(o),c=new km(Ce.min(),new Map,new pt(Ie),s,a);yield $F(r,c),r.du=r.du.remove(o),r.Eu.delete(e),NI(r)}else yield FM(r.localStore,e,!1).then(()=>rI(r,e,t)).catch(bl)})}function jq(n,e){return b(this,null,function*(){let t=_e(n),r=e.batch.batchId;try{let i=yield hq(t.localStore,e);HF(t,r,null),zF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield sh(t,i)}catch(i){yield bl(i)}})}function Uq(n,e,t){return b(this,null,function*(){let r=_e(n);try{let i=yield function(s,a){let c=_e(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>($e(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);HF(r,e,t),zF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield sh(r,i)}catch(i){yield bl(i)}})}function zF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function HF(n,e,t){let r=_e(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function rI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||qF(n,r)})}function qF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(PI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),NI(n))}function MN(n,e,t){for(let r of t)r instanceof Ym?(n.Au.addReference(r.key,e),Bq(n,r)):r instanceof Qm?(te(kI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||qF(n,r.key)):ue(19791,{yu:r})}function Bq(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(te(kI,"New document in limbo: "+t),n.Iu.add(r),NI(n))}function NI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ae(at.fromString(e)),r=n.mu.next();n.Eu.set(r,new tI(t)),n.du=n.du.insert(t,r),NF(n.remoteStore,new Qd(mi(ly(t.path)),r,"TargetPurposeLimboResolution",pI.ue))}}function sh(n,e,t){return b(this,null,function*(){let r=_e(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=AM.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return b(this,null,function*(){let d=_e(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,y=>$.forEach(y.Is,v=>d.persistence.referenceDelegate.addReference(f,y.targetId,v)).next(()=>$.forEach(y.ds,v=>d.persistence.referenceDelegate.removeReference(f,y.targetId,v)))))}catch(f){if(!wl(f))throw f;te(II,"Failed to update sequence numbers: "+f)}for(let f of u){let y=f.targetId;if(!f.fromCache){let v=d.Fs.get(y),M=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(M);d.Fs=d.Fs.insert(y,x)}}})}(r.localStore,o))})}function $q(n,e){return b(this,null,function*(){let t=_e(n);if(!t.currentUser.isEqual(e)){te(kI,"User change. New user:",e.toKey());let r=yield RF(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new Q(L.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sh(t,r.Bs)}})}function zq(n,e){let t=_e(n),r=t.Eu.get(e);if(r&&r.lu)return ke().add(r.key);{let i=ke(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function WF(n){let e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$F.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vq.bind(null,e),e.hu.J_=xq.bind(null,e.eventManager),e.hu.pu=Tq.bind(null,e.eventManager),e}function Hq(n){let e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uq.bind(null,e),e}var GF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=hy(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return dq(this.persistence,new kM,t.initialUser,this.serializer)}Du(t){return new Um(TM.Vi,this.serializer)}bu(t){return new LM}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),iI=class extends GF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof Bm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new _M(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new Um(r=>Bm.Vi(r,t),this.serializer)}};var qq=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$q.bind(null,this.syncEngine),yield Sq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new ZM}()}createDatastore(t){let r=hy(t.databaseInfo.databaseId),i=function(s){return new $M(s)}(t.databaseInfo);return function(s,a,c,u){return new WM(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new KM(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>EN(this.syncEngine,r,0),function(){return zm.C()?new zm:new VM}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let y=new nI(o,s,a,c,u,d);return f&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=_e(o);te(Ra,"RemoteStore shutting down."),s.Ia.add(5),yield oh(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var eh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var fs="FirestoreClient",oI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){te(fs,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te(fs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=xI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function xE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te(fs,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield RF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ls("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ls("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function IN(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Wq(n);te(fs,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>CN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>CN(e.remoteStore,i)),n._onlineComponents=e})}function Wq(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(fs,"Using user provided OfflineComponentProvider");try{yield xE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ls("Error using user provided cache. Falling back to memory cache: "+t),yield xE(n,new GF)}}else te(fs,"Using default OfflineComponentProvider"),yield xE(n,new iI(void 0));return n._offlineComponents})}function KF(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(fs,"Using user provided OnlineComponentProvider"),yield IN(n,n._uninitializedComponentsProvider._online)):(te(fs,"Using default OnlineComponentProvider"),yield IN(n,new qq))),n._onlineComponents})}function Gq(n){return KF(n).then(e=>e.syncEngine)}function Zm(n){return b(this,null,function*(){let e=yield KF(n),t=e.eventManager;return t.onListen=Aq.bind(null,e.syncEngine),t.onUnlisten=Nq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fq.bind(null,e.syncEngine),t})}function Kq(n,e,t={}){let r=new Nr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return function(o,s,a,c,u){let d=new eh({next:y=>{d.Ou(),s.enqueueAndForget(()=>AI(o,f));let v=y.docs.has(a);!v&&y.fromCache?u.reject(new Q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?u.reject(new Q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),f=new Xd(ly(a.path),d,{includeMetadataChanges:!0,ka:!0});return TI(o,f)}(yield Zm(n),n.asyncQueue,e,t,r)})),r.promise}function Yq(n,e,t={}){let r=new Nr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return function(o,s,a,c,u){let d=new eh({next:y=>{d.Ou(),s.enqueueAndForget(()=>AI(o,f)),y.fromCache&&c.source==="server"?u.reject(new Q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),f=new Xd(a,d,{includeMetadataChanges:!0,ka:!0});return TI(o,f)}(yield Zm(n),n.asyncQueue,e,t,r)})),r.promise}function YF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var PN=new Map;var QF="firestore.googleapis.com",DN=!0,Jm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QF,this.ssl=DN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cq)throw new Q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_l=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TE;switch(r.type){case"firstParty":return new NE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=PN.get(t);r&&(te("ComponentProvider","Removing Datastore"),PN.delete(t),r.terminate())}(this),Promise.resolve()}};function ZF(n,e,t,r={}){var i;n=Rn(n,_l);let o=si(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Gc(`https://${c}`),Kc("Firestore",!0)),s.host!==QF&&s.host!==c&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!ai(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Ut.MOCK_USER;else{d=Gp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ut(y)}n._authCredentials=new AE(new Pm(d,f))}}var gs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ih(t,n._jsonSchema))return new n(e,r||null,new ae(at.fromString(t.referencePath)))}};Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Ot("string",Rt._jsonSchemaVersion),referencePath:Ot("string")};var os=class n extends gs{constructor(e,t,r){super(e,t,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bi(n,e,...t){if(n=ot(n),NN("collection","path",e),n instanceof _l){let r=at.fromString(e,...t);return qk(r),new os(n,null,r)}{if(!(n instanceof Rt||n instanceof os))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(at.fromString(e,...t));return qk(r),new os(n.firestore,null,r)}}function uo(n,e,...t){if(n=ot(n),arguments.length===1&&(e=zd.newId()),NN("doc","path",e),n instanceof _l){let r=at.fromString(e,...t);return Hk(r),new Rt(n,null,new ae(r))}{if(!(n instanceof Rt||n instanceof os))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(at.fromString(e,...t));return Hk(r),new Rt(n.firestore,n instanceof os?n.converter:null,new ae(r))}}var ON="AsyncQueue",Xm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Hm(this,"async_queue_retry"),this.oc=()=>{let r=SE();r&&te(ON,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=SE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=SE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!wl(e))throw e;te(ON,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,oo("INTERNAL UNHANDLED ERROR: ",SN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=YM.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ue(47125,{hc:SN(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function SN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function xN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Vr=class extends _l{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xm(e),this._firestoreClient=void 0,yield e}})}};function JF(n,e){let t=typeof n=="object"?n:Zi(),r=typeof n=="string"?n:e||Tm,i=Zo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Wp("firestore");o&&ZF(i,...o)}return i}function py(n){if(n._terminated)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Qq(n),n._firestoreClient}function Qq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new UE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new oI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var ss=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(un.fromBase64String(e))}catch(t){throw new Q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ih(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ss._jsonSchemaVersion="firestore/bytes/1.0",ss._jsonSchema={type:Ot("string",ss._jsonSchemaVersion),bytes:Ot("string")};var vl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var th=class{constructor(e){this._methodName=e}};var as=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ih(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Ot("string",as._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};var cs=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ih(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Q(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:Ot("string",cs._jsonSchemaVersion),vectorValues:Ot("object")};var Zq=/^__.*__$/,sI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new Aa(e,this.data,t,this.fieldTransforms)}},ey=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function XF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ec:n})}}var aI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ny(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(XF(this.Ec)&&Zq.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},cI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hy(e)}Dc(e,t,r,i=!1){return new aI({Ec:e,methodName:t,bc:r,path:qn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function my(n){let e=n._freezeSettings(),t=hy(n._databaseId);return new cI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function e2(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);FI("Data must be an object, but it was:",s,r);let a=t2(r,s),c,u;if(o.merge)c=new lr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let y=lI(e,f,t);if(!s.contains(y))throw new Q(L.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);r2(d,y)||d.push(y)}c=new lr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new sI(new Hn(a),c,u)}var ty=class n extends th{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Jq(n,e,t,r){let i=n.Dc(1,e,t);FI("Data must be an object, but it was:",i,r);let o=[],s=Hn.empty();ps(r,(c,u)=>{let d=LI(e,c,t);u=ot(u);let f=i.gc(d);if(u instanceof ty)o.push(d);else{let y=ah(u,f);y!=null&&(o.push(d),s.set(d,y))}});let a=new lr(o);return new ey(s,a,i.fieldTransforms)}function Xq(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[lI(e,r,t)],c=[i];if(o.length%2!=0)throw new Q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(lI(e,o[y])),c.push(o[y+1]);let u=[],d=Hn.empty();for(let y=a.length-1;y>=0;--y)if(!r2(u,a[y])){let v=a[y],M=c[y];M=ot(M);let x=s.gc(v);if(M instanceof ty)u.push(v);else{let R=ah(M,x);R!=null&&(u.push(v),d.set(v,R))}}let f=new lr(u);return new ey(d,f,s.fieldTransforms)}function eW(n,e,t,r=!1){return ah(t,n.Dc(r?4:3,e))}function ah(n,e){if(n2(n=ot(n)))return FI("Unsupported field value:",e,n),t2(n,e);if(n instanceof th)return function(r,i){if(!XF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=ah(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=St.fromDate(r);return{timestampValue:Vm(i.serializer,o)}}if(r instanceof St){let o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vm(i.serializer,o)}}if(r instanceof as)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ss)return{bytesValue:IF(i.serializer,r._byteString)};if(r instanceof Rt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cs)return function(s,a){return{mapValue:{fields:{[_I]:{stringValue:vI},[ll]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return EI(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${sy(r)}`)}(n,e)}function t2(n,e){let t={};return ZN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(n,(r,i)=>{let o=ah(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function n2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof as||n instanceof ss||n instanceof Rt||n instanceof th||n instanceof cs)}function FI(n,e,t){if(!n2(t)||!FN(t)){let r=sy(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function lI(n,e,t){if((e=ot(e))instanceof vl)return e._internalPath;if(typeof e=="string")return LI(n,e);throw ny("Field path arguments must be of type string or ",n,!1,void 0,t)}var tW=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(tW)>=0)throw ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vl(...e.split("."))._internalPath}catch{throw ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ny(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Q(L.INVALID_ARGUMENT,a+n+c)}function r2(n,e){return n.some(t=>t.isEqual(e))}var ry=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},uI=class extends ry{data(){return super.data()}};function yy(n,e){return typeof e=="string"?LI(n,e):e instanceof vl?e._internalPath:e._delegate._internalPath}function i2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nh=class{},iy=class extends nh{};function Na(n,e,...t){let r=[];e instanceof nh&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof dI).length,a=o.filter(c=>c instanceof oy).length;if(s>1||s>0&&a>0)throw new Q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var oy=class n extends iy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return o2(e._query,t),new gs(e.firestore,e.converter,XE(e._query,t))}_parse(e){let t=my(e.firestore);return function(o,s,a,c,u,d,f){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AN(f,d);let M=[];for(let x of f)M.push(TN(c,o,x));y={arrayValue:{values:M}}}else y=TN(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AN(f,d),y=eW(a,s,f,d==="in"||d==="not-in");return Dt.create(u,d,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Fa(n,e,t){let r=e,i=yy("where",n);return oy._create(i,r,t)}var dI=class n extends nh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)o2(s,c),s=XE(s,c)}(e._query,t),new gs(e.firestore,e.converter,XE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var hI=class n extends iy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new Q(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sa(o,s)}(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ds(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function ch(n,e="asc"){let t=e,r=yy("orderBy",n);return hI._create(r,t)}function TN(n,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new Q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dF(e)&&t.indexOf("/")!==-1)throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(at.fromString(t));if(!ae.isDocumentKey(r))throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jk(n,new ae(r))}if(t instanceof Rt)return Jk(n,t._key);throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sy(t)}.`)}function AN(n,e){if(!Array.isArray(n)||n.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o2(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var fI=class{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ps(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ll].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>st(s.doubleValue));return new cs(o)}convertGeoPoint(e){return new as(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=cy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wd(e));default:return null}}convertTimestamp(e){let t=so(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=at.fromString(e);$e(TF(r),9688,{name:e});let i=new Am(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(t)||oo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function s2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ma=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ia=class n extends ry{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Ot("string",Ia._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};var al=class extends Ia{data(e={}){return super.data(e)}},Pa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new al(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new al(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new al(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:nW(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function nW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:n})}}function La(n){n=Rn(n,Rt);let e=Rn(n.firestore,Vr);return Kq(py(e),n._key).then(t=>a2(e,n,t))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:Ot("string",Pa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};var rh=class extends fI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}};function Ml(n){n=Rn(n,gs);let e=Rn(n.firestore,Vr),t=py(e),r=new rh(e);return i2(n._query),Yq(t,n._query).then(i=>new Pa(e,r,n,i))}function _y(n,e,t){n=Rn(n,Rt);let r=Rn(n.firestore,Vr),i=s2(n.converter,e,t);return Ey(r,[e2(my(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,yi.none())])}function vy(n,e,t,...r){n=Rn(n,Rt);let i=Rn(n.firestore,Vr),o=my(i),s;return s=typeof(e=ot(e))=="string"||e instanceof vl?Xq(o,"updateDoc",n._key,e,t,r):Jq(o,"updateDoc",n._key,e),Ey(i,[s.toMutation(n._key,yi.exists(!0))])}function Cy(n){return Ey(Rn(n.firestore,Vr),[new Kd(n._key,yi.none())])}function by(n,e){let t=Rn(n.firestore,Vr),r=uo(n),i=s2(n.converter,e);return Ey(t,[e2(my(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then(()=>r)}function wy(n,...e){var t,r,i;n=ot(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xN(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof Rt)u=Rn(n.firestore,Vr),d=ly(n._key.path),c={next:f=>{e[s]&&e[s](a2(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Rn(n,gs);u=Rn(f.firestore,Vr),d=f._query;let y=new rh(u);c={next:v=>{e[s]&&e[s](new Pa(u,y,f,v))},error:e[s+1],complete:e[s+2]},i2(n._query)}return function(y,v,M,x){let R=new eh(x),B=new Xd(v,R,M);return y.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return TI(yield Zm(y),B)})),()=>{R.Ou(),y.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return AI(yield Zm(y),B)}))}}(py(u),d,a,c)}function Ey(n,e){return function(r,i){let o=new Nr;return r.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return Lq(yield Gq(r),i,o)})),o.promise}(py(n),e)}function a2(n,e,t){let r=t.docs.get(e._key),i=new rh(n);return new Ia(n,i,e._key,r,new Ma(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Cl=i})(ui),zn(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Vr(new RE(r.getProvider("auth-internal")),new FE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Am(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(Uk,Bk,e),Qe(Uk,Bk,"esm2017")})();var Va=class{constructor(e){return e}},c2="firestore",VI=class{constructor(){return Jo(c2)}};var jI=new J("angularfire2.firestore-instances");function rW(n,e){let t=pa(c2,n,e);return t&&new Va(t)}function iW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Va(r)}}var oW={provide:VI,deps:[[new Et,jI]]},sW={provide:Va,useFactory:rW,deps:[[new Et,jI],Rr]};function l2(n,...e){return Qe("angularfire",di.full,"fst"),Lt([sW,oW,{provide:jI,useFactory:iW(n),multi:!0,deps:[xe,Ze,hi,Ji,[new Et,ba],[new Et,es],...e]}])}var u2=An(JF,!0);var m2="firebasestorage.googleapis.com",aW="storageBucket",cW=2*60*1e3,lW=10*60*1e3;var wi=class n extends wn{constructor(e,t,r=0){super(UI(e),`Firebase Storage: ${t} (${UI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},fo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(fo||{});function UI(n){return"storage/"+n}function uW(){let n="An unknown error occurred, please check the error payload for server response.";return new wi(fo.UNKNOWN,n)}function dW(){return new wi(fo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hW(){return new wi(fo.CANCELED,"User canceled the upload/download.")}function fW(n){return new wi(fo.INVALID_URL,"Invalid URL '"+n+"'.")}function gW(n){return new wi(fo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function d2(n){return new wi(fo.INVALID_ARGUMENT,n)}function y2(){return new wi(fo.APP_DELETED,"The Firebase app was deleted.")}function pW(n){return new wi(fo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ho=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw gW(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(ie){ie.path_=decodeURIComponent(ie.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${d}/b/${i}/o${y}`,"i"),M={bucket:1,path:3},x=t===m2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",B=new RegExp(`^https?://${x}/${i}/${R}`,"i"),ee=[{regex:a,indices:c,postModify:o},{regex:v,indices:M,postModify:u},{regex:B,indices:{bucket:1,path:2},postModify:u}];for(let ie=0;ie<ee.length;ie++){let Ue=ee[ie],ye=Ue.regex.exec(e);if(ye){let D=ye[Ue.indices.bucket],E=ye[Ue.indices.path];E||(E=""),r=new n(D,E),Ue.postModify(r);break}}if(r==null)throw fW(e);return r}},BI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function mW(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...R){u||(u=!0,e.apply(null,R))}function f(R){i=setTimeout(()=>{i=null,n(v,c())},R)}function y(){o&&clearTimeout(o)}function v(R,...B){if(u){y();return}if(R){y(),d.call(null,R,...B);return}if(c()||s){y(),d.call(null,R,...B);return}r<64&&(r*=2);let ee;a===1?(a=2,ee=0):ee=(r+Math.random())*1e3,f(ee)}let M=!1;function x(R){M||(M=!0,y(),!u&&(i!==null?(R||(a=2),clearTimeout(i),f(0)):R||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,x(!0)},t),x}function yW(n){n(!1)}function _W(n){return n!==void 0}function h2(n,e,t,r){if(r<e)throw d2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw d2(`Invalid value for '${n}'. Expected ${t} or less.`)}function vW(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var $I=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}($I||{});function CW(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var zI=class{constructor(e,t,r,i,o,s,a,c,u,d,f,y=!0,v=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=y,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,x)=>{this.resolve_=M,this.reject_=x,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Il(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===$I.NO_ERROR,c=o.getStatus();if(!a||CW(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===$I.ABORT;r(!1,new Il(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Il(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());_W(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=uW();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?y2():hW();s(c)}else{let c=dW();s(c)}};this.canceled_?t(!1,new Il(!1,null,!0)):this.backoffId_=mW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Il=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function bW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function MW(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function IW(n,e,t,r,i,o,s=!0,a=!1){let c=vW(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return EW(d,e),bW(d,t),wW(d,o),MW(d,r),new zI(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function PW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DW(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Npe=256*1024;var HI=class n{constructor(e,t){this._service=e,t instanceof ho?this._location=t:this._location=ho.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ho(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DW(this._location.path)}get storage(){return this._service}get parent(){let e=PW(this._location.path);if(e===null)return null;let t=new ho(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw pW(e)}};function f2(n,e){let t=e?.[aW];return t==null?null:ho.makeFromBucketSpec(t,n)}function OW(n,e,t,r={}){n.host=`${e}:${t}`;let i=si(e);i&&(Gc(`https://${n.host}/b`),Kc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Gp(o,n.app.options.projectId))}var qI=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=m2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cW,this._maxUploadRetryTime=lW,this._requests=new Set,i!=null?this._bucket=ho.makeFromBucketSpec(i,this._host):this._bucket=f2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ho.makeFromBucketSpec(this._url,e):this._bucket=f2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){h2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){h2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new HI(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new BI(y2());{let s=IW(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},g2="@firebase/storage",p2="0.13.14";var _2="storage";function v2(n=Zi(),e){n=ot(n);let r=Zo(n,_2).getImmediate({identifier:e}),i=Wp("storage");return i&&C2(r,...i),r}function C2(n,e,t,r={}){OW(n,e,t,r)}function SW(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new qI(t,r,i,e,ui)}function xW(){zn(new Qt(_2,SW,"PUBLIC").setMultipleInstances(!0)),Qe(g2,p2,""),Qe(g2,p2,"esm2017")}xW();var lh=class{constructor(e){return e}},b2="storage",WI=class{constructor(){return Jo(b2)}};var GI=new J("angularfire2.storage-instances");function TW(n,e){let t=pa(b2,n,e);return t&&new lh(t)}function AW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new lh(r)}}var RW={provide:WI,deps:[[new Et,GI]]},kW={provide:lh,useFactory:TW,deps:[[new Et,GI],Rr]};function w2(n,...e){return Qe("angularfire",di.full,"gcs"),Lt([kW,RW,{provide:GI,useFactory:AW(n),multi:!0,deps:[xe,Ze,hi,Ji,[new Et,ba],[new Et,es],...e]}])}var E2=An(v2,!0);var R2=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(q(tr),q(rn))};static \u0275dir=Ke({type:n})}return n})(),ZI=(()=>{class n extends R2{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275dir=Ke({type:n,features:[Pn]})}return n})(),Ty=new J("");var NW={provide:Ty,useExisting:Ln(()=>ur),multi:!0};function FW(){let n=ir()?ir().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var LW=new J(""),ur=(()=>{class n extends R2{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!FW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(q(tr),q(rn),q(LW,8))};static \u0275dir=Ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Jr([NW]),Pn]})}return n})();function VW(n){return n==null||JI(n)===0}function JI(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var mh=new J(""),k2=new J("");function jW(n){return VW(n.value)?{required:!0}:null}function UW(n){return e=>{let t=e.value?.length??JI(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function BW(n){return e=>{let t=e.value?.length??JI(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function M2(n){return null}function N2(n){return n!=null}function F2(n){return qi(n)?it(n):n}function L2(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function V2(n,e){return e.map(t=>t(n))}function $W(n){return!n.validate}function j2(n){return n.map(e=>$W(e)?e:t=>e.validate(t))}function zW(n){if(!n)return null;let e=n.filter(N2);return e.length==0?null:function(t){return L2(V2(t,e))}}function XI(n){return n!=null?zW(j2(n)):null}function HW(n){if(!n)return null;let e=n.filter(N2);return e.length==0?null:function(t){let r=V2(t,e).map(F2);return F_(r).pipe(ge(L2))}}function eP(n){return n!=null?HW(j2(n)):null}function I2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qW(n){return n._rawValidators}function WW(n){return n._rawAsyncValidators}function KI(n){return n?Array.isArray(n)?n:[n]:[]}function Iy(n,e){return Array.isArray(n)?n.includes(e):n===e}function P2(n,e){let t=KI(e);return KI(n).forEach(i=>{Iy(t,i)||t.push(i)}),t}function D2(n,e){return KI(e).filter(t=>!Iy(n,t))}var Py=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ol=class extends Py{name;get formDirective(){return null}get path(){return null}},ph=class extends Py{_parent=null;name=null;valueAccessor=null},Dy=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Mme=ce(j({},GW),{"[class.ng-submitted]":"isSubmitted"}),dr=(()=>{class n extends Dy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(ph,2))};static \u0275dir=Ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&_n("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Pn]})}return n})(),ys=(()=>{class n extends Dy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(Ol,10))};static \u0275dir=Ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&_n("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Pn]})}return n})();var uh="VALID",My="INVALID",Pl="PENDING",dh="DISABLED",ms=class{},Oy=class extends ms{value;source;constructor(e,t){super(),this.value=e,this.source=t}},fh=class extends ms{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},gh=class extends ms{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Dl=class extends ms{status;source;constructor(e,t){super(),this.status=e,this.source=t}},YI=class extends ms{source;constructor(e){super(),this.source=e}},QI=class extends ms{source;constructor(e){super(),this.source=e}};function U2(n){return(Ay(n)?n.validators:n)||null}function KW(n){return Array.isArray(n)?XI(n):n||null}function B2(n,e){return(Ay(e)?e.asyncValidators:n)||null}function YW(n){return Array.isArray(n)?eP(n):n||null}function Ay(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function QW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function ZW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new F(1002,"")})}var Sy=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return On(this.statusReactive)}set status(e){On(()=>this.statusReactive.set(e))}_status=Dc(()=>this.statusReactive());statusReactive=Wr(void 0);get valid(){return this.status===uh}get invalid(){return this.status===My}get pending(){return this.status==Pl}get disabled(){return this.status===dh}get enabled(){return this.status!==dh}errors;get pristine(){return On(this.pristineReactive)}set pristine(e){On(()=>this.pristineReactive.set(e))}_pristine=Dc(()=>this.pristineReactive());pristineReactive=Wr(!0);get dirty(){return!this.pristine}get touched(){return On(this.touchedReactive)}set touched(e){On(()=>this.touchedReactive.set(e))}_touched=Dc(()=>this.touchedReactive());touchedReactive=Wr(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(P2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(P2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D2(e,this._rawAsyncValidators))}hasValidator(e){return Iy(this._rawValidators,e)}hasAsyncValidator(e){return Iy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new gh(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new gh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new fh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new fh(!0,r))}markAsPending(e={}){this.status=Pl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=dh,this.errors=null,this._forEachChild(i=>{i.disable(ce(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Oy(this.value,r)),this._events.next(new Dl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=uh,this._forEachChild(r=>{r.enable(ce(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uh||this.status===Pl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Oy(this.value,t)),this._events.next(new Dl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dh:uh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Pl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=F2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Dl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?dh:this.errors?My:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pl)?Pl:this._anyControlsHaveStatus(My)?My:uh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new fh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new gh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ay(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=YW(this._rawAsyncValidators)}},xy=class extends Sy{constructor(e,t,r){super(U2(t),B2(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ZW(this,!0,e),Object.keys(e).forEach(r=>{QW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tP=new J("",{providedIn:"root",factory:()=>nP}),nP="always";function JW(n,e){return[...e.path,n]}function $2(n,e,t=nP){z2(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),eG(n,e),nG(n,e),tG(n,e),XW(n,e)}function O2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function z2(n,e){let t=qW(n);e.validator!==null?n.setValidators(I2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=WW(n);e.asyncValidator!==null?n.setAsyncValidators(I2(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();O2(e._rawValidators,i),O2(e._rawAsyncValidators,i)}function eG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&H2(n,e)})}function tG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&H2(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function H2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function rG(n,e){n==null,z2(n,e)}function iG(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function oG(n){return Object.getPrototypeOf(n.constructor)===ZI}function sG(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aG(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ur?t=o:oG(o)?r=o:i=o}),i||r||t||null}var cG={provide:Ol,useExisting:Ln(()=>go)},hh=Promise.resolve(),go=(()=>{class n extends Ol{callSetDisabledState;get submitted(){return On(this.submittedReactive)}_submitted=Dc(()=>this.submittedReactive());submittedReactive=Wr(!1);_directives=new Set;form;ngSubmit=new Ct;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new xy({},XI(t),eP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){hh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$2(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){hh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){hh.then(()=>{let r=this._findContainer(t.path),i=new xy({});rG(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){hh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){hh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),sG(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new YI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new QI(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(q(mh,10),q(k2,10),q(tP,8))};static \u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Jr([cG]),Pn]})}return n})();function S2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function x2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var lG=class extends Sy{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(U2(t),B2(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ay(t)&&(t.nonNullable||t.initialValueIsDefault)&&(x2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){S2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){S2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){x2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var uG={provide:ph,useExisting:Ln(()=>Wn)},T2=Promise.resolve(),Wn=(()=>{class n extends ph{_changeDetectorRef;callSetDisabledState;control=new lG;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ct;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aG(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iG(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){T2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Uo(r);T2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?JW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(q(Ol,9),q(mh,10),q(k2,10),q(Ty,10),q(Xr,8),q(tP,8))};static \u0275dir=Ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Jr([uG]),Pn,Qr]})}return n})();var _s=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var dG={provide:Ty,useExisting:Ln(()=>Ei),multi:!0};function q2(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function hG(n){return n.split(":")[0]}var Ei=(()=>{class n extends ZI{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=N(rr).injector;appRefDestroyRef=this.appRefInjector.get(er);destroyRef=N(er);cdr=N(Xr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,Su({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=q2(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=hG(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Jr([dG]),Pn]})}return n})(),vs=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(q2(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(q(rn),q(tr),q(Ei,9))};static \u0275dir=Ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),fG={provide:Ty,useExisting:Ln(()=>W2),multi:!0};function A2(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function gG(n){return n.split(":")[0]}var W2=(()=>{class n extends ZI{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=gG(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Jr([fG]),Pn]})}return n})(),Cs=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(A2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(A2(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(q(rn),q(tr),q(W2,9))};static \u0275dir=Ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function G2(n){return typeof n=="number"?n:parseInt(n,10)}var rP=(()=>{class n{_validator=M2;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):M2,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ke({type:n,features:[Qr]})}return n})();var pG={provide:mh,useExisting:Ln(()=>po),multi:!0};var po=(()=>{class n extends rP{required;inputName="required";normalizeInput=Uo;createValidator=t=>jW;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&jo("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Jr([pG]),Pn]})}return n})();var mG={provide:mh,useExisting:Ln(()=>iP),multi:!0},iP=(()=>{class n extends rP{minlength;inputName="minlength";normalizeInput=t=>G2(t);createValidator=t=>UW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&jo("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Jr([mG]),Pn]})}return n})(),yG={provide:mh,useExisting:Ln(()=>oP),multi:!0},oP=(()=>{class n extends rP{maxlength;inputName="maxlength";normalizeInput=t=>G2(t);createValidator=t=>BW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Er(n)))(i||n)}})();static \u0275dir=Ke({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&jo("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Jr([yG]),Pn]})}return n})();var _G=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=nr({type:n});static \u0275inj=Vn({})}return n})();var hr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tP,useValue:t.callSetDisabledState??nP}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=nr({type:n});static \u0275inj=Vn({imports:[_G]})}return n})();var fr=class n{constructor(e){this.auth=e;kk(this.auth,t=>{console.log("Auth state changed:",t?`User: ${t.email}`:"No user"),this.currentUserSubject.next(t)})}currentUserSubject=new rt(void 0);currentUser$=this.currentUserSubject.asObservable();getCurrentUser(){let e=this.currentUserSubject.value;return e===void 0?null:e}getCurrentUserId(){let e=this.getCurrentUser();return e?e.uid:null}isAuthenticated(){return this.getCurrentUser()!==null}register(e,t,r){return b(this,null,function*(){try{let i=yield Ak(this.auth,e,t);return r&&i.user&&(yield Lk(i.user,{displayName:r})),console.log("User registered successfully:",i.user.email),i.user}catch(i){throw console.error("Registration error:",i),i}})}signIn(e,t){return b(this,null,function*(){try{let r=yield Nk(this.auth,e,t);return console.log("User signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Sign in error:",r),r}})}signOut(){return b(this,null,function*(){try{yield Fk(this.auth),console.log("User signed out successfully")}catch(e){throw console.error("Sign out error:",e),e}})}getUserProfile(){let e=this.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,createdAt:new Date(e.metadata.creationTime||Date.now())}:null}static \u0275fac=function(t){return new(t||n)(ne(Ca))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var kn=class n{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{t?this.loadData():(this.expensesSubject.next([]),this.categoriesSubject.next([]),this.userSettingsSubject.next({}))})}firestore=N(Va);expensesSubject=new rt([]);categoriesSubject=new rt([]);userSettingsSubject=new rt({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();loadData(){return b(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return b(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return this.expensesSubject.next([]),[];let t=bi(this.firestore,"expenses"),r=Na(t,Fa("userId","==",e),ch("date","desc")),i=yield Ml(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),this.expensesSubject.next(o),o}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return b(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=bi(this.firestore,"expenses"),i=ce(j({},e),{userId:t}),o=yield by(r,i);return yield this.loadExpenses(),o.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return b(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=uo(this.firestore,"expenses",e.id);if((yield La(i)).exists()){let r=e,{id:s}=r,a=Is(r,["id"]);yield vy(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=Is(t,["id"]);yield _y(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return b(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=uo(this.firestore,"expenses",e);if(!(yield La(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield Cy(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return b(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=Is(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return b(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return console.log("No user authenticated, returning empty categories"),this.categoriesSubject.next([]),[];let t=bi(this.firestore,"categories"),r=Na(t,Fa("userId","==",e)),i=yield Ml(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),this.categoriesSubject.next(o),o}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return b(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=bi(this.firestore,"categories"),i=ce(j({},e),{userId:t}),o=yield by(r,i);return yield this.loadCategories(),o.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return b(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=uo(this.firestore,"categories",e.id);if((yield La(r)).exists()){let t=e,{id:o}=t,s=Is(t,["id"]);yield vy(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return b(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=uo(this.firestore,"categories",e),r=yield La(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield Cy(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return b(this,null,function*(){try{let e=uo(this.firestore,"userSettings","default"),t=yield La(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return b(this,null,function*(){try{let t=uo(this.firestore,"userSettings","default");yield _y(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=bi(this.firestore,"expenses"),t=Na(e,ch("date","desc"));return new de(r=>wy(t,o=>{let s=[];o.forEach(a=>{s.push(j({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=bi(this.firestore,"categories");return new de(t=>wy(e,i=>{let o=[];i.forEach(s=>{o.push(j({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return b(this,null,function*(){try{let t=bi(this.firestore,"expenses"),r=Na(t,Fa("categoryId","==",e)),i=yield Ml(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return b(this,null,function*(){try{let r=bi(this.firestore,"expenses"),i=Na(r,Fa("date",">=",e),Fa("date","<=",t),ch("date","desc")),o=yield Ml(i),s=[];return o.forEach(a=>{s.push(j({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)(ne(fr))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mi=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return b(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return b(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return b(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return b(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return b(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return b(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return b(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return b(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return b(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(ne(kn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ii=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return b(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return b(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return b(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return b(this,null,function*(){yield this.loadCategories();let e=this.removeDuplicateCategories(this.categories);return e.length!==this.categories.length&&(console.log(`Found ${this.categories.length-e.length} duplicate categories. Cleaning up...`),yield this.cleanupDuplicateCategories(e)),[...e]})}removeDuplicateCategories(e){let t=new Set,r=[];for(let i of e){let o=i.name.toLowerCase().trim();t.has(o)?console.log(`Duplicate category found: "${i.name}" (ID: ${i.id})`):(t.add(o),r.push(i))}return r}cleanupDuplicateCategories(e){return b(this,null,function*(){try{let t=yield this.firebaseService.loadCategories(),r=new Set,i=[];for(let o of t){let s=o.name.toLowerCase().trim();r.has(s)?(i.push(o.id),console.log(`Marking duplicate for deletion: "${o.name}" (ID: ${o.id})`)):r.add(s)}for(let o of i)try{yield this.firebaseService.deleteCategory(o),console.log(`Deleted duplicate category with ID: ${o}`)}catch(s){console.error(`Error deleting duplicate category ${o}:`,s)}yield this.loadCategories()}catch(t){console.error("Error cleaning up duplicate categories:",t)}})}add(e){return b(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return b(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return b(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return b(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}triggerDuplicateCleanup(){return b(this,null,function*(){console.log("Manual duplicate cleanup triggered...");let e=yield this.getAll();console.log(`Categories after cleanup: ${e.length}`)})}static \u0275fac=function(t){return new(t||n)(ne(kn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Tl=class n{filterStateSubject=new rt({selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""});filterState$=this.filterStateSubject.asObservable();constructor(){this.loadFilterState()}updateFilterState(e){let t=this.filterStateSubject.value,r=j(j({},t),e);console.log("Updating filter state:",{currentState:t,newState:e,updatedState:r}),this.filterStateSubject.next(r),this.saveFilterState(r)}getFilterState(){let e=this.filterStateSubject.value;return console.log("Getting filter state:",e),e}clearFilterState(){let e={selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""};this.filterStateSubject.next(e),this.saveFilterState(e)}saveFilterState(e){try{localStorage.setItem("expenseTracker_filterState",JSON.stringify(e)),console.log("Filter state saved to localStorage:",e)}catch(t){console.error("Error saving filter state to localStorage:",t)}}loadFilterState(){try{let e=localStorage.getItem("expenseTracker_filterState");if(console.log("Loading filter state from localStorage:",e),e){let t=JSON.parse(e);console.log("Parsed filter state:",t),this.filterStateSubject.next(t)}else console.log("No saved filter state found in localStorage")}catch(e){console.error("Error loading filter state from localStorage:",e)}}isCustomDateRangeActive(){let e=this.getFilterState();return e.selectedPeriod==="custom"&&!!e.customStartDate&&!!e.customEndDate}getCustomDateRange(){let e=this.getFilterState();return this.isCustomDateRangeActive()?{startDate:e.customStartDate,endDate:e.customEndDate}:null}getCurrentPeriodFilter(){return this.getFilterState().selectedPeriod}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function vG(n,e){if(n&1){let t=Le();p(0,"button",50),X("click",function(){let i=z(t).$implicit,o=U();return o.selectedPeriod=i.value,H(o.onFilterChange())}),p(1,"span",51),_(2),m(),p(3,"span",52),_(4),m()()}if(n&2){let t=e.$implicit,r=U();_n("active",r.selectedPeriod===t.value),w(2),K(t.label),w(2),K(t.description)}}function CG(n,e){if(n&1){let t=Le();p(0,"button",64),X("click",function(){z(t);let i=U(2);return H(i.clearCustomDateRange())}),p(1,"span",65),_(2,"\u2715"),m()()}}function bG(n,e){if(n&1&&(p(0,"div",66)(1,"div",67)(2,"span",68),_(3),m(),p(4,"span",69),_(5),m()()()),n&2){let t=U(2);w(),Zr(t.isCustomDateRangeValid()?"valid":"invalid"),w(2),K(t.isCustomDateRangeValid()?"\u2705":"\u26A0\uFE0F"),w(2),me(" ",t.isCustomDateRangeValid()?"Date range is valid":"End date must be after start date"," ")}}function wG(n,e){if(n&1){let t=Le();p(0,"div",53)(1,"div",54)(2,"div",55)(3,"label",56),_(4,"Start Date"),m(),p(5,"input",57),De("ngModelChange",function(i){z(t);let o=U();return Te(o.customStartDate,i)||(o.customStartDate=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onCustomDateChange())}),m()(),p(6,"div",58)(7,"span",59),_(8,"to"),m()(),p(9,"div",55)(10,"label",56),_(11,"End Date"),m(),p(12,"div",60)(13,"input",61),De("ngModelChange",function(i){z(t);let o=U();return Te(o.customEndDate,i)||(o.customEndDate=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onCustomDateChange())}),m(),Y(14,CG,3,0,"button",62),m()()(),Y(15,bG,6,4,"div",63),m()}if(n&2){let t=U();w(5),Pe("ngModel",t.customStartDate),w(8),Pe("ngModel",t.customEndDate),w(),V("ngIf",t.customStartDate||t.customEndDate),w(),V("ngIf",t.customStartDate&&t.customEndDate)}}function EG(n,e){if(n&1&&(p(0,"option",81),_(1),m()),n&2){let t=e.$implicit;V("value",t.value),w(),me(" ",t.label," ")}}function MG(n,e){if(n&1&&(p(0,"option",81),_(1),m()),n&2){let t=e.$implicit;V("value",t),w(),me(" ",t," ")}}function IG(n,e){if(n&1&&(p(0,"div",82)(1,"div",83)(2,"span",84),_(3,"Selected Range:"),m(),p(4,"span",85),_(5),m()()()),n&2){let t=U(2);w(5),Kt("",t.customStartDate," to ",t.customEndDate)}}function PG(n,e){if(n&1){let t=Le();p(0,"div",70)(1,"div",71)(2,"div",72)(3,"label",73),_(4,"Select Month"),m(),p(5,"select",74),De("ngModelChange",function(i){z(t);let o=U();return Te(o.selectedMonthOnly,i)||(o.selectedMonthOnly=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onMonthOnlyChange())}),p(6,"option",75),_(7,"Select Month"),m(),Y(8,EG,2,2,"option",76),m()(),p(9,"div",77)(10,"label",78),_(11,"Select Year"),m(),p(12,"select",79),De("ngModelChange",function(i){z(t);let o=U();return Te(o.selectedYearOnly,i)||(o.selectedYearOnly=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onMonthOnlyChange())}),p(13,"option",75),_(14,"Select Year"),m(),Y(15,MG,2,2,"option",76),m()()(),Y(16,IG,6,2,"div",80),m()}if(n&2){let t=U();w(5),Pe("ngModel",t.selectedMonthOnly),w(3),V("ngForOf",t.availableMonths),w(4),Pe("ngModel",t.selectedYearOnly),w(3),V("ngForOf",t.availableYears),w(),V("ngIf",t.customStartDate&&t.customEndDate)}}function DG(n,e){if(n&1&&(p(0,"div",86)(1,"div",22)(2,"span",87),_(3),m(),p(4,"span",88),_(5),m()(),p(6,"div",89)(7,"div",90),_(8),m(),p(9,"div",91)(10,"span",92),_(11),m(),p(12,"span",93),_(13),m()()()()),n&2){let t=e.$implicit;w(3),K(t.icon),w(2),K(t.title),w(3),K(t.value),w(),Zr("trend-"+t.trend),w(2),me(" ",t.trend==="up"?"\u{1F4C8}":t.trend==="down"?"\u{1F4C9}":"\u27A1\uFE0F"," "),w(2),K(t.change)}}function OG(n,e){if(n&1&&(p(0,"div",106),on(1,"div",107),p(2,"div",108)(3,"h4"),_(4),m(),p(5,"p"),_(6),m()()()),n&2){let t=e.$implicit;w(),Zr("priority-"+t.priority),w(3),K(t.title),w(2),K(t.description)}}function SG(n,e){if(n&1&&(p(0,"div",109)(1,"h4"),_(2,"Most Expensive Category"),m(),p(3,"p"),_(4),m()()),n&2){let t=U(2);w(4),Kt("",t.getSpendingAnalytics().mostExpensiveCategory.name," - ",t.getSpendingAnalytics().mostExpensiveCategory.percentage.toFixed(1),"%")}}function xG(n,e){if(n&1&&(p(0,"div",109)(1,"h4"),_(2,"Least Expensive Category"),m(),p(3,"p"),_(4),m()()),n&2){let t=U(2);w(4),Kt("",t.getSpendingAnalytics().leastExpensiveCategory.name," - ",t.getSpendingAnalytics().leastExpensiveCategory.percentage.toFixed(1),"%")}}function TG(n,e){if(n&1&&(p(0,"div",94)(1,"div",95)(2,"h2"),_(3,"\u{1F9E0} Smart Insights"),m(),p(4,"p"),_(5,"AI-powered recommendations based on your spending patterns"),m()(),p(6,"div",96)(7,"div",97)(8,"div",22)(9,"span",87),_(10,"\u{1F4A1}"),m(),p(11,"h3"),_(12,"Smart Recommendations"),m()(),p(13,"div",89),Y(14,OG,7,4,"div",98),m()(),p(15,"div",99)(16,"div",22)(17,"span",87),_(18,"\u{1F4CA}"),m(),p(19,"h3"),_(20,"Spending Analytics"),m()(),p(21,"div",89)(22,"div",100)(23,"div",101)(24,"span",102),_(25,"Total Expenses"),m(),p(26,"span",103),_(27),m()(),p(28,"div",101)(29,"span",102),_(30,"Average Per Expense"),m(),p(31,"span",103),_(32),m()(),p(33,"div",101)(34,"span",102),_(35,"Highest Expense"),m(),p(36,"span",103),_(37),m()(),p(38,"div",101)(39,"span",102),_(40,"Recent Trend"),m(),p(41,"span",103),_(42),m()()()()(),p(43,"div",104)(44,"div",22)(45,"span",87),_(46,"\u{1F3F7}\uFE0F"),m(),p(47,"h3"),_(48,"Category Insights"),m()(),p(49,"div",89),Y(50,SG,5,2,"div",105)(51,xG,5,2,"div",105),m()()()()),n&2){let t=U();w(14),V("ngForOf",t.getSmartRecommendations()),w(13),K(t.getSpendingAnalytics().totalExpenses),w(5),me("\u20B9",t.getSpendingAnalytics().averagePerExpense.toFixed(0)),w(5),me("\u20B9",t.getSpendingAnalytics().highestExpense.toFixed(0)),w(4),Zr("trend-"+t.getSpendingAnalytics().recentTrend.trend),w(),me(" ",t.getSpendingAnalytics().recentTrend.trend," "),w(8),V("ngIf",t.getSpendingAnalytics().mostExpensiveCategory),w(),V("ngIf",t.getSpendingAnalytics().leastExpensiveCategory)}}function AG(n,e){if(n&1&&(p(0,"div",113)(1,"div",114)(2,"div",115),_(3),m(),p(4,"div",116),_(5),m(),p(6,"div",117),_(7),He(8,"number"),m()()()),n&2){let t=e.$implicit,r=U(2);Dn("width",r.getCategoryPercentage((t==null?null:t.id)||""),"%")("background-color",(t==null?null:t.color)||"#999"),V("title",(t==null?null:t.name)+": "+r.getCategoryPercentage((t==null?null:t.id)||"")+"%"),w(3),K(t==null?null:t.name),w(2),me("",r.getCategoryPercentage((t==null?null:t.id)||""),"%"),w(2),me("\u20B9",Vt(8,8,r.categoryTotals[(t==null?null:t.id)||""]||0))}}function RG(n,e){if(n&1&&(p(0,"div",110)(1,"div",111),Y(2,AG,9,10,"div",112),m()()),n&2){let t=U();w(2),V("ngForOf",t.getCategoriesSortedByExpense())}}function kG(n,e){if(n&1&&(p(0,"div",145)(1,"span",146),_(2),m(),p(3,"span",147),_(4),m()()),n&2){let t=e.$implicit;Zr("insight-"+t.type),w(2),K(t.icon),w(2),K(t.text)}}function NG(n,e){if(n&1&&(p(0,"div",143),Y(1,kG,5,4,"div",144),m()),n&2){let t=U().$implicit,r=U(2);w(),V("ngForOf",r.getCategoryInsights((t==null?null:t.id)||""))}}function FG(n,e){if(n&1&&(p(0,"div",148)(1,"span",149),_(2),m(),p(3,"span",150),_(4),m()()),n&2){let t=U().$implicit,r=U(2);w(2),K(r.getCategoryTrend((t==null?null:t.id)||"").icon),w(2),K(r.getCategoryTrend((t==null?null:t.id)||"").text)}}function LG(n,e){if(n&1){let t=Le();p(0,"div",120)(1,"div",121)(2,"div",122),_(3),m(),p(4,"div",123)(5,"div",124),on(6,"div",125),m(),p(7,"div",126),_(8),m()()(),p(9,"div",127)(10,"div",128)(11,"div",129),_(12),m(),p(13,"div",130),_(14),m()(),p(15,"div",131)(16,"div",132)(17,"div",27)(18,"span",133),_(19,"\u{1F4CA}"),m(),p(20,"span",28),_(21,"Expenses"),m(),p(22,"span",29),_(23),m()(),p(24,"div",27)(25,"span",133),_(26,"\u{1F4B0}"),m(),p(27,"span",28),_(28,"Average"),m(),p(29,"span",29),_(30),m()(),p(31,"div",27)(32,"span",133),_(33,"\u{1F4C8}"),m(),p(34,"span",28),_(35,"Highest"),m(),p(36,"span",29),_(37),m()()()(),Y(38,NG,2,1,"div",134),m(),p(39,"div",135)(40,"div",136)(41,"div",137),_(42),He(43,"number"),m(),Y(44,FG,5,2,"div",138),m(),p(45,"div",139)(46,"button",140),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.viewCategoryDetails((i==null?null:i.id)||""))}),gc(),p(47,"svg",141),on(48,"path",142),m(),pc(),p(49,"span"),_(50,"View Expenses"),m()()()()()}if(n&2){let t=e.$implicit,r=e.index,i=U(2);_n("empty-category",i.categoryTotals[(t==null?null:t.id)||""]===0),w(2),Dn("background-color",(t==null?null:t.color)||"#999"),w(),me(" ",(t==null?null:t.icon)||"\u{1F4CC}"," "),w(3),Dn("width",i.getCategoryPercentage((t==null?null:t.id)||""),"%")("background-color",(t==null?null:t.color)||"#999"),w(2),me("",i.getCategoryPercentage((t==null?null:t.id)||""),"%"),w(4),K((t==null?null:t.name)||"Unknown"),w(2),me("#",r+1),w(9),K(i.getExpensesByCategory((t==null?null:t.id)||"").length),w(7),me("\u20B9",(i.categoryTotals[(t==null?null:t.id)||""]/i.getExpensesByCategory((t==null?null:t.id)||"").length).toFixed(0)),w(7),me("\u20B9",i.getMaxExpenseForCategory((t==null?null:t.id)||"")),w(),V("ngIf",i.getCategoryInsights((t==null?null:t.id)||"").length>0),w(4),me("\u20B9",Vt(43,18,i.categoryTotals[(t==null?null:t.id)||""]||0)),w(2),V("ngIf",i.getCategoryTrend((t==null?null:t.id)||""))}}function VG(n,e){if(n&1&&(p(0,"div",118),Y(1,LG,51,20,"div",119),m()),n&2){let t=U();w(),V("ngForOf",t.getCategoriesSortedByExpense())}}function jG(n,e){n&1&&(p(0,"div",151)(1,"div",152),_(2,"\u{1F3F7}\uFE0F"),m(),p(3,"h6"),_(4,"No Categories Found"),m(),p(5,"p"),_(6,"Add some categories to start tracking your expenses!"),m(),p(7,"div",153)(8,"a",154),_(9,"Add Categories"),m()()())}function UG(n,e){n&1&&(p(0,"div",183),on(1,"div",184),m())}function BG(n,e){if(n&1&&(p(0,"div",170)(1,"span",171),_(2,"\u26A1"),m(),p(3,"span",172),_(4,"Priority"),m(),p(5,"span",186),_(6),m()()),n&2){let t=U(2).$implicit;w(5),Zr("priority-"+t.priority),w(),me(" ",t.priority," ")}}function $G(n,e){n&1&&(p(0,"div",170)(1,"span",171),_(2,"\u{1F4B0}"),m(),p(3,"span",172),_(4,"Type"),m(),p(5,"span",187),_(6,"Large Expense"),m()())}function zG(n,e){if(n&1&&(p(0,"div",169),Y(1,BG,7,3,"div",185)(2,$G,7,0,"div",185),m()),n&2){let t=U().$implicit;w(),V("ngIf",t.priority),w(),V("ngIf",t.amount>1e3)}}function HG(n,e){if(n&1&&(p(0,"div",145)(1,"span",146),_(2),m(),p(3,"span",147),_(4),m()()),n&2){let t=e.$implicit;Zr("insight-"+t.type),w(2),K(t.icon),w(2),K(t.text)}}function qG(n,e){if(n&1&&(p(0,"div",188),Y(1,HG,5,4,"div",144),m()),n&2){let t=U().$implicit,r=U(2);w(),V("ngForOf",r.getExpenseInsights(t))}}function WG(n,e){if(n&1){let t=Le();p(0,"div",157),Y(1,UG,2,0,"div",158),p(2,"div",159)(3,"div",160)(4,"div",161),_(5),m(),p(6,"div",162)(7,"div",163),_(8),He(9,"date"),m()(),p(10,"div",164)(11,"div",137),_(12),He(13,"number"),m(),p(14,"div",165),_(15),m()()(),p(16,"div",166)(17,"div",167),_(18),m(),p(19,"div",168)(20,"div",169)(21,"div",170)(22,"span",171),_(23,"\u{1F3F7}\uFE0F"),m(),p(24,"span",172),_(25,"Category"),m(),p(26,"span",173),_(27),m()(),p(28,"div",170)(29,"span",171),_(30,"\u{1F4C5}"),m(),p(31,"span",172),_(32,"Day"),m(),p(33,"span",173),_(34),m()()(),Y(35,zG,3,2,"div",174),m(),Y(36,qG,2,1,"div",175),m(),p(37,"div",176)(38,"button",177),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.editExpense(i))}),gc(),p(39,"svg",141),on(40,"path",178)(41,"path",179),m(),pc(),p(42,"span"),_(43,"Edit"),m()(),p(44,"button",180),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.deleteExpense(i))}),gc(),p(45,"svg",141),on(46,"path",181)(47,"path",182),m(),pc(),p(48,"span"),_(49,"Delete"),m()()()()()}if(n&2){let t=e.$implicit,r=e.index,i=U(2);w(),V("ngIf",r>0),w(3),Dn("background-color",i.getCategoryColor(t.categoryId)),w(),me(" ",i.getCategoryIcon(t.categoryId)," "),w(3),K(vn(9,14,t.date,"MMM dd, yyyy")),w(4),me("\u20B9",Vt(13,17,t.amount)),w(2),Zr(i.getAmountIndicator(t.amount)),w(),me(" ",i.getAmountIndicator(t.amount)," "),w(3),K(t.description||"No description"),w(9),K(i.getCategoryName(t.categoryId)),w(7),K(i.getDayOfWeek(t.date)),w(),V("ngIf",t.priority||t.amount>1e3),w(),V("ngIf",i.getExpenseInsights(t).length>0)}}function GG(n,e){if(n&1&&(p(0,"div",155),Y(1,WG,50,19,"div",156),m()),n&2){let t=U();w(),V("ngForOf",t.getRecentExpensesSorted())}}function KG(n,e){n&1&&(p(0,"div",151)(1,"div",152),_(2,"\u{1F4DD}"),m(),p(3,"h6"),_(4,"No Expenses Found"),m(),p(5,"p"),_(6,"Add some expenses to see them here!"),m(),p(7,"div",153)(8,"a",189),_(9,"Add Expenses"),m()()())}function YG(n,e){if(n&1&&(p(0,"div",192)(1,"div",114)(2,"div",193),_(3),m(),p(4,"div",117),_(5),He(6,"number"),m(),p(7,"div",194),_(8),m()()()),n&2){let t=e.$implicit,r=U(2);Dn("height",t.amount/r.getMaxSpendingAmount()*100,"%"),w(3),K(t.day),w(2),me("\u20B9",Vt(6,5,t.amount)),w(3),me("",t.count," expenses")}}function QG(n,e){if(n&1&&(p(0,"div",190),Y(1,YG,9,7,"div",191),m()),n&2){let t=U();w(),V("ngForOf",t.getSpendingByDay())}}function ZG(n,e){n&1&&(p(0,"div",195)(1,"div",152),_(2,"\u{1F4CA}"),m(),p(3,"h6"),_(4,"No Spending Data"),m(),p(5,"p"),_(6,"No expenses found for the selected period"),m()())}function JG(n,e){if(n&1&&(p(0,"div",198)(1,"div",199),_(2),m(),p(3,"div",200)(4,"div",201),_(5),m(),p(6,"div",202),_(7),m()(),p(8,"div",164),_(9),He(10,"number"),m()()),n&2){let t=e.$implicit,r=e.index,i=U(2);w(2),K(r+1),w(3),K(t.description||"No description"),w(2),K(i.getCategoryName(t.categoryId)),w(2),me("\u20B9",Vt(10,4,t.amount))}}function XG(n,e){if(n&1&&(p(0,"div",196),Y(1,JG,11,6,"div",197),m()),n&2){let t=U();w(),V("ngForOf",t.getTopExpenses(5))}}function eK(n,e){n&1&&(p(0,"div",195)(1,"div",152),_(2,"\u{1F3C6}"),m(),p(3,"h6"),_(4,"No Top Expenses"),m(),p(5,"p"),_(6,"Add some expenses to see your top spending patterns"),m()())}function tK(n,e){if(n&1&&(p(0,"a",206)(1,"span",9),_(2),m(),p(3,"div",207)(4,"h4"),_(5),m(),p(6,"p"),_(7),m()()()),n&2){let t=U().$implicit;V("routerLink",t.route),w(2),K(t.icon),w(3),K(t.title),w(2),K(t.action)}}function nK(n,e){if(n&1){let t=Le();p(0,"button",208),X("click",function(){z(t);let i=U().$implicit;return H(i.method())}),p(1,"span",9),_(2),m(),p(3,"div",207)(4,"h4"),_(5),m(),p(6,"p"),_(7),m()()()}if(n&2){let t=U().$implicit;w(2),K(t.icon),w(3),K(t.title),w(2),K(t.action)}}function rK(n,e){if(n&1&&(p(0,"div",203),Y(1,tK,8,4,"a",204)(2,nK,8,3,"button",205),m()),n&2){let t=e.$implicit;w(),V("ngIf",t.route),w(),V("ngIf",t.method)}}var Ny=class n{constructor(e,t,r,i,o){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.filterStateService=i;this.router=o}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";selectedMonth="";selectedYear="";customStartDate="";customEndDate="";selectedMonthOnly="";selectedYearOnly="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;weeklyTotal=0;showInsights=!1;subscription=new qe;ngOnInit(){this.loadFilterState();let e=new Date().getFullYear();for(let t=2020;t<=e+1;t++)this.availableYears.push(t.toString());this.subscription.add(this.firebaseService.expenses$.subscribe(t=>{this.expenses=t,this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateWeeklyData(),console.log(`Received ${t.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(t=>{this.categories=t,console.log(`Received ${t.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return b(this,null,function*(){try{console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){this.recentExpenses=[...this.expenses].sort((e,t)=>{let r=new Date(e.date+"T00:00:00");return new Date(t.date+"T00:00:00").getTime()-r.getTime()}).slice(0,5)}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date;switch(this.selectedPeriod){case"monthly":let r=parseInt(this.selectedMonth),i=parseInt(this.selectedYear);e=e.filter(a=>{let c=new Date(a.date);return c.getMonth()===r&&c.getFullYear()===i});break;case"yearly":e=e.filter(a=>new Date(a.date).getFullYear()===t.getFullYear());break;case"last30":let o=new Date;o.setDate(t.getDate()-30),e=e.filter(a=>new Date(a.date)>=o);break;case"last7":let s=new Date;s.setDate(t.getDate()-7),e=e.filter(a=>new Date(a.date)>=s);break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(a=>{let c=new Date(a.date),u=new Date(this.customStartDate),d=new Date(this.customEndDate);return c>=u&&c<=d}));break;case"monthOnly":if(this.selectedMonthOnly&&this.selectedYearOnly){let a=parseInt(this.selectedMonthOnly),c=parseInt(this.selectedYearOnly);e=e.filter(u=>{let d=new Date(u.date);return d.getMonth()===a&&d.getFullYear()===c})}break}}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"monthly":return"This Month";case"yearly":return"This Year";case"last30":return"Last 30 Days";case"last7":return"Last 7 Days";case"custom":return this.getCustomDateRangeLabel();default:return"All Time"}}getCustomDateRangeLabel(){if(!this.customStartDate||!this.customEndDate)return"Custom Range";let e=new Date(this.customStartDate),t=new Date(this.customEndDate),r=e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),i=t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${r} - ${i}`}loadFilterState(){let e=this.filterStateService.getFilterState();if(console.log("Loading filter state from service:",e),this.selectedPeriod=e.selectedPeriod,this.selectedMonth=e.selectedMonth,this.selectedYear=e.selectedYear,this.customStartDate=e.customStartDate,this.customEndDate=e.customEndDate,this.selectedMonthOnly=e.selectedMonthOnly||"",this.selectedYearOnly=e.selectedYearOnly||"",this.selectedPeriod==="monthOnly"&&(!this.selectedMonthOnly||!this.selectedYearOnly)){let t=new Date;this.selectedMonthOnly=t.getMonth().toString(),this.selectedYearOnly=t.getFullYear().toString(),console.log("Auto-selected current month and year on load:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.onMonthOnlyChange()}console.log("Filter state loaded into component:",{selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly})}onFilterChange(){if(console.log("Filter changed, saving state:",{selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate}),this.selectedPeriod==="monthOnly"){let e=new Date;this.selectedMonthOnly=e.getMonth().toString(),this.selectedYearOnly=e.getFullYear().toString(),console.log("Auto-selected current month and year:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.onMonthOnlyChange()}this.filterStateService.updateFilterState({selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly})}onCustomDateChange(){console.log("Custom date changed:",{start:this.customStartDate,end:this.customEndDate}),this.customStartDate&&this.customEndDate&&this.isCustomDateRangeValid()&&(console.log("Auto-applying custom date range filter"),this.onFilterChange())}onMonthOnlyChange(){if(console.log("Month only changed:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.selectedMonthOnly&&this.selectedYearOnly){let e=parseInt(this.selectedMonthOnly),t=parseInt(this.selectedYearOnly),r=new Date(Date.UTC(t,e,1)),i=new Date(Date.UTC(t,e+1,0)),o=s=>{let a=s.getUTCFullYear(),c=String(s.getUTCMonth()+1).padStart(2,"0"),u=String(s.getUTCDate()).padStart(2,"0");return`${a}-${c}-${u}`};console.log("Date calculations:",{monthIndex:e,year:t,startDate:r.toISOString(),endDate:i.toISOString(),startDateMonth:r.getUTCMonth(),startDateDate:r.getUTCDate(),endDateMonth:i.getUTCMonth(),endDateDate:i.getUTCDate()}),this.customStartDate=o(r),this.customEndDate=o(i),console.log("Month only filter applied:",{month:e,year:t,startDate:this.customStartDate,endDate:this.customEndDate}),this.filterStateService.updateFilterState({selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly}),setTimeout(()=>{console.log("Month only filter state after delay:",{selectedPeriod:this.selectedPeriod,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly,customStartDate:this.customStartDate,customEndDate:this.customEndDate})},100)}}isCustomDateRangeValid(){if(!this.customStartDate||!this.customEndDate)return!1;let e=new Date(this.customStartDate),t=new Date(this.customEndDate);return e<=t}clearCustomDateRange(){this.customStartDate="",this.customEndDate="",console.log("Custom date range cleared"),this.onFilterChange()}openDatePicker(){this.setDefaultDateRange("last30")}setDefaultDateRange(e){let t=new Date,r;switch(e){case"last7":r=new Date(t.getTime()-7*24*60*60*1e3);break;case"last30":r=new Date(t.getTime()-30*24*60*60*1e3);break;case"last90":r=new Date(t.getTime()-90*24*60*60*1e3);break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1);break;case"lastMonth":r=new Date(t.getFullYear(),t.getMonth()-1,1);let i=new Date(t.getFullYear(),t.getMonth(),0);this.customStartDate=r.toISOString().split("T")[0],this.customEndDate=i.toISOString().split("T")[0],this.onFilterChange();return}this.customStartDate=r.toISOString().split("T")[0],this.customEndDate=t.toISOString().split("T")[0],console.log(`Default date range set (${e}):`,{start:this.customStartDate,end:this.customEndDate}),this.onFilterChange()}getExpensesByCategory(e){return this.getFilteredExpenses().filter(t=>t.categoryId===e)}get categoryTotals(){let e={},t=this.getFilteredExpenses();return this.categories.forEach(r=>{e[r.id]=t.filter(i=>i.categoryId===r.id).reduce((i,o)=>i+o.amount,0)}),e}get monthlyTotal(){return this.currentMonthTotal}getRecentExpensesSorted(){let e=[...this.expenses].sort((t,r)=>{let i=new Date(t.date+"T00:00:00");return new Date(r.date+"T00:00:00").getTime()-i.getTime()}).slice(0,5);return e.length>0&&console.log("Recent expenses sorted by date (latest first):",e.map(t=>({date:t.date,description:t.description,amount:t.amount}))),e}getFilteredExpensesSorted(){return this.getFilteredExpenses().sort((e,t)=>t.amount-e.amount)}getCategoriesSortedByExpense(){return[...this.categories].filter(e=>(this.categoryTotals[e.id]||0)>0).sort((e,t)=>{let r=this.categoryTotals[e.id]||0;return(this.categoryTotals[t.id]||0)-r})}getBudgetProgress(){return null}getDailyAverage(){let e=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),t=new Date().getDate();return this.currentMonthTotal/t}getPotentialSavings(){return 0}getSavingsTip(){return null}getCategoryPercentage(e){let t=this.getFilteredTotal();if(t===0)return 0;let r=this.categoryTotals[e]||0;return parseFloat((r/t*100).toFixed(2))}getCategoryTrendLegacy(e){return null}getTopSpendingCategory(){let e=this.getFilteredExpenses();if(e.length===0)return null;let t={};e.forEach(i=>{let o=i.categoryId;t[o]?t[o]+=i.amount:t[o]=i.amount});let r=Object.entries(t).map(([i,o])=>{let s=this.categories.find(a=>a.id===i);return{categoryId:i,categoryName:s?.name||"Unknown",amount:o}}).sort((i,o)=>o.amount-i.amount);return r.length===0?null:{name:r[0].categoryName,amount:r[0].amount}}getSpendingPattern(){let e=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);return e>1e3?"High Value":e>500?"Medium Value":"Low Value"}getPatternDescription(){switch(this.getSpendingPattern()){case"High Value":return"Large individual expenses";case"Medium Value":return"Moderate spending pattern";case"Low Value":return"Small frequent expenses";default:return"Balanced spending"}}getQuickWin(){let e=this.getTopSpendingCategory();return e&&e.amount>this.monthlyTotal*.4?{title:`Reduce ${e.name} spending`,description:`This category represents ${(e.amount/this.getFilteredTotal()*100).toFixed(1)}% of your expenses`}:null}getAchievement(){return this.currentMonthTotal<this.monthlyTotal*.5?{title:"Budget Master!",description:"You're under 50% of your monthly budget"}:null}getMonthlyTrends(){let e=[],t=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe"];for(let r=5;r>=0;r--){let i=new Date;i.setMonth(i.getMonth()-r);let s=this.expenses.filter(u=>{let d=new Date(u.date);return d.getMonth()===i.getMonth()&&d.getFullYear()===i.getFullYear()}).reduce((u,d)=>u+d.amount,0),a=Math.max(...this.getMonthlyAmounts()),c=a>0?s/a*100:0;e.push({name:i.toLocaleDateString("en-US",{month:"short"}),amount:s,percentage:c,color:t[r]})}return e}getMonthlyAmounts(){let e=[];for(let t=5;t>=0;t--){let r=new Date;r.setMonth(r.getMonth()-t);let i=this.expenses.filter(o=>{let s=new Date(o.date);return s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear()});e.push(i.reduce((o,s)=>o+s.amount,0))}return e}toggleInsights(){this.showInsights=!this.showInsights,this.showInsights&&setTimeout(()=>{let e=document.getElementById("insights-section");if(e){let i=e.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"})}},150)}viewAllExpenses(){this.router.navigate(["/expenses"])}editExpense(e){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=window.prompt("Date (YYYY-MM-DD):",e.date)||e.date,o=parseFloat(r);if(isNaN(o)||o<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){alert("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let a=ce(j({},e),{description:t,amount:o,date:i});this.expenseService.update(a).then(()=>{console.log("Expense updated successfully")}).catch(c=>{console.error("Error updating expense:",c),alert("Error updating expense. Please try again.")})}catch(t){console.error("Error editing expense:",t),alert("Error editing expense. Please try again.")}}deleteExpense(e){window.confirm(`Are you sure you want to delete this expense?

Description: ${e.description}
Amount: \u20B9${e.amount}
Date: ${e.date}`)&&this.expenseService.delete(e.id).then(()=>{console.log("Expense deleted successfully"),alert("Expense deleted successfully!")}).catch(r=>{console.error("Error deleting expense:",r),alert("Error deleting expense. Please try again.")})}getSmartInsights(){let e=[],t=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);t>1e3&&e.push({title:"High-Value Spending Pattern",description:`Your average expense is \u20B9${t.toFixed(0)}, indicating large purchases. Consider breaking down big expenses.`});let r=this.getTopSpendingCategory();r&&r.amount/this.getFilteredTotal()>.5&&e.push({title:"Category Concentration Alert",description:`${r.name} represents ${(r.amount/this.getFilteredTotal()*100).toFixed(1)}% of your spending. Consider diversifying.`});let i=this.weeklyTotal;i>this.currentMonthTotal/4&&e.push({title:"High Weekly Spending",description:`This week's spending (\u20B9${i.toFixed(0)}) is above average. Monitor your daily expenses.`});let o=this.getPotentialSavings();return o>0&&e.push({title:"Savings Opportunity",description:`You could save \u20B9${o.toFixed(0)} by optimizing your spending patterns.`}),e}getQuickActions(){return[{title:"Add Expense",action:"Quick Entry",icon:"\u2795",route:"/expenses"},{title:"View Reports",action:"Monthly Analysis",icon:"\u{1F4CA}",route:"/monthly-reports"},{title:"Manage Categories",action:"Organize",icon:"\u{1F3F7}\uFE0F",route:"/categories"},{title:"Export Data",action:"Download",icon:"\u{1F4E5}",method:()=>this.exportData()}]}getSpendingAnalytics(){let e=this.getFilteredExpenses(),t=this.getFilteredTotal();return{totalExpenses:e.length,totalAmount:t,averagePerExpense:e.length>0?t/e.length:0,highestExpense:Math.max(...e.map(r=>r.amount)),lowestExpense:Math.min(...e.map(r=>r.amount)),mostExpensiveCategory:this.getMostExpensiveCategory(),leastExpensiveCategory:this.getLeastExpensiveCategory(),spendingByDay:this.getSpendingByDay(),spendingByWeek:this.getSpendingByWeek(),spendingByMonth:this.getSpendingByMonth(),topExpenses:this.getTopExpenses(5),recentTrend:this.getRecentSpendingTrend()}}getMostExpensiveCategory(){let e=this.categoryTotals,t=this.getFilteredTotal();if(t===0)return null;let r=Object.entries(e).reduce((o,[s,a])=>a>o.amount?{id:s,amount:a}:o,{id:"",amount:0});return{name:this.categories.find(o=>o.id===r.id)?.name||"Unknown",amount:r.amount,percentage:r.amount/t*100}}getLeastExpensiveCategory(){let e=this.categoryTotals,t=this.getFilteredTotal();if(t===0)return null;let r=Object.entries(e).reduce((o,[s,a])=>a<o.amount?{id:s,amount:a}:o,{id:"",amount:1/0});return{name:this.categories.find(o=>o.id===r.id)?.name||"Unknown",amount:r.amount,percentage:r.amount/t*100}}getSpendingByDay(){let e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t={};return e.forEach(r=>{t[r]={amount:0,count:0}}),this.getFilteredExpenses().forEach(r=>{let i=new Date(r.date).toLocaleDateString("en-US",{weekday:"long"});t[i].amount+=r.amount,t[i].count+=1}),e.map(r=>({day:r,amount:t[r].amount,count:t[r].count}))}getSpendingByWeek(){let e={};return this.getFilteredExpenses().forEach(t=>{let r=new Date(t.date),i=new Date(r);i.setDate(r.getDate()-r.getDay());let o=i.toISOString().split("T")[0];e[o]||(e[o]={amount:0,count:0}),e[o].amount+=t.amount,e[o].count+=1}),Object.entries(e).map(([t,r])=>({week:new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),amount:r.amount,count:r.count})).sort((t,r)=>new Date(t.week).getTime()-new Date(r.week).getTime())}getSpendingByMonth(){let e={};return this.getFilteredExpenses().forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${r.getMonth()}`;e[i]||(e[i]={amount:0,count:0}),e[i].amount+=t.amount,e[i].count+=1}),Object.entries(e).map(([t,r])=>({month:new Date(t+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"}),amount:r.amount,count:r.count})).sort((t,r)=>new Date(t.month).getTime()-new Date(r.month).getTime())}getTopExpenses(e){return[...this.getFilteredExpenses()].sort((t,r)=>r.amount-t.amount).slice(0,e)}getRecentSpendingTrend(){let e=this.getRecentExpensesSorted().slice(0,10);if(e.length<5)return{trend:"stable",percentage:0};let t=Math.floor(e.length/2),r=e.slice(0,t),i=e.slice(t),o=r.reduce((c,u)=>c+u.amount,0),s=i.reduce((c,u)=>c+u.amount,0);if(o===0)return{trend:"stable",percentage:0};let a=(s-o)/o*100;return a>10?{trend:"increasing",percentage:a}:a<-10?{trend:"decreasing",percentage:a}:{trend:"stable",percentage:a}}exportData(){let e={expenses:this.expenses,categories:this.categories,analytics:this.getSpendingAnalytics(),exportDate:new Date().toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`expense-tracker-data-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}getSmartRecommendations(){let e=[],t=this.getTopSpendingCategory();return t&&t.amount/this.getFilteredTotal()>.6&&e.push({title:"Category Diversification",description:`Consider reducing spending in ${t.name} category.`,priority:"medium"}),this.expenses.filter(i=>i.amount>1e3).length>3&&e.push({title:"Large Expenses Review",description:"You have several large expenses. Consider if all are necessary.",priority:"medium"}),e}getSmartFilters(){return[{label:"All Time",value:"all",description:"Complete expense history"},{label:"This Month",value:"monthly",description:"Current month expenses"},{label:"This Year",value:"yearly",description:"Current year expenses"},{label:"Last 30 Days",value:"last30",description:"Recent month activity"},{label:"Last 7 Days",value:"last7",description:"This week's expenses"},{label:"Specific Month/Year",value:"monthOnly",description:"Select specific month and year"},{label:"Custom Range",value:"custom",description:"Select specific dates"}]}getQuickSummaryCards(){return[{title:"Total Spent",value:`\u20B9${this.getFilteredTotal().toLocaleString()}`,change:"Current period",trend:"stable",icon:"\u{1F4B0}"},{title:"Expense Count",value:this.getFilteredExpenses().length.toString(),change:`${this.getFilteredExpenses().length} this period`,trend:"stable",icon:"\u{1F4CA}"},{title:"Average Per Expense",value:`\u20B9${(this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1)).toFixed(0)}`,change:"Per transaction",trend:"stable",icon:"\u{1F4C8}"},{title:"Top Category",value:this.getTopSpendingCategory()?.name||"No Data",change:this.getTopSpendingCategory()&&this.getFilteredTotal()>0?`${(this.getTopSpendingCategory().amount/this.getFilteredTotal()*100).toFixed(1)}%`:"No expenses",trend:"stable",icon:"\u{1F3F7}\uFE0F"}]}viewCategoryDetails(e){let t=this.filterStateService.getFilterState();this.router.navigate(["/expenses"],{queryParams:{category:e,filter:"category",period:t.selectedPeriod,month:t.selectedMonth,year:t.selectedYear,startDate:t.customStartDate,endDate:t.customEndDate,monthOnly:t.selectedMonthOnly,yearOnly:t.selectedYearOnly}})}getMaxSpendingAmount(){let e=this.getSpendingByDay();return e.length===0?0:Math.max(...e.map(t=>t.amount))}getDayOfWeek(e){return new Date(e).toLocaleDateString("en-US",{weekday:"short"})}getMaxExpenseForCategory(e){let t=this.getExpensesByCategory(e);return t.length===0?0:Math.max(...t.map(r=>r.amount))}getCurrentMonthName(){return new Date().toLocaleDateString("en-US",{month:"long"})}getCurrentYear(){return new Date().getFullYear().toString()}getSelectedMonthName(){let e=parseInt(this.selectedMonth);return["January","February","March","April","May","June","July","August","September","October","November","December"][e]||"January"}getSelectedYear(){return this.selectedYear||new Date().getFullYear().toString()}availableMonths=[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}];availableYears=[];getLastWeekTotal(){let e=new Date;return e.setDate(e.getDate()-7),this.expenses.filter(t=>new Date(t.date)>=e).reduce((t,r)=>t+r.amount,0)}getAmountIndicator(e){return e>5e3?"high":e>1e3?"medium":"low"}getCategoryInsights(e){let t=[],r=this.getExpensesByCategory(e),i=this.categoryTotals[e]||0,o=r.length>0?i/r.length:0;return i>this.getFilteredTotal()*.4&&t.push({type:"high",icon:"\u26A0\uFE0F",text:"High spending category"}),o>2e3&&t.push({type:"medium",icon:"\u{1F4B0}",text:"High average expense"}),r.length>10&&t.push({type:"low",icon:"\u{1F4CA}",text:"Frequent expenses"}),t}getCategoryTrend(e){let t=this.categoryTotals[e]||0,r=this.getFilteredTotal()/Object.keys(this.categoryTotals).length;return t>r*1.2?{icon:"\u{1F4C8}",text:"Above average"}:t<r*.8?{icon:"\u{1F4C9}",text:"Below average"}:{icon:"\u27A1\uFE0F",text:"Stable"}}getExpenseInsights(e){let t=[];e.amount>5e3&&t.push({type:"high",icon:"\u{1F4B0}",text:"Large expense"}),e.amount>this.getAverageExpense()*2&&t.push({type:"medium",icon:"\u{1F4CA}",text:"Above average"});let r=new Date(e.date);return Math.floor((new Date().getTime()-r.getTime())/(1e3*60*60*24))<=1&&t.push({type:"low",icon:"\u{1F195}",text:"Recent"}),t}getAverageExpense(){return this.expenses.length===0?0:this.expenses.reduce((e,t)=>e+t.amount,0)/this.expenses.length}static \u0275fac=function(t){return new(t||n)(q(Mi),q(Ii),q(kn),q(Tl),q(dt))};static \u0275cmp=Gt({type:n,selectors:[["app-dashboard"]],decls:101,vars:24,consts:[[1,"dashboard-container"],[1,"smart-header"],[1,"header-content"],[1,"header-left"],[1,"dashboard-title"],[1,"dashboard-subtitle"],[1,"quick-actions"],[1,"action-buttons"],["routerLink","/expenses",1,"action-btn","primary"],[1,"action-icon"],[1,"action-text"],[1,"action-btn","secondary",3,"click"],[1,"smart-filters"],[1,"filter-tabs"],["class","filter-tab",3,"active","click",4,"ngFor","ngForOf"],["class","custom-date-range",4,"ngIf"],["class","month-only-filter",4,"ngIf"],[1,"summary-grid"],["class","summary-card",4,"ngFor","ngForOf"],["id","insights-section","class","insights-section",4,"ngIf"],[1,"content-grid"],[1,"content-card","category-section"],[1,"card-header"],[1,"header-icon"],[1,"header-title"],[1,"header-right"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"card-body"],["class","category-summary",4,"ngIf"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-section"],[1,"expense-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["class","expense-timeline",4,"ngIf"],[1,"content-card","patterns-section"],[1,"pattern-section"],["class","pattern-chart",4,"ngIf"],["class","empty-state compact",4,"ngIf"],["class","top-expenses",4,"ngIf"],[1,"quick-actions-panel"],[1,"panel-header"],[1,"actions-grid"],["class","action-item",4,"ngFor","ngForOf"],[1,"filter-tab",3,"click"],[1,"filter-label"],[1,"filter-description"],[1,"custom-date-range"],[1,"date-range-container"],[1,"date-input-group"],[1,"date-label"],["type","date","placeholder","Start date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"date-separator"],[1,"separator-text"],[1,"end-date-container"],["type","date","placeholder","End date",1,"date-input",3,"ngModelChange","change","ngModel"],["class","clear-date-btn","title","Clear date range",3,"click",4,"ngIf"],["class","date-validation",4,"ngIf"],["title","Clear date range",1,"clear-date-btn",3,"click"],[1,"clear-icon"],[1,"date-validation"],[1,"validation-message"],[1,"validation-icon"],[1,"validation-text"],[1,"month-only-filter"],[1,"month-only-container"],[1,"month-input-group"],[1,"month-label"],[1,"month-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"year-input-group"],[1,"year-label"],[1,"year-select",3,"ngModelChange","change","ngModel"],["class","month-range-display",4,"ngIf"],[3,"value"],[1,"month-range-display"],[1,"range-info"],[1,"range-label"],[1,"range-dates"],[1,"summary-card"],[1,"card-icon"],[1,"card-title"],[1,"card-content"],[1,"card-value"],[1,"card-change"],[1,"change-icon"],[1,"change-text"],["id","insights-section",1,"insights-section"],[1,"section-header"],[1,"insights-grid"],[1,"insight-card","recommendations"],["class","recommendation-item",4,"ngFor","ngForOf"],[1,"insight-card","analytics"],[1,"analytics-grid"],[1,"analytics-item"],[1,"analytics-label"],[1,"analytics-value"],[1,"insight-card","categories"],["class","category-insight",4,"ngIf"],[1,"recommendation-item"],[1,"rec-priority"],[1,"rec-content"],[1,"category-insight"],[1,"category-summary"],[1,"summary-chart"],["class","chart-bar",3,"width","background-color","title",4,"ngFor","ngForOf"],[1,"chart-bar",3,"title"],[1,"bar-tooltip"],[1,"tooltip-category"],[1,"tooltip-percentage"],[1,"tooltip-amount"],[1,"category-list"],["class","category-item",3,"empty-category",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-visual"],[1,"category-icon"],[1,"category-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-label"],[1,"category-info"],[1,"category-header"],[1,"category-name"],[1,"category-rank"],[1,"category-stats"],[1,"stat-row"],[1,"stat-icon"],["class","category-insights",4,"ngIf"],[1,"category-amount"],[1,"amount-display"],[1,"amount-value"],["class","amount-trend",4,"ngIf"],[1,"category-actions"],["title","View Category Expenses",1,"action-btn","primary",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z","fill","currentColor"],[1,"category-insights"],["class","insight-badge",3,"class",4,"ngFor","ngForOf"],[1,"insight-badge"],[1,"insight-icon"],[1,"insight-text"],[1,"amount-trend"],[1,"trend-icon"],[1,"trend-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-action"],["routerLink","/categories",1,"btn"],[1,"expense-timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],["class","timeline-connector",4,"ngIf"],[1,"expense-card"],[1,"expense-header"],[1,"expense-icon"],[1,"expense-meta"],[1,"expense-date"],[1,"expense-amount"],[1,"amount-indicator"],[1,"expense-content"],[1,"expense-description"],[1,"expense-details"],[1,"detail-row"],[1,"detail-item"],[1,"detail-icon"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["class","expense-insights",4,"ngIf"],[1,"expense-actions"],["title","Edit Expense",1,"action-btn","primary",3,"click"],["d","M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Delete",1,"action-btn","danger",3,"click"],["d","M3 6h18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"timeline-connector"],[1,"connector-line"],["class","detail-item",4,"ngIf"],[1,"detail-value","priority-badge"],[1,"detail-value","type-badge","large-expense"],[1,"expense-insights"],["routerLink","/expenses",1,"btn"],[1,"pattern-chart"],["class","chart-bar",3,"height",4,"ngFor","ngForOf"],[1,"chart-bar"],[1,"tooltip-day"],[1,"tooltip-count"],[1,"empty-state","compact"],[1,"top-expenses"],["class","top-expense",4,"ngFor","ngForOf"],[1,"top-expense"],[1,"rank"],[1,"expense-info"],[1,"expense-name"],[1,"expense-category"],[1,"action-item"],["class","action-card",3,"routerLink",4,"ngIf"],["class","action-card",3,"click",4,"ngIf"],[1,"action-card",3,"routerLink"],[1,"action-content"],[1,"action-card",3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),_(5,"\u{1F4CA} Smart Dashboard"),m(),p(6,"p",5),_(7,"Complete financial overview at a glance"),m()(),p(8,"div",6)(9,"div",7)(10,"button",8)(11,"span",9),_(12,"\u2795"),m(),p(13,"span",10),_(14,"Add Expense"),m()(),p(15,"button",11),X("click",function(){return r.exportData()}),p(16,"span",9),_(17,"\u{1F4E5}"),m(),p(18,"span",10),_(19,"Export Data"),m()(),p(20,"button",11),X("click",function(){return r.toggleInsights()}),p(21,"span",9),_(22),m(),p(23,"span",10),_(24),m()()()()()(),p(25,"div",12)(26,"div",13),Y(27,vG,5,4,"button",14),m(),Y(28,wG,16,4,"div",15),m(),Y(29,PG,17,5,"div",16),p(30,"div",17),Y(31,DG,14,7,"div",18),m(),Y(32,TG,52,9,"div",19),p(33,"div",20)(34,"div",21)(35,"div",22)(36,"div",3)(37,"span",23),_(38,"\u{1F3F7}\uFE0F"),m(),p(39,"h5",24),_(40,"Category-wise Spending"),m()(),p(41,"div",25)(42,"div",26)(43,"div",27)(44,"span",28),_(45,"Total"),m(),p(46,"span",29),_(47),He(48,"number"),m()(),p(49,"div",27)(50,"span",28),_(51,"Period"),m(),p(52,"span",29),_(53),m()()()()(),p(54,"div",30),Y(55,RG,3,1,"div",31)(56,VG,2,1,"div",32)(57,jG,10,0,"div",33),m()(),p(58,"div",34)(59,"div",22)(60,"div",3)(61,"span",23),_(62,"\u{1F4DD}"),m(),p(63,"h5",24),_(64,"Recent Expenses"),m()(),p(65,"div",25)(66,"div",35)(67,"div",36)(68,"span",37),_(69,"Last 7 days"),m(),p(70,"span",38),_(71),He(72,"number"),m()()(),p(73,"button",39),X("click",function(){return r.viewAllExpenses()}),_(74," View All "),m()()(),p(75,"div",30),Y(76,GG,2,1,"div",40)(77,KG,10,0,"div",33),m()(),p(78,"div",41)(79,"div",22)(80,"span",23),_(81,"\u{1F4C8}"),m(),p(82,"h5",24),_(83,"Spending Patterns"),m()(),p(84,"div",30)(85,"div",42)(86,"h6"),_(87,"Spending by Day of Week"),m(),Y(88,QG,2,1,"div",43)(89,ZG,7,0,"div",44),m(),p(90,"div",42)(91,"h6"),_(92,"Top 5 Expenses"),m(),Y(93,XG,2,1,"div",45)(94,eK,7,0,"div",44),m()()()(),p(95,"div",46)(96,"div",47)(97,"h3"),_(98,"\u26A1 Quick Actions"),m()(),p(99,"div",48),Y(100,rK,3,2,"div",49),m()()()),t&2&&(w(22),K(r.showInsights?"\u{1F4CA}":"\u{1F50D}"),w(2),K(r.showInsights?"Hide Insights":"Show Insights"),w(3),V("ngForOf",r.getSmartFilters()),w(),V("ngIf",r.selectedPeriod==="custom"),w(),V("ngIf",r.selectedPeriod==="monthOnly"),w(2),V("ngForOf",r.getQuickSummaryCards()),w(),V("ngIf",r.showInsights),w(15),me("\u20B9",Vt(48,20,r.getFilteredTotal())),w(6),K(r.getFilterLabel()),w(2),V("ngIf",r.getCategoriesSortedByExpense().length>0),w(),V("ngIf",r.getCategoriesSortedByExpense().length>0),w(),V("ngIf",r.getCategoriesSortedByExpense().length===0),w(14),me("\u20B9",Vt(72,22,r.getLastWeekTotal())),w(5),V("ngIf",r.getRecentExpensesSorted().length>0),w(),V("ngIf",r.getRecentExpensesSorted().length===0),w(11),V("ngIf",r.getSpendingByDay().length>0&&r.getMaxSpendingAmount()>0),w(),V("ngIf",r.getSpendingByDay().length===0||r.getMaxSpendingAmount()===0),w(4),V("ngIf",r.getTopExpenses(5).length>0),w(),V("ngIf",r.getTopExpenses(5).length===0),w(6),V("ngForOf",r.getQuickActions()))},dependencies:[an,ei,Cn,hr,vs,Cs,ur,Ei,dr,Wn,Pb,Ko,j0,ta],styles:[`@charset "UTF-8";html[_ngcontent-%COMP%]{scroll-behavior:smooth}.dashboard-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe);min-height:100vh;padding:1.25rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#1e293b}.smart-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);border-radius:16px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 8px 30px #a855f726}.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem}@media (max-width: 768px){.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex:1}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:700;margin:0 0 .5rem;letter-spacing:-.025em}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0 0 1rem;font-weight:400}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);border-radius:50px;padding:.75rem 1.5rem;font-size:.875rem;font-weight:500;color:#fff;display:inline-flex;align-items:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s ease}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .period-icon[_ngcontent-%COMP%]{font-size:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .period-text[_ngcontent-%COMP%]{font-weight:500}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-monthly[_ngcontent-%COMP%]{background:#22c55e33;border-color:#22c55e4d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-yearly[_ngcontent-%COMP%]{background:#3b82f633;border-color:#3b82f64d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-last30[_ngcontent-%COMP%]{background:#f59e0b33;border-color:#f59e0b4d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-last7[_ngcontent-%COMP%]{background:#10b98133;border-color:#10b9814d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-custom[_ngcontent-%COMP%]{background:#ef444433;border-color:#ef44444d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{margin-left:.5rem;display:flex;gap:.5rem;align-items:flex-end;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);max-width:280px;flex-wrap:wrap}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#ffffffe6;text-transform:uppercase;letter-spacing:.5px;margin:0}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{background:#fafbfcf2;border:1px solid rgba(250,251,252,.3);border-radius:6px;padding:.375rem 1.5rem .375rem .5rem;font-size:.8rem;font-weight:600;color:#1e293b;cursor:pointer;transition:all .2s ease;min-width:80px;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .3rem center;background-repeat:no-repeat;background-size:1em}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover{border-color:#ffffff80;background-color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fffc;background-color:#fff;box-shadow:0 0 0 3px #fff3}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{min-width:70px;max-width:90px}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{min-width:60px;max-width:75px}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}@media (max-width: 768px){.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:center}}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.25rem;border-radius:12px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;text-decoration:none;font-size:.875rem;flex:1;min-width:140px;justify-content:center}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#fff3;border-color:#ffffff4d}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.125rem}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-text[_ngcontent-%COMP%]{font-size:.875rem}.smart-filters[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;color:#64748b;padding:.625rem 1.25rem;border-radius:10px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;gap:.25rem;font-size:.875rem}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-color:#3b82f6;color:#fff;box-shadow:0 4px 15px #3b82f633}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .filter-description[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:1.5rem;margin-top:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;flex-wrap:wrap}@media (max-width: 768px){.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:150px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #e5e7eb;border-radius:12px;font-size:.875rem;background:#fff;color:#374151;transition:all .2s ease;cursor:pointer}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:hover{border-color:#d1d5db}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{flex:1}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]:hover{background:#ef44441a}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;font-weight:600}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{color:#dc2626}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;padding:0 .5rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280;background:#f3f4f6;padding:.5rem 1rem;border-radius:8px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message.valid[_ngcontent-%COMP%]{background:#22c55e1a;color:#059669;border:1px solid rgba(34,197,94,.2)}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message.invalid[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   .validation-icon[_ngcontent-%COMP%]{font-size:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   .validation-text[_ngcontent-%COMP%]{font-size:.875rem}.month-only-filter[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:2rem;margin-top:1.5rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:16px;padding:2rem;margin-bottom:1rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:2rem;justify-content:center;flex-wrap:wrap;margin-bottom:1.5rem}@media (max-width: 768px){.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:center}}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;min-width:180px;position:relative}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#1e293b;text-align:center;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.25rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{padding:1rem 2.5rem 1rem 1.25rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;font-weight:600;background:#fff;color:#1e293b;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;box-shadow:0 2px 4px #0000000d;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f626,0 4px 12px #3b82f61a;transform:translateY(-1px)}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f61a;transform:translateY(-1px)}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:500;padding:.5rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]:has(select:focus), .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]:has(select:focus){transform:scale(1.02);transition:transform .2s ease}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:2px;height:60px;background:linear-gradient(135deg,#e2e8f0,#cbd5e1);border-radius:1px}@media (max-width: 768px){.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]:after{display:none}}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;border-radius:12px;font-size:.95rem;font-weight:600;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;box-shadow:0 4px 15px #3b82f64d;transition:all .3s ease}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.5px;font-size:.8rem;opacity:.9}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-dates[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,monospace;font-weight:700;font-size:1rem;letter-spacing:.5px}.month-only-filter[_ngcontent-%COMP%]:before{content:"\\1f4c5  Select Month & Year";display:block;text-align:center;font-size:1.1rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem;letter-spacing:.5px}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;transition:all .2s ease;position:relative}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 30px #0000001a}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.75rem;color:#3b82f6}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#64748b;margin:0}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin-bottom:.5rem;letter-spacing:-.025em}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]{color:#dc2626}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]{color:#16a34a}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]{color:#64748b}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:1rem}.insights-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;margin-bottom:2rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#1e293b;font-weight:600;font-size:1.5rem}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:.75rem 0;border-bottom:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority[_ngcontent-%COMP%]{width:3px;border-radius:2px}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-high[_ngcontent-%COMP%]{background:#dc2626}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-medium[_ngcontent-%COMP%]{background:#f59e0b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-low[_ngcontent-%COMP%]{background:#16a34a}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]{flex:1}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#64748b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]{text-align:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]   .analytics-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-bottom:.25rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]:last-child{border-bottom:none}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#64748b}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 12px #0000000d;border:1px solid #e2e8f0;overflow:hidden;transition:all .2s ease;height:fit-content}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 20px #0000001a}.content-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#ffffffe6;border:1px solid rgba(255,255,255,.8);color:#3b82f6;font-size:.875rem;font-weight:500;padding:.5rem 1rem;border-radius:8px;transition:all .2s ease;text-decoration:none;display:inline-block;cursor:pointer}.content-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#fff;transform:translateY(-1px);text-decoration:none;color:#3b82f6}.content-card[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.content-card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.8);color:#fff}.content-card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#ffffffe6;color:#3b82f6;border-color:#fff}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;padding:1rem 1.25rem;display:flex;align-items:center;justify-content:space-between}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.25rem;opacity:.9}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;background:#ffffff26;padding:.5rem 1rem;border-radius:8px}.content-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:right}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fffc;font-weight:500;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:700;color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:8px;border:1px solid #e2e8f0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]{display:flex;height:32px;border-radius:6px;overflow:hidden;box-shadow:inset 0 1px 3px #0000001a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{position:relative;min-width:16px;transition:all .3s ease;cursor:pointer}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scaleY(1.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translateY(-10px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%) translateY(0);background:#1e293b;color:#fff;padding:.5rem;border-radius:6px;font-size:.75rem;white-space:nowrap;opacity:0;transition:all .3s ease;z-index:10;box-shadow:0 4px 12px #00000026}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#1e293b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-category[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-percentage[_ngcontent-%COMP%]{color:#94a3b8;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{font-weight:600;color:#10b981}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:#fffacd;border-radius:12px;padding:1.5rem;display:grid;grid-template-columns:auto 1fr auto;gap:1.5rem;align-items:center;transition:all .3s ease;border:1px solid #e2e8f0;box-shadow:0 1px 4px #0000000d;overflow:hidden;margin:10px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-1px);box-shadow:0 4px 15px #0000001a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.75rem;min-width:80px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 4px 12px #00000026}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;width:100%}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:3px;transition:width .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#64748b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;flex:1;min-width:0;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}@media (max-width: 768px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.5rem}}@media (max-width: 480px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.375rem}}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.5rem;background:beige;border-radius:8px;border:1px solid #e2e8f0;min-width:0;overflow:visible;flex-wrap:wrap}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;min-width:120px;max-width:200px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:right}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b;margin-bottom:.5rem;margin-right:12px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;font-weight:500}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-up[_ngcontent-%COMP%]{color:#dc2626}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-down[_ngcontent-%COMP%]{color:#16a34a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-stable[_ngcontent-%COMP%]{color:#64748b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;border:none;border-radius:8px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap;min-width:fit-content;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#3b82f633;transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]{background:#f8fafc;border:1px dashed #cbd5e1;opacity:.6}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-right:1rem}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fffc;font-weight:500;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:700;color:#fff}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]{position:absolute;left:25px;top:-1.5rem;bottom:0;z-index:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]   .connector-line[_ngcontent-%COMP%]{width:2px;height:100%;background:linear-gradient(180deg,#e2e8f0,#cbd5e1);border-radius:1px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{background:#e6e6fa;border-radius:12px;padding:1rem 1.25rem;border:1px solid #e2e8f0;box-shadow:0 1px 4px #0000000d;transition:all .3s ease;position:relative;z-index:2;margin:10px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translateY(-1px);box-shadow:0 4px 15px #0000001a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.25rem;color:#fff;box-shadow:0 3px 8px #00000026;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{flex:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-time[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.25rem .5rem;border-radius:4px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:.75rem;line-height:1.4}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1rem;color:#64748b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;min-width:60px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge.large-expense[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e2e8f0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.375rem .625rem;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;flex:1;height:2.5rem;justify-content:center}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#3b82f633;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1.5rem;background:#f8fafc;border-radius:12px;border:1px dashed #cbd5e1;margin:1rem 0}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.75rem;opacity:.6;color:#64748b}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#475569;margin-bottom:.5rem;font-size:.9rem;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0;font-size:.8rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]{margin-top:1rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .2s ease;text-decoration:none;display:inline-block;cursor:pointer;font-size:.875rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 15px #3b82f64d;text-decoration:none;color:#fff}.empty-state.compact[_ngcontent-%COMP%]{padding:1.5rem 1rem;margin:.5rem 0}.empty-state.compact[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.empty-state.compact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.empty-state.compact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]{margin-bottom:2rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:1rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;height:180px;gap:.5rem;margin-bottom:1rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:4px 4px 0 0;position:relative;transition:all .2s ease;min-height:20px}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#1e293b;color:#fff;padding:.5rem;border-radius:6px;font-size:.75rem;white-space:nowrap;opacity:0;visibility:hidden;transition:all .2s ease;z-index:10}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#1e293b}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-day[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{opacity:.9}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-count[_ngcontent-%COMP%]{opacity:.8;font-size:.7rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:24px;height:24px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{flex:1}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.quick-actions-panel[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;padding:2rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;margin-top:2rem}.quick-actions-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.quick-actions-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}@media (max-width: 768px){.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;transition:all .2s ease;cursor:pointer;text-decoration:none;color:inherit;height:100%;width:100%}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-1px);box-shadow:0 4px 15px #0000001a;text-decoration:none;color:inherit}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0;color:#3b82f6}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{flex:1;text-align:left}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1rem;font-weight:600;color:#1e293b;text-align:left}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#64748b;text-align:left}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.smart-header[_ngcontent-%COMP%]{padding:1.5rem}.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{margin-left:.25rem;gap:.375rem;padding:.375rem;max-width:240px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]{gap:.25rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-size:.65rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{padding:.25rem 1.25rem .25rem .375rem;font-size:.75rem;min-width:60px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{min-width:60px;max-width:75px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{min-width:50px;max-width:65px}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:center}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;flex:1;min-width:120px}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{flex-direction:column}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]{width:48px;height:48px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.125rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.75rem}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%], .insights-section[_ngcontent-%COMP%]{padding:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}}@media (max-width: 768px) and (max-width: 1200px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:auto 1fr;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{grid-column:1/-1;flex-direction:row;justify-content:space-between;align-items:center;max-width:none;margin-top:1rem}}@media (max-width: 768px) and (max-width: 768px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{justify-self:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;margin-top:.75rem}}@media (max-width: 768px){.quick-actions-panel[_ngcontent-%COMP%]{padding:1.5rem}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem;padding:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{align-self:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{margin-top:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{text-align:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{justify-content:center;gap:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:.875rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{align-items:center;text-align:center;min-width:auto}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:center;margin-bottom:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.7rem;min-width:auto}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;align-items:flex-start}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]{margin-right:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{padding:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;gap:.75rem;align-items:center;margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.25rem;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{text-align:left;min-width:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#1e293b;margin-bottom:.25rem;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.25rem .5rem;border-radius:4px;display:inline-block}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:.75rem;line-height:1.4;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fafad2;border-radius:6px;border:1px solid #e2e8f0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;min-width:50px;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge.large-expense[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e2e8f0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;border:none;border-radius:6px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s ease;flex:1;justify-content:center;white-space:nowrap;min-width:fit-content}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#3b82f633;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]{padding:.5rem}.smart-header[_ngcontent-%COMP%]{padding:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.5rem;gap:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.125rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.9rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{padding:.15rem .375rem;font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:.8rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.15rem .25rem;font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{padding:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto;gap:.5rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.125rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.125rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.125rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.375rem;margin-bottom:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.8rem;min-width:50px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.8rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{gap:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{gap:.375rem;margin-top:.5rem;padding-top:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.7rem;min-width:70px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}}`]})};var iK=n=>({background:n});function oK(n,e){if(n&1&&(p(0,"option",60),_(1),m()),n&2){let t=e.$implicit;V("value",t.id),w(),Kt(" ",t.icon," ",t.name," ")}}function sK(n,e){if(n&1){let t=Le();p(0,"button",61),X("click",function(){z(t);let i=U();return H(i.clearCategory())}),_(1," \u2715 "),m()}}function aK(n,e){if(n&1){let t=Le();p(0,"button",62),X("click",function(){z(t);let i=U();return H(i.cancelEdit())}),p(1,"span",34),_(2,"\u274C"),m(),p(3,"span",35),_(4,"Cancel"),m()()}}function cK(n,e){if(n&1){let t=Le();p(0,"div",63)(1,"span",64),_(2),p(3,"button",65),X("click",function(){z(t);let i=U();return H(i.clearCategoryFilter())}),_(4," \u2715 "),m()()()}if(n&2){let t=U();w(2),Kt(" ",t.getCategoryIcon(t.filterCategory)," ",t.getCategoryName(t.filterCategory)," ")}}function lK(n,e){if(n&1&&(p(0,"option",60),_(1),m()),n&2){let t=e.$implicit;V("value",t.id),w(),Kt("",t.icon," ",t.name)}}function uK(n,e){if(n&1){let t=Le();p(0,"div",66)(1,"div",67)(2,"div",68)(3,"span",69),_(4),m()(),p(5,"div",70)(6,"div",71)(7,"button",72),X("click",function(){z(t);let i=U();return H(i.goToPage(i.currentPage-1))}),_(8," \u2190 Previous "),m(),p(9,"span",73),_(10),m(),p(11,"button",74),X("click",function(){z(t);let i=U();return H(i.goToPage(i.currentPage+1))}),_(12," Next \u2192 "),m()()()()()}if(n&2){let t=U();w(4),Og(" Showing ",t.getStartIndex()+1," to ",t.getEndIndex()," of ",t.getFilteredExpenses().length," expenses "),w(3),V("disabled",t.currentPage===1),w(3),Kt(" Page ",t.currentPage," of ",t.getTotalPages()," "),w(),V("disabled",t.currentPage===t.getTotalPages())}}function dK(n,e){if(n&1){let t=Le();p(0,"div",77)(1,"div",78)(2,"div",79),_(3),He(4,"currency"),m(),p(5,"div",80)(6,"span",81),_(7),m()()(),p(8,"div",82)(9,"div",83),_(10),He(11,"date"),m(),p(12,"div",84),_(13),m()(),p(14,"div",85)(15,"button",86),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.editExpense(i))}),p(16,"span",87),_(17,"\u270F\uFE0F"),m()(),p(18,"button",88),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.deleteExpense(i))}),p(19,"span",87),_(20,"\u{1F5D1}\uFE0F"),m()()()()}if(n&2){let t=e.$implicit,r=e.index,i=U(2);Dn("animation-delay",r*.1+"s"),w(3),K(vn(4,8,t.amount,"INR")),w(3),V("ngStyle",Au(13,iK,i.getCategoryColor(t.categoryId))),w(),Kt(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),w(3),K(Vt(11,11,t.date)),w(3),K(t.description||"No description")}}function hK(n,e){if(n&1&&(p(0,"div",75),Y(1,dK,21,15,"div",76),m()),n&2){let t=U();w(),V("ngForOf",t.getPaginatedExpenses())}}function fK(n,e){n&1&&(p(0,"div",89)(1,"div",90),_(2,"\u{1F4CB}"),m(),p(3,"h6"),_(4,"No expenses found"),m(),p(5,"p"),_(6,"Add your first expense using the form above!"),m()())}var Fy=class n{constructor(e,t,r,i,o,s){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.filterStateService=i;this.router=o;this.route=s}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:this.getCurrentDateString(),categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};amountInput="";filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";dashboardPeriod="all";dashboardMonth="";dashboardYear="";dashboardStartDate="";dashboardEndDate="";dashboardMonthOnly="";dashboardYearOnly="";isEditMode=!1;editingExpenseId="";currentPage=1;itemsPerPage=10;subscription=new qe;ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.edit,r=e.mode,i=e.category,o=e.filter;t&&r==="edit"&&(this.isEditMode=!0,this.editingExpenseId=t,console.log("Edit mode activated for expense:",t)),i&&o==="category"&&(this.filterCategory=i,console.log("Category filter applied:",i))}),this.loadDashboardFilterState(),this.subscription.add(this.filterStateService.filterState$.subscribe(e=>{console.log("Filter state changed in expenses component:",e),this.loadDashboardFilterState()})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,console.log(`Received ${e.length} expenses from Firebase`),this.isEditMode&&this.editingExpenseId&&this.loadExpenseForEditing()})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadDashboardFilterState(){let e=this.filterStateService.getFilterState();if(console.log("Loading dashboard filter state from service:",e),this.dashboardPeriod=e.selectedPeriod,this.dashboardMonth=e.selectedMonth,this.dashboardYear=e.selectedYear,this.dashboardStartDate=e.customStartDate,this.dashboardEndDate=e.customEndDate,this.dashboardMonthOnly=e.selectedMonthOnly||"",this.dashboardYearOnly=e.selectedYearOnly||"",this.dashboardPeriod==="custom"&&this.dashboardStartDate&&this.dashboardEndDate)this.filterDateFrom=this.dashboardStartDate,this.filterDateTo=this.dashboardEndDate,console.log("Populated expenses page date filters with dashboard custom range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo});else if(this.dashboardPeriod==="monthly"&&this.dashboardMonth&&this.dashboardYear){let t=parseInt(this.dashboardMonth),r=parseInt(this.dashboardYear),i=new Date(r,t,1),o=new Date(r,t+1,0);this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard monthly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="yearly"&&this.dashboardYear){let t=parseInt(this.dashboardYear),r=new Date(t,0,1),i=new Date(t,11,31);this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=i.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard yearly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last30"){let t=new Date,r=new Date;r.setDate(t.getDate()-30),this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=t.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 30 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last7"){let t=new Date,r=new Date;r.setDate(t.getDate()-7),this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=t.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 7 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="monthOnly"&&this.dashboardMonthOnly&&this.dashboardYearOnly){let t=parseInt(this.dashboardMonthOnly),r=parseInt(this.dashboardYearOnly),i=new Date(Date.UTC(r,t,1)),o=new Date(Date.UTC(r,t+1,0));this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard month only range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}console.log("Dashboard filter state loaded into expenses component:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly})}loadData(){return b(this,null,function*(){try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{}})}loadExpenseForEditing(){let e=this.expenses.find(t=>t.id===this.editingExpenseId);e?(this.newExpense=j({},e),this.amountInput=e.amount.toString(),console.log("Loaded expense for editing:",e)):(console.error("Expense not found for editing:",this.editingExpenseId),this.isEditMode=!1,this.editingExpenseId="")}addExpense(){return b(this,null,function*(){this.validateExpense()&&(this.isEditMode?yield this.saveExpenseChanges():yield this.createNewExpense())})}createNewExpense(){return b(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){alert("Please enter a valid amount greater than 0.");return}let t={description:this.newExpense.description,amount:e,date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},r=yield this.expenseService.add(t);console.log(`Expense added with Firebase ID: ${r}`),this.resetForm(),this.checkAchievements()}catch(e){console.error("Error adding expense:",e)}})}saveExpenseChanges(){return b(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){alert("Please enter a valid amount greater than 0.");return}let t=ce(j({},this.newExpense),{amount:e});yield this.expenseService.update(t),console.log("Expense updated successfully"),this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}catch(e){console.error("Error updating expense:",e)}})}cancelEdit(){this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}editExpense(e){return b(this,null,function*(){try{let t=this.getCategoryName(e.categoryId),r=window.prompt("Description:",e.description)||e.description,i=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),o=window.prompt("Date (YYYY-MM-DD):",e.date)||e.date,s=this.createCategorySelectionDialog(e.categoryId);if(s===null)return;let a=parseFloat(i);if(isNaN(a)||a<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(o)){alert("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let u=new Date(o+"T00:00:00"),d=new Date;if(d.setHours(0,0,0,0),u>d){alert("Cannot edit expenses to future dates. Please select today's date or a past date.");return}let f=this.categories.find(M=>M.id===s);if(!f){alert(`Error: Category with ID "${s}" does not exist. Please select a valid category from the list.`);return}let y=ce(j({},e),{description:r,amount:a,date:o,categoryId:s});yield this.expenseService.update(y);let v=`Expense updated successfully!

Description: ${r}
Amount: \u20B9${a}
Date: ${o}
Category: ${f.icon} ${f.name}`;alert(v)}catch(t){console.error("Error editing expense:",t),alert("Error updating expense. Please try again.")}finally{}})}createCategorySelectionDialog(e){if(this.categories.length===0)return alert("No categories available. Please create some categories first before editing expenses."),null;let t=this.categories.find(d=>d.id===e),i=`Current category: ${t?`${t.icon} ${t.name}`:"Unknown (Category not found)"}

`;i+=`Available categories:
`,t?i+=`0. Keep current category
`:i+=`\u26A0\uFE0F Current category not found - please select a new category

`,this.categories.forEach((d,f)=>{i+=`${f+1}. ${d.icon} ${d.name}
`});let o=t?`0-${this.categories.length}`:`1-${this.categories.length}`;i+=`
Enter the number of your choice (${o}):`;let s=window.prompt(i,"0");if(s===null)return null;let a=parseInt(s),c=t?this.categories.length:this.categories.length,u=t?0:1;if(isNaN(a)||a<u||a>c){let d=t?`0-${this.categories.length}`:`1-${this.categories.length}`;return alert(`Invalid choice. Please enter a number between ${d}`),this.createCategorySelectionDialog(e)}return a===0&&t?e:this.categories[a-1].id}deleteExpense(e){return b(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`))try{yield this.expenseService.delete(e.id)}catch(r){console.error("Error deleting expense:",r)}finally{}})}validateExpense(){if(!this.newExpense.description?.trim())return alert("Please enter a description."),!1;let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0)return alert("Please enter a valid amount greater than 0."),!1;if(!this.newExpense.categoryId)return alert("Please select a category."),!1;if(!this.newExpense.date)return alert("Please select a date."),!1;let t=new Date(this.newExpense.date+"T00:00:00"),r=new Date;return r.setHours(0,0,0,0),t>r?(alert("Cannot add expenses for future dates. Please select today's date or a past date."),!1):!0}isFormValid(){let e=parseFloat(this.amountInput);return!!(this.newExpense.description?.trim()&&this.amountInput&&!isNaN(e)&&e>0&&this.newExpense.categoryId&&this.newExpense.date)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:this.getCurrentDateString(),categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""},this.amountInput=""}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e=this.applyDashboardFilters(e),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}applyDashboardFilters(e){if(console.log("Applying dashboard filters:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly,totalExpenses:e.length}),!this.dashboardPeriod||this.dashboardPeriod==="all")return console.log("No dashboard filter active, returning all expenses"),e;let t=new Date;switch(this.dashboardPeriod){case"monthly":if(this.dashboardMonth&&this.dashboardYear){let a=parseInt(this.dashboardMonth),c=parseInt(this.dashboardYear);console.log("Applying monthly filter:",{month:a,year:c});let u=e.filter(d=>{let f=new Date(d.date);return f.getMonth()===a&&f.getFullYear()===c});return console.log(`Monthly filter: ${e.length} -> ${u.length} expenses`),u}console.log("Monthly filter: missing month or year");break;case"yearly":if(this.dashboardYear){let a=parseInt(this.dashboardYear);console.log("Applying yearly filter:",{year:a});let c=e.filter(u=>new Date(u.date).getFullYear()===a);return console.log(`Yearly filter: ${e.length} -> ${c.length} expenses`),c}console.log("Yearly filter: missing year");break;case"last30":let r=new Date;r.setDate(t.getDate()-30),console.log("Applying last 30 days filter:",{thirtyDaysAgo:r});let i=e.filter(a=>new Date(a.date)>=r);return console.log(`Last 30 days filter: ${e.length} -> ${i.length} expenses`),i;case"last7":let o=new Date;o.setDate(t.getDate()-7),console.log("Applying last 7 days filter:",{sevenDaysAgo:o});let s=e.filter(a=>new Date(a.date)>=o);return console.log(`Last 7 days filter: ${e.length} -> ${s.length} expenses`),s;case"custom":if(this.dashboardStartDate&&this.dashboardEndDate){console.log("Applying custom date range filter:",{startDate:this.dashboardStartDate,endDate:this.dashboardEndDate});let a=e.filter(c=>{let u=new Date(c.date),d=new Date(this.dashboardStartDate),f=new Date(this.dashboardEndDate);return u>=d&&u<=f});return console.log(`Custom filter: ${e.length} -> ${a.length} expenses`),a}console.log("Custom date range filter: missing start or end date");break;case"monthOnly":if(this.dashboardMonthOnly&&this.dashboardYearOnly){let a=parseInt(this.dashboardMonthOnly),c=parseInt(this.dashboardYearOnly);console.log("Applying month only filter:",{month:a,year:c});let u=e.filter(d=>{let f=new Date(d.date);return f.getMonth()===a&&f.getFullYear()===c});return console.log(`Month only filter: ${e.length} -> ${u.length} expenses`),u}console.log("Month only filter: missing month or year");break}return console.log("No matching dashboard filter, returning all expenses"),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getMonthName(e){let t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=parseInt(e);return t[r]||"Unknown"}clearDashboardFilters(){this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.filterDateFrom="",this.filterDateTo="";let e=this.route.snapshot.queryParams;this.router.navigate([],{queryParams:{category:e.category,filter:e.filter},replaceUrl:!0})}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo="",this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.resetPagination(),this.router.navigate([],{queryParams:{},replaceUrl:!0})}clearCategoryFilter(){this.filterCategory="",this.resetPagination(),this.router.navigate([],{queryParams:{},queryParamsHandling:"merge"})}onCategoryFilterChange(){this.resetPagination()}clearCategory(){this.newExpense.categoryId=""}onAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.amountInput=r}onAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}onFilterAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.filterAmount=r,this.resetPagination()}onFilterAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?alert("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?alert("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&alert("Incredible! You've logged 100 expenses. You're a financial tracking master!");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);alert(`${o} mastery achieved! You've logged 10 expenses in this category.`)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&alert(`Daily streak of ${o} days achieved! Keep it up!`)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}validateCategoryExists(e){return this.categories.some(t=>t.id===e)}getCategoryById(e){return this.categories.find(r=>r.id===e)||null}getExpensesWithUnknownCategories(){return this.expenses.filter(e=>!this.categories.find(t=>t.id===e.categoryId))}getUnknownCategoryCount(){return this.getExpensesWithUnknownCategories().length}getCurrentDateString(){let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${i}`}getMaxDate(){return this.getCurrentDateString()}onFromDateChange(){this.filterDateTo&&this.filterDateFrom&&this.filterDateTo<this.filterDateFrom&&(this.filterDateTo=""),this.resetPagination()}onToDateChange(){this.filterDateFrom&&this.filterDateTo&&this.filterDateTo<this.filterDateFrom&&(alert("To Date cannot be earlier than From Date. Please select a valid date range."),this.filterDateTo=""),this.resetPagination()}getPaginatedExpenses(){let e=this.getFilteredExpenses(),t=this.getStartIndex(),r=this.getEndIndex();return e.slice(t,r)}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage}getEndIndex(){let e=this.getFilteredExpenses();return Math.min(this.currentPage*this.itemsPerPage,e.length)}getTotalPages(){let e=this.getFilteredExpenses();return Math.ceil(e.length/this.itemsPerPage)}goToPage(e){let t=this.getTotalPages();e>=1&&e<=t&&(this.currentPage=e)}resetPagination(){this.currentPage=1}static \u0275fac=function(t){return new(t||n)(q(Mi),q(Ii),q(kn),q(Tl),q(dt),q(sr))};static \u0275cmp=Gt({type:n,selectors:[["app-expenses"]],decls:114,vars:33,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","text","id","expenseAmount","placeholder","0.00","name","amount","required","",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel","max"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],[1,"d-flex","gap-2"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[1,"filters-card","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],["class","active-filter-indicator",4,"ngIf"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","change","ngModel","max"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","change","ngModel","max","min"],["for","filterAmount",1,"form-label-modern"],["type","text","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","pagination-controls mb-3",4,"ngIf"],["class","expenses-list",4,"ngIf","ngIfElse"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],["type","button",1,"btn-cancel",3,"click"],[1,"active-filter-indicator"],[1,"filter-badge"],["title","Clear category filter",1,"clear-filter-btn",3,"click"],[1,"pagination-controls","mb-3"],[1,"pagination-layout"],[1,"pagination-info"],[1,"text-muted"],[1,"pagination-navigation"],[1,"pagination-buttons"],["type","button","title","Previous page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"page-info"],["type","button","title","Next page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"]],template:function(t,r){if(t&1){let i=Le();p(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),_(5,"\u{1F4B8}"),m()(),p(6,"div")(7,"h1",7),_(8),m(),p(9,"p",8),_(10),m()()()(),p(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),_(15),m(),p(16,"h5",8),_(17),m()()(),p(18,"div",12)(19,"form",13,0),X("ngSubmit",function(){return z(i),H(r.addExpense())}),p(21,"div",14)(22,"div",15)(23,"label",16),_(24,"Amount"),m(),p(25,"div",17)(26,"span",18),_(27,"\u20B9"),m(),p(28,"input",19),De("ngModelChange",function(s){return z(i),Te(r.amountInput,s)||(r.amountInput=s),H(s)}),X("input",function(s){return z(i),H(r.onAmountInput(s))})("keypress",function(s){return z(i),H(r.onAmountKeypress(s))}),m()()(),p(29,"div",15)(30,"label",20),_(31,"Date"),m(),p(32,"input",21),De("ngModelChange",function(s){return z(i),Te(r.newExpense.date,s)||(r.newExpense.date=s),H(s)}),m()(),p(33,"div",15)(34,"label",22),_(35,"Category"),m(),p(36,"div",23)(37,"select",24),De("ngModelChange",function(s){return z(i),Te(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),H(s)}),p(38,"option",25),_(39,"\u{1F3F7}\uFE0F Select a category"),m(),Y(40,oK,2,3,"option",26),m(),Y(41,sK,2,0,"button",27),m()(),p(42,"div",15)(43,"label",28),_(44,"Description"),m(),p(45,"input",29),De("ngModelChange",function(s){return z(i),Te(r.newExpense.description,s)||(r.newExpense.description=s),H(s)}),m()(),p(46,"div",30)(47,"label",31),_(48,"\xA0"),m(),p(49,"div",32)(50,"button",33)(51,"span",34),_(52),m(),p(53,"span",35),_(54),m()(),Y(55,aK,5,0,"button",36),m()()()()()(),p(56,"div",37)(57,"div",10)(58,"div",38)(59,"div",4)(60,"span",11),_(61,"\u{1F50D}"),m(),p(62,"h5",8),_(63,"Filters"),m()(),Y(64,cK,5,2,"div",39),m()(),p(65,"div",12)(66,"div",40)(67,"div",41)(68,"label",42),_(69,"Category"),m(),p(70,"select",43),De("ngModelChange",function(s){return z(i),Te(r.filterCategory,s)||(r.filterCategory=s),H(s)}),X("change",function(){return z(i),H(r.onCategoryFilterChange())}),p(71,"option",44),_(72,"\u{1F3F7}\uFE0F All Categories"),m(),Y(73,lK,2,3,"option",26),m()(),p(74,"div",41)(75,"label",45),_(76,"From Date"),m(),p(77,"input",46),De("ngModelChange",function(s){return z(i),Te(r.filterDateFrom,s)||(r.filterDateFrom=s),H(s)}),X("change",function(){return z(i),H(r.onFromDateChange())}),m()(),p(78,"div",41)(79,"label",47),_(80,"To Date"),m(),p(81,"input",48),De("ngModelChange",function(s){return z(i),Te(r.filterDateTo,s)||(r.filterDateTo=s),H(s)}),X("change",function(){return z(i),H(r.onToDateChange())}),m()(),p(82,"div",41)(83,"label",49),_(84,"Min Amount"),m(),p(85,"input",50),De("ngModelChange",function(s){return z(i),Te(r.filterAmount,s)||(r.filterAmount=s),H(s)}),X("input",function(s){return z(i),H(r.onFilterAmountInput(s))})("keypress",function(s){return z(i),H(r.onFilterAmountKeypress(s))}),m()(),p(86,"div",51)(87,"label",31),_(88,"\xA0"),m(),p(89,"button",52),X("click",function(){return z(i),H(r.clearFilters())}),p(90,"span",34),_(91,"\u{1F504}"),m(),p(92,"span",35),_(93,"Clear Filters"),m()()()()()(),p(94,"div",53)(95,"div",10)(96,"div",54)(97,"div",4)(98,"span",11),_(99,"\u{1F4CB}"),m(),p(100,"h5",8),_(101,"All Expenses"),m()(),p(102,"div",55)(103,"div",56),_(104),He(105,"currency"),m(),p(106,"div",57),_(107),m()()()(),p(108,"div",12),Y(109,uK,13,7,"div",58),m(),p(110,"div",12),Y(111,hK,2,1,"div",59)(112,fK,7,0,"ng-template",null,1,d0),m()()()}if(t&2){let i=Zs(113);w(8),me(" ",r.filterCategory&&r.getCategoryName(r.filterCategory)?r.getCategoryName(r.filterCategory)+" Expenses":"Expenses"," "),w(2),me(" ",r.filterCategory&&r.getCategoryName(r.filterCategory)?"Viewing expenses for "+r.getCategoryName(r.filterCategory):"Track and manage your daily expenses"," "),w(5),K(r.isEditMode?"\u270F\uFE0F":"\u2795"),w(2),K(r.isEditMode?"Edit Expense":"Add New Expense"),w(11),Pe("ngModel",r.amountInput),w(4),Pe("ngModel",r.newExpense.date),V("max",r.getMaxDate()),w(5),Pe("ngModel",r.newExpense.categoryId),w(),V("selected",!r.newExpense.categoryId),w(2),V("ngForOf",r.categories),w(),V("ngIf",r.newExpense.categoryId),w(4),Pe("ngModel",r.newExpense.description),w(5),V("disabled",!r.isFormValid()),w(2),K(r.isEditMode?"\u{1F4BE}":"\u2795"),w(2),K(r.isEditMode?"Save Changes":"Add Expense"),w(),V("ngIf",r.isEditMode),w(9),V("ngIf",r.filterCategory&&r.getCategoryName(r.filterCategory)),w(6),Pe("ngModel",r.filterCategory),w(3),V("ngForOf",r.categories),w(4),Pe("ngModel",r.filterDateFrom),V("max",r.getMaxDate()),w(4),Pe("ngModel",r.filterDateTo),V("max",r.getMaxDate())("min",r.filterDateFrom),w(4),Pe("ngModel",r.filterAmount),w(19),K(vn(105,30,r.getTotalAmount(),"INR")),w(3),me("",r.getFilteredExpenses().length," expenses"),w(2),V("ngIf",r.getFilteredExpenses().length>r.itemsPerPage),w(2),V("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",i)}},dependencies:[an,ei,Cn,Bu,hr,_s,vs,Cs,ur,Ei,dr,ys,po,Wn,go,$u,ta],styles:[`.pagination-controls[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1rem;border:1px solid #e9ecef;margin-bottom:1.5rem}.pagination-layout[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;flex-shrink:0}.pagination-navigation[_ngcontent-%COMP%]{flex-shrink:0}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.page-info[_ngcontent-%COMP%]{font-weight:600;color:#495057;font-size:.9rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease;min-width:80px;white-space:nowrap}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:.8rem;cursor:pointer;padding:.2rem;border-radius:50%;transition:all .2s ease}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.1)}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:visible;text-overflow:unset;white-space:normal;line-height:1.3;margin-top:.25rem;text-align:center;width:100%;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.pagination-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.pagination-info[_ngcontent-%COMP%]{text-align:center;order:1}.pagination-navigation[_ngcontent-%COMP%]{order:2}.pagination-buttons[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.75rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;padding:.5rem 1rem;font-size:.9rem}.page-info[_ngcontent-%COMP%]{order:2;text-align:center;width:100%;margin:.5rem 0}.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.pagination-controls[_ngcontent-%COMP%]{padding:.75rem}.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:center}.page-info[_ngcontent-%COMP%]{order:1;margin-bottom:.5rem}.pagination-info[_ngcontent-%COMP%]{font-size:.8rem}.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var gK=n=>({background:n});function pK(n,e){if(n&1&&(p(0,"div",44)(1,"div",45),_(2),m(),p(3,"div",46)(4,"div",47),_(5),m(),p(6,"div",48),_(7),m()()()),n&2){let t=e.$implicit;w(2),K(t.icon),w(3),K(t.value),w(2),K(t.title)}}function mK(n,e){if(n&1&&(p(0,"div",41)(1,"div",42)(2,"h3"),_(3,"\u{1F4CA} Category Analytics"),m()(),p(4,"div",43)(5,"div",44)(6,"div",45),_(7,"\u{1F4C2}"),m(),p(8,"div",46)(9,"div",47),_(10),m(),p(11,"div",48),_(12,"Total Categories"),m()()(),p(13,"div",44)(14,"div",45),_(15,"\u2705"),m(),p(16,"div",46)(17,"div",47),_(18),m(),p(19,"div",48),_(20,"Used Categories"),m()()(),p(21,"div",44)(22,"div",45),_(23,"\u274C"),m(),p(24,"div",46)(25,"div",47),_(26),m(),p(27,"div",48),_(28,"Unused Categories"),m()()(),Y(29,pK,8,3,"div",49),m()()),n&2){let t=U();w(10),K(t.totalCategories),w(8),K(t.usedCategories),w(8),K(t.unusedCategories),w(3),V("ngForOf",t.getAnalyticsInsights())}}function yK(n,e){n&1&&(p(0,"div",50)(1,"span",51),_(2,"\u26A0\uFE0F"),m(),_(3," Category name already exists! "),m())}function _K(n,e){if(n&1){let t=Le();p(0,"div",52)(1,"div",53)(2,"h3"),_(3,"\u{1F50D} Search & Filter"),m(),p(4,"button",54),X("click",function(){z(t);let i=U();return H(i.clearSearch())}),_(5,"Clear All"),m()(),p(6,"div",55)(7,"div",56)(8,"label",57),_(9,"Search"),m(),p(10,"input",58),De("ngModelChange",function(i){z(t);let o=U();return Te(o.searchTerm,i)||(o.searchTerm=i),H(i)}),m()(),p(11,"div",59)(12,"label",60),_(13,"Usage"),m(),p(14,"select",61),De("ngModelChange",function(i){z(t);let o=U();return Te(o.filterByUsage,i)||(o.filterByUsage=i),H(i)}),p(15,"option",62),_(16,"All Categories"),m(),p(17,"option",63),_(18,"Used Only"),m(),p(19,"option",64),_(20,"Unused Only"),m()()(),p(21,"div",59)(22,"label",65),_(23,"Sort By"),m(),p(24,"select",66),De("ngModelChange",function(i){z(t);let o=U();return Te(o.sortBy,i)||(o.sortBy=i),H(i)}),p(25,"option",67),_(26,"Name"),m(),p(27,"option",68),_(28,"Usage"),m(),p(29,"option",69),_(30,"Color"),m()()(),p(31,"div",59)(32,"label",70),_(33,"Order"),m(),p(34,"select",71),De("ngModelChange",function(i){z(t);let o=U();return Te(o.sortOrder,i)||(o.sortOrder=i),H(i)}),p(35,"option",72),_(36,"Ascending"),m(),p(37,"option",73),_(38,"Descending"),m()()()()()}if(n&2){let t=U();w(10),Pe("ngModel",t.searchTerm),w(4),Pe("ngModel",t.filterByUsage),w(10),Pe("ngModel",t.sortBy),w(10),Pe("ngModel",t.sortOrder)}}function vK(n,e){if(n&1){let t=Le();p(0,"div",74)(1,"p",75),_(2,"No categories found. Would you like to initialize default categories?"),m(),p(3,"button",76),X("click",function(){z(t);let i=U();return H(i.initializeDefaultCategories())}),p(4,"span",77),_(5,"\u{1F4C2}"),m(),_(6," Initialize Default Categories "),m()()}}function CK(n,e){if(n&1){let t=Le();p(0,"div",80)(1,"div",81)(2,"div",82),on(3,"div",83),p(4,"div",84),_(5),m(),p(6,"div",85),_(7),m(),p(8,"div",86),_(9),m()(),p(10,"div",87)(11,"button",88),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.updateCategory(i))}),p(12,"span",89),_(13,"\u270F\uFE0F"),m(),p(14,"span",90),_(15,"Edit"),m()(),p(16,"button",91),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.confirmDelete(i))}),p(17,"span",92),_(18,"\u{1F5D1}\uFE0F"),m(),p(19,"span",93),_(20,"Delete"),m()()()()()}if(n&2){let t=e.$implicit,r=U(2);w(3),V("ngStyle",Au(4,gK,t.color)),w(2),K(t.icon),w(2),K(t.name),w(2),me(" ",r.getCategoryUsage(t.id)," expenses ")}}function bK(n,e){if(n&1&&(p(0,"div",78),Y(1,CK,21,6,"div",79),m()),n&2){let t=U();w(),V("ngForOf",t.getFilteredCategories())}}function wK(n,e){n&1&&(p(0,"div",94)(1,"div",95),_(2,"\u{1F50D}"),m(),p(3,"h6",96),_(4,"No Categories Found"),m(),p(5,"p",97),_(6,"Try adjusting your search or filters."),m()())}function EK(n,e){n&1&&(p(0,"div",94)(1,"div",95),_(2,"\u{1F4C2}"),m(),p(3,"h6",96),_(4,"No Categories Yet"),m(),p(5,"p",97),_(6,"Start by adding your first expense category above."),m()())}var Ly=class n{constructor(e,t,r){this.categoryService=e;this.expenseService=t;this.firebaseService=r}categories=[];expenses=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";filterByUsage="all";sortBy="name";sortOrder="asc";showAdvancedOptions=!1;isDuplicateCategory=!1;isEditMode=!1;editingCategoryId="";totalCategories=0;usedCategories=0;unusedCategories=0;mostUsedCategory=null;leastUsedCategory=null;subscription=new qe;ngOnInit(){this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,this.calculateAnalytics(),console.log(`Received ${e.length} categories from Firebase`)})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateAnalytics(),console.log(`Received ${e.length} expenses from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return b(this,null,function*(){try{this.categories=yield this.categoryService.getAll(),this.expenses=yield this.expenseService.getAll(),this.calculateAnalytics()}catch(e){console.error("Error loading data:",e)}})}calculateAnalytics(){this.totalCategories=this.categories.length;let e=this.getCategoryUsageStats();if(this.usedCategories=Object.keys(e).length,this.unusedCategories=this.totalCategories-this.usedCategories,Object.keys(e).length>0){let t=Object.entries(e).sort((r,i)=>i[1]-r[1]);this.mostUsedCategory=this.categories.find(r=>r.id===t[0][0])||null,this.leastUsedCategory=this.categories.find(r=>r.id===t[t.length-1][0])||null}}getCategoryUsageStats(){let e={};return this.expenses.forEach(t=>{t.categoryId&&(e[t.categoryId]=(e[t.categoryId]||0)+1)}),e}initializeDefaultCategories(){return b(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData(),alert("Default categories initialized successfully!")}catch(e){console.error("Error initializing default categories:",e),alert("Error initializing default categories. Please try again.")}})}addCategory(){return b(this,null,function*(){if(this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),this.resetForm(),alert("Category added successfully!")}catch(e){console.error("Error adding category:",e),alert("Error adding category. Please try again.")}})}updateCategory(e){return b(this,null,function*(){try{let t=window.prompt("Enter new category name:",e.name);if(!t||t.trim()==="")return;let r=window.prompt("Enter new color (hex code):",e.color||"#ff6b9d");if(!r)return;let i=window.prompt("Enter new icon (emoji):",e.icon||"\u{1F4CC}");if(!i)return;let o=ce(j({},e),{name:t.trim(),color:r,icon:i});yield this.categoryService.update(o),console.log("Category updated successfully"),alert("Category updated successfully!")}catch(t){console.error("Error updating category:",t),alert("Error updating category. Please try again.")}})}deleteCategory(e){return b(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"?

This will also remove all expenses in this category.`))try{yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),alert("Category deleted successfully!")}catch(r){console.error("Error deleting category:",r),alert("Error deleting category. Please try again.")}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){return this.newCategory.name?.trim()?this.categories.some(t=>t.name.toLowerCase().trim()===this.newCategory.name.toLowerCase().trim()&&t.id!==this.editingCategoryId)?(this.isDuplicateCategory=!0,alert("Category name already exists!"),!1):(this.isDuplicateCategory=!1,!0):(alert("Please enter a category name."),!1)}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.isEditMode=!1,this.editingCategoryId="",this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];if(this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),this.filterByUsage!=="all"){let t=this.getCategoryUsageStats();this.filterByUsage==="used"?e=e.filter(r=>t[r.id]>0):this.filterByUsage==="unused"&&(e=e.filter(r=>!t[r.id]||t[r.id]===0))}return e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":let s=this.getCategoryUsageStats();i=s[t.id]||0,o=s[r.id]||0;break;case"color":i=t.color||"",o=r.color||"";break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i<o?-1:i>o?1:0:i>o?-1:i<o?1:0}),e}getCategoryUsage(e){return this.getCategoryUsageStats()[e]||0}clearSearch(){this.searchTerm=""}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3","#ff9f43","#ff6348","#2ed573","#1e90ff","#ffa502","#ff3838"]}getIconPresets(){return["\u{1F4CC}","\u{1F354}","\u{1F697}","\u{1F3E0}","\u{1F48A}","\u{1F3AC}","\u{1F6D2}","\u2708\uFE0F","\u{1F393}","\u{1F4BB}","\u{1F4F1}","\u{1F3AE}","\u{1F3CB}\uFE0F","\u{1F3A8}","\u{1F4DA}","\u{1F3B5}","\u{1F3AA}","\u{1F3E5}","\u{1F487}","\u{1F484}"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets();this.newCategory.color=e[Math.floor(Math.random()*e.length)]}setRandomIcon(){let e=this.getIconPresets();this.newCategory.icon=e[Math.floor(Math.random()*e.length)]}getCategoryCount(){return this.categories.length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.mostUsedCategory}getLeastUsedCategory(){return this.leastUsedCategory}cleanupDuplicates(){return b(this,null,function*(){if(window.confirm("This will remove duplicate categories. Continue?"))try{let t=this.categories.filter((r,i,o)=>i===o.findIndex(s=>s.name.toLowerCase()===r.name.toLowerCase()));for(let r of this.categories)yield this.categoryService.delete(r.id);for(let r of t)yield this.categoryService.add({name:r.name,color:r.color||"#ff6b9d",icon:r.icon||"\u{1F4CC}"});alert("Duplicate categories cleaned up successfully!")}catch(t){console.error("Error cleaning up duplicates:",t),alert("Error cleaning up duplicates. Please try again.")}})}getAnalyticsInsights(){let e=[];return this.mostUsedCategory&&e.push({type:"most-used",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon,color:this.mostUsedCategory.color}),this.leastUsedCategory&&e.push({type:"least-used",title:"Least Used Category",value:this.leastUsedCategory.name,icon:this.leastUsedCategory.icon,color:this.leastUsedCategory.color}),e.push({type:"stats",title:"Category Statistics",value:`${this.usedCategories} used, ${this.unusedCategories} unused`,icon:"\u{1F4CA}"}),e}static \u0275fac=function(t){return new(t||n)(q(Ii),q(Mi),q(kn))};static \u0275cmp=Gt({type:n,selectors:[["app-categories"]],decls:64,vars:15,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","analytics-section",4,"ngIf"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryIcon",1,"form-label"],[1,"icon-group"],["type","text","id","categoryIcon","name","categoryIcon","placeholder","\u{1F4CC}","maxlength","2",1,"icon-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-icon",3,"click"],[1,"random-icon"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["class","search-filters-section",4,"ngIf"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"analytics-section"],[1,"analytics-header"],[1,"analytics-grid"],[1,"analytics-card"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-card",4,"ngFor","ngForOf"],[1,"error-message"],[1,"error-icon"],[1,"search-filters-section"],[1,"search-filters-header"],[1,"btn-clear-filters",3,"click"],[1,"search-filters-grid"],[1,"search-group"],["for","searchTerm"],["type","text","id","searchTerm","placeholder","Search categories...",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-group"],["for","filterByUsage"],["id","filterByUsage",1,"form-select",3,"ngModelChange","ngModel"],["value","all"],["value","used"],["value","unused"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","name"],["value","usage"],["value","color"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-usage"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"\u{1F4C2}"),m(),p(5,"div",4)(6,"h1",5),_(7,"Categories"),m(),p(8,"p",6),_(9,"Manage your expense categories and organize your spending"),m()()()(),Y(10,mK,30,4,"div",7),p(11,"div",8)(12,"div",9)(13,"div",2)(14,"span",3),_(15,"\u2795"),m(),p(16,"h3",10),_(17,"Add New Category"),m()()(),p(18,"div",11)(19,"form",12),X("ngSubmit",function(){return r.addCategory()}),p(20,"div",13)(21,"div",14)(22,"label",15),_(23,"Category Name"),m(),p(24,"input",16),De("ngModelChange",function(o){return Te(r.newCategory.name,o)||(r.newCategory.name=o),o}),X("input",function(){return r.clearValidationErrors()}),m(),Y(25,yK,4,0,"div",17),m(),p(26,"div",14)(27,"label",18),_(28,"Icon"),m(),p(29,"div",19)(30,"input",20),De("ngModelChange",function(o){return Te(r.newCategory.icon,o)||(r.newCategory.icon=o),o}),m(),p(31,"button",21),X("click",function(){return r.setRandomIcon()}),p(32,"span",22),_(33,"\u{1F3B2}"),m(),_(34," Random "),m()()(),p(35,"div",14)(36,"label",23),_(37,"Color"),m(),p(38,"div",24)(39,"input",25),De("ngModelChange",function(o){return Te(r.newCategory.color,o)||(r.newCategory.color=o),o}),m(),p(40,"button",26),X("click",function(){return r.setRandomColor()}),p(41,"span",22),_(42,"\u{1F3B2}"),m(),_(43," Random "),m()()()(),p(44,"div",27)(45,"button",28)(46,"span",29),_(47,"\u2795"),m(),p(48,"span",30),_(49,"Add Category"),m()()()()()(),Y(50,_K,39,4,"div",31),p(51,"div",32)(52,"div",33)(53,"div",34)(54,"span",35),_(55,"\u{1F4C2}"),m(),p(56,"h3",36),_(57,"Your Categories"),m()(),p(58,"div",37),_(59),m()(),Y(60,vK,7,0,"div",38)(61,bK,2,1,"div",39)(62,wK,7,0,"div",40)(63,EK,7,0,"div",40),m()()),t&2&&(w(10),V("ngIf",r.categories.length>0),w(14),_n("error",r.isDuplicateCategory),Pe("ngModel",r.newCategory.name),w(),V("ngIf",r.isDuplicateCategory),w(5),Pe("ngModel",r.newCategory.icon),w(9),Pe("ngModel",r.newCategory.color),w(6),V("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),w(5),V("ngIf",r.categories.length>0),w(9),Kt("",r.getFilteredCategories().length," of ",r.categories.length," Categories"),w(),V("ngIf",r.categories.length===0),w(),V("ngIf",r.getFilteredCategories().length>0),w(),V("ngIf",r.getFilteredCategories().length===0&&r.categories.length>0),w(),V("ngIf",r.categories.length===0))},dependencies:[an,ei,Cn,Bu,hr,_s,vs,Cs,ur,Ei,dr,ys,po,oP,Wn,go],styles:[".categories-page[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;background:#f8f9fa;min-height:100vh;max-width:100%;overflow-x:hidden}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#667eea;border-radius:8px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#fff}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;font-weight:500}.analytics-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}.btn-toggle-analytics[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-toggle-analytics[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;padding:1.5rem}.analytics-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef;display:flex;align-items:center;gap:1rem}.analytics-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f}.analytics-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.analytics-content[_ngcontent-%COMP%]{flex:1}.analytics-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.analytics-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.add-category-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;border-bottom:1px solid #e9ecef;border-top-left-radius:12px;border-top-right-radius:12px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff}.header-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1rem;transition:border-color .2s ease;background:#fff;width:100%;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.85rem;display:flex;align-items:center;gap:.5rem;margin-top:.25rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap}.color-input[_ngcontent-%COMP%]{width:50px;height:40px;border:1px solid #e9ecef;border-radius:6px;cursor:pointer;background:none;padding:0}.icon-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1.2rem;text-align:center;transition:border-color .2s ease;background:#fff;width:60px}.icon-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 5px 20px #ff6b354d;height:50px;min-width:fit-content}.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}@media (hover: none) and (pointer: coarse){.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 5px 20px #ff6b354d}.btn-random-color[_ngcontent-%COMP%]:active, .btn-random-icon[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 2px 10px #ff6b3566}}.random-icon[_ngcontent-%COMP%]{font-size:.9rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}@media (hover: none) and (pointer: coarse){.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 5px 20px #ff6b354d}.btn-add-category[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(1px);box-shadow:0 2px 10px #ff6b3566}}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1rem}.btn-text[_ngcontent-%COMP%]{font-weight:600}.search-filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.search-filters-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;border-radius:8px 8px 0 0}.search-filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.search-filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.search-group[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.search-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e9ecef;border-radius:6px;font-size:.9rem;transition:border-color .2s ease;background:#fff;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#fff3;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;font-weight:500}.initialize-section[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]{margin:1.5rem;padding:1.5rem;border-radius:8px;text-align:center}.initialize-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef}.cleanup-section[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7}.initialize-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:500}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-weight:600;font-size:.9rem;transition:background-color .2s ease;display:inline-flex;align-items:center;gap:.5rem}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#5a6fd8}.categories-grid[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.category-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:1.5rem;transition:all .2s ease;width:100%}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.category-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:2rem;width:100%}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1;min-width:0}.category-color-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.category-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:6px;flex-shrink:0}.category-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem;flex:1;min-width:0;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.category-usage[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500;flex-shrink:0}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;border-radius:4px;cursor:pointer;font-weight:500;font-size:.85rem;transition:background-color .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem;color:#6c757d}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#2c3e50}.empty-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.8}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.categories-page[_ngcontent-%COMP%]{padding:.5rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.search-filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.categories-grid[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.category-info[_ngcontent-%COMP%]{width:100%}.category-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:.75rem;flex-wrap:wrap}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{flex:1;min-width:120px;justify-content:center;padding:.75rem 1rem;font-size:.9rem}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;min-width:unset}.button-container[_ngcontent-%COMP%]{margin-top:1.5rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-card[_ngcontent-%COMP%]{padding:1rem}.analytics-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.25rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.add-category-card[_ngcontent-%COMP%]{margin-bottom:.75rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem}.card-body-modern[_ngcontent-%COMP%]{padding:.75rem}.form-row[_ngcontent-%COMP%]{gap:1rem}.form-group[_ngcontent-%COMP%]{gap:.25rem}.form-label[_ngcontent-%COMP%]{font-size:.85rem}.form-control[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.9rem}.icon-input[_ngcontent-%COMP%]{width:50px;padding:.625rem .5rem;font-size:1rem;flex-shrink:0}.color-input[_ngcontent-%COMP%]{width:50px;height:35px;flex-shrink:0}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.85rem;height:45px}.btn-add-category[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;height:45px}.button-container[_ngcontent-%COMP%]{margin-top:1rem}}"]})};function MK(n,e){if(n&1&&(p(0,"div",21)(1,"div",22),_(2),m(),p(3,"div",23)(4,"div",24),_(5),m(),p(6,"div",25),_(7),m()()()),n&2){let t=e.$implicit;w(2),K(t.icon),w(3),K(t.value),w(2),K(t.title)}}function IK(n,e){if(n&1&&(p(0,"div",20)(1,"div",21)(2,"div",22),_(3,"\u{1F4B0}"),m(),p(4,"div",23)(5,"div",24),_(6),He(7,"currency"),m(),p(8,"div",25),_(9,"Total Spent"),m()()(),p(10,"div",21)(11,"div",22),_(12,"\u{1F4C5}"),m(),p(13,"div",23)(14,"div",24),_(15),He(16,"currency"),m(),p(17,"div",25),_(18,"Average Monthly"),m()()(),Y(19,MK,8,3,"div",26),m()),n&2){let t=U(2);w(6),K(vn(7,3,t.totalSpent,"INR")),w(9),K(vn(16,6,t.averageMonthlySpend,"INR")),w(4),V("ngForOf",t.getSpendingInsights())}}function PK(n,e){if(n&1){let t=Le();p(0,"div",16)(1,"div",17)(2,"h3"),_(3,"\u{1F4C8} Spending Analytics"),m(),p(4,"button",18),X("click",function(){z(t);let i=U();return H(i.showAnalytics=!i.showAnalytics)}),_(5),m()(),Y(6,IK,20,9,"div",19),m()}if(n&2){let t=U();w(5),me(" ",t.showAnalytics?"Hide":"Show"," Analytics "),w(),V("ngIf",t.showAnalytics)}}function DK(n,e){if(n&1&&(p(0,"div",33),_(1),He(2,"currency"),m()),n&2){let t=U(2);_n("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),w(),me(" ",vn(2,5,t.getMonthlyComparison().change,"INR")," ")}}function OK(n,e){n&1&&(p(0,"div",37),_(1," First Month "),m())}function SK(n,e){if(n&1&&(p(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3"),_(4,"Current Month Overview"),m(),p(5,"span",30),_(6),m()(),p(7,"div",31)(8,"div",32)(9,"div",33),_(10),He(11,"currency"),m(),p(12,"div",34),_(13,"Total Spent"),m()(),p(14,"div",32)(15,"div",33),_(16),m(),p(17,"div",34),_(18,"Expenses"),m()(),p(19,"div",32),Y(20,DK,3,8,"div",35)(21,OK,2,0,"div",36),p(22,"div",34),_(23,"vs Last Month"),m()()()()()),n&2){let t,r,i,o,s=U();w(6),K((t=s.getCurrentMonthReport())==null?null:t.monthName),w(4),K(vn(11,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),w(6),K((i=s.getCurrentMonthReport())==null?null:i.expenseCount),w(4),V("ngIf",s.getMonthlyComparison().hasPreviousData),w(),V("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function xK(n,e){if(n&1&&(p(0,"option",60),_(1),m()),n&2){let t=e.$implicit;V("value",t),w(),K(t)}}function TK(n,e){if(n&1&&(p(0,"option",60),_(1),m()),n&2){let t=e.$implicit,r=U(2);V("value",t),w(),K(r.getMonthName(t))}}function AK(n,e){if(n&1&&(p(0,"option",60),_(1),m()),n&2){let t=e.$implicit;V("value",t.id),w(),Kt(" ",t.icon," ",t.name," ")}}function RK(n,e){if(n&1){let t=Le();p(0,"div",38)(1,"div",39)(2,"h3"),_(3,"\u{1F50D} Filter & Sort"),m(),p(4,"button",40),X("click",function(){z(t);let i=U();return H(i.clearFilters())}),_(5,"Clear All"),m()(),p(6,"div",41)(7,"div",42)(8,"label",43),_(9,"Year"),m(),p(10,"select",44),De("ngModelChange",function(i){z(t);let o=U();return Te(o.filterYear,i)||(o.filterYear=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onFilterChange())}),p(11,"option",45),_(12,"All Years"),m(),Y(13,xK,2,2,"option",46),m()(),p(14,"div",42)(15,"label",47),_(16,"Month"),m(),p(17,"select",48),De("ngModelChange",function(i){z(t);let o=U();return Te(o.filterMonth,i)||(o.filterMonth=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onFilterChange())}),p(18,"option",45),_(19,"All Months"),m(),Y(20,TK,2,2,"option",46),m()(),p(21,"div",42)(22,"label",49),_(23,"Category"),m(),p(24,"select",50),De("ngModelChange",function(i){z(t);let o=U();return Te(o.filterCategory,i)||(o.filterCategory=i),H(i)}),X("change",function(){z(t);let i=U();return H(i.onFilterChange())}),p(25,"option",45),_(26,"All Categories"),m(),Y(27,AK,2,3,"option",46),m()(),p(28,"div",42)(29,"label",51),_(30,"Sort By"),m(),p(31,"select",52),De("ngModelChange",function(i){z(t);let o=U();return Te(o.sortBy,i)||(o.sortBy=i),H(i)}),p(32,"option",53),_(33,"Month"),m(),p(34,"option",54),_(35,"Amount"),m(),p(36,"option",55),_(37,"Expense Count"),m()()(),p(38,"div",42)(39,"label",56),_(40,"Order"),m(),p(41,"select",57),De("ngModelChange",function(i){z(t);let o=U();return Te(o.sortOrder,i)||(o.sortOrder=i),H(i)}),p(42,"option",58),_(43,"Descending"),m(),p(44,"option",59),_(45,"Ascending"),m()()()()()}if(n&2){let t=U();w(10),Pe("ngModel",t.filterYear),w(3),V("ngForOf",t.getAvailableYears()),w(4),Pe("ngModel",t.filterMonth),w(3),V("ngForOf",t.getAvailableMonths()),w(4),Pe("ngModel",t.filterCategory),w(3),V("ngForOf",t.categories),w(4),Pe("ngModel",t.sortBy),w(10),Pe("ngModel",t.sortOrder)}}function kK(n,e){if(n&1&&(p(0,"div",72)(1,"span",73),_(2),m(),p(3,"span",74),_(4),m(),p(5,"span",75),_(6),He(7,"currency"),m()()),n&2){let t=e.$implicit;w(),Dn("background-color",t.category.color),w(),K(t.category.icon),w(2),K(t.category.name),w(2),K(vn(7,5,t.amount,"INR"))}}function NK(n,e){if(n&1){let t=Le();p(0,"div",63),X("click",function(){let i=z(t).$implicit,o=U(2);return H(o.selectMonth(i.monthKey))}),p(1,"div",64)(2,"h4",65),_(3),m(),p(4,"div",66),_(5,"\u2192"),m()(),p(6,"div",67)(7,"div",68),_(8),He(9,"currency"),m(),p(10,"div",69),_(11),m()(),p(12,"div",70),Y(13,kK,8,8,"div",71),m()()}if(n&2){let t=e.$implicit;w(3),K(t.monthName),w(5),K(vn(9,4,t.totalAmount,"INR")),w(3),me("",t.expenseCount," expenses"),w(2),V("ngForOf",t.categoryBreakdown.slice(0,3))}}function FK(n,e){if(n&1&&(p(0,"div",61),Y(1,NK,14,7,"div",62),m()),n&2){let t=U();w(),V("ngForOf",t.getFilteredReports())}}function LK(n,e){n&1&&(p(0,"div",76)(1,"div",77),_(2,"\u{1F4CA}"),m(),p(3,"h6"),_(4,"No Reports Found"),m(),p(5,"p"),_(6,"Try adjusting your filters or add some expenses!"),m()())}function VK(n,e){if(n&1&&(p(0,"div",88)(1,"div",89)(2,"span",73),_(3),m(),p(4,"div",90)(5,"div",74),_(6),m(),p(7,"div",91),_(8),m()()(),p(9,"div",75),_(10),He(11,"currency"),m()()),n&2){let t=e.$implicit;w(2),Dn("background-color",t.category.color),w(),K(t.category.icon),w(3),K(t.category.name),w(2),me("",t.count," expenses"),w(2),K(vn(11,6,t.amount,"INR"))}}function jK(n,e){if(n&1&&(p(0,"div",92)(1,"div",93)(2,"div",94),_(3),He(4,"currency"),m(),p(5,"div",95)(6,"span",96),_(7),m()()(),p(8,"div",97)(9,"div",98),_(10),He(11,"date"),m(),p(12,"div",99),_(13),m()()()),n&2){let t=e.$implicit,r=U(2);w(3),K(vn(4,7,t.amount,"INR")),w(3),Dn("background-color",r.getCategoryColor(t.categoryId)),w(),Kt(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),w(3),K(Vt(11,10,t.date)),w(3),K(t.description||"No description")}}function UK(n,e){if(n&1){let t=Le();p(0,"div",78)(1,"div",79)(2,"button",80),X("click",function(){z(t);let i=U();return H(i.showDetailedView=!1)}),_(3,"\u2190 Back to Overview"),m(),p(4,"h3"),_(5),m()(),p(6,"div",81)(7,"div",82)(8,"h4"),_(9,"Category Breakdown"),m(),p(10,"div",83),Y(11,VK,12,9,"div",84),m()(),p(12,"div",85)(13,"h4"),_(14,"All Expenses"),m(),p(15,"div",86),Y(16,jK,14,12,"div",87),m()()()()}if(n&2){let t,r,i,o=U();w(5),me("",(t=o.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),w(6),V("ngForOf",(r=o.getSelectedMonthReport())==null?null:r.categoryBreakdown),w(5),V("ngForOf",(i=o.getSelectedMonthReport())==null?null:i.expenses)}}var Vy=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;filterYear="";filterMonth="";filterCategory="";sortBy="month";sortOrder="desc";showAnalytics=!1;totalSpent=0;averageMonthlySpend=0;highestSpendingMonth=null;mostUsedCategory=null;spendingTrend="stable";ngOnInit(){this.loadData()}loadData(){return b(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports(),this.calculateAnalytics()}catch(e){console.error("Error loading reports:",e)}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r,year:parseInt(s),month:parseInt(a)})})}calculateAnalytics(){if(this.monthlyReports.length===0)return;let e=this.getFilteredReports();if(e.length===0){this.totalSpent=0,this.averageMonthlySpend=0,this.highestSpendingMonth=null,this.mostUsedCategory=null,this.spendingTrend="stable";return}this.totalSpent=e.reduce((i,o)=>i+o.totalAmount,0),this.averageMonthlySpend=this.totalSpent/e.length,this.highestSpendingMonth=e.reduce((i,o)=>o.totalAmount>i.totalAmount?o:i);let t={};if(this.getFilteredExpenses().forEach(i=>{t[i.categoryId]=(t[i.categoryId]||0)+1}),Object.keys(t).length>0){let i=Object.keys(t).reduce((o,s)=>t[s]>t[o]?s:o);this.mostUsedCategory=this.categories.find(o=>o.id===i)}else this.mostUsedCategory=null;if(e.length>=2){let i=e[0].totalAmount,o=e[1].totalAmount,s=i-o;s>0?this.spendingTrend="increasing":s<0?this.spendingTrend="decreasing":this.spendingTrend="stable"}else this.spendingTrend="stable"}getFilteredReports(){let e=[...this.monthlyReports];return this.filterYear&&(e=e.filter(t=>t.year.toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>t.month.toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryBreakdown.some(r=>r.category.id===this.filterCategory))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"month":i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime();break;case"amount":i=t.totalAmount,o=r.totalAmount;break;case"expenseCount":i=t.expenseCount,o=r.expenseCount;break;default:i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime()}return this.sortOrder==="asc"?i-o:o-i}),e}getAvailableYears(){return[...new Set(this.monthlyReports.map(t=>t.year.toString()))].sort((t,r)=>parseInt(r)-parseInt(t))}getAvailableMonths(){return[...new Set(this.monthlyReports.map(t=>t.month.toString()))].sort((t,r)=>parseInt(t)-parseInt(r))}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e)-1]||e}clearFilters(){this.filterYear="",this.filterMonth="",this.filterCategory="",this.sortBy="month",this.sortOrder="desc",this.calculateAnalytics()}onFilterChange(){this.calculateAnalytics()}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1,status:e?"First Month":"No Data"};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0?r/t.totalAmount*100:0,o="No Change";return r>0?o="Increased":r<0&&(o="Decreased"),{change:r,percentage:parseFloat(i.toFixed(2)),hasPreviousData:!0,status:o}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){let t=this.categories.find(r=>r.id===e);return t&&t.icon?t.icon:"\u{1F4CC}"}getCategoryColor(e){let t=this.categories.find(r=>r.id===e);return t&&t.color?t.color:"#6c757d"}getSpendingInsights(){let e=[];return this.highestSpendingMonth&&e.push({type:"highest",title:"Highest Spending Month",value:this.highestSpendingMonth.monthName,amount:this.highestSpendingMonth.totalAmount,icon:"\u{1F4C8}"}),this.mostUsedCategory&&e.push({type:"category",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon||"\u{1F4CC}"}),e.push({type:"trend",title:"Spending Trend",value:this.spendingTrend.charAt(0).toUpperCase()+this.spendingTrend.slice(1),icon:this.spendingTrend==="increasing"?"\u{1F4C8}":this.spendingTrend==="decreasing"?"\u{1F4C9}":"\u27A1\uFE0F"}),e}getFilteredExpenses(){let e=[...this.expenses];return this.filterYear&&(e=e.filter(t=>new Date(t.date).getFullYear().toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>(new Date(t.date).getMonth()+1).toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),e}static \u0275fac=function(t){return new(t||n)(q(Mi),q(Ii))};static \u0275cmp=Gt({type:n,selectors:[["app-monthly-reports"]],decls:24,vars:7,consts:[[1,"monthly-reports-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","analytics-section",4,"ngIf"],["class","overview-section",4,"ngIf"],["class","filters-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],[1,"reports-count"],["class","reports-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"analytics-section"],[1,"analytics-header"],[1,"btn-toggle-analytics",3,"click"],["class","analytics-grid",4,"ngIf"],[1,"analytics-grid"],[1,"analytics-card"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-card",4,"ngFor","ngForOf"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"filters-section"],[1,"filters-header"],[1,"btn-clear-filters",3,"click"],[1,"filters-grid"],[1,"filter-group"],["for","filterYear"],["id","filterYear",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterMonth"],["id","filterMonth",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filterCategory"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","month"],["value","amount"],["value","expenseCount"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","desc"],["value","asc"],[3,"value"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-name"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"detailed-content"],[1,"breakdown-section"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"expense-item"],[1,"expense-info"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"\u{1F4CA}"),m(),p(5,"div",4)(6,"h1",5),_(7,"Monthly Reports"),m(),p(8,"p",6),_(9,"Track your spending patterns and get insights"),m()()()(),Y(10,PK,7,2,"div",7)(11,SK,24,8,"div",8)(12,RK,46,8,"div",9),p(13,"div",10)(14,"div",11)(15,"h3"),_(16,"Monthly Breakdown"),m(),p(17,"p"),_(18,"Click on any month to view detailed breakdown"),m(),p(19,"div",12),_(20),m()(),Y(21,FK,2,1,"div",13)(22,LK,7,0,"div",14),m(),Y(23,UK,17,3,"div",15),m()),t&2&&(w(10),V("ngIf",r.monthlyReports.length>0),w(),V("ngIf",r.getCurrentMonthReport()),w(),V("ngIf",r.monthlyReports.length>0),w(8),me("",r.getFilteredReports().length," months"),w(),V("ngIf",r.getFilteredReports().length>0),w(),V("ngIf",r.getFilteredReports().length===0),w(),V("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[an,ei,Cn,hr,vs,Cs,Ei,dr,Wn,$u,ta],styles:[".monthly-reports-page[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;background:#f8f9fa;min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:12px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#667eea;border-radius:8px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#fff}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0 0 .25rem;color:#fff}.page-description[_ngcontent-%COMP%]{font-size:1rem;margin:0}.analytics-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}.btn-toggle-analytics[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-weight:500;font-size:.9rem;transition:background-color .2s ease}.btn-toggle-analytics[_ngcontent-%COMP%]:hover{background:#5a6fd8}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;padding:1.5rem}.analytics-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef;display:flex;align-items:center;gap:1rem}.analytics-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.analytics-content[_ngcontent-%COMP%]{flex:1}.analytics-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.analytics-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.overview-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.overview-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.overview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.month-badge[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500}.overview-stats[_ngcontent-%COMP%]{padding:1.5rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center;background:#f8f9fa;padding:1.5rem;border-radius:8px;border:1px solid #e9ecef}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#2c3e50;margin-bottom:.5rem}.stat-value.positive[_ngcontent-%COMP%]{color:#27ae60}.stat-value.negative[_ngcontent-%COMP%]{color:#e74c3c}.stat-value.new-month[_ngcontent-%COMP%]{color:#f39c12;font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.filters-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:.75rem;border-bottom:1px solid #e9ecef;background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;border-radius:8px 8px 0 0}.filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e9ecef;border-radius:6px;font-size:.9rem;transition:border-color .2s ease;background:#fff;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.reports-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#6c757d;font-size:.9rem}.reports-count[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.reports-grid[_ngcontent-%COMP%]{padding:1.5rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.report-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:1.5rem;transition:all .2s ease;cursor:pointer}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.report-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.month-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;margin:0}.report-arrow[_ngcontent-%COMP%]{font-size:1.25rem;color:#667eea;transition:transform .2s ease}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(4px)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.report-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.report-count[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fff;border-radius:4px;border:1px solid #e9ecef}.category-icon[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.category-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;color:#2c3e50;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:600}.detailed-view[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;margin-top:1.5rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;gap:1rem;border-bottom:1px solid #e9ecef}.back-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-weight:500;font-size:.9rem;transition:background-color .2s ease}.back-btn[_ngcontent-%COMP%]:hover{background:#5a6fd8}.detailed-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.detailed-content[_ngcontent-%COMP%]{padding:1.5rem}.breakdown-section[_ngcontent-%COMP%], .expenses-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .expenses-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;margin-bottom:1rem}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#fff;border-radius:6px;border:1px solid #e9ecef}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#fff;border-radius:6px;border:1px solid #e9ecef}.expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1.1rem}.category-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:500;color:#fff}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;text-align:right}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#2c3e50;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem;color:#6c757d;background:#fff;border-radius:8px;margin:1.5rem;border:1px solid #e9ecef}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#2c3e50}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.8;font-weight:500}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:.5rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-card[_ngcontent-%COMP%]{padding:1rem}.analytics-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.25rem}.detailed-content[_ngcontent-%COMP%]{padding:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.expense-info[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.expense-details[_ngcontent-%COMP%]{text-align:center}}"]})};function BK(n,e){n&1&&(p(0,"span",21),_(1,"\u23F3"),m())}function $K(n,e){n&1&&(p(0,"span"),_(1,"Sign In"),m())}function zK(n,e){if(n&1&&(p(0,"div",22),_(1),m()),n&2){let t=U();w(),me(" ",t.error," ")}}var jy=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loading=!1;error="";signIn(){return b(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(t){return new(t||n)(q(fr),q(dt))};static \u0275cmp=Gt({type:n,selectors:[["app-login"]],decls:30,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Le();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),_(5,"\u{1F4B0}"),m(),p(6,"h1",6),_(7,"Expense Tracker"),m()(),p(8,"p",7),_(9,"Sign in to manage your expenses"),m()(),p(10,"form",8,0),X("ngSubmit",function(){return z(i),H(r.signIn())}),p(12,"div",9)(13,"label",10),_(14,"Email"),m(),p(15,"input",11),De("ngModelChange",function(s){return z(i),Te(r.email,s)||(r.email=s),H(s)}),m()(),p(16,"div",9)(17,"label",12),_(18,"Password"),m(),p(19,"input",13),De("ngModelChange",function(s){return z(i),Te(r.password,s)||(r.password=s),H(s)}),m()(),p(20,"div",14)(21,"button",15),Y(22,BK,2,0,"span",16)(23,$K,2,0,"span",17),m()()(),p(24,"div",18)(25,"p"),_(26,"Don't have an account? "),p(27,"a",19),X("click",function(){return z(i),H(r.goToRegister())}),_(28,"Sign up"),m()()(),Y(29,zK,2,1,"div",20),m()()}if(t&2){let i=Zs(11);w(15),Pe("ngModel",r.email),w(4),Pe("ngModel",r.password),w(2),V("disabled",!i.form.valid||r.loading),w(),V("ngIf",r.loading),w(),V("ngIf",!r.loading),w(6),V("ngIf",r.error)}},dependencies:[an,Cn,hr,_s,ur,dr,ys,po,Wn,go],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Uy=class n{constructor(e){this.firebaseService=e}createDefaultCategories(){return b(this,null,function*(){let e=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let t of e)yield this.firebaseService.addCategory(t);console.log("Default categories created successfully")}catch(t){console.error("Error creating default categories:",t)}})}static \u0275fac=function(t){return new(t||n)(ne(kn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function qK(n,e){n&1&&(p(0,"span",25),_(1,"\u23F3"),m())}function WK(n,e){n&1&&(p(0,"span"),_(1,"Create Account"),m())}function GK(n,e){if(n&1&&(p(0,"div",26),_(1),m()),n&2){let t=U();w(),me(" ",t.error," ")}}var By=class n{constructor(e,t,r){this.authService=e;this.router=t;this.defaultCategoriesService=r}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return b(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(e){return e.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":e.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(t){return new(t||n)(q(fr),q(dt),q(Uy))};static \u0275cmp=Gt({type:n,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Le();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),_(5,"\u{1F4B0}"),m(),p(6,"h1",6),_(7,"Expense Tracker"),m()(),p(8,"p",7),_(9,"Create your account to start tracking expenses"),m()(),p(10,"form",8,0),X("ngSubmit",function(){return z(i),H(r.register())}),p(12,"div",9)(13,"label",10),_(14,"Full Name"),m(),p(15,"input",11),De("ngModelChange",function(s){return z(i),Te(r.displayName,s)||(r.displayName=s),H(s)}),m()(),p(16,"div",9)(17,"label",12),_(18,"Email"),m(),p(19,"input",13),De("ngModelChange",function(s){return z(i),Te(r.email,s)||(r.email=s),H(s)}),m()(),p(20,"div",9)(21,"label",14),_(22,"Password"),m(),p(23,"input",15),De("ngModelChange",function(s){return z(i),Te(r.password,s)||(r.password=s),H(s)}),m()(),p(24,"div",9)(25,"label",16),_(26,"Confirm Password"),m(),p(27,"input",17),De("ngModelChange",function(s){return z(i),Te(r.confirmPassword,s)||(r.confirmPassword=s),H(s)}),m()(),p(28,"div",18)(29,"button",19),Y(30,qK,2,0,"span",20)(31,WK,2,0,"span",21),m()()(),p(32,"div",22)(33,"p"),_(34,"Already have an account? "),p(35,"a",23),X("click",function(){return z(i),H(r.goToLogin())}),_(36,"Sign in"),m()()(),Y(37,GK,2,1,"div",24),m()()}if(t&2){let i=Zs(11);w(15),Pe("ngModel",r.displayName),w(4),Pe("ngModel",r.email),w(4),Pe("ngModel",r.password),w(4),Pe("ngModel",r.confirmPassword),w(2),V("disabled",!i.form.valid||r.loading||!r.passwordsMatch()),w(),V("ngIf",r.loading),w(),V("ngIf",!r.loading),w(6),V("ngIf",r.error)}},dependencies:[an,Cn,hr,_s,ur,dr,ys,po,iP,Wn,go],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var ja=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.currentUser$.pipe(_t(e=>e!==void 0),Tt(1),ge(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(ne(fr),ne(dt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Y2=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:jy},{path:"register",component:By},{path:"dashboard",component:Ny,canActivate:[ja]},{path:"expenses",component:Fy,canActivate:[ja]},{path:"categories",component:Ly,canActivate:[ja]},{path:"reports",component:Vy,canActivate:[ja]}];var Q2={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"};var sP="Service workers are disabled or not supported by this browser",Al=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new de(r=>r.error(new F(5601,!1)));else{let r=null,i=new nt;this.worker=new de(u=>(r!==null&&u.next(r),i.subscribe(d=>u.next(d))));let o=()=>{let{controller:u}=e;u!==null&&(r=u,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(kt(()=>e.getRegistration()));let s=new nt;this.events=s.asObservable();let a=u=>{let{data:d}=u;d?.type&&s.next(d)};e.addEventListener("message",a),t?.get(rr,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Tt(1)).subscribe(i=>{i.postMessage(j({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(_t(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Tt(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(_t(i=>i.nonce===e),Tt(1),ge(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},KK=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new nt;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Ti,this.notificationClicks=Ti,this.notificationCloses=Ti,this.pushSubscriptionChanges=Ti,this.subscription=Ti;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ge(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ge(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ge(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ge(i=>i.data)),this.pushManager=this.sw.registration.pipe(ge(i=>i.pushManager));let r=this.pushManager.pipe(kt(i=>i.getSubscription()));this.subscription=new de(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(sP));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(kt(c=>c.subscribe(r)),Tt(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(sP));let t=r=>{if(r===null)throw new F(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new F(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Tt(1),kt(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(ne(Al))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),YK=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Ti,this.unrecoverable=Ti;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sP));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new F(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(ne(Al))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();var J2=new J("");function QK(){let n=N(_h);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=N(J2),t=N(xe),r=N(rr);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=Z2(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),Z2(+a[0])]);break;default:throw new F(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(Li(5604,!1)))})})}function Z2(n){return new Promise(e=>setTimeout(e,n))}function ZK(n,e){return new Al(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var _h=class{enabled;scope;registrationStrategy};function X2(n,e={}){return Lt([KK,YK,{provide:J2,useValue:n},{provide:_h,useValue:e},{provide:Al,useFactory:ZK,deps:[_h,Ze]},Pc(QK)])}var eL={providers:[Uv(),g0({eventCoalescing:!0}),Mb(Y2),KA(),IR(()=>PR(Q2)),Tk(()=>Rk()),l2(()=>u2()),w2(()=>E2()),X2("ngsw-worker.js",{enabled:!ku(),registrationStrategy:"registerWhenStable:30000"})]};var $y=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function XK(n,e){n&1&&(p(0,"div",3)(1,"div",4),_(2,"\u23F3"),m(),p(3,"p"),_(4,"Loading..."),m()())}function eY(n,e){if(n&1){let t=Le();p(0,"div",35)(1,"div",36)(2,"span",37),_(3),m(),p(4,"button",38),X("click",function(){z(t);let i=U(2);return H(i.signOut())}),p(5,"span",39),_(6,"\u{1F6AA}"),m()()()()}if(n&2){let t=e.ngIf;w(3),K(t.displayName||t.email)}}function tY(n,e){if(n&1){let t=Le();p(0,"div",40),X("click",function(){z(t);let i=U(2);return H(i.closeSidebar())}),m()}}function nY(n,e){if(n&1){let t=Le();p(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),X("click",function(){z(t);let i=U();return H(i.toggleSidebar())}),p(5,"span",10),_(6,"\u2630"),m()(),p(7,"div",11)(8,"span",12),_(9,"\u{1F4B0}"),m(),p(10,"span",13),_(11,"Expense Tracker"),m()()(),p(12,"nav",14)(13,"a",15),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(14,"span",16),_(15,"\u{1F4CA}"),m(),p(16,"span",17),_(17,"Dashboard"),m()(),p(18,"a",18),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(19,"span",16),_(20,"\u{1F4B8}"),m(),p(21,"span",17),_(22,"Expenses"),m()(),p(23,"a",19),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(24,"span",16),_(25,"\u{1F3F7}\uFE0F"),m(),p(26,"span",17),_(27,"Categories"),m()(),p(28,"a",20),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(29,"span",16),_(30,"\u{1F4CA}"),m(),p(31,"span",17),_(32,"Reports"),m()()(),Y(33,eY,7,1,"div",21),He(34,"async"),m()(),Y(35,tY,1,0,"div",22),p(36,"aside",23)(37,"div",24)(38,"div",25)(39,"span",12),_(40,"\u{1F4B0}"),m(),p(41,"span",13),_(42,"Expense Tracker"),m()()(),p(43,"nav",26)(44,"a",27),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(45,"span",28),_(46,"\u{1F4CA}"),m(),p(47,"span",29),_(48,"Dashboard"),m()(),p(49,"a",30),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(50,"span",28),_(51,"\u{1F4B8}"),m(),p(52,"span",29),_(53,"Expenses"),m()(),p(54,"a",31),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(55,"span",28),_(56,"\u{1F3F7}\uFE0F"),m(),p(57,"span",29),_(58,"Categories"),m()(),p(59,"a",32),X("click",function(){z(t);let i=U();return H(i.onNavClick())}),p(60,"span",28),_(61,"\u{1F4CA}"),m(),p(62,"span",29),_(63,"Reports"),m()()()(),p(64,"main",33)(65,"div",34),on(66,"router-outlet"),m()()()}if(n&2){let t=U();w(33),V("ngIf",Vt(34,6,t.currentUser$)),w(2),V("ngIf",t.sidebarOpen),w(),_n("sidebar-open",t.sidebarOpen),w(28),_n("content-blurred",t.sidebarOpen)}}function rY(n,e){n&1&&(p(0,"div",41),on(1,"router-outlet"),m())}var zy=class n{constructor(e,t,r){this.scrollService=e;this.authService=t;this.router=r;this.restoreLastRoute(),this.router.events.subscribe(()=>{this.saveCurrentRoute()})}sidebarOpen=!1;get currentUser$(){return this.authService.currentUser$}toggleSidebar(){console.log("Toggle sidebar called"),this.sidebarOpen=!this.sidebarOpen,this.sidebarOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeSidebar(){console.log("Close sidebar called"),this.sidebarOpen=!1,document.body.style.overflow=""}signOut(){return b(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/login"])}catch(e){console.error("Error signing out:",e)}})}saveCurrentRoute(){let e=this.router.url;e&&e!=="/login"&&e!=="/register"&&localStorage.setItem("lastRoute",e)}restoreLastRoute(){let e=localStorage.getItem("lastRoute");e&&e!=="/login"&&e!=="/register"&&this.authService.currentUser$.pipe(_t(t=>t!==void 0),Tt(1)).subscribe(t=>{t&&this.router.url==="/dashboard"&&setTimeout(()=>{this.router.navigate([e])},100)})}onNavClick(){this.closeSidebar(),this.scrollService.scrollToTop(),this.saveCurrentRoute()}static \u0275fac=function(t){return new(t||n)(q($y),q(fr),q(dt))};static \u0275cmp=Gt({type:n,selectors:[["app-root"]],decls:6,vars:9,consts:[["class","loading-container",4,"ngIf"],["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["aria-label","Toggle sidebar",1,"sidebar-toggle",3,"click"],[1,"hamburger-icon"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"header-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link",3,"click"],["class","user-section",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-brand"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"link-icon"],[1,"link-text"],["routerLink","/expenses","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"main-content"],[1,"content-container"],[1,"user-section"],[1,"user-info"],[1,"user-name"],["title","Sign out",1,"sign-out-btn",3,"click"],[1,"sign-out-icon"],[1,"sidebar-overlay",3,"click"],[1,"auth-container"]],template:function(t,r){t&1&&(Y(0,XK,5,0,"div",0),He(1,"async"),Y(2,nY,67,8,"div",1),He(3,"async"),Y(4,rY,2,0,"div",2),He(5,"async")),t&2&&(V("ngIf",Vt(1,3,r.currentUser$)===void 0),w(2),V("ngIf",Vt(3,5,r.currentUser$)),w(2),V("ngIf",Vt(5,7,r.currentUser$)===null))},dependencies:[cd,Ko,Eb,an,Cn,V0],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;position:relative;height:100%;margin:0;padding:0}@supports (height: 100dvh){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100vh!important;min-height:100vh!important;max-height:100vh!important;top:0!important}}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 2px 10px #0000001a;position:sticky;top:0;z-index:100;padding:0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;margin:0 auto}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:8px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;min-width:44px;min-height:44px}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}@media (min-width: 769px){.sidebar-toggle[_ngcontent-%COMP%]{display:none}}.hamburger-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.header-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#fff;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d}.nav-icon[_ngcontent-%COMP%]{font-size:1rem}.nav-text[_ngcontent-%COMP%]{font-size:.9rem}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.5rem 1rem;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.9rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sign-out-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:6px;padding:.25rem .5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.sign-out-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.sign-out-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.auth-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;min-height:100vh;max-height:100vh;background:#00000080;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;min-height:100vh;max-height:100vh;background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);box-shadow:4px 0 20px #00000026;z-index:300;transition:left .3s ease;overflow-y:auto;display:flex;flex-direction:column;padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0;flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:#fff;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left-color:#ffffff80}.sidebar-link.active[_ngcontent-%COMP%]{background:#fff3;border-left-color:#fff}.link-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.link-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;transition:filter .3s ease}.main-content.content-blurred[_ngcontent-%COMP%]{filter:blur(4px);pointer-events:none}.content-container[_ngcontent-%COMP%]{margin:0 auto;padding:2rem 1.5rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.header-nav[_ngcontent-%COMP%]{display:none}.sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:280px;left:-280px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.user-section[_ngcontent-%COMP%]{margin-left:.5rem}.user-info[_ngcontent-%COMP%]{padding:.25rem .5rem}.user-name[_ngcontent-%COMP%]{max-width:100px;font-size:.8rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem}.sidebar[_ngcontent-%COMP%]{width:260px;left:-260px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:.75rem}}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem}.loading-spinner[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};Y0(zy,eL).catch(n=>console.error(n));
