var QL=Object.defineProperty,ZL=Object.defineProperties;var JL=Object.getOwnPropertyDescriptors;var Eh=Object.getOwnPropertySymbols,XL=Object.getPrototypeOf,kD=Object.prototype.hasOwnProperty,FD=Object.prototype.propertyIsEnumerable,e2=Reflect.get;var ND=(n,e,t)=>e in n?QL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})kD.call(e,t)&&ND(n,t,e[t]);if(Eh)for(var t of Eh(e))FD.call(e,t)&&ND(n,t,e[t]);return n},ce=(n,e)=>ZL(n,JL(e));var ds=(n,e)=>{var t={};for(var r in n)kD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Eh)for(var r of Eh(n))e.indexOf(r)<0&&FD.call(n,r)&&(t[r]=n[r]);return t};var po=(n,e,t)=>e2(XL(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var t_;function bh(){return t_}function Lr(n){let e=t_;return t_=n,e}var LD=Symbol("NotFound");function Ra(n){return n===LD||n?.name==="\u0275NotFound"}function Th(n,e){return Object.is(n,e)}var Pt=null,wh=!1,n_=1,t2=null,en=Symbol("SIGNAL");function Ee(n){let e=Pt;return Pt=n,e}function Sh(){return Pt}var hs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Na(n){if(wh)throw new Error("");if(Pt===null)return;Pt.consumerOnSignalRead(n);let e=Pt.nextProducerIndex++;if(Ah(Pt),e<Pt.producerNode.length&&Pt.producerNode[e]!==n&&Vl(Pt)){let t=Pt.producerNode[e];xh(t,Pt.producerIndexOfThis[e])}Pt.producerNode[e]!==n&&(Pt.producerNode[e]=n,Pt.producerIndexOfThis[e]=Vl(Pt)?jD(n,Pt,e):0),Pt.producerLastReadVersion[e]=n.version}function VD(){n_++}function Ph(n){if(!(Vl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===n_)){if(!n.producerMustRecompute(n)&&!jl(n)){Dh(n);return}n.producerRecomputeValue(n),Dh(n)}}function r_(n){if(n.liveConsumerNode===void 0)return;let e=wh;wh=!0;try{for(let t of n.liveConsumerNode)t.dirty||n2(t)}finally{wh=e}}function i_(){return Pt?.consumerAllowSignalWrites!==!1}function n2(n){n.dirty=!0,r_(n),n.consumerMarkedDirty?.(n)}function Dh(n){n.dirty=!1,n.lastCleanEpoch=n_}function fs(n){return n&&(n.nextProducerIndex=0),Ee(n)}function ka(n,e){if(Ee(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Vl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)xh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jl(n){Ah(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ph(t),r!==t.version))return!0}return!1}function Oh(n){if(Ah(n),Vl(n))for(let e=0;e<n.producerNode.length;e++)xh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function jD(n,e,t){if(UD(n),n.liveConsumerNode.length===0&&BD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=jD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function xh(n,e){if(UD(n),n.liveConsumerNode.length===1&&BD(n))for(let r=0;r<n.producerNode.length;r++)xh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ah(i),i.producerIndexOfThis[r]=e}}function Vl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ah(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function UD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function BD(n){return n.producerNode!==void 0}function Rh(n){t2?.(n)}function Nh(n,e){let t=Object.create(r2);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Ph(t),Na(t),t.value===Ll)throw t.error;return t.value};return r[en]=t,Rh(t),r}var Ih=Symbol("UNSET"),Mh=Symbol("COMPUTING"),Ll=Symbol("ERRORED"),r2=ce(j({},hs),{value:Ih,dirty:!0,error:null,equal:Th,kind:"computed",producerMustRecompute(n){return n.value===Ih||n.value===Mh},producerRecomputeValue(n){if(n.value===Mh)throw new Error("");let e=n.value;n.value=Mh;let t=fs(n),r,i=!1;try{r=n.computation(),Ee(null),i=e!==Ih&&e!==Ll&&r!==Ll&&n.equal(e,r)}catch(o){r=Ll,n.error=o}finally{ka(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function i2(){throw new Error}var $D=i2;function zD(n){$D(n)}function o_(n){$D=n}var o2=null;function s_(n,e){let t=Object.create(kh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>HD(t);return r[en]=t,Rh(t),[r,s=>Fa(t,s),s=>a_(t,s)]}function HD(n){return Na(n),n.value}function Fa(n,e){i_()||zD(n),n.equal(n.value,e)||(n.value=e,s2(n))}function a_(n,e){i_()||zD(n),Fa(n,e(n.value))}var kh=ce(j({},hs),{equal:Th,value:void 0,kind:"signal"});function s2(n){n.version++,VD(),r_(n),o2?.(n)}function _e(n){return typeof n=="function"}function La(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fh=La(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ps(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(o){e=o instanceof Fh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qD(o)}catch(s){e=e??[],s instanceof Fh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Fh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ps(t,e)}remove(e){let{_finalizers:t}=this;t&&ps(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var c_=He.EMPTY;function Lh(n){return n instanceof He||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function qD(n){_e(n)?n():n.unsubscribe()}var ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Va={setTimeout(n,e,...t){let{delegate:r}=Va;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Va;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Vh(n){Va.setTimeout(()=>{let{onUnhandledError:e}=ur;if(e)e(n);else throw n})}function gs(){}var WD=l_("C",void 0,void 0);function GD(n){return l_("E",void 0,n)}function KD(n){return l_("N",n,void 0)}function l_(n,e,t){return{kind:n,value:e,error:t}}var ms=null;function ja(n){if(ur.useDeprecatedSynchronousErrorHandling){let e=!ms;if(e&&(ms={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ms;if(ms=null,t)throw r}}else n()}function YD(n){ur.useDeprecatedSynchronousErrorHandling&&ms&&(ms.errorThrown=!0,ms.error=n)}var ys=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lh(e)&&e.add(this)):this.destination=l2}static create(e,t,r){return new Ua(e,t,r)}next(e){this.isStopped?d_(KD(e),this):this._next(e)}error(e){this.isStopped?d_(GD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?d_(WD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},a2=Function.prototype.bind;function u_(n,e){return a2.call(n,e)}var h_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){jh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){jh(r)}else jh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){jh(t)}}},Ua=class extends ys{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ur.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&u_(e.next,o),error:e.error&&u_(e.error,o),complete:e.complete&&u_(e.complete,o)}):i=e}this.destination=new h_(i)}};function jh(n){ur.useDeprecatedSynchronousErrorHandling?YD(n):Vh(n)}function c2(n){throw n}function d_(n,e){let{onStoppedNotification:t}=ur;t&&Va.setTimeout(()=>t(n,e))}var l2={closed:!0,next:gs,error:c2,complete:gs};var Ba=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rn(n){return n}function f_(...n){return p_(n)}function p_(n){return n.length===0?Rn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=d2(t)?t:new Ua(t,r,i);return ja(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=QD(r),new r((i,o)=>{let s=new Ua({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ba](){return this}pipe(...t){return p_(t)(this)}toPromise(t){return t=QD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function QD(n){var e;return(e=n??ur.Promise)!==null&&e!==void 0?e:Promise}function u2(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function d2(n){return n&&n instanceof ys||u2(n)&&Lh(n)}function g_(n){return _e(n?.lift)}function ke(n){return e=>{if(g_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,e,t,r,i){return new m_(n,e,t,r,i)}var m_=class extends ys{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $a(){return ke((n,e)=>{let t=null;n._refCount++;let r=Se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var za=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,g_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(Se(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return $a()(this)}};var ZD=La(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Uh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZD}next(t){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?c_:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,ps(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Uh(e,t),n})(),Uh=class extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:c_}};var st=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var y_={now(){return(y_.delegate||Date).now()},delegate:void 0};var Bh=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var Ul={setInterval(n,e,...t){let{delegate:r}=Ul;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ul;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ha=class extends Bh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ul.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ul.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ps(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var qa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};qa.now=y_.now;var Wa=class extends qa{constructor(e,t=qa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var __=new Wa(Ha);var $h=class extends Ha{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var zh=class extends Wa{};var v_=new zh($h);var En=new ue(n=>n.complete());function JD(n){return n&&_e(n.schedule)}function XD(n){return n[n.length-1]}function Hh(n){return _e(XD(n))?n.pop():void 0}function go(n){return JD(XD(n))?n.pop():void 0}function C_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function eT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _s(n){return this instanceof _s?(this.v=n,this):new _s(n)}function nT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(w){return Promise.resolve(w).then(_,f)}}function a(_,w){r[_]&&(i[_]=function(O){return new Promise(function(R,V){o.push([_,O,R,V])>1||c(_,O)})},w&&(i[_]=w(i[_])))}function c(_,w){try{u(r[_](w))}catch(O){g(o[0][3],O)}}function u(_){_.value instanceof _s?Promise.resolve(_.value.v).then(d,f):g(o[0][2],_)}function d(_){c("next",_)}function f(_){c("throw",_)}function g(_,w){_(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eT=="function"?eT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var qh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Wh(n){return _e(n?.then)}function Gh(n){return _e(n[Ba])}function Kh(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Yh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function h2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qh=h2();function Zh(n){return _e(n?.[Qh])}function Jh(n){return nT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield _s(t.read());if(i)return yield _s(void 0);yield yield _s(r)}}finally{t.releaseLock()}})}function Xh(n){return _e(n?.getReader)}function yt(n){if(n instanceof ue)return n;if(n!=null){if(Gh(n))return f2(n);if(qh(n))return p2(n);if(Wh(n))return g2(n);if(Kh(n))return iT(n);if(Zh(n))return m2(n);if(Xh(n))return y2(n)}throw Yh(n)}function f2(n){return new ue(e=>{let t=n[Ba]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function p2(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function g2(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Vh)})}function m2(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iT(n){return new ue(e=>{_2(n,e).catch(t=>e.error(t))})}function y2(n){return iT(Jh(n))}function _2(n,e){var t,r,i,o;return tT(this,void 0,void 0,function*(){try{for(t=rT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function bn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function mo(n,e=0){return ke((t,r)=>{t.subscribe(Se(r,i=>bn(r,n,()=>r.next(i),e),()=>bn(r,n,()=>r.complete(),e),i=>bn(r,n,()=>r.error(i),e)))})}function yo(n,e=0){return ke((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function oT(n,e){return yt(n).pipe(yo(e),mo(e))}function sT(n,e){return yt(n).pipe(yo(e),mo(e))}function aT(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cT(n,e){return new ue(t=>{let r;return bn(t,e,()=>{r=n[Qh](),bn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function ef(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{bn(t,e,()=>{let r=n[Symbol.asyncIterator]();bn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lT(n,e){return ef(Jh(n),e)}function uT(n,e){if(n!=null){if(Gh(n))return oT(n,e);if(qh(n))return aT(n,e);if(Wh(n))return sT(n,e);if(Kh(n))return ef(n,e);if(Zh(n))return cT(n,e);if(Xh(n))return lT(n,e)}throw Yh(n)}function at(n,e){return e?uT(n,e):yt(n)}function he(...n){let e=go(n);return at(n,e)}function Ga(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function E_(n){return!!n&&(n instanceof ue||_e(n.lift)&&_e(n.subscribe))}var Ei=La(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(n,e){return ke((t,r)=>{let i=0;t.subscribe(Se(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:v2}=Array;function C2(n,e){return v2(e)?n(...e):n(e)}function tf(n){return pe(e=>C2(n,e))}var{isArray:E2}=Array,{getPrototypeOf:b2,prototype:w2,keys:I2}=Object;function nf(n){if(n.length===1){let e=n[0];if(E2(e))return{args:e,keys:null};if(M2(e)){let t=I2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function M2(n){return n&&typeof n=="object"&&b2(n)===w2}function rf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function of(...n){let e=go(n),t=Hh(n),{args:r,keys:i}=nf(n);if(r.length===0)return at([],e);let o=new ue(D2(r,e,i?s=>rf(i,s):Rn));return t?o.pipe(tf(t)):o}function D2(n,e,t=Rn){return r=>{dT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)dT(e,()=>{let u=at(n[c],e),d=!1;u.subscribe(Se(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dT(n,e,t){n?bn(t,n,e):e()}function hT(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},_=O=>u<r?w(O):c.push(O),w=O=>{o&&e.next(O),u++;let R=!1;yt(t(O,d++)).subscribe(Se(e,V=>{i?.(V),o?_(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;c.length&&u<r;){let V=c.shift();s?bn(e,s,()=>w(V)):w(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(Se(e,_,()=>{f=!0,g()})),()=>{a?.()}}function _t(n,e,t=1/0){return _e(e)?_t((r,i)=>pe((o,s)=>e(r,o,i,s))(yt(n(r,i))),t):(typeof e=="number"&&(t=e),ke((r,i)=>hT(r,i,n,t)))}function Ka(n=1/0){return _t(Rn,n)}function fT(){return Ka(1)}function Ya(...n){return fT()(at(n,go(n)))}function Bl(n){return new ue(e=>{yt(n()).subscribe(e)})}function b_(...n){let e=Hh(n),{args:t,keys:r}=nf(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;yt(t[d]).subscribe(Se(o,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?rf(r,a):a),o.complete())}))}});return e?i.pipe(tf(e)):i}var bi=new ue(gs);function vt(n,e){return ke((t,r)=>{let i=0;t.subscribe(Se(r,o=>n.call(e,o,i++)&&r.next(o)))})}function wi(n){return ke((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Se(t,void 0,void 0,s=>{o=yt(n(s,wi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function pT(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Se(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function vs(n,e){return _e(e)?_t(n,e,1):_t(n,1)}function _o(n){return ke((e,t)=>{let r=!1;e.subscribe(Se(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ot(n){return n<=0?()=>En:ke((e,t)=>{let r=0;e.subscribe(Se(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sf(n=T2){return ke((e,t)=>{let r=!1;e.subscribe(Se(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function T2(){return new Ei}function $l(n){return ke((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ii(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Rn,Ot(1),t?_o(e):sf(()=>new Ei))}function Qa(n){return n<=0?()=>En:ke((e,t)=>{let r=[];e.subscribe(Se(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function w_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Rn,Qa(1),t?_o(e):sf(()=>new Ei))}function I_(n,e){return ke(pT(n,e,arguments.length>=2,!0))}function M_(...n){let e=go(n);return ke((t,r)=>{(e?Ya(n,t,e):Ya(n,t)).subscribe(r)})}function zt(n,e){return ke((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Se(r,c=>{i?.unsubscribe();let u=0,d=o++;yt(n(c,d)).subscribe(i=Se(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function af(n){return ke((e,t)=>{yt(n).subscribe(Se(t,()=>t.complete(),gs)),!t.closed&&e.subscribe(t)})}function Rt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?ke((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Se(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Rn}function gT(n){let e=Ee(null);try{return n()}finally{Ee(e)}}var hf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(Is(e,t)),this.code=e}};function S2(n){return`NG0${Math.abs(n)}`}function Is(n,e){return`${S2(n)}${e?": "+e:""}`}var Si=globalThis;function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("")}function _T(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Di(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Di).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ff(n,e){return n?e?`${n} ${e}`:n:e||""}var P2=Be({__forward_ref__:Be});function Nn(n){return n.__forward_ref__=Nn,n.toString=function(){return Di(this())},n}function Ht(n){return V_(n)?n():n}function V_(n){return typeof n=="function"&&n.hasOwnProperty(P2)&&n.__forward_ref__===Nn}function vT(n,e){n==null&&j_(e,n,null,"!=")}function j_(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gl(n){return O2(n,pf)}function U_(n){return Gl(n)!==null}function O2(n,e){return n.hasOwnProperty(e)&&n[e]||null}function x2(n){let e=n?.[pf]??null;return e||null}function T_(n){return n&&n.hasOwnProperty(lf)?n[lf]:null}var pf=Be({\u0275prov:Be}),lf=Be({\u0275inj:Be}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function B_(n){return n&&!!n.\u0275providers}var $_=Be({\u0275cmp:Be}),z_=Be({\u0275dir:Be}),H_=Be({\u0275pipe:Be}),q_=Be({\u0275mod:Be}),ql=Be({\u0275fac:Be}),Ms=Be({__NG_ELEMENT_ID__:Be}),mT=Be({__NG_ENV_ID__:Be});function Ds(n){return typeof n=="string"?n:n==null?"":String(n)}function uf(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ds(n)}var W_=Be({ngErrorCode:Be}),CT=Be({ngErrorMessage:Be}),Hl=Be({ngTokenPath:Be});function G_(n,e){return ET("",-200,e)}function gf(n,e){throw new L(-201,!1)}function A2(n,e){n[Hl]??=[];let t=n[Hl],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(vT(e.provide,"Token with multi: true should have a provide property"),r=uf(e.provide)):r=uf(e),t[0]!==r&&n[Hl].unshift(r)}function R2(n,e){let t=n[Hl],r=n[W_],i=n[CT]||n.message;return n.message=k2(i,r,t,e),n}function ET(n,e,t){let r=new L(e,n);return r[W_]=e,r[CT]=n,t&&(r[Hl]=t),r}function N2(n){return n[W_]}function k2(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Is(e,`${n}${o}${i}`)}var S_;function bT(){return S_}function hn(n){let e=S_;return S_=n,e}function K_(n,e,t){let r=Gl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;gf(n,"Injector")}var F2={},Cs=F2,P_="__NG_DI_FLAG__",O_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Es(t)||0;try{return this.injector.get(e,r&8?null:Cs,r)}catch(i){if(Ra(i))return i;throw i}}};function L2(n,e=0){let t=bh();if(t===void 0)throw new L(-203,!1);if(t===null)return K_(n,void 0,e);{let r=V2(e),i=t.retrieve(n,r);if(Ra(i)){if(r.optional)return null;throw i}return i}}function ne(n,e=0){return(bT()||L2)(Ht(n),e)}function F(n,e){return ne(n,Es(e))}function Es(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function V2(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function x_(n){let e=[];for(let t=0;t<n.length;t++){let r=Ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=j2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function Y_(n,e){return n[P_]=e,n.prototype[P_]=e,n}function j2(n){return n[P_]}function vo(n,e){let t=n.hasOwnProperty(ql);return t?n[ql]:null}function wT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function IT(n){return n.flat(Number.POSITIVE_INFINITY)}function mf(n,e){n.forEach(t=>Array.isArray(t)?mf(t,e):e(t))}function Q_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Kl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function MT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function yf(n,e,t){let r=Ja(n,e);return r>=0?n[r|1]=t:(r=~r,MT(n,r,e,t)),r}function _f(n,e){let t=Ja(n,e);if(t>=0)return n[t|1]}function Ja(n,e){return U2(n,e,1)}function U2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Eo={},fn=[],Pi=new Z(""),Z_=new Z("",-1),J_=new Z(""),Wl=class{get(e,t=Cs){if(t===Cs){let i=ET("",-201);throw i.name="\u0275NotFound",i}return t}};function X_(n){return n[q_]||null}function bo(n){return n[$_]||null}function ev(n){return n[z_]||null}function DT(n){return n[H_]||null}function kt(n){return{\u0275providers:n}}function TT(n){return kt([{provide:Pi,multi:!0,useValue:n}])}function ST(...n){return{\u0275providers:tv(!0,n),\u0275fromNgModule:!0}}function tv(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return mf(e,s=>{let a=s;df(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&PT(i,o),t}function PT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];nv(i,o=>{e(o,r)})}}function df(n,e,t,r){if(n=Ht(n),!n)return!1;let i=null,o=T_(n),s=!o&&bo(n);if(!o&&!s){let c=n.ngModule;if(o=T_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)df(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{mf(o.imports,d=>{df(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&PT(u,e)}if(!a){let u=vo(i)||(()=>new i);e({provide:i,useFactory:u,deps:fn},i),e({provide:J_,useValue:i,multi:!0},i),e({provide:Pi,useValue:()=>ne(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;nv(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function nv(n,e){for(let t of n)B_(t)&&(t=t.\u0275providers),Array.isArray(t)?nv(t,e):e(t)}var B2=Be({provide:String,useValue:Be});function OT(n){return n!==null&&typeof n=="object"&&B2 in n}function $2(n){return!!(n&&n.useExisting)}function z2(n){return!!(n&&n.useFactory)}function bs(n){return typeof n=="function"}function xT(n){return!!n.useClass}var Yl=new Z(""),cf={},yT={},D_;function Ql(){return D_===void 0&&(D_=new Wl),D_}var Ct=class{},ws=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,R_(e,s=>this.processProvider(s)),this.records.set(Z_,Za(void 0,this)),i.has("environment")&&this.records.set(Ct,Za(void 0,this));let o=this.records.get(Yl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(J_,fn,{self:!0}))}retrieve(e,t){let r=Es(t)||0;try{return this.get(e,Cs,r)}catch(i){if(Ra(i))return i;throw i}}destroy(){zl(this),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return zl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){zl(this);let t=Lr(this),r=hn(void 0),i;try{return e()}finally{Lr(t),hn(r)}}get(e,t=Cs,r){if(zl(this),e.hasOwnProperty(mT))return e[mT](this);let i=Es(r),o,s=Lr(this),a=hn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=K2(e)&&Gl(e);d&&this.injectableDefInScope(d)?u=Za(A_(e),cf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?Ql():this.parent;return t=i&8&&t===Cs?null:t,c.get(e,t)}catch(c){let u=N2(c);throw u===-200||u===-201?new L(u,null):c}finally{hn(a),Lr(s)}}resolveInjectorInitializers(){let e=Ee(null),t=Lr(this),r=hn(void 0),i;try{let o=this.get(Pi,fn,{self:!0});for(let s of o)s()}finally{Lr(t),hn(r),Ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Di(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let t=bs(e)?e:Ht(e&&e.provide),r=q2(e);if(!bs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Za(void 0,cf,!0),i.factory=()=>x_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ee(null);try{if(t.value===yT)throw G_(Di(e));return t.value===cf&&(t.value=yT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&G2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function A_(n){let e=Gl(n),t=e!==null?e.factory:vo(n);if(t!==null)return t;if(n instanceof Z)throw new L(204,!1);if(n instanceof Function)return H2(n);throw new L(204,!1)}function H2(n){if(n.length>0)throw new L(204,!1);let t=x2(n);return t!==null?()=>t.factory(n):()=>new n}function q2(n){if(OT(n))return Za(void 0,n.useValue);{let e=rv(n);return Za(e,cf)}}function rv(n,e,t){let r;if(bs(n)){let i=Ht(n);return vo(i)||A_(i)}else if(OT(n))r=()=>Ht(n.useValue);else if(z2(n))r=()=>n.useFactory(...x_(n.deps||[]));else if($2(n))r=(i,o)=>ne(Ht(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ht(n&&(n.useClass||n.provide));if(W2(n))r=()=>new i(...x_(n.deps));else return vo(i)||A_(i)}return r}function zl(n){if(n.destroyed)throw new L(205,!1)}function Za(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function W2(n){return!!n.deps}function G2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function K2(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function R_(n,e){for(let t of n)Array.isArray(t)?R_(t,e):t&&B_(t)?R_(t.\u0275providers,e):e(t)}function xt(n,e){let t;n instanceof ws?(zl(n),t=n):t=new O_(n);let r,i=Lr(t),o=hn(void 0);try{return e()}finally{Lr(i),hn(o)}}function AT(){return bT()!==void 0||bh()!=null}var hr=0,fe=1,ge=2,Nt=3,Wn=4,Gn=5,Zl=6,Xa=7,tn=8,Ts=9,Vr=10,ct=11,ec=12,iv=13,Ss=14,Kn=15,wo=16,Ps=17,jr=18,Jl=19,ov=20,Mi=21,vf=22,Xl=23,kn=24,Os=25,qt=26,RT=1;var Io=7,eu=8,xs=9,pn=10;function Ur(n){return Array.isArray(n)&&typeof n[RT]=="object"}function fr(n){return Array.isArray(n)&&n[RT]===!0}function sv(n){return(n.flags&4)!==0}function Mo(n){return n.componentOffset>-1}function tu(n){return(n.flags&1)===1}function Br(n){return!!n.template}function tc(n){return(n[ge]&512)!==0}function As(n){return(n[ge]&256)===256}var NT="svg",kT="math";function Yn(n){for(;Array.isArray(n);)n=n[hr];return n}function av(n,e){return Yn(e[n])}function pr(n,e){return Yn(e[n.index])}function Cf(n,e){return n.data[e]}function Ef(n,e){return n[e]}function cv(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Qn(n,e){let t=e[n];return Ur(t)?t:t[hr]}function FT(n){return(n[ge]&4)===4}function bf(n){return(n[ge]&128)===128}function LT(n){return fr(n[Nt])}function nu(n,e){return e==null?null:n[e]}function lv(n){n[Ps]=0}function uv(n){n[ge]&1024||(n[ge]|=1024,bf(n)&&nc(n))}function VT(n,e){for(;n>0;)e=e[Ss],n--;return e}function ru(n){return!!(n[ge]&9216||n[kn]?.dirty)}function wf(n){n[Vr].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),ru(n)&&nc(n)}function nc(n){n[Vr].changeDetectionScheduler?.notify(0);let e=Co(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!bf(e)));)e=Co(e)}function dv(n,e){if(As(n))throw new L(911,!1);n[Mi]===null&&(n[Mi]=[]),n[Mi].push(e)}function jT(n,e){if(n[Mi]===null)return;let t=n[Mi].indexOf(e);t!==-1&&n[Mi].splice(t,1)}function Co(n){let e=n[Nt];return fr(e)?e[Nt]:e}function hv(n){return n[Xa]??=[]}function fv(n){return n.cleanup??=[]}function UT(n,e,t,r){let i=hv(e);i.push(t),n.firstCreatePass&&fv(n).push(r,i.length-1)}var be={lFrame:rS(null),bindingsEnabled:!0,skipHydrationRootTNode:null},iu=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(iu||{}),Y2=0,N_=!1;function BT(){return be.lFrame.elementDepthCount}function $T(){be.lFrame.elementDepthCount++}function zT(){be.lFrame.elementDepthCount--}function pv(){return be.bindingsEnabled}function HT(){return be.skipHydrationRootTNode!==null}function qT(n){return be.skipHydrationRootTNode===n}function WT(){be.skipHydrationRootTNode=null}function Pe(){return be.lFrame.lView}function Wt(){return be.lFrame.tView}function K(n){return be.lFrame.contextLView=n,n[tn]}function Y(n){return be.lFrame.contextLView=null,n}function Gt(){let n=gv();for(;n!==null&&n.type===64;)n=n.parent;return n}function gv(){return be.lFrame.currentTNode}function GT(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function rc(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function mv(){return be.lFrame.isParent}function KT(){be.lFrame.isParent=!1}function YT(){return be.lFrame.contextLView}function yv(n){j_("Must never be called in production mode"),Y2=n}function _v(){return N_}function vv(n){let e=N_;return N_=n,e}function If(){let n=be.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function QT(){return be.lFrame.bindingIndex}function ZT(n){return be.lFrame.bindingIndex=n}function ou(){return be.lFrame.bindingIndex++}function Mf(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function JT(){return be.lFrame.inI18n}function XT(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,Df(e)}function eS(){return be.lFrame.currentDirectiveIndex}function Df(n){be.lFrame.currentDirectiveIndex=n}function tS(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Cv(){return be.lFrame.currentQueryIndex}function Tf(n){be.lFrame.currentQueryIndex=n}function Q2(n){let e=n[fe];return e.type===2?e.declTNode:e.type===1?n[Gn]:null}function Ev(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Q2(o),i===null||(o=o[Ss],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=be.lFrame=nS();return r.currentTNode=e,r.lView=n,!0}function Sf(n){let e=nS(),t=n[fe];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nS(){let n=be.lFrame,e=n===null?null:n.child;return e===null?rS(n):e}function rS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function iS(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var bv=iS;function Pf(){let n=iS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oS(n){return(be.lFrame.contextLView=VT(n,be.lFrame.contextLView))[tn]}function Oi(){return be.lFrame.selectedIndex}function Do(n){be.lFrame.selectedIndex=n}function Of(){let n=be.lFrame;return Cf(n.tView,n.selectedIndex)}function sS(){return be.lFrame.currentNamespace}var aS=!0;function xf(){return aS}function Af(n){aS=n}function k_(n,e=null,t=null,r){let i=wv(n,e,t,r);return i.resolveInjectorInitializers(),i}function wv(n,e=null,t=null,r,i=new Set){let o=[t||fn,ST(n)];return r=r||(typeof n=="object"?void 0:Di(n)),new ws(o,e||Ql(),r||null,i)}var rt=class n{static THROW_IF_NOT_FOUND=Cs;static NULL=new Wl;static create(e,t){if(Array.isArray(e))return k_({name:""},t,e,"");{let r=e.name??"";return k_({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>ne(Z_)});static __NG_ELEMENT_ID__=-1},Et=new Z(""),Zn=(()=>{class n{static __NG_ELEMENT_ID__=Z2;static __NG_ENV_ID__=t=>t}return n})(),F_=class extends Zn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return As(this._lView)}onDestroy(e){let t=this._lView;return dv(t,e),()=>jT(t,e)}};function Z2(){return new F_(Pe())}var dr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},nn=new Z("",{providedIn:"root",factory:()=>{let n=F(Ct),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(dr),e.handleError(t))}}}),cS={provide:Pi,useValue:()=>void F(dr),multi:!0},J2=new Z("",{providedIn:"root",factory:()=>{let n=F(Et).defaultView;if(!n)return;let e=F(nn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),F(Zn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Iv(){return kt([TT(()=>void F(J2))])}function Mv(n){return typeof n=="function"&&n[en]!==void 0}function $r(n,e){let[t,r,i]=s_(n,e?.equal),o=t,s=o[en];return o.set=r,o.update=i,o.asReadonly=lS.bind(o),o}function lS(){let n=this[en];if(n.readonlyFn===void 0){let e=()=>this();e[en]=n,n.readonlyFn=e}return n.readonlyFn}function Dv(n){return Mv(n)&&typeof n.set=="function"}var Ti=class{},su=new Z("",{providedIn:"root",factory:()=>!1});var Tv=new Z(""),Sv=new Z("");var Rf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=X2}return n})();function X2(){return new Rf(Pe(),Gt())}var zr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new st(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ue(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),ic=(()=>{class n{internalPendingTasks=F(zr);scheduler=F(Ti);errorHandler=F(nn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function au(...n){}var Pv=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new L_})}return n})(),L_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function uc(n){return{toString:n}.toString()}var Nf="__parameters__";function aV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function US(n,e,t){return uc(()=>{let r=aV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Nf)?c[Nf]:Object.defineProperty(c,Nf,{value:[]})[Nf];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var bt=Y_(US("Optional"),8);var fC=Y_(US("SkipSelf"),4);function cV(n){return typeof n=="function"}var Bf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function BS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var qr=(()=>{let n=()=>$S;return n.ngInherit=!0,n})();function $S(n){return n.type.prototype.ngOnChanges&&(n.setInput=uV),lV}function lV(){let n=HS(this),e=n?.current;if(e){let t=n.previous;if(t===Eo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uV(n,e,t,r,i){let o=this.declaredInputs[r],s=HS(n)||dV(n,{previous:Eo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Bf(u&&u.currentValue,t,c===Eo),BS(n,e,i,t)}var zS="__ngSimpleChanges__";function HS(n){return n[zS]||null}function dV(n,e){return n[zS]=e}var uS=[];var ze=function(n,e=null,t){for(let r=0;r<uS.length;r++){let i=uS[r];i(n,e,t)}};function hV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=$S(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function qS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Lf(n,e,t){WS(n,e,3,t)}function Vf(n,e,t,r){(n[ge]&3)===t&&WS(n,e,t,r)}function Ov(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function WS(n,e,t,r){let i=r!==void 0?n[Ps]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ps]+=65536),(a<o||o==-1)&&(fV(n,t,e,c),n[Ps]=(n[Ps]&4294901760)+c+2),c++}function dS(n,e){ze(4,n,e);let t=Ee(null);try{e.call(n)}finally{Ee(t),ze(5,n,e)}}function fV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ge]>>14<n[Ps]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,dS(a,o)):dS(a,o)}var sc=-1,ks=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function pV(n){return(n.flags&8)!==0}function gV(n){return(n.flags&16)!==0}function mV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];yV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function GS(n){return n===3||n===4||n===6}function yV(n){return n.charCodeAt(0)===64}function uu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?hS(n,t,i,null,e[++r]):hS(n,t,i,null,null))}}return n}function hS(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function KS(n){return n!==sc}function $f(n){return n&32767}function _V(n){return n>>16}function zf(n,e){let t=_V(n),r=e;for(;t>0;)r=r[Ss],t--;return r}var Bv=!0;function Hf(n){let e=Bv;return Bv=n,e}var vV=256,YS=vV-1,QS=5,CV=0,Hr={};function EV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ms)&&(r=t[Ms]),r==null&&(r=t[Ms]=CV++);let i=r&YS,o=1<<i;e.data[n+(i>>QS)]|=o}function qf(n,e){let t=ZS(n,e);if(t!==-1)return t;let r=e[fe];r.firstCreatePass&&(n.injectorIndex=e.length,xv(r.data,n),xv(e,null),xv(r.blueprint,null));let i=pC(n,e),o=n.injectorIndex;if(KS(i)){let s=$f(i),a=zf(i,e),c=a[fe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function xv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ZS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=nP(i),r===null)return sc;if(t++,i=i[Ss],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return sc}function $v(n,e,t){EV(n,e,t)}function bV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(GS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function JS(n,e,t){if(t&8||n!==void 0)return n;gf(e,"NodeInjector")}function XS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ts],o=hn(void 0);try{return i?i.get(e,r,t&8):K_(e,r,t&8)}finally{hn(o)}}return JS(r,e,t)}function eP(n,e,t,r=0,i){if(n!==null){if(e[ge]&2048&&!(r&2)){let s=DV(n,e,t,r,Hr);if(s!==Hr)return s}let o=tP(n,e,t,r,Hr);if(o!==Hr)return o}return XS(e,t,r,i)}function tP(n,e,t,r,i){let o=IV(t);if(typeof o=="function"){if(!Ev(e,n,r))return r&1?JS(i,t,r):XS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))gf(t);else return s}finally{bv()}}else if(typeof o=="number"){let s=null,a=ZS(n,e),c=sc,u=r&1?e[Kn][Gn]:null;for((a===-1||r&4)&&(c=a===-1?pC(n,e):e[a+8],c===sc||!pS(r,!1)?a=-1:(s=e[fe],a=$f(c),e=zf(c,e)));a!==-1;){let d=e[fe];if(fS(o,a,d.data)){let f=wV(a,e,t,s,r,u);if(f!==Hr)return f}c=e[a+8],c!==sc&&pS(r,e[fe].data[a+8]===u)&&fS(o,a,e)?(s=d,a=$f(c),e=zf(c,e)):a=-1}}return i}function wV(n,e,t,r,i,o){let s=e[fe],a=s.data[n+8],c=r==null?Mo(a)&&Bv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=jf(a,s,t,c,u);return d!==null?du(e,s,d,a,i):Hr}function jf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:u;for(let _=f;_<g;_++){let w=s[_];if(_<c&&t===w||_>=c&&w.type===t)return _}if(i){let _=s[c];if(_&&Br(_)&&_.type===t)return c}return null}function du(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ks){let a=o;if(a.resolving){let _=uf(s[t]);throw G_(_)}let c=Hf(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,f=a.injectImpl?hn(a.injectImpl):null,g=Ev(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&hV(t,s[t],e)}finally{f!==null&&hn(f),Hf(c),a.resolving=!1,bv()}}return o}function IV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ms)?n[Ms]:void 0;return typeof e=="number"?e>=0?e&YS:MV:e}function fS(n,e,t){let r=1<<n;return!!(t[e+(n>>QS)]&r)}function pS(n,e){return!(n&2)&&!(n&1&&e)}var Ns=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return eP(this._tNode,this._lView,e,Es(r),t)}};function MV(){return new Ns(Gt(),Pe())}function _r(n){return uc(()=>{let e=n.prototype.constructor,t=e[ql]||zv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ql]||zv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zv(n){return V_(n)?()=>{let e=zv(Ht(n));return e&&e()}:vo(n)}function DV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ge]&2048&&!tc(s);){let a=tP(o,s,t,r|2,Hr);if(a!==Hr)return a;let c=o.parent;if(!c){let u=s[ov];if(u){let d=u.get(t,Hr,r);if(d!==Hr)return d}c=nP(s),s=s[Ss]}o=c}return i}function nP(n){let e=n[fe],t=e.type;return t===2?e.declTNode:t===1?n[Gn]:null}function gu(n){return bV(Gt(),n)}function TV(){return dc(Gt(),Pe())}function dc(n,e){return new gn(pr(n,e))}var gn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=TV}return n})();function SV(n){return n instanceof gn?n.nativeElement:n}function PV(){return this._results[Symbol.iterator]()}var Wf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new tt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=IT(e);(this._changesDetected=!wT(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PV};function rP(n){return(n.flags&128)===128}var gC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gC||{}),iP=new Map,OV=0;function xV(){return OV++}function AV(n){iP.set(n[Jl],n)}function Hv(n){iP.delete(n[Jl])}var gS="__ngContext__";function ac(n,e){Ur(e)?(n[gS]=e[Jl],AV(e)):n[gS]=e}function oP(n){return aP(n[ec])}function sP(n){return aP(n[Wn])}function aP(n){for(;n!==null&&!fr(n);)n=n[Wn];return n}var qv;function mC(n){qv=n}function cP(){if(qv!==void 0)return qv;if(typeof document<"u")return document;throw new L(210,!1)}var ip=new Z("",{providedIn:"root",factory:()=>RV}),RV="ng",op=new Z(""),Po=new Z("",{providedIn:"platform",factory:()=>"unknown"});var sp=new Z(""),ap=new Z("",{providedIn:"root",factory:()=>cP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NV="h",kV="b";var lP=!1,uP=new Z("",{providedIn:"root",factory:()=>lP});var FV=(n,e,t,r)=>{};function LV(n,e,t,r){FV(n,e,t,r)}function yC(n){return(n.flags&32)===32}var VV=()=>null;function dP(n,e,t=!1){return VV(n,e,t)}function hP(n,e){let t=n.contentQueries;if(t!==null){let r=Ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Tf(o),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function Wv(n,e,t){Tf(0);let r=Ee(null);try{e(n,t)}finally{Ee(r)}}function fP(n,e,t){if(sv(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ee(r)}}}var xi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xi||{});var kf;function jV(){if(kf===void 0&&(kf=null,Si.trustedTypes))try{kf=Si.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kf}function mS(n){return jV()?.createScriptURL(n)||n}var Gf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hf})`}};function mu(n){return n instanceof Gf?n.changingThisBreaksApplicationSecurity:n}function _C(n,e){let t=pP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${hf})`)}return t===e}function pP(n){return n instanceof Gf&&n.getTypeName()||null}var UV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gP(n){return n=String(n),n.match(UV)?n:"unsafe:"+n}var cp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(cp||{});function mP(n){let e=_P();return e?e.sanitize(cp.URL,n)||"":_C(n,"URL")?mu(n):gP(Ds(n))}function yP(n){let e=_P();if(e)return mS(e.sanitize(cp.RESOURCE_URL,n)||"");if(_C(n,"ResourceURL"))return mS(mu(n));throw new L(904,!1)}function BV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?yP:mP}function vC(n,e,t){return BV(e,t)(n)}function _P(){let n=Pe();return n&&n[Vr].sanitizer}function vP(n){return n instanceof Function?n():n}function $V(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var CP="ng-template";function zV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$V(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(CC(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function CC(n){return n.type===4&&n.value!==CP}function HV(n,e,t){let r=n.type===4&&!t?CP:n.value;return e===r}function qV(n,e,t){let r=4,i=n.attrs,o=i!==null?KV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!gr(r)&&!gr(c))return!1;if(s&&gr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!HV(n,c,t)||c===""&&e.length===1){if(gr(r))return!1;s=!0}}else if(r&8){if(i===null||!zV(n,i,c,t)){if(gr(r))return!1;s=!0}}else{let u=e[++a],d=WV(c,i,CC(n),t);if(d===-1){if(gr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(gr(r))return!1;s=!0}}}}return gr(r)||s}function gr(n){return(n&1)===0}function WV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return YV(e,n)}function GV(n,e,t=!1){for(let r=0;r<e.length;r++)if(qV(n,e[r],t))return!0;return!1}function KV(n){for(let e=0;e<n.length;e++){let t=n[e];if(GS(t))return e}return n.length}function YV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function yS(n,e){return n?":not("+e.trim()+")":e}function QV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gr(s)&&(e+=yS(o,i),i=""),r=s,o=o||!gr(r);t++}return i!==""&&(e+=yS(o,i)),e}function ZV(n){return n.map(QV).join(",")}function JV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Fn={};function XV(n,e){return n.createText(e)}function ej(n,e,t){n.setValue(e,t)}function EP(n,e,t){return n.createElement(e,t)}function Kf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bP(n,e,t){n.appendChild(e,t)}function _S(n,e,t,r,i){r!==null?Kf(n,e,t,r,i):bP(n,e,t)}function tj(n,e,t){n.removeChild(null,e,t)}function nj(n,e,t){n.setAttribute(e,"style",t)}function rj(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wP(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mV(n,e,r),i!==null&&rj(n,e,i),o!==null&&nj(n,e,o)}function EC(n,e,t,r,i,o,s,a,c,u,d){let f=qt+r,g=f+i,_=ij(f,g),w=typeof u=="function"?u():u;return _[fe]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:d}}function ij(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Fn);return t}function oj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=EC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bC(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[hr]=i,f[ge]=r|4|128|8|64|1024,(u!==null||n&&n[ge]&2048)&&(f[ge]|=2048),lv(f),f[Nt]=f[Ss]=n,f[tn]=t,f[Vr]=s||n&&n[Vr],f[ct]=a||n&&n[ct],f[Ts]=c||n&&n[Ts]||null,f[Gn]=o,f[Jl]=xV(),f[Zl]=d,f[ov]=u,f[Kn]=e.type==2?n[Kn]:f,f}function sj(n,e,t){let r=pr(e,n),i=oj(t),o=n[Vr].rendererFactory,s=wC(n,bC(n,i,null,IP(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function IP(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function MP(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wC(n,e){return n[ec]?n[iv][Wn]=e:n[ec]=e,n[iv]=e,e}function D(n=1){DP(Wt(),Pe(),Oi()+n,!1)}function DP(n,e,t,r){if(!r)if((e[ge]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Lf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Vf(e,o,0,t)}Do(t)}var lp=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(lp||{});function Gv(n,e,t,r){let i=Ee(null);try{let[o,s,a]=n.inputs[t],c=null;(s&lp.SignalBased)!==0&&(c=e[o][en]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):BS(e,c,o,r)}finally{Ee(i)}}var yr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yr||{}),aj;function IC(n,e){return aj(n,e)}function oc(n,e,t,r,i){if(r!=null){let o,s=!1;fr(r)?o=r:Ur(r)&&(s=!0,r=r[hr]);let a=Yn(r);n===0&&t!==null?i==null?bP(e,t,a):Kf(e,t,a,i||null,!0):n===1&&t!==null?Kf(e,t,a,i||null,!0):n===2?tj(e,a,s):n===3&&e.destroyNode(a),o!=null&&vj(e,n,o,t,i)}}function cj(n,e){TP(n,e),e[hr]=null,e[Gn]=null}function lj(n,e,t,r,i,o){r[hr]=i,r[Gn]=e,up(n,r,t,1,i,o)}function TP(n,e){e[Vr].changeDetectionScheduler?.notify(9),up(n,e,e[ct],2,null,null)}function uj(n){let e=n[ec];if(!e)return Av(n[fe],n);for(;e;){let t=null;if(Ur(e))t=e[ec];else{let r=e[pn];r&&(t=r)}if(!t){for(;e&&!e[Wn]&&e!==n;)Ur(e)&&Av(e[fe],e),e=e[Nt];e===null&&(e=n),Ur(e)&&Av(e[fe],e),t=e&&e[Wn]}e=t}}function MC(n,e){let t=n[xs],r=t.indexOf(e);t.splice(r,1)}function SP(n,e){if(As(e))return;let t=e[ct];t.destroyNode&&up(n,e,t,3,null,null),uj(e)}function Av(n,e){if(As(e))return;let t=Ee(null);try{e[ge]&=-129,e[ge]|=256,e[kn]&&Oh(e[kn]),hj(n,e),dj(n,e),e[fe].type===1&&e[ct].destroy();let r=e[wo];if(r!==null&&fr(e[Nt])){r!==e[Nt]&&MC(r,e);let i=e[jr];i!==null&&i.detachView(n)}Hv(e)}finally{Ee(t)}}function dj(n,e){let t=n.cleanup,r=e[Xa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Xa]=null);let i=e[Mi];if(i!==null){e[Mi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Xl];if(o!==null){e[Xl]=null;for(let s of o)s.destroy()}}function hj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ks)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ze(4,a,c);try{c.call(a)}finally{ze(5,a,c)}}else{ze(4,i,o);try{o.call(i)}finally{ze(5,i,o)}}}}}function fj(n,e,t){return pj(n,e.parent,t)}function pj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[hr];if(Mo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===xi.None||i===xi.Emulated)return null}return pr(r,t)}function gj(n,e,t){return yj(n,e,t)}function mj(n,e,t){return n.type&40?pr(n,t):null}var yj=mj,vS;function DC(n,e,t,r){let i=fj(n,r,e),o=e[ct],s=r.parent||e[Gn],a=gj(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)_S(o,i,t[c],a,!1);else _S(o,i,t,a,!1);vS!==void 0&&vS(o,r,e,t,i)}function cu(n,e){if(e!==null){let t=e.type;if(t&3)return pr(e,n);if(t&4)return Kv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return cu(n,r);{let i=n[e.index];return fr(i)?Kv(-1,i):Yn(i)}}else{if(t&128)return cu(n,e.next);if(t&32)return IC(e,n)()||Yn(n[e.index]);{let r=PP(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Co(n[Kn]);return cu(i,r)}else return cu(n,e.next)}}}return null}function PP(n,e){if(e!==null){let r=n[Kn][Gn],i=e.projection;return r.projection[i]}return null}function Kv(n,e){let t=pn+n+1;if(t<e.length){let r=e[t],i=r[fe].firstChild;if(i!==null)return cu(r,i)}return e[Io]}function TC(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&ac(Yn(a),r),t.flags|=2),!yC(t))if(c&8)TC(n,e,t.child,r,i,o,!1),oc(e,n,i,a,o);else if(c&32){let u=IC(t,r),d;for(;d=u();)oc(e,n,i,d,o);oc(e,n,i,a,o)}else c&16?_j(n,e,r,t,i,o):oc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function up(n,e,t,r,i,o){TC(t,r,n.firstChild,e,i,o,!1)}function _j(n,e,t,r,i,o){let s=t[Kn],c=s[Gn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];oc(e,n,i,d,o)}else{let u=c,d=s[Nt];rP(r)&&(u.flags|=128),TC(n,e,u,d,i,o,!0)}}function vj(n,e,t,r,i){let o=t[Io],s=Yn(t);o!==s&&oc(e,n,r,o,i);for(let a=pn;a<t.length;a++){let c=t[a];up(c[fe],c,n,e,r,o)}}function Cj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:yr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yr.Important),n.setStyle(t,r,i,o))}}function OP(n,e,t,r,i){let o=Oi(),s=r&2;try{Do(-1),s&&e.length>qt&&DP(n,e,qt,!1),ze(s?2:0,i,t),t(r,i)}finally{Do(o),ze(s?3:1,i,t)}}function SC(n,e,t){Tj(n,e,t),(t.flags&64)===64&&Sj(n,e,t)}function xP(n,e,t=pr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Ej(n,e,t,r){let o=r.get(uP,lP)||t===xi.ShadowDom,s=n.selectRootElement(e,o);return bj(s),s}function bj(n){wj(n)}var wj=()=>null;function Ij(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function AP(n,e,t,r,i,o){let s=e[fe];if(PC(n,s,e,t,r)){Mo(n)&&Dj(e,n.index);return}n.type&3&&(t=Ij(t)),Mj(n,e,t,r,i,o)}function Mj(n,e,t,r,i,o){if(n.type&3){let s=pr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Dj(n,e){let t=Qn(e,n);t[ge]&16||(t[ge]|=64)}function Tj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Mo(t)&&sj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||qf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=du(e,n,s,t);if(ac(c,e),o!==null&&Aj(e,s-r,c,a,t,o),Br(a)){let u=Qn(t.index,e);u[tn]=du(e,n,s,t)}}}function Sj(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=eS();try{Do(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Df(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Pj(c,u)}}finally{Do(-1),Df(s)}}function Pj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function RP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];GV(e,o.selectors,!1)&&(r??=[],Br(o)?r.unshift(o):r.push(o))}return r}function Oj(n,e,t,r,i,o){let s=pr(n,e);xj(e[ct],s,o,n.value,t,r,i)}function xj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ds(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Aj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Gv(r,t,c,u)}}function Rj(n,e,t,r,i){let o=qt+t,s=e[fe],a=i(s,e,n,r,t);e[o]=a,rc(n,!0);let c=n.type===2;return c?(wP(e[ct],a,n),(BT()===0||tu(n))&&ac(a,e),$T()):ac(a,e),xf()&&(!c||!yC(n))&&DC(s,e,a,n),n}function Nj(n){let e=n;return mv()?KT():(e=e.parent,rc(e,!1)),e}function kj(n,e){let t=n[Ts];if(!t)return;t.get(nn,null)?.(e)}function PC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];Gv(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Gv(d,u,r,i),a=!0}return a}function Fj(n,e){let t=Qn(e,n),r=t[fe];Lj(r,t);let i=t[hr];i!==null&&t[Zl]===null&&(t[Zl]=dP(i,t[Ts])),ze(18),OC(r,t,t[tn]),ze(19,t[tn])}function Lj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function OC(n,e,t){Sf(e);try{let r=n.viewQuery;r!==null&&Wv(1,r,t);let i=n.template;i!==null&&OP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[jr]?.finishViewCreation(n),n.staticContentQueries&&hP(n,e),n.staticViewQueries&&Wv(2,n.viewQuery,t);let o=n.components;o!==null&&Vj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,Pf()}}function Vj(n,e){for(let t=0;t<e.length;t++)Fj(n,e[t])}function jj(n,e,t,r){let i=Ee(null);try{let o=e.tView,a=n[ge]&4096?4096:16,c=bC(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[wo]=u;let d=n[jr];return d!==null&&(c[jr]=d.createEmbeddedView(o)),OC(o,c,t),c}finally{Ee(i)}}function CS(n,e){return!e||e.firstChild===null||rP(n)}var ES=!1,Uj=new Z("");function hu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Yn(o)),fr(o)&&NP(o,r);let s=t.type;if(s&8)hu(n,e,t.child,r);else if(s&32){let a=IC(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=PP(e,t);if(Array.isArray(a))r.push(...a);else{let c=Co(e[Kn]);hu(c[fe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function NP(n,e){for(let t=pn;t<n.length;t++){let r=n[t],i=r[fe].firstChild;i!==null&&hu(r[fe],r,i,e)}n[Io]!==n[hr]&&e.push(n[Io])}function kP(n){if(n[Os]!==null){for(let e of n[Os])e.impl.addSequence(e);n[Os].length=0}}var FP=[];function Bj(n){return n[kn]??$j(n)}function $j(n){let e=FP.pop()??Object.create(Hj);return e.lView=n,e}function zj(n){n.lView[kn]!==n&&(n.lView=null,FP.push(n))}var Hj=ce(j({},hs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{nc(n.lView)},consumerOnSignalRead(){this.lView[kn]=this}});function qj(n){let e=n[kn]??Object.create(Wj);return e.lView=n,e}var Wj=ce(j({},hs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Co(n.lView);for(;e&&!LP(e[fe]);)e=Co(e);e&&uv(e)},consumerOnSignalRead(){this.lView[kn]=this}});function LP(n){return n.type!==2}function VP(n){if(n[Xl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Xl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ge]&8192)}}var Gj=100;function xC(n,e=0){let r=n[Vr].rendererFactory,i=!1;i||r.begin?.();try{Kj(n,e)}finally{i||r.end?.()}}function Kj(n,e){let t=_v();try{vv(!0),Yv(n,e);let r=0;for(;ru(n);){if(r===Gj)throw new L(103,!1);r++,Yv(n,1)}}finally{vv(t)}}function jP(n,e){yv(e?iu.Exhaustive:iu.OnlyDirtyViews);try{xC(n)}finally{yv(iu.Off)}}function Yj(n,e,t,r){if(As(e))return;let i=e[ge],o=!1,s=!1;Sf(e);let a=!0,c=null,u=null;o||(LP(n)?(u=Bj(e),c=fs(u)):Sh()===null?(a=!1,u=qj(e),c=fs(u)):e[kn]&&(Oh(e[kn]),e[kn]=null));try{lv(e),ZT(n.bindingStartIndex),t!==null&&OP(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let _=n.preOrderCheckHooks;_!==null&&Lf(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Vf(e,_,0,null),Ov(e,0)}if(s||Qj(e),VP(e),UP(e,0),n.contentQueries!==null&&hP(n,e),!o)if(d){let _=n.contentCheckHooks;_!==null&&Lf(e,_)}else{let _=n.contentHooks;_!==null&&Vf(e,_,1),Ov(e,1)}Jj(n,e);let f=n.components;f!==null&&$P(e,f,0);let g=n.viewQuery;if(g!==null&&Wv(2,g,r),!o)if(d){let _=n.viewCheckHooks;_!==null&&Lf(e,_)}else{let _=n.viewHooks;_!==null&&Vf(e,_,2),Ov(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vf]){for(let _ of e[vf])_();e[vf]=null}o||(kP(e),e[ge]&=-73)}catch(d){throw o||nc(e),d}finally{u!==null&&(ka(u,c),a&&zj(u)),Pf()}}function UP(n,e){for(let t=oP(n);t!==null;t=sP(t))for(let r=pn;r<t.length;r++){let i=t[r];BP(i,e)}}function Qj(n){for(let e=oP(n);e!==null;e=sP(e)){if(!(e[ge]&2))continue;let t=e[xs];for(let r=0;r<t.length;r++){let i=t[r];uv(i)}}}function Zj(n,e,t){ze(18);let r=Qn(e,n);BP(r,t),ze(19,r[tn])}function BP(n,e){bf(n)&&Yv(n,e)}function Yv(n,e){let r=n[fe],i=n[ge],o=n[kn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jl(o)),s||=!1,o&&(o.dirty=!1),n[ge]&=-9217,s)Yj(r,n,r.template,n[tn]);else if(i&8192){let a=Ee(null);try{VP(n),UP(n,1);let c=r.components;c!==null&&$P(n,c,1),kP(n)}finally{Ee(a)}}}function $P(n,e,t){for(let r=0;r<e.length;r++)Zj(n,e[r],t)}function Jj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Do(~i);else{let o=i,s=t[++r],a=t[++r];XT(s,o);let c=e[o];ze(24,c),a(2,c),ze(25,c)}}}finally{Do(-1)}}function AC(n,e){let t=_v()?64:1088;for(n[Vr].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=Co(n);if(tc(n)&&!r)return n;n=r}return null}function zP(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Xj(n,e,t,r=!0){let i=e[fe];if(eU(i,e,n,t),r){let s=Kv(t,n),a=e[ct],c=a.parentNode(n[Io]);c!==null&&lj(i,n[Gn],a,e,c,s)}let o=e[Zl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qv(n,e){if(n.length<=pn)return;let t=pn+e,r=n[t];if(r){let i=r[wo];i!==null&&i!==n&&MC(i,r),e>0&&(n[t-1][Wn]=r[Wn]);let o=Kl(n,pn+e);cj(r[fe],r);let s=o[jr];s!==null&&s.detachView(o[fe]),r[Nt]=null,r[Wn]=null,r[ge]&=-129}return r}function eU(n,e,t,r){let i=pn+r,o=t.length;r>0&&(t[i-1][Wn]=e),r<o-pn?(e[Wn]=t[i],Q_(t,pn+r,e)):(t.push(e),e[Wn]=null),e[Nt]=t;let s=e[wo];s!==null&&t!==s&&HP(s,e);let a=e[jr];a!==null&&a.insertView(n),wf(e),e[ge]|=128}function HP(n,e){let t=n[xs],r=e[Nt];if(Ur(r))n[ge]|=2;else{let i=r[Nt][Kn];e[Kn]!==i&&(n[ge]|=2)}t===null?n[xs]=[e]:t.push(e)}var To=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[fe];return hu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return As(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(fr(e)){let t=e[eu],r=t?t.indexOf(this):-1;r>-1&&(Qv(e,r),Kl(t,r))}this._attachedToViewContainer=!1}SP(this._lView[fe],this._lView)}onDestroy(e){dv(this._lView,e)}markForCheck(){AC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){wf(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,xC(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ts].get(Uj,ES)}catch{this.exhaustive=ES}}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=tc(this._lView),t=this._lView[wo];t!==null&&!e&&MC(t,this._lView),TP(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=tc(this._lView),r=this._lView[wo];r!==null&&!t&&HP(r,this._lView),wf(this._lView)}};var So=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=tU;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=jj(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new To(o)}}return n})();function tU(){return dp(Gt(),Pe())}function dp(n,e){return n.type&4?new So(e,n,dc(n,e)):null}function RC(n,e,t,r,i){let o=n.data[e];if(o===null)o=nU(n,e,t,r,i),JT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=GT();o.injectorIndex=s===null?-1:s.injectorIndex}return rc(o,!0),o}function nU(n,e,t,r,i){let o=gv(),s=mv(),a=s?o:o&&o.parent,c=n.data[e]=iU(n,a,t,e,r,i);return rU(n,c,o,s),c}function rU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function iU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return HT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Gte=new RegExp(`^(\\d+)*(${kV}|${NV})*(.*)`);var oU=()=>null;function bS(n,e){return oU(n,e)}var qP=class{},hp=class{},Zv=class{resolveComponentFactory(e){throw new L(917,!1)}},yu=class{static NULL=new Zv},Ai=class{},vr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>sU()}return n})();function sU(){let n=Pe(),e=Gt(),t=Qn(e.index,n);return(Ur(t)?t:n)[ct]}var WP=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var Uf={},Jv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Uf,r);return i!==Uf||t===Uf?i:this.parentInjector.get(e,t,r)}};function wS(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ff(i,a);else if(o==2){let c=a,u=e[++s];r=ff(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function $(n,e=0){let t=Pe();if(t===null)return ne(n,e);let r=Gt();return eP(r,t,Ht(n),e)}function GP(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}lU(n,e,t,a,o,c,u)}o!==null&&r!==null&&aU(t,r,o)}function aU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function cU(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function lU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let _=r[g];!c&&Br(_)&&(c=!0,cU(n,t,g)),$v(qf(t,e),n,_.type)}gU(t,n.data.length,a);for(let g=0;g<a;g++){let _=r[g];_.providersResolver&&_.providersResolver(_)}let u=!1,d=!1,f=MP(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let _=r[g];if(t.mergedAttrs=uu(t.mergedAttrs,_.hostAttrs),dU(n,t,e,f,_),pU(f,_,i),s!==null&&s.has(_)){let[O,R]=s.get(_);t.directiveToIndex.set(_.type,[f,O+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,f);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let w=_.type.prototype;!u&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}uU(n,t,o)}function uU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))IS(0,e,i,r),IS(1,e,i,r),DS(e,r,!1);else{let o=t.get(i);MS(0,e,o,r),MS(1,e,o,r),DS(e,r,!0)}}}function IS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),KP(e,o)}}function MS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),KP(e,s)}}function KP(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function DS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||CC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function dU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=vo(i.type,!0)),s=new ks(o,Br(i),$,null);n.blueprint[r]=s,t[r]=s,hU(n,e,r,MP(n,t,i.hostVars,Fn),i)}function hU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;fU(s)!=a&&s.push(a),s.push(t,r,o)}}function fU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function pU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Br(e)&&(t[""]=n)}}function gU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function YP(n,e,t,r,i,o,s,a){let c=e[fe],u=c.consts,d=nu(u,s),f=RC(c,n,t,r,d);return o&&GP(c,e,f,nu(u,a),i),f.mergedAttrs=uu(f.mergedAttrs,f.attrs),f.attrs!==null&&wS(f,f.attrs,!1),f.mergedAttrs!==null&&wS(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function QP(n,e){qS(n,e),sv(e)&&n.queries.elementEnd(e)}function NC(n){return fp(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ZP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function fp(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function JP(n,e,t){return n[e]=t}function Ri(n,e,t){if(t===Fn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function XP(n,e,t,r){let i=Ri(n,e,t);return Ri(n,e+1,r)||i}function Rv(n,e,t){return function r(i){let o=Mo(n)?Qn(n.index,e):e;AC(o,5);let s=e[tn],a=TS(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=TS(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function TS(n,e,t,r){let i=Ee(null);try{return ze(6,e,t),t(r)!==!1}catch(o){return kj(n,o),!1}finally{ze(7,e,t),Ee(i)}}function mU(n,e,t,r,i,o,s,a){let c=tu(n),u=!1,d=null;if(!r&&c&&(d=yU(e,t,o,n.index)),d!==null){let f=d.__ngLastListenerFn__||d;f.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let f=pr(n,t),g=r?r(f):f;LV(t,g,o,a);let _=i.listen(g,o,a),w=r?O=>r(Yn(O[n.index])):n.index;eO(w,e,t,o,a,_,!1)}return u}function yU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Xa],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function eO(n,e,t,r,i,o,s){let a=e.firstCreatePass?fv(e):null,c=hv(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function SS(n,e,t,r,i,o){let s=e[t],a=e[fe],u=a.data[t].outputs[r],f=s[u].subscribe(o);eO(n.index,a,e,i,o,f,!0)}var Xv=Symbol("BINDING");var Yf=class extends yu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=bo(e);return new cc(t,this.ngModule)}};function _U(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&lp.SignalBased)!==0};return i&&(o.transform=i),o})}function vU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function CU(n,e,t){let r=e instanceof Ct?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Jv(t,r):t}function EU(n){let e=n.get(Ai,null);if(e===null)throw new L(407,!1);let t=n.get(WP,null),r=n.get(Ti,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function bU(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return EP(e,t,t==="svg"?NT:t==="math"?kT:null)}var cc=class extends hp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_U(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ZV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ze(22);let a=Ee(null);try{let c=this.componentDef,u=wU(r,c,s,o),d=CU(c,i||this.ngModule,e),f=EU(d),g=f.rendererFactory.createRenderer(null,c),_=r?Ej(g,r,c.encapsulation,d):bU(c,g),w=s?.some(PS)||o?.some(V=>typeof V!="function"&&V.bindings.some(PS)),O=bC(null,u,null,512|IP(c),null,null,f,g,d,null,dP(_,d,!0));O[qt]=_,Sf(O);let R=null;try{let V=YP(qt,O,2,"#host",()=>u.directiveRegistry,!0,0);_&&(wP(g,_,V),ac(_,O)),SC(u,O,V),fP(u,V,O),QP(u,V),t!==void 0&&MU(V,this.ngContentSelectors,t),R=Qn(V.index,O),O[tn]=R[tn],OC(u,O,null)}catch(V){throw R!==null&&Hv(R),Hv(O),V}finally{ze(23),Pf()}return new Qf(this.componentType,O,!!w)}finally{Ee(a)}}};function wU(n,e,t,r){let i=n?["ng-version","20.1.3"]:JV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Xv].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let f=r[d];if(typeof f!="function")for(let g of f.bindings){a+=g[Xv].requiredVars;let _=d+1;g.create&&(g.targetIdx=_,(o??=[]).push(g)),g.update&&(g.targetIdx=_,(s??=[]).push(g))}}let c=[e];if(r)for(let d of r){let f=typeof d=="function"?d:d.type,g=ev(f);c.push(g)}return EC(0,null,IU(o,s),1,a,c,null,null,null,[i],null)}function IU(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function PS(n){let e=n[Xv].kind;return e==="input"||e==="twoWay"}var Qf=class extends qP{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Cf(t[fe],qt),this.location=dc(this._tNode,t),this.instance=Qn(this._tNode.index,t)[tn],this.hostView=this.changeDetectorRef=new To(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=PC(r,i[fe],i,e,t);this.previousInputValues.set(e,t);let s=Qn(r.index,i);AC(s,1)}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ni=(()=>{class n{static __NG_ELEMENT_ID__=DU}return n})();function DU(){let n=Gt();return nO(n,Pe())}var TU=Ni,tO=class extends TU{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){let e=pC(this._hostTNode,this._hostLView);if(KS(e)){let t=zf(e,this._hostLView),r=$f(e),i=t[fe].data[r+8];return new Ns(i,t)}else return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=OS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=bS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,CS(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!cV(e),u;if(c)u=t;else{let R=t||{};u=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let d=c?e:new cc(bo(e)),f=r||this.parentInjector;if(!o&&d.ngModule==null){let V=(c?f:this.parentInjector).get(Ct,null);V&&(o=V)}let g=bo(d.componentType??{}),_=bS(this._lContainer,g?.id??null),w=_?.firstChild??null,O=d.create(f,i,w,o,s,a);return this.insertImpl(O.hostView,u,CS(this._hostTNode,_)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(LT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Nt],u=new tO(c,c[Gn],c[Nt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Xj(s,i,o,r),e.attachToViewContainerRef(),Q_(Nv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=OS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Qv(this._lContainer,t);r&&(Kl(Nv(this._lContainer),t),SP(r[fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Qv(this._lContainer,t);return r&&Kl(Nv(this._lContainer),t)!=null?new To(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function OS(n){return n[eu]}function Nv(n){return n[eu]||(n[eu]=[])}function nO(n,e){let t,r=e[n.index];return fr(r)?t=r:(t=zP(r,e,null,n),e[n.index]=t,wC(e,t)),PU(t,e,n,r),new tO(t,n,e)}function SU(n,e){let t=n[ct],r=t.createComment(""),i=pr(e,n),o=t.parentNode(i);return Kf(t,o,r,t.nextSibling(i),!1),r}var PU=AU,OU=()=>!1;function xU(n,e,t){return OU(n,e,t)}function AU(n,e,t,r){if(n[Io])return;let i;t.type&8?i=Yn(r):i=SU(e,t),n[Io]=i}var eC=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tC=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)kC(e,t).matches!==null&&this.queries[t].setDirty()}},nC=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=UU(e):this.predicate=e}},rC=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,RU(t,o)),this.matchTNodeWithReadOption(e,t,jf(t,e,o,!1,!1))}else r===So?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gn||i===Ni||i===So&&t.type&4)this.addMatch(t.index,-2);else{let o=jf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function RU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function NU(n,e){return n.type&11?dc(n,e):n.type&4?dp(n,e):null}function kU(n,e,t,r){return t===-1?NU(e,n):t===-2?FU(n,e,r):du(n,n[fe],t,e)}function FU(n,e,t){if(t===gn)return dc(e,n);if(t===So)return dp(e,n);if(t===Ni)return nO(e,n)}function rO(n,e,t,r){let i=e[jr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(kU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function oC(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=rO(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=pn;f<d.length;f++){let g=d[f];g[wo]===g[Nt]&&oC(g[fe],g,u,r)}if(d[xs]!==null){let f=d[xs];for(let g=0;g<f.length;g++){let _=f[g];oC(_[fe],_,u,r)}}}}}return r}function LU(n,e){return n[jr].queries[e].queryList}function VU(n,e,t){let r=new Wf((t&4)===4);return UT(n,e,r,r.destroy),(e[jr]??=new tC).queries.push(new eC(r))-1}function jU(n,e,t,r){let i=Wt();if(i.firstCreatePass){let o=Gt();BU(i,new nC(e,t,r),o.index),$U(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return VU(i,Pe(),t)}function UU(n){return n.split(",").map(e=>e.trim())}function BU(n,e,t){n.queries===null&&(n.queries=new rC),n.queries.track(new iC(e,t))}function $U(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function kC(n,e){return n.queries.getByIndex(e)}function zU(n,e){let t=n[fe],r=kC(t,e);return r.crossesNgTemplate?oC(t,n,e,[]):rO(t,n,r,e)}var xS=new Set;function Vs(n){xS.has(n)||(xS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Fs=class{},pp=class{};var Zf=class extends Fs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=X_(e);this._bootstrapComponents=vP(o.bootstrap),this._r3Injector=wv(e,t,[{provide:Fs,useValue:this},{provide:yu,useValue:this.componentFactoryResolver},...r],Di(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jf=class extends pp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zf(this.moduleType,e,[])}};var fu=class extends Fs{injector;componentFactoryResolver=new Yf(this);instance=null;constructor(e){super();let t=new ws([...e.providers,{provide:Fs,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],e.parent||Ql(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _u(n,e,t=null){return new fu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var HU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tv(!1,t.type),i=r.length>0?_u([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(ne(Ct))})}return n})();function Kt(n){return uc(()=>{let e=iO(n),t=ce(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(HU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xi.Emulated,styles:n.styles||fn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Vs("NgStandalone"),oO(t);let r=n.dependencies;return t.directiveDefs=AS(r,qU),t.pipeDefs=AS(r,DT),t.id=KU(t),t})}function qU(n){return bo(n)||ev(n)}function Cr(n){return uc(()=>({type:n.type,bootstrap:n.bootstrap||fn,declarations:n.declarations||fn,imports:n.imports||fn,exports:n.exports||fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function WU(n,e){if(n==null)return Eo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=lp.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function GU(n){if(n==null)return Eo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ge(n){return uc(()=>{let e=iO(n);return oO(e),e})}function hc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function iO(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Eo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:WU(n.inputs,e),outputs:GU(n.outputs),debugInfo:null}}function oO(n){n.features?.forEach(e=>e(n))}function AS(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function KU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function YU(n){return Object.getPrototypeOf(n.prototype).constructor}function wn(n){let e=YU(n.type),t=!0,r=[n];for(;e;){let i;if(Br(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=kv(n.inputs),s.declaredInputs=kv(n.declaredInputs),s.outputs=kv(n.outputs);let a=i.hostBindings;a&&e3(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&JU(n,c),u&&XU(n,u),QU(n,i),_T(n.outputs,i.outputs),Br(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}ZU(r)}function QU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function ZU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=uu(i.hostAttrs,t=uu(t,i.hostAttrs))}}function kv(n){return n===Eo?{}:n===fn?[]:n}function JU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function XU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function e3(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function t3(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=uu(n.mergedAttrs,n.attrs);let d=n.tView=EC(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),rc(n,!1);let c=r3(t,e,n,r);xf()&&DC(t,e,c,n),ac(c,e);let u=zP(c,e,c,n);e[r+qt]=u,wC(e,u),xU(u,n,e)}function n3(n,e,t,r,i,o,s,a,c,u,d){let f=t+qt,g;return e.firstCreatePass?(g=RC(e,f,4,s||null,a||null),pv()&&GP(e,n,g,nu(e.consts,u),RP),qS(e,g)):g=e.data[f],t3(g,n,e,t,r,i,o,c),tu(g)&&SC(e,n,g),u!=null&&xP(n,g,d),g}function ie(n,e,t,r,i,o,s,a){let c=Pe(),u=Wt(),d=nu(u.consts,o);return n3(c,u,n,e,t,r,i,d,void 0,s,a),ie}var r3=i3;function i3(n,e,t,r){return Af(!0),e[ct].createComment("")}var gp=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(gp||{}),js=new Z(""),sO=!1,sC=class extends tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,AT()&&(this.destroyRef=F(Zn,{optional:!0})??void 0,this.pendingTasks=F(zr,{optional:!0})??void 0)}emit(e){let t=Ee(null);try{super.next(e)}finally{Ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=sC;function aO(n){let e,t;function r(){n=au;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function RS(n){return queueMicrotask(()=>n()),()=>{n=au}}var FC="isAngularZone",Xf=FC+"_ID",o3=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sO}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,c3(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(FC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,s3,au,au);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},s3={};function LC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function a3(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){aO(()=>{n.callbackScheduled=!1,aC(n),n.isCheckStableRunning=!0,LC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),aC(n)}function c3(n){let e=()=>{a3(n)},t=o3++;n._inner=n._inner.fork({name:"angular",properties:{[FC]:!0,[Xf]:t,[Xf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(l3(c))return r.invokeTask(o,s,a,c);try{return NS(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kS(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return NS(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!u3(c)&&e(),kS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,aC(n),LC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function aC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function NS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kS(n){n._nesting--,LC(n)}var ep=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function l3(n){return cO(n,"__ignore_ng_zone__")}function u3(n){return cO(n,"__scheduler_tick__")}function cO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var VC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),lO=[0,1,2,3],uO=(()=>{class n{ngZone=F(Oe);scheduler=F(Ti);errorHandler=F(dr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(js,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ze(16),this.executing=!0;for(let r of lO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ze(17)}register(t){let{view:r}=t;r!==void 0?((r[Os]??=[]).push(t),nc(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(gp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),tp=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Os];e&&(this.view[Os]=e.filter(t=>t!==this))}};function mp(n,e){let t=e?.injector??F(rt);return Vs("NgAfterNextRender"),h3(n,t,e,!0)}function d3(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function h3(n,e,t,r){let i=e.get(VC);i.impl??=e.get(uO);let o=e.get(js,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Zn):null,a=e.get(Rf,null,{optional:!0}),c=new tp(i.impl,d3(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var jC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var UC=new Z("");function ki(n){return!!n&&typeof n.then=="function"}function yp(n){return!!n&&typeof n.subscribe=="function"}var BC=new Z("");function _p(n){return kt([{provide:BC,multi:!0,useValue:n}])}var $C=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(BC,{optional:!0})??[];injector=F(rt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=xt(this.injector,i);if(ki(o))t.push(o);else if(yp(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vp=new Z("");function dO(){o_(()=>{let n="";throw new L(600,n)})}function hO(n){return n.isBoundToModule}var f3=10;var Jn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(nn);afterRenderManager=F(VC);zonelessEnabled=F(su);rootEffectScheduler=F(Pv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new tt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(zr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(pe(t=>!t))}constructor(){F(js,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=rt.NULL){return this._injector.get(Oe).run(()=>{ze(10);let s=t instanceof hp;if(!this._injector.get($C).done){let w="";throw new L(405,w)}let c;s?c=t:c=this._injector.get(yu).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=hO(c)?void 0:this._injector.get(Fs),d=r||c.selector,f=c.create(i,[],d,u),g=f.location.nativeElement,_=f.injector.get(UC,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),lu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),ze(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ze(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(gp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=Ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ee(t),this.afterTick.next(),ze(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ai,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<f3;)ze(14),this.synchronizeOnce(),ze(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ru(i))continue;let o=r&&!this.zonelessEnabled?0:1;xC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ru(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;lu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(vp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>lu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Oo(n,e,t,r){let i=Pe(),o=ou();if(Ri(i,o,e)){let s=Wt(),a=Of();Oj(a,i,n,e,t,r)}return Oo}function B(n,e,t){let r=Pe(),i=ou();if(Ri(r,i,e)){let o=Wt(),s=Of();AP(s,r,n,e,r[ct],t)}return B}function cC(n,e,t,r,i){PC(e,n,t,i?"class":"style",r)}function m(n,e,t,r){let i=Pe(),o=i[fe],s=n+qt,a=o.firstCreatePass?YP(s,i,2,e,RP,pv(),t,r):o.data[s];if(Rj(a,i,n,e,p3),tu(a)){let c=i[fe];SC(c,i,a),fP(c,a,i)}return r!=null&&xP(i,a),m}function y(){let n=Wt(),e=Gt(),t=Nj(e);return n.firstCreatePass&&QP(n,t),qT(t)&&WT(),zT(),t.classesWithoutHost!=null&&pV(t)&&cC(n,t,Pe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&gV(t)&&cC(n,t,Pe(),t.stylesWithoutHost,!1),y}function Xn(n,e,t,r){return m(n,e,t,r),y(),Xn}var p3=(n,e,t,r,i)=>(Af(!0),EP(e[ct],r,sS()));function Ye(){return Pe()}var Rs=void 0;function g3(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var m3=["en",[["a","p"],["AM","PM"],Rs],[["AM","PM"],Rs,Rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rs,"{1} 'at' {0}",Rs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",g3],Fv={};function mn(n){let e=y3(n),t=FS(e);if(t)return t;let r=e.split("-")[0];if(t=FS(r),t)return t;if(r==="en")return m3;throw new L(701,!1)}function FS(n){return n in Fv||(Fv[n]=Si.ng&&Si.ng.common&&Si.ng.common.locales&&Si.ng.common.locales[n]),Fv[n]}var lt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(lt||{});function y3(n){return n.toLowerCase().replace(/_/g,"-")}var vu="en-US",_3="USD";var v3=vu;function fO(n){typeof n=="string"&&(v3=n.toLowerCase().replace(/_/g,"-"))}function X(n,e,t){let r=Pe(),i=Wt(),o=Gt();return pO(i,r,r[ct],o,n,e,t),X}function pO(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Rv(r,e,o),mU(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let f=0;f<d.length;f+=2){let g=d[f],_=d[f+1];c??=Rv(r,e,o),SS(r,e,g,_,i,c)}if(u&&u.length)for(let f of u)c??=Rv(r,e,o),SS(r,e,f,i,i,c)}}function H(n=1){return oS(n)}function zC(n,e,t,r){jU(n,e,t,r)}function HC(n){let e=Pe(),t=Wt(),r=Cv();Tf(r+1);let i=kC(t,r);if(n.dirty&&FT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=zU(e,r);n.reset(o,SV),n.notifyOnChanges()}return!0}return!1}function qC(){return LU(Pe(),Cv())}function Us(n){let e=YT();return Ef(e,qt+n)}function Ff(n,e){return n<<17|e<<2}function Ls(n){return n>>17&32767}function C3(n){return(n&2)==2}function E3(n,e){return n&131071|e<<17}function lC(n){return n|2}function lc(n){return(n&131068)>>2}function Lv(n,e){return n&-131069|e<<2}function b3(n){return(n&1)===1}function uC(n){return n|1}function w3(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ls(s),c=lc(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Ja(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=Ls(n[a+1]);n[r+1]=Ff(g,a),g!==0&&(n[g+1]=Lv(n[g+1],r)),n[a+1]=E3(n[a+1],r)}else n[r+1]=Ff(a,0),a!==0&&(n[a+1]=Lv(n[a+1],r)),a=r;else n[r+1]=Ff(c,0),a===0?a=r:n[c+1]=Lv(n[c+1],r),c=r;u&&(n[r+1]=lC(n[r+1])),LS(n,d,r,!0),LS(n,d,r,!1),I3(e,d,n,r,o),s=Ff(a,c),o?e.classBindings=s:e.styleBindings=s}function I3(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ja(o,e)>=0&&(t[r+1]=uC(t[r+1]))}function LS(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ls(i):lc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];M3(c,e)&&(a=!0,n[s+1]=r?uC(u):lC(u)),s=r?Ls(u):lc(u)}a&&(n[t+1]=r?lC(i):uC(i))}function M3(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ja(n,e)>=0:!1}var mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function D3(n){return n.substring(mr.key,mr.keyEnd)}function T3(n){return S3(n),gO(n,mO(n,0,mr.textEnd))}function gO(n,e){let t=mr.textEnd;return t===e?-1:(e=mr.keyEnd=P3(n,mr.key=e,t),mO(n,e,t))}function S3(n){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=n.length}function mO(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function P3(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function In(n,e,t){return yO(n,e,t,!1),In}function Ft(n,e){return yO(n,e,null,!0),Ft}function xo(n){x3(L3,O3,n,!0)}function O3(n,e){for(let t=T3(e);t>=0;t=gO(e,t))yf(n,D3(e),!0)}function yO(n,e,t,r){let i=Pe(),o=Wt(),s=Mf(2);if(o.firstUpdatePass&&vO(o,n,s,r),e!==Fn&&Ri(i,s,e)){let a=o.data[Oi()];CO(o,a,i,i[ct],n,i[s+1]=j3(e,t),r,s)}}function x3(n,e,t,r){let i=Wt(),o=Mf(2);i.firstUpdatePass&&vO(i,null,o,r);let s=Pe();if(t!==Fn&&Ri(s,o,t)){let a=i.data[Oi()];if(EO(a,r)&&!_O(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ff(c,t||"")),cC(i,a,s,t,r)}else V3(i,a,s,s[ct],s[o+1],s[o+1]=F3(n,e,t),r,o)}}function _O(n,e){return e>=n.expandoStartIndex}function vO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Oi()],s=_O(n,t);EO(o,r)&&e===null&&!s&&(e=!1),e=A3(i,o,e,r),w3(i,o,e,t,s,r)}}function A3(n,e,t,r){let i=tS(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Vv(null,n,e,t,r),t=pu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Vv(i,n,e,t,r),o===null){let c=R3(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Vv(null,n,e,c[1],r),c=pu(c,e.attrs,r),N3(n,e,r,c))}else o=k3(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function R3(n,e,t){let r=t?e.classBindings:e.styleBindings;if(lc(r)!==0)return n[Ls(r)]}function N3(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ls(i)]=r}function k3(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=pu(r,s,t)}return pu(r,e.attrs,t)}function Vv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=pu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function pu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),yf(n,s,t?!0:e[++o]))}return n===void 0?null:n}function F3(n,e,t){if(t==null||t==="")return fn;let r=[],i=mu(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function L3(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&yf(n,r,t)}function V3(n,e,t,r,i,o,s,a){i===Fn&&(i=fn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,_=u<o.length?o[u+1]:void 0,w=null,O;d===f?(c+=2,u+=2,g!==_&&(w=f,O=_)):f===null||d!==null&&d<f?(c+=2,w=d):(u+=2,w=f,O=_),w!==null&&CO(n,e,t,r,w,O,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function CO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=b3(u)?VS(c,e,t,i,lc(u),s):void 0;if(!np(d)){np(o)||C3(u)&&(o=VS(c,null,t,i,a,s));let f=av(Oi(),t);Cj(r,s,f,i,o)}}function VS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=t[i+1];g===Fn&&(g=f?fn:void 0);let _=f?_f(g,r):d===r?g:void 0;if(u&&!np(_)&&(_=_f(c,r)),np(_)&&(a=_,s))return a;let w=n[i+1];i=s?Ls(w):lc(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=_f(c,r))}return a}function np(n){return n!==void 0}function j3(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Di(mu(n)))),n}function EO(n,e){return(n.flags&(e?8:16))!==0}function C(n,e=""){let t=Pe(),r=Wt(),i=n+qt,o=r.firstCreatePass?RC(r,i,1,e,null):r.data[i],s=U3(r,t,o,e,n);t[i]=s,xf()&&DC(r,t,s,o),rc(o,!1)}var U3=(n,e,t,r,i)=>(Af(!0),XV(e[ct],r));function B3(n,e,t,r=""){return Ri(n,ou(),t)?e+Ds(t)+r:Fn}function $3(n,e,t,r,i,o=""){let s=QT(),a=XP(n,s,t,i);return Mf(2),a?e+Ds(t)+r+Ds(i)+o:Fn}function te(n){return we("",n),te}function we(n,e,t){let r=Pe(),i=B3(r,n,e,t);return i!==Fn&&bO(r,Oi(),i),we}function Er(n,e,t,r,i){let o=Pe(),s=$3(o,n,e,t,r,i);return s!==Fn&&bO(o,Oi(),s),Er}function bO(n,e,t){let r=av(e,n);ej(n[ct],r,t)}function xe(n,e,t){Dv(e)&&(e=e());let r=Pe(),i=ou();if(Ri(r,i,e)){let o=Wt(),s=Of();AP(s,r,n,e,r[ct],t)}return xe}function Ne(n,e){let t=Dv(n);return t&&n.set(e),t}function Ae(n,e){let t=Pe(),r=Wt(),i=Gt();return pO(r,t,t[ct],i,n,e),Ae}function z3(n,e,t){let r=Wt();if(r.firstCreatePass){let i=Br(n);dC(t,r.data,r.blueprint,i,!0),dC(e,r.data,r.blueprint,i,!1)}}function dC(n,e,t,r,i){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)dC(n[o],e,t,r,i);else{let o=Wt(),s=Pe(),a=Gt(),c=bs(n)?n:Ht(n.provide),u=rv(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(bs(n)||!n.multi){let _=new ks(u,i,$,null),w=Uv(c,e,i?d:d+g,f);w===-1?($v(qf(a,s),o,c),jv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[w]=_,s[w]=_)}else{let _=Uv(c,e,d+g,f),w=Uv(c,e,d,d+g),O=_>=0&&t[_],R=w>=0&&t[w];if(i&&!R||!i&&!O){$v(qf(a,s),o,c);let V=W3(i?q3:H3,t.length,i,r,u,n);!i&&R&&(t[w].providerFactory=V),jv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=wO(t[i?w:_],u,!i&&r);jv(o,n,_>-1?_:w,V)}!i&&r&&R&&t[w].componentProviders++}}}function jv(n,e,t,r){let i=bs(e),o=xT(e);if(i||o){let c=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function wO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Uv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function H3(n,e,t,r,i){return hC(this.multi,[])}function q3(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=du(r,r[fe],this.providerFactory.index,i);s=c.slice(0,a),hC(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],hC(o,s);return s}function hC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function W3(n,e,t,r,i,o){let s=new ks(n,t,$,null);return s.multi=[],s.index=e,s.componentProviders=0,wO(s,i,r&&!t),s}function Wr(n,e=[]){return t=>{t.providersResolver=(r,i)=>z3(r,i?i(n):n,e)}}function Cu(n,e,t,r){return MO(Pe(),If(),n,e,t,r)}function IO(n,e){let t=n[e];return t===Fn?void 0:t}function MO(n,e,t,r,i,o){let s=e+t;return Ri(n,s,i)?JP(n,s+1,o?r.call(o,i):r(i)):IO(n,s+1)}function G3(n,e,t,r,i,o,s){let a=e+t;return XP(n,a,i,o)?JP(n,a+2,s?r.call(s,i,o):r(i,o)):IO(n,a+2)}function Le(n,e){let t=Wt(),r,i=n+qt;t.firstCreatePass?(r=K3(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=vo(r.type,!0)),s,a=hn($);try{let c=Hf(!1),u=o();return Hf(c),cv(t,Pe(),i,u),u}finally{hn(a)}}function K3(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function mt(n,e,t){let r=n+qt,i=Pe(),o=Ef(i,r);return DO(i,r)?MO(i,If(),e,o.transform,t,o):o.transform(t)}function rn(n,e,t,r){let i=n+qt,o=Pe(),s=Ef(o,i);return DO(o,i)?G3(o,If(),e,s.transform,t,r,s):s.transform(t,r)}function DO(n,e){return n[fe].data[e].pure}function WC(n,e){return dp(n,e)}var rp=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},GC=(()=>{class n{compileModuleSync(t){return new Jf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=X_(t),o=vP(i.declarations).reduce((s,a)=>{let c=bo(a);return c&&s.push(new cc(c)),s},[]);return new rp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Y3=(()=>{class n{zone=F(Oe);changeDetectionScheduler=F(Ti);applicationRef=F(Jn);applicationErrorHandler=F(nn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TO=new Z("",{factory:()=>!1});function KC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(ce(j({},QC()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:Pi,multi:!0,useFactory:()=>{let r=F(Y3,{optional:!0});return()=>r.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{let r=F(Q3);return()=>{r.initialize()}}},e===!0?{provide:Tv,useValue:!0}:[],{provide:Sv,useValue:t??sO},{provide:nn,useFactory:()=>{let r=F(Oe),i=F(Ct),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(dr),o.handleError(s))})}}}]}function YC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=KC({ngZoneFactory:()=>{let i=QC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Vs("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return kt([{provide:TO,useValue:!0},{provide:su,useValue:!1},r])}function QC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Q3=(()=>{class n{subscription=new He;initialized=!1;zone=F(Oe);pendingTasks=F(zr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SO=(()=>{class n{applicationErrorHandler=F(nn);appRef=F(Jn);taskService=F(zr);ngZone=F(Oe);zonelessEnabled=F(su);tracing=F(js,{optional:!0});disableScheduling=F(Tv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(Sv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ep||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?RS:aO;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Z3(){return typeof $localize<"u"&&$localize.locale||vu}var Bs=new Z("",{providedIn:"root",factory:()=>F(Bs,{optional:!0,skipSelf:!0})||Z3()}),ZC=new Z("",{providedIn:"root",factory:()=>_3});function Mn(n){return gT(n)}function fc(n,e){return Nh(n,e?.equal)}var PO=class{[en];constructor(e){this[en]=e}destroy(){this[en].destroy()}};var NO=Symbol("InputSignalNode#UNSET"),c5=ce(j({},kh),{transformFn:void 0,applyValueToInputSignal(n,e){Fa(n,e)}});function kO(n,e){let t=Object.create(c5);t.value=n,t.transformFn=e?.transform;function r(){if(Na(t),t.value===NO){let i=null;throw new L(-950,i)}return t.value}return r[en]=t,r}var Ep=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>gu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},l5=new Z("");l5.__NG_ELEMENT_ID__=n=>{let e=Gt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function OO(n,e){return kO(n,e)}function u5(n){return kO(NO,n)}var FO=(OO.required=u5,OO);var pc=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},LO=new pc("20.1.3");var JC=new Z(""),d5=new Z("");function Eu(n){return!n.moduleRef}function h5(n){let e=Eu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{Eu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(nn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Eu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(JC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(JC);s.add(o),n.moduleRef.onDestroy(()=>{lu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return p5(r,t,()=>{let o=e.get(zr),s=o.add(),a=e.get($C);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Bs,vu);if(fO(c||vu),!e.get(d5,!0))return Eu(n)?e.get(Jn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Eu(n)){let d=e.get(Jn);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return f5?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var f5;function p5(n,e,t){try{let r=t();return ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Cp=null;function g5(n=[],e){return rt.create({name:e,providers:[{provide:Yl,useValue:"platform"},{provide:JC,useValue:new Set([()=>Cp=null])},...n]})}function m5(n=[]){if(Cp)return Cp;let e=g5(n);return Cp=e,dO(),y5(e),e}function y5(n){let e=n.get(op,null);xt(n,()=>{e?.forEach(t=>t())})}function bu(){return!1}var Fi=(()=>{class n{static __NG_ELEMENT_ID__=_5}return n})();function _5(n){return v5(Gt(),Pe(),(n&16)===16)}function v5(n,e,t){if(Mo(n)&&!t){let r=Qn(n.index,e);return new To(r,r)}else if(n.type&175){let r=e[Kn];return new To(r,e)}return null}var XC=class{constructor(){}supports(e){return NC(e)}create(e){return new e0(e)}},C5=(n,e)=>e,e0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||C5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<xO(r,i,o)?t:r,a=xO(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let _=g<o.length?o[g]:o[g]=0,w=_+g;d<=w&&w<u&&(o[g]=_+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!NC(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,ZP(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new t0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new bp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},t0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},n0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},bp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new n0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xO(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var r0=class{constructor(){}supports(e){return e instanceof Map||fp(e)}create(){return new i0}},i0=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||fp(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new o0(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},o0=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function AO(){return new s0([new XC])}var s0=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:AO});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||AO()),deps:[[n,new fC,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function RO(){return new a0([new r0])}var a0=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:RO});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||RO()),deps:[[n,new fC,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();function VO(n){ze(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=m5(r),o=[KC({}),{provide:Ti,useExisting:SO},cS,...t||[]],s=new fu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return h5({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ze(9)}}function zs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var BO=null;function er(){return BO}function c0(n){BO??=n}var wu=class{},l0=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F($O),providedIn:"platform"})}return n})();var $O=(()=>{class n extends l0{_location;_history;_doc=F(Et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(t){let r=er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function zO(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function jO(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ao(n){return n&&n[0]!=="?"?`?${n}`:n}var gc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(qO),providedIn:"root"})}return n})(),HO=new Z(""),qO=(()=>{class n extends gc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zO(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ao(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(l0),ne(HO,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mc=(()=>{class n{_subject=new tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=w5(jO(UO(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ao(r))}normalize(t){return n.stripTrailingSlash(b5(this._basePath,UO(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ao(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ao(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ao;static joinWithSlash=zO;static stripTrailingSlash=jO;static \u0275fac=function(r){return new(r||n)(ne(gc))};static \u0275prov=q({token:n,factory:()=>E5(),providedIn:"root"})}return n})();function E5(){return new mc(ne(gc))}function b5(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function UO(n){return n.replace(/\/index.html$/,"")}function w5(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ZO={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ap=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Ap||{});var on=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(on||{}),qe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(qe||{}),Dn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Dn||{}),Yt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function JO(n){return mn(n)[lt.LocaleId]}function XO(n,e,t){let r=mn(n),i=[r[lt.DayPeriodsFormat],r[lt.DayPeriodsStandalone]],o=tr(i,e);return tr(o,t)}function ex(n,e,t){let r=mn(n),i=[r[lt.DaysFormat],r[lt.DaysStandalone]],o=tr(i,e);return tr(o,t)}function tx(n,e,t){let r=mn(n),i=[r[lt.MonthsFormat],r[lt.MonthsStandalone]],o=tr(i,e);return tr(o,t)}function nx(n,e){let r=mn(n)[lt.Eras];return tr(r,e)}function Iu(n,e){let t=mn(n);return tr(t[lt.DateFormat],e)}function Mu(n,e){let t=mn(n);return tr(t[lt.TimeFormat],e)}function Du(n,e){let r=mn(n)[lt.DateTimeFormat];return tr(r,e)}function wr(n,e){let t=mn(n),r=t[lt.NumberSymbols][e];if(typeof r>"u"){if(e===Yt.CurrencyDecimal)return t[lt.NumberSymbols][Yt.Decimal];if(e===Yt.CurrencyGroup)return t[lt.NumberSymbols][Yt.Group]}return r}function y0(n,e){return mn(n)[lt.NumberFormats][e]}function I5(n){return mn(n)[lt.Currencies]}function rx(n){if(!n[lt.ExtraData])throw new L(2303,!1)}function ix(n){let e=mn(n);return rx(e),(e[lt.ExtraData][2]||[]).map(r=>typeof r=="string"?u0(r):[u0(r[0]),u0(r[1])])}function ox(n,e,t){let r=mn(n);rx(r);let i=[r[lt.ExtraData][0],r[lt.ExtraData][1]],o=tr(i,e)||[];return tr(o,t)||[]}function tr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new L(2304,!1)}function u0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function sx(n,e,t="en"){let r=I5(t)[n]||ZO[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var M5=2;function ax(n){let e,t=ZO[n];return t&&(e=t[2]),typeof e=="number"?e:M5}var D5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wp={},T5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function cx(n,e,t,r){let i=F5(n);e=Li(t,e)||e;let s=[],a;for(;e;)if(a=T5.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=ux(r,c),i=k5(i,r));let u="";return s.forEach(d=>{let f=R5(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Sp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Li(n,e){let t=JO(n);if(wp[t]??={},wp[t][e])return wp[t][e];let r="";switch(e){case"shortDate":r=Iu(n,Dn.Short);break;case"mediumDate":r=Iu(n,Dn.Medium);break;case"longDate":r=Iu(n,Dn.Long);break;case"fullDate":r=Iu(n,Dn.Full);break;case"shortTime":r=Mu(n,Dn.Short);break;case"mediumTime":r=Mu(n,Dn.Medium);break;case"longTime":r=Mu(n,Dn.Long);break;case"fullTime":r=Mu(n,Dn.Full);break;case"short":let i=Li(n,"shortTime"),o=Li(n,"shortDate");r=Ip(Du(n,Dn.Short),[i,o]);break;case"medium":let s=Li(n,"mediumTime"),a=Li(n,"mediumDate");r=Ip(Du(n,Dn.Medium),[s,a]);break;case"long":let c=Li(n,"longTime"),u=Li(n,"longDate");r=Ip(Du(n,Dn.Long),[c,u]);break;case"full":let d=Li(n,"fullTime"),f=Li(n,"fullDate");r=Ip(Du(n,Dn.Full),[d,f]);break}return r&&(wp[t][e]=r),r}function Ip(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function br(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function S5(n,e){return br(n,3).substring(0,e)}function wt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=P5(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return S5(a,e);let c=wr(s,Yt.MinusSign);return br(a,e,c,r,i)}}function P5(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new L(2301,!1)}}function Ze(n,e,t=on.Format,r=!1){return function(i,o){return O5(i,o,n,e,t,r)}}function O5(n,e,t,r,i,o){switch(t){case 2:return tx(e,i,r)[n.getMonth()];case 1:return ex(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=ix(e),d=ox(e,i,r),f=u.findIndex(g=>{if(Array.isArray(g)){let[_,w]=g,O=s>=_.hours&&a>=_.minutes,R=s<w.hours||s===w.hours&&a<w.minutes;if(_.hours<w.hours){if(O&&R)return!0}else if(O||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return XO(e,i,r)[s<12?0:1];case 3:return nx(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new L(2302,!1)}}function Mp(n){return function(e,t,r){let i=-1*r,o=wr(t,Yt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+br(s,2,o)+br(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+br(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+br(s,2,o)+":"+br(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+br(s,2,o)+":"+br(Math.abs(i%60),2,o);default:throw new L(2302,!1)}}}var x5=0,Tp=4;function A5(n){let e=Sp(n,x5,1).getDay();return Sp(n,0,1+(e<=Tp?Tp:Tp+7)-e)}function lx(n){let e=n.getDay(),t=e===0?-3:Tp-e;return Sp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function d0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=lx(t),s=A5(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return br(i,n,wr(r,Yt.MinusSign))}}function Dp(n,e=!1){return function(t,r){let o=lx(t).getFullYear();return br(o,n,wr(r,Yt.MinusSign),e)}}var h0={};function R5(n){if(h0[n])return h0[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ze(3,qe.Abbreviated);break;case"GGGG":e=Ze(3,qe.Wide);break;case"GGGGG":e=Ze(3,qe.Narrow);break;case"y":e=wt(0,1,0,!1,!0);break;case"yy":e=wt(0,2,0,!0,!0);break;case"yyy":e=wt(0,3,0,!1,!0);break;case"yyyy":e=wt(0,4,0,!1,!0);break;case"Y":e=Dp(1);break;case"YY":e=Dp(2,!0);break;case"YYY":e=Dp(3);break;case"YYYY":e=Dp(4);break;case"M":case"L":e=wt(1,1,1);break;case"MM":case"LL":e=wt(1,2,1);break;case"MMM":e=Ze(2,qe.Abbreviated);break;case"MMMM":e=Ze(2,qe.Wide);break;case"MMMMM":e=Ze(2,qe.Narrow);break;case"LLL":e=Ze(2,qe.Abbreviated,on.Standalone);break;case"LLLL":e=Ze(2,qe.Wide,on.Standalone);break;case"LLLLL":e=Ze(2,qe.Narrow,on.Standalone);break;case"w":e=d0(1);break;case"ww":e=d0(2);break;case"W":e=d0(1,!0);break;case"d":e=wt(2,1);break;case"dd":e=wt(2,2);break;case"c":case"cc":e=wt(7,1);break;case"ccc":e=Ze(1,qe.Abbreviated,on.Standalone);break;case"cccc":e=Ze(1,qe.Wide,on.Standalone);break;case"ccccc":e=Ze(1,qe.Narrow,on.Standalone);break;case"cccccc":e=Ze(1,qe.Short,on.Standalone);break;case"E":case"EE":case"EEE":e=Ze(1,qe.Abbreviated);break;case"EEEE":e=Ze(1,qe.Wide);break;case"EEEEE":e=Ze(1,qe.Narrow);break;case"EEEEEE":e=Ze(1,qe.Short);break;case"a":case"aa":case"aaa":e=Ze(0,qe.Abbreviated);break;case"aaaa":e=Ze(0,qe.Wide);break;case"aaaaa":e=Ze(0,qe.Narrow);break;case"b":case"bb":case"bbb":e=Ze(0,qe.Abbreviated,on.Standalone,!0);break;case"bbbb":e=Ze(0,qe.Wide,on.Standalone,!0);break;case"bbbbb":e=Ze(0,qe.Narrow,on.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ze(0,qe.Abbreviated,on.Format,!0);break;case"BBBB":e=Ze(0,qe.Wide,on.Format,!0);break;case"BBBBB":e=Ze(0,qe.Narrow,on.Format,!0);break;case"h":e=wt(3,1,-12);break;case"hh":e=wt(3,2,-12);break;case"H":e=wt(3,1);break;case"HH":e=wt(3,2);break;case"m":e=wt(4,1);break;case"mm":e=wt(4,2);break;case"s":e=wt(5,1);break;case"ss":e=wt(5,2);break;case"S":e=wt(6,1);break;case"SS":e=wt(6,2);break;case"SSS":e=wt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Mp(0);break;case"ZZZZZ":e=Mp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mp(2);break;default:return null}return h0[n]=e,e}function ux(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function N5(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function k5(n,e,t){let i=n.getTimezoneOffset(),o=ux(e,i);return N5(n,-1*(o-i))}function F5(n){if(WO(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Sp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(D5))return L5(r)}let e=new Date(n);if(!WO(e))throw new L(2302,!1);return e}function L5(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function WO(n){return n instanceof Date&&!isNaN(n.valueOf())}var V5=/^(\d+)?\.((\d+)(-(\d+))?)?$/,GO=22,Pp=".",Tu="0",j5=";",U5=",",f0="#",KO="\xA4";function dx(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=wr(t,Yt.Infinity);else{let u=$5(n);s&&(u=B5(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(o){let G=o.match(V5);if(G===null)throw new L(2306,!1);let Q=G[1],re=G[3],Ue=G[5];Q!=null&&(d=p0(Q)),re!=null&&(f=p0(re)),Ue!=null?g=p0(Ue):re!=null&&f>g&&(g=f)}z5(u,f,g);let _=u.digits,w=u.integerLen,O=u.exponent,R=[];for(c=_.every(G=>!G);w<d;w++)_.unshift(0);for(;w<0;w++)_.unshift(0);w>0?R=_.splice(w,_.length):(R=_,_=[0]);let V=[];for(_.length>=e.lgSize&&V.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)V.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&V.unshift(_.join("")),a=V.join(wr(t,r)),R.length&&(a+=wr(t,i)+R.join("")),O&&(a+=wr(t,Yt.Exponential)+"+"+O)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function hx(n,e,t,r,i){let o=y0(e,Ap.Currency),s=px(o,wr(e,Yt.MinusSign));return s.minFrac=ax(r),s.maxFrac=s.minFrac,dx(n,s,e,Yt.CurrencyGroup,Yt.CurrencyDecimal,i).replace(KO,t).replace(KO,"").trim()}function fx(n,e,t){let r=y0(e,Ap.Decimal),i=px(r,wr(e,Yt.MinusSign));return dx(n,i,e,Yt.Group,Yt.Decimal,t)}function px(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(j5),i=r[0],o=r[1],s=i.indexOf(Pp)!==-1?i.split(Pp):[i.substring(0,i.lastIndexOf(Tu)+1),i.substring(i.lastIndexOf(Tu)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(f0));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Tu?t.minFrac=t.maxFrac=d+1:f===f0?t.maxFrac=d+1:t.posSuf+=f}let u=a.split(U5);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(f0);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function B5(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function $5(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Pp))>-1&&(e=e.replace(Pp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Tu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Tu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>GO&&(r=r.splice(0,GO-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function z5(n,e,t){if(e>t)throw new L(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(f,g,_,w){return g=g+f,w[_]=g<10?g:g-10,c&&(w[_]===0&&_>=u?w.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function p0(n){let e=parseInt(n);if(isNaN(e))throw new L(2305,!1);return e}var Op=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Op(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),YO(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);YO(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)($(Ni),$(So),$(s0))};static \u0275dir=Ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function YO(n,e){n.context.$implicit=e.item}var yn=(()=>{class n{_viewContainer;_context=new xp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QO(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QO(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)($(Ni),$(So))};static \u0275dir=Ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),xp=class{$implicit=null;ngIf=null};function QO(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var Su=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:yr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)($(gn),$(a0),$(vr))};static \u0275dir=Ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Rp(n,e){return new L(2100,!1)}var g0=class{createSubscription(e,t,r){return Mn(()=>e.subscribe({next:t,error:r}))}dispose(e){Mn(()=>e.unsubscribe())}},m0=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},H5=new m0,q5=new g0,_0=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=F(nn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(ki(t))return H5;if(yp(t))return q5;throw Rp(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)($(Fi,16))};static \u0275pipe=hc({name:"async",type:n,pure:!1})}return n})();var W5="mediumDate",gx=new Z(""),mx=new Z(""),Hs=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??W5,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return cx(t,s,o||this.locale,a)}catch(s){throw Rp(n,s.message)}}static \u0275fac=function(r){return new(r||n)($(Bs,16),$(gx,24),$(mx,24))};static \u0275pipe=hc({name:"date",type:n,pure:!0})}return n})();var v0=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!yx(t))return null;i||=this._locale;try{let o=_x(t);return fx(o,i,r)}catch(o){throw Rp(n,o.message)}}static \u0275fac=function(r){return new(r||n)($(Bs,16))};static \u0275pipe=hc({name:"number",type:n,pure:!0})}return n})();var qs=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!yx(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=sx(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=_x(t);return hx(c,s,a,r,o)}catch(c){throw Rp(n,c.message)}}static \u0275fac=function(r){return new(r||n)($(Bs,16),$(ZC,16))};static \u0275pipe=hc({name:"currency",type:n,pure:!0})}return n})();function yx(n){return!(n==null||n===""||n!==n)}function _x(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new L(2309,!1);return n}var sn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cr({type:n});static \u0275inj=qn({})}return n})();function C0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Pu=class{};var vx="browser";var kp=new Z(""),M0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ne(kp),ne(Oe))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Ou=class{_doc;constructor(e){this._doc=e}manager},E0="ng-app-id";function Cx(n){for(let e of n)e.remove()}function Ex(n,e){let t=e.createElement("style");return t.textContent=n,t}function G5(n,e,t,r){let i=n.head?.querySelectorAll(`style[${E0}="${e}"],link[${E0}="${e}"]`);if(i)for(let o of i)o.removeAttribute(E0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function w0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var D0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,G5(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Ex);r?.forEach(i=>this.addUsage(i,this.external,w0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Cx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Cx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Ex(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,w0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ne(Et),ne(ip),ne(ap,8),ne(Po))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),b0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},T0=/%COMP%/g;var wx="%COMP%",K5=`_nghost-${wx}`,Y5=`_ngcontent-${wx}`,Q5=!0,Z5=new Z("",{providedIn:"root",factory:()=>Q5});function J5(n){return Y5.replace(T0,n)}function X5(n){return K5.replace(T0,n)}function Ix(n,e){return e.map(t=>t.replace(T0,n))}var Ru=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new xu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Np?i.applyToHost(t):i instanceof Au&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case xi.Emulated:o=new Np(c,u,r,this.appId,d,s,a,f,g);break;case xi.ShadowDom:return new I0(c,u,t,r,s,a,this.nonce,f,g);default:o=new Au(c,u,r,d,s,a,f,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ne(M0),ne(D0),ne(ip),ne(Z5),ne(Et),ne(Po),ne(Oe),ne(ap),ne(js,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),xu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(b0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=b0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=b0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yr.DashCase|yr.Important)?e.style.setProperty(t,r,i&yr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function bx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var I0=class extends xu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Ix(i.id,d);for(let g of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=g,this.shadowRoot.appendChild(_)}let f=i.getExternalStyles?.();if(f)for(let g of f){let _=w0(g,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Au=class extends xu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?Ix(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Np=class extends Au{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=J5(d),this.hostAttr=X5(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Fp=class n extends wu{supportsDOMEvents=!0;static makeCurrent(){c0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=eB();return t==null?null:tB(t)}resetBaseElement(){Nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return C0(document.cookie,e)}},Nu=null;function eB(){return Nu=Nu||document.head.querySelector("base"),Nu?Nu.getAttribute("href"):null}function tB(n){return new URL(n,document.baseURI).pathname}var nB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Dx=(()=>{class n extends Ou{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ne(Et))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Mx=["alt","control","meta","shift"],rB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Tx=(()=>{class n extends Ou{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Mx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=rB[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Mx.forEach(s=>{if(s!==i){let a=iB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ne(Et))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function S0(n,e){let t=j({rootComponent:n},oB(e));return VO(t)}function oB(n){return{appProviders:[...uB,...n?.providers??[]],platformProviders:lB}}function sB(){Fp.makeCurrent()}function aB(){return new dr}function cB(){return mC(document),document}var lB=[{provide:Po,useValue:vx},{provide:op,useValue:sB,multi:!0},{provide:Et,useFactory:cB}];var uB=[{provide:Yl,useValue:"root"},{provide:dr,useFactory:aB},{provide:kp,useClass:Dx,multi:!0,deps:[Et]},{provide:kp,useClass:Tx,multi:!0,deps:[Et]},Ru,D0,M0,{provide:Ai,useExisting:Ru},{provide:Pu,useClass:nB},[]];var Sx=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ne(Et))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ce="primary",Yu=Symbol("RouteTitle"),R0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ks(n){return new R0(n)}function Fx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Kr(n[t],e[t]))return!1;return!0}function Kr(n,e){let t=n?N0(n):void 0,r=e?N0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Lx(n[i],e[i]))return!1;return!0}function N0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Vx(n){return n.length>0?n[n.length-1]:null}function ji(n){return E_(n)?n:ki(n)?at(Promise.resolve(n)):he(n)}var fB={exact:Ux,subset:Bx},jx={exact:pB,subset:gB,ignored:()=>!0};function Px(n,e,t){return fB[t.paths](n.root,e.root,t.matrixParams)&&jx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function pB(n,e){return Kr(n,e)}function Ux(n,e,t){if(!Ws(n.segments,e.segments)||!jp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Ux(n.children[r],e.children[r],t))return!1;return!0}function gB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lx(n[t],e[t]))}function Bx(n,e,t){return $x(n,e,e.segments,t)}function $x(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ws(i,t)||e.hasChildren()||!jp(i,t,r))}else if(n.segments.length===t.length){if(!Ws(n.segments,t)||!jp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Bx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ws(n.segments,i)||!jp(n.segments,i,r)||!n.children[Ce]?!1:$x(n.children[Ce],e,o,r)}}function jp(n,e,t){return e.every((r,i)=>jx[t](n[i].parameters,r.parameters))}var Qr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){return _B.serialize(this)}},je=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Up(this)}},No=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ks(this.parameters),this._parameterMap}toString(){return Hx(this)}};function mB(n,e){return Ws(n,e)&&n.every((t,r)=>Kr(t.parameters,e[r].parameters))}function Ws(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function yB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ce&&(t=t.concat(e(i,r)))}),t}var Qu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>new Ys,providedIn:"root"})}return n})(),Ys=class{parse(e){let t=new F0(e);return new Qr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ku(e.root,!0)}`,r=EB(e.queryParams),i=typeof e.fragment=="string"?`#${vB(e.fragment)}`:"";return`${t}${r}${i}`}},_B=new Ys;function Up(n){return n.segments.map(e=>Hx(e)).join("/")}function ku(n,e){if(!n.hasChildren())return Up(n);if(e){let t=n.children[Ce]?ku(n.children[Ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ce&&r.push(`${i}:${ku(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=yB(n,(r,i)=>i===Ce?[ku(n.children[Ce],!1)]:[`${i}:${ku(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ce]!=null?`${Up(n)}/${t[0]}`:`${Up(n)}/(${t.join("//")})`}}function zx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lp(n){return zx(n).replace(/%3B/gi,";")}function vB(n){return encodeURI(n)}function k0(n){return zx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bp(n){return decodeURIComponent(n)}function Ox(n){return Bp(n.replace(/\+/g,"%20"))}function Hx(n){return`${k0(n.path)}${CB(n.parameters)}`}function CB(n){return Object.entries(n).map(([e,t])=>`;${k0(e)}=${k0(t)}`).join("")}function EB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Lp(t)}=${Lp(i)}`).join("&"):`${Lp(t)}=${Lp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var bB=/^[^\/()?;#]+/;function P0(n){let e=n.match(bB);return e?e[0]:""}var wB=/^[^\/()?;=#]+/;function IB(n){let e=n.match(wB);return e?e[0]:""}var MB=/^[^=?&#]+/;function DB(n){let e=n.match(MB);return e?e[0]:""}var TB=/^[^&#]+/;function SB(n){let e=n.match(TB);return e?e[0]:""}var F0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ce]=new je(e,t)),r}parseSegment(){let e=P0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new No(Bp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=IB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=P0(this.remaining);i&&(r=i,this.capture(r))}e[Bp(t)]=Bp(r)}parseQueryParam(e){let t=DB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=SB(this.remaining);s&&(r=s,this.capture(r))}let i=Ox(t),o=Ox(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=P0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ce]:new je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function qx(n){return n.segments.length>0?new je([],{[Ce]:n}):n}function Wx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Wx(i);if(r===Ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new je(n.segments,e);return PB(t)}function PB(n){if(n.numberOfChildren===1&&n.children[Ce]){let e=n.children[Ce];return new je(n.segments.concat(e.segments),e.children)}return n}function ko(n){return n instanceof Qr}function Gx(n,e,t=null,r=null){let i=Kx(n);return Yx(i,e,t,r)}function Kx(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new je(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=qx(r);return e??i}function Yx(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return O0(i,i,i,t,r);let o=OB(e);if(o.toRoot())return O0(i,i,new je([],{}),t,r);let s=xB(o,i,n),a=s.processChildren?Lu(s.segmentGroup,s.index,o.commands):Zx(s.segmentGroup,s.index,o.commands);return O0(i,s.segmentGroup,a,t,r)}function $p(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Uu(n){return typeof n=="object"&&n!=null&&n.outlets}function O0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=Qx(n,e,t);let a=qx(Wx(s));return new Qr(a,o,i)}function Qx(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Qx(o,e,t)}),new je(n.segments,r)}var zp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$p(r[0]))throw new L(4003,!1);let i=r.find(Uu);if(i&&i!==Vx(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new zp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zp(t,e,r)}var vc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function xB(n,e,t){if(n.isAbsolute)return new vc(e,!0,0);if(!t)return new vc(e,!1,NaN);if(t.parent===null)return new vc(t,!0,0);let r=$p(n.commands[0])?0:1,i=t.segments.length-1+r;return AB(t,i,n.numberOfDoubleDots)}function AB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new vc(r,!1,i-o)}function RB(n){return Uu(n[0])?n[0].outlets:{[Ce]:n}}function Zx(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return Lu(n,e,t);let r=NB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new je(n.segments.slice(0,r.pathIndex),{});return o.children[Ce]=new je(n.segments.slice(r.pathIndex),n.children),Lu(o,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?L0(n,e,t):r.match?Lu(n,0,i):L0(n,e,t)}function Lu(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=RB(t),i={};if(Object.keys(r).some(o=>o!==Ce)&&n.children[Ce]&&n.numberOfChildren===1&&n.children[Ce].segments.length===0){let o=Lu(n.children[Ce],e,t);return new je(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Zx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new je(n.segments,i)}}function NB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Uu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Ax(c,u,s))return o;r+=2}else{if(!Ax(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function L0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Uu(o)){let c=kB(o.outlets);return new je(r,c)}if(i===0&&$p(t[0])){let c=n.segments[e];r.push(new No(c.path,xx(t[0]))),i++;continue}let s=Uu(o)?o.outlets[Ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$p(a)?(r.push(new No(s,xx(a))),i+=2):(r.push(new No(s,{})),i++)}return new je(r,{})}function kB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=L0(new je([],{}),0,r))}),e}function xx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ax(n,e,t){return n==t.path&&Kr(e,t.parameters)}var Vu="imperative",Lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Lt||{}),Vn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Qs=class extends Vn{type=Lt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mr=class extends Vn{urlAfterRedirects;type=Lt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_n=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(_n||{}),Bu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Bu||{}),Yr=class extends Vn{reason;code;type=Lt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vi=class extends Vn{reason;code;type=Lt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ec=class extends Vn{error;target;type=Lt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$u=class extends Vn{urlAfterRedirects;state;type=Lt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hp=class extends Vn{urlAfterRedirects;state;type=Lt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends Vn{urlAfterRedirects;state;shouldActivate;type=Lt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wp=class extends Vn{urlAfterRedirects;state;type=Lt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends Vn{urlAfterRedirects;state;type=Lt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class{route;type=Lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yp=class{route;type=Lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qp=class{snapshot;type=Lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zp=class{snapshot;type=Lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{snapshot;type=Lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xp=class{snapshot;type=Lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zu=class{},bc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function FB(n){return!(n instanceof zu)&&!(n instanceof bc)}function LB(n,e){return n.providers&&!n._injector&&(n._injector=_u(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ir(n){return n.outlet||Ce}function VB(n,e){let t=n.filter(r=>Ir(r)===e);return t.push(...n.filter(r=>Ir(r)!==e)),t}function Mc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var eg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Dc(this.rootInjector)}},Dc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new eg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ne(Ct))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=V0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=V0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=j0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return j0(e,this._root).map(t=>t.value)}};function V0(n,e){if(n===e.value)return e;for(let t of e.children){let r=V0(n,t);if(r)return r}return null}function j0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=j0(n,t);if(r.length)return r.unshift(e),r}return[]}var Ln=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function _c(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Hu=class extends tg{snapshot;constructor(e,t){super(e),this.snapshot=t,G0(this,e)}toString(){return this.snapshot.toString()}};function Jx(n){let e=jB(n),t=new st([new No("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new Dr(t,r,o,s,i,Ce,n,e.root);return a.snapshot=e.root,new Hu(new Ln(a,[]),e)}function jB(n){let e={},t={},r={},i="",o=new Gs([],e,r,i,t,Ce,n,null,{});return new qu("",new Ln(o,[]))}var Dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(pe(u=>u[Yu]))??he(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>Ks(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>Ks(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ng(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&eA(i)&&(r.resolve[Yu]=i.title),r}var Gs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yu]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},qu=class extends tg{url;constructor(e,t){super(t),this.url=e,G0(this,t)}toString(){return Xx(this._root)}};function G0(n,e){e.value._routerState=n,e.children.forEach(t=>G0(n,t))}function Xx(n){let e=n.children.length>0?` { ${n.children.map(Xx).join(", ")} } `:"";return`${n.value}${e}`}function x0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Kr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Kr(e.params,t.params)||n.paramsSubject.next(t.params),hB(e.url,t.url)||n.urlSubject.next(t.url),Kr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function U0(n,e){let t=Kr(n.params,e.params)&&mB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||U0(n.parent,e.parent))}function eA(n){return typeof n.title=="string"||n.title===null}var tA=new Z(""),Zu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ce;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=FO(void 0);parentContexts=F(Dc);location=F(Ni);changeDetector=F(Fi);inputBinder=F(sg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new B0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qr]})}return n})(),B0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Dr?this.route:e===Dc?this.childContexts:e===tA?this.outletData:this.parent.get(e,t)}},sg=new Z("");var K0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Kt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Xn(0,"router-outlet")},dependencies:[Zu],encapsulation:2})}return n})();function Y0(n){let e=n.children&&n.children.map(Y0),t=e?ce(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ce&&(t.component=K0),t}function UB(n,e,t){let r=Wu(n,e._root,t?t._root:void 0);return new Hu(r,e)}function Wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=BB(n,e,t);return new Ln(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wu(n,a)),s}}let r=$B(e.value),i=e.children.map(o=>Wu(n,o));return new Ln(r,i)}}function BB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wu(n,r,i);return Wu(n,r)})}function $B(n){return new Dr(new st(n.url),new st(n.params),new st(n.queryParams),new st(n.fragment),new st(n.data),n.outlet,n.component,n)}var wc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},nA="ngNavigationCancelingError";function rg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rA(!1,_n.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function rA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[nA]=!0,t.cancellationCode=e,t}function zB(n){return iA(n)&&ko(n.url)}function iA(n){return!!n&&n[nA]}var HB=(n,e,t,r)=>pe(i=>(new $0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),$0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),x0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=_c(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_c(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_c(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=_c(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(x0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),x0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ig=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function qB(n,e,t){let r=n._root,i=e?e._root:null;return Fu(r,i,t,[r.value])}function WB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Tc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!U_(n)?n:e.get(n):r}function Fu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_c(e);return n.children.forEach(s=>{GB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ju(a,t.getContext(s),i)),i}function GB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=KB(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ig(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fu(n,e,a?a.children:null,r,i):Fu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cc(a.outlet.component,s))}else s&&ju(e,a,i),i.canActivateChecks.push(new ig(r)),o.component?Fu(n,null,a?a.children:null,r,i):Fu(n,null,t,r,i);return i}function KB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ws(n.url,e.url)||!Kr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U0(n,e)||!Kr(n.queryParams,e.queryParams);case"paramsChange":default:return!U0(n,e)}}function ju(n,e,t){let r=_c(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ju(s,e.children.getContext(o),t):ju(s,null,t):ju(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Cc(e.outlet.component,i)):t.canDeactivateChecks.push(new Cc(null,i)):t.canDeactivateChecks.push(new Cc(null,i))}function Ju(n){return typeof n=="function"}function YB(n){return typeof n=="boolean"}function QB(n){return n&&Ju(n.canLoad)}function ZB(n){return n&&Ju(n.canActivate)}function JB(n){return n&&Ju(n.canActivateChild)}function XB(n){return n&&Ju(n.canDeactivate)}function e4(n){return n&&Ju(n.canMatch)}function oA(n){return n instanceof Ei||n?.name==="EmptyError"}var Vp=Symbol("INITIAL_VALUE");function Ic(){return zt(n=>of(n.map(e=>e.pipe(Ot(1),M_(Vp)))).pipe(pe(e=>{for(let t of e)if(t!==!0){if(t===Vp)return Vp;if(t===!1||t4(t))return t}return!0}),vt(e=>e!==Vp),Ot(1)))}function t4(n){return ko(n)||n instanceof wc}function n4(n,e){return _t(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?he(ce(j({},t),{guardsResult:!0})):r4(s,r,i,n).pipe(_t(a=>a&&YB(a)?i4(r,o,n,e):he(a)),pe(a=>ce(j({},t),{guardsResult:a})))})}function r4(n,e,t,r){return at(n).pipe(_t(i=>l4(i.component,i.route,t,e,r)),Ii(i=>i!==!0,!0))}function i4(n,e,t,r){return at(e).pipe(vs(i=>Ya(s4(i.route.parent,r),o4(i.route,r),c4(n,i.path,t),a4(n,i.route,t))),Ii(i=>i!==!0,!0))}function o4(n,e){return n!==null&&e&&e(new Jp(n)),he(!0)}function s4(n,e){return n!==null&&e&&e(new Qp(n)),he(!0)}function a4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return he(!0);let i=r.map(o=>Bl(()=>{let s=Mc(e)??t,a=Tc(o,s),c=ZB(a)?a.canActivate(e,n):xt(s,()=>a(e,n));return ji(c).pipe(Ii())}));return he(i).pipe(Ic())}function c4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WB(s)).filter(s=>s!==null).map(s=>Bl(()=>{let a=s.guards.map(c=>{let u=Mc(s.node)??t,d=Tc(c,u),f=JB(d)?d.canActivateChild(r,n):xt(u,()=>d(r,n));return ji(f).pipe(Ii())});return he(a).pipe(Ic())}));return he(o).pipe(Ic())}function l4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return he(!0);let s=o.map(a=>{let c=Mc(e)??i,u=Tc(a,c),d=XB(u)?u.canDeactivate(n,e,t,r):xt(c,()=>u(n,e,t,r));return ji(d).pipe(Ii())});return he(s).pipe(Ic())}function u4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return he(!0);let o=i.map(s=>{let a=Tc(s,n),c=QB(a)?a.canLoad(e,t):xt(n,()=>a(e,t));return ji(c)});return he(o).pipe(Ic(),sA(r))}function sA(n){return f_(Rt(e=>{if(typeof e!="boolean")throw rg(n,e)}),pe(e=>e===!0))}function d4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return he(!0);let o=i.map(s=>{let a=Tc(s,n),c=e4(a)?a.canMatch(e,t):xt(n,()=>a(e,t));return ji(c)});return he(o).pipe(Ic(),sA(r))}var Gu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ku=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function yc(n){return Ga(new Gu(n))}function h4(n){return Ga(new L(4e3,!1))}function f4(n){return Ga(rA(!1,_n.GuardRejected))}var z0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return he(r);if(i.numberOfChildren>1||!i.children[Ce])return h4(`${e.redirectTo}`);i=i.children[Ce]}}applyRedirectCommands(e,t,r,i,o){return p4(t,i,o).pipe(pe(s=>{if(s instanceof Qr)throw new Ku(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ku(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Qr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new je(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function p4(n,e,t){if(typeof n=="string")return he(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:f}=e;return ji(xt(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var H0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g4(n,e,t,r,i){let o=aA(n,e,t);return o.matched?(r=LB(e,r),d4(r,e,t,i).pipe(pe(s=>s===!0?o:j({},H0)))):he(o)}function aA(n,e,t){if(e.path==="**")return m4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},H0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Fx)(t,n,e);if(!i)return j({},H0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function m4(n){return{matched:!0,parameters:n.length>0?Vx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Rx(n,e,t,r){return t.length>0&&v4(n,t,r)?{segmentGroup:new je(e,_4(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&C4(n,t,r)?{segmentGroup:new je(n.segments,y4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function y4(n,e,t,r){let i={};for(let o of t)if(ag(n,e,o)&&!r[Ir(o)]){let s=new je([],{});i[Ir(o)]=s}return j(j({},r),i)}function _4(n,e){let t={};t[Ce]=e;for(let r of n)if(r.path===""&&Ir(r)!==Ce){let i=new je([],{});t[Ir(r)]=i}return t}function v4(n,e,t){return t.some(r=>ag(n,e,r)&&Ir(r)!==Ce)}function C4(n,e,t){return t.some(r=>ag(n,e,r))}function ag(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function E4(n,e,t){return e.length===0&&!n.children[t]}var q0=class{};function b4(n,e,t,r,i,o,s="emptyOnly"){return new W0(n,e,t,r,i,s,o).recognize()}var w4=31,W0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new z0(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=Rx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:t,rootSnapshot:r})=>{let i=new Ln(r,t),o=new qu("",i),s=Gx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Gs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ce,t).pipe(pe(r=>({children:r,rootSnapshot:t})),wi(r=>{if(r instanceof Ku)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(pe(s=>s instanceof Ln?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return at(o).pipe(vs(s=>{let a=r.children[s],c=VB(t,s);return this.processSegmentGroup(e,c,a,s,i)}),I_((s,a)=>(s.push(...a),s)),_o(null),w_(),_t(s=>{if(s===null)return yc(r);let a=cA(s);return I4(a),he(a)}))}processSegment(e,t,r,i,o,s,a){return at(t).pipe(vs(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(wi(u=>{if(u instanceof Gu)return he(null);throw u}))),Ii(c=>!!c),wi(c=>{if(oA(c))return E4(r,i,o)?he(new q0):yc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Ir(r)!==s&&(s===Ce||!ag(i,o,r))?yc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):yc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=aA(t,i,o);if(!c)return yc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>w4&&(this.allowRedirects=!1));let _=new Gs(o,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Nx(i),Ir(i),i.component??i._loadedComponent??null,i,kx(i)),w=ng(_,a,this.paramsInheritanceStrategy);return _.params=Object.freeze(w.params),_.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,_,e).pipe(zt(R=>this.applyRedirects.lineralizeSegments(i,R)),_t(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=g4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(zt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:_}=c,w=new Gs(g,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Nx(r),Ir(r),r.component??r._loadedComponent??null,r,kx(r)),O=ng(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(O.params),w.data=Object.freeze(O.data);let{segmentGroup:R,slicedSegments:V}=Rx(t,g,_,u);if(V.length===0&&R.hasChildren())return this.processChildren(d,u,R,w).pipe(pe(Q=>new Ln(w,Q)));if(u.length===0&&V.length===0)return he(new Ln(w,[]));let G=Ir(r)===o;return this.processSegment(d,u,R,V,G?Ce:o,!0,w).pipe(pe(Q=>new Ln(w,Q instanceof Ln?[Q]:[])))}))):yc(t)))}getChildConfig(e,t,r){return t.children?he({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?he({routes:t._loadedRoutes,injector:t._loadedInjector}):u4(e,t,r,this.urlSerializer).pipe(_t(i=>i?this.configLoader.loadChildren(e,t).pipe(Rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):f4(t))):he({routes:[],injector:e})}};function I4(n){n.sort((e,t)=>e.value.outlet===Ce?-1:t.value.outlet===Ce?1:e.value.outlet.localeCompare(t.value.outlet))}function M4(n){let e=n.value.routeConfig;return e&&e.path===""}function cA(n){let e=[],t=new Set;for(let r of n){if(!M4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=cA(r.children);e.push(new Ln(r.value,i))}return e.filter(r=>!t.has(r))}function Nx(n){return n.data||{}}function kx(n){return n.resolve||{}}function D4(n,e,t,r,i,o){return _t(s=>b4(n,e,t,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:c})=>ce(j({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function T4(n,e){return _t(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return he(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of lA(c))s.add(u);let a=0;return at(s).pipe(vs(c=>o.has(c)?S4(c,r,n,e):(c.data=ng(c,c.parent,n).resolve,he(void 0))),Rt(()=>a++),Qa(1),_t(c=>a===s.size?he(t):En))})}function lA(n){let e=n.children.map(t=>lA(t)).flat();return[n,...e]}function S4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!eA(i)&&(o[Yu]=i.title),Bl(()=>(n.data=ng(n,n.parent,t).resolve,P4(o,n,e,r).pipe(pe(s=>(n._resolvedData=s,n.data=j(j({},n.data),s),null)))))}function P4(n,e,t,r){let i=N0(n);if(i.length===0)return he({});let o={};return at(i).pipe(_t(s=>O4(n[s],e,t,r).pipe(Ii(),Rt(a=>{if(a instanceof wc)throw rg(new Ys,a);o[s]=a}))),Qa(1),pe(()=>o),wi(s=>oA(s)?En:Ga(s)))}function O4(n,e,t,r){let i=Mc(e)??r,o=Tc(n,i),s=o.resolve?o.resolve(e,t):xt(i,()=>o(e,t));return ji(s)}function A0(n){return zt(e=>{let t=n(e);return t?at(t).pipe(pe(()=>e)):he(e)})}var Q0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ce);return r}getResolvedTitleForRoute(t){return t.data[Yu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(uA),providedIn:"root"})}return n})(),uA=(()=>{class n extends Q0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ne(Sx))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sc=new Z("",{providedIn:"root",factory:()=>({})}),Xu=new Z(""),dA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(GC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return he(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ji(xt(t,()=>r.loadComponent())).pipe(pe(fA),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),$l(()=>{this.componentLoaders.delete(r)})),o=new za(i,()=>new tt).pipe($a());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hA(r,this.compiler,t,this.onLoadEndListener).pipe($l(()=>{this.childrenLoaders.delete(r)})),s=new za(o,()=>new tt).pipe($a());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hA(n,e,t,r){return ji(xt(t,()=>n.loadChildren())).pipe(pe(fA),_t(i=>i instanceof pp||Array.isArray(i)?he(i):at(e.compileModuleAsync(i))),pe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Y0),injector:o}}))}function x4(n){return n&&typeof n=="object"&&"default"in n}function fA(n){return x4(n)?n.default:n}var cg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(A4),providedIn:"root"})}return n})(),A4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pA=new Z("");var gA=new Z(""),mA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new tt;transitionAbortWithErrorSubject=new tt;configLoader=F(dA);environmentInjector=F(Ct);destroyRef=F(Zn);urlSerializer=F(Qu);rootContexts=F(Dc);location=F(mc);inputBindingEnabled=F(sg,{optional:!0})!==null;titleStrategy=F(Q0);options=F(Sc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(cg);createViewTransition=F(pA,{optional:!0});navigationErrorHandler=F(gA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>he(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Kp(i)),r=i=>this.events.next(new Yp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new st(null),this.transitions.pipe(vt(r=>r!==null),zt(r=>{let i=!1;return he(r).pipe(zt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_n.SupersededByNewNavigation),En;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ce(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Vi(o.id,this.urlSerializer.serialize(o.rawUrl),c,Bu.IgnoredSameUrlNavigation)),o.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return he(o).pipe(zt(c=>(this.events.next(new Qs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?En:Promise.resolve(c))),D4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ce(j({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new $u(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:g}=o,_=new Qs(c,this.urlSerializer.serialize(u),d,f);this.events.next(_);let w=Jx(this.rootComponentType).snapshot;return this.currentTransition=r=ce(j({},o),{targetSnapshot:w,urlAfterRedirects:u,extras:ce(j({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,he(r)}else{let c="";return this.events.next(new Vi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Bu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),En}}),Rt(o=>{let s=new Hp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),pe(o=>(this.currentTransition=r=ce(j({},o),{guards:qB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),n4(this.environmentInjector,o=>this.events.next(o)),Rt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw rg(this.urlSerializer,o.guardsResult);let s=new qp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),vt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",_n.GuardRejected),!1)),A0(o=>{if(o.guards.canActivateChecks.length!==0)return he(o).pipe(Rt(s=>{let a=new Wp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),zt(s=>{let a=!1;return he(s).pipe(T4(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",_n.NoDataFromResolver)}}))}),Rt(s=>{let a=new Gp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),A0(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=Mc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Rt(d=>{a.component=d}),pe(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return of(s(o.targetSnapshot.root)).pipe(_o(null),Ot(1))}),A0(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?at(a).pipe(pe(()=>r)):he(r)}),pe(o=>{let s=UB(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ce(j({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Rt(()=>{this.events.next(new zu)}),HB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ot(1),af(new ue(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(vt(()=>!i&&!r.targetRouterState),Rt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",_n.Aborted)}))),Rt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),af(this.transitionAbortWithErrorSubject.pipe(Rt(o=>{throw o}))),$l(()=>{i||this.cancelNavigationTransition(r,"",_n.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),wi(o=>{if(this.destroyed)return r.resolve(!1),En;if(i=!0,iA(o))this.events.next(new Yr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zB(o)?this.events.next(new bc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ec(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=xt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof wc){let{message:c,cancellationCode:u}=rg(this.urlSerializer,a);this.events.next(new Yr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new bc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return En}))}))}cancelNavigationTransition(t,r,i){let o=new Yr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R4(n){return n!==Vu}var yA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(N4),providedIn:"root"})}return n})(),og=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},N4=(()=>{class n extends og{static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_A=(()=>{class n{urlSerializer=F(Qu);options=F(Sc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(mc);urlHandlingStrategy=F(cg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Qr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Jx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:()=>F(k4),providedIn:"root"})}return n})(),k4=(()=>{class n extends _A{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Qs?this.updateStateMemento():t instanceof Vi?this.commitTransition(r):t instanceof $u?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Yr&&t.code!==_n.SupersededByNewNavigation&&t.code!==_n.Redirect?this.restoreHistory(r):t instanceof Ec?this.restoreHistory(r,!0):t instanceof Mr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=j(j({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Z0(n,e){n.events.pipe(vt(t=>t instanceof Mr||t instanceof Yr||t instanceof Ec||t instanceof Vi),pe(t=>t instanceof Mr||t instanceof Vi?0:(t instanceof Yr?t.code===_n.Redirect||t.code===_n.SupersededByNewNavigation:!1)?2:1),vt(t=>t!==2),Ot(1)).subscribe(()=>{e()})}var F4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(jC);stateManager=F(_A);options=F(Sc,{optional:!0})||{};pendingTasks=F(zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(mA);urlSerializer=F(Qu);location=F(mc);urlHandlingStrategy=F(cg);injector=F(Ct);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(yA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Xu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(sg,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Yr&&r.code!==_n.Redirect&&r.code!==_n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mr)this.navigated=!0;else if(r instanceof bc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R4(i.source)},s);this.scheduleNavigation(a,Vu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}FB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(nn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Y0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=Kx(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Yx(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ko(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vu,null,r)}navigate(t,r={skipLocationChange:!1}){return V4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},F4):r===!1?i=j({},L4):i=r,ko(t))return Px(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Px(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return Z0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var Pc=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$r(null);get href(){return Mn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new tt;applicationErrorHandler=F(nn);options=F(Sc,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(F(new Ep("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Mr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ko(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ko(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)($(Vt),$(Dr),gu("tabindex"),$(vr),$(gn),$(gc))};static \u0275dir=Ge({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&X("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Oo("href",i.reactiveHref(),vC)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zs],replaceUrl:[2,"replaceUrl","replaceUrl",zs],routerLink:"routerLink"},features:[qr]})}return n})(),J0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new gt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Mr&&this.update()})}ngAfterContentInit(){he(this.links.changes,he(null)).pipe(Ka()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=at(t).pipe(Ka()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=U4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)($(Vt),$(gn),$(vr),$(Fi),$(Pc,8))};static \u0275dir=Ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&zC(o,Pc,5),r&2){let s;HC(s=qC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[qr]})}return n})();function U4(n){return!!n.paths}var B4=new Z("");function X0(n,...e){return kt([{provide:Xu,multi:!0,useValue:n},[],{provide:Dr,useFactory:$4,deps:[Vt]},{provide:vp,multi:!0,useFactory:z4},e.map(t=>t.\u0275providers)])}function $4(n){return n.routerState.root}function z4(){let n=F(rt);return e=>{let t=n.get(Jn);if(e!==t.components[0])return;let r=n.get(Vt),i=n.get(H4);n.get(q4)===1&&r.initialNavigation(),n.get(W4,null,{optional:!0})?.setUpPreloading(),n.get(B4,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var H4=new Z("",{factory:()=>new tt}),q4=new Z("",{providedIn:"root",factory:()=>1});var W4=new Z("");var Ie=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ie||{}),Tr="*";function vA(n,e=null){return{type:Ie.Sequence,steps:n,options:e}}function eE(n){return{type:Ie.Style,styles:n,offset:null}}var Ui=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},xc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ed="!";function CA(n){return new L(3e3,!1)}function G4(){return new L(3100,!1)}function K4(){return new L(3101,!1)}function Y4(n){return new L(3001,!1)}function Q4(n){return new L(3003,!1)}function Z4(n){return new L(3004,!1)}function bA(n,e){return new L(3005,!1)}function wA(){return new L(3006,!1)}function IA(){return new L(3007,!1)}function MA(n,e){return new L(3008,!1)}function DA(n){return new L(3002,!1)}function TA(n,e,t,r,i){return new L(3010,!1)}function SA(){return new L(3011,!1)}function PA(){return new L(3012,!1)}function OA(){return new L(3200,!1)}function xA(){return new L(3202,!1)}function AA(){return new L(3013,!1)}function RA(n){return new L(3014,!1)}function NA(n){return new L(3015,!1)}function kA(n){return new L(3016,!1)}function FA(n,e){return new L(3404,!1)}function J4(n){return new L(3502,!1)}function LA(n){return new L(3503,!1)}function VA(){return new L(3300,!1)}function jA(n){return new L(3504,!1)}function UA(n){return new L(3301,!1)}function BA(n,e){return new L(3302,!1)}function $A(n){return new L(3303,!1)}function zA(n,e){return new L(3400,!1)}function HA(n){return new L(3401,!1)}function qA(n){return new L(3402,!1)}function WA(n,e){return new L(3505,!1)}function Bi(n){switch(n.length){case 0:return new Ui;case 1:return n[0];default:return new xc(n)}}function iE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((g,_)=>{let w=_,O=g;if(_!=="offset")switch(w=n.normalizePropertyName(w,i),O){case ed:O=t.get(_);break;case Tr:O=r.get(_);break;default:O=n.normalizeStyleValue(_,w,O,i);break}f.set(w,O)}),d||o.push(f),a=f,s=u}),i.length)throw J4(i);return o}function lg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&tE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&tE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&tE(t,"destroy",n)));break}}function tE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=ug(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function ug(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Tn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function oE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var X4=typeof document>"u"?null:document.documentElement;function dg(n){let e=n.parentNode||n.host||null;return e===X4?null:e}function e6(n){return n.substring(1,6)=="ebkit"}var Zs=null,EA=!1;function GA(n){Zs||(Zs=t6()||{},EA=Zs.style?"WebkitAppearance"in Zs.style:!1);let e=!0;return Zs.style&&!e6(n)&&(e=n in Zs.style,!e&&EA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zs.style)),e}function t6(){return typeof document<"u"?document.body:null}function sE(n,e){for(;e;){if(e===n)return!0;e=dg(e)}return!1}function aE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var n6=1e3,cE="{{",r6="}}",lE="ng-enter",hg="ng-leave",td="ng-trigger",nd=".ng-trigger",uE="ng-animating",fg=".ng-animating";function Zr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nE(parseFloat(e[1]),e[2])}function nE(n,e){switch(e){case"s":return n*n6;default:return n}}function rd(n,e,t){return n.hasOwnProperty("duration")?n:i6(n,e,t)}function i6(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(CA(n)),{duration:0,delay:0,easing:""};i=nE(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=nE(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(G4()),a=!0),o<0&&(e.push(K4()),a=!0),a&&e.splice(c,0,CA(n))}return{duration:i,delay:o,easing:s}}function KA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Sr(n,e,t){e.forEach((r,i)=>{let o=pg(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Fo(n,e){e.forEach((t,r)=>{let i=pg(r);n.style[i]=""})}function Ac(n){return Array.isArray(n)?n.length==1?n[0]:vA(n):n}function YA(n,e,t){let r=e.params||{},i=dE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Y4(o))})}var rE=new RegExp(`${cE}\\s*(.+?)\\s*${r6}`,"g");function dE(n){let e=[];if(typeof n=="string"){let t;for(;t=rE.exec(n);)e.push(t[1]);rE.lastIndex=0}return e}function Rc(n,e,t){let r=`${n}`,i=r.replace(rE,(o,s)=>{let a=e[s];return a==null&&(t.push(Q4(s)),a=""),a.toString()});return i==r?n:i}var o6=/-+([a-z0-9])/g;function pg(n){return n.replace(o6,(...e)=>e[1].toUpperCase())}function QA(n,e){return n===0||e===0}function ZA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,gg(n,a)))}}return e}function Sn(n,e,t){switch(e.type){case Ie.Trigger:return n.visitTrigger(e,t);case Ie.State:return n.visitState(e,t);case Ie.Transition:return n.visitTransition(e,t);case Ie.Sequence:return n.visitSequence(e,t);case Ie.Group:return n.visitGroup(e,t);case Ie.Animate:return n.visitAnimate(e,t);case Ie.Keyframes:return n.visitKeyframes(e,t);case Ie.Style:return n.visitStyle(e,t);case Ie.Reference:return n.visitReference(e,t);case Ie.AnimateChild:return n.visitAnimateChild(e,t);case Ie.AnimateRef:return n.visitAnimateRef(e,t);case Ie.Query:return n.visitQuery(e,t);case Ie.Stagger:return n.visitStagger(e,t);default:throw Z4(e.type)}}function gg(n,e){return window.getComputedStyle(n)[e]}var SE=(()=>{class n{validateStyleProperty(t){return GA(t)}containsElement(t,r){return sE(t,r)}getParentElement(t){return dg(t)}query(t,r,i){return aE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ui(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Xs=class{static NOOP=new SE},ea=class{};var s6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Cg=class extends ea{normalizePropertyName(e,t){return pg(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(s6.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(bA(e,r))}return s+o}};var Eg="*";function a6(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>c6(r,t,e)):t.push(n),t}function c6(n,e,t){if(n[0]==":"){let c=l6(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(NA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(JA(i,s));let a=i==Eg&&s==Eg;o[0]=="<"&&!a&&e.push(JA(s,i))}function l6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(kA(n)),"* => *"}}var mg=new Set(["true","1"]),yg=new Set(["false","0"]);function JA(n,e){let t=mg.has(n)||yg.has(n),r=mg.has(e)||yg.has(e);return(i,o)=>{let s=n==Eg||n==i,a=e==Eg||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?mg.has(n):yg.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?mg.has(e):yg.has(e)),s&&a}}var c1=":self",u6=new RegExp(`s*${c1}s*,?`,"g");function l1(n,e,t,r){return new yE(n).build(e,t,r)}var XA="",yE=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new _E(t);return this._resetContextStyleTimingState(i),Sn(this,Ac(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=XA,e.collectedStyles=new Map,e.collectedStyles.set(XA,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(wA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ie.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==Ie.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(IA())}),{type:Ie.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{dE(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(MA(e.name,[...o.values()]))}return{type:Ie.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Sn(this,Ac(e.animation),t),i=a6(e.expr,t.errors);return{type:Ie.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Js(e.options)}}visitSequence(e,t){return{type:Ie.Sequence,steps:e.steps.map(r=>Sn(this,r,t)),options:Js(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Sn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ie.Group,steps:o,options:Js(e.options)}}visitAnimate(e,t){let r=p6(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:eE({});if(o.type==Ie.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=eE(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ie.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Tr?r.push(a):t.errors.push(DA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(cE)>=0){o=!0;break}}}),{type:Ie.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(TA(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&YA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ie.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(SA()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(V=>{let G=this._makeStyleAst(V,t),Q=G.offset!=null?G.offset:f6(G.styles),re=0;return Q!=null&&(o++,re=G.offset=Q),c=c||re<0||re>1,a=a||re<u,u=re,s.push(re),G});c&&t.errors.push(PA()),a&&t.errors.push(OA());let f=e.steps.length,g=0;o>0&&o<f?t.errors.push(xA()):o==0&&(g=i/(f-1));let _=f-1,w=t.currentTime,O=t.currentAnimateTimings,R=O.duration;return d.forEach((V,G)=>{let Q=g>0?G==_?1:g*G:s[G],re=Q*R;t.currentTime=w+O.delay+re,O.duration=re,this._validateStyleAst(V,t),V.offset=Q,r.styles.push(V)}),r}visitReference(e,t){return{type:Ie.Reference,animation:Sn(this,Ac(e.animation),t),options:Js(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ie.AnimateChild,options:Js(e.options)}}visitAnimateRef(e,t){return{type:Ie.AnimateRef,animation:this.visitReference(e.animation,t),options:Js(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=d6(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Tn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Sn(this,Ac(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ie.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Js(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(AA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:rd(e.timings,t.errors,!0);return{type:Ie.Stagger,animation:Sn(this,Ac(e.animation),t),timings:r,options:null}}};function d6(n){let e=!!n.split(/\s*,\s*/).find(t=>t==c1);return e&&(n=n.replace(u6,"")),n=n.replace(/@\*/g,nd).replace(/@\w+/g,t=>nd+"-"+t.slice(1)).replace(/:animating/g,fg),[n,e]}function h6(n){return n?j({},n):null}var _E=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function f6(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function p6(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=rd(n,e).duration;return hE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=hE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=rd(t,e);return hE(i.duration,i.delay,i.easing)}function Js(n){return n?(n=j({},n),n.params&&(n.params=h6(n.params))):n={},n}function hE(n,e,t){return{duration:n,delay:e,easing:t}}function PE(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var od=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},g6=1,m6=":enter",y6=new RegExp(m6,"g"),_6=":leave",v6=new RegExp(_6,"g");function u1(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new vE().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var vE=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new od;let f=new CE(e,t,u,i,o,d,[]);f.options=c;let g=c.delay?Zr(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),Sn(this,r,f);let _=f.timelines.filter(w=>w.containsAnimation());if(_.length&&a.size){let w;for(let O=_.length-1;O>=0;O--){let R=_[O];if(R.element===t){w=R;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,f.errors,c)}return _.length?_.map(w=>w.buildKeyframes()):[PE(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Zr(Rc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Zr(r.duration):null,a=r.delay!=null?Zr(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Sn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ie.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bg);let s=Zr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Sn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Zr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Sn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Rc(r,t.params,t.errors):r;return rd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ie.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Zr(i.delay):0;o&&(t.previousNode.type===Ie.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bg);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),Sn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let g=f.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Sn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},bg={},CE=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=bg;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new wg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Zr(r.duration)),r.delay!=null&&(i.delay=Zr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Rc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=bg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new EE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(y6,"."+this._enterClassName),e=e.replace(v6,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(RA(t)),a}},wg=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=g6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Tr),this._currentKeyframe.set(t,Tr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=C6(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Rc(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Tr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===ed?e.add(f):d===Tr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return PE(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},EE=class extends wg{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",e1(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let g=new Map(e[f]),_=g.get("offset"),w=t+_*r;g.set("offset",e1(w/s)),o.push(g)}r=s,t=0,i="",e=o}return PE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function e1(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function C6(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Tr)}else for(let[o,s]of i)t.set(o,s)}),t}function t1(n,e,t,r,i,o,s,a,c,u,d,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:g}}var fE={},Ig=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return E6(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],g=this.ast.options&&this.ast.options.params||fE,_=a&&a.params||fE,w=this.buildStyles(r,_,f),O=c&&c.params||fE,R=this.buildStyles(i,O,f),V=new Set,G=new Map,Q=new Map,re=i==="void",Ue={params:d1(O,g),delay:this.ast.options?.delay},me=d?[]:u1(e,t,this.ast.animation,o,s,w,R,Ue,u,f),T=0;return me.forEach(b=>{T=Math.max(b.duration+b.delay,T)}),f.length?t1(t,this._triggerName,r,i,re,w,R,[],[],G,Q,T,f):(me.forEach(b=>{let I=b.element,S=Tn(G,I,new Set);b.preStyleProps.forEach(A=>S.add(A));let P=Tn(Q,I,new Set);b.postStyleProps.forEach(A=>P.add(A)),I!==t&&V.add(I)}),t1(t,this._triggerName,r,i,re,w,R,me,[...V.values()],G,Q,T))}};function E6(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function d1(n,e){let t=j({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var bE=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=d1(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Rc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function b6(n,e,t){return new wE(n,e,t)}var wE=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new bE(i.style,o,r))}),n1(this.states,"true","1"),n1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ig(e,i,this.states))}),this.fallbackTransition=w6(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function w6(n,e,t){let r=[(s,a)=>!0],i={type:Ie.Sequence,steps:[],options:null},o={type:Ie.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ig(n,o,e)}function n1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var I6=new od,IE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=l1(this._driver,t,r,i);if(r.length)throw LA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=iE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=u1(this._driver,t,o,lE,hg,new Map,new Map,r,I6,i),s.forEach(d=>{let f=Tn(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(i.push(VA()),s=[]),i.length)throw jA(i);a.forEach((d,f)=>{d.forEach((g,_)=>{d.set(_,this._driver.computeStyle(f,_,Tr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Bi(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw UA(e);return t}listen(e,t,r,i){let o=ug(t,"","","");return lg(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},r1="ng-animate-queued",M6=".ng-animate-queued",pE="ng-animate-disabled",D6=".ng-animate-disabled",T6="ng-star-inserted",S6=".ng-star-inserted",P6=[],h1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},O6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed",sd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=A6(i),r){let o=e,{value:s}=o,a=ds(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},id="void",gE=new sd(id),ME=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,nr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw BA(r,t);if(r==null||r.length==0)throw $A(t);if(!R6(r))throw zA(r,t);let o=Tn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Tn(this._engine.statesByElement,e,new Map);return a.has(t)||(nr(e,td),nr(e,td+"-"+t),a.set(t,gE)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw HA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new ad(this.id,t,e),a=this._engine.statesByElement.get(e);a||(nr(e,td),nr(e,td+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new sd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=gE),!(u.value===id)&&c.value===u.value){if(!F6(c.params,u.params)){let O=[],R=o.matchStyles(c.value,c.params,O),V=o.matchStyles(u.value,u.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Fo(e,R),Sr(e,V)})}return}let g=Tn(this._engine.playersByElement,e,[]);g.forEach(O=>{O.namespaceId==this.id&&O.triggerName==t&&O.queued&&O.destroy()});let _=o.matchTransition(c.value,u.value,e,u.params),w=!1;if(!_){if(!i)return;_=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:c,toState:u,player:s,isFallbackTransition:w}),w||(nr(e,r1),s.onStart(()=>{Nc(e,r1)})),s.onDone(()=>{let O=this.players.indexOf(s);O>=0&&this.players.splice(O,1);let R=this._engine.playersByElement.get(e);if(R){let V=R.indexOf(s);V>=0&&R.splice(V,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,nd,!0);r.forEach(i=>{if(i[Pr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,id,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Bi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||gE,d=new sd(id),f=new ad(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Pr];(!o||o===h1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){nr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=ug(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,lg(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},DE=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new ME(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(_g(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_g(t))return;let o=t[Pr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),nr(e,pE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Nc(e,pE))}removeNode(e,t,r){if(_g(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Pr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return _g(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,nd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,fg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Pr];if(t&&t.setForRemoval){if(e[Pr]=h1,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(pE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,D6,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];nr(i,T6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Bi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw qA(e)}_flushAnimations(e,t){let r=new od,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ee=>{d.add(ee);let oe=this.driver.query(ee,M6,!0);for(let se=0;se<oe.length;se++)d.add(oe[se])});let f=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=s1(g,this.collectedEnterElements),w=new Map,O=0;_.forEach((ee,oe)=>{let se=lE+O++;w.set(oe,se),ee.forEach(De=>nr(De,se))});let R=[],V=new Set,G=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){let oe=this.collectedLeaveElements[ee],se=oe[Pr];se&&se.setForRemoval&&(R.push(oe),V.add(oe),se.hasAnimation?this.driver.query(oe,S6,!0).forEach(De=>V.add(De)):G.add(oe))}let Q=new Map,re=s1(g,Array.from(V));re.forEach((ee,oe)=>{let se=hg+O++;Q.set(oe,se),ee.forEach(De=>nr(De,se))}),e.push(()=>{_.forEach((ee,oe)=>{let se=w.get(oe);ee.forEach(De=>Nc(De,se))}),re.forEach((ee,oe)=>{let se=Q.get(oe);ee.forEach(De=>Nc(De,se))}),R.forEach(ee=>{this.processLeaveNode(ee)})});let Ue=[],me=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(t).forEach(se=>{let De=se.player,pt=se.element;if(Ue.push(De),this.collectedEnterElements.length){let dt=pt[Pr];if(dt&&dt.setForMove){if(dt.previousTriggersValues&&dt.previousTriggersValues.has(se.triggerName)){let yi=dt.previousTriggersValues.get(se.triggerName),Cn=this.statesByElement.get(se.element);if(Cn&&Cn.has(se.triggerName)){let _i=Cn.get(se.triggerName);_i.value=yi,Cn.set(se.triggerName,_i)}}De.destroy();return}}let Hn=!f||!this.driver.containsElement(f,pt),ut=Q.get(pt),Je=w.get(pt),Xe=this._buildInstruction(se,r,Je,ut,Hn);if(Xe.errors&&Xe.errors.length){me.push(Xe);return}if(Hn){De.onStart(()=>Fo(pt,Xe.fromStyles)),De.onDestroy(()=>Sr(pt,Xe.toStyles)),i.push(De);return}if(se.isFallbackTransition){De.onStart(()=>Fo(pt,Xe.fromStyles)),De.onDestroy(()=>Sr(pt,Xe.toStyles)),i.push(De);return}let co=[];Xe.timelines.forEach(dt=>{dt.stretchStartingKeyframe=!0,this.disabledNodes.has(dt.element)||co.push(dt)}),Xe.timelines=co,r.append(pt,Xe.timelines);let Oy={instruction:Xe,player:De,element:pt};s.push(Oy),Xe.queriedElements.forEach(dt=>Tn(a,dt,[]).push(De)),Xe.preStyleProps.forEach((dt,yi)=>{if(dt.size){let Cn=c.get(yi);Cn||c.set(yi,Cn=new Set),dt.forEach((_i,lo)=>Cn.add(lo))}}),Xe.postStyleProps.forEach((dt,yi)=>{let Cn=u.get(yi);Cn||u.set(yi,Cn=new Set),dt.forEach((_i,lo)=>Cn.add(lo))})});if(me.length){let ee=[];me.forEach(oe=>{ee.push(WA(oe.triggerName,oe.errors))}),Ue.forEach(oe=>oe.destroy()),this.reportError(ee)}let T=new Map,b=new Map;s.forEach(ee=>{let oe=ee.element;r.has(oe)&&(b.set(oe,oe),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,T))}),i.forEach(ee=>{let oe=ee.element;this._getPreviousPlayers(oe,!1,ee.namespaceId,ee.triggerName,null).forEach(De=>{Tn(T,oe,[]).push(De),De.destroy()})});let I=R.filter(ee=>a1(ee,c,u)),S=new Map;o1(S,this.driver,G,u,Tr).forEach(ee=>{a1(ee,c,u)&&I.push(ee)});let A=new Map;_.forEach((ee,oe)=>{o1(A,this.driver,new Set(ee),c,ed)}),I.forEach(ee=>{let oe=S.get(ee),se=A.get(ee);S.set(ee,new Map([...oe?.entries()??[],...se?.entries()??[]]))});let M=[],zn=[],ao={};s.forEach(ee=>{let{element:oe,player:se,instruction:De}=ee;if(r.has(oe)){if(d.has(oe)){se.onDestroy(()=>Sr(oe,De.toStyles)),se.disabled=!0,se.overrideTotalTime(De.totalTime),i.push(se);return}let pt=ao;if(b.size>1){let ut=oe,Je=[];for(;ut=ut.parentNode;){let Xe=b.get(ut);if(Xe){pt=Xe;break}Je.push(ut)}Je.forEach(Xe=>b.set(Xe,pt))}let Hn=this._buildAnimation(se.namespaceId,De,T,o,A,S);if(se.setRealPlayer(Hn),pt===ao)M.push(se);else{let ut=this.playersByElement.get(pt);ut&&ut.length&&(se.parentPlayer=Bi(ut)),i.push(se)}}else Fo(oe,De.fromStyles),se.onDestroy(()=>Sr(oe,De.toStyles)),zn.push(se),d.has(oe)&&i.push(se)}),zn.forEach(ee=>{let oe=o.get(ee.element);if(oe&&oe.length){let se=Bi(oe);ee.setRealPlayer(se)}}),i.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<R.length;ee++){let oe=R[ee],se=oe[Pr];if(Nc(oe,hg),se&&se.hasAnimation)continue;let De=[];if(a.size){let Hn=a.get(oe);Hn&&Hn.length&&De.push(...Hn);let ut=this.driver.query(oe,fg,!0);for(let Je=0;Je<ut.length;Je++){let Xe=a.get(ut[Je]);Xe&&Xe.length&&De.push(...Xe)}}let pt=De.filter(Hn=>!Hn.destroyed);pt.length?N6(this,oe,pt):this.processLeaveNode(oe)}return R.length=0,M.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();let oe=this.players.indexOf(ee);this.players.splice(oe,1)}),ee.play()}),M}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==id;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=Tn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(_=>{let w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),f.push(_)})}Fo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,g=t.timelines.map(w=>{let O=w.element;d.add(O);let R=O[Pr];if(R&&R.removedBeforeQueried)return new Ui(w.duration,w.delay);let V=O!==c,G=k6((r.get(O)||P6).map(T=>T.getRealPlayer())).filter(T=>{let b=T;return b.element?b.element===O:!1}),Q=o.get(O),re=s.get(O),Ue=iE(this._normalizer,w.keyframes,Q,re),me=this._buildPlayer(w,Ue,G);if(w.subTimeline&&i&&f.add(O),V){let T=new ad(e,a,O);T.setRealPlayer(me),u.push(T)}return me});u.forEach(w=>{Tn(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>x6(this.playersByQueriedElement,w.element,w))}),d.forEach(w=>nr(w,uE));let _=Bi(g);return _.onDestroy(()=>{d.forEach(w=>Nc(w,uE)),Sr(c,t.toStyles)}),f.forEach(w=>{Tn(i,w,[]).push(_)}),_}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ui(e.duration,e.delay)}},ad=class{namespaceId;triggerName;element;_player=new Ui;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>lg(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Tn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function x6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function A6(n){return n??null}function _g(n){return n&&n.nodeType===1}function R6(n){return n=="start"||n=="done"}function i1(n,e){let t=n.style.display;return n.style.display=e??"none",t}function o1(n,e,t,r,i){let o=[];t.forEach(c=>o.push(i1(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let g=e.computeStyle(u,f,i);d.set(f,g),(!g||g.length==0)&&(u[Pr]=O6,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>i1(c,o[a++])),s}function s1(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function nr(n,e){n.classList?.add(e)}function Nc(n,e){n.classList?.remove(e)}function N6(n,e,t){Bi(t).onDone(()=>n.processLeaveNode(e))}function k6(n){let e=[];return f1(n,e),e}function f1(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof xc?f1(r.players,e):e.push(r)}}function F6(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function a1(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var kc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new DE(e.body,t,r),this._timelineEngine=new IE(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=l1(this._driver,o,c,u);if(c.length)throw FA(i,c);a=b6(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=oE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=oE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function L6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=mE(e[0]),e.length>1&&(r=mE(e[e.length-1]))):e instanceof Map&&(t=mE(e)),t||r?new V6(n,t,r):null}var V6=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fo(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return n})();function mE(n){let e=null;return n.forEach((t,r)=>{j6(r)&&(e=e||new Map,e.set(r,t))}),e}function j6(n){return n==="display"||n==="position"}var Mg=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:gg(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Dg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return sE(e,t)}getParentElement(e){return dg(e)}query(e,t,r){return aE(e,t,r)}computeStyle(e,t,r){return gg(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(_=>_ instanceof Mg);QA(r,i)&&d.forEach(_=>{_.currentSnapshot.forEach((w,O)=>u.set(O,w))});let f=KA(t).map(_=>new Map(_));f=ZA(e,f,u);let g=L6(e,f);return new Mg(e,f,c,g)}};var vg="@",p1="@.disabled",Tg=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==vg&&t==p1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},TE=class extends Tg{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==vg?t.charAt(1)=="."&&t==p1?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==vg){let o=U6(e),s=t.slice(1),a="";return s.charAt(0)!=vg&&([s,a]=B6(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function U6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function B6(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Sg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Tg(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new TE(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var z6=(()=>{class n extends kc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ne(Et),ne(Xs),ne(ea))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function H6(){return new Cg}function q6(n,e,t){return new Sg(n,e,t)}var g1=[{provide:ea,useFactory:H6},{provide:kc,useClass:z6},{provide:Ai,useFactory:q6,deps:[Ru,kc,Oe]}],nde=[{provide:Xs,useClass:SE},{provide:sp,useValue:"NoopAnimations"},...g1],W6=[{provide:Xs,useFactory:()=>new Dg},{provide:sp,useFactory:()=>"BrowserAnimations"},...g1];function m1(){return Vs("NgEagerAnimations"),[...W6]}var y1=()=>{};var C1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},G6=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Pg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(g=64)),r.push(t[d],t[f],t[g],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new xE;let g=o<<2|a>>4;if(r.push(g),u!==64){let _=a<<4&240|u>>2;if(r.push(_),f!==64){let w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},K6=function(n){let e=C1(n);return Pg.encodeByteArray(e,!0)},ld=function(n){return K6(n).replace(/\./g,"")},Og=function(n){try{return Pg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Y6=()=>RE().__FIREBASE_DEFAULTS__,Q6=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Og(n[1]);return e&&JSON.parse(e)},xg=()=>{try{return y1()||Y6()||Q6()||Z6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NE=n=>{var e,t;return(t=(e=xg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ag=n=>{let e=NE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kE=()=>{var n;return(n=xg())===null||n===void 0?void 0:n.config},FE=n=>{var e;return(e=xg())===null||e===void 0?void 0:e[`_${n}`]};var ta=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Jr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Fc(n){return E(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Rg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ld(JSON.stringify(t)),ld(JSON.stringify(s)),""].join(".")}var cd={};function J6(){let n={prod:[],emulator:[]};for(let e of Object.keys(cd))cd[e]?n.emulator.push(e):n.prod.push(e);return n}function X6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var _1=!1;function Lc(n,e){if(typeof window>"u"||typeof document>"u"||!Jr(window.location.host)||cd[n]===e||cd[n]||_1)return;cd[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=J6().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{_1=!0,s()},g}function d(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){let g=X6(r),_=t("text"),w=document.getElementById(_)||document.createElement("span"),O=t("learnmore"),R=document.getElementById(O)||document.createElement("a"),V=t("preprendIcon"),G=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Q=g.element;a(Q),d(R,O);let re=u();c(G,V),Q.append(G,w,R,re),document.body.appendChild(Q)}o?(w.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function e$(){var n;let e=(n=xg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function I1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M1(){let n=jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function D1(){return!e$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ud(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var t$="FirebaseError",vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}},Or=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?n$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}};function n$(n,e){return n.replace(r$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var r$=/\{\$([^}]+)}/g;function S1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(v1(o)&&v1(s)){if(!Xr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function v1(n){return n!==null&&typeof n=="object"}function dd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function jc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function P1(n,e){let t=new AE(n,e);return t.subscribe.bind(t)}var AE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");i$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=OE),i.error===void 0&&(i.error=OE),i.complete===void 0&&(i.complete=OE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function i$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function OE(){}var sde=4*60*60*1e3;function nt(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var na="[DEFAULT]";var LE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ta;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s$(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function o$(n){return n===na?void 0:n}function s$(n){return n.instantiationMode==="EAGER"}var Ng=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new LE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var a$=[],Te=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Te||{}),c$={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},l$=Te.INFO,u$={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},d$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=u$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ei=class{constructor(e){this.name=e,this._logLevel=l$,this._logHandler=d$,this._userLogHandler=null,a$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};var h$=(n,e)=>e.some(t=>n instanceof t),O1,x1;function f$(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p$(){return x1||(x1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var A1=new WeakMap,jE=new WeakMap,R1=new WeakMap,VE=new WeakMap,BE=new WeakMap;function g$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ti(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&A1.set(t,n)}).catch(()=>{}),BE.set(e,n),e}function m$(n){if(jE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});jE.set(n,e)}var UE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||R1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function N1(n){UE=n(UE)}function y$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(kg(this),e,...t);return R1.set(r,e.sort?e.sort():[e]),ti(r)}:p$().includes(n)?function(...e){return n.apply(kg(this),e),ti(A1.get(this))}:function(...e){return ti(n.apply(kg(this),e))}}function _$(n){return typeof n=="function"?y$(n):(n instanceof IDBTransaction&&m$(n),h$(n,f$())?new Proxy(n,UE):n)}function ti(n){if(n instanceof IDBRequest)return g$(n);if(VE.has(n))return VE.get(n);let e=_$(n);return e!==n&&(VE.set(n,e),BE.set(e,n)),e}var kg=n=>BE.get(n);function F1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ti(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ti(s.result),c.oldVersion,c.newVersion,ti(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var v$=["get","getKey","getAll","getAllKeys","count"],C$=["put","add","delete","clear"],$E=new Map;function k1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($E.get(e))return $E.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=C$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v$.includes(t)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return $E.set(e,o),o}N1(n=>ce(j({},n),{get:(e,t,r)=>k1(e,t)||n.get(e,t,r),has:(e,t)=>!!k1(e,t)||n.has(e,t)}));var HE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(E$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function E$(n){let e=n.getComponent();return e?.type==="VERSION"}var qE="@firebase/app",L1="0.13.2";var $i=new ei("@firebase/app"),b$="@firebase/app-compat",w$="@firebase/analytics-compat",I$="@firebase/analytics",M$="@firebase/app-check-compat",D$="@firebase/app-check",T$="@firebase/auth",S$="@firebase/auth-compat",P$="@firebase/database",O$="@firebase/data-connect",x$="@firebase/database-compat",A$="@firebase/functions",R$="@firebase/functions-compat",N$="@firebase/installations",k$="@firebase/installations-compat",F$="@firebase/messaging",L$="@firebase/messaging-compat",V$="@firebase/performance",j$="@firebase/performance-compat",U$="@firebase/remote-config",B$="@firebase/remote-config-compat",$$="@firebase/storage",z$="@firebase/storage-compat",H$="@firebase/firestore",q$="@firebase/ai",W$="@firebase/firestore-compat",G$="firebase",K$="11.10.0";var WE="[DEFAULT]",Y$={[qE]:"fire-core",[b$]:"fire-core-compat",[I$]:"fire-analytics",[w$]:"fire-analytics-compat",[D$]:"fire-app-check",[M$]:"fire-app-check-compat",[T$]:"fire-auth",[S$]:"fire-auth-compat",[P$]:"fire-rtdb",[O$]:"fire-data-connect",[x$]:"fire-rtdb-compat",[A$]:"fire-fn",[R$]:"fire-fn-compat",[N$]:"fire-iid",[k$]:"fire-iid-compat",[F$]:"fire-fcm",[L$]:"fire-fcm-compat",[V$]:"fire-perf",[j$]:"fire-perf-compat",[U$]:"fire-rc",[B$]:"fire-rc-compat",[$$]:"fire-gcs",[z$]:"fire-gcs-compat",[H$]:"fire-fst",[W$]:"fire-fst-compat",[q$]:"fire-vertex","fire-js":"fire-js",[G$]:"fire-js-all"};var hd=new Map,Q$=new Map,GE=new Map;function V1(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jn(n){let e=n.name;if(GE.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;GE.set(e,n);for(let t of hd.values())V1(t,n);for(let t of Q$.values())V1(t,n);return!0}function Vo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function an(n){return n==null?!1:n.settings!==void 0}var Z$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lo=new Or("app","Firebase",Z$);var KE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lo.create("app-deleted",{appName:this._name})}};var ni=K$;function ZE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:WE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Lo.create("bad-app-name",{appName:String(i)});if(t||(t=kE()),!t)throw Lo.create("no-options");let o=hd.get(i);if(o){if(Xr(t,o.options)&&Xr(r,o.config))return o;throw Lo.create("duplicate-app",{appName:i})}let s=new Ng(i);for(let c of GE.values())s.addComponent(c);let a=new KE(t,r,s);return hd.set(i,a),a}function zi(n=WE){let e=hd.get(n);if(!e&&n===WE&&kE())return ZE();if(!e)throw Lo.create("no-app",{appName:n});return e}function Fg(){return Array.from(hd.values())}function Ke(n,e,t){var r;let i=(r=Y$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(a.join(" "));return}jn(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var J$="firebase-heartbeat-database",X$=1,fd="firebase-heartbeat-store",zE=null;function $1(){return zE||(zE=F1(J$,X$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Lo.create("idb-open",{originalErrorMessage:n.message})})),zE}function ez(n){return E(this,null,function*(){try{let t=(yield $1()).transaction(fd),r=yield t.objectStore(fd).get(z1(n));return yield t.done,r}catch(e){if(e instanceof vn)$i.warn(e.message);else{let t=Lo.create("idb-get",{originalErrorMessage:e?.message});$i.warn(t.message)}}})}function j1(n,e){return E(this,null,function*(){try{let r=(yield $1()).transaction(fd,"readwrite");yield r.objectStore(fd).put(e,z1(n)),yield r.done}catch(t){if(t instanceof vn)$i.warn(t.message);else{let r=Lo.create("idb-set",{originalErrorMessage:t?.message});$i.warn(r.message)}}})}function z1(n){return`${n.name}!${n.options.appId}`}var tz=1024,nz=30,YE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new QE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=U1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>nz){let s=iz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=U1(),{heartbeatsToSend:r,unsentEntries:i}=rz(this._heartbeatsCache.heartbeats),o=ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}})}};function U1(){return new Date().toISOString().substring(0,10)}function rz(n,e=tz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),B1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),B1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var QE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return ud()?T1().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ez(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return j1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return j1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function B1(n){return ld(JSON.stringify({version:2,heartbeats:n})).length}function iz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function oz(n){jn(new Qt("platform-logger",e=>new HE(e),"PRIVATE")),jn(new Qt("heartbeat",e=>new YE(e),"PRIVATE")),Ke(qE,L1,n),Ke(qE,L1,"esm2017"),Ke("fire-js","")}oz("");var sz="firebase",az="11.10.0";Ke(sz,az,"app");function H1(n){n===void 0&&(n=F(rt));let e=n.get(ic);return t=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ri=new pc("ANGULARFIRE2_VERSION");function ia(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var jo=(n,e)=>{let t=e?[e]:Fg(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Uc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Uc||{}),q1=bu()&&typeof Zone<"u"?Uc.WARN:Uc.SILENT;var Lg=class{zone;delegate;constructor(e,t=v_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ii=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(Oe);this.outsideAngular=t.runOutsideAngular(()=>new Lg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Lg(typeof Zone>"u"?void 0:Zone.current,__))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W1=!1;function cz(n,e){!W1&&(q1>Uc.SILENT||bu())&&(W1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),q1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function lz(n){let e=F(Oe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ra(n){let e=F(Oe,{optional:!0});return e?e.run(()=>n()):n()}var uz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),xt(t,()=>ra(()=>n.apply(void 0,r)))),Pn=(n,e,t)=>(t||=e?Uc.WARN:Uc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(ii),s=F(ic),a=F(Ct)}catch{return cz(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ra(()=>s.add())),i[u]=uz(i[u],r,a));let c=lz(()=>n.apply(this,i));return e?c instanceof ue?c.pipe(yo(o.outsideAngular),mo(o.insideAngular),H1(a)):c instanceof Promise?ra(()=>{let u=s.add();return new Promise((d,f)=>{c.then(g=>xt(a,()=>ra(()=>d(g))),g=>xt(a,()=>ra(()=>f(g)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ra(()=>c):c instanceof ue?c.pipe(yo(o.outsideAngular),mo(o.insideAngular)):ra(()=>c)});var xr=class{constructor(e){return e}},Hi=class{constructor(){return Fg()}};function dz(n){return n&&n.length===1?n[0]:new xr(zi())}var JE=new Z("angularfire2._apps"),hz={provide:xr,useFactory:dz,deps:[[new bt,JE]]},fz={provide:Hi,deps:[[new bt,JE]]};function pz(n){return(e,t)=>{let r=t.get(Po);Ke("angularfire",ri.full,"core"),Ke("angularfire",ri.full,"app"),Ke("angular",LO.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new xr(i)}}function G1(n,...e){return kt([hz,fz,{provide:JE,useFactory:pz(n),multi:!0,deps:[Oe,rt,ii,...e]}])}var K1=Pn(ZE,!0);var gz=new Map,mz={activated:!1,tokenObservers:[]},yz={initialized:!1,enabled:!1};function Ar(n){return gz.get(n)||Object.assign({},mz)}function J1(){return yz}var _z="https://content-firebaseappcheck.googleapis.com/v1";var vz="exchangeDebugToken",Y1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},lhe=24*60*60*1e3;var tb=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new ta,this.pending.promise.catch(t=>{}),yield Cz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ta,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Cz(n){return new Promise(e=>{setTimeout(e,n)})}var Ez={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Uo=new Or("appCheck","AppCheck",Ez);function X1(n){if(!Ar(n).activated)throw Uo.create("use-before-activation",{appName:n.name})}function eR(r,i){return E(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(_){throw Uo.create("fetch-network-error",{originalErrorMessage:_?.message})}if(c.status!==200)throw Uo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(_){throw Uo.create("fetch-parse-error",{originalErrorMessage:_?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Uo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function tR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_z}/projects/${t}/apps/${r}:${vz}?key=${i}`,body:{debug_token:e}}}var bz="firebase-app-check-database",wz=1,nb="firebase-app-check-store";var Vg=null;function Iz(){return Vg||(Vg=new Promise((n,e)=>{try{let t=indexedDB.open(bz,wz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Uo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nb,{keyPath:"compositeKey"})}}}catch(t){e(Uo.create("storage-open",{originalErrorMessage:t?.message}))}}),Vg)}function Mz(n,e){return Dz(Tz(n),e)}function Dz(n,e){return E(this,null,function*(){let r=(yield Iz()).transaction(nb,"readwrite"),o=r.objectStore(nb).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Uo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function Tz(n){return`${n.options.appId}-${n.name}`}var pd=new ei("@firebase/app-check");function XE(n,e){return ud()?Mz(n,e).catch(t=>{pd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nR(){return J1().enabled}function rR(){return E(this,null,function*(){let n=J1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Sz={error:"UNKNOWN_ERROR"};function Pz(n){return Pg.encodeString(JSON.stringify(n),!1)}function rb(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;X1(r);let i=Ar(r),o=i.token,s;if(o&&!gd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(gd(u)?o=u:yield XE(r,void 0))}if(!e&&o&&gd(o))return{token:o.token};let a=!1;if(nR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=eR(tR(r,yield rR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield XE(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?pd.warn(u.message):t&&pd.error(u),eb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ar(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?pd.warn(u.message):t&&pd.error(u),s=u}let c;return o?s?gd(o)?c={token:o.token,internalError:s}:c=eb(s):(c={token:o.token},i.token=o,yield XE(r,o)):c=eb(s),a&&Rz(r,c),c})}function Oz(n){return E(this,null,function*(){let e=n.app;X1(e);let{provider:t}=Ar(e);if(nR()){let r=yield rR(),{token:i}=yield eR(tR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function xz(n,e,t,r){let{app:i}=n,o=Ar(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Q1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Q1(n))}function iR(n,e){let t=Ar(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Q1(n){let{app:e}=n,t=Ar(e),r=t.tokenRefresher;r||(r=Az(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Az(n){let{app:e}=n;return new tb(()=>E(null,null,function*(){let t=Ar(e),r;if(t.token?r=yield rb(n,!0):r=yield rb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Ar(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Y1.RETRIAL_MIN_WAIT,Y1.RETRIAL_MAX_WAIT)}function Rz(n,e){let t=Ar(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gd(n){return n.expireTimeMillis-Date.now()>0}function eb(n){return{token:Pz(Sz),error:n}}var ib=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Ar(this.app);for(let t of e)iR(this.app,t.next);return Promise.resolve()}};function Nz(n,e){return new ib(n,e)}function kz(n){return{getToken:e=>rb(n,e),getLimitedUseToken:()=>Oz(n),addTokenListener:e=>xz(n,"INTERNAL",e),removeTokenListener:e=>iR(n.app,e)}}var Fz="@firebase/app-check",Lz="0.10.1";var Vz="app-check",Z1="app-check-internal";function jz(){jn(new Qt(Vz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Nz(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Z1).initialize()})),jn(new Qt(Z1,n=>{let e=n.getProvider("app-check").getImmediate();return kz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ke(Fz,Lz)}jz();var Uz="app-check";var Bo=class{constructor(){return jo(Uz)}};var Bz=["localhost","0.0.0.0","127.0.0.1"],bhe=typeof window<"u"&&Bz.includes(window.location.hostname);function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ER=CR,bR=new Or("auth","Firebase",CR());var Hg=new ei("@firebase/auth");function $z(n,...e){Hg.logLevel<=Te.WARN&&Hg.warn(`Auth (${ni}): ${n}`,...e)}function Ug(n,...e){Hg.logLevel<=Te.ERROR&&Hg.error(`Auth (${ni}): ${n}`,...e)}function si(n,...e){throw Pb(n,...e)}function oa(n,...e){return Pb(n,...e)}function wR(n,e,t){let r=Object.assign(Object.assign({},ER()),{[e]:t});return new Or("auth","Firebase",r).create(e,{appName:n.name})}function Gi(n){return wR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bR.create(n,...e)}function de(n,e,...t){if(!n)throw Pb(e,...t)}function qi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ug(e),new Error(e)}function Ho(n,e){n||qi(e)}function cb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zz(){return oR()==="http:"||oR()==="https:"}function oR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Hz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zz()||w1()||"connection"in navigator)?navigator.onLine:!0}function qz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var sa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ho(t>e,"Short delay should be less than long delay!"),this.isMobile=E1()||I1()}get(){return Hz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ob(n,e){Ho(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var qg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Wz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Gz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kz=new sa(3e4,6e4);function qo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ki(o,s,a,c){return E(this,arguments,function*(n,e,t,r,i={}){return IR(n,i,()=>E(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=dd(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:g},u);return b1()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Jr(n.emulatorConfig.host)&&(_.credentials="include"),qg.fetch()(yield MR(n,n.config.apiHost,t,f),_)}))})}function IR(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Wz),e);try{let i=new lb(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw jg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw jg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw jg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wR(n,d,u);si(n,d)}}catch(i){if(i instanceof vn)throw i;si(n,"network-request-failed",{message:String(i)})}})}function wd(o,s,a,c){return E(this,arguments,function*(n,e,t,r,i={}){let u=yield Ki(n,e,t,r,i);return"mfaPendingCredential"in u&&si(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function MR(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Ob(n.config,i):`${n.config.apiScheme}://${i}`;return Gz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Yz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var lb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oa(this.auth,"network-request-failed")),Kz.get())})}};function jg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=oa(n,e,r);return i.customData._tokenResponse=t,i}function sR(n){return n!==void 0&&n.enterprise!==void 0}var ub=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Qz(n,e){return E(this,null,function*(){return Ki(n,"GET","/v2/recaptchaConfig",qo(n,e))})}function Zz(n,e){return E(this,null,function*(){return Ki(n,"POST","/v1/accounts:delete",e)})}function Wg(n,e){return E(this,null,function*(){return Ki(n,"POST","/v1/accounts:lookup",e)})}function yd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xb(n,e=!1){return E(this,null,function*(){let t=nt(n),r=yield t.getIdToken(e),i=Ab(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yd(ob(i.auth_time)),issuedAtTime:yd(ob(i.iat)),expirationTime:yd(ob(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ob(n){return Number(n)*1e3}function Ab(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ug("JWT malformed, contained fewer than 3 sections"),null;try{let i=Og(t);return i?JSON.parse(i):(Ug("Failed to decode base64 JWT payload"),null)}catch(i){return Ug("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aR(n){let e=Ab(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bc(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vn&&Jz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Jz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var db=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yd(this.lastLoginAt),this.creationTime=yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gg(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Bc(n,Wg(t,{idToken:r}));de(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DR(o.providerUserInfo):[],a=Xz(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Rb(n){return E(this,null,function*(){let e=nt(n);yield Gg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Xz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DR(n){return n.map(e=>{var{providerId:t}=e,r=C_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function eH(n,e){return E(this,null,function*(){let t=yield IR(n,{},()=>E(null,null,function*(){let r=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield MR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Jr(n.emulatorConfig.host)&&(c.credentials="include"),qg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function tH(n,e){return E(this,null,function*(){return Ki(n,"POST","/v2/accounts:revokeToken",qo(n,e))})}var _d=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=aR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield eH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qi("not implemented")}};function $o(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var zo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=C_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield Bc(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return xb(this,e)}reload(){return Rb(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Gg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(an(this.auth.app))return Promise.reject(Gi(this.auth));let e=yield this.getIdToken();return yield Bc(this,Zz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,G=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Q,emailVerified:re,isAnonymous:Ue,providerData:me,stsTokenManager:T}=t;de(Q&&T,e,"internal-error");let b=_d.fromJSON(this.name,T);de(typeof Q=="string",e,"internal-error"),$o(f,e.name),$o(g,e.name),de(typeof re=="boolean",e,"internal-error"),de(typeof Ue=="boolean",e,"internal-error"),$o(_,e.name),$o(w,e.name),$o(O,e.name),$o(R,e.name),$o(V,e.name),$o(G,e.name);let I=new n({uid:Q,auth:e,email:g,emailVerified:re,displayName:f,isAnonymous:Ue,photoURL:w,phoneNumber:_,tenantId:O,stsTokenManager:b,createdAt:V,lastLoginAt:G});return me&&Array.isArray(me)&&(I.providerData=me.map(S=>Object.assign({},S))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new _d;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?DR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new _d;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var cR=new Map;function Wi(n){Ho(n instanceof Function,"Expected a class definition");let e=cR.get(n);return e?(Ho(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cR.set(n,e),e)}var nH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),hb=nH;function Bg(n,e,t){return`firebase:${n}:${e}:${t}`}var Kg=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Bg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Wg(this.auth,{idToken:e}).catch(()=>{});return t?zo._fromGetAccountInfoResponse(this.auth,t,e):null}return zo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(Wi(hb),e,r);let i=(yield Promise.all(t.map(u=>E(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Wi(hb),s=Bg(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f;if(typeof d=="string"){let g=yield Wg(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield zo._fromGetAccountInfoResponse(e,g,d)}else f=zo._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>E(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function lR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AR(e))return"Blackberry";if(RR(e))return"Webos";if(SR(e))return"Safari";if((e.includes("chrome/")||PR(e))&&!e.includes("edge/"))return"Chrome";if(xR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function TR(n=jt()){return/firefox\//i.test(n)}function SR(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PR(n=jt()){return/crios\//i.test(n)}function OR(n=jt()){return/iemobile/i.test(n)}function xR(n=jt()){return/android/i.test(n)}function AR(n=jt()){return/blackberry/i.test(n)}function RR(n=jt()){return/webos/i.test(n)}function Nb(n=jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rH(n=jt()){var e;return Nb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iH(){return M1()&&document.documentMode===10}function NR(n=jt()){return Nb(n)||xR(n)||RR(n)||AR(n)||/windows phone/i.test(n)||OR(n)}function kR(n,e=[]){let t;switch(n){case"Browser":t=lR(jt());break;case"Worker":t=`${lR(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ni}/${r}`}var fb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function oH(t){return E(this,arguments,function*(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",qo(n,e))})}var sH=6,pb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:sH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yg(this),this.idTokenSubscription=new Yg(this),this.beforeStateQueue=new fb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Kg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Wg(this,{idToken:e}),r=yield zo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(an(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Gg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=qz()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(an(this.app))return Promise.reject(Gi(this));let t=e?nt(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return an(this.app)?Promise.reject(Gi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return an(this.app)?Promise.reject(Gi(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Wi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield oH(this),t=new pb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield tH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Wi(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=yield Kg.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&$z(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ca(n){return nt(n)}var Yg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=P1(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nm={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aH(n){nm=n}function FR(n){return nm.loadJS(n)}function cH(){return nm.recaptchaEnterpriseScript}function lH(){return nm.gapiScript}function LR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var mb=class{constructor(){this.enterprise=new yb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},yb=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var uH="recaptcha-enterprise",VR="NO_RECAPTCHA",_b=class{constructor(e){this.type=uH,this.auth=ca(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(o){return E(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>E(null,null,function*(){Qz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new ub(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;sR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(VR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mb().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&sR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cH();c.length!==0&&(c+=a),FR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function md(n,e,t,r=!1,i=!1){return E(this,null,function*(){let o=new _b(n),s;if(i)s=VR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function vb(n,e,t,r,i){return E(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield md(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>E(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield md(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield md(n,e,t);return r(n,a).catch(c=>E(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield md(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield md(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function kb(n,e){let t=Vo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Xr(o,e??{}))return i;si(i,"already-initialized")}return t.initialize({options:e})}function dH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fb(n,e,t){let r=ca(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=jR(e),{host:s,port:a}=hH(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Xr(u,r.config.emulator)&&Xr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jr(s)?(Fc(`${o}//${s}${c}`),Lc("Auth",!0)):i||fH()}function jR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hH(n){let e=jR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:uR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:uR(s)}}}function uR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function fH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Cd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}};function pH(n,e){return E(this,null,function*(){return Ki(n,"POST","/v1/accounts:signUp",e)})}function gH(n,e){return E(this,null,function*(){return wd(n,"POST","/v1/accounts:signInWithPassword",qo(n,e))})}function mH(n,e){return E(this,null,function*(){return wd(n,"POST","/v1/accounts:signInWithEmailLink",qo(n,e))})}function yH(n,e){return E(this,null,function*(){return wd(n,"POST","/v1/accounts:signInWithEmailLink",qo(n,e))})}var Ed=class n extends Cd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vb(e,t,"signInWithPassword",gH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return mH(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vb(e,r,"signUpPassword",pH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yH(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function sb(n,e){return E(this,null,function*(){return wd(n,"POST","/v1/accounts:signInWithIdp",qo(n,e))})}function _H(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vH(n){let e=Vc(jc(n)).link,t=e?Vc(jc(e)).deep_link_id:null,r=Vc(jc(n)).deep_link_id;return(r?Vc(jc(r)).link:null)||r||t||e||n}var Qg=class n{constructor(e){var t,r,i,o,s,a;let c=Vc(jc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=_H((i=c.mode)!==null&&i!==void 0?i:null);de(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=vH(e);try{return new n(t)}catch{return null}}};var UR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ed._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Qg.parseLink(r);return de(i,"argument-error"),Ed._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Zg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Cb=class extends Zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function CH(n,e){return E(this,null,function*(){return wd(n,"POST","/v1/accounts:signUp",qo(n,e))})}var $c=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let o=yield zo._fromIdTokenResponse(e,r,i),s=dR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=dR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function dR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Eb=class n extends vn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function BR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eb._fromErrorAndOperation(n,o,e,r):o})}function EH(n,e,t=!1){return E(this,null,function*(){let r=yield Bc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return $c._forOperation(n,"link",r)})}function bH(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(an(r.app))return Promise.reject(Gi(r));let i="reauthenticate";try{let o=yield Bc(n,BR(r,i,e,n),t);de(o.idToken,r,"internal-error");let s=Ab(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(n.uid===a,r,"user-mismatch"),$c._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&si(r,"user-mismatch"),o}})}function $R(n,e,t=!1){return E(this,null,function*(){if(an(n.app))return Promise.reject(Gi(n));let r="signIn",i=yield BR(n,r,e),o=yield $c._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Lb(n,e){return E(this,null,function*(){return $R(ca(n),e)})}function zR(n){return E(this,null,function*(){let e=ca(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Vb(n,e,t){return E(this,null,function*(){if(an(n.app))return Promise.reject(Gi(n));let r=ca(n),s=yield vb(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CH,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&zR(n),c}),a=yield $c._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function jb(n,e,t){return an(n.app)?Promise.reject(Gi(n)):Lb(nt(n),UR.credential(e,t)).catch(r=>E(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zR(n),r}))}function wH(n,e){return E(this,null,function*(){return Ki(n,"POST","/v1/accounts:update",e)})}function Ub(r,i){return E(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=nt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Bc(o,wH(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function Bb(n,e,t,r){return nt(n).onIdTokenChanged(e,t,r)}function $b(n,e,t){return nt(n).beforeAuthStateChanged(e,t)}function zb(n,e,t,r){return nt(n).onAuthStateChanged(e,t,r)}function Hb(n){return nt(n).signOut()}var Jg="__sak";var Xg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jg,"1"),this.storage.removeItem(Jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var IH=1e3,MH=10,DH=(()=>{class n extends Xg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);iH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},IH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield po(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield po(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield po(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),HR=DH;var TH=(()=>{class n extends Xg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),qb=TH;function SH(n){return Promise.all(n.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var PH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>E(this,null,function*(){return d(r.origin,s)})),u=yield SH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function qR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var bb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=qR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function oi(){return window}function OH(n){oi().location.href=n}function WR(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}function xH(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function AH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function RH(){return WR()?self:null}var GR="firebaseLocalStorageDb",NH=1,em="firebaseLocalStorage",KR="fbase_key",aa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function rm(n,e){return n.transaction([em],e?"readwrite":"readonly").objectStore(em)}function kH(){let n=indexedDB.deleteDatabase(GR);return new aa(n).toPromise()}function wb(){let n=indexedDB.open(GR,NH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(em,{keyPath:KR})}catch(i){t(i)}}),n.addEventListener("success",()=>E(null,null,function*(){let r=n.result;r.objectStoreNames.contains(em)?e(r):(r.close(),yield kH(),e(yield wb()))}))})}function hR(n,e,t){return E(this,null,function*(){let r=rm(n,!0).put({[KR]:e,value:t});return new aa(r).toPromise()})}function FH(n,e){return E(this,null,function*(){let t=rm(n,!1).get(e),r=yield new aa(t).toPromise();return r===void 0?null:r.value})}function fR(n,e){let t=rm(n,!0).delete(e);return new aa(t).toPromise()}var LH=800,VH=3,jH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield wb(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>VH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return WR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=PH._getInstance(RH()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield xH(),!this.activeServiceWorker)return;this.sender=new bb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||AH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield wb();return yield hR(t,Jg,"1"),yield fR(t,Jg),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>hR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>FH(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>fR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(o=>{let s=rm(o,!1).getAll();return new aa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),LH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),YR=jH;var Ohe=LR("rcb"),xhe=new sa(3e4,6e4);function UH(n,e){return e?Wi(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var bd=class extends Cd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function BH(n){return $R(n.auth,new bd(n),n.bypassAuthState)}function $H(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),bH(t,new bd(n),n.bypassAuthState)}function zH(n){return E(this,null,function*(){let{auth:e,user:t}=n;return de(t,e,"internal-error"),EH(t,new bd(n),n.bypassAuthState)})}var Ib=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BH;case"linkViaPopup":case"linkViaRedirect":return zH;case"reauthViaPopup":case"reauthViaRedirect":return $H;default:si(this.auth,"internal-error")}}resolve(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ahe=new sa(2e3,1e4);var HH="pendingRedirect",$g=new Map,Mb=class n extends Ib{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=$g.get(this.auth._key());if(!e){try{let r=(yield qH(this.resolver,this.auth))?yield po(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$g.set(this.auth._key(),e)}return this.bypassAuthState||$g.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return po(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,po(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function qH(n,e){return E(this,null,function*(){let t=KH(e),r=GH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function WH(n,e){$g.set(n._key(),e)}function GH(n){return Wi(n._redirectPersistence)}function KH(n){return Bg(HH,n.config.apiKey,n.name)}function YH(n,e,t=!1){return E(this,null,function*(){if(an(n.app))return Promise.reject(Gi(n));let r=ca(n),i=UH(r,e),s=yield new Mb(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var QH=10*60*1e3,Db=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(oa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QH&&this.cachedEventUids.clear(),this.cachedEventUids.has(pR(e))}saveEventToCache(e){this.cachedEventUids.add(pR(e)),this.lastProcessedEventTime=Date.now()}};function pR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ZH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QR(n);default:return!1}}function JH(t){return E(this,arguments,function*(n,e={}){return Ki(n,"GET","/v1/projects",e)})}var XH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e8=/^https?/;function t8(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield JH(n);for(let t of e)try{if(n8(t))return}catch{}si(n,"unauthorized-domain")})}function n8(n){let e=cb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!e8.test(t))return!1;if(XH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var r8=new sa(3e4,6e4);function gR(){let n=oi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function i8(n){return new Promise((e,t)=>{var r,i,o;function s(){gR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gR(),t(oa(n,"network-request-failed"))},timeout:r8.get()})}if(!((i=(r=oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=oi().gapi)===null||o===void 0)&&o.load)s();else{let a=LR("iframefcb");return oi()[a]=()=>{gapi.load?s():t(oa(n,"network-request-failed"))},FR(`${lH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw zg=null,e})}var zg=null;function o8(n){return zg=zg||i8(n),zg}var s8=new sa(5e3,15e3),a8="__/auth/iframe",c8="emulator/auth/iframe",l8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d8(n){let e=n.config;de(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ob(e,c8):`https://${n.config.authDomain}/${a8}`,r={apiKey:e.apiKey,appName:n.name,v:ni},i=u8.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dd(r).slice(1)}`}function h8(n){return E(this,null,function*(){let e=yield o8(n),t=oi().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:d8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l8,dontclear:!0},r=>new Promise((i,o)=>E(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=oa(n,"network-request-failed"),a=oi().setTimeout(()=>{o(s)},s8.get());function c(){oi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var f8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p8=500,g8=600,m8="_blank",y8="http://localhost",tm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function _8(n,e,t,r=p8,i=g8){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},f8),{width:r.toString(),height:i.toString(),top:o,left:s}),u=jt().toLowerCase();t&&(a=PR(u)?m8:t),TR(u)&&(e=e||y8,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[_,w])=>`${g}${_}=${w},`,"");if(rH(u)&&a!=="_self")return v8(e||"",a),new tm(null);let f=window.open(e||"",a,d);de(f,n,"popup-blocked");try{f.focus()}catch{}return new tm(f)}function v8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var C8="__/auth/handler",E8="emulator/auth/handler",b8=encodeURIComponent("fac");function mR(n,e,t,r,i,o){return E(this,null,function*(){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ni,eventId:i};if(e instanceof Zg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",S1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof Cb){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${b8}=${encodeURIComponent(c)}`:"";return`${w8(n)}?${dd(a).slice(1)}${u}`})}function w8({config:n}){return n.emulator?Ob(n,E8):`https://${n.authDomain}/${C8}`}var ab="webStorageSupport",Tb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=YH,this._overrideRedirectResult=WH}_openPopup(e,t,r,i){return E(this,null,function*(){var o;Ho((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield mR(e,t,r,cb(),i);return _8(e,s,qR())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield mR(e,t,r,cb(),i);return OH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ho(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield h8(e),r=new Db(e);return t.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ab,{type:ab},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ab];s!==void 0&&t(!!s),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NR()||SR()||Nb()}},ZR=Tb;var yR="@firebase/auth",_R="1.10.8";var Sb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function I8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M8(n){jn(new Qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kR(n)},u=new gb(r,i,o,c);return dH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jn(new Qt("auth-internal",e=>{let t=ca(e.getProvider("auth").getImmediate());return(r=>new Sb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(yR,_R,I8(n)),Ke(yR,_R,"esm2017")}var D8=5*60,T8=FE("authIdTokenMaxAge")||D8,vR=null,S8=n=>e=>E(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>T8)return;let i=t?.token;vR!==i&&(vR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Wb(n=zi()){let e=Vo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=kb(n,{popupRedirectResolver:ZR,persistence:[YR,HR,qb]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=S8(o.toString());$b(t,s,()=>s(t.currentUser)),Bb(t,a=>s(a))}}let i=NE("auth");return i&&Fb(t,`http://${i}`),t}function P8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=oa("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",P8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M8("Browser");var JR="auth",la=class{constructor(e){return e}},ua=class{constructor(){return jo(JR)}};var Gb=new Z("angularfire2.auth-instances");function m9(n,e){let t=ia(JR,n,e);return t&&new la(t)}function y9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new la(r)}}var _9={provide:ua,deps:[[new bt,Gb]]},v9={provide:la,useFactory:m9,deps:[[new bt,Gb],xr]};function XR(n,...e){return Ke("angularfire",ri.full,"auth"),kt([v9,_9,{provide:Gb,useFactory:y9(n),multi:!0,deps:[Oe,rt,ii,Hi,[new bt,Bo],...e]}])}var eN=Pn(Vb,!0,2);var tN=Pn(Wb,!0);var nN=Pn(zb,!0);var rN=Pn(jb,!0,2);var iN=Pn(Hb,!0,2);var oN=Pn(Ub,!0,2);var sN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aN={};var Yi,Kb;(function(){var n;function e(T,b){function I(){}I.prototype=b.prototype,T.D=b.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(S,P,A){for(var M=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)M[zn-2]=arguments[zn];return b.prototype[P].apply(S,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,I){I||(I=0);var S=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)S[P]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(P=0;16>P;++P)S[P]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=T.g[0],I=T.g[1],P=T.g[2];var A=T.g[3],M=b+(A^I&(P^A))+S[0]+3614090360&4294967295;b=I+(M<<7&4294967295|M>>>25),M=A+(P^b&(I^P))+S[1]+3905402710&4294967295,A=b+(M<<12&4294967295|M>>>20),M=P+(I^A&(b^I))+S[2]+606105819&4294967295,P=A+(M<<17&4294967295|M>>>15),M=I+(b^P&(A^b))+S[3]+3250441966&4294967295,I=P+(M<<22&4294967295|M>>>10),M=b+(A^I&(P^A))+S[4]+4118548399&4294967295,b=I+(M<<7&4294967295|M>>>25),M=A+(P^b&(I^P))+S[5]+1200080426&4294967295,A=b+(M<<12&4294967295|M>>>20),M=P+(I^A&(b^I))+S[6]+2821735955&4294967295,P=A+(M<<17&4294967295|M>>>15),M=I+(b^P&(A^b))+S[7]+4249261313&4294967295,I=P+(M<<22&4294967295|M>>>10),M=b+(A^I&(P^A))+S[8]+1770035416&4294967295,b=I+(M<<7&4294967295|M>>>25),M=A+(P^b&(I^P))+S[9]+2336552879&4294967295,A=b+(M<<12&4294967295|M>>>20),M=P+(I^A&(b^I))+S[10]+4294925233&4294967295,P=A+(M<<17&4294967295|M>>>15),M=I+(b^P&(A^b))+S[11]+2304563134&4294967295,I=P+(M<<22&4294967295|M>>>10),M=b+(A^I&(P^A))+S[12]+1804603682&4294967295,b=I+(M<<7&4294967295|M>>>25),M=A+(P^b&(I^P))+S[13]+4254626195&4294967295,A=b+(M<<12&4294967295|M>>>20),M=P+(I^A&(b^I))+S[14]+2792965006&4294967295,P=A+(M<<17&4294967295|M>>>15),M=I+(b^P&(A^b))+S[15]+1236535329&4294967295,I=P+(M<<22&4294967295|M>>>10),M=b+(P^A&(I^P))+S[1]+4129170786&4294967295,b=I+(M<<5&4294967295|M>>>27),M=A+(I^P&(b^I))+S[6]+3225465664&4294967295,A=b+(M<<9&4294967295|M>>>23),M=P+(b^I&(A^b))+S[11]+643717713&4294967295,P=A+(M<<14&4294967295|M>>>18),M=I+(A^b&(P^A))+S[0]+3921069994&4294967295,I=P+(M<<20&4294967295|M>>>12),M=b+(P^A&(I^P))+S[5]+3593408605&4294967295,b=I+(M<<5&4294967295|M>>>27),M=A+(I^P&(b^I))+S[10]+38016083&4294967295,A=b+(M<<9&4294967295|M>>>23),M=P+(b^I&(A^b))+S[15]+3634488961&4294967295,P=A+(M<<14&4294967295|M>>>18),M=I+(A^b&(P^A))+S[4]+3889429448&4294967295,I=P+(M<<20&4294967295|M>>>12),M=b+(P^A&(I^P))+S[9]+568446438&4294967295,b=I+(M<<5&4294967295|M>>>27),M=A+(I^P&(b^I))+S[14]+3275163606&4294967295,A=b+(M<<9&4294967295|M>>>23),M=P+(b^I&(A^b))+S[3]+4107603335&4294967295,P=A+(M<<14&4294967295|M>>>18),M=I+(A^b&(P^A))+S[8]+1163531501&4294967295,I=P+(M<<20&4294967295|M>>>12),M=b+(P^A&(I^P))+S[13]+2850285829&4294967295,b=I+(M<<5&4294967295|M>>>27),M=A+(I^P&(b^I))+S[2]+4243563512&4294967295,A=b+(M<<9&4294967295|M>>>23),M=P+(b^I&(A^b))+S[7]+1735328473&4294967295,P=A+(M<<14&4294967295|M>>>18),M=I+(A^b&(P^A))+S[12]+2368359562&4294967295,I=P+(M<<20&4294967295|M>>>12),M=b+(I^P^A)+S[5]+4294588738&4294967295,b=I+(M<<4&4294967295|M>>>28),M=A+(b^I^P)+S[8]+2272392833&4294967295,A=b+(M<<11&4294967295|M>>>21),M=P+(A^b^I)+S[11]+1839030562&4294967295,P=A+(M<<16&4294967295|M>>>16),M=I+(P^A^b)+S[14]+4259657740&4294967295,I=P+(M<<23&4294967295|M>>>9),M=b+(I^P^A)+S[1]+2763975236&4294967295,b=I+(M<<4&4294967295|M>>>28),M=A+(b^I^P)+S[4]+1272893353&4294967295,A=b+(M<<11&4294967295|M>>>21),M=P+(A^b^I)+S[7]+4139469664&4294967295,P=A+(M<<16&4294967295|M>>>16),M=I+(P^A^b)+S[10]+3200236656&4294967295,I=P+(M<<23&4294967295|M>>>9),M=b+(I^P^A)+S[13]+681279174&4294967295,b=I+(M<<4&4294967295|M>>>28),M=A+(b^I^P)+S[0]+3936430074&4294967295,A=b+(M<<11&4294967295|M>>>21),M=P+(A^b^I)+S[3]+3572445317&4294967295,P=A+(M<<16&4294967295|M>>>16),M=I+(P^A^b)+S[6]+76029189&4294967295,I=P+(M<<23&4294967295|M>>>9),M=b+(I^P^A)+S[9]+3654602809&4294967295,b=I+(M<<4&4294967295|M>>>28),M=A+(b^I^P)+S[12]+3873151461&4294967295,A=b+(M<<11&4294967295|M>>>21),M=P+(A^b^I)+S[15]+530742520&4294967295,P=A+(M<<16&4294967295|M>>>16),M=I+(P^A^b)+S[2]+3299628645&4294967295,I=P+(M<<23&4294967295|M>>>9),M=b+(P^(I|~A))+S[0]+4096336452&4294967295,b=I+(M<<6&4294967295|M>>>26),M=A+(I^(b|~P))+S[7]+1126891415&4294967295,A=b+(M<<10&4294967295|M>>>22),M=P+(b^(A|~I))+S[14]+2878612391&4294967295,P=A+(M<<15&4294967295|M>>>17),M=I+(A^(P|~b))+S[5]+4237533241&4294967295,I=P+(M<<21&4294967295|M>>>11),M=b+(P^(I|~A))+S[12]+1700485571&4294967295,b=I+(M<<6&4294967295|M>>>26),M=A+(I^(b|~P))+S[3]+2399980690&4294967295,A=b+(M<<10&4294967295|M>>>22),M=P+(b^(A|~I))+S[10]+4293915773&4294967295,P=A+(M<<15&4294967295|M>>>17),M=I+(A^(P|~b))+S[1]+2240044497&4294967295,I=P+(M<<21&4294967295|M>>>11),M=b+(P^(I|~A))+S[8]+1873313359&4294967295,b=I+(M<<6&4294967295|M>>>26),M=A+(I^(b|~P))+S[15]+4264355552&4294967295,A=b+(M<<10&4294967295|M>>>22),M=P+(b^(A|~I))+S[6]+2734768916&4294967295,P=A+(M<<15&4294967295|M>>>17),M=I+(A^(P|~b))+S[13]+1309151649&4294967295,I=P+(M<<21&4294967295|M>>>11),M=b+(P^(I|~A))+S[4]+4149444226&4294967295,b=I+(M<<6&4294967295|M>>>26),M=A+(I^(b|~P))+S[11]+3174756917&4294967295,A=b+(M<<10&4294967295|M>>>22),M=P+(b^(A|~I))+S[2]+718787259&4294967295,P=A+(M<<15&4294967295|M>>>17),M=I+(A^(P|~b))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var I=b-this.blockSize,S=this.B,P=this.h,A=0;A<b;){if(P==0)for(;A<=I;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<b;)if(S[P++]=T.charCodeAt(A++),P==this.blockSize){i(this,S),P=0;break}}else for(;A<b;)if(S[P++]=T[A++],P==this.blockSize){i(this,S),P=0;break}}this.h=P,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var I=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=I&255,I/=256;for(this.u(T),T=Array(16),b=I=0;4>b;++b)for(var S=0;32>S;S+=8)T[I++]=this.g[b]>>>S&255;return T};function o(T,b){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=b(T)}function s(T,b){this.h=b;for(var I=[],S=!0,P=T.length-1;0<=P;P--){var A=T[P]|0;S&&A==b||(I[P]=A,S=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?o(T,function(b){return new s([b|0],0>b?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return R(u(-T));for(var b=[],I=1,S=0;T>=I;S++)b[S]=T/I|0,I*=4294967296;return new s(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return R(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(b,8)),S=f,P=0;P<T.length;P+=8){var A=Math.min(8,T.length-P),M=parseInt(T.substring(P,P+A),b);8>A?(A=u(Math.pow(b,A)),S=S.j(A).add(u(M))):(S=S.j(I),S=S.add(u(M)))}return S}var f=c(0),g=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(O(this))return-R(this).m();for(var T=0,b=1,I=0;I<this.g.length;I++){var S=this.i(I);T+=(0<=S?S:4294967296+S)*b,b*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(O(this))return"-"+R(this).toString(T);for(var b=u(Math.pow(T,6)),I=this,S="";;){var P=re(I,b).g;I=V(I,P.j(b));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=P,w(I))return A+S;for(;6>A.length;)A="0"+A;S=A+S}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function O(T){return T.h==-1}n.l=function(T){return T=V(this,T),O(T)?-1:w(T)?0:1};function R(T){for(var b=T.g.length,I=[],S=0;S<b;S++)I[S]=~T.g[S];return new s(I,~T.h).add(g)}n.abs=function(){return O(this)?R(this):this},n.add=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0,P=0;P<=b;P++){var A=S+(this.i(P)&65535)+(T.i(P)&65535),M=(A>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);S=M>>>16,A&=65535,M&=65535,I[P]=M<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function V(T,b){return T.add(R(b))}n.j=function(T){if(w(this)||w(T))return f;if(O(this))return O(T)?R(this).j(R(T)):R(R(this).j(T));if(O(T))return R(this.j(R(T)));if(0>this.l(_)&&0>T.l(_))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,I=[],S=0;S<2*b;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var P=0;P<T.g.length;P++){var A=this.i(S)>>>16,M=this.i(S)&65535,zn=T.i(P)>>>16,ao=T.i(P)&65535;I[2*S+2*P]+=M*ao,G(I,2*S+2*P),I[2*S+2*P+1]+=A*ao,G(I,2*S+2*P+1),I[2*S+2*P+1]+=M*zn,G(I,2*S+2*P+1),I[2*S+2*P+2]+=A*zn,G(I,2*S+2*P+2)}for(S=0;S<b;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=b;S<2*b;S++)I[S]=0;return new s(I,0)};function G(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function Q(T,b){this.g=T,this.h=b}function re(T,b){if(w(b))throw Error("division by zero");if(w(T))return new Q(f,f);if(O(T))return b=re(R(T),b),new Q(R(b.g),R(b.h));if(O(b))return b=re(T,R(b)),new Q(R(b.g),b.h);if(30<T.g.length){if(O(T)||O(b))throw Error("slowDivide_ only works with positive integers.");for(var I=g,S=b;0>=S.l(T);)I=Ue(I),S=Ue(S);var P=me(I,1),A=me(S,1);for(S=me(S,2),I=me(I,2);!w(S);){var M=A.add(S);0>=M.l(T)&&(P=P.add(I),A=M),S=me(S,1),I=me(I,1)}return b=V(T,P.j(b)),new Q(P,b)}for(P=f;0<=T.l(b);){for(I=Math.max(1,Math.floor(T.m()/b.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),A=u(I),M=A.j(b);O(M)||0<M.l(T);)I-=S,A=u(I),M=A.j(b);w(A)&&(A=g),P=P.add(A),T=V(T,M)}return new Q(P,T)}n.A=function(T){return re(this,T).h},n.and=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)&T.i(S);return new s(I,this.h&T.h)},n.or=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)|T.i(S);return new s(I,this.h|T.h)},n.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)^T.i(S);return new s(I,this.h^T.h)};function Ue(T){for(var b=T.g.length+1,I=[],S=0;S<b;S++)I[S]=T.i(S)<<1|T.i(S-1)>>>31;return new s(I,T.h)}function me(T,b){var I=b>>5;b%=32;for(var S=T.g.length-I,P=[],A=0;A<S;A++)P[A]=0<b?T.i(A+I)>>>b|T.i(A+I+1)<<32-b:T.i(A+I);return new s(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kb=aN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Yi=aN.Integer=s}).apply(typeof sN<"u"?sN:typeof self<"u"?self:typeof window<"u"?window:{});var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qi={};var Yb,E9,zc,Qb,Id,om,Zb,Jb,Xb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof im=="object"&&im];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var x=l[v];if(!(x in p))break e;p=p[x]}l=l[l.length-1],v=p[l],h=h(v),h!=v&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,v=!1,x={next:function(){if(!v&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),l.apply(h,x)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function _(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function w(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,x,N){for(var z=Array(arguments.length-2),We=2;We<arguments.length;We++)z[We-2]=arguments[We];return h.prototype[x].apply(v,z)}}function O(l){let h=l.length;if(0<h){let p=Array(h);for(let v=0;v<h;v++)p[v]=l[v];return p}return[]}function R(l,h){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let x=l.length||0,N=v.length||0;l.length=x+N;for(let z=0;z<N;z++)l[x+z]=v[z]}else l.push(v)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function G(l){return/^[\s\xa0]*$/.test(l)}function Q(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function re(l){return re[" "](l),l}re[" "]=function(){};var Ue=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function me(l,h,p){for(let v in l)h.call(p,l[v],v,l)}function T(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function b(l){let h={};for(let p in l)h[p]=l[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let p,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(p in v)l[p]=v[p];for(let N=0;N<I.length;N++)p=I[N],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function P(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function M(){var l=De;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class zn{constructor(){this.h=this.g=null}add(h,p){let v=ao.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var ao=new V(()=>new ee,l=>l.reset());class ee{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,se=!1,De=new zn,pt=()=>{let l=a.Promise.resolve(void 0);oe=()=>{l.then(Hn)}};var Hn=()=>{for(var l;l=M();){try{l.h.call(l.g)}catch(p){A(p)}var h=ao;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}se=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function co(l,h){if(Je.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Ue){e:{try{re(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Oy[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&co.aa.h.call(this)}}w(co,Je);var Oy={2:"touch",3:"pen",4:"mouse"};co.prototype.h=function(){co.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),yi=0;function Cn(l,h,p,v,x){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=x,this.key=++yi,this.da=this.fa=!1}function _i(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function lo(l){this.src=l,this.g={},this.h=0}lo.prototype.add=function(l,h,p,v,x){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var z=Ay(l,h,v,x);return-1<z?(h=l[z],p||(h.fa=!1)):(h=new Cn(h,this.src,N,!!v,x),h.fa=p,l.push(h)),h};function xy(l,h){var p=h.type;if(p in l.g){var v=l.g[p],x=Array.prototype.indexOf.call(v,h,void 0),N;(N=0<=x)&&Array.prototype.splice.call(v,x,1),N&&(_i(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ay(l,h,p,v){for(var x=0;x<l.length;++x){var N=l[x];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==v)return x}return-1}var Ry="closure_lm_"+(1e6*Math.random()|0),Ny={};function NM(l,h,p,v,x){if(v&&v.once)return FM(l,h,p,v,x);if(Array.isArray(h)){for(var N=0;N<h.length;N++)NM(l,h[N],p,v,x);return null}return p=Vy(p),l&&l[dt]?l.K(h,p,u(v)?!!v.capture:!!v,x):kM(l,h,p,!1,v,x)}function kM(l,h,p,v,x,N){if(!h)throw Error("Invalid event type");var z=u(x)?!!x.capture:!!x,We=Fy(l);if(We||(l[Ry]=We=new lo(l)),p=We.add(h,p,v,z,N),p.proxy)return p;if(v=bL(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)Xe||(x=z),x===void 0&&(x=!1),l.addEventListener(h.toString(),v,x);else if(l.attachEvent)l.attachEvent(VM(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function bL(){function l(p){return h.call(l.src,l.listener,p)}let h=wL;return l}function FM(l,h,p,v,x){if(Array.isArray(h)){for(var N=0;N<h.length;N++)FM(l,h[N],p,v,x);return null}return p=Vy(p),l&&l[dt]?l.L(h,p,u(v)?!!v.capture:!!v,x):kM(l,h,p,!0,v,x)}function LM(l,h,p,v,x){if(Array.isArray(h))for(var N=0;N<h.length;N++)LM(l,h[N],p,v,x);else v=u(v)?!!v.capture:!!v,p=Vy(p),l&&l[dt]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=Ay(N,p,v,x),-1<p&&(_i(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Fy(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ay(h,p,v,x)),(p=-1<l?h[l]:null)&&ky(p))}function ky(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[dt])xy(h.i,l);else{var p=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(p,v,l.capture):h.detachEvent?h.detachEvent(VM(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=Fy(h))?(xy(p,l),p.h==0&&(p.src=null,h[Ry]=null)):_i(l)}}}function VM(l){return l in Ny?Ny[l]:Ny[l]="on"+l}function wL(l,h){if(l.da)l=!0;else{h=new co(h,this);var p=l.listener,v=l.ha||l.src;l.fa&&ky(l),l=p.call(v,h)}return l}function Fy(l){return l=l[Ry],l instanceof lo?l:null}var Ly="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vy(l){return typeof l=="function"?l:(l[Ly]||(l[Ly]=function(h){return l.handleEvent(h)}),l[Ly])}function Zt(){ut.call(this),this.i=new lo(this),this.M=this,this.F=null}w(Zt,ut),Zt.prototype[dt]=!0,Zt.prototype.removeEventListener=function(l,h,p,v){LM(this,l,h,p,v)};function un(l,h){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new Je(h,l);else if(h instanceof Je)h.target=h.target||l;else{var x=h;h=new Je(v,l),S(h,x)}if(x=!0,p)for(var N=p.length-1;0<=N;N--){var z=h.g=p[N];x=sh(z,v,!0,h)&&x}if(z=h.g=l,x=sh(z,v,!0,h)&&x,x=sh(z,v,!1,h)&&x,p)for(N=0;N<p.length;N++)z=h.g=p[N],x=sh(z,v,!1,h)&&x}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],v=0;v<p.length;v++)_i(p[v]);delete l.g[h],l.h--}}this.F=null},Zt.prototype.K=function(l,h,p,v){return this.i.add(String(l),h,!1,p,v)},Zt.prototype.L=function(l,h,p,v){return this.i.add(String(l),h,!0,p,v)};function sh(l,h,p,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,N=0;N<h.length;++N){var z=h[N];if(z&&!z.da&&z.capture==p){var We=z.listener,$t=z.ha||z.src;z.fa&&xy(l.i,z),x=We.call($t,v)!==!1&&x}}return x&&!v.defaultPrevented}function jM(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function UM(l){l.g=jM(()=>{l.g=null,l.i&&(l.i=!1,UM(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class IL extends ut{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:UM(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(l){ut.call(this),this.h=l,this.g={}}w(wl,ut);var BM=[];function $M(l){me(l.g,function(h,p){this.g.hasOwnProperty(p)&&ky(h)},l),l.g={}}wl.prototype.N=function(){wl.aa.N.call(this),$M(this)},wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jy=a.JSON.stringify,ML=a.JSON.parse,DL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Uy(){}Uy.prototype.h=null;function zM(l){return l.h||(l.h=l.i())}function HM(){}var Il={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function By(){Je.call(this,"d")}w(By,Je);function $y(){Je.call(this,"c")}w($y,Je);var as={},qM=null;function ah(){return qM=qM||new Zt}as.La="serverreachability";function WM(l){Je.call(this,as.La,l)}w(WM,Je);function Ml(l){let h=ah();un(h,new WM(h))}as.STAT_EVENT="statevent";function GM(l,h){Je.call(this,as.STAT_EVENT,l),this.stat=h}w(GM,Je);function dn(l){let h=ah();un(h,new GM(h,l))}as.Ma="timingevent";function KM(l,h){Je.call(this,as.Ma,l),this.size=h}w(KM,Je);function Dl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Tl(){this.g=!0}Tl.prototype.xa=function(){this.g=!1};function TL(l,h,p,v,x,N){l.info(function(){if(l.g)if(N)for(var z="",We=N.split("&"),$t=0;$t<We.length;$t++){var Ve=We[$t].split("=");if(1<Ve.length){var Jt=Ve[0];Ve=Ve[1];var Xt=Jt.split("_");z=2<=Xt.length&&Xt[1]=="type"?z+(Jt+"="+Ve+"&"):z+(Jt+"=redacted&")}}else z=null;else z=N;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+h+`
`+p+`
`+z})}function SL(l,h,p,v,x,N,z){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+h+`
`+p+`
`+N+" "+z})}function Pa(l,h,p,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+OL(l,p)+(v?" "+v:"")})}function PL(l,h){l.info(function(){return"TIMEOUT: "+h})}Tl.prototype.info=function(){};function OL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var N=x[0];if(N!="noop"&&N!="stop"&&N!="close")for(var z=1;z<x.length;z++)x[z]=""}}}}return jy(p)}catch{return h}}var ch={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zy;function lh(){}w(lh,Uy),lh.prototype.g=function(){return new XMLHttpRequest},lh.prototype.i=function(){return{}},zy=new lh;function uo(l,h,p,v){this.j=l,this.i=h,this.l=p,this.R=v||1,this.U=new wl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QM}function QM(){this.i=null,this.g="",this.h=!1}var ZM={},Hy={};function qy(l,h,p){l.L=1,l.v=fh(vi(h)),l.m=p,l.P=!0,JM(l,null)}function JM(l,h){l.F=Date.now(),uh(l),l.A=vi(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),hD(p.i,"t",v),l.C=0,p=l.j.J,l.h=new QM,l.g=OD(l.j,p?h:null,!l.m),0<l.O&&(l.M=new IL(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,v=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(BM[0]=x.toString()),x=BM);for(var N=0;N<x.length;N++){var z=NM(p,x[N],v||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ml(),TL(l.i,l.u,l.A,l.l,l.R,l.m)}uo.prototype.ca=function(l){l=l.target;let h=this.M;h&&Ci(l)==3?h.j():this.Y(l)},uo.prototype.Y=function(l){try{if(l==this.g)e:{let Xt=Ci(this.g);var h=this.g.Ba();let Aa=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||vD(this.g)))){this.J||Xt!=4||h==7||(h==8||0>=Aa?Ml(3):Ml(2)),Wy(this);var p=this.g.Z();this.X=p;t:if(XM(this)){var v=vD(this.g);l="";var x=v.length,N=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),Sl(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(N&&h==x-1)});v.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,SL(this.i,this.u,this.A,this.l,this.R,Xt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var We,$t=this.g;if((We=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(We)){var Ve=We;break t}}Ve=null}if(p=Ve)Pa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gy(this,p);else{this.o=!1,this.s=3,dn(12),cs(this),Sl(this);break e}}if(this.P){p=!0;let lr;for(;!this.J&&this.C<z.length;)if(lr=xL(this,z),lr==Hy){Xt==4&&(this.s=4,dn(14),p=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==ZM){this.s=4,dn(15),Pa(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Pa(this.i,this.l,lr,null),Gy(this,lr);if(XM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||z.length!=0||this.h.h||(this.s=1,dn(16),p=!1),this.o=this.o&&p,!p)Pa(this.i,this.l,z,"[Invalid Chunked Response]"),cs(this),Sl(this);else if(0<z.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Xy(Jt),Jt.M=!0,dn(11))}}else Pa(this.i,this.l,z,null),Gy(this,z);Xt==4&&cs(this),this.o&&!this.J&&(Xt==4?DD(this.j,this):(this.o=!1,uh(this)))}else KL(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),cs(this),Sl(this)}}}catch{}finally{}};function XM(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xL(l,h){var p=l.C,v=h.indexOf(`
`,p);return v==-1?Hy:(p=Number(h.substring(p,v)),isNaN(p)?ZM:(v+=1,v+p>h.length?Hy:(h=h.slice(v,v+p),l.C=v+p,h)))}uo.prototype.cancel=function(){this.J=!0,cs(this)};function uh(l){l.S=Date.now()+l.I,eD(l,l.I)}function eD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Dl(g(l.ba,l),h)}function Wy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}uo.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(PL(this.i,this.A),this.L!=2&&(Ml(),dn(17)),cs(this),this.s=2,Sl(this)):eD(this,this.S-l)};function Sl(l){l.j.G==0||l.J||DD(l.j,l)}function cs(l){Wy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,$M(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Gy(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Ky(p.h,l))){if(!l.K&&Ky(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)_h(p),mh(p);else break e;Jy(p),dn(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Dl(g(p.Za,p),6e3));if(1>=rD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else us(p,11)}else if((l.K||p.g==l)&&_h(p),!G(h))for(x=p.Da.g.parse(h),h=0;h<x.length;h++){let Ve=x[h];if(p.T=Ve[0],Ve=Ve[1],p.G==2)if(Ve[0]=="c"){p.K=Ve[1],p.ia=Ve[2];let Jt=Ve[3];Jt!=null&&(p.la=Jt,p.j.info("VER="+p.la));let Xt=Ve[4];Xt!=null&&(p.Aa=Xt,p.j.info("SVER="+p.Aa));let Aa=Ve[5];Aa!=null&&typeof Aa=="number"&&0<Aa&&(v=1.5*Aa,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let lr=l.g;if(lr){let Ch=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ch){var N=v.h;N.g||Ch.indexOf("spdy")==-1&&Ch.indexOf("quic")==-1&&Ch.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Yy(N,N.h),N.h=null))}if(v.D){let e_=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;e_&&(v.ya=e_,et(v.I,v.D,e_))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var z=l;if(v.qa=PD(v,v.J?v.ia:null,v.W),z.K){iD(v.h,z);var We=z,$t=v.L;$t&&(We.I=$t),We.B&&(Wy(We),uh(We)),v.g=z}else ID(v);0<p.i.length&&yh(p)}else Ve[0]!="stop"&&Ve[0]!="close"||us(p,7);else p.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?us(p,7):Zy(p):Ve[0]!="noop"&&p.l&&p.l.ta(Ve),p.v=0)}}Ml(4)}catch{}}var AL=class{constructor(l,h){this.g=l,this.map=h}};function tD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function rD(l){return l.h?1:l.g?l.g.size:0}function Ky(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Yy(l,h){l.g?l.g.add(h):l.h=h}function iD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}tD.prototype.cancel=function(){if(this.i=oD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function oD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return O(l.i)}function RL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,v=0;v<p;v++)h.push(l[v]);return h}h=[],p=0;for(v in l)h[p++]=l[v];return h}function NL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let v in l)h[p++]=v;return h}}}function sD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=NL(l),v=RL(l),x=v.length,N=0;N<x;N++)h.call(void 0,v[N],p&&p[N],l)}var aD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),x=null;if(0<=v){var N=l[p].substring(0,v);x=l[p].substring(v+1)}else N=l[p];h(N,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ls(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ls){this.h=l.h,dh(this,l.j),this.o=l.o,this.g=l.g,hh(this,l.s),this.l=l.l;var h=l.i,p=new xl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),cD(this,p),this.m=l.m}else l&&(h=String(l).match(aD))?(this.h=!1,dh(this,h[1]||"",!0),this.o=Pl(h[2]||""),this.g=Pl(h[3]||"",!0),hh(this,h[4]),this.l=Pl(h[5]||"",!0),cD(this,h[6]||"",!0),this.m=Pl(h[7]||"")):(this.h=!1,this.i=new xl(null,this.h))}ls.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ol(h,lD,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ol(h,lD,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Ol(p,p.charAt(0)=="/"?VL:LL,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Ol(p,UL)),l.join("")};function vi(l){return new ls(l)}function dh(l,h,p){l.j=p?Pl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function hh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function cD(l,h,p){h instanceof xl?(l.i=h,BL(l.i,l.h)):(p||(h=Ol(h,jL)),l.i=new xl(h,l.h))}function et(l,h,p){l.i.set(h,p)}function fh(l){return et(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ol(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,FL),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function FL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var lD=/[#\/\?@]/g,LL=/[#\?:]/g,VL=/[#\?]/g,jL=/[#\?@]/g,UL=/#/g;function xl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ho(l){l.g||(l.g=new Map,l.h=0,l.i&&kL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=xl.prototype,n.add=function(l,h){ho(this),this.i=null,l=Oa(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function uD(l,h){ho(l),h=Oa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function dD(l,h){return ho(l),h=Oa(l,h),l.g.has(h)}n.forEach=function(l,h){ho(this),this.g.forEach(function(p,v){p.forEach(function(x){l.call(h,x,v,this)},this)},this)},n.na=function(){ho(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){let x=l[v];for(let N=0;N<x.length;N++)p.push(h[v])}return p},n.V=function(l){ho(this);let h=[];if(typeof l=="string")dD(this,l)&&(h=h.concat(this.g.get(Oa(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return ho(this),this.i=null,l=Oa(this,l),dD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function hD(l,h,p){uD(l,h),0<p.length&&(l.i=null,l.g.set(Oa(l,h),O(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];let N=encodeURIComponent(String(v)),z=this.V(v);for(v=0;v<z.length;v++){var x=N;z[v]!==""&&(x+="="+encodeURIComponent(String(z[v]))),l.push(x)}}return this.i=l.join("&")};function Oa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function BL(l,h){h&&!l.j&&(ho(l),l.i=null,l.g.forEach(function(p,v){var x=v.toLowerCase();v!=x&&(uD(this,v),hD(this,x,p))},l)),l.j=h}function $L(l,h){let p=new Tl;if(a.Image){let v=new Image;v.onload=_(fo,p,"TestLoadImage: loaded",!0,h,v),v.onerror=_(fo,p,"TestLoadImage: error",!1,h,v),v.onabort=_(fo,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(fo,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function zL(l,h){let p=new Tl,v=new AbortController,x=setTimeout(()=>{v.abort(),fo(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(N=>{clearTimeout(x),N.ok?fo(p,"TestPingServer: ok",!0,h):fo(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),fo(p,"TestPingServer: error",!1,h)})}function fo(l,h,p,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(p)}catch{}}function HL(){this.g=new DL}function qL(l,h,p){let v=p||"";try{sD(l,function(x,N){let z=x;u(x)&&(z=jy(x)),h.push(v+N+"="+encodeURIComponent(z))})}catch(x){throw h.push(v+"type="+encodeURIComponent("_badmap")),x}}function Al(l){this.l=l.Ub||null,this.j=l.eb||!1}w(Al,Uy),Al.prototype.g=function(){return new ph(this.l,this.j)},Al.prototype.i=function(l){return function(){return l}}({});function ph(l,h){Zt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ph,Zt),n=ph.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Nl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Rl(this):Nl(this),this.readyState==3&&fD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Rl(this))},n.Qa=function(l){this.g&&(this.response=l,Rl(this))},n.ga=function(){this.g&&Rl(this)};function Rl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Nl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function pD(l){let h="";return me(l,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function Qy(l,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=pD(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):et(l,h,p))}function ht(l){Zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ht,Zt);var WL=/^https?$/i,GL=["POST","PUT"];n=ht.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zy.g(),this.v=this.o?zM(this.o):zM(zy),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){gD(this,N);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)p.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let N of v.keys())p.set(N,v.get(N));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GL,h,void 0))||v||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,z]of p)this.g.setRequestHeader(N,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_D(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){gD(this,N)}};function gD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,mD(l),gh(l)}function mD(l){l.A||(l.A=!0,un(l,"complete"),un(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,un(this,"complete"),un(this,"abort"),gh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gh(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?yD(this):this.bb())},n.bb=function(){yD(this)};function yD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Ci(l)!=4||l.Z()!=2)){if(l.u&&Ci(l)==4)jM(l.Ea,0,l);else if(un(l,"readystatechange"),Ci(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=z===0){var x=String(l.D).match(aD)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!WL.test(x?x.toLowerCase():"")}p=v}if(p)un(l,"complete"),un(l,"success");else{l.m=6;try{var N=2<Ci(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",mD(l)}}finally{gh(l)}}}}function gh(l,h){if(l.g){_D(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||un(l,"ready");try{p.onreadystatechange=v}catch{}}}function _D(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Ci(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),ML(h)}};function vD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function KL(l){let h={};l=(l.g&&2<=Ci(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(G(l[v]))continue;var p=P(l[v]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[x]||[];h[x]=N,N.push(p)}T(h,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kl(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function CD(l){this.Aa=0,this.i=[],this.j=new Tl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kl("baseRetryDelayMs",5e3,l),this.cb=kl("retryDelaySeedMs",1e4,l),this.Wa=kl("forwardChannelMaxRetries",2,l),this.wa=kl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new tD(l&&l.concurrentRequestLimit),this.Da=new HL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=CD.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,v){dn(0),this.W=l,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=PD(this,null,this.W),yh(this)};function Zy(l){if(ED(l),l.G==3){var h=l.U++,p=vi(l.I);if(et(p,"SID",l.K),et(p,"RID",h),et(p,"TYPE","terminate"),Fl(l,p),h=new uo(l,l.j,h),h.L=2,h.v=fh(vi(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=OD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),uh(h)}SD(l)}function mh(l){l.g&&(Xy(l),l.g.cancel(),l.g=null)}function ED(l){mh(l),l.u&&(a.clearTimeout(l.u),l.u=null),_h(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function yh(l){if(!nD(l.h)&&!l.s){l.s=!0;var h=l.Ga;oe||pt(),se||(oe(),se=!0),De.add(h,l),l.B=0}}function YL(l,h){return rD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Dl(g(l.Ga,l,h),TD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new uo(this,this.j,l),N=this.o;if(this.S&&(N?(N=b(N),S(N,this.S)):N=this.S),this.m!==null||this.O||(x.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=wD(this,x,h),p=vi(this.I),et(p,"RID",l),et(p,"CVER",22),this.D&&et(p,"X-HTTP-Session-Id",this.D),Fl(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(pD(N)))+"&"+h:this.m&&Qy(p,this.m,N)),Yy(this.h,x),this.Ua&&et(p,"TYPE","init"),this.P?(et(p,"$req",h),et(p,"SID","null"),x.T=!0,qy(x,p,null)):qy(x,p,h),this.G=2}}else this.G==3&&(l?bD(this,l):this.i.length==0||nD(this.h)||bD(this))};function bD(l,h){var p;h?p=h.l:p=l.U++;let v=vi(l.I);et(v,"SID",l.K),et(v,"RID",p),et(v,"AID",l.T),Fl(l,v),l.m&&l.o&&Qy(v,l.m,l.o),p=new uo(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=wD(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Yy(l.h,p),qy(p,v,h)}function Fl(l,h){l.H&&me(l.H,function(p,v){et(h,v,p)}),l.l&&sD({},function(p,v){et(h,v,p)})}function wD(l,h,p){p=Math.min(l.i.length,p);var v=l.l?g(l.l.Na,l.l,l):null;e:{var x=l.i;let N=-1;for(;;){let z=["count="+p];N==-1?0<p?(N=x[0].g,z.push("ofs="+N)):N=0:z.push("ofs="+N);let We=!0;for(let $t=0;$t<p;$t++){let Ve=x[$t].g,Jt=x[$t].map;if(Ve-=N,0>Ve)N=Math.max(0,x[$t].g-100),We=!1;else try{qL(Jt,z,"req"+Ve+"_")}catch{v&&v(Jt)}}if(We){v=z.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,v}function ID(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;oe||pt(),se||(oe(),se=!0),De.add(h,l),l.v=0}}function Jy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Dl(g(l.Fa,l),TD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,MD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Dl(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),mh(this),MD(this))};function Xy(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function MD(l){l.g=new uo(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=vi(l.qa);et(h,"RID","rpc"),et(h,"SID",l.K),et(h,"AID",l.T),et(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&et(h,"TO",l.ja),et(h,"TYPE","xmlhttp"),Fl(l,h),l.m&&l.o&&Qy(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=fh(vi(h)),p.m=null,p.P=!0,JM(p,l)}n.Za=function(){this.C!=null&&(this.C=null,mh(this),Jy(this),dn(19))};function _h(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function DD(l,h){var p=null;if(l.g==h){_h(l),Xy(l),l.g=null;var v=2}else if(Ky(l.h,h))p=h.D,iD(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var x=l.B;v=ah(),un(v,new KM(v,p)),yh(l)}else ID(l);else if(x=h.s,x==3||x==0&&0<h.X||!(v==1&&YL(l,h)||v==2&&Jy(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),x){case 1:us(l,5);break;case 4:us(l,10);break;case 3:us(l,6);break;default:us(l,2)}}}function TD(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function us(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),v=l.Xa;let x=!v;v=new ls(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dh(v,"https"),fh(v),x?$L(v.toString(),p):zL(v.toString(),p)}else dn(2);l.G=0,l.l&&l.l.sa(h),SD(l),ED(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function SD(l){if(l.G=0,l.ka=[],l.l){let h=oD(l.h);(h.length!=0||l.i.length!=0)&&(R(l.ka,h),R(l.ka,l.i),l.h.i.length=0,O(l.i),l.i.length=0),l.l.ra()}}function PD(l,h,p){var v=p instanceof ls?vi(p):new ls(p);if(v.g!="")h&&(v.g=h+"."+v.g),hh(v,v.s);else{var x=a.location;v=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var N=new ls(null);v&&dh(N,v),h&&(N.g=h),x&&hh(N,x),p&&(N.l=p),v=N}return p=l.D,h=l.ya,p&&h&&et(v,p,h),et(v,"VER",l.la),Fl(l,v),v}function OD(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ht(new Al({eb:p})):new ht(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xD(){}n=xD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vh(){}vh.prototype.g=function(l,h){return new An(l,h)};function An(l,h){Zt.call(this),this.g=new CD(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!G(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!G(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new xa(this)}w(An,Zt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Zy(this.g)},An.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=jy(l),l=p);h.i.push(new AL(h.Ya++,l)),h.G==3&&yh(h)},An.prototype.N=function(){this.g.l=null,delete this.j,Zy(this.g),delete this.g,An.aa.N.call(this)};function AD(l){By.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(AD,By);function RD(){$y.call(this),this.status=1}w(RD,$y);function xa(l){this.g=l}w(xa,xD),xa.prototype.ua=function(){un(this.g,"a")},xa.prototype.ta=function(l){un(this.g,new AD(l))},xa.prototype.sa=function(l){un(this.g,new RD)},xa.prototype.ra=function(){un(this.g,"b")},vh.prototype.createWebChannel=vh.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Xb=Qi.createWebChannelTransport=function(){return new vh},Jb=Qi.getStatEventTarget=function(){return ah()},Zb=Qi.Event=as,om=Qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ch.NO_ERROR=0,ch.TIMEOUT=8,ch.HTTP_ERROR=6,Id=Qi.ErrorCode=ch,YM.COMPLETE="complete",Qb=Qi.EventType=YM,HM.EventType=Il,Il.OPEN="a",Il.CLOSE="b",Il.ERROR="c",Il.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,zc=Qi.WebChannel=HM,E9=Qi.FetchXmlHttpFactory=Al,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Yb=Qi.XhrIo=ht}).apply(typeof im<"u"?im:typeof self<"u"?self:typeof window<"u"?window:{});var cN="@firebase/firestore",lN="4.8.0";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");var ll="11.10.0";var ma=new ei("@firebase/firestore");function Hc(){return ma.logLevel}function J(n,...e){if(ma.logLevel<=Te.DEBUG){let t=e.map(BI);ma.debug(`Firestore (${ll}): ${n}`,...t)}}function Zi(n,...e){if(ma.logLevel<=Te.ERROR){let t=e.map(BI);ma.error(`Firestore (${ll}): ${n}`,...t)}}function Qo(n,...e){if(ma.logLevel<=Te.WARN){let t=e.map(BI);ma.warn(`Firestore (${ll}): ${n}`,...t)}}function BI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,tk(n,r,t)}function tk(n,e,t){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zi(r),new Error(r)}function $e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||tk(e,i,r)}function ye(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var hm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},iw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}},ow=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},sw=class{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new hm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}},aw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},cw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new aw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},fm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},lw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);let r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new fm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function b9(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function nk(){return new TextEncoder}var Od=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=b9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Me(n,e){return n<e?-1:n>e?1:0}function uw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Me(r,i);{let o=nk(),s=w9(o.encode(uN(n,t)),o.encode(uN(e,t)));return s!==0?s:Me(r,i)}}t+=r>65535?2:1}return Me(n.length,e.length)}function uN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function w9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Zc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var dN="__name__",pm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Me(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):uw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}},ot=class n extends pm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},I9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bn=class n extends pm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return I9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dN}static keyField(){return new n([dN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new W(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(ot.fromString(e))}static fromName(e){return new n(ot.fromString(e).popFirst(5))}static empty(){return new n(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ot(e.slice()))}};function rk(n,e,t){if(!t)throw new W(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M9(n,e,t,r){if(e===!0&&r===!0)throw new W(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hN(n){if(!ae.isDocumentKey(n))throw new W(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fN(n){if(ae.isDocumentKey(n))throw new W(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ik(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":le(12329,{type:typeof n})}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Wm(n);throw new W(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tt(n,e){let t={typeString:n};return e&&(t.value=e),t}function qd(n,e){if(!ik(n))throw new W(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new W(k.INVALID_ARGUMENT,t);return!0}var pN=-62135596800,gN=1e6,St=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pN)throw new W(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gN}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qd(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Tt("string",St._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};var ve=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new St(0,0))}static max(){return new n(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xd=-1,dw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};dw.UNKNOWN_ID=-1;function D9(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new ya(i,ae.empty(),e)}function T9(n){return new ya(n.readTime,n.key,xd)}var ya=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),ae.empty(),xd)}static max(){return new n(ve.max(),ae.empty(),xd)}};function S9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}var P9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ul(n){return E(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==P9)throw n;J("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function O9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}var $I=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),zI=-1;function Gm(n){return n==null}function Ad(n){return n===0&&1/n==-1/0}function x9(n){return typeof n=="number"&&Number.isInteger(n)&&!Ad(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var ok="";function A9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mN(e)),e=R9(n.get(t),e);return mN(e)}function R9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case ok:t+="";break;default:t+=o}}return t}function mN(n){return n+ok+""}var N9="remoteDocuments",sk="owner";var ak="mutationQueues";var ck="mutations";var lk="documentMutations",k9="remoteDocumentsV14";var uk="remoteDocumentGlobal";var dk="targets";var hk="targetDocuments";var fk="targetGlobal",pk="collectionParents";var gk="clientMetadata";var mk="bundles";var yk="namedQueries";var F9="indexConfiguration";var L9="indexState";var V9="indexEntries";var _k="documentOverlays";var j9="globals";var U9=[ak,ck,lk,N9,dk,sk,fk,hk,gk,uk,pk,mk,yk],xfe=[...U9,_k],B9=[ak,ck,lk,k9,dk,sk,fk,hk,gk,uk,pk,mk,yk,_k],$9=B9,z9=[...$9,F9,L9,V9];var Afe=[...z9,j9];function yN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ns(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ft=class n{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}},Kc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ai=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bt=class n{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gm(this.data.getIterator())}getIteratorFrom(e){return new gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},gm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ir=class n{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Bt(Bn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var mm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ln=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ln.EMPTY_BYTE_STRING=new ln("");var H9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if($e(!!n,39018),typeof n=="string"){let e=0,t=H9.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(n.seconds),nanos:it(n.nanos)}}function it(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}var Ck="server_timestamp",Ek="__type__",bk="__previous_value__",wk="__local_write_time__";function HI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ek])===null||t===void 0?void 0:t.stringValue)===Ck}function Km(n){let e=n.mapValue.fields[bk];return HI(e)?Km(e):e}function Rd(n){let e=Ji(n.mapValue.fields[wk].timestampValue);return new St(e.seconds,e.nanos)}var fw=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},ym="(default)",_m=class n{constructor(e,t){this.projectId=e,this.database=t||ym}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ym}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var qI="__type__",Ik="__max__",sm={mapValue:{fields:{__type__:{stringValue:Ik}}}},WI="__vector__",Jc="value";function Zo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HI(n)?4:Dk(n)?9007199254740991:Mk(n)?10:11:le(28295,{value:n})}function di(n,e){if(n===e)return!0;let t=Zo(n);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rd(n).isEqual(Rd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ji(i.timestampValue),a=Ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Xi(i.bytesValue).isEqual(Xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return it(i.geoPointValue.latitude)===it(o.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return it(i.integerValue)===it(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=it(i.doubleValue),a=it(o.doubleValue);return s===a?Ad(s)===Ad(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Zc(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yN(s)!==yN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!di(s[c],a[c])))return!1;return!0}(n,e);default:return le(52216,{left:n})}}function Nd(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function Xc(n,e){if(n===e)return 0;let t=Zo(n),r=Zo(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=it(o.integerValue||o.doubleValue),c=it(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return _N(n.timestampValue,e.timestampValue);case 4:return _N(Rd(n),Rd(e));case 5:return uw(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xi(o),c=Xi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Me(a[u],c[u]);if(d!==0)return d}return Me(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Me(it(o.latitude),it(s.latitude));return a!==0?a:Me(it(o.longitude),it(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return vN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},g=s.fields||{},_=(a=f[Jc])===null||a===void 0?void 0:a.arrayValue,w=(c=g[Jc])===null||c===void 0?void 0:c.arrayValue,O=Me(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return O!==0?O:vN(_,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===sm.mapValue&&s===sm.mapValue)return 0;if(o===sm.mapValue)return 1;if(s===sm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=uw(c[f],d[f]);if(g!==0)return g;let _=Xc(a[c[f]],u[d[f]]);if(_!==0)return _}return Me(c.length,d.length)}(n.mapValue,e.mapValue);default:throw le(23264,{le:t})}}function _N(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);let t=Ji(n),r=Ji(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function vN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Xc(t[i],r[i]);if(o)return o}return Me(t.length,r.length)}function el(n){return pw(n)}function pw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=pw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${pw(t.fields[s])}`;return i+"}"}(n.mapValue):le(61005,{value:n})}function lm(n){switch(Zo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Km(n);return e?16+lm(e):16;case 5:return 2*n.stringValue.length;case 6:return Xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+lm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ns(r.fields,(o,s)=>{i+=o.length+lm(s)}),i}(n.mapValue);default:throw le(13486,{value:n})}}function CN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gw(n){return!!n&&"integerValue"in n}function GI(n){return!!n&&"arrayValue"in n}function EN(n){return!!n&&"nullValue"in n}function bN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function um(n){return!!n&&"mapValue"in n}function Mk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qI])===null||t===void 0?void 0:t.stringValue)===WI}function Dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Dk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ik}var Nfe={mapValue:{fields:{[qI]:{stringValue:WI},[Jc]:{arrayValue:{}}}}};var Un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!um(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(t)}setAll(e){let t=Bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Dd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ns(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Dd(this.value))}};function Tk(n){let e=[];return ns(n.fields,(t,r)=>{let i=new Bn([t]);if(um(r)){let o=Tk(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ir(e)}var Nr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),Un.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var tl=class{constructor(e,t){this.position=e,this.inclusive=t}};function wN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),t.key):r=Xc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}var _a=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function q9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vm=class{},Dt=class n extends vm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new yw(e,t,r):t==="array-contains"?new Cw(e,r):t==="in"?new Ew(e,r):t==="not-in"?new bw(e,r):t==="array-contains-any"?new ww(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _w(e,r):new vw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xc(t,this.value)):t!==null&&Zo(this.value)===Zo(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kr=class n extends vm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return Sk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Sk(n){return n.op==="and"}function Pk(n){return W9(n)&&Sk(n)}function W9(n){for(let e of n.filters)if(e instanceof kr)return!1;return!0}function mw(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+el(n.value);if(Pk(n))return n.filters.map(e=>mw(e)).join(",");{let e=n.filters.map(t=>mw(t)).join(",");return`${n.op}(${e})`}}function Ok(n,e){return n instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(n,e):n instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Ok(s,i.filters[a]),!0):!1}(n,e):void le(19439)}function xk(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(xk).join(" ,")+"}"}(n):"Filter"}var yw=class extends Dt{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},_w=class extends Dt{constructor(e,t){super(e,"in",t),this.keys=Ak("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},vw=class extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=Ak("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ak(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ae.fromName(r.referenceValue))}var Cw=class extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return GI(t)&&Nd(t.arrayValue,this.value)}},Ew=class extends Dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Nd(this.value.arrayValue,t)}},bw=class extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nd(this.value.arrayValue,t)}},ww=class extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!GI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}};var Iw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function MN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Iw(n,e,t,r,i,o,s)}function KI(n){let e=ye(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>el(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>el(r)).join(",")),e.Pe=t}return e.Pe}function YI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!q9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ok(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IN(n.startAt,e.startAt)&&IN(n.endAt,e.endAt)}function Mw(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Jo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function G9(n,e,t,r,i,o,s,a){return new Jo(n,e,t,r,i,o,s,a)}function Ym(n){return new Jo(n)}function DN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Rk(n){return n.collectionGroup!==null}function Td(n){let e=ye(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bt(Bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new _a(o,r))}),t.has(Bn.keyField().canonicalString())||e.Te.push(new _a(Bn.keyField(),r))}return e.Te}function ci(n){let e=ye(n);return e.Ie||(e.Ie=K9(e,Td(n))),e.Ie}function K9(n,e){if(n.limitType==="F")return MN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new _a(i.field,o)});let t=n.endAt?new tl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new tl(n.startAt.position,n.startAt.inclusive):null;return MN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Dw(n,e){let t=n.filters.concat([e]);return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tw(n,e,t){return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qm(n,e){return YI(ci(n),ci(e))&&n.limitType===e.limitType}function Nk(n){return`${KI(ci(n))}|lt:${n.limitType}`}function qc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>xk(i)).join(", ")}]`),Gm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>el(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>el(i)).join(",")),`Target(${r})`}(ci(n))}; limitType=${n.limitType})`}function Zm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Td(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=wN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Td(r),i)||r.endAt&&!function(s,a,c){let u=wN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Td(r),i))}(n,e)}function Y9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kk(n){return(e,t)=>{let r=!1;for(let i of Td(n)){let o=Q9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q9(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Xc(c,u):le(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:n.dir})}}var eo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return vk(this.inner)}size(){return this.innerSize}};var Z9=new ft(ae.comparator);function to(){return Z9}var Fk=new ft(ae.comparator);function Md(...n){let e=Fk;for(let t of n)e=e.insert(t.key,t);return e}function Lk(n){let e=Fk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function da(){return Sd()}function Vk(){return Sd()}function Sd(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}var J9=new ft(ae.comparator),X9=new Bt(ae.comparator);function Re(...n){let e=X9;for(let t of n)e=e.add(t);return e}var eq=new Bt(Me);function tq(){return eq}function QI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function jk(n){return{integerValue:""+n}}function nq(n,e){return x9(e)?jk(e):QI(n,e)}var nl=class{constructor(){this._=void 0}};function rq(n,e,t){return n instanceof rl?function(i,o){let s={fields:{[Ek]:{stringValue:Ck},[wk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HI(o)&&(o=Km(o)),o&&(s.fields[bk]=o),{mapValue:s}}(t,e):n instanceof va?Bk(n,e):n instanceof Ca?$k(n,e):function(i,o){let s=Uk(i,o),a=TN(s)+TN(i.Ee);return gw(s)&&gw(i.Ee)?jk(a):QI(i.serializer,a)}(n,e)}function iq(n,e,t){return n instanceof va?Bk(n,e):n instanceof Ca?$k(n,e):t}function Uk(n,e){return n instanceof il?function(r){return gw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var rl=class extends nl{},va=class extends nl{constructor(e){super(),this.elements=e}};function Bk(n,e){let t=zk(e);for(let r of n.elements)t.some(i=>di(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ca=class extends nl{constructor(e){super(),this.elements=e}};function $k(n,e){let t=zk(e);for(let r of n.elements)t=t.filter(i=>!di(i,r));return{arrayValue:{values:t}}}var il=class extends nl{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function TN(n){return it(n.integerValue||n.doubleValue)}function zk(n){return GI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof va&&i instanceof va||r instanceof Ca&&i instanceof Ca?Zc(r.elements,i.elements,di):r instanceof il&&i instanceof il?di(r.Ee,i.Ee):r instanceof rl&&i instanceof rl}(n.transform,e.transform)}var Sw=class{constructor(e,t){this.version=e,this.transformResults=t}},li=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ol=class{};function Hk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kd(n.key,li.none()):new Ea(n.key,n.data,li.none());{let t=n.data,r=Un.empty(),i=new Bt(Bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hi(n.key,r,new ir(i.toArray()),li.none())}}function sq(n,e,t){n instanceof Ea?function(i,o,s){let a=i.value.clone(),c=PN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof hi?function(i,o,s){if(!dm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(qk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Pd(n,e,t,r){return n instanceof Ea?function(o,s,a,c){if(!dm(o.precondition,s))return a;let u=o.value.clone(),d=ON(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof hi?function(o,s,a,c){if(!dm(o.precondition,s))return a;let u=ON(o.fieldTransforms,c,s),d=s.data;return d.setAll(qk(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return dm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function aq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Uk(r.transform,i||null);o!=null&&(t===null&&(t=Un.empty()),t.set(r.field,o))}return t||null}function SN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zc(r,i,(o,s)=>oq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ea=class extends ol{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},hi=class extends ol{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function PN(n,e,t){let r=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,iq(s,a,t[i]))}return r}function ON(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,rq(o,s,e))}return r}var kd=class extends ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Pw=class extends ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ow=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&sq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Pd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Vk();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=Hk(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,(t,r)=>SN(t,r))&&Zc(this.baseMutations,e.baseMutations,(t,r)=>SN(t,r))}},xw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return J9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Aw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Rw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var It,Fe;function cq(n){switch(n){case k.OK:return le(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return le(15467,{code:n})}}function Wk(n){if(n===void 0)return Zi("GRPC error has no .code"),k.UNKNOWN;switch(n){case It.OK:return k.OK;case It.CANCELLED:return k.CANCELLED;case It.UNKNOWN:return k.UNKNOWN;case It.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case It.INTERNAL:return k.INTERNAL;case It.UNAVAILABLE:return k.UNAVAILABLE;case It.UNAUTHENTICATED:return k.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case It.NOT_FOUND:return k.NOT_FOUND;case It.ALREADY_EXISTS:return k.ALREADY_EXISTS;case It.PERMISSION_DENIED:return k.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case It.ABORTED:return k.ABORTED;case It.OUT_OF_RANGE:return k.OUT_OF_RANGE;case It.UNIMPLEMENTED:return k.UNIMPLEMENTED;case It.DATA_LOSS:return k.DATA_LOSS;default:return le(39323,{code:n})}}(Fe=It||(It={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var xN=null;var lq=new Yi([4294967295,4294967295],0);function AN(n){let e=nk().encode(n),t=new Kb;return t.update(e),new Uint8Array(t.digest())}function RN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yi([t,r],0),new Yi([i,o],0)]}var Nw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ha(`Invalid padding: ${t}`);if(r<0)throw new ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ha(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Yi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Yi.fromNumber(r)));return i.compare(lq)===1&&(i=new Yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=AN(e),[r,i]=RN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=AN(e),[r,i]=RN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ha=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Cm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new ft(Me),to(),Re())}},Fd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Re(),Re(),Re())}};var Yc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Em=class{constructor(e,t){this.targetId=e,this.De=t}},bm=class{constructor(e,t,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wm=class{constructor(){this.ve=0,this.Ce=NN(),this.Fe=ln.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Re(),t=Re(),r=Re();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:le(38017,{changeType:o})}}),new Fd(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=NN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},kw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=to(),this.je=am(),this.Je=am(),this.He=new ft(Me)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(Mw(o))if(r===0){let s=new ae(o.path);this.Xe(t,s,Nr.newNoDocument(s,ve.min()))}else $e(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}xN?.ct(function(d,f,g,_,w){var O,R,V,G,Q,re;let Ue={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},me=f.unchangedNames;return me&&(Ue.bloomFilter={applied:w===0,hashCount:(O=me?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(G=(V=(R=me?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(re=(Q=me?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&re!==void 0?re:0,mightContain:T=>{var b;return(b=_?.mightContain(T))!==null&&b!==void 0&&b}}),Ue}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Xi(r).toUint8Array()}catch(c){if(c instanceof mm)return Qo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Nw(s,i,o)}catch(c){return Qo(c instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&Mw(a.target)){let c=new ae(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Nr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Re();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Cm(e,t,this.He,this.ze,r);return this.ze=to(),this.je=am(),this.Je=am(),this.He=new ft(Me),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new wm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Bt(Me),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Bt(Me),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||J("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function am(){return new ft(ae.comparator)}function NN(){return new ft(ae.comparator)}var uq={asc:"ASCENDING",desc:"DESCENDING"},dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hq={and:"AND",or:"OR"},Fw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Lw(n,e){return n.useProto3Json||Gm(e)?e:{value:e}}function Im(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fq(n,e){return Im(n,e.toTimestamp())}function ui(n){return $e(!!n,49232),ve.fromTimestamp(function(t){let r=Ji(t);return new St(r.seconds,r.nanos)}(n))}function ZI(n,e){return Vw(n,e).canonicalString()}function Vw(n,e){let t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Kk(n){let e=ot.fromString(n);return $e(Xk(e),10190,{key:e.toString()}),e}function jw(n,e){return ZI(n.databaseId,e.path)}function ew(n,e){let t=Kk(e);if(t.get(1)!==n.databaseId.projectId)throw new W(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(Qk(t))}function Yk(n,e){return ZI(n.databaseId,e)}function pq(n){let e=Kk(n);return e.length===4?ot.emptyPath():Qk(e)}function Uw(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qk(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kN(n,e,t){return{name:jw(n,e),fields:t.value.mapValue.fields}}function gq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string",58123),ln.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ln.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?k.UNKNOWN:Wk(u.code);return new W(d,u.message||"")}(s);t=new bm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ew(n,r.document.name),o=ui(r.document.updateTime),s=r.document.createTime?ui(r.document.createTime):ve.min(),a=new Un({mapValue:{fields:r.document.fields}}),c=Nr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Yc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ew(n,r.document),o=r.readTime?ui(r.readTime):ve.min(),s=Nr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Yc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ew(n,r.document),o=r.removedTargetIds||[];t=new Yc([],o,i,null)}else{if(!("filter"in e))return le(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Rw(i,o),a=r.targetId;t=new Em(a,s)}}return t}function mq(n,e){let t;if(e instanceof Ea)t={update:kN(n,e.key,e.value)};else if(e instanceof kd)t={delete:jw(n,e.key)};else if(e instanceof hi)t={update:kN(n,e.key,e.data),updateMask:Mq(e.fieldMask)};else{if(!(e instanceof Pw))return le(16599,{Rt:e.type});t={verify:jw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof rl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof va)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ca)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof il)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw le(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(n,e.precondition)),t}function yq(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?ui(i.updateTime):ui(o);return s.isEqual(ve.min())&&(s=ui(o)),new Sw(s,i.transformResults||[])}(t,e))):[]}function _q(n,e){return{documents:[Yk(n,e.path)]}}function vq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Yk(n,i);let o=function(u){if(u.length!==0)return Jk(kr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Wc(g.field),direction:bq(g.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Lw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function Cq(n){let e=pq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$e(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let g=Zk(f);return g instanceof kr&&Pk(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(g=>function(w){return new _a(Gc(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Gm(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,_=f.values||[];return new tl(_,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,_=f.values||[];return new tl(_,g)}(t.endAt)),G9(e,i,s,o,a,"F",c,u)}function Eq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Gc(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Gc(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Gc(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Gc(t.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(Gc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(r=>Zk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(t.compositeFilter.op))}(n):le(30097,{filter:n})}function bq(n){return uq[n]}function wq(n){return dq[n]}function Iq(n){return hq[n]}function Wc(n){return{fieldPath:n.canonicalString()}}function Gc(n){return Bn.fromServerFormat(n.fieldPath)}function Jk(n){return n instanceof Dt?function(t){if(t.op==="=="){if(bN(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NAN"}};if(EN(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bN(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NOT_NAN"}};if(EN(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(t.field),op:wq(t.op),value:t.value}}}(n):n instanceof kr?function(t){let r=t.getFilters().map(i=>Jk(i));return r.length===1?r[0]:{compositeFilter:{op:Iq(t.op),filters:r}}}(n):le(54877,{filter:n})}function Mq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ld=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Bw=class{constructor(e){this.gt=e}};function Dq(n){let e=Cq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tw(e,e.limit,"L"):e}var Mm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(it(e.integerValue));else if("doubleValue"in e){let r=it(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ad(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ji(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Xi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Dk(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Mk(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):le(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Jc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(it(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ae.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Mm.Ut=new Mm;var $w=class{constructor(){this.Dn=new zw}addToCollectionParentIndex(e,t){return this.Dn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(ya.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},zw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bt(ot.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(ot.comparator)).toArray()}};var kfe=new Uint8Array(0);var FN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eF=41943040,rr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(eF,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);var Vd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var LN="LruGarbageCollector",Tq=1048576;function VN([n,e],[t,r]){let i=Me(n,t);return i===0?Me(e,r):i}var Hw=class{constructor(e){this.Tr=e,this.buffer=new Bt(VN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();VN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},qw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){J(LN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?J(LN,"Ignoring IndexedDB error during garbage collection: ",t):yield ul(t)}yield this.Rr(3e5)}))}},Ww=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return U.resolve($I.ue);let r=new Hw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(FN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Hc()<=Te.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function Sq(n,e){return new Ww(n,e)}var Gw=class{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Kw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Yw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pd(r.mutation,i,ir.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Re()){let i=da();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Md();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Re()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=to(),s=Sd(),a=function(){return Sd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof hi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Pd(d.mutation,u,d.mutation.getFieldMask(),St.now())):s.set(u.key,ir.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new Kw(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Sd(),i=new ft((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||ir.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Re()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=Vk();d.forEach(g=>{if(!o.has(g)){let _=Hk(t.get(g),r.get(g));_!==null&&f.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):U.resolve(da()),a=xd,c=o;return s.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Re())).next(d=>({batchId:a,changes:Lk(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=Md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Md();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,c=>{let u=function(f,g){return new Jo(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Nr.newInvalidDocument(d)))});let a=Md();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Pd(d.mutation,u,ir.empty(),St.now()),Zm(t,u)&&(a=a.insert(c,u))}),a})}};var Qw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return U.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Dq(i.bundledQuery),readTime:ui(i.readTime)}}(t)),U.resolve()}};var Zw=class{constructor(){this.overlays=new ft(ae.comparator),this.kr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let r=da();return U.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),U.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){let i=da(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ft((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=da(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=da(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Aw(t,r));let o=this.kr.get(t);o===void 0&&(o=Re(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Jw=class{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var jd=class{constructor(){this.qr=new Bt(Mt.Qr),this.$r=new Bt(Mt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Mt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Mt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ae(new ot([])),r=new Mt(t,e),i=new Mt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ae(new ot([])),r=new Mt(t,e),i=new Mt(t,e+1),o=Re();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Mt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Mt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ae.comparator(e.key,t.key)||Me(e.Hr,t.Hr)}static Ur(e,t){return Me(e.Hr,t.Hr)||ae.comparator(e.key,t.key)}};var Xw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Bt(Mt.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ow(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,t){return U.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?zI:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Me);return t.forEach(i=>{let o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),U.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ae.isDocumentKey(o)||(o=o.child(""));let s=new Mt(new ae(o),0),a=new Bt(Me);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),U.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return U.forEach(t.mutations,i=>{let o=new Mt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Mt(t,0),i=this.Yr.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var eI=class{constructor(e){this.ni=e,this.docs=function(){return new ft(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(t))}getEntries(e,t){let r=to();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nr.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=to(),s=t.path,a=new ae(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||S9(T9(d),r)<=0||(i.has(d.key)||Zm(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,t,r,i){le(9500)}ri(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tI(this)}getSize(e){return U.resolve(this.size)}},tI=class extends Gw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var nI=class{constructor(e){this.persistence=e,this.ii=new eo(t=>KI(t),YI),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.si=0,this.oi=new jd,this.targetCount=0,this._i=Vd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),U.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Vd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.hr(t),U.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.oi.containsKey(t))}};var Dm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new $I(0),this.ci=!1,this.ci=!0,this.li=new Jw,this.referenceDelegate=e(this),this.hi=new nI(this),this.indexManager=new $w,this.remoteDocumentCache=function(i){return new eI(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Bw(t),this.Ti=new Qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Xw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){J("MemoryPersistence","Starting transaction:",e);let i=new rI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return U.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},rI=class extends hw{constructor(e){super(),this.currentSequenceNumber=e}},iI=class n{constructor(e){this.persistence=e,this.Ai=new jd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw le(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,r=>{let i=ae.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return U.or([()=>U.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Tm=class n{constructor(e,t){this.persistence=e,this.gi=new eo(r=>A9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Sq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return U.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?U.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ve.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),U.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lm(e.data.value)),t}Sr(e,t,r){return U.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var oI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Re(),i=Re();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var sI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return D1()?8:O9(jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sI;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Hc()<=Te.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",qc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Hc()<=Te.DEBUG&&J("QueryEngine","Query:",qc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Hc()<=Te.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",qc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(t))):U.resolve())}ps(e,t){if(DN(t))return U.resolve(null);let r=ci(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Tw(t,null,"F"),r=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Re(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,Tw(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return DN(t)||i.isEqual(ve.min())?U.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?U.resolve(null):(Hc()<=Te.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qc(t)),this.vs(e,s,t,D9(i,xd)).next(a=>a))})}bs(e,t){let r=new Bt(kk(e));return t.forEach((i,o)=>{Zm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Hc()<=Te.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",qc(t)),this.gs.getDocumentsMatchingQuery(e,t,ya.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var JI="LocalStore",Pq=3e8,cI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ft(Me),this.Ms=new eo(o=>KI(o),YI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Oq(n,e,t,r){return new cI(n,e,t,r)}function tF(n,e){return E(this,null,function*(){let t=ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Re();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function xq(n,e){let t=ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),_=U.resolve();return g.forEach(w=>{_=_.next(()=>d.getEntry(c,w)).next(O=>{let R=u.docVersions.get(w);$e(R!==null,48541),O.version.compareTo(R)<0&&(f.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),d.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nF(n){let e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Aq(n,e){let t=ye(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,f)));let _=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(ln.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(O,R,V){return O.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Pq?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,_,d)&&a.push(t.hi.updateTargetData(o,_))});let c=to(),u=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(Rq(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(ve.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function Rq(n,e,t){let r=Re(),i=Re();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=to();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):J(JI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function Nq(n,e){let t=ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kq(n,e){let t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Ld(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function lI(n,e,t){return E(this,null,function*(){let r=ye(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!dl(s))throw s;J(JI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function jN(n,e,t){let r=ye(n),i=ve.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=ye(c),g=f.Ms.get(d);return g!==void 0?U.resolve(f.Fs.get(g)):f.hi.getTargetData(u,d)}(r,s,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:Re())).next(a=>(Fq(r,Y9(e),a),{documents:a,qs:o})))}function Fq(n,e,t){let r=n.xs.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Sm=class{constructor(){this.activeTargetIds=tq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uI=class{constructor(){this.Fo=new Sm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dI=class{xo(e){}shutdown(){}};var UN="ConnectivityMonitor",Pm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){J(UN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){J(UN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cm=null;function hI(){return cm===null?cm=function(){return 268435456+Math.round(2147483648*Math.random())}():cm++,"0x"+cm.toString(16)}var tw="RestConnection",Lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},fI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ym?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=hI(),a=this.Go(e,t.toUriEncodedString());J(tw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=Jr(u);return this.jo(e,a,c,r,d).then(f=>(J(tw,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Qo(tw,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Lq[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var pI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var cn="WebChannelConnection",gI=class extends fI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=hI();return new Promise((a,c)=>{let u=new Yb;u.setWithCredentials(!0),u.listenOnce(Qb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Id.NO_ERROR:let f=u.getResponseJson();J(cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Id.TIMEOUT:J(cn,`RPC '${e}' ${s} timed out`),c(new W(k.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:let g=u.getStatus();if(J(cn,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let O=function(V){let G=V.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(G)>=0?G:k.UNKNOWN}(w.status);c(new W(O,w.message))}else c(new W(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new W(k.UNAVAILABLE,"Connection failed."));break;default:le(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{J(cn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);J(cn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=hI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xb(),a=Jb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");J(cn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c);this.T_(f);let g=!1,_=!1,w=new pI({Ho:R=>{_?J(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(J(cn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),J(cn,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Yo:()=>f.close()}),O=(R,V,G)=>{R.listen(V,Q=>{try{G(Q)}catch(re){setTimeout(()=>{throw re},0)}})};return O(f,zc.EventType.OPEN,()=>{_||(J(cn,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),O(f,zc.EventType.CLOSE,()=>{_||(_=!0,J(cn,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(f))}),O(f,zc.EventType.ERROR,R=>{_||(_=!0,Qo(cn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.__(new W(k.UNAVAILABLE,"The operation could not be completed")))}),O(f,zc.EventType.MESSAGE,R=>{var V;if(!_){let G=R.data[0];$e(!!G,16349);let Q=G,re=Q?.error||((V=Q[0])===null||V===void 0?void 0:V.error);if(re){J(cn,`RPC '${e}' stream ${i} received error:`,re);let Ue=re.status,me=function(I){let S=It[I];if(S!==void 0)return Wk(S)}(Ue),T=re.message;me===void 0&&(me=k.INTERNAL,T="Unknown error status: "+Ue+" with message "+re.message),_=!0,w.__(new W(me,T)),f.close()}else J(cn,`RPC '${e}' stream ${i} received:`,G),w.a_(G)}}),O(a,Zb.STAT_EVENT,R=>{R.stat===om.PROXY?J(cn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===om.NOPROXY&&J(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function nw(){return typeof document<"u"?document:null}function Jm(n){return new Fw(n,!0)}var Om=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var BN="PersistentStream",xm=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Om(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return E(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return E(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return E(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Zi(t.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new W(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>E(this,null,function*(){this.state=0,this.start()}))}G_(e){return J(BN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(J(BN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},mI=class extends xm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=gq(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?ui(s.readTime):ve.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Uw(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Mw(c)?{documents:_q(o,c)}:{query:vq(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Gk(o,s.resumeToken);let u=Lw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=Im(o,s.snapshotVersion.toTimestamp());let u=Lw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Eq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Uw(this.serializer),t.removeTarget=e,this.k_(t)}},yI=class extends xm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=yq(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Uw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>mq(this.serializer,r))};this.k_(t)}};var _I=class{},vI=class extends _I{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new W(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Vw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Vw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},CI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zi(t),this._a=!1):J("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ba="RemoteStore",EI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>E(this,null,function*(){wa(this)&&(J(ba,"Restarting streams for network reachability change."),yield function(c){return E(this,null,function*(){let u=ye(c);u.Ia.add(4),yield Wd(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Xm(u)})}(this))}))}),this.Aa=new CI(r,i)}};function Xm(n){return E(this,null,function*(){if(wa(n))for(let e of n.da)yield e(!0)})}function Wd(n){return E(this,null,function*(){for(let e of n.da)yield e(!1)})}function rF(n,e){let t=ye(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),nM(t)?tM(t):hl(t).x_()&&eM(t,e))}function XI(n,e){let t=ye(n),r=hl(t);t.Ta.delete(e),r.x_()&&iF(t,e),t.Ta.size===0&&(r.x_()?r.B_():wa(t)&&t.Aa.set("Unknown"))}function eM(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(n).H_(e)}function iF(n,e){n.Ra.$e(e),hl(n).Y_(e)}function tM(n){n.Ra=new kw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.Aa.aa()}function nM(n){return wa(n)&&!hl(n).M_()&&n.Ta.size>0}function wa(n){return ye(n).Ia.size===0}function oF(n){n.Ra=void 0}function Vq(n){return E(this,null,function*(){n.Aa.set("Online")})}function jq(n){return E(this,null,function*(){n.Ta.forEach((e,t)=>{eM(n,e)})})}function Uq(n,e){return E(this,null,function*(){oF(n),nM(n)?(n.Aa.la(e),tM(n)):n.Aa.set("Unknown")})}function Bq(n,e,t){return E(this,null,function*(){if(n.Aa.set("Online"),e instanceof bm&&e.state===2&&e.cause)try{yield function(i,o){return E(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){J(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Am(n,r)}else if(e instanceof Yc?n.Ra.Ye(e):e instanceof Em?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ve.min()))try{let r=yield nF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(ln.EMPTY_BYTE_STRING,d.snapshotVersion)),iF(o,c);let f=new Ld(d.target,c,u,d.sequenceNumber);eM(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){J(ba,"Failed to raise snapshot:",r),yield Am(n,r)}})}function Am(n,e,t){return E(this,null,function*(){if(!dl(e))throw e;n.Ia.add(1),yield Wd(n),n.Aa.set("Offline"),t||(t=()=>nF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){J(ba,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Xm(n)}))})}function sF(n,e){return e().catch(t=>Am(n,t,e))}function ey(n){return E(this,null,function*(){let e=ye(n),t=Xo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:zI;for(;$q(e);)try{let i=yield Nq(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,zq(e,i)}catch(i){yield Am(e,i)}aF(e)&&cF(e)})}function $q(n){return wa(n)&&n.Pa.length<10}function zq(n,e){n.Pa.push(e);let t=Xo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function aF(n){return wa(n)&&!Xo(n).M_()&&n.Pa.length>0}function cF(n){Xo(n).start()}function Hq(n){return E(this,null,function*(){Xo(n).na()})}function qq(n){return E(this,null,function*(){let e=Xo(n);for(let t of n.Pa)e.X_(t.mutations)})}function Wq(n,e,t){return E(this,null,function*(){let r=n.Pa.shift(),i=xw.from(r,e,t);yield sF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ey(n)})}function Gq(n,e){return E(this,null,function*(){e&&Xo(n).Z_&&(yield function(r,i){return E(this,null,function*(){if(function(s){return cq(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Xo(r).N_(),yield sF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ey(r)}})}(n,e)),aF(n)&&cF(n)})}function $N(n,e){return E(this,null,function*(){let t=ye(n);t.asyncQueue.verifyOperationInProgress(),J(ba,"RemoteStore received new credentials");let r=wa(t);t.Ia.add(3),yield Wd(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Xm(t)})}function Kq(n,e){return E(this,null,function*(){let t=ye(n);e?(t.Ia.delete(2),yield Xm(t)):e||(t.Ia.add(2),yield Wd(t),t.Aa.set("Unknown"))})}function hl(n){return n.Va||(n.Va=function(t,r,i){let o=ye(t);return o.ia(),new mI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:Vq.bind(null,n),e_:jq.bind(null,n),n_:Uq.bind(null,n),J_:Bq.bind(null,n)}),n.da.push(e=>E(null,null,function*(){e?(n.Va.N_(),nM(n)?tM(n):n.Aa.set("Unknown")):(yield n.Va.stop(),oF(n))}))),n.Va}function Xo(n){return n.ma||(n.ma=function(t,r,i){let o=ye(t);return o.ia(),new yI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Hq.bind(null,n),n_:Gq.bind(null,n),ea:qq.bind(null,n),ta:Wq.bind(null,n)}),n.da.push(e=>E(null,null,function*(){e?(n.ma.N_(),yield ey(n)):(yield n.ma.stop(),n.Pa.length>0&&(J(ba,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var bI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rM(n,e){if(Zi("AsyncQueue",`${e}: ${n}`),dl(n))return new W(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Rm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=Md(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Nm=class{constructor(){this.fa=new ft(ae.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):le(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},sl=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Rm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var wI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},II=class{constructor(){this.queries=zN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ye(t),o=i.queries;i.queries=zN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new W(k.ABORTED,"Firestore shutting down"))}};function zN(){return new eo(n=>Nk(n),Qm)}function iM(n,e){return E(this,null,function*(){let t=ye(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new wI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=rM(s,`Initialization of query '${qc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&sM(t)})}function oM(n,e){return E(this,null,function*(){let t=ye(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Yq(n,e){let t=ye(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&sM(t)}function Qq(n,e,t){let r=ye(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function sM(n){n.Da.forEach(e=>{e.next()})}var MI,HN;(HN=MI||(MI={})).Fa="default",HN.Cache="cache";var Ud=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==MI.Cache}};var km=class{constructor(e){this.key=e}},Fm=class{constructor(e){this.key=e}},DI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Re(),this.mutatedKeys=Re(),this.Xa=kk(e),this.eu=new Rm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Nm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),_=Zm(this.query,f)?f:null,w=!!g&&this.mutatedKeys.has(g.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),R=!1;g&&_?g.data.isEqual(_.data)?w!==O&&(r.track({type:3,doc:_}),R=!0):this.iu(g,_)||(r.track({type:2,doc:_}),R=!0,(c&&this.Xa(_,c)>0||u&&this.Xa(_,u)<0)&&(a=!0)):!g&&_?(r.track({type:0,doc:_}),R=!0):g&&!_&&(r.track({type:1,doc:g}),R=!0,(c||u)&&(a=!0)),R&&(_?(s=s.add(_),o=O?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,f)=>function(_,w){let O=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{At:R})}};return O(_)-O(w)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new sl(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Nm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Re(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Fm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new km(r))}),t}uu(e){this.Ha=e.qs,this.Za=Re();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return sl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},aM="SyncEngine",TI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},SI=class{constructor(e){this.key=e,this.lu=!1}},PI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new eo(a=>Nk(a),Qm),this.Tu=new Map,this.Iu=new Set,this.du=new ft(ae.comparator),this.Eu=new Map,this.Au=new jd,this.Ru={},this.Vu=new Map,this.mu=Vd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Zq(n,e,t=!0){return E(this,null,function*(){let r=pF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield lF(r,e,t,!0),i})}function Jq(n,e){return E(this,null,function*(){let t=pF(n);yield lF(t,e,!0,!1)})}function lF(n,e,t,r){return E(this,null,function*(){let i=yield kq(n.localStore,ci(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Xq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&rF(n.remoteStore,i),a})}function Xq(n,e,t,r,i){return E(this,null,function*(){n.gu=(f,g,_)=>function(O,R,V,G){return E(this,null,function*(){let Q=R.view.nu(V);Q.Ds&&(Q=yield jN(O.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,Q)));let re=G&&G.targetChanges.get(R.targetId),Ue=G&&G.targetMismatches.get(R.targetId)!=null,me=R.view.applyChanges(Q,O.isPrimaryClient,re,Ue);return WN(O,R.targetId,me._u),me.snapshot})}(n,f,g,_);let o=yield jN(n.localStore,e,!0),s=new DI(e,o.qs),a=s.nu(o.documents),c=Fd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);WN(n,t,u._u);let d=new TI(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function e7(n,e,t){return E(this,null,function*(){let r=ye(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Qm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&XI(r.remoteStore,i.targetId),OI(r,i.targetId)}).catch(ul))):(OI(r,i.targetId),yield lI(r.localStore,i.targetId,!0))})}function t7(n,e){return E(this,null,function*(){let t=ye(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),XI(t.remoteStore,r.targetId))})}function n7(n,e,t){return E(this,null,function*(){let r=l7(n);try{let i=yield function(s,a){let c=ye(s),u=St.now(),d=a.reduce((_,w)=>_.add(w.key),Re()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=to(),O=Re();return c.Os.getEntries(_,d).next(R=>{w=R,w.forEach((V,G)=>{G.isValidDocument()||(O=O.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,w)).next(R=>{f=R;let V=[];for(let G of a){let Q=aq(G,f.get(G.key).overlayedDocument);Q!=null&&V.push(new hi(G.key,Q,Tk(Q.value.mapValue),li.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,V,a)}).next(R=>{g=R;let V=R.applyToLocalDocumentSet(f,O);return c.documentOverlayCache.saveOverlays(_,R.batchId,V)})}).then(()=>({batchId:g.batchId,changes:Lk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new ft(Me)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Gd(r,i.changes),yield ey(r.remoteStore)}catch(i){let o=rM(i,"Failed to persist write");t.reject(o)}})}function uF(n,e){return E(this,null,function*(){let t=ye(n);try{let r=yield Aq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?$e(s.lu,14607):i.removedDocuments.size>0&&($e(s.lu,42227),s.lu=!1))}),yield Gd(t,r,e)}catch(r){yield ul(r)}})}function qN(n,e,t){let r=ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ye(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.wa)g.va(a)&&(u=!0)}),u&&sM(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function r7(n,e,t){return E(this,null,function*(){let r=ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ft(ae.comparator);s=s.insert(o,Nr.newNoDocument(o,ve.min()));let a=Re().add(o),c=new Cm(ve.min(),new Map,new ft(Me),s,a);yield uF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),cM(r)}else yield lI(r.localStore,e,!1).then(()=>OI(r,e,t)).catch(ul)})}function i7(n,e){return E(this,null,function*(){let t=ye(n),r=e.batch.batchId;try{let i=yield xq(t.localStore,e);hF(t,r,null),dF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gd(t,i)}catch(i){yield ul(i)}})}function o7(n,e,t){return E(this,null,function*(){let r=ye(n);try{let i=yield function(s,a){let c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>($e(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);hF(r,e,t),dF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gd(r,i)}catch(i){yield ul(i)}})}function dF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function hF(n,e,t){let r=ye(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function OI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||fF(n,r)})}function fF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(XI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),cM(n))}function WN(n,e,t){for(let r of t)r instanceof km?(n.Au.addReference(r.key,e),s7(n,r)):r instanceof Fm?(J(aM,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||fF(n,r.key)):le(19791,{yu:r})}function s7(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(J(aM,"New document in limbo: "+t),n.Iu.add(r),cM(n))}function cM(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ae(ot.fromString(e)),r=n.mu.next();n.Eu.set(r,new SI(t)),n.du=n.du.insert(t,r),rF(n.remoteStore,new Ld(ci(Ym(t.path)),r,"TargetPurposeLimboResolution",$I.ue))}}function Gd(n,e,t){return E(this,null,function*(){let r=ye(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=oI.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return E(this,null,function*(){let d=ye(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,g=>U.forEach(g.Is,_=>d.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>U.forEach(g.ds,_=>d.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!dl(f))throw f;J(JI,"Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let _=d.Fs.get(g),w=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(g,O)}}})}(r.localStore,o))})}function a7(n,e){return E(this,null,function*(){let t=ye(n);if(!t.currentUser.isEqual(e)){J(aM,"User change. New user:",e.toKey());let r=yield tF(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new W(k.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gd(t,r.Bs)}})}function c7(n,e){let t=ye(n),r=t.Eu.get(e);if(r&&r.lu)return Re().add(r.key);{let i=Re(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function pF(n){let e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r7.bind(null,e),e.hu.J_=Yq.bind(null,e.eventManager),e.hu.pu=Qq.bind(null,e.eventManager),e}function l7(n){let e=ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o7.bind(null,e),e}var gF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=Jm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Oq(this.persistence,new aI,t.initialUser,this.serializer)}Du(t){return new Dm(iI.Vi,this.serializer)}bu(t){return new uI}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),xI=class extends gF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof Tm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new qw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new Dm(r=>Tm.Vi(r,t),this.serializer)}};var u7=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=a7.bind(null,this.syncEngine),yield Kq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new II}()}createDatastore(t){let r=Jm(t.databaseInfo.databaseId),i=function(s){return new gI(s)}(t.databaseInfo);return function(s,a,c,u){return new vI(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new EI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>qN(this.syncEngine,r,0),function(){return Pm.C()?new Pm:new dI}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let g=new PI(o,s,a,c,u,d);return f&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(o){return E(this,null,function*(){let s=ye(o);J(ba,"RemoteStore shutting down."),s.Ia.add(5),yield Wd(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Bd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var es="FirestoreClient",AI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=Od.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){J(es,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(J(es,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=rM(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function rw(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),J(es,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(null,null,function*(){r.isEqual(i)||(yield tF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Qo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{J("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Qo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function GN(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield d7(n);J(es,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$N(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$N(e.remoteStore,i)),n._onlineComponents=e})}function d7(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){J(es,"Using user provided OfflineComponentProvider");try{yield rw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Qo("Error using user provided cache. Falling back to memory cache: "+t),yield rw(n,new gF)}}else J(es,"Using default OfflineComponentProvider"),yield rw(n,new xI(void 0));return n._offlineComponents})}function mF(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(J(es,"Using user provided OnlineComponentProvider"),yield GN(n,n._uninitializedComponentsProvider._online)):(J(es,"Using default OnlineComponentProvider"),yield GN(n,new u7))),n._onlineComponents})}function h7(n){return mF(n).then(e=>e.syncEngine)}function Lm(n){return E(this,null,function*(){let e=yield mF(n),t=e.eventManager;return t.onListen=Zq.bind(null,e.syncEngine),t.onUnlisten=e7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Jq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=t7.bind(null,e.syncEngine),t})}function f7(n,e,t={}){let r=new Rr;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(o,s,a,c,u){let d=new Bd({next:g=>{d.Ou(),s.enqueueAndForget(()=>oM(o,f));let _=g.docs.has(a);!_&&g.fromCache?u.reject(new W(k.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?u.reject(new W(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Ud(Ym(a.path),d,{includeMetadataChanges:!0,ka:!0});return iM(o,f)}(yield Lm(n),n.asyncQueue,e,t,r)})),r.promise}function p7(n,e,t={}){let r=new Rr;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(o,s,a,c,u){let d=new Bd({next:g=>{d.Ou(),s.enqueueAndForget(()=>oM(o,f)),g.fromCache&&c.source==="server"?u.reject(new W(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new Ud(a,d,{includeMetadataChanges:!0,ka:!0});return iM(o,f)}(yield Lm(n),n.asyncQueue,e,t,r)})),r.promise}function yF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var KN=new Map;var _F="firestore.googleapis.com",YN=!0,Vm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_F,this.ssl=YN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tq)throw new W(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},al=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iw;switch(r.type){case"firstParty":return new cw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=KN.get(t);r&&(J("ComponentProvider","Removing Datastore"),KN.delete(t),r.terminate())}(this),Promise.resolve()}};function vF(n,e,t,r={}){var i;n=On(n,al);let o=Jr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Fc(`https://${c}`),Lc("Firestore",!0)),s.host!==_F&&s.host!==c&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Xr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Ut.MOCK_USER;else{d=Rg(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new W(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ut(g)}n._authCredentials=new ow(new hm(d,f))}}var ts=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},At=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(qd(t,n._jsonSchema))return new n(e,r||null,new ae(ot.fromString(t.referencePath)))}};At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Tt("string",At._jsonSchemaVersion),referencePath:Tt("string")};var Wo=class n extends ts{constructor(e,t,r){super(e,t,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function fi(n,e,...t){if(n=nt(n),rk("collection","path",e),n instanceof al){let r=ot.fromString(e,...t);return fN(r),new Wo(n,null,r)}{if(!(n instanceof At||n instanceof Wo))throw new W(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return fN(r),new Wo(n.firestore,null,r)}}function no(n,e,...t){if(n=nt(n),arguments.length===1&&(e=Od.newId()),rk("doc","path",e),n instanceof al){let r=ot.fromString(e,...t);return hN(r),new At(n,null,new ae(r))}{if(!(n instanceof At||n instanceof Wo))throw new W(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return hN(r),new At(n.firestore,n instanceof Wo?n.converter:null,new ae(r))}}var QN="AsyncQueue",jm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Om(this,"async_queue_retry"),this.oc=()=>{let r=nw();r&&J(QN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=nw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=nw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Rr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return E(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dl(e))throw e;J(QN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Zi("INTERNAL UNHANDLED ERROR: ",ZN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=bI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&le(47125,{hc:ZN(this.tc)})}verifyOperationInProgress(){}Pc(){return E(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function ZN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function JN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Fr=class extends al{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jm(e),this._firestoreClient=void 0,yield e}})}};function CF(n,e){let t=typeof n=="object"?n:zi(),r=typeof n=="string"?n:e||ym,i=Vo(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Ag("firestore");o&&vF(i,...o)}return i}function ty(n){if(n._terminated)throw new W(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||g7(n),n._firestoreClient}function g7(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new fw(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Go=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ln.fromBase64String(e))}catch(t){throw new W(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qd(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Go._jsonSchemaVersion="firestore/bytes/1.0",Go._jsonSchema={type:Tt("string",Go._jsonSchemaVersion),bytes:Tt("string")};var cl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $d=class{constructor(e){this._methodName=e}};var Ko=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(qd(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ko._jsonSchemaVersion="firestore/geoPoint/1.0",Ko._jsonSchema={type:Tt("string",Ko._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};var Yo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qd(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new W(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Yo._jsonSchemaVersion="firestore/vectorValue/1.0",Yo._jsonSchema={type:Tt("string",Yo._jsonSchemaVersion),vectorValues:Tt("object")};var m7=/^__.*__$/,RI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ea(e,this.data,t,this.fieldTransforms)}},Um=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new hi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function EF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ec:n})}}var NI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return $m(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(EF(this.Ec)&&m7.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},kI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jm(e)}Dc(e,t,r,i=!1){return new NI({Ec:e,methodName:t,bc:r,path:Bn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ny(n){let e=n._freezeSettings(),t=Jm(n._databaseId);return new kI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bF(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);lM("Data must be an object, but it was:",s,r);let a=wF(r,s),c,u;if(o.merge)c=new ir(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=FI(e,f,t);if(!s.contains(g))throw new W(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);MF(d,g)||d.push(g)}c=new ir(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new RI(new Un(a),c,u)}var Bm=class n extends $d{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function y7(n,e,t,r){let i=n.Dc(1,e,t);lM("Data must be an object, but it was:",i,r);let o=[],s=Un.empty();ns(r,(c,u)=>{let d=uM(e,c,t);u=nt(u);let f=i.gc(d);if(u instanceof Bm)o.push(d);else{let g=Kd(u,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new ir(o);return new Um(s,a,i.fieldTransforms)}function _7(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[FI(e,r,t)],c=[i];if(o.length%2!=0)throw new W(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(FI(e,o[g])),c.push(o[g+1]);let u=[],d=Un.empty();for(let g=a.length-1;g>=0;--g)if(!MF(u,a[g])){let _=a[g],w=c[g];w=nt(w);let O=s.gc(_);if(w instanceof Bm)u.push(_);else{let R=Kd(w,O);R!=null&&(u.push(_),d.set(_,R))}}let f=new ir(u);return new Um(d,f,s.fieldTransforms)}function v7(n,e,t,r=!1){return Kd(t,n.Dc(r?4:3,e))}function Kd(n,e){if(IF(n=nt(n)))return lM("Unsupported field value:",e,n),wF(n,e);if(n instanceof $d)return function(r,i){if(!EF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Kd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=St.fromDate(r);return{timestampValue:Im(i.serializer,o)}}if(r instanceof St){let o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(i.serializer,o)}}if(r instanceof Ko)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:Gk(i.serializer,r._byteString)};if(r instanceof At){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ZI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yo)return function(s,a){return{mapValue:{fields:{[qI]:{stringValue:WI},[Jc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return QI(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Wm(r)}`)}(n,e)}function wF(n,e){let t={};return vk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(n,(r,i)=>{let o=Kd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function IF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Ko||n instanceof Go||n instanceof At||n instanceof $d||n instanceof Yo)}function lM(n,e,t){if(!IF(t)||!ik(t)){let r=Wm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function FI(n,e,t){if((e=nt(e))instanceof cl)return e._internalPath;if(typeof e=="string")return uM(n,e);throw $m("Field path arguments must be of type string or ",n,!1,void 0,t)}var C7=new RegExp("[~\\*/\\[\\]]");function uM(n,e,t){if(e.search(C7)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cl(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $m(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new W(k.INVALID_ARGUMENT,a+n+c)}function MF(n,e){return n.some(t=>t.isEqual(e))}var zm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ry("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},LI=class extends zm{data(){return super.data()}};function ry(n,e){return typeof e=="string"?uM(n,e):e instanceof cl?e._internalPath:e._delegate._internalPath}function DF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zd=class{},Hm=class extends zd{};function Ia(n,e,...t){let r=[];e instanceof zd&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof VI).length,a=o.filter(c=>c instanceof qm).length;if(s>1||s>0&&a>0)throw new W(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var qm=class n extends Hm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return TF(e._query,t),new ts(e.firestore,e.converter,Dw(e._query,t))}_parse(e){let t=ny(e.firestore);return function(o,s,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new W(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ek(f,d);let w=[];for(let O of f)w.push(XN(c,o,O));g={arrayValue:{values:w}}}else g=XN(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ek(f,d),g=v7(a,s,f,d==="in"||d==="not-in");return Dt.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Ma(n,e,t){let r=e,i=ry("where",n);return qm._create(i,r,t)}var VI=class n extends zd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:kr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)TF(s,c),s=Dw(s,c)}(e._query,t),new ts(e.firestore,e.converter,Dw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var jI=class n extends Hm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new W(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _a(o,s)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Jo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Yd(n,e="asc"){let t=e,r=ry("orderBy",n);return jI._create(r,t)}function XN(n,e,t){if(typeof(t=nt(t))=="string"){if(t==="")throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rk(e)&&t.indexOf("/")!==-1)throw new W(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ot.fromString(t));if(!ae.isDocumentKey(r))throw new W(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CN(n,new ae(r))}if(t instanceof At)return CN(n,t._key);throw new W(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wm(t)}.`)}function ek(n,e){if(!Array.isArray(n)||n.length===0)throw new W(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new W(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var UI=class{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ns(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Jc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>it(s.doubleValue));return new Yo(o)}convertGeoPoint(e){return new Ko(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Km(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){let t=Ji(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ot.fromString(e);$e(Xk(r),9688,{name:e});let i=new _m(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(t)||Zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function SF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var fa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pa=class n extends zm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Tt("string",pa._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};var Qc=class extends pa{data(e={}){return super.data(e)}},ga=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qc(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Qc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Qc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:E7(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Od.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function E7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:n})}}function Da(n){n=On(n,At);let e=On(n.firestore,Fr);return f7(ty(e),n._key).then(t=>PF(e,n,t))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Tt("string",ga._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};var Hd=class extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}};function fl(n){n=On(n,ts);let e=On(n.firestore,Fr),t=ty(e),r=new Hd(e);return DF(n._query),p7(t,n._query).then(i=>new ga(e,r,n,i))}function iy(n,e,t){n=On(n,At);let r=On(n.firestore,Fr),i=SF(n.converter,e,t);return ly(r,[bF(ny(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,li.none())])}function oy(n,e,t,...r){n=On(n,At);let i=On(n.firestore,Fr),o=ny(i),s;return s=typeof(e=nt(e))=="string"||e instanceof cl?_7(o,"updateDoc",n._key,e,t,r):y7(o,"updateDoc",n._key,e),ly(i,[s.toMutation(n._key,li.exists(!0))])}function sy(n){return ly(On(n.firestore,Fr),[new kd(n._key,li.none())])}function ay(n,e){let t=On(n.firestore,Fr),r=no(n),i=SF(n.converter,e);return ly(t,[bF(ny(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,li.exists(!1))]).then(()=>r)}function cy(n,...e){var t,r,i;n=nt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||JN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(JN(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof At)u=On(n.firestore,Fr),d=Ym(n._key.path),c={next:f=>{e[s]&&e[s](PF(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=On(n,ts);u=On(f.firestore,Fr),d=f._query;let g=new Hd(u);c={next:_=>{e[s]&&e[s](new ga(u,g,f,_))},error:e[s+1],complete:e[s+2]},DF(n._query)}return function(g,_,w,O){let R=new Bd(O),V=new Ud(_,R,w);return g.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return iM(yield Lm(g),V)})),()=>{R.Ou(),g.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return oM(yield Lm(g),V)}))}}(ty(u),d,a,c)}function ly(n,e){return function(r,i){let o=new Rr;return r.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return n7(yield h7(r),i,o)})),o.promise}(ty(n),e)}function PF(n,e,t){let r=t.docs.get(e._key),i=new Hd(n);return new pa(n,i,e._key,r,new fa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ll=i})(ni),jn(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Fr(new sw(r.getProvider("auth-internal")),new lw(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new W(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _m(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ke(cN,lN,e),Ke(cN,lN,"esm2017")})();var Ta=class{constructor(e){return e}},OF="firestore",dM=class{constructor(){return jo(OF)}};var hM=new Z("angularfire2.firestore-instances");function b7(n,e){let t=ia(OF,n,e);return t&&new Ta(t)}function w7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ta(r)}}var I7={provide:dM,deps:[[new bt,hM]]},M7={provide:Ta,useFactory:b7,deps:[[new bt,hM],xr]};function xF(n,...e){return Ke("angularfire",ri.full,"fst"),kt([M7,I7,{provide:hM,useFactory:w7(n),multi:!0,deps:[Oe,rt,ii,Hi,[new bt,ua],[new bt,Bo],...e]}])}var AF=Pn(CF,!0);var VF="firebasestorage.googleapis.com",D7="storageBucket",T7=2*60*1e3,S7=10*60*1e3;var pi=class n extends vn{constructor(e,t,r=0){super(fM(e),`Firebase Storage: ${t} (${fM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},io=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(io||{});function fM(n){return"storage/"+n}function P7(){let n="An unknown error occurred, please check the error payload for server response.";return new pi(io.UNKNOWN,n)}function O7(){return new pi(io.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x7(){return new pi(io.CANCELED,"User canceled the upload/download.")}function A7(n){return new pi(io.INVALID_URL,"Invalid URL '"+n+"'.")}function R7(n){return new pi(io.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function RF(n){return new pi(io.INVALID_ARGUMENT,n)}function jF(){return new pi(io.APP_DELETED,"The Firebase app was deleted.")}function N7(n){return new pi(io.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ro=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw R7(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(re){re.path_=decodeURIComponent(re.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},O=t===VF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",V=new RegExp(`^https?://${O}/${i}/${R}`,"i"),Q=[{regex:a,indices:c,postModify:o},{regex:_,indices:w,postModify:u},{regex:V,indices:{bucket:1,path:2},postModify:u}];for(let re=0;re<Q.length;re++){let Ue=Q[re],me=Ue.regex.exec(e);if(me){let T=me[Ue.indices.bucket],b=me[Ue.indices.path];b||(b=""),r=new n(T,b),Ue.postModify(r);break}}if(r==null)throw A7(e);return r}},pM=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function k7(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...R){u||(u=!0,e.apply(null,R))}function f(R){i=setTimeout(()=>{i=null,n(_,c())},R)}function g(){o&&clearTimeout(o)}function _(R,...V){if(u){g();return}if(R){g(),d.call(null,R,...V);return}if(c()||s){g(),d.call(null,R,...V);return}r<64&&(r*=2);let Q;a===1?(a=2,Q=0):Q=(r+Math.random())*1e3,f(Q)}let w=!1;function O(R){w||(w=!0,g(),!u&&(i!==null?(R||(a=2),clearTimeout(i),f(0)):R||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,O(!0)},t),O}function F7(n){n(!1)}function L7(n){return n!==void 0}function NF(n,e,t,r){if(r<e)throw RF(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw RF(`Invalid value for '${n}'. Expected ${t} or less.`)}function V7(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var gM=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(gM||{});function j7(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var mM=class{constructor(e,t,r,i,o,s,a,c,u,d,f,g=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,O)=>{this.resolve_=w,this.reject_=O,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new pl(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===gM.NO_ERROR,c=o.getStatus();if(!a||j7(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===gM.ABORT;r(!1,new pl(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new pl(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());L7(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=P7();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?jF():x7();s(c)}else{let c=O7();s(c)}};this.canceled_?t(!1,new pl(!1,null,!0)):this.backoffId_=k7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},pl=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function U7(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function B7(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $7(n,e){e&&(n["X-Firebase-GMPID"]=e)}function z7(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function H7(n,e,t,r,i,o,s=!0,a=!1){let c=V7(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return $7(d,e),U7(d,t),B7(d,o),z7(d,r),new mM(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function q7(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function W7(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var zpe=256*1024;var yM=class n{constructor(e,t){this._service=e,t instanceof ro?this._location=t:this._location=ro.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ro(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W7(this._location.path)}get storage(){return this._service}get parent(){let e=q7(this._location.path);if(e===null)return null;let t=new ro(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw N7(e)}};function kF(n,e){let t=e?.[D7];return t==null?null:ro.makeFromBucketSpec(t,n)}function G7(n,e,t,r={}){n.host=`${e}:${t}`;let i=Jr(e);i&&(Fc(`https://${n.host}/b`),Lc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Rg(o,n.app.options.projectId))}var _M=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=VF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T7,this._maxUploadRetryTime=S7,this._requests=new Set,i!=null?this._bucket=ro.makeFromBucketSpec(i,this._host):this._bucket=kF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ro.makeFromBucketSpec(this._url,e):this._bucket=kF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yM(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new pM(jF());{let s=H7(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return E(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},FF="@firebase/storage",LF="0.13.14";var UF="storage";function BF(n=zi(),e){n=nt(n);let r=Vo(n,UF).getImmediate({identifier:e}),i=Ag("storage");return i&&$F(r,...i),r}function $F(n,e,t,r={}){G7(n,e,t,r)}function K7(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new _M(t,r,i,e,ni)}function Y7(){jn(new Qt(UF,K7,"PUBLIC").setMultipleInstances(!0)),Ke(FF,LF,""),Ke(FF,LF,"esm2017")}Y7();var Qd=class{constructor(e){return e}},zF="storage",vM=class{constructor(){return jo(zF)}};var CM=new Z("angularfire2.storage-instances");function Q7(n,e){let t=ia(zF,n,e);return t&&new Qd(t)}function Z7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Qd(r)}}var J7={provide:vM,deps:[[new bt,CM]]},X7={provide:Qd,useFactory:Q7,deps:[[new bt,CM],xr]};function HF(n,...e){return Ke("angularfire",ri.full,"gcs"),kt([X7,J7,{provide:CM,useFactory:Z7(n),multi:!0,deps:[Oe,rt,ii,Hi,[new bt,ua],[new bt,Bo],...e]}])}var qF=Pn(BF,!0);var tL=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)($(vr),$(gn))};static \u0275dir=Ge({type:n})}return n})(),IM=(()=>{class n extends tL{static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275dir=Ge({type:n,features:[wn]})}return n})(),yy=new Z("");var eW={provide:yy,useExisting:Nn(()=>or),multi:!0};function tW(){let n=er()?er().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var nW=new Z(""),or=(()=>{class n extends tL{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!tW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)($(vr),$(gn),$(nW,8))};static \u0275dir=Ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Wr([eW]),wn]})}return n})();function rW(n){return n==null||MM(n)===0}function MM(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var rh=new Z(""),nL=new Z("");function iW(n){return rW(n.value)?{required:!0}:null}function oW(n){return e=>{let t=e.value?.length??MM(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function sW(n){return e=>{let t=e.value?.length??MM(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function WF(n){return null}function rL(n){return n!=null}function iL(n){return ki(n)?at(n):n}function oL(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function sL(n,e){return e.map(t=>t(n))}function aW(n){return!n.validate}function aL(n){return n.map(e=>aW(e)?e:t=>e.validate(t))}function cW(n){if(!n)return null;let e=n.filter(rL);return e.length==0?null:function(t){return oL(sL(t,e))}}function DM(n){return n!=null?cW(aL(n)):null}function lW(n){if(!n)return null;let e=n.filter(rL);return e.length==0?null:function(t){let r=sL(t,e).map(iL);return b_(r).pipe(pe(oL))}}function TM(n){return n!=null?lW(aL(n)):null}function GF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uW(n){return n._rawValidators}function dW(n){return n._rawAsyncValidators}function EM(n){return n?Array.isArray(n)?n:[n]:[]}function dy(n,e){return Array.isArray(n)?n.includes(e):n===e}function KF(n,e){let t=EM(e);return EM(n).forEach(i=>{dy(t,i)||t.push(i)}),t}function YF(n,e){return EM(e).filter(t=>!dy(n,t))}var hy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},yl=class extends hy{name;get formDirective(){return null}get path(){return null}},nh=class extends hy{_parent=null;name=null;valueAccessor=null},fy=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Age=ce(j({},hW),{"[class.ng-submitted]":"isSubmitted"}),sr=(()=>{class n extends fy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)($(nh,2))};static \u0275dir=Ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ft("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[wn]})}return n})(),is=(()=>{class n extends fy{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)($(yl,10))};static \u0275dir=Ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ft("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[wn]})}return n})();var Zd="VALID",uy="INVALID",gl="PENDING",Jd="DISABLED",rs=class{},py=class extends rs{value;source;constructor(e,t){super(),this.value=e,this.source=t}},eh=class extends rs{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},th=class extends rs{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ml=class extends rs{status;source;constructor(e,t){super(),this.status=e,this.source=t}},bM=class extends rs{source;constructor(e){super(),this.source=e}},wM=class extends rs{source;constructor(e){super(),this.source=e}};function cL(n){return(_y(n)?n.validators:n)||null}function fW(n){return Array.isArray(n)?DM(n):n||null}function lL(n,e){return(_y(e)?e.asyncValidators:n)||null}function pW(n){return Array.isArray(n)?TM(n):n||null}function _y(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function mW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var gy=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mn(this.statusReactive)}set status(e){Mn(()=>this.statusReactive.set(e))}_status=fc(()=>this.statusReactive());statusReactive=$r(void 0);get valid(){return this.status===Zd}get invalid(){return this.status===uy}get pending(){return this.status==gl}get disabled(){return this.status===Jd}get enabled(){return this.status!==Jd}errors;get pristine(){return Mn(this.pristineReactive)}set pristine(e){Mn(()=>this.pristineReactive.set(e))}_pristine=fc(()=>this.pristineReactive());pristineReactive=$r(!0);get dirty(){return!this.pristine}get touched(){return Mn(this.touchedReactive)}set touched(e){Mn(()=>this.touchedReactive.set(e))}_touched=fc(()=>this.touchedReactive());touchedReactive=$r(!1);get untouched(){return!this.touched}_events=new tt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YF(e,this._rawAsyncValidators))}hasValidator(e){return dy(this._rawValidators,e)}hasAsyncValidator(e){return dy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new th(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new th(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new eh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new eh(!0,r))}markAsPending(e={}){this.status=gl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jd,this.errors=null,this._forEachChild(i=>{i.disable(ce(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new py(this.value,r)),this._events.next(new ml(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zd,this._forEachChild(r=>{r.enable(ce(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zd||this.status===gl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new py(this.value,t)),this._events.next(new ml(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jd:Zd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=gl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=iL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ml(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Jd:this.errors?uy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gl)?gl:this._anyControlsHaveStatus(uy)?uy:Zd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new eh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new th(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_y(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pW(this._rawAsyncValidators)}},my=class extends gy{constructor(e,t,r){super(cL(t),lL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mW(this,!0,e),Object.keys(e).forEach(r=>{gW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var SM=new Z("",{providedIn:"root",factory:()=>PM}),PM="always";function yW(n,e){return[...e.path,n]}function uL(n,e,t=PM){dL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),vW(n,e),EW(n,e),CW(n,e),_W(n,e)}function QF(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _W(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function dL(n,e){let t=uW(n);e.validator!==null?n.setValidators(GF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=dW(n);e.asyncValidator!==null?n.setAsyncValidators(GF(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();QF(e._rawValidators,i),QF(e._rawAsyncValidators,i)}function vW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hL(n,e)})}function CW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hL(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function bW(n,e){n==null,dL(n,e)}function wW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function IW(n){return Object.getPrototypeOf(n.constructor)===IM}function MW(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function DW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===or?t=o:IW(o)?r=o:i=o}),i||r||t||null}var TW={provide:yl,useExisting:Nn(()=>oo)},Xd=Promise.resolve(),oo=(()=>{class n extends yl{callSetDisabledState;get submitted(){return Mn(this.submittedReactive)}_submitted=fc(()=>this.submittedReactive());submittedReactive=$r(!1);_directives=new Set;form;ngSubmit=new gt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new my({},DM(t),TM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),uL(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xd.then(()=>{let r=this._findContainer(t.path),i=new my({});bW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),MW(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new bM(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new wM(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)($(rh,10),$(nL,10),$(SM,8))};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wr([TW]),wn]})}return n})();function ZF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var SW=class extends gy{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(cL(t),lL(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_y(t)&&(t.nonNullable||t.initialValueIsDefault)&&(JF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var PW={provide:nh,useExisting:Nn(()=>$n)},XF=Promise.resolve(),$n=(()=>{class n extends nh{_changeDetectorRef;callSetDisabledState;control=new SW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new gt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=DW(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wW(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){XF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zs(r);XF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)($(yl,9),$(rh,10),$(nL,10),$(yy,10),$(Fi,8),$(SM,8))};static \u0275dir=Ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Wr([PW]),wn,qr]})}return n})();var os=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var OW={provide:yy,useExisting:Nn(()=>ss),multi:!0};function fL(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function xW(n){return n.split(":")[0]}var ss=(()=>{class n extends IM{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=F(Jn).injector;appRefDestroyRef=this.appRefInjector.get(Zn);destroyRef=F(Zn);cdr=F(Fi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,mp({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=fL(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=xW(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Wr([OW]),wn]})}return n})(),_l=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(fL(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)($(gn),$(vr),$(ss,9))};static \u0275dir=Ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),AW={provide:yy,useExisting:Nn(()=>pL),multi:!0};function eL(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function RW(n){return n.split(":")[0]}var pL=(()=>{class n extends IM{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=RW(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Wr([AW]),wn]})}return n})(),vl=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(eL(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eL(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)($(gn),$(vr),$(pL,9))};static \u0275dir=Ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function gL(n){return typeof n=="number"?n:parseInt(n,10)}var OM=(()=>{class n{_validator=WF;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):WF,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,features:[qr]})}return n})();var NW={provide:rh,useExisting:Nn(()=>so),multi:!0};var so=(()=>{class n extends OM{required;inputName="required";normalizeInput=zs;createValidator=t=>iW;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Oo("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Wr([NW]),wn]})}return n})();var kW={provide:rh,useExisting:Nn(()=>xM),multi:!0},xM=(()=>{class n extends OM{minlength;inputName="minlength";normalizeInput=t=>gL(t);createValidator=t=>oW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Oo("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Wr([kW]),wn]})}return n})(),FW={provide:rh,useExisting:Nn(()=>AM),multi:!0},AM=(()=>{class n extends OM{maxlength;inputName="maxlength";normalizeInput=t=>gL(t);createValidator=t=>sW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=_r(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Oo("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Wr([FW]),wn]})}return n})();var LW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cr({type:n});static \u0275inj=qn({})}return n})();var ar=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:SM,useValue:t.callSetDisabledState??PM}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cr({type:n});static \u0275inj=qn({imports:[LW]})}return n})();var cr=class n{constructor(e){this.auth=e;nN(this.auth,t=>{console.log("Auth state changed:",t?`User: ${t.email}`:"No user"),this.currentUserSubject.next(t)})}currentUserSubject=new st(void 0);currentUser$=this.currentUserSubject.asObservable();getCurrentUser(){let e=this.currentUserSubject.value;return e===void 0?null:e}getCurrentUserId(){let e=this.getCurrentUser();return e?e.uid:null}isAuthenticated(){return this.getCurrentUser()!==null}register(e,t,r){return E(this,null,function*(){try{let i=yield eN(this.auth,e,t);return r&&i.user&&(yield oN(i.user,{displayName:r})),console.log("User registered successfully:",i.user.email),i.user}catch(i){throw console.error("Registration error:",i),i}})}signIn(e,t){return E(this,null,function*(){try{let r=yield rN(this.auth,e,t);return console.log("User signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Sign in error:",r),r}})}signOut(){return E(this,null,function*(){try{yield iN(this.auth),console.log("User signed out successfully")}catch(e){throw console.error("Sign out error:",e),e}})}getUserProfile(){let e=this.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,createdAt:new Date(e.metadata.creationTime||Date.now())}:null}static \u0275fac=function(t){return new(t||n)(ne(la))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var xn=class n{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{t?this.loadData():(this.expensesSubject.next([]),this.categoriesSubject.next([]),this.userSettingsSubject.next({}))})}firestore=F(Ta);expensesSubject=new st([]);categoriesSubject=new st([]);userSettingsSubject=new st({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();loadData(){return E(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return E(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return this.expensesSubject.next([]),[];let t=fi(this.firestore,"expenses"),r=Ia(t,Ma("userId","==",e),Yd("date","desc")),i=yield fl(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),this.expensesSubject.next(o),o}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return E(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=fi(this.firestore,"expenses"),i=ce(j({},e),{userId:t}),o=yield ay(r,i);return yield this.loadExpenses(),o.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return E(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=no(this.firestore,"expenses",e.id);if((yield Da(i)).exists()){let r=e,{id:s}=r,a=ds(r,["id"]);yield oy(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=ds(t,["id"]);yield iy(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return E(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=no(this.firestore,"expenses",e);if(!(yield Da(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield sy(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return E(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=ds(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return E(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return console.log("No user authenticated, returning empty categories"),this.categoriesSubject.next([]),[];let t=fi(this.firestore,"categories"),r=Ia(t,Ma("userId","==",e)),i=yield fl(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),this.categoriesSubject.next(o),o}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return E(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=fi(this.firestore,"categories"),i=ce(j({},e),{userId:t}),o=yield ay(r,i);return yield this.loadCategories(),o.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return E(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=no(this.firestore,"categories",e.id);if((yield Da(r)).exists()){let t=e,{id:o}=t,s=ds(t,["id"]);yield oy(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return E(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=no(this.firestore,"categories",e),r=yield Da(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield sy(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return E(this,null,function*(){try{let e=no(this.firestore,"userSettings","default"),t=yield Da(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return E(this,null,function*(){try{let t=no(this.firestore,"userSettings","default");yield iy(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=fi(this.firestore,"expenses"),t=Ia(e,Yd("date","desc"));return new ue(r=>cy(t,o=>{let s=[];o.forEach(a=>{s.push(j({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=fi(this.firestore,"categories");return new ue(t=>cy(e,i=>{let o=[];i.forEach(s=>{o.push(j({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return E(this,null,function*(){try{let t=fi(this.firestore,"expenses"),r=Ia(t,Ma("categoryId","==",e)),i=yield fl(r),o=[];return i.forEach(s=>{o.push(j({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return E(this,null,function*(){try{let r=fi(this.firestore,"expenses"),i=Ia(r,Ma("date",">=",e),Ma("date","<=",t),Yd("date","desc")),o=yield fl(i),s=[];return o.forEach(a=>{s.push(j({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)(ne(cr))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var gi=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return E(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return E(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return E(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return E(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return E(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return E(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return E(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return E(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return E(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(ne(xn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var mi=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return E(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return E(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return E(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return E(this,null,function*(){yield this.loadCategories();let e=this.removeDuplicateCategories(this.categories);return e.length!==this.categories.length&&(console.log(`Found ${this.categories.length-e.length} duplicate categories. Cleaning up...`),yield this.cleanupDuplicateCategories(e)),[...e]})}removeDuplicateCategories(e){let t=new Set,r=[];for(let i of e){let o=i.name.toLowerCase().trim();t.has(o)?console.log(`Duplicate category found: "${i.name}" (ID: ${i.id})`):(t.add(o),r.push(i))}return r}cleanupDuplicateCategories(e){return E(this,null,function*(){try{let t=yield this.firebaseService.loadCategories(),r=new Set,i=[];for(let o of t){let s=o.name.toLowerCase().trim();r.has(s)?(i.push(o.id),console.log(`Marking duplicate for deletion: "${o.name}" (ID: ${o.id})`)):r.add(s)}for(let o of i)try{yield this.firebaseService.deleteCategory(o),console.log(`Deleted duplicate category with ID: ${o}`)}catch(s){console.error(`Error deleting duplicate category ${o}:`,s)}yield this.loadCategories()}catch(t){console.error("Error cleaning up duplicate categories:",t)}})}add(e){return E(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return E(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return E(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return E(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}triggerDuplicateCleanup(){return E(this,null,function*(){console.log("Manual duplicate cleanup triggered...");let e=yield this.getAll();console.log(`Categories after cleanup: ${e.length}`)})}static \u0275fac=function(t){return new(t||n)(ne(xn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function VW(n,e){if(n&1&&(m(0,"div",51)(1,"span",52),C(2),y(),m(3,"span",53),C(4),y()()),n&2){let t=e.$implicit;xo("alert-"+t.type),D(2),te(t.icon),D(2),te(t.message)}}function jW(n,e){if(n&1&&(m(0,"div",48)(1,"div",49),ie(2,VW,5,4,"div",50),y()()),n&2){let t=H();D(2),B("ngForOf",t.getAlerts())}}function UW(n,e){if(n&1&&(m(0,"div",54)(1,"span"),C(2),y(),m(3,"span"),C(4),y()()),n&2){let t=e.ngIf;D(),xo(t.direction),D(),te(t.icon),D(2),we("",t.percentage,"% vs last period")}}function BW(n,e){if(n&1&&(m(0,"div",55)(1,"div",56),Xn(2,"div",57),y(),m(3,"span",58),C(4),y()()),n&2){let t=e.ngIf;D(2),In("width",t.percentage,"%"),D(2),we("",t.percentage,"% of budget")}}function $W(n,e){if(n&1&&(m(0,"div",59)(1,"span"),C(2),Le(3,"number"),y()()),n&2){let t=e.ngIf;D(2),we("\u20B9",mt(3,1,t)," daily avg")}}function zW(n,e){if(n&1&&(m(0,"div",62)(1,"span"),C(2),y()()),n&2){let t=e.ngIf;D(2),te(t)}}function HW(n,e){if(n&1&&(m(0,"div",60)(1,"div",14),C(2,"\u{1F4B0}"),y(),m(3,"div",15)(4,"h3",16),C(5,"Potential Savings"),y(),m(6,"div",17),C(7),Le(8,"number"),y(),m(9,"div",18),C(10,"This month"),y(),ie(11,zW,3,1,"div",61),y()()),n&2){let t=H();D(7),we("\u20B9",mt(8,2,t.getPotentialSavings())),D(4),B("ngIf",t.getSavingsTip())}}function qW(n,e){if(n&1&&(m(0,"div",63)(1,"div",64)(2,"div",65)(3,"h3"),C(4,"Monthly Comparison"),y(),m(5,"span",66),C(6,"vs Last Month"),y()(),m(7,"div",67)(8,"div",68)(9,"div",69),C(10),Le(11,"currency"),y(),m(12,"div",70),C(13,"Change"),y()(),m(14,"div",68)(15,"div",69),C(16),y(),m(17,"div",70),C(18,"Percentage"),y()(),m(19,"div",68)(20,"div",69),C(21),y(),m(22,"div",70),C(23,"Status"),y()()()()()),n&2){let t=H();D(9),xo(t.getMonthlyComparison().change<0?"positive":"negative"),D(),we(" ",rn(11,9,t.getMonthlyComparison().change,"INR")," "),D(5),xo(t.getMonthlyComparison().percentage<0?"positive":"negative"),D(),we(" ",t.getMonthlyComparison().percentage,"% "),D(4),xo(t.getMonthlyComparison().status==="First Month"?"new-month":""),D(),we(" ",t.getMonthlyComparison().status," ")}}function WW(n,e){if(n&1&&(m(0,"div",71)(1,"div",72)(2,"div",73)(3,"h3"),C(4,"\u{1F4A1} Smart Insights"),y(),m(5,"span",74),C(6,"AI-powered spending analysis"),y()(),m(7,"div",75)(8,"div",76)(9,"div",77),C(10,"\u{1F3AF}"),y(),m(11,"div",78)(12,"div",79),C(13,"Top Spending Category"),y(),m(14,"div",80),C(15),y(),m(16,"div",81),C(17),Le(18,"number"),y()()(),m(19,"div",76)(20,"div",77),C(21,"\u{1F4C8}"),y(),m(22,"div",78)(23,"div",79),C(24,"Spending Pattern"),y(),m(25,"div",80),C(26),y(),m(27,"div",81),C(28),y()()(),m(29,"div",76)(30,"div",77),C(31,"\u26A1"),y(),m(32,"div",78)(33,"div",79),C(34,"Quick Win"),y(),m(35,"div",80),C(36),y(),m(37,"div",81),C(38),y()()(),m(39,"div",76)(40,"div",77),C(41,"\u{1F389}"),y(),m(42,"div",78)(43,"div",79),C(44,"Achievement"),y(),m(45,"div",80),C(46),y(),m(47,"div",81),C(48),y()()()()()()),n&2){let t,r,i,o,s,a,c=H();D(15),te(((t=c.getTopSpendingCategory())==null?null:t.name)||"None"),D(2),we("\u20B9",mt(18,8,((r=c.getTopSpendingCategory())==null?null:r.amount)||0)),D(9),te(c.getSpendingPattern()),D(2),te(c.getPatternDescription()),D(8),te(((i=c.getQuickWin())==null?null:i.title)||"No suggestions"),D(2),te(((o=c.getQuickWin())==null?null:o.description)||""),D(8),te(((s=c.getAchievement())==null?null:s.title)||"Keep going!"),D(2),te(((a=c.getAchievement())==null?null:a.description)||"")}}function GW(n,e){if(n&1){let t=Ye();m(0,"div",82)(1,"div",83)(2,"label",84),C(3,"Start Date:"),y(),m(4,"input",85),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.customStartDate,i)||(o.customStartDate=i),Y(i)}),X("change",function(){K(t);let i=H();return Y(i.onFilterChange())}),y()(),m(5,"div",83)(6,"label",84),C(7,"End Date:"),y(),m(8,"input",85),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.customEndDate,i)||(o.customEndDate=i),Y(i)}),X("change",function(){K(t);let i=H();return Y(i.onFilterChange())}),y()()()}if(n&2){let t=H();D(4),xe("ngModel",t.customStartDate),D(4),xe("ngModel",t.customEndDate)}}function KW(n,e){if(n&1&&(m(0,"div",97),C(1),y()),n&2){let t=H().$implicit,r=H(2);D(),we(" ",r.getCategoryPercentage((t==null?null:t.id)||""),"% of total ")}}function YW(n,e){if(n&1&&(m(0,"div",88)(1,"div",89)(2,"div",90),C(3),y(),m(4,"div",91)(5,"div",92),C(6),y(),m(7,"div",93),C(8),y(),ie(9,KW,2,1,"div",94),y()(),m(10,"div",95)(11,"div",96),C(12),Le(13,"number"),y()()()),n&2){let t=e.$implicit,r=H(2);Ft("empty-category",r.categoryTotals[(t==null?null:t.id)||""]===0),D(2),In("background-color",(t==null?null:t.color)||"#999"),D(),we(" ",(t==null?null:t.icon)||"\u{1F4CC}"," "),D(3),te((t==null?null:t.name)||"Unknown"),D(2),we(" ",r.getExpensesByCategory((t==null?null:t.id)||"").length," expenses "),D(),B("ngIf",r.getCategoryPercentage((t==null?null:t.id)||"")>0),D(3),we("\u20B9",mt(13,9,r.categoryTotals[(t==null?null:t.id)||""]||0))}}function QW(n,e){if(n&1&&(m(0,"div",86),ie(1,YW,14,11,"div",87),y()),n&2){let t=H();D(),B("ngForOf",t.categories)}}function ZW(n,e){n&1&&(m(0,"div",98)(1,"div",99),C(2,"\u{1F3F7}\uFE0F"),y(),m(3,"h6"),C(4,"No Categories Found"),y(),m(5,"p"),C(6,"Add some categories to start tracking your expenses!"),y(),m(7,"div",100)(8,"button",101),C(9,"Add Categories"),y()()())}function JW(n,e){if(n&1&&(m(0,"span",117),C(1),y()),n&2){let t=H().$implicit;xo("priority-"+t.priority),D(),we(" ",t.priority," ")}}function XW(n,e){if(n&1){let t=Ye();m(0,"div",104)(1,"div",105)(2,"div",106),C(3),y(),m(4,"div",107)(5,"div",108),C(6),y(),m(7,"div",109)(8,"span",110),C(9),Le(10,"date"),y(),m(11,"span",111),C(12),y(),ie(13,JW,2,3,"span",112),y()()(),m(14,"div",113)(15,"div",96),C(16),Le(17,"number"),y(),m(18,"div",114)(19,"button",115),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.editExpense(i))}),C(20," \u270F\uFE0F "),y(),m(21,"button",116),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.deleteExpense(i))}),C(22," \u{1F5D1}\uFE0F "),y()()()()}if(n&2){let t=e.$implicit,r=H(2);D(2),In("background-color",r.getCategoryColor(t.categoryId)),D(),we(" ",r.getCategoryIcon(t.categoryId)," "),D(3),te(t.description||"No description"),D(3),te(rn(10,8,t.date,"MMM dd")),D(3),te(r.getCategoryName(t.categoryId)),D(),B("ngIf",t.priority),D(3),we("\u20B9",mt(17,11,t.amount))}}function eG(n,e){if(n&1&&(m(0,"div",102),ie(1,XW,23,13,"div",103),y()),n&2){let t=H();D(),B("ngForOf",t.getRecentExpensesSorted())}}function tG(n,e){n&1&&(m(0,"div",98)(1,"div",99),C(2,"\u{1F4DD}"),y(),m(3,"h6"),C(4,"No Expenses Found"),y(),m(5,"p"),C(6,"Add some expenses to see them here!"),y(),m(7,"div",100)(8,"button",118),C(9,"Add Expenses"),y()()())}function nG(n,e){if(n&1&&(m(0,"div",128)(1,"div",129)(2,"div",130),C(3),y(),m(4,"div",131),C(5),Le(6,"number"),y()()()),n&2){let t=e.$implicit;In("height",t.percentage,"%")("background-color",t.color),D(3),te(t.name),D(2),we("\u20B9",mt(6,6,t.amount))}}function rG(n,e){if(n&1&&(m(0,"div",132),Xn(1,"span",133),m(2,"span",134),C(3),y()()),n&2){let t=e.$implicit;D(),In("background-color",t.color),D(2),te(t.name)}}function iG(n,e){if(n&1&&(m(0,"div",119)(1,"div",120)(2,"div",121)(3,"h3"),C(4,"\u{1F4C8} Spending Trends"),y(),m(5,"span",122),C(6,"Last 6 months overview"),y()(),m(7,"div",123)(8,"div",124),ie(9,nG,7,8,"div",125),y(),m(10,"div",126),ie(11,rG,4,3,"div",127),y()()()()),n&2){let t=H();D(9),B("ngForOf",t.getMonthlyTrends()),D(2),B("ngForOf",t.getMonthlyTrends())}}var Ey=class n{constructor(e,t,r,i){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.router=i}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";customStartDate="";customEndDate="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;previousMonthTotal=0;monthlyChange=0;monthlyChangePercentage=0;weeklyTotal=0;showInsights=!1;subscription=new He;ngOnInit(){this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log(`Received ${e.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return E(this,null,function*(){try{console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateMonthlyData(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){this.recentExpenses=[...this.expenses].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5)}calculateMonthlyData(){let e=new Date,t=e.getMonth(),r=e.getFullYear();this.currentMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===t&&a.getFullYear()===r}).reduce((s,a)=>s+a.amount,0);let i=t===0?11:t-1,o=t===0?r-1:r;this.previousMonthTotal=this.expenses.filter(s=>{let a=new Date(s.date);return a.getMonth()===i&&a.getFullYear()===o}).reduce((s,a)=>s+a.amount,0),this.monthlyChange=this.currentMonthTotal-this.previousMonthTotal,this.monthlyChangePercentage=this.previousMonthTotal>0?this.monthlyChange/this.previousMonthTotal*100:0}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date;switch(this.selectedPeriod){case"monthly":e=e.filter(r=>{let i=new Date(r.date);return i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()});break;case"yearly":e=e.filter(r=>new Date(r.date).getFullYear()===t.getFullYear());break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(r=>{let i=new Date(r.date),o=new Date(this.customStartDate),s=new Date(this.customEndDate);return i>=o&&i<=s}));break}}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"monthly":return"This Month";case"yearly":return"This Year";case"custom":return"Custom Period";default:return"All Time"}}onFilterChange(){}getExpensesByCategory(e){return this.getFilteredExpenses().filter(t=>t.categoryId===e)}get categoryTotals(){let e={},t=this.getFilteredExpenses();return this.categories.forEach(r=>{e[r.id]=t.filter(i=>i.categoryId===r.id).reduce((i,o)=>i+o.amount,0)}),e}getMonthlyComparison(){let e=this.previousMonthTotal>0,t="";return!e&&this.currentMonthTotal>0?t="First Month":e&&(this.monthlyChange>0?t="Increased":this.monthlyChange<0?t="Decreased":t="No Change"),{change:this.monthlyChange,percentage:parseFloat(this.monthlyChangePercentage.toFixed(2)),hasPreviousData:e,status:t}}get monthlyTotal(){return this.currentMonthTotal}getRecentExpensesSorted(){return[...this.expenses].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5)}getFilteredExpensesSorted(){return this.getFilteredExpenses().sort((e,t)=>t.amount-e.amount)}getAlerts(){let e=[];if(this.previousMonthTotal>0&&this.currentMonthTotal>this.previousMonthTotal){let t=(this.currentMonthTotal-this.previousMonthTotal)/this.previousMonthTotal*100;t>10&&e.push({type:"error",message:`Your spending is ${t.toFixed(2)}% higher than last month`,icon:"\u{1F4C8}"})}if(this.previousMonthTotal>0&&this.currentMonthTotal<this.previousMonthTotal){let t=(this.previousMonthTotal-this.currentMonthTotal)/this.previousMonthTotal*100;t>10&&e.push({type:"success",message:`Great job! You've reduced spending by ${t.toFixed(2)}% compared to last month`,icon:"\u{1F389}"})}return e}getSpendingTrend(){if(this.previousMonthTotal===0)return null;let e=this.monthlyChangePercentage;return e>10?{direction:"up",percentage:parseFloat(e.toFixed(2)),icon:"\u{1F4C8}"}:e<-10?{direction:"down",percentage:parseFloat(Math.abs(e).toFixed(2)),icon:"\u{1F4C9}"}:{direction:"stable",percentage:parseFloat(Math.abs(e).toFixed(2)),icon:"\u27A1\uFE0F"}}getBudgetProgress(){return null}getDailyAverage(){let e=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),t=new Date().getDate();return this.currentMonthTotal/t}getPotentialSavings(){return 0}getSavingsTip(){return null}getCategoryPercentage(e){let t=this.getFilteredTotal();if(t===0)return 0;let r=this.categoryTotals[e]||0;return parseFloat((r/t*100).toFixed(2))}getCategoryTrend(e){return null}getTopSpendingCategory(){let e=this.categoryBreakdown.sort((t,r)=>r.amount-t.amount);return e.length===0?null:{name:e[0].categoryName,amount:e[0].amount}}getSpendingPattern(){let e=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);return e>1e3?"High Value":e>500?"Medium Value":"Low Value"}getPatternDescription(){switch(this.getSpendingPattern()){case"High Value":return"Large individual expenses";case"Medium Value":return"Moderate spending pattern";case"Low Value":return"Small frequent expenses";default:return"Balanced spending"}}getQuickWin(){let e=this.getTopSpendingCategory();return e&&e.amount>this.monthlyTotal*.4?{title:`Reduce ${e.name} spending`,description:`This category represents ${(e.amount/this.getFilteredTotal()*100).toFixed(1)}% of your expenses`}:null}getAchievement(){return this.currentMonthTotal<this.previousMonthTotal*.8&&this.previousMonthTotal>0?{title:"Spending Reduction Champion!",description:"You've reduced spending by over 20% this month"}:this.currentMonthTotal<this.monthlyTotal*.5?{title:"Budget Master!",description:"You're under 50% of your monthly budget"}:null}getMonthlyTrends(){let e=[],t=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe"];for(let r=5;r>=0;r--){let i=new Date;i.setMonth(i.getMonth()-r);let s=this.expenses.filter(u=>{let d=new Date(u.date);return d.getMonth()===i.getMonth()&&d.getFullYear()===i.getFullYear()}).reduce((u,d)=>u+d.amount,0),a=Math.max(...this.getMonthlyAmounts()),c=a>0?s/a*100:0;e.push({name:i.toLocaleDateString("en-US",{month:"short"}),amount:s,percentage:c,color:t[r]})}return e}getMonthlyAmounts(){let e=[];for(let t=5;t>=0;t--){let r=new Date;r.setMonth(r.getMonth()-t);let i=this.expenses.filter(o=>{let s=new Date(o.date);return s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear()});e.push(i.reduce((o,s)=>o+s.amount,0))}return e}exportData(){let e={expenses:this.expenses,categories:this.categories,summary:{totalSpent:this.totalSpent,monthlyTotal:this.monthlyTotal,weeklyTotal:this.weeklyTotal}},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`expense-data-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}viewAllExpenses(){this.router.navigate(["/expenses"])}editExpense(e){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=window.prompt("Date (YYYY-MM-DD):",e.date)||e.date,o=parseFloat(r);if(isNaN(o)||o<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){alert("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let a=ce(j({},e),{description:t,amount:o,date:i});this.expenseService.update(a).then(()=>{console.log("Expense updated successfully")}).catch(c=>{console.error("Error updating expense:",c),alert("Error updating expense. Please try again.")})}catch(t){console.error("Error editing expense:",t),alert("Error editing expense. Please try again.")}}deleteExpense(e){window.confirm(`Are you sure you want to delete this expense?

Description: ${e.description}
Amount: \u20B9${e.amount}
Date: ${e.date}`)&&this.expenseService.delete(e.id).then(()=>{console.log("Expense deleted successfully"),alert("Expense deleted successfully!")}).catch(r=>{console.error("Error deleting expense:",r),alert("Error deleting expense. Please try again.")})}static \u0275fac=function(t){return new(t||n)($(gi),$(mi),$(xn),$(Vt))};static \u0275cmp=Kt({type:n,selectors:[["app-dashboard"]],decls:101,vars:36,consts:[[1,"container-fluid","px-4","py-3","dashboard-component","dashboard-wrapper"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"mb-0"],[1,"quick-actions"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","alerts-section mb-4",4,"ngIf"],[1,"summary-cards","mb-4"],[1,"summary-card","total-spent","hover-lift"],[1,"card-icon"],[1,"card-content"],[1,"card-title"],[1,"card-amount"],[1,"card-subtitle"],["class","card-trend",4,"ngIf"],[1,"summary-card","monthly-spent","hover-lift"],["class","budget-progress",4,"ngIf"],[1,"summary-card","weekly-spent","hover-lift"],["class","daily-average",4,"ngIf"],["class","summary-card savings hover-lift",4,"ngIf"],["class","monthly-comparison mb-4",4,"ngIf"],["class","insights-section mb-4",4,"ngIf"],[1,"filter-controls","mb-4"],[1,"filter-buttons"],[1,"filter-btn",3,"click"],["class","custom-date-inputs",4,"ngIf"],[1,"dashboard-content"],[1,"content-grid"],[1,"content-card","category-section"],[1,"card-header"],[1,"header-left"],[1,"header-icon"],[1,"header-title"],[1,"header-right"],[1,"filter-period"],[1,"total-amount"],[1,"card-body"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-section"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["class","expenses-list",4,"ngIf"],["class","trends-section mb-4",4,"ngIf"],[1,"alerts-section","mb-4"],[1,"alerts-container"],["class","alert-item",3,"class",4,"ngFor","ngForOf"],[1,"alert-item"],[1,"alert-icon"],[1,"alert-message"],[1,"card-trend"],[1,"budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"daily-average"],[1,"summary-card","savings","hover-lift"],["class","savings-tip",4,"ngIf"],[1,"savings-tip"],[1,"monthly-comparison","mb-4"],[1,"comparison-card"],[1,"comparison-header"],[1,"comparison-period"],[1,"comparison-content"],[1,"comparison-stat"],[1,"stat-value"],[1,"stat-label"],[1,"insights-section","mb-4"],[1,"insights-card"],[1,"insights-header"],[1,"insights-subtitle"],[1,"insights-grid"],[1,"insight-item"],[1,"insight-icon"],[1,"insight-content"],[1,"insight-label"],[1,"insight-value"],[1,"insight-detail"],[1,"custom-date-inputs"],[1,"date-input-group"],[1,"date-label"],["type","date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"category-list"],["class","category-item",3,"empty-category",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-info"],[1,"category-icon"],[1,"category-details"],[1,"category-name"],[1,"category-count"],["class","category-percentage",4,"ngIf"],[1,"category-amount"],[1,"amount-value"],[1,"category-percentage"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-action"],["routerLink","/categories",1,"btn"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-info"],[1,"expense-icon"],[1,"expense-details"],[1,"expense-description"],[1,"expense-meta"],[1,"expense-date"],[1,"expense-category"],["class","expense-priority",3,"class",4,"ngIf"],[1,"expense-amount"],[1,"amount-actions"],["title","Edit",1,"btn-icon",3,"click"],["title","Delete",1,"btn-icon",3,"click"],[1,"expense-priority"],["routerLink","/expenses",1,"btn"],[1,"trends-section","mb-4"],[1,"trends-card"],[1,"trends-header"],[1,"trends-subtitle"],[1,"trends-content"],[1,"trend-chart"],["class","chart-bar",3,"height","background-color",4,"ngFor","ngForOf"],[1,"trend-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"chart-bar"],[1,"bar-tooltip"],[1,"tooltip-month"],[1,"tooltip-amount"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),C(6,"\u{1F4CA}"),y()(),m(7,"div")(8,"h1",6),C(9,"Financial Dashboard"),y(),m(10,"p",7),C(11,"Your complete financial overview"),y()()(),m(12,"div",8)(13,"button",9),X("click",function(){return r.exportData()}),C(14," \u{1F4CA} Export Data "),y(),m(15,"button",10),X("click",function(){return r.showInsights=!r.showInsights}),C(16),y()()()(),ie(17,jW,3,1,"div",11),m(18,"div",12)(19,"div",13)(20,"div",14),C(21,"\u{1F4B8}"),y(),m(22,"div",15)(23,"h3",16),C(24,"Total Spent"),y(),m(25,"div",17),C(26),Le(27,"number"),y(),m(28,"div",18),C(29),y(),ie(30,UW,5,4,"div",19),y()(),m(31,"div",20)(32,"div",14),C(33,"\u{1F4C5}"),y(),m(34,"div",15)(35,"h3",16),C(36,"This Month"),y(),m(37,"div",17),C(38),Le(39,"number"),y(),m(40,"div",18),C(41,"Current Month"),y(),ie(42,BW,5,3,"div",21),y()(),m(43,"div",22)(44,"div",14),C(45,"\u{1F4CA}"),y(),m(46,"div",15)(47,"h3",16),C(48,"This Week"),y(),m(49,"div",17),C(50),Le(51,"number"),y(),m(52,"div",18),C(53,"Current Week"),y(),ie(54,$W,4,3,"div",23),y()(),ie(55,HW,12,4,"div",24),y(),ie(56,qW,24,12,"div",25)(57,WW,49,10,"div",26),m(58,"div",27)(59,"div",28)(60,"button",29),X("click",function(){return r.selectedPeriod="all",r.onFilterChange()}),C(61," All Time "),y(),m(62,"button",29),X("click",function(){return r.selectedPeriod="monthly",r.onFilterChange()}),C(63," Monthly "),y(),m(64,"button",29),X("click",function(){return r.selectedPeriod="yearly",r.onFilterChange()}),C(65," Yearly "),y(),m(66,"button",29),X("click",function(){return r.selectedPeriod="custom",r.onFilterChange()}),C(67," Custom "),y()(),ie(68,GW,9,2,"div",30),y(),m(69,"div",31)(70,"div",32)(71,"div",33)(72,"div",34)(73,"div",35)(74,"span",36),C(75,"\u{1F3F7}\uFE0F"),y(),m(76,"h5",37),C(77,"Category-wise Spending"),y()(),m(78,"div",38)(79,"span",39),C(80),y(),m(81,"span",40),C(82),Le(83,"number"),y()()(),m(84,"div",41),ie(85,QW,2,1,"div",42)(86,ZW,10,0,"div",43),y()(),m(87,"div",44)(88,"div",34)(89,"div",35)(90,"span",36),C(91,"\u{1F4DD}"),y(),m(92,"h5",37),C(93,"Recent Expenses"),y()(),m(94,"div",38)(95,"button",45),X("click",function(){return r.viewAllExpenses()}),C(96," View All "),y()()(),m(97,"div",41),ie(98,eG,2,1,"div",46)(99,tG,10,0,"div",43),y()()()(),ie(100,iG,12,2,"div",47),y()),t&2&&(D(16),we(" \u{1F4A1} ",r.showInsights?"Hide":"Show"," Insights "),D(),B("ngIf",r.getAlerts().length>0),D(9),we("\u20B9",mt(27,28,r.totalSpent)),D(3),te(r.getFilterLabel()),D(),B("ngIf",r.getSpendingTrend()),D(8),we("\u20B9",mt(39,30,r.monthlyTotal)),D(4),B("ngIf",r.getBudgetProgress()),D(8),we("\u20B9",mt(51,32,r.weeklyTotal)),D(4),B("ngIf",r.getDailyAverage()),D(),B("ngIf",r.getPotentialSavings()>0),D(),B("ngIf",r.getMonthlyComparison().hasPreviousData||r.monthlyTotal>0),D(),B("ngIf",r.showInsights),D(3),Ft("active",r.selectedPeriod==="all"),D(2),Ft("active",r.selectedPeriod==="monthly"),D(2),Ft("active",r.selectedPeriod==="yearly"),D(2),Ft("active",r.selectedPeriod==="custom"),D(2),B("ngIf",r.selectedPeriod==="custom"),D(12),te(r.getFilterLabel()),D(2),we("\u20B9",mt(83,34,r.getFilteredTotal())),D(3),B("ngIf",r.categories.length>0),D(),B("ngIf",r.categories.length===0),D(12),B("ngIf",r.getRecentExpensesSorted().length>0),D(),B("ngIf",r.getRecentExpensesSorted().length===0),D(),B("ngIf",r.showInsights))},dependencies:[sn,Gr,yn,ar,or,sr,$n,v0,qs,Hs],styles:['@charset "UTF-8";.dashboard-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);min-height:100vh;padding:2rem 0}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7)!important;color:#fff!important;padding:2rem!important;border-radius:16px!important;margin-bottom:2rem!important;box-shadow:0 8px 32px #9b6b9b4d!important}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem!important;font-weight:700!important;margin:0!important;text-shadow:0 2px 4px rgba(0,0,0,.1)!important}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:1.1rem!important}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex!important;gap:.75rem!important}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3!important;border:2px solid rgba(255,255,255,.3)!important;color:#fff!important;font-weight:600!important;padding:.75rem 1.5rem!important;border-radius:12px!important;transition:all .3s ease!important;white-space:normal!important;word-wrap:break-word!important;word-break:break-word!important;min-height:44px!important;max-width:150px!important;text-align:center!important}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d!important;transform:translateY(-2px)!important;box-shadow:0 8px 25px #0003!important}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]{background:transparent;border-color:#ffffff80}app-dashboard[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover, .dashboard-component[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#ffffff1a}.filter-controls[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 4px 20px #00000014;margin-bottom:2rem}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;color:#6c757d;padding:.75rem 1.5rem;border-radius:12px;font-weight:500;transition:all .3s ease;cursor:pointer}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#dee2e6;transform:translateY(-1px)}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#667eea;color:#fff;box-shadow:0 4px 15px #667eea4d}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-wrap:wrap}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#495057}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e9ecef;border-radius:8px;font-size:.9rem;transition:all .3s ease}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem}@media (max-width: 1024px){.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:16px!important;box-shadow:0 8px 32px #0000001a!important;overflow:hidden!important;transition:all .3s ease!important}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]:hover, app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 40px #00000026}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.5rem;opacity:.9}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;background:#fff3;padding:.5rem 1rem;border-radius:8px}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);color:#fff;font-size:.8rem;padding:.4rem .8rem;border-radius:8px;transition:all .3s ease}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-1px)}.dashboard-component[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .content-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;gap:1rem!important}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;transition:all .3s ease;position:relative;overflow:hidden}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover, app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(4px)}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:before, app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;width:4px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:0 2px 2px 0}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 4px 12px #00000026}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin-bottom:.25rem}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;margin-bottom:.25rem}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-percentage[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-percentage[_ngcontent-%COMP%]{font-size:.8rem;color:#007bff;font-weight:500}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{text-align:right}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#333;margin-bottom:.25rem}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:.25rem;font-size:.8rem}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.up[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.up[_ngcontent-%COMP%]{color:#dc3545}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.down[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.down[_ngcontent-%COMP%]{color:#28a745}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.stable[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.stable[_ngcontent-%COMP%]{color:#6c757d}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]{background:#f8f9fa;border:2px dashed #dee2e6}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#6c757d}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{color:#adb5bd}.dashboard-component[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{color:#adb5bd}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(4px)}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 4px 12px #00000026}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{flex:1}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#333;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-category[_ngcontent-%COMP%]{font-size:.85rem;color:#007bff;background:#007bff1a;padding:.2rem .5rem;border-radius:4px}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;border-radius:4px;font-weight:500}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority.priority-high[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority.priority-medium[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority.priority-low[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#333;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;cursor:pointer;padding:.25rem;border-radius:4px;transition:all .2s ease}.recent-section[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:scale(1.1)}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center!important;padding:3rem 2rem!important;background:linear-gradient(135deg,#f8f9fa,#e9ecef)!important;border-radius:16px!important;border:2px dashed #dee2e6!important;margin:1rem 0!important}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.6;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem;font-size:1.1rem;font-weight:600}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0;font-size:.95rem}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]{margin-top:1.5rem}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease}.dashboard-component[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, app-dashboard[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea4d}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alerts-container[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alerts-container[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;gap:.75rem!important}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:12px;display:flex;align-items:center;gap:.75rem;font-weight:500;animation:_ngcontent-%COMP%_slideInDown .3s ease-out}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-success[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb);color:#155724;border:1px solid #c3e6cb}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-error[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb);color:#721c24;border:1px solid #f5c6cb}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-warning[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);color:#856404;border:1px solid #ffeaa7}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-info[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-item.alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1ecf1,#bee5eb);color:#0c5460;border:1px solid #bee5eb}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{font-size:1.2rem}.dashboard-component[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .alerts-section[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1;font-size:.95rem}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9997}.error-message[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33;padding:1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;gap:.5rem}.success-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successPulse .6s ease-out}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.container-fluid[_ngcontent-%COMP%]{margin:0 auto;width:100%;padding-left:1rem;padding-right:1rem}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))!important;gap:1.5rem!important;margin-bottom:2rem!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:16px!important;padding:2rem!important;box-shadow:0 8px 32px #0000001a!important;display:flex!important;align-items:center!important;gap:1.5rem!important;transition:all .3s ease!important;position:relative!important;overflow:hidden!important;border:1px solid rgba(0,0,0,.05)!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:before, app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#667eea,#764ba2)}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover, app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000026}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:3rem!important;background:linear-gradient(135deg,#667eea,#764ba2)!important;-webkit-background-clip:text!important;-webkit-text-fill-color:transparent!important;background-clip:text!important;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem!important;font-weight:600!important;color:#666!important;margin-bottom:.5rem!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:2rem!important;font-weight:700!important;color:#333!important;margin-bottom:.25rem!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.9rem!important;color:#999!important;margin-bottom:.5rem!important}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;font-weight:500}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend.up[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend.up[_ngcontent-%COMP%]{color:#dc3545}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend.down[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend.down[_ngcontent-%COMP%]{color:#28a745}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend.stable[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend.stable[_ngcontent-%COMP%]{color:#6c757d}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]{margin-top:.75rem}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:#e9ecef;border-radius:3px;overflow:hidden;margin-bottom:.5rem}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#28a745,#20c997);border-radius:3px;transition:width .8s ease}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .daily-average[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .daily-average[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-top:.5rem}.dashboard-component[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .savings-tip[_ngcontent-%COMP%], app-dashboard[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .savings-tip[_ngcontent-%COMP%]{font-size:.85rem;color:#28a745;margin-top:.5rem;font-weight:500}.insights-section[_ngcontent-%COMP%]   .insights-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text, #333);font-weight:600;font-size:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-header[_ngcontent-%COMP%]   .insights-subtitle[_ngcontent-%COMP%]{color:var(--text, #666);font-size:.9rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;display:flex;align-items:flex-start;gap:1rem;transition:all .3s ease}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:2rem;flex-shrink:0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]{flex:1}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-bottom:.5rem;font-weight:500}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin-bottom:.25rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-detail[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.trends-section[_ngcontent-%COMP%]   .trends-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.trends-section[_ngcontent-%COMP%]   .trends-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.trends-section[_ngcontent-%COMP%]   .trends-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text, #333);font-weight:600;font-size:1.5rem}.trends-section[_ngcontent-%COMP%]   .trends-header[_ngcontent-%COMP%]   .trends-subtitle[_ngcontent-%COMP%]{color:var(--text, #666);font-size:.9rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;height:200px;margin-bottom:1.5rem;padding:0 1rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{flex:1;margin:0 .25rem;border-radius:4px 4px 0 0;position:relative;transition:all .3s ease;min-height:20px}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#333;color:#fff;padding:.5rem;border-radius:6px;font-size:.8rem;white-space:nowrap;opacity:0;visibility:hidden;transition:all .3s ease;z-index:10}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#333}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-month[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{opacity:.9}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{color:#666}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);color:#fff;font-size:.8rem;padding:.4rem .8rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:1.1rem;margin-bottom:.25rem}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:.25rem;font-size:.8rem}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.up[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend.up[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.up[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend.up[_ngcontent-%COMP%]{color:#dc3545}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.down[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend.down[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.down[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend.down[_ngcontent-%COMP%]{color:#28a745}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.stable[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend.stable[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-trend.stable[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-trend.stable[_ngcontent-%COMP%]{color:#6c757d}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%], .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;cursor:pointer;padding:.25rem;border-radius:4px;transition:all .2s ease}.content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover, .content-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover, .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover, .content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:scale(1.1)}.content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-category[_ngcontent-%COMP%]{font-size:.85rem;color:#007bff;background:#007bff1a;padding:.2rem .5rem;border-radius:4px}.content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .5rem;border-radius:4px;font-weight:500}.content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority.priority-high[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545}.content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority.priority-medium[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107}.content-card[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-priority.priority-low[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:16px!important;padding:2rem!important;box-shadow:0 8px 32px #0000001a!important;border:1px solid rgba(0,0,0,.05)!important;transition:all .3s ease!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]:hover, .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)!important;box-shadow:0 12px 40px #00000026!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;align-items:center!important;margin-bottom:1.5rem!important;padding:1.5rem!important;background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b)!important;border-radius:12px 12px 0 0!important;border-bottom:2px solid #f8f9fa!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem!important;font-weight:700!important;color:#fff!important;margin:0!important;display:flex!important;align-items:center!important;gap:.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before, .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f4ca"!important;font-size:1.2rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important;color:#fff!important;padding:.5rem 1rem!important;border-radius:20px!important;font-size:.85rem!important;font-weight:600!important;box-shadow:0 4px 15px #667eea4d!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))!important;gap:1.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{text-align:center!important;padding:1.5rem!important;background:linear-gradient(135deg,#f8f9fa,#e9ecef)!important;border-radius:12px!important;border:1px solid rgba(0,0,0,.05)!important;transition:all .3s ease!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]:hover, .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 8px 25px #0000001a!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem!important;font-weight:800!important;margin-bottom:.5rem!important;display:flex!important;align-items:center!important;justify-content:center!important;gap:.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#28a745!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]:before, .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]:before{content:"\\1f4c8"!important;font-size:1.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc3545!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]:before, .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]:before{content:"\\1f4c9"!important;font-size:1.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#17a2b8!important;font-size:1.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]:before, .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]:before{content:"\\1f195"!important;font-size:1.2rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem!important;color:#6c757d!important;font-weight:500!important;text-transform:uppercase!important;letter-spacing:.5px!important}@media (max-width: 768px){app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{flex-direction:column!important;gap:1rem!important;text-align:center!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.8rem!important;padding:.4rem .8rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:1rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{font-size:1.2rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem!important}}@media (max-width: 480px){app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]{padding:1rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   .comparison-period[_ngcontent-%COMP%]{font-size:.75rem!important;padding:.3rem .6rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]{padding:.75rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.3rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{font-size:1.1rem!important}app-dashboard[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .dashboard-component[_ngcontent-%COMP%]   .monthly-comparison[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-content[_ngcontent-%COMP%]   .comparison-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem!important}.page-header[_ngcontent-%COMP%]{padding:1rem!important}.page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:row!important;gap:.4rem!important;width:auto!important}.page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .8rem!important;font-size:.75rem!important;white-space:normal!important;word-wrap:break-word!important;word-break:break-word!important;min-height:32px!important;max-width:100px!important;text-align:center!important}.summary-cards[_ngcontent-%COMP%]{gap:.75rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.5rem!important;width:40px!important;height:40px!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.3rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.8rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend[_ngcontent-%COMP%], .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .daily-average[_ngcontent-%COMP%], .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .savings-tip[_ngcontent-%COMP%]{font-size:.75rem!important;padding:.4rem .6rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:6px!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.7rem!important}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem!important}.page-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column!important;gap:1rem!important;align-items:flex-start!important}.page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:row!important;gap:.5rem!important;width:auto!important;justify-content:flex-start!important}.page-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem!important;font-size:.8rem!important;flex:none!important;text-align:center!important;white-space:normal!important;word-wrap:break-word!important;word-break:break-word!important;min-height:36px!important;max-width:120px!important}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{flex-direction:column}.filter-controls[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{text-align:center}.filter-controls[_ngcontent-%COMP%]   .custom-date-inputs[_ngcontent-%COMP%]{flex-direction:column}.dashboard-content[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:1rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem!important;width:50px!important;height:50px!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem!important;margin-bottom:.5rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%]{font-size:1.5rem!important;margin-bottom:.5rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.85rem!important;margin-bottom:.75rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-trend[_ngcontent-%COMP%]{font-size:.8rem!important;padding:.5rem .75rem!important;border-radius:8px!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px!important;margin-bottom:.5rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .daily-average[_ngcontent-%COMP%]{font-size:.8rem!important;padding:.5rem .75rem!important;border-radius:8px!important}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .savings-tip[_ngcontent-%COMP%]{font-size:.8rem!important;padding:.5rem .75rem!important;border-radius:8px!important;line-height:1.3!important}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.8rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-detail[_ngcontent-%COMP%]{font-size:.75rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]{height:150px}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{font-size:.7rem;padding:.4rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]{gap:1rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{font-size:.8rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:10px;height:10px}}@media (max-width: 480px){.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-label[_ngcontent-%COMP%]{font-size:.75rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-value[_ngcontent-%COMP%]{font-size:.9rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   .insight-content[_ngcontent-%COMP%]   .insight-detail[_ngcontent-%COMP%]{font-size:.7rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]{height:120px}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{font-size:.65rem;padding:.3rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]{gap:.75rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{font-size:.75rem}.trends-section[_ngcontent-%COMP%]   .trends-content[_ngcontent-%COMP%]   .trend-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:8px;height:8px}}']})};var oG=n=>({background:n});function sG(n,e){if(n&1&&(m(0,"option",57),C(1),y()),n&2){let t=e.$implicit;B("value",t.id),D(),Er(" ",t.icon," ",t.name," ")}}function aG(n,e){if(n&1){let t=Ye();m(0,"button",58),X("click",function(){K(t);let i=H();return Y(i.clearCategory())}),C(1," \u2715 "),y()}}function cG(n,e){if(n&1){let t=Ye();m(0,"button",59),X("click",function(){K(t);let i=H();return Y(i.cancelEdit())}),m(1,"span",34),C(2,"\u274C"),y(),m(3,"span",35),C(4,"Cancel"),y()()}}function lG(n,e){if(n&1&&(m(0,"option",57),C(1),y()),n&2){let t=e.$implicit;B("value",t.id),D(),Er("",t.icon," ",t.name)}}function uG(n,e){if(n&1){let t=Ye();m(0,"div",62)(1,"div",63)(2,"div",64),C(3),Le(4,"currency"),y(),m(5,"div",65)(6,"span",66),C(7),y()()(),m(8,"div",67)(9,"div",68),C(10),Le(11,"date"),y(),m(12,"div",69),C(13),y()(),m(14,"div",70)(15,"button",71),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.editExpense(i))}),m(16,"span",72),C(17,"\u270F\uFE0F"),y()(),m(18,"button",73),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.deleteExpense(i))}),m(19,"span",72),C(20,"\u{1F5D1}\uFE0F"),y()()()()}if(n&2){let t=e.$implicit,r=e.index,i=H(2);In("animation-delay",r*.1+"s"),D(3),te(rn(4,8,t.amount,"INR")),D(3),B("ngStyle",Cu(13,oG,i.getCategoryColor(t.categoryId))),D(),Er(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),D(3),te(mt(11,11,t.date)),D(3),te(t.description||"No description")}}function dG(n,e){if(n&1&&(m(0,"div",60),ie(1,uG,21,15,"div",61),y()),n&2){let t=H();D(),B("ngForOf",t.getFilteredExpenses())}}function hG(n,e){n&1&&(m(0,"div",74)(1,"div",75),C(2,"\u{1F4CB}"),y(),m(3,"h6"),C(4,"No expenses found"),y(),m(5,"p"),C(6,"Add your first expense using the form above!"),y()())}var by=class n{constructor(e,t,r,i,o){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.router=i;this.route=o}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};amountInput="";filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";isEditMode=!1;editingExpenseId="";subscription=new He;ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.edit,r=e.mode;t&&r==="edit"&&(this.isEditMode=!0,this.editingExpenseId=t,console.log("Edit mode activated for expense:",t))}),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,console.log(`Received ${e.length} expenses from Firebase`),this.isEditMode&&this.editingExpenseId&&this.loadExpenseForEditing()})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return E(this,null,function*(){try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{}})}loadExpenseForEditing(){let e=this.expenses.find(t=>t.id===this.editingExpenseId);e?(this.newExpense=j({},e),this.amountInput=e.amount.toString(),console.log("Loaded expense for editing:",e)):(console.error("Expense not found for editing:",this.editingExpenseId),this.isEditMode=!1,this.editingExpenseId="")}addExpense(){return E(this,null,function*(){this.validateExpense()&&(this.isEditMode?yield this.saveExpenseChanges():yield this.createNewExpense())})}createNewExpense(){return E(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){alert("Please enter a valid amount greater than 0.");return}let t={description:this.newExpense.description,amount:e,date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},r=yield this.expenseService.add(t);console.log(`Expense added with Firebase ID: ${r}`),this.resetForm(),this.checkAchievements()}catch(e){console.error("Error adding expense:",e)}})}saveExpenseChanges(){return E(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){alert("Please enter a valid amount greater than 0.");return}let t=ce(j({},this.newExpense),{amount:e});yield this.expenseService.update(t),console.log("Expense updated successfully"),this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}catch(e){console.error("Error updating expense:",e)}})}cancelEdit(){this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}editExpense(e){return E(this,null,function*(){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=window.prompt("Date (YYYY-MM-DD):",e.date)||e.date,o=parseFloat(r);if(isNaN(o)||o<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){alert("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let a=ce(j({},e),{description:t,amount:o,date:i});yield this.expenseService.update(a)}catch(t){console.error("Error editing expense:",t)}finally{}})}deleteExpense(e){return E(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`))try{yield this.expenseService.delete(e.id)}catch(r){console.error("Error deleting expense:",r)}finally{}})}validateExpense(){if(!this.newExpense.description?.trim())return alert("Please enter a description."),!1;let e=parseFloat(this.amountInput);return isNaN(e)||e<=0?(alert("Please enter a valid amount greater than 0."),!1):this.newExpense.categoryId?this.newExpense.date?!0:(alert("Please select a date."),!1):(alert("Please select a category."),!1)}isFormValid(){let e=parseFloat(this.amountInput);return!!(this.newExpense.description?.trim()&&this.amountInput&&!isNaN(e)&&e>0&&this.newExpense.categoryId&&this.newExpense.date)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""},this.amountInput=""}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo=""}clearCategory(){this.newExpense.categoryId=""}onAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.amountInput=r}onAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}onFilterAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.filterAmount=r}onFilterAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?alert("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?alert("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&alert("Incredible! You've logged 100 expenses. You're a financial tracking master!");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);alert(`${o} mastery achieved! You've logged 10 expenses in this category.`)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&alert(`Daily streak of ${o} days achieved! Keep it up!`)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}static \u0275fac=function(t){return new(t||n)($(gi),$(mi),$(xn),$(Vt),$(Dr))};static \u0275cmp=Kt({type:n,selectors:[["app-expenses"]],decls:110,vars:25,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","text","id","expenseAmount","placeholder","0.00","name","amount","required","",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],[1,"d-flex","gap-2"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[1,"filters-card","mb-4"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","ngModel"],["for","filterAmount",1,"form-label-modern"],["type","text","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],["type","button",1,"btn-cancel",3,"click"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"]],template:function(t,r){if(t&1){let i=Ye();m(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),C(5,"\u{1F4B8}"),y()(),m(6,"div")(7,"h1",7),C(8,"Expenses"),y(),m(9,"p",8),C(10,"Track and manage your daily expenses"),y()()()(),m(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),C(15),y(),m(16,"h5",8),C(17),y()()(),m(18,"div",12)(19,"form",13,0),X("ngSubmit",function(){return K(i),Y(r.addExpense())}),m(21,"div",14)(22,"div",15)(23,"label",16),C(24,"Amount"),y(),m(25,"div",17)(26,"span",18),C(27,"\u20B9"),y(),m(28,"input",19),Ae("ngModelChange",function(s){return K(i),Ne(r.amountInput,s)||(r.amountInput=s),Y(s)}),X("input",function(s){return K(i),Y(r.onAmountInput(s))})("keypress",function(s){return K(i),Y(r.onAmountKeypress(s))}),y()()(),m(29,"div",15)(30,"label",20),C(31,"Date"),y(),m(32,"input",21),Ae("ngModelChange",function(s){return K(i),Ne(r.newExpense.date,s)||(r.newExpense.date=s),Y(s)}),y()(),m(33,"div",15)(34,"label",22),C(35,"Category"),y(),m(36,"div",23)(37,"select",24),Ae("ngModelChange",function(s){return K(i),Ne(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),Y(s)}),m(38,"option",25),C(39,"\u{1F3F7}\uFE0F Select a category"),y(),ie(40,sG,2,3,"option",26),y(),ie(41,aG,2,0,"button",27),y()(),m(42,"div",15)(43,"label",28),C(44,"Description"),y(),m(45,"input",29),Ae("ngModelChange",function(s){return K(i),Ne(r.newExpense.description,s)||(r.newExpense.description=s),Y(s)}),y()(),m(46,"div",30)(47,"label",31),C(48,"\xA0"),y(),m(49,"div",32)(50,"button",33)(51,"span",34),C(52),y(),m(53,"span",35),C(54),y()(),ie(55,cG,5,0,"button",36),y()()()()()(),m(56,"div",37)(57,"div",10)(58,"div",4)(59,"span",11),C(60,"\u{1F50D}"),y(),m(61,"h5",8),C(62,"Filters"),y()()(),m(63,"div",12)(64,"div",38)(65,"div",39)(66,"label",40),C(67,"Category"),y(),m(68,"select",41),Ae("ngModelChange",function(s){return K(i),Ne(r.filterCategory,s)||(r.filterCategory=s),Y(s)}),m(69,"option",42),C(70,"\u{1F3F7}\uFE0F All Categories"),y(),ie(71,lG,2,3,"option",26),y()(),m(72,"div",39)(73,"label",43),C(74,"From Date"),y(),m(75,"input",44),Ae("ngModelChange",function(s){return K(i),Ne(r.filterDateFrom,s)||(r.filterDateFrom=s),Y(s)}),y()(),m(76,"div",39)(77,"label",45),C(78,"To Date"),y(),m(79,"input",46),Ae("ngModelChange",function(s){return K(i),Ne(r.filterDateTo,s)||(r.filterDateTo=s),Y(s)}),y()(),m(80,"div",39)(81,"label",47),C(82,"Min Amount"),y(),m(83,"input",48),Ae("ngModelChange",function(s){return K(i),Ne(r.filterAmount,s)||(r.filterAmount=s),Y(s)}),X("input",function(s){return K(i),Y(r.onFilterAmountInput(s))})("keypress",function(s){return K(i),Y(r.onFilterAmountKeypress(s))}),y()(),m(84,"div",49)(85,"label",31),C(86,"\xA0"),y(),m(87,"button",50),X("click",function(){return K(i),Y(r.clearFilters())}),m(88,"span",34),C(89,"\u{1F504}"),y(),m(90,"span",35),C(91,"Clear Filters"),y()()()()()(),m(92,"div",51)(93,"div",10)(94,"div",52)(95,"div",4)(96,"span",11),C(97,"\u{1F4CB}"),y(),m(98,"h5",8),C(99,"All Expenses"),y()(),m(100,"div",53)(101,"div",54),C(102),Le(103,"currency"),y(),m(104,"div",55),C(105),y()()()(),m(106,"div",12),ie(107,dG,2,1,"div",56)(108,hG,7,0,"ng-template",null,1,WC),y()()()}if(t&2){let i=Us(109);D(15),te(r.isEditMode?"\u270F\uFE0F":"\u2795"),D(2),te(r.isEditMode?"Edit Expense":"Add New Expense"),D(11),xe("ngModel",r.amountInput),D(4),xe("ngModel",r.newExpense.date),D(5),xe("ngModel",r.newExpense.categoryId),D(),B("selected",!r.newExpense.categoryId),D(2),B("ngForOf",r.categories),D(),B("ngIf",r.newExpense.categoryId),D(4),xe("ngModel",r.newExpense.description),D(5),B("disabled",!r.isFormValid()),D(2),te(r.isEditMode?"\u{1F4BE}":"\u2795"),D(2),te(r.isEditMode?"Save Changes":"Add Expense"),D(),B("ngIf",r.isEditMode),D(13),xe("ngModel",r.filterCategory),D(3),B("ngForOf",r.categories),D(4),xe("ngModel",r.filterDateFrom),D(4),xe("ngModel",r.filterDateTo),D(4),xe("ngModel",r.filterAmount),D(19),te(rn(103,22,r.getTotalAmount(),"INR")),D(3),we("",r.getFilteredExpenses().length," expenses"),D(2),B("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",i)}},dependencies:[sn,Gr,yn,Su,ar,os,_l,vl,or,ss,sr,is,so,$n,oo,qs,Hs],styles:[`.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:visible;text-overflow:unset;white-space:normal;line-height:1.3;margin-top:.25rem;text-align:center;width:100%;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var fG=n=>({background:n});function pG(n,e){if(n&1&&(m(0,"div",44)(1,"div",45),C(2),y(),m(3,"div",46)(4,"div",47),C(5),y(),m(6,"div",48),C(7),y()()()),n&2){let t=e.$implicit;D(2),te(t.icon),D(3),te(t.value),D(2),te(t.title)}}function gG(n,e){if(n&1&&(m(0,"div",41)(1,"div",42)(2,"h3"),C(3,"\u{1F4CA} Category Analytics"),y()(),m(4,"div",43)(5,"div",44)(6,"div",45),C(7,"\u{1F4C2}"),y(),m(8,"div",46)(9,"div",47),C(10),y(),m(11,"div",48),C(12,"Total Categories"),y()()(),m(13,"div",44)(14,"div",45),C(15,"\u2705"),y(),m(16,"div",46)(17,"div",47),C(18),y(),m(19,"div",48),C(20,"Used Categories"),y()()(),m(21,"div",44)(22,"div",45),C(23,"\u274C"),y(),m(24,"div",46)(25,"div",47),C(26),y(),m(27,"div",48),C(28,"Unused Categories"),y()()(),ie(29,pG,8,3,"div",49),y()()),n&2){let t=H();D(10),te(t.totalCategories),D(8),te(t.usedCategories),D(8),te(t.unusedCategories),D(3),B("ngForOf",t.getAnalyticsInsights())}}function mG(n,e){n&1&&(m(0,"div",50)(1,"span",51),C(2,"\u26A0\uFE0F"),y(),C(3," Category name already exists! "),y())}function yG(n,e){if(n&1){let t=Ye();m(0,"div",52)(1,"div",53)(2,"h3"),C(3,"\u{1F50D} Search & Filter"),y(),m(4,"button",54),X("click",function(){K(t);let i=H();return Y(i.clearSearch())}),C(5,"Clear All"),y()(),m(6,"div",55)(7,"div",56)(8,"label",57),C(9,"Search"),y(),m(10,"input",58),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.searchTerm,i)||(o.searchTerm=i),Y(i)}),y()(),m(11,"div",59)(12,"label",60),C(13,"Usage"),y(),m(14,"select",61),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.filterByUsage,i)||(o.filterByUsage=i),Y(i)}),m(15,"option",62),C(16,"All Categories"),y(),m(17,"option",63),C(18,"Used Only"),y(),m(19,"option",64),C(20,"Unused Only"),y()()(),m(21,"div",59)(22,"label",65),C(23,"Sort By"),y(),m(24,"select",66),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.sortBy,i)||(o.sortBy=i),Y(i)}),m(25,"option",67),C(26,"Name"),y(),m(27,"option",68),C(28,"Usage"),y(),m(29,"option",69),C(30,"Color"),y()()(),m(31,"div",59)(32,"label",70),C(33,"Order"),y(),m(34,"select",71),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.sortOrder,i)||(o.sortOrder=i),Y(i)}),m(35,"option",72),C(36,"Ascending"),y(),m(37,"option",73),C(38,"Descending"),y()()()()()}if(n&2){let t=H();D(10),xe("ngModel",t.searchTerm),D(4),xe("ngModel",t.filterByUsage),D(10),xe("ngModel",t.sortBy),D(10),xe("ngModel",t.sortOrder)}}function _G(n,e){if(n&1){let t=Ye();m(0,"div",74)(1,"p",75),C(2,"No categories found. Would you like to initialize default categories?"),y(),m(3,"button",76),X("click",function(){K(t);let i=H();return Y(i.initializeDefaultCategories())}),m(4,"span",77),C(5,"\u{1F4C2}"),y(),C(6," Initialize Default Categories "),y()()}}function vG(n,e){if(n&1){let t=Ye();m(0,"div",80)(1,"div",81)(2,"div",82),Xn(3,"div",83),m(4,"div",84),C(5),y(),m(6,"div",85),C(7),y(),m(8,"div",86),C(9),y()(),m(10,"div",87)(11,"button",88),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.updateCategory(i))}),m(12,"span",89),C(13,"\u270F\uFE0F"),y(),m(14,"span",90),C(15,"Edit"),y()(),m(16,"button",91),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.confirmDelete(i))}),m(17,"span",92),C(18,"\u{1F5D1}\uFE0F"),y(),m(19,"span",93),C(20,"Delete"),y()()()()()}if(n&2){let t=e.$implicit,r=H(2);D(3),B("ngStyle",Cu(4,fG,t.color)),D(2),te(t.icon),D(2),te(t.name),D(2),we(" ",r.getCategoryUsage(t.id)," expenses ")}}function CG(n,e){if(n&1&&(m(0,"div",78),ie(1,vG,21,6,"div",79),y()),n&2){let t=H();D(),B("ngForOf",t.getFilteredCategories())}}function EG(n,e){n&1&&(m(0,"div",94)(1,"div",95),C(2,"\u{1F50D}"),y(),m(3,"h6",96),C(4,"No Categories Found"),y(),m(5,"p",97),C(6,"Try adjusting your search or filters."),y()())}function bG(n,e){n&1&&(m(0,"div",94)(1,"div",95),C(2,"\u{1F4C2}"),y(),m(3,"h6",96),C(4,"No Categories Yet"),y(),m(5,"p",97),C(6,"Start by adding your first expense category above."),y()())}var wy=class n{constructor(e,t,r){this.categoryService=e;this.expenseService=t;this.firebaseService=r}categories=[];expenses=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";filterByUsage="all";sortBy="name";sortOrder="asc";showAdvancedOptions=!1;isDuplicateCategory=!1;isEditMode=!1;editingCategoryId="";totalCategories=0;usedCategories=0;unusedCategories=0;mostUsedCategory=null;leastUsedCategory=null;subscription=new He;ngOnInit(){this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,this.calculateAnalytics(),console.log(`Received ${e.length} categories from Firebase`)})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateAnalytics(),console.log(`Received ${e.length} expenses from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return E(this,null,function*(){try{this.categories=yield this.categoryService.getAll(),this.expenses=yield this.expenseService.getAll(),this.calculateAnalytics()}catch(e){console.error("Error loading data:",e)}})}calculateAnalytics(){this.totalCategories=this.categories.length;let e=this.getCategoryUsageStats();if(this.usedCategories=Object.keys(e).length,this.unusedCategories=this.totalCategories-this.usedCategories,Object.keys(e).length>0){let t=Object.entries(e).sort((r,i)=>i[1]-r[1]);this.mostUsedCategory=this.categories.find(r=>r.id===t[0][0])||null,this.leastUsedCategory=this.categories.find(r=>r.id===t[t.length-1][0])||null}}getCategoryUsageStats(){let e={};return this.expenses.forEach(t=>{t.categoryId&&(e[t.categoryId]=(e[t.categoryId]||0)+1)}),e}initializeDefaultCategories(){return E(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData(),alert("Default categories initialized successfully!")}catch(e){console.error("Error initializing default categories:",e),alert("Error initializing default categories. Please try again.")}})}addCategory(){return E(this,null,function*(){if(this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),this.resetForm(),alert("Category added successfully!")}catch(e){console.error("Error adding category:",e),alert("Error adding category. Please try again.")}})}updateCategory(e){return E(this,null,function*(){try{let t=window.prompt("Enter new category name:",e.name);if(!t||t.trim()==="")return;let r=window.prompt("Enter new color (hex code):",e.color||"#ff6b9d");if(!r)return;let i=window.prompt("Enter new icon (emoji):",e.icon||"\u{1F4CC}");if(!i)return;let o=ce(j({},e),{name:t.trim(),color:r,icon:i});yield this.categoryService.update(o),console.log("Category updated successfully"),alert("Category updated successfully!")}catch(t){console.error("Error updating category:",t),alert("Error updating category. Please try again.")}})}deleteCategory(e){return E(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"?

This will also remove all expenses in this category.`))try{yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),alert("Category deleted successfully!")}catch(r){console.error("Error deleting category:",r),alert("Error deleting category. Please try again.")}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){return this.newCategory.name?.trim()?this.categories.some(t=>t.name.toLowerCase().trim()===this.newCategory.name.toLowerCase().trim()&&t.id!==this.editingCategoryId)?(this.isDuplicateCategory=!0,alert("Category name already exists!"),!1):(this.isDuplicateCategory=!1,!0):(alert("Please enter a category name."),!1)}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.isEditMode=!1,this.editingCategoryId="",this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];if(this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),this.filterByUsage!=="all"){let t=this.getCategoryUsageStats();this.filterByUsage==="used"?e=e.filter(r=>t[r.id]>0):this.filterByUsage==="unused"&&(e=e.filter(r=>!t[r.id]||t[r.id]===0))}return e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":let s=this.getCategoryUsageStats();i=s[t.id]||0,o=s[r.id]||0;break;case"color":i=t.color||"",o=r.color||"";break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i<o?-1:i>o?1:0:i>o?-1:i<o?1:0}),e}getCategoryUsage(e){return this.getCategoryUsageStats()[e]||0}clearSearch(){this.searchTerm=""}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3","#ff9f43","#ff6348","#2ed573","#1e90ff","#ffa502","#ff3838"]}getIconPresets(){return["\u{1F4CC}","\u{1F354}","\u{1F697}","\u{1F3E0}","\u{1F48A}","\u{1F3AC}","\u{1F6D2}","\u2708\uFE0F","\u{1F393}","\u{1F4BB}","\u{1F4F1}","\u{1F3AE}","\u{1F3CB}\uFE0F","\u{1F3A8}","\u{1F4DA}","\u{1F3B5}","\u{1F3AA}","\u{1F3E5}","\u{1F487}","\u{1F484}"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets();this.newCategory.color=e[Math.floor(Math.random()*e.length)]}setRandomIcon(){let e=this.getIconPresets();this.newCategory.icon=e[Math.floor(Math.random()*e.length)]}getCategoryCount(){return this.categories.length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.mostUsedCategory}getLeastUsedCategory(){return this.leastUsedCategory}cleanupDuplicates(){return E(this,null,function*(){if(window.confirm("This will remove duplicate categories. Continue?"))try{let t=this.categories.filter((r,i,o)=>i===o.findIndex(s=>s.name.toLowerCase()===r.name.toLowerCase()));for(let r of this.categories)yield this.categoryService.delete(r.id);for(let r of t)yield this.categoryService.add({name:r.name,color:r.color||"#ff6b9d",icon:r.icon||"\u{1F4CC}"});alert("Duplicate categories cleaned up successfully!")}catch(t){console.error("Error cleaning up duplicates:",t),alert("Error cleaning up duplicates. Please try again.")}})}getAnalyticsInsights(){let e=[];return this.mostUsedCategory&&e.push({type:"most-used",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon,color:this.mostUsedCategory.color}),this.leastUsedCategory&&e.push({type:"least-used",title:"Least Used Category",value:this.leastUsedCategory.name,icon:this.leastUsedCategory.icon,color:this.leastUsedCategory.color}),e.push({type:"stats",title:"Category Statistics",value:`${this.usedCategories} used, ${this.unusedCategories} unused`,icon:"\u{1F4CA}"}),e}static \u0275fac=function(t){return new(t||n)($(mi),$(gi),$(xn))};static \u0275cmp=Kt({type:n,selectors:[["app-categories"]],decls:64,vars:15,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","analytics-section",4,"ngIf"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryIcon",1,"form-label"],[1,"icon-group"],["type","text","id","categoryIcon","name","categoryIcon","placeholder","\u{1F4CC}","maxlength","2",1,"icon-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-icon",3,"click"],[1,"random-icon"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["class","search-filters-section",4,"ngIf"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"analytics-section"],[1,"analytics-header"],[1,"analytics-grid"],[1,"analytics-card"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-card",4,"ngFor","ngForOf"],[1,"error-message"],[1,"error-icon"],[1,"search-filters-section"],[1,"search-filters-header"],[1,"btn-clear-filters",3,"click"],[1,"search-filters-grid"],[1,"search-group"],["for","searchTerm"],["type","text","id","searchTerm","placeholder","Search categories...",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-group"],["for","filterByUsage"],["id","filterByUsage",1,"form-select",3,"ngModelChange","ngModel"],["value","all"],["value","used"],["value","unused"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","name"],["value","usage"],["value","color"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-usage"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),C(4,"\u{1F4C2}"),y(),m(5,"div",4)(6,"h1",5),C(7,"Categories"),y(),m(8,"p",6),C(9,"Manage your expense categories and organize your spending"),y()()()(),ie(10,gG,30,4,"div",7),m(11,"div",8)(12,"div",9)(13,"div",2)(14,"span",3),C(15,"\u2795"),y(),m(16,"h3",10),C(17,"Add New Category"),y()()(),m(18,"div",11)(19,"form",12),X("ngSubmit",function(){return r.addCategory()}),m(20,"div",13)(21,"div",14)(22,"label",15),C(23,"Category Name"),y(),m(24,"input",16),Ae("ngModelChange",function(o){return Ne(r.newCategory.name,o)||(r.newCategory.name=o),o}),X("input",function(){return r.clearValidationErrors()}),y(),ie(25,mG,4,0,"div",17),y(),m(26,"div",14)(27,"label",18),C(28,"Icon"),y(),m(29,"div",19)(30,"input",20),Ae("ngModelChange",function(o){return Ne(r.newCategory.icon,o)||(r.newCategory.icon=o),o}),y(),m(31,"button",21),X("click",function(){return r.setRandomIcon()}),m(32,"span",22),C(33,"\u{1F3B2}"),y(),C(34," Random "),y()()(),m(35,"div",14)(36,"label",23),C(37,"Color"),y(),m(38,"div",24)(39,"input",25),Ae("ngModelChange",function(o){return Ne(r.newCategory.color,o)||(r.newCategory.color=o),o}),y(),m(40,"button",26),X("click",function(){return r.setRandomColor()}),m(41,"span",22),C(42,"\u{1F3B2}"),y(),C(43," Random "),y()()()(),m(44,"div",27)(45,"button",28)(46,"span",29),C(47,"\u2795"),y(),m(48,"span",30),C(49,"Add Category"),y()()()()()(),ie(50,yG,39,4,"div",31),m(51,"div",32)(52,"div",33)(53,"div",34)(54,"span",35),C(55,"\u{1F4C2}"),y(),m(56,"h3",36),C(57,"Your Categories"),y()(),m(58,"div",37),C(59),y()(),ie(60,_G,7,0,"div",38)(61,CG,2,1,"div",39)(62,EG,7,0,"div",40)(63,bG,7,0,"div",40),y()()),t&2&&(D(10),B("ngIf",r.categories.length>0),D(14),Ft("error",r.isDuplicateCategory),xe("ngModel",r.newCategory.name),D(),B("ngIf",r.isDuplicateCategory),D(5),xe("ngModel",r.newCategory.icon),D(9),xe("ngModel",r.newCategory.color),D(6),B("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),D(5),B("ngIf",r.categories.length>0),D(9),Er("",r.getFilteredCategories().length," of ",r.categories.length," Categories"),D(),B("ngIf",r.categories.length===0),D(),B("ngIf",r.getFilteredCategories().length>0),D(),B("ngIf",r.getFilteredCategories().length===0&&r.categories.length>0),D(),B("ngIf",r.categories.length===0))},dependencies:[sn,Gr,yn,Su,ar,os,_l,vl,or,ss,sr,is,so,AM,$n,oo],styles:[".categories-page[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;background:#f8f9fa;min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#667eea;border-radius:8px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#fff}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;font-weight:500}.analytics-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}.btn-toggle-analytics[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-toggle-analytics[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;padding:1.5rem}.analytics-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef;display:flex;align-items:center;gap:1rem}.analytics-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f}.analytics-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.analytics-content[_ngcontent-%COMP%]{flex:1}.analytics-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.analytics-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.add-category-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;border-bottom:1px solid #e9ecef}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff}.header-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1rem;transition:border-color .2s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.85rem;display:flex;align-items:center;gap:.5rem;margin-top:.25rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.color-input[_ngcontent-%COMP%]{width:50px;height:40px;border:1px solid #e9ecef;border-radius:6px;cursor:pointer;background:none;padding:0}.icon-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1.2rem;text-align:center;transition:border-color .2s ease;background:#fff;width:60px}.icon-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 5px 20px #ff6b354d;height:50px}.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.random-icon[_ngcontent-%COMP%]{font-size:.9rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1rem}.btn-text[_ngcontent-%COMP%]{font-weight:600}.search-filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.search-filters-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;border-radius:8px 8px 0 0}.search-filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.search-filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.search-group[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.search-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e9ecef;border-radius:6px;font-size:.9rem;transition:border-color .2s ease;background:#fff;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#fff3;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;font-weight:500}.initialize-section[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]{margin:1.5rem;padding:1.5rem;border-radius:8px;text-align:center}.initialize-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef}.cleanup-section[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7}.initialize-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:500}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-weight:600;font-size:.9rem;transition:background-color .2s ease;display:inline-flex;align-items:center;gap:.5rem}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#5a6fd8}.categories-grid[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.category-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:1.5rem;transition:all .2s ease;width:100%}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.category-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:2rem;width:100%}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1;min-width:0}.category-color-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.category-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:6px;flex-shrink:0}.category-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem;flex:1;min-width:0;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.category-usage[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500;flex-shrink:0}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;border-radius:4px;cursor:pointer;font-weight:500;font-size:.85rem;transition:background-color .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem;color:#6c757d}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#2c3e50}.empty-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.8}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.categories-page[_ngcontent-%COMP%]{padding:.5rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.form-row[_ngcontent-%COMP%], .search-filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.categories-grid[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.category-info[_ngcontent-%COMP%]{width:100%}.category-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-card[_ngcontent-%COMP%]{padding:1rem}.analytics-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.25rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}}"]})};function wG(n,e){if(n&1&&(m(0,"div",21)(1,"div",22),C(2),y(),m(3,"div",23)(4,"div",24),C(5),y(),m(6,"div",25),C(7),y()()()),n&2){let t=e.$implicit;D(2),te(t.icon),D(3),te(t.value),D(2),te(t.title)}}function IG(n,e){if(n&1&&(m(0,"div",20)(1,"div",21)(2,"div",22),C(3,"\u{1F4B0}"),y(),m(4,"div",23)(5,"div",24),C(6),Le(7,"currency"),y(),m(8,"div",25),C(9,"Total Spent"),y()()(),m(10,"div",21)(11,"div",22),C(12,"\u{1F4C5}"),y(),m(13,"div",23)(14,"div",24),C(15),Le(16,"currency"),y(),m(17,"div",25),C(18,"Average Monthly"),y()()(),ie(19,wG,8,3,"div",26),y()),n&2){let t=H(2);D(6),te(rn(7,3,t.totalSpent,"INR")),D(9),te(rn(16,6,t.averageMonthlySpend,"INR")),D(4),B("ngForOf",t.getSpendingInsights())}}function MG(n,e){if(n&1){let t=Ye();m(0,"div",16)(1,"div",17)(2,"h3"),C(3,"\u{1F4C8} Spending Analytics"),y(),m(4,"button",18),X("click",function(){K(t);let i=H();return Y(i.showAnalytics=!i.showAnalytics)}),C(5),y()(),ie(6,IG,20,9,"div",19),y()}if(n&2){let t=H();D(5),we(" ",t.showAnalytics?"Hide":"Show"," Analytics "),D(),B("ngIf",t.showAnalytics)}}function DG(n,e){if(n&1&&(m(0,"div",33),C(1),Le(2,"currency"),y()),n&2){let t=H(2);Ft("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),D(),we(" ",rn(2,5,t.getMonthlyComparison().change,"INR")," ")}}function TG(n,e){n&1&&(m(0,"div",37),C(1," First Month "),y())}function SG(n,e){if(n&1&&(m(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3"),C(4,"Current Month Overview"),y(),m(5,"span",30),C(6),y()(),m(7,"div",31)(8,"div",32)(9,"div",33),C(10),Le(11,"currency"),y(),m(12,"div",34),C(13,"Total Spent"),y()(),m(14,"div",32)(15,"div",33),C(16),y(),m(17,"div",34),C(18,"Expenses"),y()(),m(19,"div",32),ie(20,DG,3,8,"div",35)(21,TG,2,0,"div",36),m(22,"div",34),C(23,"vs Last Month"),y()()()()()),n&2){let t,r,i,o,s=H();D(6),te((t=s.getCurrentMonthReport())==null?null:t.monthName),D(4),te(rn(11,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),D(6),te((i=s.getCurrentMonthReport())==null?null:i.expenseCount),D(4),B("ngIf",s.getMonthlyComparison().hasPreviousData),D(),B("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function PG(n,e){if(n&1&&(m(0,"option",60),C(1),y()),n&2){let t=e.$implicit;B("value",t),D(),te(t)}}function OG(n,e){if(n&1&&(m(0,"option",60),C(1),y()),n&2){let t=e.$implicit,r=H(2);B("value",t),D(),te(r.getMonthName(t))}}function xG(n,e){if(n&1&&(m(0,"option",60),C(1),y()),n&2){let t=e.$implicit;B("value",t.id),D(),Er(" ",t.icon," ",t.name," ")}}function AG(n,e){if(n&1){let t=Ye();m(0,"div",38)(1,"div",39)(2,"h3"),C(3,"\u{1F50D} Filter & Sort"),y(),m(4,"button",40),X("click",function(){K(t);let i=H();return Y(i.clearFilters())}),C(5,"Clear All"),y()(),m(6,"div",41)(7,"div",42)(8,"label",43),C(9,"Year"),y(),m(10,"select",44),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.filterYear,i)||(o.filterYear=i),Y(i)}),X("change",function(){K(t);let i=H();return Y(i.onFilterChange())}),m(11,"option",45),C(12,"All Years"),y(),ie(13,PG,2,2,"option",46),y()(),m(14,"div",42)(15,"label",47),C(16,"Month"),y(),m(17,"select",48),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.filterMonth,i)||(o.filterMonth=i),Y(i)}),X("change",function(){K(t);let i=H();return Y(i.onFilterChange())}),m(18,"option",45),C(19,"All Months"),y(),ie(20,OG,2,2,"option",46),y()(),m(21,"div",42)(22,"label",49),C(23,"Category"),y(),m(24,"select",50),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.filterCategory,i)||(o.filterCategory=i),Y(i)}),X("change",function(){K(t);let i=H();return Y(i.onFilterChange())}),m(25,"option",45),C(26,"All Categories"),y(),ie(27,xG,2,3,"option",46),y()(),m(28,"div",42)(29,"label",51),C(30,"Sort By"),y(),m(31,"select",52),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.sortBy,i)||(o.sortBy=i),Y(i)}),m(32,"option",53),C(33,"Month"),y(),m(34,"option",54),C(35,"Amount"),y(),m(36,"option",55),C(37,"Expense Count"),y()()(),m(38,"div",42)(39,"label",56),C(40,"Order"),y(),m(41,"select",57),Ae("ngModelChange",function(i){K(t);let o=H();return Ne(o.sortOrder,i)||(o.sortOrder=i),Y(i)}),m(42,"option",58),C(43,"Descending"),y(),m(44,"option",59),C(45,"Ascending"),y()()()()()}if(n&2){let t=H();D(10),xe("ngModel",t.filterYear),D(3),B("ngForOf",t.getAvailableYears()),D(4),xe("ngModel",t.filterMonth),D(3),B("ngForOf",t.getAvailableMonths()),D(4),xe("ngModel",t.filterCategory),D(3),B("ngForOf",t.categories),D(4),xe("ngModel",t.sortBy),D(10),xe("ngModel",t.sortOrder)}}function RG(n,e){if(n&1&&(m(0,"div",72)(1,"span",73),C(2),y(),m(3,"span",74),C(4),y(),m(5,"span",75),C(6),Le(7,"currency"),y()()),n&2){let t=e.$implicit;D(),In("background-color",t.category.color),D(),te(t.category.icon),D(2),te(t.category.name),D(2),te(rn(7,5,t.amount,"INR"))}}function NG(n,e){if(n&1){let t=Ye();m(0,"div",63),X("click",function(){let i=K(t).$implicit,o=H(2);return Y(o.selectMonth(i.monthKey))}),m(1,"div",64)(2,"h4",65),C(3),y(),m(4,"div",66),C(5,"\u2192"),y()(),m(6,"div",67)(7,"div",68),C(8),Le(9,"currency"),y(),m(10,"div",69),C(11),y()(),m(12,"div",70),ie(13,RG,8,8,"div",71),y()()}if(n&2){let t=e.$implicit;D(3),te(t.monthName),D(5),te(rn(9,4,t.totalAmount,"INR")),D(3),we("",t.expenseCount," expenses"),D(2),B("ngForOf",t.categoryBreakdown.slice(0,3))}}function kG(n,e){if(n&1&&(m(0,"div",61),ie(1,NG,14,7,"div",62),y()),n&2){let t=H();D(),B("ngForOf",t.getFilteredReports())}}function FG(n,e){n&1&&(m(0,"div",76)(1,"div",77),C(2,"\u{1F4CA}"),y(),m(3,"h6"),C(4,"No Reports Found"),y(),m(5,"p"),C(6,"Try adjusting your filters or add some expenses!"),y()())}function LG(n,e){if(n&1&&(m(0,"div",88)(1,"div",89)(2,"span",73),C(3),y(),m(4,"div",90)(5,"div",74),C(6),y(),m(7,"div",91),C(8),y()()(),m(9,"div",75),C(10),Le(11,"currency"),y()()),n&2){let t=e.$implicit;D(2),In("background-color",t.category.color),D(),te(t.category.icon),D(3),te(t.category.name),D(2),we("",t.count," expenses"),D(2),te(rn(11,6,t.amount,"INR"))}}function VG(n,e){if(n&1&&(m(0,"div",92)(1,"div",93)(2,"div",94),C(3),Le(4,"currency"),y(),m(5,"div",95)(6,"span",96),C(7),y()()(),m(8,"div",97)(9,"div",98),C(10),Le(11,"date"),y(),m(12,"div",99),C(13),y()()()),n&2){let t=e.$implicit,r=H(2);D(3),te(rn(4,7,t.amount,"INR")),D(3),In("background-color",r.getCategoryColor(t.categoryId)),D(),Er(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),D(3),te(mt(11,10,t.date)),D(3),te(t.description||"No description")}}function jG(n,e){if(n&1){let t=Ye();m(0,"div",78)(1,"div",79)(2,"button",80),X("click",function(){K(t);let i=H();return Y(i.showDetailedView=!1)}),C(3,"\u2190 Back to Overview"),y(),m(4,"h3"),C(5),y()(),m(6,"div",81)(7,"div",82)(8,"h4"),C(9,"Category Breakdown"),y(),m(10,"div",83),ie(11,LG,12,9,"div",84),y()(),m(12,"div",85)(13,"h4"),C(14,"All Expenses"),y(),m(15,"div",86),ie(16,VG,14,12,"div",87),y()()()()}if(n&2){let t,r,i,o=H();D(5),we("",(t=o.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),D(6),B("ngForOf",(r=o.getSelectedMonthReport())==null?null:r.categoryBreakdown),D(5),B("ngForOf",(i=o.getSelectedMonthReport())==null?null:i.expenses)}}var Iy=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;filterYear="";filterMonth="";filterCategory="";sortBy="month";sortOrder="desc";showAnalytics=!1;totalSpent=0;averageMonthlySpend=0;highestSpendingMonth=null;mostUsedCategory=null;spendingTrend="stable";ngOnInit(){this.loadData()}loadData(){return E(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports(),this.calculateAnalytics()}catch(e){console.error("Error loading reports:",e)}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r,year:parseInt(s),month:parseInt(a)})})}calculateAnalytics(){if(this.monthlyReports.length===0)return;let e=this.getFilteredReports();if(e.length===0){this.totalSpent=0,this.averageMonthlySpend=0,this.highestSpendingMonth=null,this.mostUsedCategory=null,this.spendingTrend="stable";return}this.totalSpent=e.reduce((i,o)=>i+o.totalAmount,0),this.averageMonthlySpend=this.totalSpent/e.length,this.highestSpendingMonth=e.reduce((i,o)=>o.totalAmount>i.totalAmount?o:i);let t={};if(this.getFilteredExpenses().forEach(i=>{t[i.categoryId]=(t[i.categoryId]||0)+1}),Object.keys(t).length>0){let i=Object.keys(t).reduce((o,s)=>t[s]>t[o]?s:o);this.mostUsedCategory=this.categories.find(o=>o.id===i)}else this.mostUsedCategory=null;if(e.length>=2){let i=e[0].totalAmount,o=e[1].totalAmount,s=i-o;s>0?this.spendingTrend="increasing":s<0?this.spendingTrend="decreasing":this.spendingTrend="stable"}else this.spendingTrend="stable"}getFilteredReports(){let e=[...this.monthlyReports];return this.filterYear&&(e=e.filter(t=>t.year.toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>t.month.toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryBreakdown.some(r=>r.category.id===this.filterCategory))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"month":i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime();break;case"amount":i=t.totalAmount,o=r.totalAmount;break;case"expenseCount":i=t.expenseCount,o=r.expenseCount;break;default:i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime()}return this.sortOrder==="asc"?i-o:o-i}),e}getAvailableYears(){return[...new Set(this.monthlyReports.map(t=>t.year.toString()))].sort((t,r)=>parseInt(r)-parseInt(t))}getAvailableMonths(){return[...new Set(this.monthlyReports.map(t=>t.month.toString()))].sort((t,r)=>parseInt(t)-parseInt(r))}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e)-1]||e}clearFilters(){this.filterYear="",this.filterMonth="",this.filterCategory="",this.sortBy="month",this.sortOrder="desc",this.calculateAnalytics()}onFilterChange(){this.calculateAnalytics()}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1,status:e?"First Month":"No Data"};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0?r/t.totalAmount*100:0,o="No Change";return r>0?o="Increased":r<0&&(o="Decreased"),{change:r,percentage:parseFloat(i.toFixed(2)),hasPreviousData:!0,status:o}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){let t=this.categories.find(r=>r.id===e);return t&&t.icon?t.icon:"\u{1F4CC}"}getCategoryColor(e){let t=this.categories.find(r=>r.id===e);return t&&t.color?t.color:"#6c757d"}getSpendingInsights(){let e=[];return this.highestSpendingMonth&&e.push({type:"highest",title:"Highest Spending Month",value:this.highestSpendingMonth.monthName,amount:this.highestSpendingMonth.totalAmount,icon:"\u{1F4C8}"}),this.mostUsedCategory&&e.push({type:"category",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon||"\u{1F4CC}"}),e.push({type:"trend",title:"Spending Trend",value:this.spendingTrend.charAt(0).toUpperCase()+this.spendingTrend.slice(1),icon:this.spendingTrend==="increasing"?"\u{1F4C8}":this.spendingTrend==="decreasing"?"\u{1F4C9}":"\u27A1\uFE0F"}),e}getFilteredExpenses(){let e=[...this.expenses];return this.filterYear&&(e=e.filter(t=>new Date(t.date).getFullYear().toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>(new Date(t.date).getMonth()+1).toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),e}static \u0275fac=function(t){return new(t||n)($(gi),$(mi))};static \u0275cmp=Kt({type:n,selectors:[["app-monthly-reports"]],decls:24,vars:7,consts:[[1,"monthly-reports-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","analytics-section",4,"ngIf"],["class","overview-section",4,"ngIf"],["class","filters-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],[1,"reports-count"],["class","reports-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"analytics-section"],[1,"analytics-header"],[1,"btn-toggle-analytics",3,"click"],["class","analytics-grid",4,"ngIf"],[1,"analytics-grid"],[1,"analytics-card"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-card",4,"ngFor","ngForOf"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"filters-section"],[1,"filters-header"],[1,"btn-clear-filters",3,"click"],[1,"filters-grid"],[1,"filter-group"],["for","filterYear"],["id","filterYear",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterMonth"],["id","filterMonth",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filterCategory"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","month"],["value","amount"],["value","expenseCount"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","desc"],["value","asc"],[3,"value"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-name"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"detailed-content"],[1,"breakdown-section"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"expense-item"],[1,"expense-info"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),C(4,"\u{1F4CA}"),y(),m(5,"div",4)(6,"h1",5),C(7,"Monthly Reports"),y(),m(8,"p",6),C(9,"Track your spending patterns and get insights"),y()()()(),ie(10,MG,7,2,"div",7)(11,SG,24,8,"div",8)(12,AG,46,8,"div",9),m(13,"div",10)(14,"div",11)(15,"h3"),C(16,"Monthly Breakdown"),y(),m(17,"p"),C(18,"Click on any month to view detailed breakdown"),y(),m(19,"div",12),C(20),y()(),ie(21,kG,2,1,"div",13)(22,FG,7,0,"div",14),y(),ie(23,jG,17,3,"div",15),y()),t&2&&(D(10),B("ngIf",r.monthlyReports.length>0),D(),B("ngIf",r.getCurrentMonthReport()),D(),B("ngIf",r.monthlyReports.length>0),D(8),we("",r.getFilteredReports().length," months"),D(),B("ngIf",r.getFilteredReports().length>0),D(),B("ngIf",r.getFilteredReports().length===0),D(),B("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[sn,Gr,yn,ar,_l,vl,ss,sr,$n,qs,Hs],styles:[".monthly-reports-page[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;background:#f8f9fa;min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:12px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#667eea;border-radius:8px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#fff}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0 0 .25rem;color:#fff}.page-description[_ngcontent-%COMP%]{font-size:1rem;margin:0}.analytics-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}.btn-toggle-analytics[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-weight:500;font-size:.9rem;transition:background-color .2s ease}.btn-toggle-analytics[_ngcontent-%COMP%]:hover{background:#5a6fd8}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;padding:1.5rem}.analytics-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef;display:flex;align-items:center;gap:1rem}.analytics-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.analytics-content[_ngcontent-%COMP%]{flex:1}.analytics-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.analytics-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.overview-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.overview-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.overview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.month-badge[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500}.overview-stats[_ngcontent-%COMP%]{padding:1.5rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center;background:#f8f9fa;padding:1.5rem;border-radius:8px;border:1px solid #e9ecef}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#2c3e50;margin-bottom:.5rem}.stat-value.positive[_ngcontent-%COMP%]{color:#27ae60}.stat-value.negative[_ngcontent-%COMP%]{color:#e74c3c}.stat-value.new-month[_ngcontent-%COMP%]{color:#f39c12;font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.filters-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:.75rem;border-bottom:1px solid #e9ecef;background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;border-radius:8px 8px 0 0}.filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e9ecef;border-radius:6px;font-size:.9rem;transition:border-color .2s ease;background:#fff;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.reports-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#6c757d;font-size:.9rem}.reports-count[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.reports-grid[_ngcontent-%COMP%]{padding:1.5rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.report-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:1.5rem;transition:all .2s ease;cursor:pointer}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.report-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.month-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;margin:0}.report-arrow[_ngcontent-%COMP%]{font-size:1.25rem;color:#667eea;transition:transform .2s ease}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(4px)}.report-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.report-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.report-count[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fff;border-radius:4px;border:1px solid #e9ecef}.category-icon[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.category-name[_ngcontent-%COMP%]{flex:1;font-size:.85rem;color:#2c3e50;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:600}.detailed-view[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;margin-top:1.5rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;gap:1rem;border-bottom:1px solid #e9ecef}.back-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-weight:500;font-size:.9rem;transition:background-color .2s ease}.back-btn[_ngcontent-%COMP%]:hover{background:#5a6fd8}.detailed-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.detailed-content[_ngcontent-%COMP%]{padding:1.5rem}.breakdown-section[_ngcontent-%COMP%], .expenses-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .expenses-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2c3e50;margin-bottom:1rem}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#fff;border-radius:6px;border:1px solid #e9ecef}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-count[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500}.category-amount[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#fff;border-radius:6px;border:1px solid #e9ecef}.expense-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.expense-amount[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1.1rem}.category-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:500;color:#fff}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;text-align:right}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#2c3e50;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem;color:#6c757d;background:#fff;border-radius:8px;margin:1.5rem;border:1px solid #e9ecef}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#2c3e50}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.8;font-weight:500}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:.5rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-card[_ngcontent-%COMP%]{padding:1rem}.analytics-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.25rem}.detailed-content[_ngcontent-%COMP%]{padding:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;text-align:center}.expense-info[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.expense-details[_ngcontent-%COMP%]{text-align:center}}"]})};function UG(n,e){n&1&&(m(0,"span",21),C(1,"\u23F3"),y())}function BG(n,e){n&1&&(m(0,"span"),C(1,"Sign In"),y())}function $G(n,e){if(n&1&&(m(0,"div",22),C(1),y()),n&2){let t=H();D(),we(" ",t.error," ")}}var My=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loading=!1;error="";signIn(){return E(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(t){return new(t||n)($(cr),$(Vt))};static \u0275cmp=Kt({type:n,selectors:[["app-login"]],decls:30,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Ye();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),C(5,"\u{1F4B0}"),y(),m(6,"h1",6),C(7,"Expense Tracker"),y()(),m(8,"p",7),C(9,"Sign in to manage your expenses"),y()(),m(10,"form",8,0),X("ngSubmit",function(){return K(i),Y(r.signIn())}),m(12,"div",9)(13,"label",10),C(14,"Email"),y(),m(15,"input",11),Ae("ngModelChange",function(s){return K(i),Ne(r.email,s)||(r.email=s),Y(s)}),y()(),m(16,"div",9)(17,"label",12),C(18,"Password"),y(),m(19,"input",13),Ae("ngModelChange",function(s){return K(i),Ne(r.password,s)||(r.password=s),Y(s)}),y()(),m(20,"div",14)(21,"button",15),ie(22,UG,2,0,"span",16)(23,BG,2,0,"span",17),y()()(),m(24,"div",18)(25,"p"),C(26,"Don't have an account? "),m(27,"a",19),X("click",function(){return K(i),Y(r.goToRegister())}),C(28,"Sign up"),y()()(),ie(29,$G,2,1,"div",20),y()()}if(t&2){let i=Us(11);D(15),xe("ngModel",r.email),D(4),xe("ngModel",r.password),D(2),B("disabled",!i.form.valid||r.loading),D(),B("ngIf",r.loading),D(),B("ngIf",!r.loading),D(6),B("ngIf",r.error)}},dependencies:[sn,yn,ar,os,or,sr,is,so,$n,oo],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Dy=class n{constructor(e){this.firebaseService=e}createDefaultCategories(){return E(this,null,function*(){let e=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let t of e)yield this.firebaseService.addCategory(t);console.log("Default categories created successfully")}catch(t){console.error("Error creating default categories:",t)}})}static \u0275fac=function(t){return new(t||n)(ne(xn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function HG(n,e){n&1&&(m(0,"span",25),C(1,"\u23F3"),y())}function qG(n,e){n&1&&(m(0,"span"),C(1,"Create Account"),y())}function WG(n,e){if(n&1&&(m(0,"div",26),C(1),y()),n&2){let t=H();D(),we(" ",t.error," ")}}var Ty=class n{constructor(e,t,r){this.authService=e;this.router=t;this.defaultCategoriesService=r}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return E(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(e){return e.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":e.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(t){return new(t||n)($(cr),$(Vt),$(Dy))};static \u0275cmp=Kt({type:n,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Ye();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),C(5,"\u{1F4B0}"),y(),m(6,"h1",6),C(7,"Expense Tracker"),y()(),m(8,"p",7),C(9,"Create your account to start tracking expenses"),y()(),m(10,"form",8,0),X("ngSubmit",function(){return K(i),Y(r.register())}),m(12,"div",9)(13,"label",10),C(14,"Full Name"),y(),m(15,"input",11),Ae("ngModelChange",function(s){return K(i),Ne(r.displayName,s)||(r.displayName=s),Y(s)}),y()(),m(16,"div",9)(17,"label",12),C(18,"Email"),y(),m(19,"input",13),Ae("ngModelChange",function(s){return K(i),Ne(r.email,s)||(r.email=s),Y(s)}),y()(),m(20,"div",9)(21,"label",14),C(22,"Password"),y(),m(23,"input",15),Ae("ngModelChange",function(s){return K(i),Ne(r.password,s)||(r.password=s),Y(s)}),y()(),m(24,"div",9)(25,"label",16),C(26,"Confirm Password"),y(),m(27,"input",17),Ae("ngModelChange",function(s){return K(i),Ne(r.confirmPassword,s)||(r.confirmPassword=s),Y(s)}),y()(),m(28,"div",18)(29,"button",19),ie(30,HG,2,0,"span",20)(31,qG,2,0,"span",21),y()()(),m(32,"div",22)(33,"p"),C(34,"Already have an account? "),m(35,"a",23),X("click",function(){return K(i),Y(r.goToLogin())}),C(36,"Sign in"),y()()(),ie(37,WG,2,1,"div",24),y()()}if(t&2){let i=Us(11);D(15),xe("ngModel",r.displayName),D(4),xe("ngModel",r.email),D(4),xe("ngModel",r.password),D(4),xe("ngModel",r.confirmPassword),D(2),B("disabled",!i.form.valid||r.loading||!r.passwordsMatch()),D(),B("ngIf",r.loading),D(),B("ngIf",!r.loading),D(6),B("ngIf",r.error)}},dependencies:[sn,yn,ar,os,or,sr,is,so,xM,$n,oo],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var Sa=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.currentUser$.pipe(vt(e=>e!==void 0),Ot(1),pe(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(ne(cr),ne(Vt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var mL=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:My},{path:"register",component:Ty},{path:"dashboard",component:Ey,canActivate:[Sa]},{path:"expenses",component:by,canActivate:[Sa]},{path:"categories",component:wy,canActivate:[Sa]},{path:"reports",component:Iy,canActivate:[Sa]}];var yL={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"};var RM="Service workers are disabled or not supported by this browser",bl=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new ue(r=>r.error(new L(5601,!1)));else{let r=null,i=new tt;this.worker=new ue(u=>(r!==null&&u.next(r),i.subscribe(d=>u.next(d))));let o=()=>{let{controller:u}=e;u!==null&&(r=u,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(zt(()=>e.getRegistration()));let s=new tt;this.events=s.asObservable();let a=u=>{let{data:d}=u;d?.type&&s.next(d)};e.addEventListener("message",a),t?.get(Jn,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Ot(1)).subscribe(i=>{i.postMessage(j({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(vt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ot(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(vt(i=>i.nonce===e),Ot(1),pe(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},GG=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new tt;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=bi,this.notificationClicks=bi,this.notificationCloses=bi,this.pushSubscriptionChanges=bi,this.subscription=bi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(pe(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(pe(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(pe(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(pe(i=>i.data)),this.pushManager=this.sw.registration.pipe(pe(i=>i.pushManager));let r=this.pushManager.pipe(zt(i=>i.getSubscription()));this.subscription=new ue(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(RM));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(zt(c=>c.subscribe(r)),Ot(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(RM));let t=r=>{if(r===null)throw new L(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new L(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Ot(1),zt(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(ne(bl))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),KG=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=bi,this.unrecoverable=bi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(RM));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new L(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(ne(bl))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var vL=new Z("");function YG(){let n=F(oh);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=F(vL),t=F(Oe),r=F(Jn);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=_L(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),_L(+a[0])]);break;default:throw new L(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(Is(5604,!1)))})})}function _L(n){return new Promise(e=>setTimeout(e,n))}function QG(n,e){return new bl(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var oh=class{enabled;scope;registrationStrategy};function CL(n,e={}){return kt([GG,KG,{provide:vL,useValue:n},{provide:oh,useValue:e},{provide:bl,useFactory:QG,deps:[oh,rt]},_p(YG)])}var EL={providers:[Iv(),YC({eventCoalescing:!0}),X0(mL),m1(),G1(()=>K1(yL)),XR(()=>tN()),xF(()=>AF()),HF(()=>qF()),CL("ngsw-worker.js",{enabled:!bu(),registrationStrategy:"registerWhenStable:30000"})]};var Sy=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function JG(n,e){n&1&&(m(0,"div",3)(1,"div",4),C(2,"\u23F3"),y(),m(3,"p"),C(4,"Loading..."),y()())}function XG(n,e){if(n&1){let t=Ye();m(0,"div",35)(1,"div",36)(2,"span",37),C(3),y(),m(4,"button",38),X("click",function(){K(t);let i=H(2);return Y(i.signOut())}),m(5,"span",39),C(6,"\u{1F6AA}"),y()()()()}if(n&2){let t=e.ngIf;D(3),te(t.displayName||t.email)}}function eK(n,e){if(n&1){let t=Ye();m(0,"div",40),X("click",function(){K(t);let i=H(2);return Y(i.closeSidebar())}),y()}}function tK(n,e){if(n&1){let t=Ye();m(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),X("click",function(){K(t);let i=H();return Y(i.toggleSidebar())}),m(5,"span",10),C(6,"\u2630"),y()(),m(7,"div",11)(8,"span",12),C(9,"\u{1F4B0}"),y(),m(10,"span",13),C(11,"Expense Tracker"),y()()(),m(12,"nav",14)(13,"a",15),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(14,"span",16),C(15,"\u{1F4CA}"),y(),m(16,"span",17),C(17,"Dashboard"),y()(),m(18,"a",18),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(19,"span",16),C(20,"\u{1F4B8}"),y(),m(21,"span",17),C(22,"Expenses"),y()(),m(23,"a",19),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(24,"span",16),C(25,"\u{1F3F7}\uFE0F"),y(),m(26,"span",17),C(27,"Categories"),y()(),m(28,"a",20),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(29,"span",16),C(30,"\u{1F4CA}"),y(),m(31,"span",17),C(32,"Reports"),y()()(),ie(33,XG,7,1,"div",21),Le(34,"async"),y()(),ie(35,eK,1,0,"div",22),m(36,"aside",23)(37,"div",24)(38,"div",25)(39,"span",12),C(40,"\u{1F4B0}"),y(),m(41,"span",13),C(42,"Expense Tracker"),y()()(),m(43,"nav",26)(44,"a",27),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(45,"span",28),C(46,"\u{1F4CA}"),y(),m(47,"span",29),C(48,"Dashboard"),y()(),m(49,"a",30),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(50,"span",28),C(51,"\u{1F4B8}"),y(),m(52,"span",29),C(53,"Expenses"),y()(),m(54,"a",31),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(55,"span",28),C(56,"\u{1F3F7}\uFE0F"),y(),m(57,"span",29),C(58,"Categories"),y()(),m(59,"a",32),X("click",function(){K(t);let i=H();return Y(i.onNavClick())}),m(60,"span",28),C(61,"\u{1F4CA}"),y(),m(62,"span",29),C(63,"Reports"),y()()()(),m(64,"main",33)(65,"div",34),Xn(66,"router-outlet"),y()()()}if(n&2){let t=H();D(33),B("ngIf",mt(34,6,t.currentUser$)),D(2),B("ngIf",t.sidebarOpen),D(),Ft("sidebar-open",t.sidebarOpen),D(28),Ft("content-blurred",t.sidebarOpen)}}function nK(n,e){n&1&&(m(0,"div",41),Xn(1,"router-outlet"),y())}var Py=class n{constructor(e,t,r){this.scrollService=e;this.authService=t;this.router=r;this.restoreLastRoute(),this.router.events.subscribe(()=>{this.saveCurrentRoute()})}sidebarOpen=!1;get currentUser$(){return this.authService.currentUser$}toggleSidebar(){console.log("Toggle sidebar called"),this.sidebarOpen=!this.sidebarOpen,this.sidebarOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeSidebar(){console.log("Close sidebar called"),this.sidebarOpen=!1,document.body.style.overflow=""}signOut(){return E(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/login"])}catch(e){console.error("Error signing out:",e)}})}saveCurrentRoute(){let e=this.router.url;e&&e!=="/login"&&e!=="/register"&&localStorage.setItem("lastRoute",e)}restoreLastRoute(){let e=localStorage.getItem("lastRoute");e&&e!=="/login"&&e!=="/register"&&this.authService.currentUser$.pipe(vt(t=>t!==void 0),Ot(1)).subscribe(t=>{t&&this.router.url==="/dashboard"&&setTimeout(()=>{this.router.navigate([e])},100)})}onNavClick(){this.closeSidebar(),this.scrollService.scrollToTop(),this.saveCurrentRoute()}static \u0275fac=function(t){return new(t||n)($(Sy),$(cr),$(Vt))};static \u0275cmp=Kt({type:n,selectors:[["app-root"]],decls:6,vars:9,consts:[["class","loading-container",4,"ngIf"],["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["aria-label","Toggle sidebar",1,"sidebar-toggle",3,"click"],[1,"hamburger-icon"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"header-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link",3,"click"],["class","user-section",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-brand"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"link-icon"],[1,"link-text"],["routerLink","/expenses","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"main-content"],[1,"content-container"],[1,"user-section"],[1,"user-info"],[1,"user-name"],["title","Sign out",1,"sign-out-btn",3,"click"],[1,"sign-out-icon"],[1,"sidebar-overlay",3,"click"],[1,"auth-container"]],template:function(t,r){t&1&&(ie(0,JG,5,0,"div",0),Le(1,"async"),ie(2,tK,67,8,"div",1),Le(3,"async"),ie(4,nK,2,0,"div",2),Le(5,"async")),t&2&&(B("ngIf",mt(1,3,r.currentUser$)===void 0),D(2),B("ngIf",mt(3,5,r.currentUser$)),D(2),B("ngIf",mt(5,7,r.currentUser$)===null))},dependencies:[Zu,Pc,J0,sn,yn,_0],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;position:relative;height:100%;margin:0;padding:0}@supports (height: 100dvh){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100vh!important;min-height:100vh!important;max-height:100vh!important;top:0!important}}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 2px 10px #0000001a;position:sticky;top:0;z-index:100;padding:0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;margin:0 auto}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:8px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;min-width:44px;min-height:44px}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}@media (min-width: 769px){.sidebar-toggle[_ngcontent-%COMP%]{display:none}}.hamburger-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.header-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#fff;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d}.nav-icon[_ngcontent-%COMP%]{font-size:1rem}.nav-text[_ngcontent-%COMP%]{font-size:.9rem}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.5rem 1rem;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.9rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sign-out-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:6px;padding:.25rem .5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.sign-out-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.sign-out-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.auth-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;min-height:100vh;max-height:100vh;background:#00000080;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;min-height:100vh;max-height:100vh;background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);box-shadow:4px 0 20px #00000026;z-index:300;transition:left .3s ease;overflow-y:auto;display:flex;flex-direction:column;padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0;flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:#fff;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left-color:#ffffff80}.sidebar-link.active[_ngcontent-%COMP%]{background:#fff3;border-left-color:#fff}.link-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.link-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;transition:filter .3s ease}.main-content.content-blurred[_ngcontent-%COMP%]{filter:blur(4px);pointer-events:none}.content-container[_ngcontent-%COMP%]{margin:0 auto;padding:2rem 1.5rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.header-nav[_ngcontent-%COMP%]{display:none}.sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:280px;left:-280px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.user-section[_ngcontent-%COMP%]{margin-left:.5rem}.user-info[_ngcontent-%COMP%]{padding:.25rem .5rem}.user-name[_ngcontent-%COMP%]{max-width:100px;font-size:.8rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem}.sidebar[_ngcontent-%COMP%]{width:260px;left:-260px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.content-container[_ngcontent-%COMP%]{padding:.75rem}}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem}.loading-spinner[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};S0(Py,EL).catch(n=>console.error(n));
