import{M as o,g as s}from"./chunk-4CHXRCSU.js";import{a}from"./chunk-RA2WU32H.js";var l=class r{filterStateSubject=new s({selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""});filterState$=this.filterStateSubject.asObservable();constructor(){this.loadFilterState()}updateFilterState(t){let e=this.filterStateSubject.value,i=a(a({},e),t);this.filterStateSubject.next(i),this.saveFilterState(i)}getFilterState(){return this.filterStateSubject.value}clearFilterState(){let t={selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""};this.filterStateSubject.next(t),this.saveFilterState(t)}saveFilterState(t){try{localStorage.setItem("expenseTracker_filterState",JSON.stringify(t))}catch(e){console.error("Error saving filter state to localStorage:",e)}}loadFilterState(){try{let t=localStorage.getItem("expenseTracker_filterState");if(t){let e=JSON.parse(t);this.filterStateSubject.next(e)}}catch(t){console.error("Error loading filter state from localStorage:",t)}}isCustomDateRangeActive(){let t=this.getFilterState();return t.selectedPeriod==="custom"&&!!t.customStartDate&&!!t.customEndDate}getCustomDateRange(){let t=this.getFilterState();return this.isCustomDateRangeActive()?{startDate:t.customStartDate,endDate:t.customEndDate}:null}getCurrentPeriodFilter(){return this.getFilterState().selectedPeriod}static \u0275fac=function(e){return new(e||r)};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
