import{Fa as f,Hc as O,Ia as c,Ic as S,Jc as y,Mc as w,Pb as M,Qb as P,Ta as l,Ua as n,Va as e,Wb as v,Wc as T,Ya as b,Za as C,d as u,eb as E,fb as t,gb as g,hb as m,kb as h,lb as _,mb as x,va as r,za as p}from"./chunk-ORUFO6Z7.js";function k(s,i){if(s&1&&(n(0,"div",11)(1,"div",12),t(2),e(),n(3,"div",13),t(4),e(),n(5,"div",14),t(6),e()()),s&2){let o=i.$implicit;r(2),g(o.time),r(),E(o.success?"success":"error"),r(),m(" ",o.success?"\u2705 Success":"\u274C Error"," "),r(2),g(o.message)}}function F(s,i){if(s&1&&(n(0,"div",9)(1,"h3"),t(2,"Test Results"),e(),c(3,k,7,5,"div",10),e()),s&2){let o=C();r(3),l("ngForOf",o.testResults)}}var I=class s{constructor(i){this.authService=i}testEmail="";testing=!1;testResults=[];getCurrentUserInfo(){let i=this.authService.getCurrentUser();return i?`${i.email} (${i.uid})`:"No user logged in"}testPasswordReset(){return u(this,null,function*(){if(!this.testEmail){this.addResult(!1,"Please enter an email address");return}this.testing=!0;try{console.log("Testing password reset for:",this.testEmail),yield this.authService.sendPasswordResetEmail(this.testEmail),this.addResult(!0,`Password reset email sent successfully to ${this.testEmail}`)}catch(i){console.error("Test failed:",i),this.addResult(!1,`Error: ${i.message}`)}finally{this.testing=!1}})}addResult(i,o){this.testResults.unshift({time:new Date().toLocaleTimeString(),success:i,message:o})}static \u0275fac=function(o){return new(o||s)(p(O))};static \u0275cmp=f({type:s,selectors:[["app-email-test"]],decls:49,vars:5,consts:[[1,"email-test-container"],[1,"email-test-card"],[1,"debug-info"],[1,"test-form"],[1,"form-group"],["type","email","placeholder","Enter email to test",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn-test",3,"click","disabled"],["class","results",4,"ngIf"],[1,"troubleshooting"],[1,"results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[1,"result-time"],[1,"result-status"],[1,"result-message"]],template:function(o,a){o&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),t(3,"Email Test & Debug"),e(),n(4,"div",2)(5,"h3"),t(6,"Firebase Configuration"),e(),n(7,"p")(8,"strong"),t(9,"Project ID:"),e(),t(10," expense-tracker-4d264"),e(),n(11,"p")(12,"strong"),t(13,"Auth Domain:"),e(),t(14," expense-tracker-4d264.firebaseapp.com"),e(),n(15,"p")(16,"strong"),t(17,"Current User:"),e(),t(18),e()(),n(19,"div",3)(20,"h3"),t(21,"Test Password Reset"),e(),n(22,"div",4)(23,"label"),t(24,"Email Address:"),e(),n(25,"input",5),x("ngModelChange",function(d){return _(a.testEmail,d)||(a.testEmail=d),d}),e()(),n(26,"button",6),b("click",function(){return a.testPasswordReset()}),t(27),e()(),c(28,F,4,1,"div",7),n(29,"div",8)(30,"h3"),t(31,"Common Issues & Solutions"),e(),n(32,"ul")(33,"li")(34,"strong"),t(35,"No account found:"),e(),t(36," Email doesn't exist in Firebase Auth"),e(),n(37,"li")(38,"strong"),t(39,"Network error:"),e(),t(40," Check internet connection"),e(),n(41,"li")(42,"strong"),t(43,"Too many requests:"),e(),t(44," Wait 5-10 minutes before retrying"),e(),n(45,"li")(46,"strong"),t(47,"Operation not allowed:"),e(),t(48," Password reset disabled in Firebase"),e()()()()()),o&2&&(r(18),m(" ",a.getCurrentUserInfo()),r(7),h("ngModel",a.testEmail),r(),l("disabled",a.testing),r(),m(" ",a.testing?"Testing...":"Test Password Reset"," "),r(),l("ngIf",a.testResults.length>0))},dependencies:[v,M,P,T,S,y,w],styles:[".email-test-container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.email-test-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 20px #0000001a}.debug-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:8px;margin-bottom:1.5rem}.debug-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.debug-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-family:monospace}.test-form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem}.btn-test[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem}.btn-test[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.results[_ngcontent-%COMP%]{margin-top:1.5rem}.result-item[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:6px;margin-bottom:.5rem;border-left:4px solid #007bff}.result-time[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-bottom:.5rem}.result-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.result-status.success[_ngcontent-%COMP%]{color:#28a745}.result-status.error[_ngcontent-%COMP%]{color:#dc3545}.result-message[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;white-space:pre-wrap}.troubleshooting[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #eee}.troubleshooting[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.troubleshooting[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;background:#fff3cd;border-radius:4px;border-left:4px solid #ffc107}"]})};export{I as EmailTestComponent};
