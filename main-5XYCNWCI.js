var z5=Object.defineProperty,H5=Object.defineProperties;var q5=Object.getOwnPropertyDescriptors;var Lh=Object.getOwnPropertySymbols,W5=Object.getPrototypeOf,vO=Object.prototype.hasOwnProperty,CO=Object.prototype.propertyIsEnumerable,G5=Reflect.get;var yO=(n,e,t)=>e in n?z5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})vO.call(e,t)&&yO(n,t,e[t]);if(Lh)for(var t of Lh(e))CO.call(e,t)&&yO(n,t,e[t]);return n},ue=(n,e)=>H5(n,q5(e));var Ts=(n,e)=>{var t={};for(var r in n)vO.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Lh)for(var r of Lh(n))e.indexOf(r)<0&&CO.call(n,r)&&(t[r]=n[r]);return t};var Do=(n,e,t)=>G5(W5(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var by;function Vh(){return by}function Yr(n){let e=by;return by=n,e}var bO=Symbol("NotFound");function Ga(n){return n===bO||n?.name==="\u0275NotFound"}function zh(n,e){return Object.is(n,e)}var Rt=null,jh=!1,wy=1,K5=null,dn=Symbol("SIGNAL");function Oe(n){let e=Rt;return Rt=n,e}function Hh(){return Rt}var As={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ka(n){if(jh)throw new Error("");if(Rt===null)return;Rt.consumerOnSignalRead(n);let e=Rt.nextProducerIndex++;if(Kh(Rt),e<Rt.producerNode.length&&Rt.producerNode[e]!==n&&Ql(Rt)){let t=Rt.producerNode[e];Gh(t,Rt.producerIndexOfThis[e])}Rt.producerNode[e]!==n&&(Rt.producerNode[e]=n,Rt.producerIndexOfThis[e]=Ql(Rt)?MO(n,Rt,e):0),Rt.producerLastReadVersion[e]=n.version}function wO(){wy++}function qh(n){if(!(Ql(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===wy)){if(!n.producerMustRecompute(n)&&!Zl(n)){$h(n);return}n.producerRecomputeValue(n),$h(n)}}function My(n){if(n.liveConsumerNode===void 0)return;let e=jh;jh=!0;try{for(let t of n.liveConsumerNode)t.dirty||Y5(t)}finally{jh=e}}function Ey(){return Rt?.consumerAllowSignalWrites!==!1}function Y5(n){n.dirty=!0,My(n),n.consumerMarkedDirty?.(n)}function $h(n){n.dirty=!1,n.lastCleanEpoch=wy}function ks(n){return n&&(n.nextProducerIndex=0),Oe(n)}function Ya(n,e){if(Oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ql(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Gh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Zl(n){Kh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(qh(t),r!==t.version))return!0}return!1}function Wh(n){if(Kh(n),Ql(n))for(let e=0;e<n.producerNode.length;e++)Gh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function MO(n,e,t){if(EO(n),n.liveConsumerNode.length===0&&PO(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=MO(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Gh(n,e){if(EO(n),n.liveConsumerNode.length===1&&PO(n))for(let r=0;r<n.producerNode.length;r++)Gh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Kh(i),i.producerIndexOfThis[r]=e}}function Ql(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Kh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function EO(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function PO(n){return n.producerNode!==void 0}function Yh(n){K5?.(n)}function Qh(n,e){let t=Object.create(Q5);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(qh(t),Ka(t),t.value===Yl)throw t.error;return t.value};return r[dn]=t,Yh(t),r}var Uh=Symbol("UNSET"),Bh=Symbol("COMPUTING"),Yl=Symbol("ERRORED"),Q5=ue(U({},As),{value:Uh,dirty:!0,error:null,equal:zh,kind:"computed",producerMustRecompute(n){return n.value===Uh||n.value===Bh},producerRecomputeValue(n){if(n.value===Bh)throw new Error("");let e=n.value;n.value=Bh;let t=ks(n),r,i=!1;try{r=n.computation(),Oe(null),i=e!==Uh&&e!==Yl&&r!==Yl&&n.equal(e,r)}catch(o){r=Yl,n.error=o}finally{Ya(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Z5(){throw new Error}var xO=Z5;function OO(n){xO(n)}function Py(n){xO=n}var J5=null;function xy(n,e){let t=Object.create(Zh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>IO(t);return r[dn]=t,Yh(t),[r,s=>Qa(t,s),s=>Oy(t,s)]}function IO(n){return Ka(n),n.value}function Qa(n,e){Ey()||OO(n),n.equal(n.value,e)||(n.value=e,X5(n))}function Oy(n,e){Ey()||OO(n),Qa(n,e(n.value))}var Zh=ue(U({},As),{equal:zh,value:void 0,kind:"signal"});function X5(n){n.version++,wO(),My(n),J5?.(n)}function we(n){return typeof n=="function"}function Za(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jh=Za(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Rs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var We=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(we(r))try{r()}catch(o){e=o instanceof Jh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{SO(o)}catch(s){e=e??[],s instanceof Jh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Jh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)SO(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Rs(t,e)}remove(e){let{_finalizers:t}=this;t&&Rs(t,e),e instanceof n&&e._removeParent(this)}};We.EMPTY=(()=>{let n=new We;return n.closed=!0,n})();var Iy=We.EMPTY;function Xh(n){return n instanceof We||n&&"closed"in n&&we(n.remove)&&we(n.add)&&we(n.unsubscribe)}function SO(n){we(n)?n():n.unsubscribe()}var br={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ja={setTimeout(n,e,...t){let{delegate:r}=Ja;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ja;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ef(n){Ja.setTimeout(()=>{let{onUnhandledError:e}=br;if(e)e(n);else throw n})}function Ns(){}var DO=Sy("C",void 0,void 0);function TO(n){return Sy("E",void 0,n)}function AO(n){return Sy("N",n,void 0)}function Sy(n,e,t){return{kind:n,value:e,error:t}}var Fs=null;function Xa(n){if(br.useDeprecatedSynchronousErrorHandling){let e=!Fs;if(e&&(Fs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fs;if(Fs=null,t)throw r}}else n()}function kO(n){br.useDeprecatedSynchronousErrorHandling&&Fs&&(Fs.errorThrown=!0,Fs.error=n)}var Ls=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xh(e)&&e.add(this)):this.destination=nL}static create(e,t,r){return new ec(e,t,r)}next(e){this.isStopped?Ty(AO(e),this):this._next(e)}error(e){this.isStopped?Ty(TO(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ty(DO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eL=Function.prototype.bind;function Dy(n,e){return eL.call(n,e)}var Ay=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){tf(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){tf(r)}else tf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){tf(t)}}},ec=class extends Ls{constructor(e,t,r){super();let i;if(we(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&br.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dy(e.next,o),error:e.error&&Dy(e.error,o),complete:e.complete&&Dy(e.complete,o)}):i=e}this.destination=new Ay(i)}};function tf(n){br.useDeprecatedSynchronousErrorHandling?kO(n):ef(n)}function tL(n){throw n}function Ty(n,e){let{onStoppedNotification:t}=br;t&&Ja.setTimeout(()=>t(n,e))}var nL={closed:!0,next:Ns,error:tL,complete:Ns};var tc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zn(n){return n}function ky(...n){return Ry(n)}function Ry(n){return n.length===0?zn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=iL(t)?t:new ec(t,r,i);return Xa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=RO(r),new r((i,o)=>{let s=new ec({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[tc](){return this}pipe(...t){return Ry(t)(this)}toPromise(t){return t=RO(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function RO(n){var e;return(e=n??br.Promise)!==null&&e!==void 0?e:Promise}function rL(n){return n&&we(n.next)&&we(n.error)&&we(n.complete)}function iL(n){return n&&n instanceof Ls||rL(n)&&Xh(n)}function Ny(n){return we(n?.lift)}function Fe(n){return e=>{if(Ny(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,e,t,r,i){return new Fy(n,e,t,r,i)}var Fy=class extends Ls{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function nc(){return Fe((n,e)=>{let t=null;n._refCount++;let r=Re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var rc=class extends fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ny(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;let t=this.getSubject();e.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return nc()(this)}};var NO=Za(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class n extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new nf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NO}next(t){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Iy:(this.currentObservers=null,o.push(t),new We(()=>{this.currentObservers=null,Rs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new fe;return t.source=this,t}}return n.create=(e,t)=>new nf(e,t),n})(),nf=class extends it{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Iy}};var ot=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ly={now(){return(Ly.delegate||Date).now()},delegate:void 0};var rf=class extends We{constructor(e,t){super()}schedule(e,t=0){return this}};var Jl={setInterval(n,e,...t){let{delegate:r}=Jl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Jl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ic=class extends rf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Jl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Jl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Rs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};oc.now=Ly.now;var sc=class extends oc{constructor(e,t=oc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Vy=new sc(ic);var of=class extends ic{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var sf=class extends sc{};var jy=new sf(of);var Tn=new fe(n=>n.complete());function FO(n){return n&&we(n.schedule)}function LO(n){return n[n.length-1]}function af(n){return we(LO(n))?n.pop():void 0}function To(n){return FO(LO(n))?n.pop():void 0}function Uy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function jO(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function VO(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vs(n){return this instanceof Vs?(this.v=n,this):new Vs(n)}function UO(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(E){return Promise.resolve(E).then(v,p)}}function a(v,E){r[v]&&(i[v]=function(D){return new Promise(function(k,B){o.push([v,D,k,B])>1||c(v,D)})},E&&(i[v]=E(i[v])))}function c(v,E){try{u(r[v](E))}catch(D){y(o[0][3],D)}}function u(v){v.value instanceof Vs?Promise.resolve(v.value.v).then(d,p):y(o[0][2],v)}function d(v){c("next",v)}function p(v){c("throw",v)}function y(v,E){v(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function BO(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof VO=="function"?VO(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var cf=n=>n&&typeof n.length=="number"&&typeof n!="function";function lf(n){return we(n?.then)}function uf(n){return we(n[tc])}function df(n){return Symbol.asyncIterator&&we(n?.[Symbol.asyncIterator])}function hf(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ff=oL();function gf(n){return we(n?.[ff])}function pf(n){return UO(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vs(t.read());if(i)return yield Vs(void 0);yield yield Vs(r)}}finally{t.releaseLock()}})}function mf(n){return we(n?.getReader)}function Et(n){if(n instanceof fe)return n;if(n!=null){if(uf(n))return sL(n);if(cf(n))return aL(n);if(lf(n))return cL(n);if(df(n))return $O(n);if(gf(n))return lL(n);if(mf(n))return uL(n)}throw hf(n)}function sL(n){return new fe(e=>{let t=n[tc]();if(we(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aL(n){return new fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function cL(n){return new fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ef)})}function lL(n){return new fe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function $O(n){return new fe(e=>{dL(n,e).catch(t=>e.error(t))})}function uL(n){return $O(pf(n))}function dL(n,e){var t,r,i,o;return jO(this,void 0,void 0,function*(){try{for(t=BO(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function An(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ao(n,e=0){return Fe((t,r)=>{t.subscribe(Re(r,i=>An(r,n,()=>r.next(i),e),()=>An(r,n,()=>r.complete(),e),i=>An(r,n,()=>r.error(i),e)))})}function ko(n,e=0){return Fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zO(n,e){return Et(n).pipe(ko(e),Ao(e))}function HO(n,e){return Et(n).pipe(ko(e),Ao(e))}function qO(n,e){return new fe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function WO(n,e){return new fe(t=>{let r;return An(t,e,()=>{r=n[ff](),An(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}function _f(n,e){if(!n)throw new Error("Iterable cannot be null");return new fe(t=>{An(t,e,()=>{let r=n[Symbol.asyncIterator]();An(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function GO(n,e){return _f(pf(n),e)}function KO(n,e){if(n!=null){if(uf(n))return zO(n,e);if(cf(n))return qO(n,e);if(lf(n))return HO(n,e);if(df(n))return _f(n,e);if(gf(n))return WO(n,e);if(mf(n))return GO(n,e)}throw hf(n)}function st(n,e){return e?KO(n,e):Et(n)}function de(...n){let e=To(n);return st(n,e)}function ac(n,e){let t=we(n)?n:()=>n,r=i=>i.error(t());return new fe(e?i=>e.schedule(r,0,i):r)}function By(n){return!!n&&(n instanceof fe||we(n.lift)&&we(n.subscribe))}var ji=Za(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pe(n,e){return Fe((t,r)=>{let i=0;t.subscribe(Re(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:hL}=Array;function fL(n,e){return hL(e)?n(...e):n(e)}function yf(n){return pe(e=>fL(n,e))}var{isArray:gL}=Array,{getPrototypeOf:pL,prototype:mL,keys:_L}=Object;function vf(n){if(n.length===1){let e=n[0];if(gL(e))return{args:e,keys:null};if(yL(e)){let t=_L(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function yL(n){return n&&typeof n=="object"&&pL(n)===mL}function Cf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xl(...n){let e=To(n),t=af(n),{args:r,keys:i}=vf(n);if(r.length===0)return st([],e);let o=new fe(vL(r,e,i?s=>Cf(i,s):zn));return t?o.pipe(yf(t)):o}function vL(n,e,t=zn){return r=>{YO(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)YO(e,()=>{let u=st(n[c],e),d=!1;u.subscribe(Re(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function YO(n,e,t){n?An(t,n,e):e()}function QO(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,y=()=>{p&&!c.length&&!u&&e.complete()},v=D=>u<r?E(D):c.push(D),E=D=>{o&&e.next(D),u++;let k=!1;Et(t(D,d++)).subscribe(Re(e,B=>{i?.(B),o?v(B):e.next(B)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;c.length&&u<r;){let B=c.shift();s?An(e,s,()=>E(B)):E(B)}y()}catch(B){e.error(B)}}))};return n.subscribe(Re(e,v,()=>{p=!0,y()})),()=>{a?.()}}function vt(n,e,t=1/0){return we(e)?vt((r,i)=>pe((o,s)=>e(r,o,i,s))(Et(n(r,i))),t):(typeof e=="number"&&(t=e),Fe((r,i)=>QO(r,i,n,t)))}function Ro(n=1/0){return vt(zn,n)}function ZO(){return Ro(1)}function cc(...n){return ZO()(st(n,To(n)))}function eu(n){return new fe(e=>{Et(n()).subscribe(e)})}function $y(...n){let e=af(n),{args:t,keys:r}=vf(n),i=new fe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;Et(t[d]).subscribe(Re(o,y=>{p||(p=!0,u--),a[d]=y},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?Cf(r,a):a),o.complete())}))}});return e?i.pipe(yf(e)):i}var Ui=new fe(Ns);function Ct(n,e){return Fe((t,r)=>{let i=0;t.subscribe(Re(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Bi(n){return Fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Re(t,void 0,void 0,s=>{o=Et(n(s,Bi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function JO(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Re(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function No(n,e){return we(e)?vt(n,e,1):vt(n,1)}function Fo(n){return Fe((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Nt(n){return n<=0?()=>Tn:Fe((e,t)=>{let r=0;e.subscribe(Re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bf(n=CL){return Fe((e,t)=>{let r=!1;e.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function CL(){return new ji}function tu(n){return Fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $i(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):zn,Nt(1),t?Fo(e):bf(()=>new ji))}function lc(n){return n<=0?()=>Tn:Fe((e,t)=>{let r=[];e.subscribe(Re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):zn,lc(1),t?Fo(e):bf(()=>new ji))}function Hy(n,e){return Fe(JO(n,e,arguments.length>=2,!0))}function qy(...n){let e=To(n);return Fe((t,r)=>{(e?cc(n,t,e):cc(n,t)).subscribe(r)})}function jt(n,e){return Fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Re(r,c=>{i?.unsubscribe();let u=0,d=o++;Et(n(c,d)).subscribe(i=Re(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wf(n){return Fe((e,t)=>{Et(n).subscribe(Re(t,()=>t.complete(),Ns)),!t.closed&&e.subscribe(t)})}function Ut(n,e,t){let r=we(n)||e||t?{next:n,error:e,complete:t}:n;return r?Fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Re(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):zn}function XO(n){let e=Oe(null);try{return n()}finally{Oe(e)}}var Of="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(Wi(e,t)),this.code=e}};function bL(n){return`NG0${Math.abs(n)}`}function Wi(n,e){return`${bL(n)}${e?": "+e:""}`}var Gi=globalThis;function $e(n){for(let e in n)if(n[e]===$e)return e;throw Error("")}function nI(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Hi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Hi).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function If(n,e){return n?e?`${n} ${e}`:n:e||""}var wL=$e({__forward_ref__:$e});function Hn(n){return n.__forward_ref__=Hn,n.toString=function(){return Hi(this())},n}function Jt(n){return i0(n)?n():n}function i0(n){return typeof n=="function"&&n.hasOwnProperty(wL)&&n.__forward_ref__===Hn}function rI(n,e){n==null&&o0(e,n,null,"!=")}function o0(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function su(n){return ML(n,Sf)}function s0(n){return su(n)!==null}function ML(n,e){return n.hasOwnProperty(e)&&n[e]||null}function EL(n){let e=n?.[Sf]??null;return e||null}function Gy(n){return n&&n.hasOwnProperty(Ef)?n[Ef]:null}var Sf=$e({\u0275prov:$e}),Ef=$e({\u0275inj:$e}),X=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function a0(n){return n&&!!n.\u0275providers}var c0=$e({\u0275cmp:$e}),l0=$e({\u0275dir:$e}),u0=$e({\u0275pipe:$e}),d0=$e({\u0275mod:$e}),iu=$e({\u0275fac:$e}),zs=$e({__NG_ELEMENT_ID__:$e}),eI=$e({__NG_ENV_ID__:$e});function Qr(n){return typeof n=="string"?n:n==null?"":String(n)}function Pf(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Qr(n)}var h0=$e({ngErrorCode:$e}),iI=$e({ngErrorMessage:$e}),ru=$e({ngTokenPath:$e});function f0(n,e){return oI("",-200,e)}function Df(n,e){throw new V(-201,!1)}function PL(n,e){n[ru]??=[];let t=n[ru],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(rI(e.provide,"Token with multi: true should have a provide property"),r=Pf(e.provide)):r=Pf(e),t[0]!==r&&n[ru].unshift(r)}function xL(n,e){let t=n[ru],r=n[h0],i=n[iI]||n.message;return n.message=IL(i,r,t,e),n}function oI(n,e,t){let r=new V(e,n);return r[h0]=e,r[iI]=n,t&&(r[ru]=t),r}function OL(n){return n[h0]}function IL(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Wi(e,`${n}${o}${i}`)}var Ky;function sI(){return Ky}function Mn(n){let e=Ky;return Ky=n,e}function g0(n,e,t){let r=su(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Df(n,"Injector")}var SL={},js=SL,Yy="__NG_DI_FLAG__",Qy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Us(t)||0;try{return this.injector.get(e,r&8?null:js,r)}catch(i){if(Ga(i))return i;throw i}}};function DL(n,e=0){let t=Vh();if(t===void 0)throw new V(-203,!1);if(t===null)return g0(n,void 0,e);{let r=TL(e),i=t.retrieve(n,r);if(Ga(i)){if(r.optional)return null;throw i}return i}}function ne(n,e=0){return(sI()||DL)(Jt(n),e)}function L(n,e){return ne(n,Us(e))}function Us(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function TL(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Zy(n){let e=[];for(let t=0;t<n.length;t++){let r=Jt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=AL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function p0(n,e){return n[Yy]=e,n.prototype[Yy]=e,n}function AL(n){return n[Yy]}function Lo(n,e){let t=n.hasOwnProperty(iu);return t?n[iu]:null}function aI(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function cI(n){return n.flat(Number.POSITIVE_INFINITY)}function Tf(n,e){n.forEach(t=>Array.isArray(t)?Tf(t,e):e(t))}function m0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function au(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function lI(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Af(n,e,t){let r=dc(n,e);return r>=0?n[r|1]=t:(r=~r,lI(n,r,e,t)),r}function kf(n,e){let t=dc(n,e);if(t>=0)return n[t|1]}function dc(n,e){return kL(n,e,1)}function kL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var jo={},En=[],Ki=new X(""),_0=new X("",-1),y0=new X(""),ou=class{get(e,t=js){if(t===js){let i=oI("",-201);throw i.name="\u0275NotFound",i}return t}};function v0(n){return n[d0]||null}function Yi(n){return n[c0]||null}function C0(n){return n[l0]||null}function uI(n){return n[u0]||null}function $t(n){return{\u0275providers:n}}function dI(n){return $t([{provide:Ki,multi:!0,useValue:n}])}function hI(...n){return{\u0275providers:b0(!0,n),\u0275fromNgModule:!0}}function b0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Tf(e,s=>{let a=s;xf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fI(i,o),t}function fI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];w0(i,o=>{e(o,r)})}}function xf(n,e,t,r){if(n=Jt(n),!n)return!1;let i=null,o=Gy(n),s=!o&&Yi(n);if(!o&&!s){let c=n.ngModule;if(o=Gy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)xf(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Tf(o.imports,d=>{xf(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&fI(u,e)}if(!a){let u=Lo(i)||(()=>new i);e({provide:i,useFactory:u,deps:En},i),e({provide:y0,useValue:i,multi:!0},i),e({provide:Ki,useValue:()=>ne(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;w0(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function w0(n,e){for(let t of n)a0(t)&&(t=t.\u0275providers),Array.isArray(t)?w0(t,e):e(t)}var RL=$e({provide:String,useValue:$e});function gI(n){return n!==null&&typeof n=="object"&&RL in n}function NL(n){return!!(n&&n.useExisting)}function FL(n){return!!(n&&n.useFactory)}function Bs(n){return typeof n=="function"}function pI(n){return!!n.useClass}var cu=new X(""),Mf={},tI={},Wy;function lu(){return Wy===void 0&&(Wy=new ou),Wy}var bt=class{},$s=class extends bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Xy(e,s=>this.processProvider(s)),this.records.set(_0,uc(void 0,this)),i.has("environment")&&this.records.set(bt,uc(void 0,this));let o=this.records.get(cu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(y0,En,{self:!0}))}retrieve(e,t){let r=Us(t)||0;try{return this.get(e,js,r)}catch(i){if(Ga(i))return i;throw i}}destroy(){nu(this),this._destroyed=!0;let e=Oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return nu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){nu(this);let t=Yr(this),r=Mn(void 0),i;try{return e()}finally{Yr(t),Mn(r)}}get(e,t=js,r){if(nu(this),e.hasOwnProperty(eI))return e[eI](this);let i=Us(r),o,s=Yr(this),a=Mn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=BL(e)&&su(e);d&&this.injectableDefInScope(d)?u=uc(Jy(e),Mf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?lu():this.parent;return t=i&8&&t===js?null:t,c.get(e,t)}catch(c){let u=OL(c);throw u===-200||u===-201?new V(u,null):c}finally{Mn(a),Yr(s)}}resolveInjectorInitializers(){let e=Oe(null),t=Yr(this),r=Mn(void 0),i;try{let o=this.get(Ki,En,{self:!0});for(let s of o)s()}finally{Yr(t),Mn(r),Oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Hi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Jt(e);let t=Bs(e)?e:Jt(e&&e.provide),r=VL(e);if(!Bs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=uc(void 0,Mf,!0),i.factory=()=>Zy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Oe(null);try{if(t.value===tI)throw f0(Hi(e));return t.value===Mf&&(t.value=tI,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&UL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Jt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Jy(n){let e=su(n),t=e!==null?e.factory:Lo(n);if(t!==null)return t;if(n instanceof X)throw new V(204,!1);if(n instanceof Function)return LL(n);throw new V(204,!1)}function LL(n){if(n.length>0)throw new V(204,!1);let t=EL(n);return t!==null?()=>t.factory(n):()=>new n}function VL(n){if(gI(n))return uc(void 0,n.useValue);{let e=M0(n);return uc(e,Mf)}}function M0(n,e,t){let r;if(Bs(n)){let i=Jt(n);return Lo(i)||Jy(i)}else if(gI(n))r=()=>Jt(n.useValue);else if(FL(n))r=()=>n.useFactory(...Zy(n.deps||[]));else if(NL(n))r=(i,o)=>ne(Jt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Jt(n&&(n.useClass||n.provide));if(jL(n))r=()=>new i(...Zy(n.deps));else return Lo(i)||Jy(i)}return r}function nu(n){if(n.destroyed)throw new V(205,!1)}function uc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jL(n){return!!n.deps}function UL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function BL(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Xy(n,e){for(let t of n)Array.isArray(t)?Xy(t,e):t&&a0(t)?Xy(t.\u0275providers,e):e(t)}function Pt(n,e){let t;n instanceof $s?(nu(n),t=n):t=new Qy(n);let r,i=Yr(t),o=Mn(void 0);try{return e()}finally{Yr(i),Mn(o)}}function mI(){return sI()!==void 0||Vh()!=null}var Mr=0,ge=1,me=2,Bt=3,rr=4,ir=5,uu=6,hc=7,hn=8,Hs=9,Zr=10,lt=11,fc=12,E0=13,qs=14,or=15,Uo=16,Ws=17,Jr=18,du=19,P0=20,zi=21,Rf=22,hu=23,Wn=24,Gs=25,Xt=26,_I=1;var Bo=7,fu=8,Ks=9,Pn=10;function Xr(n){return Array.isArray(n)&&typeof n[_I]=="object"}function Er(n){return Array.isArray(n)&&n[_I]===!0}function x0(n){return(n.flags&4)!==0}function $o(n){return n.componentOffset>-1}function gu(n){return(n.flags&1)===1}function ei(n){return!!n.template}function gc(n){return(n[me]&512)!==0}function Ys(n){return(n[me]&256)===256}var O0="svg",yI="math";function sr(n){for(;Array.isArray(n);)n=n[Mr];return n}function I0(n,e){return sr(e[n])}function Pr(n,e){return sr(e[n.index])}function Nf(n,e){return n.data[e]}function Ff(n,e){return n[e]}function S0(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ar(n,e){let t=e[n];return Xr(t)?t:t[Mr]}function vI(n){return(n[me]&4)===4}function Lf(n){return(n[me]&128)===128}function CI(n){return Er(n[Bt])}function pu(n,e){return e==null?null:n[e]}function D0(n){n[Ws]=0}function T0(n){n[me]&1024||(n[me]|=1024,Lf(n)&&pc(n))}function bI(n,e){for(;n>0;)e=e[qs],n--;return e}function mu(n){return!!(n[me]&9216||n[Wn]?.dirty)}function Vf(n){n[Zr].changeDetectionScheduler?.notify(8),n[me]&64&&(n[me]|=1024),mu(n)&&pc(n)}function pc(n){n[Zr].changeDetectionScheduler?.notify(0);let e=Vo(n);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!Lf(e)));)e=Vo(e)}function A0(n,e){if(Ys(n))throw new V(911,!1);n[zi]===null&&(n[zi]=[]),n[zi].push(e)}function wI(n,e){if(n[zi]===null)return;let t=n[zi].indexOf(e);t!==-1&&n[zi].splice(t,1)}function Vo(n){let e=n[Bt];return Er(e)?e[Bt]:e}function k0(n){return n[hc]??=[]}function R0(n){return n.cleanup??=[]}function MI(n,e,t,r){let i=k0(e);i.push(t),n.firstCreatePass&&R0(n).push(r,i.length-1)}var Pe={lFrame:jI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},_u=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(_u||{}),$L=0,e0=!1;function EI(){return Pe.lFrame.elementDepthCount}function PI(){Pe.lFrame.elementDepthCount++}function xI(){Pe.lFrame.elementDepthCount--}function N0(){return Pe.bindingsEnabled}function OI(){return Pe.skipHydrationRootTNode!==null}function II(n){return Pe.skipHydrationRootTNode===n}function SI(){Pe.skipHydrationRootTNode=null}function Te(){return Pe.lFrame.lView}function en(){return Pe.lFrame.tView}function $(n){return Pe.lFrame.contextLView=n,n[hn]}function z(n){return Pe.lFrame.contextLView=null,n}function tn(){let n=F0();for(;n!==null&&n.type===64;)n=n.parent;return n}function F0(){return Pe.lFrame.currentTNode}function DI(){let n=Pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function mc(n,e){let t=Pe.lFrame;t.currentTNode=n,t.isParent=e}function L0(){return Pe.lFrame.isParent}function TI(){Pe.lFrame.isParent=!1}function AI(){return Pe.lFrame.contextLView}function V0(n){o0("Must never be called in production mode"),$L=n}function j0(){return e0}function U0(n){let e=e0;return e0=n,e}function jf(){let n=Pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function B0(){return Pe.lFrame.bindingIndex}function kI(n){return Pe.lFrame.bindingIndex=n}function yu(){return Pe.lFrame.bindingIndex++}function vu(n){let e=Pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function RI(){return Pe.lFrame.inI18n}function NI(n,e){let t=Pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Uf(e)}function FI(){return Pe.lFrame.currentDirectiveIndex}function Uf(n){Pe.lFrame.currentDirectiveIndex=n}function LI(n){let e=Pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function $0(){return Pe.lFrame.currentQueryIndex}function Bf(n){Pe.lFrame.currentQueryIndex=n}function zL(n){let e=n[ge];return e.type===2?e.declTNode:e.type===1?n[ir]:null}function z0(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=zL(o),i===null||(o=o[qs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Pe.lFrame=VI();return r.currentTNode=e,r.lView=n,!0}function $f(n){let e=VI(),t=n[ge];Pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VI(){let n=Pe.lFrame,e=n===null?null:n.child;return e===null?jI(n):e}function jI(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function UI(){let n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var H0=UI;function zf(){let n=UI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function BI(n){return(Pe.lFrame.contextLView=bI(n,Pe.lFrame.contextLView))[hn]}function ti(){return Pe.lFrame.selectedIndex}function zo(n){Pe.lFrame.selectedIndex=n}function Hf(){let n=Pe.lFrame;return Nf(n.tView,n.selectedIndex)}function _c(){Pe.lFrame.currentNamespace=O0}function yc(){HL()}function HL(){Pe.lFrame.currentNamespace=null}function $I(){return Pe.lFrame.currentNamespace}var zI=!0;function qf(){return zI}function Wf(n){zI=n}function t0(n,e=null,t=null,r){let i=q0(n,e,t,r);return i.resolveInjectorInitializers(),i}function q0(n,e=null,t=null,r,i=new Set){let o=[t||En,hI(n)];return r=r||(typeof n=="object"?void 0:Hi(n)),new $s(o,e||lu(),r||null,i)}var Xe=class n{static THROW_IF_NOT_FOUND=js;static NULL=new ou;static create(e,t){if(Array.isArray(e))return t0({name:""},t,e,"");{let r=e.name??"";return t0({name:r},e.parent,e.providers,r)}}static \u0275prov=Y({token:n,providedIn:"any",factory:()=>ne(_0)});static __NG_ELEMENT_ID__=-1},ut=new X(""),cr=(()=>{class n{static __NG_ELEMENT_ID__=qL;static __NG_ENV_ID__=t=>t}return n})(),n0=class extends cr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ys(this._lView)}onDestroy(e){let t=this._lView;return A0(t,e),()=>wI(t,e)}};function qL(){return new n0(Te())}var wr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},fn=new X("",{providedIn:"root",factory:()=>{let n=L(bt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(wr),e.handleError(t))}}}),HI={provide:Ki,useValue:()=>void L(wr),multi:!0},WL=new X("",{providedIn:"root",factory:()=>{let n=L(ut).defaultView;if(!n)return;let e=L(fn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),L(cr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function W0(){return $t([dI(()=>void L(WL))])}function G0(n){return typeof n=="function"&&n[dn]!==void 0}function ni(n,e){let[t,r,i]=xy(n,e?.equal),o=t,s=o[dn];return o.set=r,o.update=i,o.asReadonly=qI.bind(o),o}function qI(){let n=this[dn];if(n.readonlyFn===void 0){let e=()=>this();e[dn]=n,n.readonlyFn=e}return n.readonlyFn}function K0(n){return G0(n)&&typeof n.set=="function"}var qi=class{},Cu=new X("",{providedIn:"root",factory:()=>!1});var Y0=new X(""),Q0=new X("");var Gf=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=GL}return n})();function GL(){return new Gf(Te(),tn())}var ri=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new fe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})(),vc=(()=>{class n{internalPendingTasks=L(ri);scheduler=L(qi);errorHandler=L(fn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})();function bu(...n){}var Z0=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new r0})}return n})(),r0=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ec(n){return{toString:n}.toString()}var Kf="__parameters__";function XL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function w1(n,e,t){return Ec(()=>{let r=XL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Kf)?c[Kf]:Object.defineProperty(c,Kf,{value:[]})[Kf];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var xt=p0(w1("Optional"),8);var Nv=p0(w1("SkipSelf"),4);function eV(n){return typeof n=="function"}var tg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function M1(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var si=(()=>{let n=()=>E1;return n.ngInherit=!0,n})();function E1(n){return n.type.prototype.ngOnChanges&&(n.setInput=nV),tV}function tV(){let n=x1(this),e=n?.current;if(e){let t=n.previous;if(t===jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function nV(n,e,t,r,i){let o=this.declaredInputs[r],s=x1(n)||rV(n,{previous:jo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new tg(u&&u.currentValue,t,c===jo),M1(n,e,i,t)}var P1="__ngSimpleChanges__";function x1(n){return n[P1]||null}function rV(n,e){return n[P1]=e}var WI=[];var qe=function(n,e=null,t){for(let r=0;r<WI.length;r++){let i=WI[r];i(n,e,t)}};function iV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=E1(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function O1(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Zf(n,e,t){I1(n,e,3,t)}function Jf(n,e,t,r){(n[me]&3)===t&&I1(n,e,t,r)}function J0(n,e){let t=n[me];(t&3)===e&&(t&=16383,t+=1,n[me]=t)}function I1(n,e,t,r){let i=r!==void 0?n[Ws]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ws]+=65536),(a<o||o==-1)&&(oV(n,t,e,c),n[Ws]=(n[Ws]&4294901760)+c+2),c++}function GI(n,e){qe(4,n,e);let t=Oe(null);try{e.call(n)}finally{Oe(t),qe(5,n,e)}}function oV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[me]>>14<n[Ws]>>16&&(n[me]&3)===e&&(n[me]+=16384,GI(a,o)):GI(a,o)}var bc=-1,Js=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function sV(n){return(n.flags&8)!==0}function aV(n){return(n.flags&16)!==0}function cV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];lV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function S1(n){return n===3||n===4||n===6}function lV(n){return n.charCodeAt(0)===64}function Eu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?KI(n,t,i,null,e[++r]):KI(n,t,i,null,null))}}return n}function KI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function D1(n){return n!==bc}function ng(n){return n&32767}function uV(n){return n>>16}function rg(n,e){let t=uV(n),r=e;for(;t>0;)r=r[qs],t--;return r}var lv=!0;function ig(n){let e=lv;return lv=n,e}var dV=256,T1=dV-1,A1=5,hV=0,ii={};function fV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zs)&&(r=t[zs]),r==null&&(r=t[zs]=hV++);let i=r&T1,o=1<<i;e.data[n+(i>>A1)]|=o}function og(n,e){let t=k1(n,e);if(t!==-1)return t;let r=e[ge];r.firstCreatePass&&(n.injectorIndex=e.length,X0(r.data,n),X0(e,null),X0(r.blueprint,null));let i=Fv(n,e),o=n.injectorIndex;if(D1(i)){let s=ng(i),a=rg(i,e),c=a[ge].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function X0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function k1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Fv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=V1(i),r===null)return bc;if(t++,i=i[qs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return bc}function uv(n,e,t){fV(n,e,t)}function gV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(S1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function R1(n,e,t){if(t&8||n!==void 0)return n;Df(e,"NodeInjector")}function N1(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Hs],o=Mn(void 0);try{return i?i.get(e,r,t&8):g0(e,r,t&8)}finally{Mn(o)}}return R1(r,e,t)}function F1(n,e,t,r=0,i){if(n!==null){if(e[me]&2048&&!(r&2)){let s=yV(n,e,t,r,ii);if(s!==ii)return s}let o=L1(n,e,t,r,ii);if(o!==ii)return o}return N1(e,t,r,i)}function L1(n,e,t,r,i){let o=mV(t);if(typeof o=="function"){if(!z0(e,n,r))return r&1?R1(i,t,r):N1(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Df(t);else return s}finally{H0()}}else if(typeof o=="number"){let s=null,a=k1(n,e),c=bc,u=r&1?e[or][ir]:null;for((a===-1||r&4)&&(c=a===-1?Fv(n,e):e[a+8],c===bc||!QI(r,!1)?a=-1:(s=e[ge],a=ng(c),e=rg(c,e)));a!==-1;){let d=e[ge];if(YI(o,a,d.data)){let p=pV(a,e,t,s,r,u);if(p!==ii)return p}c=e[a+8],c!==bc&&QI(r,e[ge].data[a+8]===u)&&YI(o,a,e)?(s=d,a=ng(c),e=rg(c,e)):a=-1}}return i}function pV(n,e,t,r,i,o){let s=e[ge],a=s.data[n+8],c=r==null?$o(a)&&lv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=Xf(a,s,t,c,u);return d!==null?Pu(e,s,d,a,i):ii}function Xf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,y=i?a+d:u;for(let v=p;v<y;v++){let E=s[v];if(v<c&&t===E||v>=c&&E.type===t)return v}if(i){let v=s[c];if(v&&ei(v)&&v.type===t)return c}return null}function Pu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Js){let a=o;if(a.resolving){let v=Pf(s[t]);throw f0(v)}let c=ig(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,p=a.injectImpl?Mn(a.injectImpl):null,y=z0(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&iV(t,s[t],e)}finally{p!==null&&Mn(p),ig(c),a.resolving=!1,H0()}}return o}function mV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zs)?n[zs]:void 0;return typeof e=="number"?e>=0?e&T1:_V:e}function YI(n,e,t){let r=1<<n;return!!(t[e+(n>>A1)]&r)}function QI(n,e){return!(n&2)&&!(n&1&&e)}var Zs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return F1(this._tNode,this._lView,e,Us(r),t)}};function _V(){return new Zs(tn(),Te())}function Sr(n){return Ec(()=>{let e=n.prototype.constructor,t=e[iu]||dv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[iu]||dv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dv(n){return i0(n)?()=>{let e=dv(Jt(n));return e&&e()}:Lo(n)}function yV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[me]&2048&&!gc(s);){let a=L1(o,s,t,r|2,ii);if(a!==ii)return a;let c=o.parent;if(!c){let u=s[P0];if(u){let d=u.get(t,ii,r);if(d!==ii)return d}c=V1(s),s=s[qs]}o=c}return i}function V1(n){let e=n[ge],t=e.type;return t===2?e.declTNode:t===1?n[ir]:null}function Su(n){return gV(tn(),n)}function vV(){return Pc(tn(),Te())}function Pc(n,e){return new gn(Pr(n,e))}var gn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vV}return n})();function CV(n){return n instanceof gn?n.nativeElement:n}function bV(){return this._results[Symbol.iterator]()}var sg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=cI(e);(this._changesDetected=!aI(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bV};function j1(n){return(n.flags&128)===128}var Lv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Lv||{}),U1=new Map,wV=0;function MV(){return wV++}function EV(n){U1.set(n[du],n)}function hv(n){U1.delete(n[du])}var ZI="__ngContext__";function wc(n,e){Xr(e)?(n[ZI]=e[du],EV(e)):n[ZI]=e}function B1(n){return z1(n[fc])}function $1(n){return z1(n[rr])}function z1(n){for(;n!==null&&!Er(n);)n=n[rr];return n}var fv;function Vv(n){fv=n}function H1(){if(fv!==void 0)return fv;if(typeof document<"u")return document;throw new V(210,!1)}var yg=new X("",{providedIn:"root",factory:()=>PV}),PV="ng",vg=new X(""),Wo=new X("",{providedIn:"platform",factory:()=>"unknown"});var Cg=new X(""),bg=new X("",{providedIn:"root",factory:()=>H1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xV="h",OV="b";var q1=!1,W1=new X("",{providedIn:"root",factory:()=>q1});var IV=(n,e,t,r)=>{};function SV(n,e,t,r){IV(n,e,t,r)}function jv(n){return(n.flags&32)===32}var DV=()=>null;function G1(n,e,t=!1){return DV(n,e,t)}function K1(n,e){let t=n.contentQueries;if(t!==null){let r=Oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Bf(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function gv(n,e,t){Bf(0);let r=Oe(null);try{e(n,t)}finally{Oe(r)}}function Y1(n,e,t){if(x0(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Oe(r)}}}var Qi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Qi||{});var Yf;function TV(){if(Yf===void 0&&(Yf=null,Gi.trustedTypes))try{Yf=Gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yf}function JI(n){return TV()?.createScriptURL(n)||n}var ag=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Of})`}};function xc(n){return n instanceof ag?n.changingThisBreaksApplicationSecurity:n}function Uv(n,e){let t=Q1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Of})`)}return t===e}function Q1(n){return n instanceof ag&&n.getTypeName()||null}var AV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Z1(n){return n=String(n),n.match(AV)?n:"unsafe:"+n}var wg=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wg||{});function J1(n){let e=eS();return e?e.sanitize(wg.URL,n)||"":Uv(n,"URL")?xc(n):Z1(Qr(n))}function X1(n){let e=eS();if(e)return JI(e.sanitize(wg.RESOURCE_URL,n)||"");if(Uv(n,"ResourceURL"))return JI(xc(n));throw new V(904,!1)}function kV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?X1:J1}function Bv(n,e,t){return kV(e,t)(n)}function eS(){let n=Te();return n&&n[Zr].sanitizer}function tS(n){return n instanceof Function?n():n}function RV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var nS="ng-template";function NV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if($v(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function $v(n){return n.type===4&&n.value!==nS}function FV(n,e,t){let r=n.type===4&&!t?nS:n.value;return e===r}function LV(n,e,t){let r=4,i=n.attrs,o=i!==null?UV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!xr(r)&&!xr(c))return!1;if(s&&xr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!FV(n,c,t)||c===""&&e.length===1){if(xr(r))return!1;s=!0}}else if(r&8){if(i===null||!NV(n,i,c,t)){if(xr(r))return!1;s=!0}}else{let u=e[++a],d=VV(c,i,$v(n),t);if(d===-1){if(xr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(xr(r))return!1;s=!0}}}}return xr(r)||s}function xr(n){return(n&1)===0}function VV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BV(e,n)}function jV(n,e,t=!1){for(let r=0;r<e.length;r++)if(LV(n,e[r],t))return!0;return!1}function UV(n){for(let e=0;e<n.length;e++){let t=n[e];if(S1(t))return e}return n.length}function BV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function XI(n,e){return n?":not("+e.trim()+")":e}function $V(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xr(s)&&(e+=XI(o,i),i=""),r=s,o=o||!xr(r);t++}return i!==""&&(e+=XI(o,i)),e}function zV(n){return n.map($V).join(",")}function HV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!xr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xn={};function qV(n,e){return n.createText(e)}function WV(n,e,t){n.setValue(e,t)}function rS(n,e,t){return n.createElement(e,t)}function cg(n,e,t,r,i){n.insertBefore(e,t,r,i)}function iS(n,e,t){n.appendChild(e,t)}function e1(n,e,t,r,i){r!==null?cg(n,e,t,r,i):iS(n,e,t)}function GV(n,e,t){n.removeChild(null,e,t)}function KV(n,e,t){n.setAttribute(e,"style",t)}function YV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function oS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&cV(n,e,r),i!==null&&YV(n,e,i),o!==null&&KV(n,e,o)}function zv(n,e,t,r,i,o,s,a,c,u,d){let p=Xt+r,y=p+i,v=QV(p,y),E=typeof u=="function"?u():u;return v[ge]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function QV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function ZV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=zv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Hv(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Mr]=i,p[me]=r|4|128|8|64|1024,(u!==null||n&&n[me]&2048)&&(p[me]|=2048),D0(p),p[Bt]=p[qs]=n,p[hn]=t,p[Zr]=s||n&&n[Zr],p[lt]=a||n&&n[lt],p[Hs]=c||n&&n[Hs]||null,p[ir]=o,p[du]=MV(),p[uu]=d,p[P0]=u,p[or]=e.type==2?n[or]:p,p}function JV(n,e,t){let r=Pr(e,n),i=ZV(t),o=n[Zr].rendererFactory,s=qv(n,Hv(n,i,null,sS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function sS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function aS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qv(n,e){return n[fc]?n[E0][rr]=e:n[fc]=e,n[E0]=e,e}function C(n=1){cS(en(),Te(),ti()+n,!1)}function cS(n,e,t,r){if(!r)if((e[me]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Zf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Jf(e,o,0,t)}zo(t)}var Mg=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Mg||{});function pv(n,e,t,r){let i=Oe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Mg.SignalBased)!==0&&(c=e[o][dn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):M1(e,c,o,r)}finally{Oe(i)}}var Ir=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ir||{}),XV;function Wv(n,e){return XV(n,e)}function Cc(n,e,t,r,i){if(r!=null){let o,s=!1;Er(r)?o=r:Xr(r)&&(s=!0,r=r[Mr]);let a=sr(r);n===0&&t!==null?i==null?iS(e,t,a):cg(e,t,a,i||null,!0):n===1&&t!==null?cg(e,t,a,i||null,!0):n===2?GV(e,a,s):n===3&&e.destroyNode(a),o!=null&&d3(e,n,o,t,i)}}function e3(n,e){lS(n,e),e[Mr]=null,e[ir]=null}function t3(n,e,t,r,i,o){r[Mr]=i,r[ir]=e,Eg(n,r,t,1,i,o)}function lS(n,e){e[Zr].changeDetectionScheduler?.notify(9),Eg(n,e,e[lt],2,null,null)}function n3(n){let e=n[fc];if(!e)return ev(n[ge],n);for(;e;){let t=null;if(Xr(e))t=e[fc];else{let r=e[Pn];r&&(t=r)}if(!t){for(;e&&!e[rr]&&e!==n;)Xr(e)&&ev(e[ge],e),e=e[Bt];e===null&&(e=n),Xr(e)&&ev(e[ge],e),t=e&&e[rr]}e=t}}function Gv(n,e){let t=n[Ks],r=t.indexOf(e);t.splice(r,1)}function uS(n,e){if(Ys(e))return;let t=e[lt];t.destroyNode&&Eg(n,e,t,3,null,null),n3(e)}function ev(n,e){if(Ys(e))return;let t=Oe(null);try{e[me]&=-129,e[me]|=256,e[Wn]&&Wh(e[Wn]),i3(n,e),r3(n,e),e[ge].type===1&&e[lt].destroy();let r=e[Uo];if(r!==null&&Er(e[Bt])){r!==e[Bt]&&Gv(r,e);let i=e[Jr];i!==null&&i.detachView(n)}hv(e)}finally{Oe(t)}}function r3(n,e){let t=n.cleanup,r=e[hc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[hc]=null);let i=e[zi];if(i!==null){e[zi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hu];if(o!==null){e[hu]=null;for(let s of o)s.destroy()}}function i3(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Js)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];qe(4,a,c);try{c.call(a)}finally{qe(5,a,c)}}else{qe(4,i,o);try{o.call(i)}finally{qe(5,i,o)}}}}}function o3(n,e,t){return s3(n,e.parent,t)}function s3(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Mr];if($o(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Qi.None||i===Qi.Emulated)return null}return Pr(r,t)}function a3(n,e,t){return l3(n,e,t)}function c3(n,e,t){return n.type&40?Pr(n,t):null}var l3=c3,t1;function Kv(n,e,t,r){let i=o3(n,r,e),o=e[lt],s=r.parent||e[ir],a=a3(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)e1(o,i,t[c],a,!1);else e1(o,i,t,a,!1);t1!==void 0&&t1(o,r,e,t,i)}function wu(n,e){if(e!==null){let t=e.type;if(t&3)return Pr(e,n);if(t&4)return mv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return wu(n,r);{let i=n[e.index];return Er(i)?mv(-1,i):sr(i)}}else{if(t&128)return wu(n,e.next);if(t&32)return Wv(e,n)()||sr(n[e.index]);{let r=dS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vo(n[or]);return wu(i,r)}else return wu(n,e.next)}}}return null}function dS(n,e){if(e!==null){let r=n[or][ir],i=e.projection;return r.projection[i]}return null}function mv(n,e){let t=Pn+n+1;if(t<e.length){let r=e[t],i=r[ge].firstChild;if(i!==null)return wu(r,i)}return e[Bo]}function Yv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&wc(sr(a),r),t.flags|=2),!jv(t))if(c&8)Yv(n,e,t.child,r,i,o,!1),Cc(e,n,i,a,o);else if(c&32){let u=Wv(t,r),d;for(;d=u();)Cc(e,n,i,d,o);Cc(e,n,i,a,o)}else c&16?u3(n,e,r,t,i,o):Cc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Eg(n,e,t,r,i,o){Yv(t,r,n.firstChild,e,i,o,!1)}function u3(n,e,t,r,i,o){let s=t[or],c=s[ir].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Cc(e,n,i,d,o)}else{let u=c,d=s[Bt];j1(r)&&(u.flags|=128),Yv(n,e,u,d,i,o,!0)}}function d3(n,e,t,r,i){let o=t[Bo],s=sr(t);o!==s&&Cc(e,n,r,o,i);for(let a=Pn;a<t.length;a++){let c=t[a];Eg(c[ge],c,n,e,r,o)}}function h3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),n.setStyle(t,r,i,o))}}function hS(n,e,t,r,i){let o=ti(),s=r&2;try{zo(-1),s&&e.length>Xt&&cS(n,e,Xt,!1),qe(s?2:0,i,t),t(r,i)}finally{zo(o),qe(s?3:1,i,t)}}function Qv(n,e,t){v3(n,e,t),(t.flags&64)===64&&C3(n,e,t)}function fS(n,e,t=Pr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function f3(n,e,t,r){let o=r.get(W1,q1)||t===Qi.ShadowDom,s=n.selectRootElement(e,o);return g3(s),s}function g3(n){p3(n)}var p3=()=>null;function m3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function gS(n,e,t,r,i,o){let s=e[ge];if(Zv(n,s,e,t,r)){$o(n)&&y3(e,n.index);return}n.type&3&&(t=m3(t)),_3(n,e,t,r,i,o)}function _3(n,e,t,r,i,o){if(n.type&3){let s=Pr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function y3(n,e){let t=ar(e,n);t[me]&16||(t[me]|=64)}function v3(n,e,t){let r=t.directiveStart,i=t.directiveEnd;$o(t)&&JV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||og(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Pu(e,n,s,t);if(wc(c,e),o!==null&&E3(e,s-r,c,a,t,o),ei(a)){let u=ar(t.index,e);u[hn]=Pu(e,n,s,t)}}}function C3(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=FI();try{zo(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Uf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&b3(c,u)}}finally{zo(-1),Uf(s)}}function b3(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function pS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jV(e,o.selectors,!1)&&(r??=[],ei(o)?r.unshift(o):r.push(o))}return r}function w3(n,e,t,r,i,o){let s=Pr(n,e);M3(e[lt],s,o,n.value,t,r,i)}function M3(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Qr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function E3(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];pv(r,t,c,u)}}function P3(n,e,t,r,i){let o=Xt+t,s=e[ge],a=i(s,e,n,r,t);e[o]=a,mc(n,!0);let c=n.type===2;return c?(oS(e[lt],a,n),(EI()===0||gu(n))&&wc(a,e),PI()):wc(a,e),qf()&&(!c||!jv(n))&&Kv(s,e,a,n),n}function x3(n){let e=n;return L0()?TI():(e=e.parent,mc(e,!1)),e}function O3(n,e){let t=n[Hs];if(!t)return;t.get(fn,null)?.(e)}function Zv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];pv(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];pv(d,u,r,i),a=!0}return a}function I3(n,e){let t=ar(e,n),r=t[ge];S3(r,t);let i=t[Mr];i!==null&&t[uu]===null&&(t[uu]=G1(i,t[Hs])),qe(18),Jv(r,t,t[hn]),qe(19,t[hn])}function S3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Jv(n,e,t){$f(e);try{let r=n.viewQuery;r!==null&&gv(1,r,t);let i=n.template;i!==null&&hS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Jr]?.finishViewCreation(n),n.staticContentQueries&&K1(n,e),n.staticViewQueries&&gv(2,n.viewQuery,t);let o=n.components;o!==null&&D3(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,zf()}}function D3(n,e){for(let t=0;t<e.length;t++)I3(n,e[t])}function T3(n,e,t,r){let i=Oe(null);try{let o=e.tView,a=n[me]&4096?4096:16,c=Hv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Uo]=u;let d=n[Jr];return d!==null&&(c[Jr]=d.createEmbeddedView(o)),Jv(o,c,t),c}finally{Oe(i)}}function n1(n,e){return!e||e.firstChild===null||j1(n)}var r1=!1,A3=new X("");function xu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(sr(o)),Er(o)&&mS(o,r);let s=t.type;if(s&8)xu(n,e,t.child,r);else if(s&32){let a=Wv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=dS(e,t);if(Array.isArray(a))r.push(...a);else{let c=Vo(e[or]);xu(c[ge],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function mS(n,e){for(let t=Pn;t<n.length;t++){let r=n[t],i=r[ge].firstChild;i!==null&&xu(r[ge],r,i,e)}n[Bo]!==n[Mr]&&e.push(n[Bo])}function _S(n){if(n[Gs]!==null){for(let e of n[Gs])e.impl.addSequence(e);n[Gs].length=0}}var yS=[];function k3(n){return n[Wn]??R3(n)}function R3(n){let e=yS.pop()??Object.create(F3);return e.lView=n,e}function N3(n){n.lView[Wn]!==n&&(n.lView=null,yS.push(n))}var F3=ue(U({},As),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{pc(n.lView)},consumerOnSignalRead(){this.lView[Wn]=this}});function L3(n){let e=n[Wn]??Object.create(V3);return e.lView=n,e}var V3=ue(U({},As),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Vo(n.lView);for(;e&&!vS(e[ge]);)e=Vo(e);e&&T0(e)},consumerOnSignalRead(){this.lView[Wn]=this}});function vS(n){return n.type!==2}function CS(n){if(n[hu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[me]&8192)}}var j3=100;function Xv(n,e=0){let r=n[Zr].rendererFactory,i=!1;i||r.begin?.();try{U3(n,e)}finally{i||r.end?.()}}function U3(n,e){let t=j0();try{U0(!0),_v(n,e);let r=0;for(;mu(n);){if(r===j3)throw new V(103,!1);r++,_v(n,1)}}finally{U0(t)}}function bS(n,e){V0(e?_u.Exhaustive:_u.OnlyDirtyViews);try{Xv(n)}finally{V0(_u.Off)}}function B3(n,e,t,r){if(Ys(e))return;let i=e[me],o=!1,s=!1;$f(e);let a=!0,c=null,u=null;o||(vS(n)?(u=k3(e),c=ks(u)):Hh()===null?(a=!1,u=L3(e),c=ks(u)):e[Wn]&&(Wh(e[Wn]),e[Wn]=null));try{D0(e),kI(n.bindingStartIndex),t!==null&&hS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let v=n.preOrderCheckHooks;v!==null&&Zf(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Jf(e,v,0,null),J0(e,0)}if(s||$3(e),CS(e),wS(e,0),n.contentQueries!==null&&K1(n,e),!o)if(d){let v=n.contentCheckHooks;v!==null&&Zf(e,v)}else{let v=n.contentHooks;v!==null&&Jf(e,v,1),J0(e,1)}H3(n,e);let p=n.components;p!==null&&ES(e,p,0);let y=n.viewQuery;if(y!==null&&gv(2,y,r),!o)if(d){let v=n.viewCheckHooks;v!==null&&Zf(e,v)}else{let v=n.viewHooks;v!==null&&Jf(e,v,2),J0(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Rf]){for(let v of e[Rf])v();e[Rf]=null}o||(_S(e),e[me]&=-73)}catch(d){throw o||pc(e),d}finally{u!==null&&(Ya(u,c),a&&N3(u)),zf()}}function wS(n,e){for(let t=B1(n);t!==null;t=$1(t))for(let r=Pn;r<t.length;r++){let i=t[r];MS(i,e)}}function $3(n){for(let e=B1(n);e!==null;e=$1(e)){if(!(e[me]&2))continue;let t=e[Ks];for(let r=0;r<t.length;r++){let i=t[r];T0(i)}}}function z3(n,e,t){qe(18);let r=ar(e,n);MS(r,t),qe(19,r[hn])}function MS(n,e){Lf(n)&&_v(n,e)}function _v(n,e){let r=n[ge],i=n[me],o=n[Wn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Zl(o)),s||=!1,o&&(o.dirty=!1),n[me]&=-9217,s)B3(r,n,r.template,n[hn]);else if(i&8192){let a=Oe(null);try{CS(n),wS(n,1);let c=r.components;c!==null&&ES(n,c,1),_S(n)}finally{Oe(a)}}}function ES(n,e,t){for(let r=0;r<e.length;r++)z3(n,e[r],t)}function H3(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)zo(~i);else{let o=i,s=t[++r],a=t[++r];NI(s,o);let c=e[o];qe(24,c),a(2,c),qe(25,c)}}}finally{zo(-1)}}function eC(n,e){let t=j0()?64:1088;for(n[Zr].changeDetectionScheduler?.notify(e);n;){n[me]|=t;let r=Vo(n);if(gc(n)&&!r)return n;n=r}return null}function PS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function q3(n,e,t,r=!0){let i=e[ge];if(W3(i,e,n,t),r){let s=mv(t,n),a=e[lt],c=a.parentNode(n[Bo]);c!==null&&t3(i,n[ir],a,e,c,s)}let o=e[uu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yv(n,e){if(n.length<=Pn)return;let t=Pn+e,r=n[t];if(r){let i=r[Uo];i!==null&&i!==n&&Gv(i,r),e>0&&(n[t-1][rr]=r[rr]);let o=au(n,Pn+e);e3(r[ge],r);let s=o[Jr];s!==null&&s.detachView(o[ge]),r[Bt]=null,r[rr]=null,r[me]&=-129}return r}function W3(n,e,t,r){let i=Pn+r,o=t.length;r>0&&(t[i-1][rr]=e),r<o-Pn?(e[rr]=t[i],m0(t,Pn+r,e)):(t.push(e),e[rr]=null),e[Bt]=t;let s=e[Uo];s!==null&&t!==s&&xS(s,e);let a=e[Jr];a!==null&&a.insertView(n),Vf(e),e[me]|=128}function xS(n,e){let t=n[Ks],r=e[Bt];if(Xr(r))n[me]|=2;else{let i=r[Bt][or];e[or]!==i&&(n[me]|=2)}t===null?n[Ks]=[e]:t.push(e)}var Ho=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ge];return xu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return Ys(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Bt];if(Er(e)){let t=e[fu],r=t?t.indexOf(this):-1;r>-1&&(yv(e,r),au(t,r))}this._attachedToViewContainer=!1}uS(this._lView[ge],this._lView)}onDestroy(e){A0(this._lView,e)}markForCheck(){eC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[me]&=-129}reattach(){Vf(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,Xv(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Hs].get(A3,r1)}catch{this.exhaustive=r1}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gc(this._lView),t=this._lView[Uo];t!==null&&!e&&Gv(t,this._lView),lS(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=gc(this._lView),r=this._lView[Uo];r!==null&&!t&&xS(r,this._lView),Vf(this._lView)}};var qo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=G3;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=T3(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ho(o)}}return n})();function G3(){return Pg(tn(),Te())}function Pg(n,e){return n.type&4?new qo(e,n,Pc(n,e)):null}function tC(n,e,t,r,i){let o=n.data[e];if(o===null)o=K3(n,e,t,r,i),RI()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=DI();o.injectorIndex=s===null?-1:s.injectorIndex}return mc(o,!0),o}function K3(n,e,t,r,i){let o=F0(),s=L0(),a=s?o:o&&o.parent,c=n.data[e]=Q3(n,a,t,e,r,i);return Y3(n,c,o,s),c}function Y3(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Q3(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OI()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Ore=new RegExp(`^(\\d+)*(${OV}|${xV})*(.*)`);var Z3=()=>null;function i1(n,e){return Z3(n,e)}var OS=class{},xg=class{},vv=class{resolveComponentFactory(e){throw new V(917,!1)}},Du=class{static NULL=new vv},Zi=class{},lr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>J3()}return n})();function J3(){let n=Te(),e=tn(),t=ar(e.index,n);return(Xr(t)?t:n)[lt]}var IS=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}return n})();var eg={},Cv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,eg,r);return i!==eg||t===eg?i:this.parentInjector.get(e,t,r)}};function o1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=If(i,a);else if(o==2){let c=a,u=e[++s];r=If(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function W(n,e=0){let t=Te();if(t===null)return ne(n,e);let r=tn();return F1(r,t,Jt(n),e)}function nC(){let n="invalid";throw new Error(n)}function SS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}t4(n,e,t,a,o,c,u)}o!==null&&r!==null&&X3(t,r,o)}function X3(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function e4(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function t4(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let y=0;y<a;y++){let v=r[y];!c&&ei(v)&&(c=!0,e4(n,t,y)),uv(og(t,e),n,v.type)}a4(t,n.data.length,a);for(let y=0;y<a;y++){let v=r[y];v.providersResolver&&v.providersResolver(v)}let u=!1,d=!1,p=aS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let v=r[y];if(t.mergedAttrs=Eu(t.mergedAttrs,v.hostAttrs),r4(n,t,e,p,v),s4(p,v,i),s!==null&&s.has(v)){let[D,k]=s.get(v);t.directiveToIndex.set(v.type,[p,D+t.directiveStart,k+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let E=v.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}n4(n,t,o)}function n4(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))s1(0,e,i,r),s1(1,e,i,r),c1(e,r,!1);else{let o=t.get(i);a1(0,e,o,r),a1(1,e,o,r),c1(e,r,!0)}}}function s1(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),DS(e,o)}}function a1(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),DS(e,s)}}function DS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function c1(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||$v(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function r4(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Lo(i.type,!0)),s=new Js(o,ei(i),W,null);n.blueprint[r]=s,t[r]=s,i4(n,e,r,aS(n,t,i.hostVars,xn),i)}function i4(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;o4(s)!=a&&s.push(a),s.push(t,r,o)}}function o4(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function s4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ei(e)&&(t[""]=n)}}function a4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function TS(n,e,t,r,i,o,s,a){let c=e[ge],u=c.consts,d=pu(u,s),p=tC(c,n,t,r,d);return o&&SS(c,e,p,pu(u,a),i),p.mergedAttrs=Eu(p.mergedAttrs,p.attrs),p.attrs!==null&&o1(p,p.attrs,!1),p.mergedAttrs!==null&&o1(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function AS(n,e){O1(n,e),x0(e)&&n.queries.elementEnd(e)}function rC(n){return Og(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function kS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Og(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function RS(n,e,t){return n[e]=t}function oi(n,e,t){if(t===xn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function iC(n,e,t,r){let i=oi(n,e,t);return oi(n,e+1,r)||i}function c4(n,e,t,r,i){let o=iC(n,e,t,r);return oi(n,e+2,i)||o}function tv(n,e,t){return function r(i){let o=$o(n)?ar(n.index,e):e;eC(o,5);let s=e[hn],a=l1(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=l1(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function l1(n,e,t,r){let i=Oe(null);try{return qe(6,e,t),t(r)!==!1}catch(o){return O3(n,o),!1}finally{qe(7,e,t),Oe(i)}}function l4(n,e,t,r,i,o,s,a){let c=gu(n),u=!1,d=null;if(!r&&c&&(d=u4(e,t,o,n.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let p=Pr(n,t),y=r?r(p):p;SV(t,y,o,a);let v=i.listen(y,o,a),E=r?D=>r(sr(D[n.index])):n.index;NS(E,e,t,o,a,v,!1)}return u}function u4(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[hc],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function NS(n,e,t,r,i,o,s){let a=e.firstCreatePass?R0(e):null,c=k0(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function u1(n,e,t,r,i,o){let s=e[t],a=e[ge],u=a.data[t].outputs[r],p=s[u].subscribe(o);NS(n.index,a,e,i,o,p,!0)}var bv=Symbol("BINDING");var lg=class extends Du{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Yi(e);return new Xs(t,this.ngModule)}};function d4(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Mg.SignalBased)!==0};return i&&(o.transform=i),o})}function h4(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function f4(n,e,t){let r=e instanceof bt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Cv(t,r):t}function g4(n){let e=n.get(Zi,null);if(e===null)throw new V(407,!1);let t=n.get(IS,null),r=n.get(qi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function p4(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return rS(e,t,t==="svg"?O0:t==="math"?yI:null)}var Xs=class extends xg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=d4(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=h4(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=zV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){qe(22);let a=Oe(null);try{let c=this.componentDef,u=m4(r,c,s,o),d=f4(c,i||this.ngModule,e),p=g4(d),y=p.rendererFactory.createRenderer(null,c),v=r?f3(y,r,c.encapsulation,d):p4(c,y),E=s?.some(d1)||o?.some(B=>typeof B!="function"&&B.bindings.some(d1)),D=Hv(null,u,null,512|sS(c),null,null,p,y,d,null,G1(v,d,!0));D[Xt]=v,$f(D);let k=null;try{let B=TS(Xt,D,2,"#host",()=>u.directiveRegistry,!0,0);v&&(oS(y,v,B),wc(v,D)),Qv(u,D,B),Y1(u,B,D),AS(u,B),t!==void 0&&y4(B,this.ngContentSelectors,t),k=ar(B.index,D),D[hn]=k[hn],Jv(u,D,null)}catch(B){throw k!==null&&hv(k),hv(D),B}finally{qe(23),zf()}return new ug(this.componentType,D,!!E)}finally{Oe(a)}}};function m4(n,e,t,r){let i=n?["ng-version","20.1.3"]:HV(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[bv].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let p=r[d];if(typeof p!="function")for(let y of p.bindings){a+=y[bv].requiredVars;let v=d+1;y.create&&(y.targetIdx=v,(o??=[]).push(y)),y.update&&(y.targetIdx=v,(s??=[]).push(y))}}let c=[e];if(r)for(let d of r){let p=typeof d=="function"?d:d.type,y=C0(p);c.push(y)}return zv(0,null,_4(o,s),1,a,c,null,null,null,[i],null)}function _4(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function d1(n){let e=n[bv].kind;return e==="input"||e==="twoWay"}var ug=class extends OS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Nf(t[ge],Xt),this.location=Pc(this._tNode,t),this.instance=ar(this._tNode.index,t)[hn],this.hostView=this.changeDetectorRef=new Ho(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Zv(r,i[ge],i,e,t);this.previousInputValues.set(e,t);let s=ar(r.index,i);eC(s,1)}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function y4(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ji=(()=>{class n{static __NG_ELEMENT_ID__=v4}return n})();function v4(){let n=tn();return LS(n,Te())}var C4=Ji,FS=class extends C4{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fv(this._hostTNode,this._hostLView);if(D1(e)){let t=rg(e,this._hostLView),r=ng(e),i=t[ge].data[r+8];return new Zs(i,t)}else return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=h1(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Pn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=i1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,n1(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!eV(e),u;if(c)u=t;else{let k=t||{};u=k.index,r=k.injector,i=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef,s=k.directives,a=k.bindings}let d=c?e:new Xs(Yi(e)),p=r||this.parentInjector;if(!o&&d.ngModule==null){let B=(c?p:this.parentInjector).get(bt,null);B&&(o=B)}let y=Yi(d.componentType??{}),v=i1(this._lContainer,y?.id??null),E=v?.firstChild??null,D=d.create(p,i,E,o,s,a);return this.insertImpl(D.hostView,u,n1(this._hostTNode,v)),D}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(CI(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Bt],u=new FS(c,c[ir],c[Bt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return q3(s,i,o,r),e.attachToViewContainerRef(),m0(nv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=h1(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=yv(this._lContainer,t);r&&(au(nv(this._lContainer),t),uS(r[ge],r))}detach(e){let t=this._adjustIndex(e,-1),r=yv(this._lContainer,t);return r&&au(nv(this._lContainer),t)!=null?new Ho(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function h1(n){return n[fu]}function nv(n){return n[fu]||(n[fu]=[])}function LS(n,e){let t,r=e[n.index];return Er(r)?t=r:(t=PS(r,e,null,n),e[n.index]=t,qv(e,t)),w4(t,e,n,r),new FS(t,n,e)}function b4(n,e){let t=n[lt],r=t.createComment(""),i=Pr(e,n),o=t.parentNode(i);return cg(t,o,r,t.nextSibling(i),!1),r}var w4=P4,M4=()=>!1;function E4(n,e,t){return M4(n,e,t)}function P4(n,e,t,r){if(n[Bo])return;let i;t.type&8?i=sr(r):i=b4(e,t),n[Bo]=i}var wv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Mv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)oC(e,t).matches!==null&&this.queries[t].setDirty()}},Ev=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=k4(e):this.predicate=e}},Pv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,x4(t,o)),this.matchTNodeWithReadOption(e,t,Xf(t,e,o,!1,!1))}else r===qo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gn||i===Ji||i===qo&&t.type&4)this.addMatch(t.index,-2);else{let o=Xf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function x4(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function O4(n,e){return n.type&11?Pc(n,e):n.type&4?Pg(n,e):null}function I4(n,e,t,r){return t===-1?O4(e,n):t===-2?S4(n,e,r):Pu(n,n[ge],t,e)}function S4(n,e,t){if(t===gn)return Pc(e,n);if(t===qo)return Pg(e,n);if(t===Ji)return LS(e,n)}function VS(n,e,t,r){let i=e[Jr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(I4(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Ov(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=VS(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=Pn;p<d.length;p++){let y=d[p];y[Uo]===y[Bt]&&Ov(y[ge],y,u,r)}if(d[Ks]!==null){let p=d[Ks];for(let y=0;y<p.length;y++){let v=p[y];Ov(v[ge],v,u,r)}}}}}return r}function D4(n,e){return n[Jr].queries[e].queryList}function T4(n,e,t){let r=new sg((t&4)===4);return MI(n,e,r,r.destroy),(e[Jr]??=new Mv).queries.push(new wv(r))-1}function A4(n,e,t,r){let i=en();if(i.firstCreatePass){let o=tn();R4(i,new Ev(e,t,r),o.index),N4(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return T4(i,Te(),t)}function k4(n){return n.split(",").map(e=>e.trim())}function R4(n,e,t){n.queries===null&&(n.queries=new Pv),n.queries.track(new xv(e,t))}function N4(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function oC(n,e){return n.queries.getByIndex(e)}function F4(n,e){let t=n[ge],r=oC(t,e);return r.crossesNgTemplate?Ov(t,n,e,[]):VS(t,n,r,e)}var f1=new Set;function Xi(n){f1.has(n)||(f1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ea=class{},Ig=class{};var dg=class extends ea{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new lg(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=v0(e);this._bootstrapComponents=tS(o.bootstrap),this._r3Injector=q0(e,t,[{provide:ea,useValue:this},{provide:Du,useValue:this.componentFactoryResolver},...r],Hi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hg=class extends Ig{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new dg(this.moduleType,e,[])}};var Ou=class extends ea{injector;componentFactoryResolver=new lg(this);instance=null;constructor(e){super();let t=new $s([...e.providers,{provide:ea,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],e.parent||lu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oc(n,e,t=null){return new Ou({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var L4=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=b0(!1,t.type),i=r.length>0?Oc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(ne(bt))})}return n})();function dt(n){return Ec(()=>{let e=jS(n),t=ue(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Lv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(L4).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Qi.Emulated,styles:n.styles||En,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Xi("NgStandalone"),US(t);let r=n.dependencies;return t.directiveDefs=g1(r,V4),t.pipeDefs=g1(r,uI),t.id=B4(t),t})}function V4(n){return Yi(n)||C0(n)}function ur(n){return Ec(()=>({type:n.type,bootstrap:n.bootstrap||En,declarations:n.declarations||En,imports:n.imports||En,exports:n.exports||En,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function j4(n,e){if(n==null)return jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Mg.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function U4(n){if(n==null)return jo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qe(n){return Ec(()=>{let e=jS(n);return US(e),e})}function Ic(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function jS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||jo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||En,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:j4(n.inputs,e),outputs:U4(n.outputs),debugInfo:null}}function US(n){n.features?.forEach(e=>e(n))}function g1(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function B4(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function $4(n){return Object.getPrototypeOf(n.prototype).constructor}function kn(n){let e=$4(n.type),t=!0,r=[n];for(;e;){let i;if(ei(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=rv(n.inputs),s.declaredInputs=rv(n.declaredInputs),s.outputs=rv(n.outputs);let a=i.hostBindings;a&&G4(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&q4(n,c),u&&W4(n,u),z4(n,i),nI(n.outputs,i.outputs),ei(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===kn&&(t=!1)}}e=Object.getPrototypeOf(e)}H4(r)}function z4(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function H4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Eu(i.hostAttrs,t=Eu(t,i.hostAttrs))}}function rv(n){return n===jo?{}:n===En?[]:n}function q4(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function W4(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function G4(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function K4(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Eu(n.mergedAttrs,n.attrs);let d=n.tView=zv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),mc(n,!1);let c=Q4(t,e,n,r);qf()&&Kv(t,e,c,n),wc(c,e);let u=PS(c,e,c,n);e[r+Xt]=u,qv(e,u),E4(u,n,e)}function Y4(n,e,t,r,i,o,s,a,c,u,d){let p=t+Xt,y;return e.firstCreatePass?(y=tC(e,p,4,s||null,a||null),N0()&&SS(e,n,y,pu(e.consts,u),pS),O1(e,y)):y=e.data[p],K4(y,n,e,t,r,i,o,c),gu(y)&&Qv(e,n,y),u!=null&&fS(n,y,d),y}function K(n,e,t,r,i,o,s,a){let c=Te(),u=en(),d=pu(u.consts,o);return Y4(c,u,n,e,t,r,i,d,void 0,s,a),K}var Q4=Z4;function Z4(n,e,t,r){return Wf(!0),e[lt].createComment("")}var Sg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Sg||{}),na=new X(""),BS=!1,Iv=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,mI()&&(this.destroyRef=L(cr,{optional:!0})??void 0,this.pendingTasks=L(ri,{optional:!0})??void 0)}emit(e){let t=Oe(null);try{super.next(e)}finally{Oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof We&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},wt=Iv;function $S(n){let e,t;function r(){n=bu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function p1(n){return queueMicrotask(()=>n()),()=>{n=bu}}var sC="isAngularZone",fg=sC+"_ID",J4=0,Ae=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wt(!1);onMicrotaskEmpty=new wt(!1);onStable=new wt(!1);onError=new wt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BS}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,t6(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,X4,bu,bu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},X4={};function aC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e6(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$S(()=>{n.callbackScheduled=!1,Sv(n),n.isCheckStableRunning=!0,aC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Sv(n)}function t6(n){let e=()=>{e6(n)},t=J4++;n._inner=n._inner.fork({name:"angular",properties:{[sC]:!0,[fg]:t,[fg+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(n6(c))return r.invokeTask(o,s,a,c);try{return m1(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),_1(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return m1(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!r6(c)&&e(),_1(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Sv(n),aC(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Sv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function m1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _1(n){n._nesting--,aC(n)}var gg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wt;onMicrotaskEmpty=new wt;onStable=new wt;onError=new wt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function n6(n){return zS(n,"__ignore_ng_zone__")}function r6(n){return zS(n,"__scheduler_tick__")}function zS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var cC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})(),HS=[0,1,2,3],qS=(()=>{class n{ngZone=L(Ae);scheduler=L(qi);errorHandler=L(wr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){L(na,{optional:!0})}execute(){let t=this.sequences.size>0;t&&qe(16),this.executing=!0;for(let r of HS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&qe(17)}register(t){let{view:r}=t;r!==void 0?((r[Gs]??=[]).push(t),pc(r),r[me]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Sg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})(),pg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Gs];e&&(this.view[Gs]=e.filter(t=>t!==this))}};function Tu(n,e){let t=e?.injector??L(Xe);return Xi("NgAfterNextRender"),o6(n,t,e,!0)}function i6(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function o6(n,e,t,r){let i=e.get(cC);i.impl??=e.get(qS);let o=e.get(na,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(cr):null,a=e.get(Gf,null,{optional:!0}),c=new pg(i.impl,i6(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var lC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var uC=new X("");function eo(n){return!!n&&typeof n.then=="function"}function Dg(n){return!!n&&typeof n.subscribe=="function"}var dC=new X("");function Sc(n){return $t([{provide:dC,multi:!0,useValue:n}])}var hC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=L(dC,{optional:!0})??[];injector=L(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Pt(this.injector,i);if(eo(o))t.push(o);else if(Dg(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Au=new X("");function WS(){Py(()=>{let n="";throw new V(600,n)})}function GS(n){return n.isBoundToModule}var s6=10;var dr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(fn);afterRenderManager=L(cC);zonelessEnabled=L(Cu);rootEffectScheduler=L(Z0);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new it;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(ri);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(pe(t=>!t))}constructor(){L(na,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=L(bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xe.NULL){return this._injector.get(Ae).run(()=>{qe(10);let s=t instanceof xg;if(!this._injector.get(hC).done){let E="";throw new V(405,E)}let c;s?c=t:c=this._injector.get(Du).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=GS(c)?void 0:this._injector.get(ea),d=r||c.selector,p=c.create(i,[],d,u),y=p.location.nativeElement,v=p.injector.get(uC,null);return v?.registerApplication(y),p.onDestroy(()=>{this.detachView(p.hostView),Mu(this.components,p),v?.unregisterApplication(y)}),this._loadComponent(p),qe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){qe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=Oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Oe(t),this.afterTick.next(),qe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<s6;)qe(14),this.synchronizeOnce(),qe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!mu(i))continue;let o=r&&!this.zonelessEnabled?0:1;Xv(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>mu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Au,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Go(n,e,t,r){let i=Te(),o=yu();if(oi(i,o,e)){let s=en(),a=Hf();w3(a,i,n,e,t,r)}return Go}function R(n,e,t){let r=Te(),i=yu();if(oi(r,i,e)){let o=en(),s=Hf();gS(s,r,n,e,r[lt],t)}return R}function Dv(n,e,t,r,i){Zv(e,n,t,i?"class":"style",r)}function f(n,e,t,r){let i=Te(),o=i[ge],s=n+Xt,a=o.firstCreatePass?TS(s,i,2,e,pS,N0(),t,r):o.data[s];if(P3(a,i,n,e,a6),gu(a)){let c=i[ge];Qv(c,i,a),Y1(c,a,i)}return r!=null&&fS(i,a),f}function g(){let n=en(),e=tn(),t=x3(e);return n.firstCreatePass&&AS(n,t),II(t)&&SI(),xI(),t.classesWithoutHost!=null&&sV(t)&&Dv(n,t,Te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&aV(t)&&Dv(n,t,Te(),t.stylesWithoutHost,!1),g}function nn(n,e,t,r){return f(n,e,t,r),g(),nn}var a6=(n,e,t,r,i)=>(Wf(!0),rS(e[lt],r,$I()));function Me(){return Te()}var Qs=void 0;function c6(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var l6=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",c6],iv={};function On(n){let e=u6(n),t=y1(e);if(t)return t;let r=e.split("-")[0];if(t=y1(r),t)return t;if(r==="en")return l6;throw new V(701,!1)}function y1(n){return n in iv||(iv[n]=Gi.ng&&Gi.ng.common&&Gi.ng.common.locales&&Gi.ng.common.locales[n]),iv[n]}var ht=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ht||{});function u6(n){return n.toLowerCase().replace(/_/g,"-")}var ku="en-US",d6="USD";var h6=ku;function KS(n){typeof n=="string"&&(h6=n.toLowerCase().replace(/_/g,"-"))}function G(n,e,t){let r=Te(),i=en(),o=tn();return YS(i,r,r[lt],o,n,e,t),G}function YS(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=tv(r,e,o),l4(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let p=0;p<d.length;p+=2){let y=d[p],v=d[p+1];c??=tv(r,e,o),u1(r,e,y,v,i,c)}if(u&&u.length)for(let p of u)c??=tv(r,e,o),u1(r,e,p,i,i,c)}}function F(n=1){return BI(n)}function fC(n,e,t,r){A4(n,e,t,r)}function gC(n){let e=Te(),t=en(),r=$0();Bf(r+1);let i=oC(t,r);if(n.dirty&&vI(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=F4(e,r);n.reset(o,CV),n.notifyOnChanges()}return!0}return!1}function pC(){return D4(Te(),$0())}function Dr(n){let e=AI();return Ff(e,Xt+n)}function Qf(n,e){return n<<17|e<<2}function ta(n){return n>>17&32767}function f6(n){return(n&2)==2}function g6(n,e){return n&131071|e<<17}function Tv(n){return n|2}function Mc(n){return(n&131068)>>2}function ov(n,e){return n&-131069|e<<2}function p6(n){return(n&1)===1}function Av(n){return n|1}function m6(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ta(s),c=Mc(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||dc(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let y=ta(n[a+1]);n[r+1]=Qf(y,a),y!==0&&(n[y+1]=ov(n[y+1],r)),n[a+1]=g6(n[a+1],r)}else n[r+1]=Qf(a,0),a!==0&&(n[a+1]=ov(n[a+1],r)),a=r;else n[r+1]=Qf(c,0),a===0?a=r:n[c+1]=ov(n[c+1],r),c=r;u&&(n[r+1]=Tv(n[r+1])),v1(n,d,r,!0),v1(n,d,r,!1),_6(e,d,n,r,o),s=Qf(a,c),o?e.classBindings=s:e.styleBindings=s}function _6(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&dc(o,e)>=0&&(t[r+1]=Av(t[r+1]))}function v1(n,e,t,r){let i=n[t+1],o=e===null,s=r?ta(i):Mc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];y6(c,e)&&(a=!0,n[s+1]=r?Av(u):Tv(u)),s=r?ta(u):Mc(u)}a&&(n[t+1]=r?Tv(i):Av(i))}function y6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?dc(n,e)>=0:!1}var Or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function v6(n){return n.substring(Or.key,Or.keyEnd)}function C6(n){return b6(n),QS(n,ZS(n,0,Or.textEnd))}function QS(n,e){let t=Or.textEnd;return t===e?-1:(e=Or.keyEnd=w6(n,Or.key=e,t),ZS(n,e,t))}function b6(n){Or.key=0,Or.keyEnd=0,Or.value=0,Or.valueEnd=0,Or.textEnd=n.length}function ZS(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function w6(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function pn(n,e,t){return JS(n,e,t,!1),pn}function zt(n,e){return JS(n,e,null,!0),zt}function Rn(n){E6(D6,M6,n,!0)}function M6(n,e){for(let t=C6(e);t>=0;t=QS(e,t))Af(n,v6(e),!0)}function JS(n,e,t,r){let i=Te(),o=en(),s=vu(2);if(o.firstUpdatePass&&eD(o,n,s,r),e!==xn&&oi(i,s,e)){let a=o.data[ti()];tD(o,a,i,i[lt],n,i[s+1]=A6(e,t),r,s)}}function E6(n,e,t,r){let i=en(),o=vu(2);i.firstUpdatePass&&eD(i,null,o,r);let s=Te();if(t!==xn&&oi(s,o,t)){let a=i.data[ti()];if(nD(a,r)&&!XS(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=If(c,t||"")),Dv(i,a,s,t,r)}else T6(i,a,s,s[lt],s[o+1],s[o+1]=S6(n,e,t),r,o)}}function XS(n,e){return e>=n.expandoStartIndex}function eD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ti()],s=XS(n,t);nD(o,r)&&e===null&&!s&&(e=!1),e=P6(i,o,e,r),m6(i,o,e,t,s,r)}}function P6(n,e,t,r){let i=LI(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=sv(null,n,e,t,r),t=Iu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=sv(i,n,e,t,r),o===null){let c=x6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=sv(null,n,e,c[1],r),c=Iu(c,e.attrs,r),O6(n,e,r,c))}else o=I6(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function x6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Mc(r)!==0)return n[ta(r)]}function O6(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ta(i)]=r}function I6(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Iu(r,s,t)}return Iu(r,e.attrs,t)}function sv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Iu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Iu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Af(n,s,t?!0:e[++o]))}return n===void 0?null:n}function S6(n,e,t){if(t==null||t==="")return En;let r=[],i=xc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function D6(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Af(n,r,t)}function T6(n,e,t,r,i,o,s,a){i===xn&&(i=En);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let y=c<i.length?i[c+1]:void 0,v=u<o.length?o[u+1]:void 0,E=null,D;d===p?(c+=2,u+=2,y!==v&&(E=p,D=v)):p===null||d!==null&&d<p?(c+=2,E=d):(u+=2,E=p,D=v),E!==null&&tD(n,e,t,r,E,D,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function tD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=p6(u)?C1(c,e,t,i,Mc(u),s):void 0;if(!mg(d)){mg(o)||f6(u)&&(o=C1(c,null,t,i,a,s));let p=I0(ti(),t);h3(r,s,p,i,o)}}function C1(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,y=t[i+1];y===xn&&(y=p?En:void 0);let v=p?kf(y,r):d===r?y:void 0;if(u&&!mg(v)&&(v=kf(c,r)),mg(v)&&(a=v,s))return a;let E=n[i+1];i=s?ta(E):Mc(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=kf(c,r))}return a}function mg(n){return n!==void 0}function A6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Hi(xc(n)))),n}function nD(n,e){return(n.flags&(e?8:16))!==0}function m(n,e=""){let t=Te(),r=en(),i=n+Xt,o=r.firstCreatePass?tC(r,i,1,e,null):r.data[i],s=k6(r,t,o,e,n);t[i]=s,qf()&&Kv(r,t,s,o),mc(o,!1)}var k6=(n,e,t,r,i)=>(Wf(!0),qV(e[lt],r));function R6(n,e,t,r=""){return oi(n,yu(),t)?e+Qr(t)+r:xn}function N6(n,e,t,r,i,o=""){let s=B0(),a=iC(n,s,t,i);return vu(2),a?e+Qr(t)+r+Qr(i)+o:xn}function F6(n,e,t,r,i,o,s,a=""){let c=B0(),u=c4(n,c,t,i,s);return vu(3),u?e+Qr(t)+r+Qr(i)+o+Qr(s)+a:xn}function H(n){return oe("",n),H}function oe(n,e,t){let r=Te(),i=R6(r,n,e,t);return i!==xn&&mC(r,ti(),i),oe}function rn(n,e,t,r,i){let o=Te(),s=N6(o,n,e,t,r,i);return s!==xn&&mC(o,ti(),s),rn}function Dc(n,e,t,r,i,o,s){let a=Te(),c=F6(a,n,e,t,r,i,o,s);return c!==xn&&mC(a,ti(),c),Dc}function mC(n,e,t){let r=I0(e,n);WV(n[lt],r,t)}function _e(n,e,t){K0(e)&&(e=e());let r=Te(),i=yu();if(oi(r,i,e)){let o=en(),s=Hf();gS(s,r,n,e,r[lt],t)}return _e}function Ce(n,e){let t=K0(n);return t&&n.set(e),t}function ye(n,e){let t=Te(),r=en(),i=tn();return YS(r,t,t[lt],i,n,e),ye}function L6(n,e,t){let r=en();if(r.firstCreatePass){let i=ei(n);kv(t,r.data,r.blueprint,i,!0),kv(e,r.data,r.blueprint,i,!1)}}function kv(n,e,t,r,i){if(n=Jt(n),Array.isArray(n))for(let o=0;o<n.length;o++)kv(n[o],e,t,r,i);else{let o=en(),s=Te(),a=tn(),c=Bs(n)?n:Jt(n.provide),u=M0(n),d=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Bs(n)||!n.multi){let v=new Js(u,i,W,null),E=cv(c,e,i?d:d+y,p);E===-1?(uv(og(a,s),o,c),av(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[E]=v,s[E]=v)}else{let v=cv(c,e,d+y,p),E=cv(c,e,d,d+y),D=v>=0&&t[v],k=E>=0&&t[E];if(i&&!k||!i&&!D){uv(og(a,s),o,c);let B=U6(i?j6:V6,t.length,i,r,u,n);!i&&k&&(t[E].providerFactory=B),av(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=rD(t[i?E:v],u,!i&&r);av(o,n,v>-1?v:E,B)}!i&&r&&k&&t[E].componentProviders++}}}function av(n,e,t,r){let i=Bs(e),o=pI(e);if(i||o){let c=(o?Jt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function rD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function V6(n,e,t,r,i){return Rv(this.multi,[])}function j6(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Pu(r,r[ge],this.providerFactory.index,i);s=c.slice(0,a),Rv(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Rv(o,s);return s}function Rv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function U6(n,e,t,r,i,o){let s=new Js(n,t,W,null);return s.multi=[],s.index=e,s.componentProviders=0,rD(s,i,r&&!t),s}function ai(n,e=[]){return t=>{t.providersResolver=(r,i)=>L6(r,i?i(n):n,e)}}function Ru(n,e,t,r){return oD(Te(),jf(),n,e,t,r)}function iD(n,e){let t=n[e];return t===xn?void 0:t}function oD(n,e,t,r,i,o){let s=e+t;return oi(n,s,i)?RS(n,s+1,o?r.call(o,i):r(i)):iD(n,s+1)}function B6(n,e,t,r,i,o,s){let a=e+t;return iC(n,a,i,o)?RS(n,a+2,s?r.call(s,i,o):r(i,o)):iD(n,a+2)}function Ve(n,e){let t=en(),r,i=n+Xt;t.firstCreatePass?(r=$6(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Lo(r.type,!0)),s,a=Mn(W);try{let c=ig(!1),u=o();return ig(c),S0(t,Te(),i,u),u}finally{Mn(a)}}function $6(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function mn(n,e,t){let r=n+Xt,i=Te(),o=Ff(i,r);return sD(i,r)?oD(i,jf(),e,o.transform,t,o):o.transform(t)}function Ot(n,e,t,r){let i=n+Xt,o=Te(),s=Ff(o,i);return sD(o,i)?B6(o,jf(),e,s.transform,t,r,s):s.transform(t,r)}function sD(n,e){return n[ge].data[e].pure}function _C(n,e){return Pg(n,e)}var _g=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},yC=(()=>{class n{compileModuleSync(t){return new hg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=v0(t),o=tS(i.declarations).reduce((s,a)=>{let c=Yi(a);return c&&s.push(new Xs(c)),s},[]);return new _g(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var z6=(()=>{class n{zone=L(Ae);changeDetectionScheduler=L(qi);applicationRef=L(dr);applicationErrorHandler=L(fn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aD=new X("",{factory:()=>!1});function vC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ae(ue(U({},bC()),{scheduleInRootZone:t})),[{provide:Ae,useFactory:n},{provide:Ki,multi:!0,useFactory:()=>{let r=L(z6,{optional:!0});return()=>r.initialize()}},{provide:Ki,multi:!0,useFactory:()=>{let r=L(H6);return()=>{r.initialize()}}},e===!0?{provide:Y0,useValue:!0}:[],{provide:Q0,useValue:t??BS},{provide:fn,useFactory:()=>{let r=L(Ae),i=L(bt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(wr),o.handleError(s))})}}}]}function CC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=vC({ngZoneFactory:()=>{let i=bC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Xi("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return $t([{provide:aD,useValue:!0},{provide:Cu,useValue:!1},r])}function bC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var H6=(()=>{class n{subscription=new We;initialized=!1;zone=L(Ae);pendingTasks=L(ri);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cD=(()=>{class n{applicationErrorHandler=L(fn);appRef=L(dr);taskService=L(ri);ngZone=L(Ae);zonelessEnabled=L(Cu);tracing=L(na,{optional:!0});disableScheduling=L(Y0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new We;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Q0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?p1:$S;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,p1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q6(){return typeof $localize<"u"&&$localize.locale||ku}var ra=new X("",{providedIn:"root",factory:()=>L(ra,{optional:!0,skipSelf:!0})||q6()}),wC=new X("",{providedIn:"root",factory:()=>d6});function Nn(n){return XO(n)}function Tc(n,e){return Qh(n,e?.equal)}var lD=class{[dn];constructor(e){this[dn]=e}destroy(){this[dn].destroy()}};var pD=Symbol("InputSignalNode#UNSET"),nj=ue(U({},Zh),{transformFn:void 0,applyValueToInputSignal(n,e){Qa(n,e)}});function mD(n,e){let t=Object.create(nj);t.value=n,t.transformFn=e?.transform;function r(){if(Ka(t),t.value===pD){let i=null;throw new V(-950,i)}return t.value}return r[dn]=t,r}var Ag=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Su(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},rj=new X("");rj.__NG_ELEMENT_ID__=n=>{let e=tn();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function uD(n,e){return mD(n,e)}function ij(n){return mD(pD,n)}var _D=(uD.required=ij,uD);var ia=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},yD=new ia("20.1.3");var MC=new X(""),oj=new X("");function Nu(n){return!n.moduleRef}function sj(n){let e=Nu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ae);return t.run(()=>{Nu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(fn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Nu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(MC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(MC);s.add(o),n.moduleRef.onDestroy(()=>{Mu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return cj(r,t,()=>{let o=e.get(ri),s=o.add(),a=e.get(hC);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ra,ku);if(KS(c||ku),!e.get(oj,!0))return Nu(n)?e.get(dr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Nu(n)){let d=e.get(dr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return aj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var aj;function cj(n,e,t){try{let r=t();return eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Tg=null;function lj(n=[],e){return Xe.create({name:e,providers:[{provide:cu,useValue:"platform"},{provide:MC,useValue:new Set([()=>Tg=null])},...n]})}function uj(n=[]){if(Tg)return Tg;let e=lj(n);return Tg=e,WS(),dj(e),e}function dj(n){let e=n.get(vg,null);Pt(n,()=>{e?.forEach(t=>t())})}function Fu(){return!1}var li=(()=>{class n{static __NG_ELEMENT_ID__=hj}return n})();function hj(n){return fj(tn(),Te(),(n&16)===16)}function fj(n,e,t){if($o(n)&&!t){let r=ar(n.index,e);return new Ho(r,r)}else if(n.type&175){let r=e[or];return new Ho(r,e)}return null}var EC=class{constructor(){}supports(e){return rC(e)}create(e){return new PC(e)}},gj=(n,e)=>e,PC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||gj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<dD(r,i,o)?t:r,a=dD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let y=0;y<u;y++){let v=y<o.length?o[y]:o[y]=0,E=v+y;d<=E&&E<u&&(o[y]=v+1)}let p=s.previousIndex;o[p]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!rC(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,kS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new xC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new kg),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},xC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},OC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},kg=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new OC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var IC=class{constructor(){}supports(e){return e instanceof Map||Og(e)}create(){return new SC}},SC=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Og(e)))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new DC(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},DC=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function hD(){return new TC([new EC])}var TC=(()=>{class n{factories;static \u0275prov=Y({token:n,providedIn:"root",factory:hD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hD()),deps:[[n,new Nv,new xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function fD(){return new AC([new IC])}var AC=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:fD});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fD()),deps:[[n,new Nv,new xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new V(901,!1)}}return n})();function vD(n){qe(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=uj(r),o=[vC({}),{provide:qi,useExisting:cD},HI,...t||[]],s=new Ou({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return sj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{qe(9)}}function Ko(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function CD(n){let e=Yi(n);if(!e)return null;let t=new Xs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var MD=null;function hr(){return MD}function kC(n){MD??=n}var Lu=class{},Vu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>L(ED),providedIn:"platform"})}return n})(),RC=new X(""),ED=(()=>{class n extends Vu{_location;_history;_doc=L(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Rg(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function bD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Tr(n){return n&&n[0]!=="?"?`?${n}`:n}var Ar=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>L(Fg),providedIn:"root"})}return n})(),Ng=new X(""),Fg=(()=>{class n extends Ar{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(Vu),ne(Ng,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yo=(()=>{class n{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=_j(bD(wD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Tr(r))}normalize(t){return n.stripTrailingSlash(mj(this._basePath,wD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Tr;static joinWithSlash=Rg;static stripTrailingSlash=bD;static \u0275fac=function(r){return new(r||n)(ne(Ar))};static \u0275prov=Y({token:n,factory:()=>pj(),providedIn:"root"})}return n})();function pj(){return new Yo(ne(Ar))}function mj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function wD(n){return n.replace(/\/index.html$/,"")}function _j(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var $C=(()=>{class n extends Ar{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Rg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ne(Vu),ne(Ng,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),DD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Wg=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Wg||{});var _n=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(_n||{}),Ge=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ge||{}),Fn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Fn||{}),on={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TD(n){return On(n)[ht.LocaleId]}function AD(n,e,t){let r=On(n),i=[r[ht.DayPeriodsFormat],r[ht.DayPeriodsStandalone]],o=fr(i,e);return fr(o,t)}function kD(n,e,t){let r=On(n),i=[r[ht.DaysFormat],r[ht.DaysStandalone]],o=fr(i,e);return fr(o,t)}function RD(n,e,t){let r=On(n),i=[r[ht.MonthsFormat],r[ht.MonthsStandalone]],o=fr(i,e);return fr(o,t)}function ND(n,e){let r=On(n)[ht.Eras];return fr(r,e)}function ju(n,e){let t=On(n);return fr(t[ht.DateFormat],e)}function Uu(n,e){let t=On(n);return fr(t[ht.TimeFormat],e)}function Bu(n,e){let r=On(n)[ht.DateTimeFormat];return fr(r,e)}function Rr(n,e){let t=On(n),r=t[ht.NumberSymbols][e];if(typeof r>"u"){if(e===on.CurrencyDecimal)return t[ht.NumberSymbols][on.Decimal];if(e===on.CurrencyGroup)return t[ht.NumberSymbols][on.Group]}return r}function zC(n,e){return On(n)[ht.NumberFormats][e]}function yj(n){return On(n)[ht.Currencies]}function FD(n){if(!n[ht.ExtraData])throw new V(2303,!1)}function LD(n){let e=On(n);return FD(e),(e[ht.ExtraData][2]||[]).map(r=>typeof r=="string"?NC(r):[NC(r[0]),NC(r[1])])}function VD(n,e,t){let r=On(n);FD(r);let i=[r[ht.ExtraData][0],r[ht.ExtraData][1]],o=fr(i,e)||[];return fr(o,t)||[]}function fr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new V(2304,!1)}function NC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function jD(n,e,t="en"){let r=yj(t)[n]||DD[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var vj=2;function UD(n){let e,t=DD[n];return t&&(e=t[2]),typeof e=="number"?e:vj}var Cj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lg={},bj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function BD(n,e,t,r){let i=Dj(n);e=to(t,e)||e;let s=[],a;for(;e;)if(a=bj.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=zD(r,c),i=Sj(i,r));let u="";return s.forEach(d=>{let p=Oj(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function $g(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function to(n,e){let t=TD(n);if(Lg[t]??={},Lg[t][e])return Lg[t][e];let r="";switch(e){case"shortDate":r=ju(n,Fn.Short);break;case"mediumDate":r=ju(n,Fn.Medium);break;case"longDate":r=ju(n,Fn.Long);break;case"fullDate":r=ju(n,Fn.Full);break;case"shortTime":r=Uu(n,Fn.Short);break;case"mediumTime":r=Uu(n,Fn.Medium);break;case"longTime":r=Uu(n,Fn.Long);break;case"fullTime":r=Uu(n,Fn.Full);break;case"short":let i=to(n,"shortTime"),o=to(n,"shortDate");r=Vg(Bu(n,Fn.Short),[i,o]);break;case"medium":let s=to(n,"mediumTime"),a=to(n,"mediumDate");r=Vg(Bu(n,Fn.Medium),[s,a]);break;case"long":let c=to(n,"longTime"),u=to(n,"longDate");r=Vg(Bu(n,Fn.Long),[c,u]);break;case"full":let d=to(n,"fullTime"),p=to(n,"fullDate");r=Vg(Bu(n,Fn.Full),[d,p]);break}return r&&(Lg[t][e]=r),r}function Vg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function kr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function wj(n,e){return kr(n,3).substring(0,e)}function It(n,e,t=0,r=!1,i=!1){return function(o,s){let a=Mj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return wj(a,e);let c=Rr(s,on.MinusSign);return kr(a,e,c,r,i)}}function Mj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new V(2301,!1)}}function et(n,e,t=_n.Format,r=!1){return function(i,o){return Ej(i,o,n,e,t,r)}}function Ej(n,e,t,r,i,o){switch(t){case 2:return RD(e,i,r)[n.getMonth()];case 1:return kD(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=LD(e),d=VD(e,i,r),p=u.findIndex(y=>{if(Array.isArray(y)){let[v,E]=y,D=s>=v.hours&&a>=v.minutes,k=s<E.hours||s===E.hours&&a<E.minutes;if(v.hours<E.hours){if(D&&k)return!0}else if(D||k)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return AD(e,i,r)[s<12?0:1];case 3:return ND(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new V(2302,!1)}}function jg(n){return function(e,t,r){let i=-1*r,o=Rr(t,on.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+kr(s,2,o)+kr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+kr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+kr(s,2,o)+":"+kr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+kr(s,2,o)+":"+kr(Math.abs(i%60),2,o);default:throw new V(2302,!1)}}}var Pj=0,Bg=4;function xj(n){let e=$g(n,Pj,1).getDay();return $g(n,0,1+(e<=Bg?Bg:Bg+7)-e)}function $D(n){let e=n.getDay(),t=e===0?-3:Bg-e;return $g(n.getFullYear(),n.getMonth(),n.getDate()+t)}function FC(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=$D(t),s=xj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return kr(i,n,Rr(r,on.MinusSign))}}function Ug(n,e=!1){return function(t,r){let o=$D(t).getFullYear();return kr(o,n,Rr(r,on.MinusSign),e)}}var LC={};function Oj(n){if(LC[n])return LC[n];let e;switch(n){case"G":case"GG":case"GGG":e=et(3,Ge.Abbreviated);break;case"GGGG":e=et(3,Ge.Wide);break;case"GGGGG":e=et(3,Ge.Narrow);break;case"y":e=It(0,1,0,!1,!0);break;case"yy":e=It(0,2,0,!0,!0);break;case"yyy":e=It(0,3,0,!1,!0);break;case"yyyy":e=It(0,4,0,!1,!0);break;case"Y":e=Ug(1);break;case"YY":e=Ug(2,!0);break;case"YYY":e=Ug(3);break;case"YYYY":e=Ug(4);break;case"M":case"L":e=It(1,1,1);break;case"MM":case"LL":e=It(1,2,1);break;case"MMM":e=et(2,Ge.Abbreviated);break;case"MMMM":e=et(2,Ge.Wide);break;case"MMMMM":e=et(2,Ge.Narrow);break;case"LLL":e=et(2,Ge.Abbreviated,_n.Standalone);break;case"LLLL":e=et(2,Ge.Wide,_n.Standalone);break;case"LLLLL":e=et(2,Ge.Narrow,_n.Standalone);break;case"w":e=FC(1);break;case"ww":e=FC(2);break;case"W":e=FC(1,!0);break;case"d":e=It(2,1);break;case"dd":e=It(2,2);break;case"c":case"cc":e=It(7,1);break;case"ccc":e=et(1,Ge.Abbreviated,_n.Standalone);break;case"cccc":e=et(1,Ge.Wide,_n.Standalone);break;case"ccccc":e=et(1,Ge.Narrow,_n.Standalone);break;case"cccccc":e=et(1,Ge.Short,_n.Standalone);break;case"E":case"EE":case"EEE":e=et(1,Ge.Abbreviated);break;case"EEEE":e=et(1,Ge.Wide);break;case"EEEEE":e=et(1,Ge.Narrow);break;case"EEEEEE":e=et(1,Ge.Short);break;case"a":case"aa":case"aaa":e=et(0,Ge.Abbreviated);break;case"aaaa":e=et(0,Ge.Wide);break;case"aaaaa":e=et(0,Ge.Narrow);break;case"b":case"bb":case"bbb":e=et(0,Ge.Abbreviated,_n.Standalone,!0);break;case"bbbb":e=et(0,Ge.Wide,_n.Standalone,!0);break;case"bbbbb":e=et(0,Ge.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":e=et(0,Ge.Abbreviated,_n.Format,!0);break;case"BBBB":e=et(0,Ge.Wide,_n.Format,!0);break;case"BBBBB":e=et(0,Ge.Narrow,_n.Format,!0);break;case"h":e=It(3,1,-12);break;case"hh":e=It(3,2,-12);break;case"H":e=It(3,1);break;case"HH":e=It(3,2);break;case"m":e=It(4,1);break;case"mm":e=It(4,2);break;case"s":e=It(5,1);break;case"ss":e=It(5,2);break;case"S":e=It(6,1);break;case"SS":e=It(6,2);break;case"SSS":e=It(6,3);break;case"Z":case"ZZ":case"ZZZ":e=jg(0);break;case"ZZZZZ":e=jg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=jg(2);break;default:return null}return LC[n]=e,e}function zD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ij(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Sj(n,e,t){let i=n.getTimezoneOffset(),o=zD(e,i);return Ij(n,-1*(o-i))}function Dj(n){if(PD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return $g(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Cj))return Tj(r)}let e=new Date(n);if(!PD(e))throw new V(2302,!1);return e}function Tj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function PD(n){return n instanceof Date&&!isNaN(n.valueOf())}var Aj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,xD=22,zg=".",$u="0",kj=";",Rj=",",VC="#",OD="\xA4";function HD(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Rr(t,on.Infinity);else{let u=Fj(n);s&&(u=Nj(u));let d=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let J=o.match(Aj);if(J===null)throw new V(2306,!1);let ee=J[1],ie=J[3],Be=J[5];ee!=null&&(d=jC(ee)),ie!=null&&(p=jC(ie)),Be!=null?y=jC(Be):ie!=null&&p>y&&(y=p)}Lj(u,p,y);let v=u.digits,E=u.integerLen,D=u.exponent,k=[];for(c=v.every(J=>!J);E<d;E++)v.unshift(0);for(;E<0;E++)v.unshift(0);E>0?k=v.splice(E,v.length):(k=v,v=[0]);let B=[];for(v.length>=e.lgSize&&B.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)B.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&B.unshift(v.join("")),a=B.join(Rr(t,r)),k.length&&(a+=Rr(t,i)+k.join("")),D&&(a+=Rr(t,on.Exponential)+"+"+D)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function qD(n,e,t,r,i){let o=zC(e,Wg.Currency),s=GD(o,Rr(e,on.MinusSign));return s.minFrac=UD(r),s.maxFrac=s.minFrac,HD(n,s,e,on.CurrencyGroup,on.CurrencyDecimal,i).replace(OD,t).replace(OD,"").trim()}function WD(n,e,t){let r=zC(e,Wg.Decimal),i=GD(r,Rr(e,on.MinusSign));return HD(n,i,e,on.Group,on.Decimal,t)}function GD(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(kj),i=r[0],o=r[1],s=i.indexOf(zg)!==-1?i.split(zg):[i.substring(0,i.lastIndexOf($u)+1),i.substring(i.lastIndexOf($u)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(VC));for(let d=0;d<c.length;d++){let p=c.charAt(d);p===$u?t.minFrac=t.maxFrac=d+1:p===VC?t.maxFrac=d+1:t.posSuf+=p}let u=a.split(Rj);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(VC);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Nj(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function Fj(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(zg))>-1&&(e=e.replace(zg,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===$u;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===$u;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>xD&&(r=r.splice(0,xD-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function Lj(n,e,t){if(e>t)throw new V(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,u=e+n.integerLen,d=r.reduceRight(function(p,y,v,E){return y=y+p,E[v]=y<10?y:y-10,c&&(E[v]===0&&v>=u?E.pop():c=!1),y>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function jC(n){let e=parseInt(n);if(isNaN(e))throw new V(2305,!1);return e}var Hg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ID(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ID(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(Ji),W(qo),W(TC))};static \u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ID(n,e){n.context.$implicit=e.item}var Mt=(()=>{class n{_viewContainer;_context=new qg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(Ji),W(qo))};static \u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),qg=class{$implicit=null;ngIf=null};function SD(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var zu=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Ir.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(W(gn),W(AC),W(lr))};static \u0275dir=Qe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Gg(n,e){return new V(2100,!1)}var UC=class{createSubscription(e,t,r){return Nn(()=>e.subscribe({next:t,error:r}))}dispose(e){Nn(()=>e.unsubscribe())}},BC=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},Vj=new BC,jj=new UC,HC=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=L(fn);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(eo(t))return Vj;if(Dg(t))return jj;throw Gg(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(W(li,16))};static \u0275pipe=Ic({name:"async",type:n,pure:!1})}return n})();var Uj="mediumDate",KD=new X(""),YD=new X(""),oa=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??Uj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return BD(t,s,o||this.locale,a)}catch(s){throw Gg(n,s.message)}}static \u0275fac=function(r){return new(r||n)(W(ra,16),W(KD,24),W(YD,24))};static \u0275pipe=Ic({name:"date",type:n,pure:!0})}return n})();var qC=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!QD(t))return null;i||=this._locale;try{let o=ZD(t);return WD(o,i,r)}catch(o){throw Gg(n,o.message)}}static \u0275fac=function(r){return new(r||n)(W(ra,16))};static \u0275pipe=Ic({name:"number",type:n,pure:!0})}return n})();var Hu=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!QD(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=jD(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=ZD(t);return qD(c,s,a,r,o)}catch(c){throw Gg(n,c.message)}}static \u0275fac=function(r){return new(r||n)(W(ra,16),W(wC,16))};static \u0275pipe=Ic({name:"currency",type:n,pure:!0})}return n})();function QD(n){return!(n==null||n===""||n!==n)}function ZD(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new V(2309,!1);return n}var mt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ur({type:n});static \u0275inj=qn({})}return n})();function WC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qu=class{};var JD="browser";var XD=(()=>{class n{static \u0275prov=Y({token:n,providedIn:"root",factory:()=>new GC(L(ut),window)})}return n})(),GC=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ue(U({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Bj(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Wi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ue(U({},t),{left:i-s[0],top:o-s[1]}))}};function Bj(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Yg=new X(""),JC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ne(Yg),ne(Ae))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Wu=class{_doc;constructor(e){this._doc=e}manager},KC="ng-app-id";function eT(n){for(let e of n)e.remove()}function tT(n,e){let t=e.createElement("style");return t.textContent=n,t}function $j(n,e,t,r){let i=n.head?.querySelectorAll(`style[${KC}="${e}"],link[${KC}="${e}"]`);if(i)for(let o of i)o.removeAttribute(KC),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function QC(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var XC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,$j(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,tT);r?.forEach(i=>this.addUsage(i,this.external,QC))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(eT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])eT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,tT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,QC(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ne(ut),ne(yg),ne(bg,8),ne(Wo))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),YC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eb=/%COMP%/g;var rT="%COMP%",zj=`_nghost-${rT}`,Hj=`_ngcontent-${rT}`,qj=!0,Wj=new X("",{providedIn:"root",factory:()=>qj});function Gj(n){return Hj.replace(eb,n)}function Kj(n){return zj.replace(eb,n)}function iT(n,e){return e.map(t=>t.replace(eb,n))}var Yu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Gu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Kg?i.applyToHost(t):i instanceof Ku&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Qi.Emulated:o=new Kg(c,u,r,this.appId,d,s,a,p,y);break;case Qi.ShadowDom:return new ZC(c,u,t,r,s,a,this.nonce,p,y);default:o=new Ku(c,u,r,d,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ne(JC),ne(XC),ne(yg),ne(Wj),ne(ut),ne(Wo),ne(Ae),ne(bg),ne(na,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Gu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(YC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=YC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=YC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(t,r,i&Ir.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function nT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ZC=class extends Gu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=iT(i.id,d);for(let y of d){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=y,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let y of p){let v=QC(y,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ku=class extends Gu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?iT(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kg=class extends Ku{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=Gj(d),this.hostAttr=Kj(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Qg=class n extends Lu{supportsDOMEvents=!0;static makeCurrent(){kC(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Yj();return t==null?null:Qj(t)}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return WC(document.cookie,e)}},Qu=null;function Yj(){return Qu=Qu||document.head.querySelector("base"),Qu?Qu.getAttribute("href"):null}function Qj(n){return new URL(n,document.baseURI).pathname}var Zj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),sT=(()=>{class n extends Wu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ne(ut))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),oT=["alt","control","meta","shift"],Jj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},aT=(()=>{class n extends Wu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),oT.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Jj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oT.forEach(s=>{if(s!==i){let a=Xj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ne(ut))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function tb(n,e){let t=U({rootComponent:n},e8(e));return vD(t)}function e8(n){return{appProviders:[...o8,...n?.providers??[]],platformProviders:i8}}function t8(){Qg.makeCurrent()}function n8(){return new wr}function r8(){return Vv(document),document}var i8=[{provide:Wo,useValue:JD},{provide:vg,useValue:t8,multi:!0},{provide:ut,useFactory:r8}];var o8=[{provide:cu,useValue:"root"},{provide:wr,useFactory:n8},{provide:Yg,useClass:sT,multi:!0,deps:[ut]},{provide:Yg,useClass:aT,multi:!0,deps:[ut]},Yu,XC,JC,{provide:Zi,useExisting:Yu},{provide:qu,useClass:Zj},[]];var cT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ne(ut))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xe="primary",ld=Symbol("RouteTitle"),sb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ca(n){return new sb(n)}function mT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function a8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ui(n[t],e[t]))return!1;return!0}function ui(n,e){let t=n?ab(n):void 0,r=e?ab(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!_T(n[i],e[i]))return!1;return!0}function ab(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _T(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function yT(n){return n.length>0?n[n.length-1]:null}function no(n){return By(n)?n:eo(n)?st(Promise.resolve(n)):de(n)}var c8={exact:CT,subset:bT},vT={exact:l8,subset:u8,ignored:()=>!0};function lT(n,e,t){return c8[t.paths](n.root,e.root,t.matrixParams)&&vT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function l8(n,e){return ui(n,e)}function CT(n,e,t){if(!sa(n.segments,e.segments)||!Xg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!CT(n.children[r],e.children[r],t))return!1;return!0}function u8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_T(n[t],e[t]))}function bT(n,e,t){return wT(n,e,e.segments,t)}function wT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!sa(i,t)||e.hasChildren()||!Xg(i,t,r))}else if(n.segments.length===t.length){if(!sa(n.segments,t)||!Xg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!bT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!sa(n.segments,i)||!Xg(n.segments,i,r)||!n.children[xe]?!1:wT(n.children[xe],e,o,r)}}function Xg(n,e,t){return e.every((r,i)=>vT[t](n[i].parameters,r.parameters))}var hi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ca(this.queryParams),this._queryParamMap}toString(){return f8.serialize(this)}},Ue=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ep(this)}},Qo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ca(this.parameters),this._parameterMap}toString(){return ET(this)}};function d8(n,e){return sa(n,e)&&n.every((t,r)=>ui(t.parameters,e[r].parameters))}function sa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function h8(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===xe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==xe&&(t=t.concat(e(i,r)))}),t}var la=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>new Zo,providedIn:"root"})}return n})(),Zo=class{parse(e){let t=new lb(e);return new hi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Zu(e.root,!0)}`,r=m8(e.queryParams),i=typeof e.fragment=="string"?`#${g8(e.fragment)}`:"";return`${t}${r}${i}`}},f8=new Zo;function ep(n){return n.segments.map(e=>ET(e)).join("/")}function Zu(n,e){if(!n.hasChildren())return ep(n);if(e){let t=n.children[xe]?Zu(n.children[xe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==xe&&r.push(`${i}:${Zu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=h8(n,(r,i)=>i===xe?[Zu(n.children[xe],!1)]:[`${i}:${Zu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[xe]!=null?`${ep(n)}/${t[0]}`:`${ep(n)}/(${t.join("//")})`}}function MT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zg(n){return MT(n).replace(/%3B/gi,";")}function g8(n){return encodeURI(n)}function cb(n){return MT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tp(n){return decodeURIComponent(n)}function uT(n){return tp(n.replace(/\+/g,"%20"))}function ET(n){return`${cb(n.path)}${p8(n.parameters)}`}function p8(n){return Object.entries(n).map(([e,t])=>`;${cb(e)}=${cb(t)}`).join("")}function m8(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Zg(t)}=${Zg(i)}`).join("&"):`${Zg(t)}=${Zg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _8=/^[^\/()?;#]+/;function nb(n){let e=n.match(_8);return e?e[0]:""}var y8=/^[^\/()?;=#]+/;function v8(n){let e=n.match(y8);return e?e[0]:""}var C8=/^[^=?&#]+/;function b8(n){let e=n.match(C8);return e?e[0]:""}var w8=/^[^&#]+/;function M8(n){let e=n.match(w8);return e?e[0]:""}var lb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xe]=new Ue(e,t)),r}parseSegment(){let e=nb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Qo(tp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=v8(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=nb(this.remaining);i&&(r=i,this.capture(r))}e[tp(t)]=tp(r)}parseQueryParam(e){let t=b8(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=M8(this.remaining);s&&(r=s,this.capture(r))}let i=uT(t),o=uT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=xe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[xe]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function PT(n){return n.segments.length>0?new Ue([],{[xe]:n}):n}function xT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=xT(i);if(r===xe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return E8(t)}function E8(n){if(n.numberOfChildren===1&&n.children[xe]){let e=n.children[xe];return new Ue(n.segments.concat(e.segments),e.children)}return n}function Jo(n){return n instanceof hi}function OT(n,e,t=null,r=null){let i=IT(n);return ST(i,e,t,r)}function IT(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=PT(r);return e??i}function ST(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return rb(i,i,i,t,r);let o=P8(e);if(o.toRoot())return rb(i,i,new Ue([],{}),t,r);let s=x8(o,i,n),a=s.processChildren?Xu(s.segmentGroup,s.index,o.commands):TT(s.segmentGroup,s.index,o.commands);return rb(i,s.segmentGroup,a,t,r)}function np(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function td(n){return typeof n=="object"&&n!=null&&n.outlets}function rb(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=DT(n,e,t);let a=PT(xT(s));return new hi(a,o,i)}function DT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=DT(o,e,t)}),new Ue(n.segments,r)}var rp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&np(r[0]))throw new V(4003,!1);let i=r.find(td);if(i&&i!==yT(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function P8(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new rp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rp(t,e,r)}var Rc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function x8(n,e,t){if(n.isAbsolute)return new Rc(e,!0,0);if(!t)return new Rc(e,!1,NaN);if(t.parent===null)return new Rc(t,!0,0);let r=np(n.commands[0])?0:1,i=t.segments.length-1+r;return O8(t,i,n.numberOfDoubleDots)}function O8(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Rc(r,!1,i-o)}function I8(n){return td(n[0])?n[0].outlets:{[xe]:n}}function TT(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Xu(n,e,t);let r=S8(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[xe]=new Ue(n.segments.slice(r.pathIndex),n.children),Xu(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?ub(n,e,t):r.match?Xu(n,0,i):ub(n,e,t)}function Xu(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=I8(t),i={};if(Object.keys(r).some(o=>o!==xe)&&n.children[xe]&&n.numberOfChildren===1&&n.children[xe].segments.length===0){let o=Xu(n.children[xe],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function S8(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(td(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!hT(c,u,s))return o;r+=2}else{if(!hT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ub(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(td(o)){let c=D8(o.outlets);return new Ue(r,c)}if(i===0&&np(t[0])){let c=n.segments[e];r.push(new Qo(c.path,dT(t[0]))),i++;continue}let s=td(o)?o.outlets[xe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&np(a)?(r.push(new Qo(s,dT(a))),i+=2):(r.push(new Qo(s,{})),i++)}return new Ue(r,{})}function D8(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ub(new Ue([],{}),0,r))}),e}function dT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function hT(n,e,t){return n==t.path&&ui(e,t.parameters)}var Nc="imperative",Ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ft||{}),Kn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Xo=class extends Kn{type=Ft.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yn=class extends Kn{urlAfterRedirects;type=Ft.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},In=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(In||{}),Lc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Lc||{}),di=class extends Kn{reason;code;type=Ft.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends Kn{reason;code;type=Ft.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Vc=class extends Kn{error;target;type=Ft.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nd=class extends Kn{urlAfterRedirects;state;type=Ft.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends Kn{urlAfterRedirects;state;type=Ft.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends Kn{urlAfterRedirects;state;shouldActivate;type=Ft.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sp=class extends Kn{urlAfterRedirects;state;type=Ft.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends Kn{urlAfterRedirects;state;type=Ft.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class{route;type=Ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lp=class{route;type=Ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{snapshot;type=Ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=Ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{snapshot;type=Ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{snapshot;type=Ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jc=class{routerEvent;position;anchor;type=Ft.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},rd=class{},Uc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function T8(n){return!(n instanceof rd)&&!(n instanceof Uc)}function A8(n,e){return n.providers&&!n._injector&&(n._injector=Oc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fr(n){return n.outlet||xe}function k8(n,e){let t=n.filter(r=>Fr(r)===e);return t.push(...n.filter(r=>Fr(r)!==e)),t}function zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ua(this.rootInjector)}},ua=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ne(bt))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=db(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=db(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=hb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hb(e,this._root).map(t=>t.value)}};function db(n,e){if(n===e.value)return e;for(let t of e.children){let r=db(n,t);if(r)return r}return null}function hb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=hb(n,t);if(r.length)return r.unshift(e),r}return[]}var Gn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var id=class extends pp{snapshot;constructor(e,t){super(e),this.snapshot=t,Cb(this,e)}toString(){return this.snapshot.toString()}};function AT(n){let e=R8(n),t=new ot([new Qo("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Ln(t,r,o,s,i,xe,n,e.root);return a.snapshot=e.root,new id(new Gn(a,[]),e)}function R8(n){let e={},t={},r={},i="",o=new aa([],e,r,i,t,xe,n,null,{});return new od("",new Gn(o,[]))}var Ln=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(pe(u=>u[ld]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>ca(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>ca(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&RT(i)&&(r.resolve[ld]=i.title),r}var aa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ld]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ca(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ca(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},od=class extends pp{url;constructor(e,t){super(t),this.url=e,Cb(this,t)}toString(){return kT(this._root)}};function Cb(n,e){e.value._routerState=n,e.children.forEach(t=>Cb(n,t))}function kT(n){let e=n.children.length>0?` { ${n.children.map(kT).join(", ")} } `:"";return`${n.value}${e}`}function ib(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ui(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ui(e.params,t.params)||n.paramsSubject.next(t.params),a8(e.url,t.url)||n.urlSubject.next(t.url),ui(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fb(n,e){let t=ui(n.params,e.params)&&d8(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||fb(n.parent,e.parent))}function RT(n){return typeof n.title=="string"||n.title===null}var NT=new X(""),ud=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=xe;activateEvents=new wt;deactivateEvents=new wt;attachEvents=new wt;detachEvents=new wt;routerOutletData=_D(void 0);parentContexts=L(ua);location=L(Ji);changeDetector=L(li);inputBinder=L(dd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gb(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[si]})}return n})(),gb=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ln?this.route:e===ua?this.childContexts:e===NT?this.outletData:this.parent.get(e,t)}},dd=new X(""),bb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Xl([r.queryParams,r.params,r.data]).pipe(jt(([o,s,a],c)=>(a=U(U(U({},o),s),a),c===0?de(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=CD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),wb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=dt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&nn(0,"router-outlet")},dependencies:[ud],encapsulation:2})}return n})();function Mb(n){let e=n.children&&n.children.map(Mb),t=e?ue(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xe&&(t.component=wb),t}function N8(n,e,t){let r=sd(n,e._root,t?t._root:void 0);return new id(r,e)}function sd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=F8(n,e,t);return new Gn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sd(n,a)),s}}let r=L8(e.value),i=e.children.map(o=>sd(n,o));return new Gn(r,i)}}function F8(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sd(n,r,i);return sd(n,r)})}function L8(n){return new Ln(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var Bc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},FT="ngNavigationCancelingError";function _p(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LT(!1,In.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function LT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[FT]=!0,t.cancellationCode=e,t}function V8(n){return VT(n)&&Jo(n.url)}function VT(n){return!!n&&n[FT]}var j8=(n,e,t,r)=>pe(i=>(new pb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),pb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ib(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=kc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=kc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ib(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ib(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function U8(n,e,t){let r=n._root,i=e?e._root:null;return Ju(r,i,t,[r.value])}function B8(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!s0(n)?n:e.get(n):r}function Ju(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=kc(e);return n.children.forEach(s=>{$8(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ed(a,t.getContext(s),i)),i}function $8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=z8(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ju(n,e,a?a.children:null,r,i):Ju(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fc(a.outlet.component,s))}else s&&ed(e,a,i),i.canActivateChecks.push(new yp(r)),o.component?Ju(n,null,a?a.children:null,r,i):Ju(n,null,t,r,i);return i}function z8(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!sa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sa(n.url,e.url)||!ui(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fb(n,e)||!ui(n.queryParams,e.queryParams);case"paramsChange":default:return!fb(n,e)}}function ed(n,e,t){let r=kc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ed(s,e.children.getContext(o),t):ed(s,null,t):ed(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Fc(e.outlet.component,i)):t.canDeactivateChecks.push(new Fc(null,i)):t.canDeactivateChecks.push(new Fc(null,i))}function hd(n){return typeof n=="function"}function H8(n){return typeof n=="boolean"}function q8(n){return n&&hd(n.canLoad)}function W8(n){return n&&hd(n.canActivate)}function G8(n){return n&&hd(n.canActivateChild)}function K8(n){return n&&hd(n.canDeactivate)}function Y8(n){return n&&hd(n.canMatch)}function jT(n){return n instanceof ji||n?.name==="EmptyError"}var Jg=Symbol("INITIAL_VALUE");function $c(){return jt(n=>Xl(n.map(e=>e.pipe(Nt(1),qy(Jg)))).pipe(pe(e=>{for(let t of e)if(t!==!0){if(t===Jg)return Jg;if(t===!1||Q8(t))return t}return!0}),Ct(e=>e!==Jg),Nt(1)))}function Q8(n){return Jo(n)||n instanceof Bc}function Z8(n,e){return vt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?de(ue(U({},t),{guardsResult:!0})):J8(s,r,i,n).pipe(vt(a=>a&&H8(a)?X8(r,o,n,e):de(a)),pe(a=>ue(U({},t),{guardsResult:a})))})}function J8(n,e,t,r){return st(n).pipe(vt(i=>iU(i.component,i.route,t,e,r)),$i(i=>i!==!0,!0))}function X8(n,e,t,r){return st(e).pipe(No(i=>cc(tU(i.route.parent,r),eU(i.route,r),rU(n,i.path,t),nU(n,i.route,t))),$i(i=>i!==!0,!0))}function eU(n,e){return n!==null&&e&&e(new hp(n)),de(!0)}function tU(n,e){return n!==null&&e&&e(new up(n)),de(!0)}function nU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return de(!0);let i=r.map(o=>eu(()=>{let s=zc(e)??t,a=Hc(o,s),c=W8(a)?a.canActivate(e,n):Pt(s,()=>a(e,n));return no(c).pipe($i())}));return de(i).pipe($c())}function rU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>B8(s)).filter(s=>s!==null).map(s=>eu(()=>{let a=s.guards.map(c=>{let u=zc(s.node)??t,d=Hc(c,u),p=G8(d)?d.canActivateChild(r,n):Pt(u,()=>d(r,n));return no(p).pipe($i())});return de(a).pipe($c())}));return de(o).pipe($c())}function iU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return de(!0);let s=o.map(a=>{let c=zc(e)??i,u=Hc(a,c),d=K8(u)?u.canDeactivate(n,e,t,r):Pt(c,()=>u(n,e,t,r));return no(d).pipe($i())});return de(s).pipe($c())}function oU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return de(!0);let o=i.map(s=>{let a=Hc(s,n),c=q8(a)?a.canLoad(e,t):Pt(n,()=>a(e,t));return no(c)});return de(o).pipe($c(),UT(r))}function UT(n){return ky(Ut(e=>{if(typeof e!="boolean")throw _p(n,e)}),pe(e=>e===!0))}function sU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return de(!0);let o=i.map(s=>{let a=Hc(s,n),c=Y8(a)?a.canMatch(e,t):Pt(n,()=>a(e,t));return no(c)});return de(o).pipe($c(),UT(r))}var ad=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},cd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ac(n){return ac(new ad(n))}function aU(n){return ac(new V(4e3,!1))}function cU(n){return ac(LT(!1,In.GuardRejected))}var mb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return de(r);if(i.numberOfChildren>1||!i.children[xe])return aU(`${e.redirectTo}`);i=i.children[xe]}}applyRedirectCommands(e,t,r,i,o){return lU(t,i,o).pipe(pe(s=>{if(s instanceof hi)throw new cd(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new cd(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new hi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function lU(n,e,t){if(typeof n=="string")return de(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:p}=e;return no(Pt(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p})))}var _b={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uU(n,e,t,r,i){let o=BT(n,e,t);return o.matched?(r=A8(e,r),sU(r,e,t,i).pipe(pe(s=>s===!0?o:U({},_b)))):de(o)}function BT(n,e,t){if(e.path==="**")return dU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},_b):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mT)(t,n,e);if(!i)return U({},_b);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dU(n){return{matched:!0,parameters:n.length>0?yT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fT(n,e,t,r){return t.length>0&&gU(n,t,r)?{segmentGroup:new Ue(e,fU(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&pU(n,t,r)?{segmentGroup:new Ue(n.segments,hU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function hU(n,e,t,r){let i={};for(let o of t)if(Cp(n,e,o)&&!r[Fr(o)]){let s=new Ue([],{});i[Fr(o)]=s}return U(U({},r),i)}function fU(n,e){let t={};t[xe]=e;for(let r of n)if(r.path===""&&Fr(r)!==xe){let i=new Ue([],{});t[Fr(r)]=i}return t}function gU(n,e,t){return t.some(r=>Cp(n,e,r)&&Fr(r)!==xe)}function pU(n,e,t){return t.some(r=>Cp(n,e,r))}function Cp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mU(n,e,t){return e.length===0&&!n.children[t]}var yb=class{};function _U(n,e,t,r,i,o,s="emptyOnly"){return new vb(n,e,t,r,i,s,o).recognize()}var yU=31,vb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mb(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=fT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:t,rootSnapshot:r})=>{let i=new Gn(r,t),o=new od("",i),s=OT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new aa([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),xe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,xe,t).pipe(pe(r=>({children:r,rootSnapshot:t})),Bi(r=>{if(r instanceof cd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ad?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(pe(s=>s instanceof Gn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return st(o).pipe(No(s=>{let a=r.children[s],c=k8(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Hy((s,a)=>(s.push(...a),s)),Fo(null),zy(),vt(s=>{if(s===null)return Ac(r);let a=$T(s);return vU(a),de(a)}))}processSegment(e,t,r,i,o,s,a){return st(t).pipe(No(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Bi(u=>{if(u instanceof ad)return de(null);throw u}))),$i(c=>!!c),Bi(c=>{if(jT(c))return mU(r,i,o)?de(new yb):Ac(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Fr(r)!==s&&(s===xe||!Cp(i,o,r))?Ac(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ac(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:y}=BT(t,i,o);if(!c)return Ac(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yU&&(this.allowRedirects=!1));let v=new aa(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,gT(i),Fr(i),i.component??i._loadedComponent??null,i,pT(i)),E=mp(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(E.params),v.data=Object.freeze(E.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,v,e).pipe(jt(k=>this.applyRedirects.lineralizeSegments(i,k)),vt(k=>this.processSegment(e,r,t,k.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=uU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(jt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:v}=c,E=new aa(y,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,gT(r),Fr(r),r.component??r._loadedComponent??null,r,pT(r)),D=mp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(D.params),E.data=Object.freeze(D.data);let{segmentGroup:k,slicedSegments:B}=fT(t,y,v,u);if(B.length===0&&k.hasChildren())return this.processChildren(d,u,k,E).pipe(pe(ee=>new Gn(E,ee)));if(u.length===0&&B.length===0)return de(new Gn(E,[]));let J=Fr(r)===o;return this.processSegment(d,u,k,B,J?xe:o,!0,E).pipe(pe(ee=>new Gn(E,ee instanceof Gn?[ee]:[])))}))):Ac(t)))}getChildConfig(e,t,r){return t.children?de({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?de({routes:t._loadedRoutes,injector:t._loadedInjector}):oU(e,t,r,this.urlSerializer).pipe(vt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ut(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):cU(t))):de({routes:[],injector:e})}};function vU(n){n.sort((e,t)=>e.value.outlet===xe?-1:t.value.outlet===xe?1:e.value.outlet.localeCompare(t.value.outlet))}function CU(n){let e=n.value.routeConfig;return e&&e.path===""}function $T(n){let e=[],t=new Set;for(let r of n){if(!CU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=$T(r.children);e.push(new Gn(r.value,i))}return e.filter(r=>!t.has(r))}function gT(n){return n.data||{}}function pT(n){return n.resolve||{}}function bU(n,e,t,r,i,o){return vt(s=>_U(n,e,t,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:c})=>ue(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function wU(n,e){return vt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of zT(c))s.add(u);let a=0;return st(s).pipe(No(c=>o.has(c)?MU(c,r,n,e):(c.data=mp(c,c.parent,n).resolve,de(void 0))),Ut(()=>a++),lc(1),vt(c=>a===s.size?de(t):Tn))})}function zT(n){let e=n.children.map(t=>zT(t)).flat();return[n,...e]}function MU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!RT(i)&&(o[ld]=i.title),eu(()=>(n.data=mp(n,n.parent,t).resolve,EU(o,n,e,r).pipe(pe(s=>(n._resolvedData=s,n.data=U(U({},n.data),s),null)))))}function EU(n,e,t,r){let i=ab(n);if(i.length===0)return de({});let o={};return st(i).pipe(vt(s=>PU(n[s],e,t,r).pipe($i(),Ut(a=>{if(a instanceof Bc)throw _p(new Zo,a);o[s]=a}))),lc(1),pe(()=>o),Bi(s=>jT(s)?Tn:ac(s)))}function PU(n,e,t,r){let i=zc(e)??r,o=Hc(n,i),s=o.resolve?o.resolve(e,t):Pt(i,()=>o(e,t));return no(s)}function ob(n){return jt(e=>{let t=n(e);return t?st(t).pipe(pe(()=>e)):de(e)})}var Eb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===xe);return r}getResolvedTitleForRoute(t){return t.data[ld]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>L(HT),providedIn:"root"})}return n})(),HT=(()=>{class n extends Eb{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ne(cT))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),es=new X("",{providedIn:"root",factory:()=>({})}),da=new X(""),bp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(yC);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return de(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=no(Pt(t,()=>r.loadComponent())).pipe(pe(WT),Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),tu(()=>{this.componentLoaders.delete(r)})),o=new rc(i,()=>new it).pipe(nc());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qT(r,this.compiler,t,this.onLoadEndListener).pipe(tu(()=>{this.childrenLoaders.delete(r)})),s=new rc(o,()=>new it).pipe(nc());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qT(n,e,t,r){return no(Pt(t,()=>n.loadChildren())).pipe(pe(WT),vt(i=>i instanceof Ig||Array.isArray(i)?de(i):st(e.compileModuleAsync(i))),pe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(da,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mb),injector:o}}))}function xU(n){return n&&typeof n=="object"&&"default"in n}function WT(n){return xU(n)?n.default:n}var wp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>L(OU),providedIn:"root"})}return n})(),OU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pb=new X(""),xb=new X("");function GT(n,e,t){let r=n.get(xb),i=n.get(ut);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),IU(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&Pt(n,()=>c({transition:a,from:e,to:t})),s}function IU(n){return new Promise(e=>{Tu({read:()=>setTimeout(e)},{injector:n})})}var Ob=new X(""),Mp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new it;transitionAbortWithErrorSubject=new it;configLoader=L(bp);environmentInjector=L(bt);destroyRef=L(cr);urlSerializer=L(la);rootContexts=L(ua);location=L(Yo);inputBindingEnabled=L(dd,{optional:!0})!==null;titleStrategy=L(Eb);options=L(es,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(wp);createViewTransition=L(Pb,{optional:!0});navigationErrorHandler=L(Ob,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new cp(i)),r=i=>this.events.next(new lp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new ot(null),this.transitions.pipe(Ct(r=>r!==null),jt(r=>{let i=!1;return de(r).pipe(jt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",In.SupersededByNewNavigation),Tn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ue(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new fi(o.id,this.urlSerializer.serialize(o.rawUrl),c,Lc.IgnoredSameUrlNavigation)),o.resolve(!1),Tn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return de(o).pipe(jt(c=>(this.events.next(new Xo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Tn:Promise.resolve(c))),bU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ut(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ue(U({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new nd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:y}=o,v=new Xo(c,this.urlSerializer.serialize(u),d,p);this.events.next(v);let E=AT(this.rootComponentType).snapshot;return this.currentTransition=r=ue(U({},o),{targetSnapshot:E,urlAfterRedirects:u,extras:ue(U({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,de(r)}else{let c="";return this.events.next(new fi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Lc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Tn}}),Ut(o=>{let s=new ip(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),pe(o=>(this.currentTransition=r=ue(U({},o),{guards:U8(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Z8(this.environmentInjector,o=>this.events.next(o)),Ut(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw _p(this.urlSerializer,o.guardsResult);let s=new op(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ct(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",In.GuardRejected),!1)),ob(o=>{if(o.guards.canActivateChecks.length!==0)return de(o).pipe(Ut(s=>{let a=new sp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),jt(s=>{let a=!1;return de(s).pipe(wU(this.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",In.NoDataFromResolver)}}))}),Ut(s=>{let a=new ap(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ob(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=zc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Ut(d=>{a.component=d}),pe(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Xl(s(o.targetSnapshot.root)).pipe(Fo(null),Nt(1))}),ob(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?st(a).pipe(pe(()=>r)):de(r)}),pe(o=>{let s=N8(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ue(U({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ut(()=>{this.events.next(new rd)}),j8(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Nt(1),wf(new fe(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ct(()=>!i&&!r.targetRouterState),Ut(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",In.Aborted)}))),Ut({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),wf(this.transitionAbortWithErrorSubject.pipe(Ut(o=>{throw o}))),tu(()=>{i||this.cancelNavigationTransition(r,"",In.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bi(o=>{if(this.destroyed)return r.resolve(!1),Tn;if(i=!0,VT(o))this.events.next(new di(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),V8(o)?this.events.next(new Uc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Vc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Bc){let{message:c,cancellationCode:u}=_p(this.urlSerializer,a);this.events.next(new di(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Uc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Tn}))}))}cancelNavigationTransition(t,r,i){let o=new di(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SU(n){return n!==Nc}var KT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>L(DU),providedIn:"root"})}return n})(),vp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},DU=(()=>{class n extends vp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YT=(()=>{class n{urlSerializer=L(la);options=L(es,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(Yo);urlHandlingStrategy=L(wp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof hi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=AT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>L(TU),providedIn:"root"})}return n})(),TU=(()=>{class n extends YT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Xo?this.updateStateMemento():t instanceof fi?this.commitTransition(r):t instanceof nd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof rd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof di&&t.code!==In.SupersededByNewNavigation&&t.code!==In.Redirect?this.restoreHistory(r):t instanceof Vc?this.restoreHistory(r,!0):t instanceof Yn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ep(n,e){n.events.pipe(Ct(t=>t instanceof Yn||t instanceof di||t instanceof Vc||t instanceof fi),pe(t=>t instanceof Yn||t instanceof fi?0:(t instanceof di?t.code===In.Redirect||t.code===In.SupersededByNewNavigation:!1)?2:1),Ct(t=>t!==2),Nt(1)).subscribe(()=>{e()})}var AU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ze=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(lC);stateManager=L(YT);options=L(es,{optional:!0})||{};pendingTasks=L(ri);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(Mp);urlSerializer=L(la);location=L(Yo);urlHandlingStrategy=L(wp);injector=L(bt);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(KT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(da,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(dd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new We;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof di&&r.code!==In.Redirect&&r.code!==In.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yn)this.navigated=!0;else if(r instanceof Uc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SU(i.source)},s);this.scheduleNavigation(a,Nc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}T8(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(fn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=IT(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return ST(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Jo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Nc,null,r)}navigate(t,r={skipLocationChange:!1}){return RU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},AU):r===!1?i=U({},kU):i=r,Jo(t))return lT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return lT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,y)=>{a=p,c=y});let d=this.pendingTasks.add();return Ep(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var ts=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ni(null);get href(){return Nn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new it;applicationErrorHandler=L(fn);options=L(es,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(L(new Ag("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Yn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Jo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(W(Ze),W(Ln),Su("tabindex"),W(lr),W(gn),W(Ar))};static \u0275dir=Qe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&G("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Go("href",i.reactiveHref(),Bv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ko],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ko],replaceUrl:[2,"replaceUrl","replaceUrl",Ko],routerLink:"routerLink"},features:[si]})}return n})(),Sb=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new wt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Yn&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(Ro()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=st(t).pipe(Ro()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=NU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(W(Ze),W(gn),W(lr),W(li),W(ts,8))};static \u0275dir=Qe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&fC(o,ts,5),r&2){let s;gC(s=pC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[si]})}return n})();function NU(n){return!!n.paths}var fd=class{};var QT=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(t=>t instanceof Yn),No(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Oc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return st(i).pipe(Ro())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=de(null);let o=i.pipe(vt(s=>s===null?de(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return st([o,s]).pipe(Ro())}else return o})}static \u0275fac=function(r){return new(r||n)(ne(Ze),ne(bt),ne(fd),ne(bp))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZT=new X(""),FU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Nc;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fi&&t.code===Lc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>w(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new jc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){nC()};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function Db(n,...e){return $t([{provide:da,multi:!0,useValue:n},[],{provide:Ln,useFactory:JT,deps:[Ze]},{provide:Au,multi:!0,useFactory:XT},e.map(t=>t.\u0275providers)])}function JT(n){return n.routerState.root}function gd(n,e){return{\u0275kind:n,\u0275providers:e}}function XT(){let n=L(Xe);return e=>{let t=n.get(dr);if(e!==t.components[0])return;let r=n.get(Ze),i=n.get(eA);n.get(Tb)===1&&r.initialNavigation(),n.get(rA,null,{optional:!0})?.setUpPreloading(),n.get(ZT,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eA=new X("",{factory:()=>new it}),Tb=new X("",{providedIn:"root",factory:()=>1});function tA(){let n=[{provide:Tb,useValue:0},Sc(()=>{let e=L(Xe);return e.get(RC,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ze),o=e.get(eA);Ep(i,()=>{r(!0)}),e.get(Mp).afterPreactivation=()=>(r(!0),o.closed?de(void 0):o),i.initialNavigation()}))})];return gd(2,n)}function nA(){let n=[Sc(()=>{L(Ze).setUpLocationChangeListener()}),{provide:Tb,useValue:2}];return gd(3,n)}var rA=new X("");function iA(n){return gd(0,[{provide:rA,useExisting:QT},{provide:fd,useExisting:n}])}function oA(){return gd(8,[bb,{provide:dd,useExisting:bb}])}function sA(n){Xi("NgRouterViewTransitions");let e=[{provide:Pb,useValue:GT},{provide:xb,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return gd(9,e)}var aA=[Yo,{provide:la,useClass:Zo},Ze,ua,{provide:Ln,useFactory:JT,deps:[Ze]},bp,[]],Ab=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[aA,[],{provide:da,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ob,useValue:r.errorHandler}:[],{provide:es,useValue:r||{}},r?.useHash?VU():jU(),LU(),r?.preloadingStrategy?iA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?UU(r):[],r?.bindToComponentInputs?oA().\u0275providers:[],r?.enableViewTransitions?sA().\u0275providers:[],BU()]}}static forChild(t){return{ngModule:n,providers:[{provide:da,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ur({type:n});static \u0275inj=qn({})}return n})();function LU(){return{provide:ZT,useFactory:()=>{let n=L(XD),e=L(Ae),t=L(es),r=L(Mp),i=L(la);return t.scrollOffset&&n.setOffset(t.scrollOffset),new FU(i,r,n,e,t)}}}function VU(){return{provide:Ar,useClass:$C}}function jU(){return{provide:Ar,useClass:Fg}}function UU(n){return[n.initialNavigation==="disabled"?nA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?tA().\u0275providers:[]]}var Ib=new X("");function BU(){return[{provide:Ib,useFactory:XT},{provide:Au,multi:!0,useExisting:Ib}]}var Ie=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ie||{}),Lr="*";function cA(n,e=null){return{type:Ie.Sequence,steps:n,options:e}}function kb(n){return{type:Ie.Style,styles:n,offset:null}}var ro=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},qc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},pd="!";function lA(n){return new V(3e3,!1)}function $U(){return new V(3100,!1)}function zU(){return new V(3101,!1)}function HU(n){return new V(3001,!1)}function qU(n){return new V(3003,!1)}function WU(n){return new V(3004,!1)}function dA(n,e){return new V(3005,!1)}function hA(){return new V(3006,!1)}function fA(){return new V(3007,!1)}function gA(n,e){return new V(3008,!1)}function pA(n){return new V(3002,!1)}function mA(n,e,t,r,i){return new V(3010,!1)}function _A(){return new V(3011,!1)}function yA(){return new V(3012,!1)}function vA(){return new V(3200,!1)}function CA(){return new V(3202,!1)}function bA(){return new V(3013,!1)}function wA(n){return new V(3014,!1)}function MA(n){return new V(3015,!1)}function EA(n){return new V(3016,!1)}function PA(n,e){return new V(3404,!1)}function GU(n){return new V(3502,!1)}function xA(n){return new V(3503,!1)}function OA(){return new V(3300,!1)}function IA(n){return new V(3504,!1)}function SA(n){return new V(3301,!1)}function DA(n,e){return new V(3302,!1)}function TA(n){return new V(3303,!1)}function AA(n,e){return new V(3400,!1)}function kA(n){return new V(3401,!1)}function RA(n){return new V(3402,!1)}function NA(n,e){return new V(3505,!1)}function io(n){switch(n.length){case 0:return new ro;case 1:return n[0];default:return new qc(n)}}function Lb(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,p=d&&a||new Map;c.forEach((y,v)=>{let E=v,D=y;if(v!=="offset")switch(E=n.normalizePropertyName(E,i),D){case pd:D=t.get(v);break;case Lr:D=r.get(v);break;default:D=n.normalizeStyleValue(v,E,D,i);break}p.set(E,D)}),d||o.push(p),a=p,s=u}),i.length)throw GU(i);return o}function Pp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Rb(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Rb(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Rb(t,"destroy",n)));break}}function Rb(n,e,t){let r=t.totalTime,i=!!t.disabled,o=xp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function xp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Vn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Vb(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var KU=typeof document>"u"?null:document.documentElement;function Op(n){let e=n.parentNode||n.host||null;return e===KU?null:e}function YU(n){return n.substring(1,6)=="ebkit"}var ha=null,uA=!1;function FA(n){ha||(ha=QU()||{},uA=ha.style?"WebkitAppearance"in ha.style:!1);let e=!0;return ha.style&&!YU(n)&&(e=n in ha.style,!e&&uA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ha.style)),e}function QU(){return typeof document<"u"?document.body:null}function jb(n,e){for(;e;){if(e===n)return!0;e=Op(e)}return!1}function Ub(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var ZU=1e3,Bb="{{",JU="}}",$b="ng-enter",Ip="ng-leave",md="ng-trigger",_d=".ng-trigger",zb="ng-animating",Sp=".ng-animating";function gi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Nb(parseFloat(e[1]),e[2])}function Nb(n,e){switch(e){case"s":return n*ZU;default:return n}}function yd(n,e,t){return n.hasOwnProperty("duration")?n:XU(n,e,t)}function XU(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(lA(n)),{duration:0,delay:0,easing:""};i=Nb(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Nb(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push($U()),a=!0),o<0&&(e.push(zU()),a=!0),a&&e.splice(c,0,lA(n))}return{duration:i,delay:o,easing:s}}function LA(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Vr(n,e,t){e.forEach((r,i)=>{let o=Dp(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function rs(n,e){e.forEach((t,r)=>{let i=Dp(r);n.style[i]=""})}function Wc(n){return Array.isArray(n)?n.length==1?n[0]:cA(n):n}function VA(n,e,t){let r=e.params||{},i=Hb(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(HU(o))})}var Fb=new RegExp(`${Bb}\\s*(.+?)\\s*${JU}`,"g");function Hb(n){let e=[];if(typeof n=="string"){let t;for(;t=Fb.exec(n);)e.push(t[1]);Fb.lastIndex=0}return e}function Gc(n,e,t){let r=`${n}`,i=r.replace(Fb,(o,s)=>{let a=e[s];return a==null&&(t.push(qU(s)),a=""),a.toString()});return i==r?n:i}var eB=/-+([a-z0-9])/g;function Dp(n){return n.replace(eB,(...e)=>e[1].toUpperCase())}function jA(n,e){return n===0||e===0}function UA(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Tp(n,a)))}}return e}function jn(n,e,t){switch(e.type){case Ie.Trigger:return n.visitTrigger(e,t);case Ie.State:return n.visitState(e,t);case Ie.Transition:return n.visitTransition(e,t);case Ie.Sequence:return n.visitSequence(e,t);case Ie.Group:return n.visitGroup(e,t);case Ie.Animate:return n.visitAnimate(e,t);case Ie.Keyframes:return n.visitKeyframes(e,t);case Ie.Style:return n.visitStyle(e,t);case Ie.Reference:return n.visitReference(e,t);case Ie.AnimateChild:return n.visitAnimateChild(e,t);case Ie.AnimateRef:return n.visitAnimateRef(e,t);case Ie.Query:return n.visitQuery(e,t);case Ie.Stagger:return n.visitStagger(e,t);default:throw WU(e.type)}}function Tp(n,e){return window.getComputedStyle(n)[e]}var aw=(()=>{class n{validateStyleProperty(t){return FA(t)}containsElement(t,r){return jb(t,r)}getParentElement(t){return Op(t)}query(t,r,i){return Ub(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new ro(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),ga=class{static NOOP=new aw},pa=class{};var tB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Fp=class extends pa{normalizePropertyName(e,t){return Dp(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(tB.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(dA(e,r))}return s+o}};var Lp="*";function nB(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>rB(r,t,e)):t.push(n),t}function rB(n,e,t){if(n[0]==":"){let c=iB(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(MA(n)),e;let i=r[1],o=r[2],s=r[3];e.push(BA(i,s));let a=i==Lp&&s==Lp;o[0]=="<"&&!a&&e.push(BA(s,i))}function iB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(EA(n)),"* => *"}}var Ap=new Set(["true","1"]),kp=new Set(["false","0"]);function BA(n,e){let t=Ap.has(n)||kp.has(n),r=Ap.has(e)||kp.has(e);return(i,o)=>{let s=n==Lp||n==i,a=e==Lp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Ap.has(n):kp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Ap.has(e):kp.has(e)),s&&a}}var ZA=":self",oB=new RegExp(`s*${ZA}s*,?`,"g");function JA(n,e,t,r){return new Qb(n).build(e,t,r)}var $A="",Qb=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new Zb(t);return this._resetContextStyleTimingState(i),jn(this,Wc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=$A,e.collectedStyles=new Map,e.collectedStyles.set($A,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(hA()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Ie.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==Ie.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(fA())}),{type:Ie.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Hb(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(gA(e.name,[...o.values()]))}return{type:Ie.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=jn(this,Wc(e.animation),t),i=nB(e.expr,t.errors);return{type:Ie.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:fa(e.options)}}visitSequence(e,t){return{type:Ie.Sequence,steps:e.steps.map(r=>jn(this,r,t)),options:fa(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=jn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Ie.Group,steps:o,options:fa(e.options)}}visitAnimate(e,t){let r=lB(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:kb({});if(o.type==Ie.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=kb(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Ie.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Lr?r.push(a):t.errors.push(pA(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Bb)>=0){o=!0;break}}}),{type:Ie.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),p=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(mA(c,d.startTime,d.endTime,o,i)),p=!1),o=d.startTime),p&&u.set(c,{startTime:o,endTime:i}),t.options&&VA(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:Ie.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(_A()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(B=>{let J=this._makeStyleAst(B,t),ee=J.offset!=null?J.offset:cB(J.styles),ie=0;return ee!=null&&(o++,ie=J.offset=ee),c=c||ie<0||ie>1,a=a||ie<u,u=ie,s.push(ie),J});c&&t.errors.push(yA()),a&&t.errors.push(vA());let p=e.steps.length,y=0;o>0&&o<p?t.errors.push(CA()):o==0&&(y=i/(p-1));let v=p-1,E=t.currentTime,D=t.currentAnimateTimings,k=D.duration;return d.forEach((B,J)=>{let ee=y>0?J==v?1:y*J:s[J],ie=ee*k;t.currentTime=E+D.delay+ie,D.duration=ie,this._validateStyleAst(B,t),B.offset=ee,r.styles.push(B)}),r}visitReference(e,t){return{type:Ie.Reference,animation:jn(this,Wc(e.animation),t),options:fa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ie.AnimateChild,options:fa(e.options)}}visitAnimateRef(e,t){return{type:Ie.AnimateRef,animation:this.visitReference(e.animation,t),options:fa(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=sB(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Vn(t.collectedStyles,t.currentQuerySelector,new Map);let a=jn(this,Wc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Ie.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:fa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(bA());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:yd(e.timings,t.errors,!0);return{type:Ie.Stagger,animation:jn(this,Wc(e.animation),t),timings:r,options:null}}};function sB(n){let e=!!n.split(/\s*,\s*/).find(t=>t==ZA);return e&&(n=n.replace(oB,"")),n=n.replace(/@\*/g,_d).replace(/@\w+/g,t=>_d+"-"+t.slice(1)).replace(/:animating/g,Sp),[n,e]}function aB(n){return n?U({},n):null}var Zb=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function cB(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function lB(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=yd(n,e).duration;return qb(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=qb(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=yd(t,e);return qb(i.duration,i.delay,i.easing)}function fa(n){return n?(n=U({},n),n.params&&(n.params=aB(n.params))):n={},n}function qb(n,e,t){return{duration:n,delay:e,easing:t}}function cw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Cd=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},uB=1,dB=":enter",hB=new RegExp(dB,"g"),fB=":leave",gB=new RegExp(fB,"g");function XA(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new Jb().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var Jb=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new Cd;let p=new Xb(e,t,u,i,o,d,[]);p.options=c;let y=c.delay?gi(c.delay):0;p.currentTimeline.delayNextStep(y),p.currentTimeline.setStyles([s],null,p.errors,c),jn(this,r,p);let v=p.timelines.filter(E=>E.containsAnimation());if(v.length&&a.size){let E;for(let D=v.length-1;D>=0;D--){let k=v[D];if(k.element===t){E=k;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,p.errors,c)}return v.length?v.map(E=>E.buildKeyframes()):[cw(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:gi(Gc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?gi(r.duration):null,a=r.delay!=null?gi(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),jn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Ie.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vp);let s=gi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>jn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?gi(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),jn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Gc(r,t.params,t.errors):r;return yd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==Ie.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?gi(i.delay):0;o&&(t.previousNode.type===Ie.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(c=p.currentTimeline),jn(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let y=p.currentTimeline.currentTime;s=Math.max(s,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let p=d.currentTime;jn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Vp={},Xb=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Vp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new jp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=gi(r.duration)),r.delay!=null&&(i.delay=gi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Gc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Vp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new ew(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(hB,"."+this._enterClassName),e=e.replace(gB,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(wA(t)),a}},jp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=uB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Lr),this._currentKeyframe.set(t,Lr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=pB(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Gc(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Lr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,p)=>{d===pd?e.add(p):d===Lr&&t.add(p)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return cw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},ew=class extends jp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",zA(a)),o.push(u);let d=e.length-1;for(let p=1;p<=d;p++){let y=new Map(e[p]),v=y.get("offset"),E=t+v*r;y.set("offset",zA(E/s)),o.push(y)}r=s,t=0,i="",e=o}return cw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function zA(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function pB(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Lr)}else for(let[o,s]of i)t.set(o,s)}),t}function HA(n,e,t,r,i,o,s,a,c,u,d,p,y){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:p,errors:y}}var Wb={},Up=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return mB(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let p=[],y=this.ast.options&&this.ast.options.params||Wb,v=a&&a.params||Wb,E=this.buildStyles(r,v,p),D=c&&c.params||Wb,k=this.buildStyles(i,D,p),B=new Set,J=new Map,ee=new Map,ie=i==="void",Be={params:ek(D,y),delay:this.ast.options?.delay},ve=d?[]:XA(e,t,this.ast.animation,o,s,E,k,Be,u,p),O=0;return ve.forEach(M=>{O=Math.max(M.duration+M.delay,O)}),p.length?HA(t,this._triggerName,r,i,ie,E,k,[],[],J,ee,O,p):(ve.forEach(M=>{let P=M.element,I=Vn(J,P,new Set);M.preStyleProps.forEach(A=>I.add(A));let S=Vn(ee,P,new Set);M.postStyleProps.forEach(A=>S.add(A)),P!==t&&B.add(P)}),HA(t,this._triggerName,r,i,ie,E,k,ve,[...B.values()],J,ee,O))}};function mB(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function ek(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var tw=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=ek(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Gc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function _B(n,e,t){return new nw(n,e,t)}var nw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new tw(i.style,o,r))}),qA(this.states,"true","1"),qA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Up(e,i,this.states))}),this.fallbackTransition=yB(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function yB(n,e,t){let r=[(s,a)=>!0],i={type:Ie.Sequence,steps:[],options:null},o={type:Ie.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Up(n,o,e)}function qA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var vB=new Cd,rw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=JA(this._driver,t,r,i);if(r.length)throw xA(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Lb(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=XA(this._driver,t,o,$b,Ip,new Map,new Map,r,vB,i),s.forEach(d=>{let p=Vn(a,d.element,new Map);d.postStyleProps.forEach(y=>p.set(y,null))})):(i.push(OA()),s=[]),i.length)throw IA(i);a.forEach((d,p)=>{d.forEach((y,v)=>{d.set(v,this._driver.computeStyle(p,v,Lr))})});let c=s.map(d=>{let p=a.get(d.element);return this._buildPlayer(d,new Map,p)}),u=io(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw SA(e);return t}listen(e,t,r,i){let o=xp(t,"","","");return Pp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},WA="ng-animate-queued",CB=".ng-animate-queued",Gb="ng-animate-disabled",bB=".ng-animate-disabled",wB="ng-star-inserted",MB=".ng-star-inserted",EB=[],tk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},PB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed",bd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=OB(i),r){let o=e,{value:s}=o,a=Ts(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},vd="void",Kb=new bd(vd),iw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,pr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw DA(r,t);if(r==null||r.length==0)throw TA(t);if(!IB(r))throw AA(r,t);let o=Vn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Vn(this._engine.statesByElement,e,new Map);return a.has(t)||(pr(e,md),pr(e,md+"-"+t),a.set(t,Kb)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw kA(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new wd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(pr(e,md),pr(e,md+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new bd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=Kb),!(u.value===vd)&&c.value===u.value){if(!TB(c.params,u.params)){let D=[],k=o.matchStyles(c.value,c.params,D),B=o.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{rs(e,k),Vr(e,B)})}return}let y=Vn(this._engine.playersByElement,e,[]);y.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let v=o.matchTransition(c.value,u.value,e,u.params),E=!1;if(!v){if(!i)return;v=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:u,player:s,isFallbackTransition:E}),E||(pr(e,WA),s.onStart(()=>{Kc(e,WA)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let k=this._engine.playersByElement.get(e);if(k){let B=k.indexOf(s);B>=0&&k.splice(B,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,_d,!0);r.forEach(i=>{if(i[jr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,vd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||Kb,d=new bd(vd),p=new wd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[jr];(!o||o===tk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){pr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=xp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Pp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ow=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new iw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Rp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Rp(t))return;let o=t[jr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pr(e,Gb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kc(e,Gb))}removeNode(e,t,r){if(Rp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[jr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Rp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,_d,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Sp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return io(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[jr];if(t&&t.setForRemoval){if(e[jr]=tk,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Gb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,bB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];pr(i,wB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?io(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw RA(e)}_flushAnimations(e,t){let r=new Cd,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(re=>{d.add(re);let se=this.driver.query(re,CB,!0);for(let ce=0;ce<se.length;ce++)d.add(se[ce])});let p=this.bodyNode,y=Array.from(this.statesByElement.keys()),v=YA(y,this.collectedEnterElements),E=new Map,D=0;v.forEach((re,se)=>{let ce=$b+D++;E.set(se,ce),re.forEach(De=>pr(De,ce))});let k=[],B=new Set,J=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let se=this.collectedLeaveElements[re],ce=se[jr];ce&&ce.setForRemoval&&(k.push(se),B.add(se),ce.hasAnimation?this.driver.query(se,MB,!0).forEach(De=>B.add(De)):J.add(se))}let ee=new Map,ie=YA(y,Array.from(B));ie.forEach((re,se)=>{let ce=Ip+D++;ee.set(se,ce),re.forEach(De=>pr(De,ce))}),e.push(()=>{v.forEach((re,se)=>{let ce=E.get(se);re.forEach(De=>Kc(De,ce))}),ie.forEach((re,se)=>{let ce=ee.get(se);re.forEach(De=>Kc(De,ce))}),k.forEach(re=>{this.processLeaveNode(re)})});let Be=[],ve=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(t).forEach(ce=>{let De=ce.player,yt=ce.element;if(Be.push(De),this.collectedEnterElements.length){let gt=yt[jr];if(gt&&gt.setForMove){if(gt.previousTriggersValues&&gt.previousTriggersValues.has(ce.triggerName)){let Ni=gt.previousTriggersValues.get(ce.triggerName),Dn=this.statesByElement.get(ce.element);if(Dn&&Dn.has(ce.triggerName)){let Fi=Dn.get(ce.triggerName);Fi.value=Ni,Dn.set(ce.triggerName,Fi)}}De.destroy();return}}let nr=!p||!this.driver.containsElement(p,yt),ft=ee.get(yt),tt=E.get(yt),nt=this._buildInstruction(ce,r,tt,ft,nr);if(nt.errors&&nt.errors.length){ve.push(nt);return}if(nr){De.onStart(()=>rs(yt,nt.fromStyles)),De.onDestroy(()=>Vr(yt,nt.toStyles)),i.push(De);return}if(ce.isFallbackTransition){De.onStart(()=>rs(yt,nt.fromStyles)),De.onDestroy(()=>Vr(yt,nt.toStyles)),i.push(De);return}let Po=[];nt.timelines.forEach(gt=>{gt.stretchStartingKeyframe=!0,this.disabledNodes.has(gt.element)||Po.push(gt)}),nt.timelines=Po,r.append(yt,nt.timelines);let Q_={instruction:nt,player:De,element:yt};s.push(Q_),nt.queriedElements.forEach(gt=>Vn(a,gt,[]).push(De)),nt.preStyleProps.forEach((gt,Ni)=>{if(gt.size){let Dn=c.get(Ni);Dn||c.set(Ni,Dn=new Set),gt.forEach((Fi,xo)=>Dn.add(xo))}}),nt.postStyleProps.forEach((gt,Ni)=>{let Dn=u.get(Ni);Dn||u.set(Ni,Dn=new Set),gt.forEach((Fi,xo)=>Dn.add(xo))})});if(ve.length){let re=[];ve.forEach(se=>{re.push(NA(se.triggerName,se.errors))}),Be.forEach(se=>se.destroy()),this.reportError(re)}let O=new Map,M=new Map;s.forEach(re=>{let se=re.element;r.has(se)&&(M.set(se,se),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,O))}),i.forEach(re=>{let se=re.element;this._getPreviousPlayers(se,!1,re.namespaceId,re.triggerName,null).forEach(De=>{Vn(O,se,[]).push(De),De.destroy()})});let P=k.filter(re=>QA(re,c,u)),I=new Map;KA(I,this.driver,J,u,Lr).forEach(re=>{QA(re,c,u)&&P.push(re)});let A=new Map;v.forEach((re,se)=>{KA(A,this.driver,new Set(re),c,pd)}),P.forEach(re=>{let se=I.get(re),ce=A.get(re);I.set(re,new Map([...se?.entries()??[],...ce?.entries()??[]]))});let x=[],tr=[],Eo={};s.forEach(re=>{let{element:se,player:ce,instruction:De}=re;if(r.has(se)){if(d.has(se)){ce.onDestroy(()=>Vr(se,De.toStyles)),ce.disabled=!0,ce.overrideTotalTime(De.totalTime),i.push(ce);return}let yt=Eo;if(M.size>1){let ft=se,tt=[];for(;ft=ft.parentNode;){let nt=M.get(ft);if(nt){yt=nt;break}tt.push(ft)}tt.forEach(nt=>M.set(nt,yt))}let nr=this._buildAnimation(ce.namespaceId,De,O,o,A,I);if(ce.setRealPlayer(nr),yt===Eo)x.push(ce);else{let ft=this.playersByElement.get(yt);ft&&ft.length&&(ce.parentPlayer=io(ft)),i.push(ce)}}else rs(se,De.fromStyles),ce.onDestroy(()=>Vr(se,De.toStyles)),tr.push(ce),d.has(se)&&i.push(ce)}),tr.forEach(re=>{let se=o.get(re.element);if(se&&se.length){let ce=io(se);re.setRealPlayer(ce)}}),i.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<k.length;re++){let se=k[re],ce=se[jr];if(Kc(se,Ip),ce&&ce.hasAnimation)continue;let De=[];if(a.size){let nr=a.get(se);nr&&nr.length&&De.push(...nr);let ft=this.driver.query(se,Sp,!0);for(let tt=0;tt<ft.length;tt++){let nt=a.get(ft[tt]);nt&&nt.length&&De.push(...nt)}}let yt=De.filter(nr=>!nr.destroyed);yt.length?SB(this,se,yt):this.processLeaveNode(se)}return k.length=0,x.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let se=this.players.indexOf(re);this.players.splice(se,1)}),re.play()}),x}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==vd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,p=Vn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(v=>{let E=v.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),v.destroy(),p.push(v)})}rs(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,p=new Set,y=t.timelines.map(E=>{let D=E.element;d.add(D);let k=D[jr];if(k&&k.removedBeforeQueried)return new ro(E.duration,E.delay);let B=D!==c,J=DB((r.get(D)||EB).map(O=>O.getRealPlayer())).filter(O=>{let M=O;return M.element?M.element===D:!1}),ee=o.get(D),ie=s.get(D),Be=Lb(this._normalizer,E.keyframes,ee,ie),ve=this._buildPlayer(E,Be,J);if(E.subTimeline&&i&&p.add(D),B){let O=new wd(e,a,D);O.setRealPlayer(ve),u.push(O)}return ve});u.forEach(E=>{Vn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>xB(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>pr(E,zb));let v=io(y);return v.onDestroy(()=>{d.forEach(E=>Kc(E,zb)),Vr(c,t.toStyles)}),p.forEach(E=>{Vn(i,E,[]).push(v)}),v}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ro(e.duration,e.delay)}},wd=class{namespaceId;triggerName;element;_player=new ro;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Pp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function xB(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function OB(n){return n??null}function Rp(n){return n&&n.nodeType===1}function IB(n){return n=="start"||n=="done"}function GA(n,e){let t=n.style.display;return n.style.display=e??"none",t}function KA(n,e,t,r,i){let o=[];t.forEach(c=>o.push(GA(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(p=>{let y=e.computeStyle(u,p,i);d.set(p,y),(!y||y.length==0)&&(u[jr]=PB,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>GA(c,o[a++])),s}function YA(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function pr(n,e){n.classList?.add(e)}function Kc(n,e){n.classList?.remove(e)}function SB(n,e,t){io(t).onDone(()=>n.processLeaveNode(e))}function DB(n){let e=[];return nk(n,e),e}function nk(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof qc?nk(r.players,e):e.push(r)}}function TB(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function QA(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Yc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new ow(e.body,t,r),this._timelineEngine=new rw(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=JA(this._driver,o,c,u);if(c.length)throw PA(i,c);a=_B(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Vb(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Vb(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function AB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Yb(e[0]),e.length>1&&(r=Yb(e[e.length-1]))):e instanceof Map&&(t=Yb(e)),t||r?new kB(n,t,r):null}var kB=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vr(this._element,this._initialStyles),this._endStyles&&(Vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rs(this._element,this._endStyles),this._endStyles=null),Vr(this._element,this._initialStyles),this._state=3)}}return n})();function Yb(n){let e=null;return n.forEach((t,r)=>{RB(r)&&(e=e||new Map,e.set(r,t))}),e}function RB(n){return n==="display"||n==="position"}var Bp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Tp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},$p=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return jb(e,t)}getParentElement(e){return Op(e)}query(e,t,r){return Ub(e,t,r)}computeStyle(e,t,r){return Tp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(v=>v instanceof Bp);jA(r,i)&&d.forEach(v=>{v.currentSnapshot.forEach((E,D)=>u.set(D,E))});let p=LA(t).map(v=>new Map(v));p=UA(e,p,u);let y=AB(e,p);return new Bp(e,p,c,y)}};var Np="@",rk="@.disabled",zp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Np&&t==rk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},sw=class extends zp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Np?t.charAt(1)=="."&&t==rk?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Np){let o=NB(e),s=t.slice(1),a="";return s.charAt(0)!=Np&&([s,a]=FB(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function NB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function FB(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Hp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let p=()=>u.delete(i);d=new zp(r,i,this.engine,p),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new sw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var VB=(()=>{class n extends Yc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(ne(ut),ne(ga),ne(pa))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function jB(){return new Fp}function UB(n,e,t){return new Hp(n,e,t)}var ik=[{provide:pa,useFactory:jB},{provide:Yc,useClass:VB},{provide:Zi,useFactory:UB,deps:[Yu,Yc,Ae]}],Ohe=[{provide:ga,useClass:aw},{provide:Cg,useValue:"NoopAnimations"},...ik],BB=[{provide:ga,useFactory:()=>new $p},{provide:Cg,useFactory:()=>"BrowserAnimations"},...ik];function ok(){return Xi("NgEagerAnimations"),[...BB]}var sk=()=>{};var lk=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$B=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,v=u&63;c||(v=64,s||(y=64)),r.push(t[d],t[p],t[y],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$B(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new uw;let y=o<<2|a>>4;if(r.push(y),u!==64){let v=a<<4&240|u>>2;if(r.push(v),p!==64){let E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},uw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zB=function(n){let e=lk(n);return qp.encodeByteArray(e,!0)},Ed=function(n){return zB(n).replace(/\./g,"")},Wp=function(n){try{return qp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HB=()=>hw().__FIREBASE_DEFAULTS__,qB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Wp(n[1]);return e&&JSON.parse(e)},Gp=()=>{try{return sk()||HB()||qB()||WB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fw=n=>{var e,t;return(t=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Kp=n=>{let e=fw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},gw=()=>{var n;return(n=Gp())===null||n===void 0?void 0:n.config},pw=n=>{var e;return(e=Gp())===null||e===void 0?void 0:e[`_${n}`]};var ma=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function pi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Qc(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Yp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ed(JSON.stringify(t)),Ed(JSON.stringify(s)),""].join(".")}var Md={};function GB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Md))Md[e]?n.emulator.push(e):n.prod.push(e);return n}function KB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ak=!1;function Zc(n,e){if(typeof window>"u"||typeof document>"u"||!pi(window.location.host)||Md[n]===e||Md[n]||ak)return;Md[n]=e;function t(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=GB().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ak=!0,s()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){let y=KB(r),v=t("text"),E=document.getElementById(v)||document.createElement("span"),D=t("learnmore"),k=document.getElementById(D)||document.createElement("a"),B=t("preprendIcon"),J=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let ee=y.element;a(ee),d(k,D);let ie=u();c(J,B),ee.append(J,E,k,ie),document.body.appendChild(ee)}o?(E.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function YB(){var n;let e=(n=Gp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hk(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gk(){let n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pk(){return!YB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pd(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var QB="FirebaseError",Sn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=QB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}},Ur=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ZB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Sn(i,a,r)}};function ZB(n,e){return n.replace(JB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var JB=/\{\$([^}]+)}/g;function _k(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(ck(o)&&ck(s)){if(!mi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ck(n){return n!==null&&typeof n=="object"}function xd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Xc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yk(n,e){let t=new dw(n,e);return t.subscribe.bind(t)}var dw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=lw),i.error===void 0&&(i.error=lw),i.complete===void 0&&(i.complete=lw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lw(){}var The=4*60*60*1e3;function Ke(n){return n&&n._delegate?n._delegate:n}var sn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _a="[DEFAULT]";var mw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ma;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t7(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e7(n){return n===_a?void 0:n}function t7(n){return n.instantiationMode==="EAGER"}var Qp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new mw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var n7=[],ke=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ke||{}),r7={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},i7=ke.INFO,o7={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},s7=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=o7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_i=class{constructor(e){this.name=e,this._logLevel=i7,this._logHandler=s7,this._userLogHandler=null,n7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};var a7=(n,e)=>e.some(t=>n instanceof t),vk,Ck;function c7(){return vk||(vk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l7(){return Ck||(Ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bk=new WeakMap,yw=new WeakMap,wk=new WeakMap,_w=new WeakMap,Cw=new WeakMap;function u7(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(yi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bk.set(t,n)}).catch(()=>{}),Cw.set(e,n),e}function d7(n){if(yw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});yw.set(n,e)}var vw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mk(n){vw=n(vw)}function h7(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Zp(this),e,...t);return wk.set(r,e.sort?e.sort():[e]),yi(r)}:l7().includes(n)?function(...e){return n.apply(Zp(this),e),yi(bk.get(this))}:function(...e){return yi(n.apply(Zp(this),e))}}function f7(n){return typeof n=="function"?h7(n):(n instanceof IDBTransaction&&d7(n),a7(n,c7())?new Proxy(n,vw):n)}function yi(n){if(n instanceof IDBRequest)return u7(n);if(_w.has(n))return _w.get(n);let e=f7(n);return e!==n&&(_w.set(n,e),Cw.set(e,n)),e}var Zp=n=>Cw.get(n);function Pk(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=yi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(yi(s.result),c.oldVersion,c.newVersion,yi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var g7=["get","getKey","getAll","getAllKeys","count"],p7=["put","add","delete","clear"],bw=new Map;function Ek(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bw.get(e))return bw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=p7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g7.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return bw.set(e,o),o}Mk(n=>ue(U({},n),{get:(e,t,r)=>Ek(e,t)||n.get(e,t,r),has:(e,t)=>!!Ek(e,t)||n.has(e,t)}));var Mw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(m7(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function m7(n){let e=n.getComponent();return e?.type==="VERSION"}var Ew="@firebase/app",xk="0.13.2";var oo=new _i("@firebase/app"),_7="@firebase/app-compat",y7="@firebase/analytics-compat",v7="@firebase/analytics",C7="@firebase/app-check-compat",b7="@firebase/app-check",w7="@firebase/auth",M7="@firebase/auth-compat",E7="@firebase/database",P7="@firebase/data-connect",x7="@firebase/database-compat",O7="@firebase/functions",I7="@firebase/functions-compat",S7="@firebase/installations",D7="@firebase/installations-compat",T7="@firebase/messaging",A7="@firebase/messaging-compat",k7="@firebase/performance",R7="@firebase/performance-compat",N7="@firebase/remote-config",F7="@firebase/remote-config-compat",L7="@firebase/storage",V7="@firebase/storage-compat",j7="@firebase/firestore",U7="@firebase/ai",B7="@firebase/firestore-compat",$7="firebase",z7="11.10.0";var Pw="[DEFAULT]",H7={[Ew]:"fire-core",[_7]:"fire-core-compat",[v7]:"fire-analytics",[y7]:"fire-analytics-compat",[b7]:"fire-app-check",[C7]:"fire-app-check-compat",[w7]:"fire-auth",[M7]:"fire-auth-compat",[E7]:"fire-rtdb",[P7]:"fire-data-connect",[x7]:"fire-rtdb-compat",[O7]:"fire-fn",[I7]:"fire-fn-compat",[S7]:"fire-iid",[D7]:"fire-iid-compat",[T7]:"fire-fcm",[A7]:"fire-fcm-compat",[k7]:"fire-perf",[R7]:"fire-perf-compat",[N7]:"fire-rc",[F7]:"fire-rc-compat",[L7]:"fire-gcs",[V7]:"fire-gcs-compat",[j7]:"fire-fst",[B7]:"fire-fst-compat",[U7]:"fire-vertex","fire-js":"fire-js",[$7]:"fire-js-all"};var Od=new Map,q7=new Map,xw=new Map;function Ok(n,e){try{n.container.addComponent(e)}catch(t){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qn(n){let e=n.name;if(xw.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;xw.set(e,n);for(let t of Od.values())Ok(t,n);for(let t of q7.values())Ok(t,n);return!0}function os(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yn(n){return n==null?!1:n.settings!==void 0}var W7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Ur("app","Firebase",W7);var Ow=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}};var vi=z7;function Dw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw is.create("bad-app-name",{appName:String(i)});if(t||(t=gw()),!t)throw is.create("no-options");let o=Od.get(i);if(o){if(mi(t,o.options)&&mi(r,o.config))return o;throw is.create("duplicate-app",{appName:i})}let s=new Qp(i);for(let c of xw.values())s.addComponent(c);let a=new Ow(t,r,s);return Od.set(i,a),a}function so(n=Pw){let e=Od.get(n);if(!e&&n===Pw&&gw())return Dw();if(!e)throw is.create("no-app",{appName:n});return e}function Jp(){return Array.from(Od.values())}function Je(n,e,t){var r;let i=(r=H7[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}Qn(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var G7="firebase-heartbeat-database",K7=1,Id="firebase-heartbeat-store",ww=null;function Tk(){return ww||(ww=Pk(G7,K7,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Id)}catch(t){console.warn(t)}}}}).catch(n=>{throw is.create("idb-open",{originalErrorMessage:n.message})})),ww}function Y7(n){return w(this,null,function*(){try{let t=(yield Tk()).transaction(Id),r=yield t.objectStore(Id).get(Ak(n));return yield t.done,r}catch(e){if(e instanceof Sn)oo.warn(e.message);else{let t=is.create("idb-get",{originalErrorMessage:e?.message});oo.warn(t.message)}}})}function Ik(n,e){return w(this,null,function*(){try{let r=(yield Tk()).transaction(Id,"readwrite");yield r.objectStore(Id).put(e,Ak(n)),yield r.done}catch(t){if(t instanceof Sn)oo.warn(t.message);else{let r=is.create("idb-set",{originalErrorMessage:t?.message});oo.warn(r.message)}}})}function Ak(n){return`${n.name}!${n.options.appId}`}var Q7=1024,Z7=30,Iw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Sw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Z7){let s=X7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oo.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Sk(),{heartbeatsToSend:r,unsentEntries:i}=J7(this._heartbeatsCache.heartbeats),o=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oo.warn(t),""}})}};function Sk(){return new Date().toISOString().substring(0,10)}function J7(n,e=Q7){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Dk(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Dk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Sw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Pd()?mk().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Y7(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ik(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ik(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Dk(n){return Ed(JSON.stringify({version:2,heartbeats:n})).length}function X7(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function e$(n){Qn(new sn("platform-logger",e=>new Mw(e),"PRIVATE")),Qn(new sn("heartbeat",e=>new Iw(e),"PRIVATE")),Je(Ew,xk,n),Je(Ew,xk,"esm2017"),Je("fire-js","")}e$("");var t$="firebase",n$="11.10.0";Je(t$,n$,"app");function kk(n){n===void 0&&(n=L(Xe));let e=n.get(vc);return t=>new fe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ci=new ia("ANGULARFIRE2_VERSION");function va(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ss=(n,e)=>{let t=e?[e]:Jp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},el=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(el||{}),Rk=Fu()&&typeof Zone<"u"?el.WARN:el.SILENT;var Xp=class{zone;delegate;constructor(e,t=jy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},bi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=L(Ae);this.outsideAngular=t.runOutsideAngular(()=>new Xp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Xp(typeof Zone>"u"?void 0:Zone.current,Vy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nk=!1;function r$(n,e){!Nk&&(Rk>el.SILENT||Fu())&&(Nk=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Rk>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function i$(n){let e=L(Ae,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ya(n){let e=L(Ae,{optional:!0});return e?e.run(()=>n()):n()}var o$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Pt(t,()=>ya(()=>n.apply(void 0,r)))),an=(n,e,t)=>(t||=e?el.WARN:el.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=L(bi),s=L(vc),a=L(bt)}catch{return r$(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ya(()=>s.add())),i[u]=o$(i[u],r,a));let c=i$(()=>n.apply(this,i));return e?c instanceof fe?c.pipe(ko(o.outsideAngular),Ao(o.insideAngular),kk(a)):c instanceof Promise?ya(()=>{let u=s.add();return new Promise((d,p)=>{c.then(y=>Pt(a,()=>ya(()=>d(y))),y=>Pt(a,()=>ya(()=>p(y)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:ya(()=>c):c instanceof fe?c.pipe(ko(o.outsideAngular),Ao(o.insideAngular)):ya(()=>c)});var Br=class{constructor(e){return e}},ao=class{constructor(){return Jp()}};function s$(n){return n&&n.length===1?n[0]:new Br(so())}var Tw=new X("angularfire2._apps"),a$={provide:Br,useFactory:s$,deps:[[new xt,Tw]]},c$={provide:ao,deps:[[new xt,Tw]]};function l$(n){return(e,t)=>{let r=t.get(Wo);Je("angularfire",Ci.full,"core"),Je("angularfire",Ci.full,"app"),Je("angular",yD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Br(i)}}function Fk(n,...e){return $t([a$,c$,{provide:Tw,useFactory:l$(n),multi:!0,deps:[Ae,Xe,bi,...e]}])}var Lk=an(Dw,!0);var u$=new Map,d$={activated:!1,tokenObservers:[]},h$={initialized:!1,enabled:!1};function $r(n){return u$.get(n)||Object.assign({},d$)}function Bk(){return h$}var f$="https://content-firebaseappcheck.googleapis.com/v1";var g$="exchangeDebugToken",Vk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Rfe=24*60*60*1e3;var Rw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new ma,this.pending.promise.catch(t=>{}),yield p$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ma,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function p$(n){return new Promise(e=>{setTimeout(e,n)})}var m$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},as=new Ur("appCheck","AppCheck",m$);function $k(n){if(!$r(n).activated)throw as.create("use-before-activation",{appName:n.name})}function zk(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(v){throw as.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw as.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(v){throw as.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw as.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function Hk(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${f$}/projects/${t}/apps/${r}:${g$}?key=${i}`,body:{debug_token:e}}}var _$="firebase-app-check-database",y$=1,Nw="firebase-app-check-store";var em=null;function v$(){return em||(em=new Promise((n,e)=>{try{let t=indexedDB.open(_$,y$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(as.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nw,{keyPath:"compositeKey"})}}}catch(t){e(as.create("storage-open",{originalErrorMessage:t?.message}))}}),em)}function C$(n,e){return b$(w$(n),e)}function b$(n,e){return w(this,null,function*(){let r=(yield v$()).transaction(Nw,"readwrite"),o=r.objectStore(Nw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(as.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function w$(n){return`${n.options.appId}-${n.name}`}var Sd=new _i("@firebase/app-check");function Aw(n,e){return Pd()?C$(n,e).catch(t=>{Sd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qk(){return Bk().enabled}function Wk(){return w(this,null,function*(){let n=Bk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var M$={error:"UNKNOWN_ERROR"};function E$(n){return qp.encodeString(JSON.stringify(n),!1)}function Fw(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;$k(r);let i=$r(r),o=i.token,s;if(o&&!Dd(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Dd(u)?o=u:yield Aw(r,void 0))}if(!e&&o&&Dd(o))return{token:o.token};let a=!1;if(qk())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=zk(Hk(r,yield Wk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Aw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Sd.warn(u.message):t&&Sd.error(u),kw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield $r(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Sd.warn(u.message):t&&Sd.error(u),s=u}let c;return o?s?Dd(o)?c={token:o.token,internalError:s}:c=kw(s):(c={token:o.token},i.token=o,yield Aw(r,o)):c=kw(s),a&&I$(r,c),c})}function P$(n){return w(this,null,function*(){let e=n.app;$k(e);let{provider:t}=$r(e);if(qk()){let r=yield Wk(),{token:i}=yield zk(Hk(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function x$(n,e,t,r){let{app:i}=n,o=$r(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Dd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),jk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>jk(n))}function Gk(n,e){let t=$r(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jk(n){let{app:e}=n,t=$r(e),r=t.tokenRefresher;r||(r=O$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function O$(n){let{app:e}=n;return new Rw(()=>w(null,null,function*(){let t=$r(e),r;if(t.token?r=yield Fw(n,!0):r=yield Fw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=$r(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Vk.RETRIAL_MIN_WAIT,Vk.RETRIAL_MAX_WAIT)}function I$(n,e){let t=$r(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Dd(n){return n.expireTimeMillis-Date.now()>0}function kw(n){return{token:E$(M$),error:n}}var Lw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=$r(this.app);for(let t of e)Gk(this.app,t.next);return Promise.resolve()}};function S$(n,e){return new Lw(n,e)}function D$(n){return{getToken:e=>Fw(n,e),getLimitedUseToken:()=>P$(n),addTokenListener:e=>x$(n,"INTERNAL",e),removeTokenListener:e=>Gk(n.app,e)}}var T$="@firebase/app-check",A$="0.10.1";var k$="app-check",Uk="app-check-internal";function R$(){Qn(new sn(k$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return S$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Uk).initialize()})),Qn(new sn(Uk,n=>{let e=n.getProvider("app-check").getImmediate();return D$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Je(T$,A$)}R$();var N$="app-check";var cs=class{constructor(){return ss(N$)}};var F$=["localhost","0.0.0.0","127.0.0.1"],Gfe=typeof window<"u"&&F$.includes(window.location.hostname);function lR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uR=lR,dR=new Ur("auth","Firebase",lR());var sm=new _i("@firebase/auth");function L$(n,...e){sm.logLevel<=ke.WARN&&sm.warn(`Auth (${vi}): ${n}`,...e)}function nm(n,...e){sm.logLevel<=ke.ERROR&&sm.error(`Auth (${vi}): ${n}`,...e)}function zr(n,...e){throw lM(n,...e)}function Ca(n,...e){return lM(n,...e)}function hR(n,e,t){let r=Object.assign(Object.assign({},uR()),{[e]:t});return new Ur("auth","Firebase",r).create(e,{appName:n.name})}function uo(n){return hR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lM(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dR.create(n,...e)}function ae(n,e,...t){if(!n)throw lM(e,...t)}function co(n){let e="INTERNAL ASSERTION FAILED: "+n;throw nm(e),new Error(e)}function ds(n,e){n||co(e)}function Bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function V$(){return Kk()==="http:"||Kk()==="https:"}function Kk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function j$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V$()||hk()||"connection"in navigator)?navigator.onLine:!0}function U$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ba=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ds(t>e,"Short delay should be less than long delay!"),this.isMobile=uk()||fk()}get(){return j$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uM(n,e){ds(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var am=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var B$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z$=new ba(3e4,6e4);function Mi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hr(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return fR(n,i,()=>w(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=xd(Object.assign({key:n.config.apiKey},d)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:y},u);return dk()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&pi(n.emulatorConfig.host)&&(v.credentials="include"),am.fetch()(yield gR(n,n.config.apiHost,t,p),v)}))})}function fR(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},B$),e);try{let i=new $w(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw tm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw tm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw tm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hR(n,d,u);zr(n,d)}}catch(i){if(i instanceof Sn)throw i;zr(n,"network-request-failed",{message:String(i)})}})}function jd(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield Hr(n,e,t,r,i);return"mfaPendingCredential"in u&&zr(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function gR(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?uM(n.config,i):`${n.config.apiScheme}://${i}`;return $$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function H$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $w=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ca(this.auth,"network-request-failed")),z$.get())})}};function tm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ca(n,e,r);return i.customData._tokenResponse=t,i}function Yk(n){return n!==void 0&&n.enterprise!==void 0}var zw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function q$(n,e){return w(this,null,function*(){return Hr(n,"GET","/v2/recaptchaConfig",Mi(n,e))})}function W$(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:delete",e)})}function cm(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:lookup",e)})}function Ad(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dM(n,e=!1){return w(this,null,function*(){let t=Ke(n),r=yield t.getIdToken(e),i=hM(r);ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ad(Vw(i.auth_time)),issuedAtTime:Ad(Vw(i.iat)),expirationTime:Ad(Vw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Vw(n){return Number(n)*1e3}function hM(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return nm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wp(t);return i?JSON.parse(i):(nm("Failed to decode base64 JWT payload"),null)}catch(i){return nm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qk(n){let e=hM(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tl(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Sn&&G$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function G$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Hw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Rd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lm(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield tl(n,cm(t,{idToken:r}));ae(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pR(o.providerUserInfo):[],a=K$(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Rd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function fM(n){return w(this,null,function*(){let e=Ke(n);yield lm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function K$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pR(n){return n.map(e=>{var{providerId:t}=e,r=Uy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Y$(n,e){return w(this,null,function*(){let t=yield fR(n,{},()=>w(null,null,function*(){let r=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield gR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&pi(n.emulatorConfig.host)&&(c.credentials="include"),am.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Q$(n,e){return w(this,null,function*(){return Hr(n,"POST","/v2/accounts:revokeToken",Mi(n,e))})}var kd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let t=Qk(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Y$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return co("not implemented")}};function ls(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var us=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield tl(this,this.stsTokenManager.getToken(this.auth,e));return ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return dM(this,e)}reload(){return fM(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield lm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(yn(this.auth.app))return Promise.reject(uo(this.auth));let e=yield this.getIdToken();return yield tl(this,W$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,B=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ee,emailVerified:ie,isAnonymous:Be,providerData:ve,stsTokenManager:O}=t;ae(ee&&O,e,"internal-error");let M=kd.fromJSON(this.name,O);ae(typeof ee=="string",e,"internal-error"),ls(p,e.name),ls(y,e.name),ae(typeof ie=="boolean",e,"internal-error"),ae(typeof Be=="boolean",e,"internal-error"),ls(v,e.name),ls(E,e.name),ls(D,e.name),ls(k,e.name),ls(B,e.name),ls(J,e.name);let P=new n({uid:ee,auth:e,email:y,emailVerified:ie,displayName:p,isAnonymous:Be,photoURL:E,phoneNumber:v,tenantId:D,stsTokenManager:M,createdAt:B,lastLoginAt:J});return ve&&Array.isArray(ve)&&(P.providerData=ve.map(I=>Object.assign({},I))),k&&(P._redirectEventId=k),P}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new kd;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];ae(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?pR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new kd;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Rd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var Zk=new Map;function lo(n){ds(n instanceof Function,"Expected a class definition");let e=Zk.get(n);return e?(ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zk.set(n,e),e)}var Z$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),qw=Z$;function rm(n,e,t){return`firebase:${n}:${e}:${t}`}var um=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=rm(this.userKey,i.apiKey,o),this.fullPersistenceKey=rm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield cm(this.auth,{idToken:e}).catch(()=>{});return t?us._fromGetAccountInfoResponse(this.auth,t,e):null}return us._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(lo(qw),e,r);let i=(yield Promise.all(t.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||lo(qw),s=rm(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let y=yield cm(e,{idToken:d}).catch(()=>{});if(!y)break;p=yield us._fromGetAccountInfoResponse(e,y,d)}else p=us._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function Jk(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bR(e))return"Blackberry";if(wR(e))return"Webos";if(_R(e))return"Safari";if((e.includes("chrome/")||yR(e))&&!e.includes("edge/"))return"Chrome";if(CR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function mR(n=Ht()){return/firefox\//i.test(n)}function _R(n=Ht()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yR(n=Ht()){return/crios\//i.test(n)}function vR(n=Ht()){return/iemobile/i.test(n)}function CR(n=Ht()){return/android/i.test(n)}function bR(n=Ht()){return/blackberry/i.test(n)}function wR(n=Ht()){return/webos/i.test(n)}function gM(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function J$(n=Ht()){var e;return gM(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X$(){return gk()&&document.documentMode===10}function MR(n=Ht()){return gM(n)||CR(n)||wR(n)||bR(n)||/windows phone/i.test(n)||vR(n)}function ER(n,e=[]){let t;switch(n){case"Browser":t=Jk(Ht());break;case"Worker":t=`${Jk(Ht())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vi}/${r}`}var Ww=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function e9(t){return w(this,arguments,function*(n,e={}){return Hr(n,"GET","/v2/passwordPolicy",Mi(n,e))})}var t9=6,Gw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:t9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Kw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dm(this),this.idTokenSubscription=new dm(this),this.beforeStateQueue=new Ww(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lo(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield um.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield cm(this,{idToken:e}),r=yield us._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(yn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield lm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=U$()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(yn(this.app))return Promise.reject(uo(this));let t=e?Ke(e):null;return t&&ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return yn(this.app)?Promise.reject(uo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yn(this.app)?Promise.reject(uo(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(lo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield e9(this),t=new Gw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Q$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&lo(e)||this._popupRedirectResolver;ae(t,this,"argument-error"),this.redirectPersistenceManager=yield um.create(this,[lo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ER(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&L$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ho(n){return Ke(n)}var dm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yk(t=>this.observer=t)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vm={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n9(n){vm=n}function PR(n){return vm.loadJS(n)}function r9(){return vm.recaptchaEnterpriseScript}function i9(){return vm.gapiScript}function xR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Yw=class{constructor(){this.enterprise=new Qw}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Qw=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var o9="recaptcha-enterprise",OR="NO_RECAPTCHA",Zw=class{constructor(e){this.type=o9,this.auth=ho(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){q$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new zw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;Yk(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(OR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&Yk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=r9();c.length!==0&&(c+=a),PR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Td(n,e,t,r=!1,i=!1){return w(this,null,function*(){let o=new Zw(n),s;if(i)s=OR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function hm(n,e,t,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Td(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Td(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Td(n,e,t);return r(n,a).catch(c=>w(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Td(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Td(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function pM(n,e){let t=os(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(mi(o,e??{}))return i;zr(i,"already-initialized")}return t.initialize({options:e})}function s9(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(lo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function mM(n,e,t){let r=ho(n);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=IR(e),{host:s,port:a}=a9(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(mi(u,r.config.emulator)&&mi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,pi(s)?(Qc(`${o}//${s}${c}`),Zc("Auth",!0)):i||c9()}function IR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function a9(n){let e=IR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Xk(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Xk(s)}}}function Xk(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function c9(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Nd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return co("not implemented")}_getIdTokenResponse(e){return co("not implemented")}_linkToIdToken(e,t){return co("not implemented")}_getReauthenticationResolver(e){return co("not implemented")}};function SR(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:resetPassword",Mi(n,e))})}function l9(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:signUp",e)})}function u9(n,e){return w(this,null,function*(){return jd(n,"POST","/v1/accounts:signInWithPassword",Mi(n,e))})}function d9(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:sendOobCode",Mi(n,e))})}function h9(n,e){return w(this,null,function*(){return d9(n,e)})}function f9(n,e){return w(this,null,function*(){return jd(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))})}function g9(n,e){return w(this,null,function*(){return jd(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))})}var Fd=class n extends Nd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,t,"signInWithPassword",u9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return f9(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,r,"signUpPassword",l9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return g9(e,{idToken:t,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function jw(n,e){return w(this,null,function*(){return jd(n,"POST","/v1/accounts:signInWithIdp",Mi(n,e))})}function p9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m9(n){let e=Jc(Xc(n)).link,t=e?Jc(Xc(e)).deep_link_id:null,r=Jc(Xc(n)).deep_link_id;return(r?Jc(Xc(r)).link:null)||r||t||e||n}var fm=class n{constructor(e){var t,r,i,o,s,a;let c=Jc(Xc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=p9((i=c.mode)!==null&&i!==void 0?i:null);ae(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=m9(e);try{return new n(t)}catch{return null}}};var DR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Fd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=fm.parseLink(r);return ae(i,"argument-error"),Fd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),gm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jw=class extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function _9(n,e){return w(this,null,function*(){return jd(n,"POST","/v1/accounts:signUp",Mi(n,e))})}var nl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield us._fromIdTokenResponse(e,r,i),s=eR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function eR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Xw=class n extends Sn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function TR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xw._fromErrorAndOperation(n,o,e,r):o})}function y9(n,e,t=!1){return w(this,null,function*(){let r=yield tl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return nl._forOperation(n,"link",r)})}function v9(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(yn(r.app))return Promise.reject(uo(r));let i="reauthenticate";try{let o=yield tl(n,TR(r,i,e,n),t);ae(o.idToken,r,"internal-error");let s=hM(o.idToken);ae(s,r,"internal-error");let{sub:a}=s;return ae(n.uid===a,r,"user-mismatch"),nl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&zr(r,"user-mismatch"),o}})}function AR(n,e,t=!1){return w(this,null,function*(){if(yn(n.app))return Promise.reject(uo(n));let r="signIn",i=yield TR(n,r,e),o=yield nl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function _M(n,e){return w(this,null,function*(){return AR(ho(n),e)})}var Ld=class{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?eM._fromServerResponse(e,t):"totpInfo"in t?tM._fromServerResponse(e,t):zr(e,"internal-error")}},eM=class n extends Ld{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new n(t)}},tM=class n extends Ld{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new n(t)}};function C9(n,e,t){var r;ae(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ae(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ae(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ae(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ae(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function yM(n){return w(this,null,function*(){let e=ho(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vM(n,e,t){return w(this,null,function*(){let r=ho(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&C9(r,i,t),yield hm(r,i,"getOobCode",h9,"EMAIL_PASSWORD_PROVIDER")})}function CM(n,e,t){return w(this,null,function*(){yield SR(Ke(n),{oobCode:e,newPassword:t}).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&yM(n),r}))})}function bM(n,e){return w(this,null,function*(){let t=Ke(n),r=yield SR(t,{oobCode:e}),i=r.requestType;switch(ae(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(r.mfaInfo,t,"internal-error");default:ae(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Ld._fromServerResponse(ho(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})}function wM(n,e){return w(this,null,function*(){let{data:t}=yield bM(Ke(n),e);return t.email})}function MM(n,e,t){return w(this,null,function*(){if(yn(n.app))return Promise.reject(uo(n));let r=ho(n),s=yield hm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_9,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&yM(n),c}),a=yield nl._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function EM(n,e,t){return yn(n.app)?Promise.reject(uo(n)):_M(Ke(n),DR.credential(e,t)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&yM(n),r}))}function b9(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:update",e)})}function PM(r,i){return w(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Ke(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield tl(o,b9(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function xM(n,e,t,r){return Ke(n).onIdTokenChanged(e,t,r)}function OM(n,e,t){return Ke(n).beforeAuthStateChanged(e,t)}function IM(n,e,t,r){return Ke(n).onAuthStateChanged(e,t,r)}function SM(n){return Ke(n).signOut()}var pm="__sak";var mm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var w9=1e3,M9=10,E9=(()=>{class n extends mm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);X$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,M9):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},w9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Do(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Do(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Do(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),kR=E9;var P9=(()=>{class n extends mm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),DM=P9;function x9(n){return Promise.all(n.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var O9=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield x9(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function RR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var nM=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=RR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function wi(){return window}function I9(n){wi().location.href=n}function NR(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}function S9(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function D9(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function T9(){return NR()?self:null}var FR="firebaseLocalStorageDb",A9=1,_m="firebaseLocalStorage",LR="fbase_key",wa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Cm(n,e){return n.transaction([_m],e?"readwrite":"readonly").objectStore(_m)}function k9(){let n=indexedDB.deleteDatabase(FR);return new wa(n).toPromise()}function rM(){let n=indexedDB.open(FR,A9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(_m,{keyPath:LR})}catch(i){t(i)}}),n.addEventListener("success",()=>w(null,null,function*(){let r=n.result;r.objectStoreNames.contains(_m)?e(r):(r.close(),yield k9(),e(yield rM()))}))})}function tR(n,e,t){return w(this,null,function*(){let r=Cm(n,!0).put({[LR]:e,value:t});return new wa(r).toPromise()})}function R9(n,e){return w(this,null,function*(){let t=Cm(n,!1).get(e),r=yield new wa(t).toPromise();return r===void 0?null:r.value})}function nR(n,e){let t=Cm(n,!0).delete(e);return new wa(t).toPromise()}var N9=800,F9=3,L9=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield rM(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>F9)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return NR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=O9._getInstance(T9()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield S9(),!this.activeServiceWorker)return;this.sender=new nM(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||D9()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield rM();return yield tR(t,pm,"1"),yield nR(t,pm),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>tR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>R9(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>nR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=Cm(o,!1).getAll();return new wa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),N9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),VR=L9;var tge=xR("rcb"),nge=new ba(3e4,6e4);function V9(n,e){return e?lo(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Vd=class extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function j9(n){return AR(n.auth,new Vd(n),n.bypassAuthState)}function U9(n){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),v9(t,new Vd(n),n.bypassAuthState)}function B9(n){return w(this,null,function*(){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),y9(t,new Vd(n),n.bypassAuthState)})}var iM=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j9;case"linkViaPopup":case"linkViaRedirect":return B9;case"reauthViaPopup":case"reauthViaRedirect":return U9;default:zr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rge=new ba(2e3,1e4);var $9="pendingRedirect",im=new Map,oM=class n extends iM{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=im.get(this.auth._key());if(!e){try{let r=(yield z9(this.resolver,this.auth))?yield Do(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}im.set(this.auth._key(),e)}return this.bypassAuthState||im.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Do(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Do(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function z9(n,e){return w(this,null,function*(){let t=W9(e),r=q9(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function H9(n,e){im.set(n._key(),e)}function q9(n){return lo(n._redirectPersistence)}function W9(n){return rm($9,n.config.apiKey,n.name)}function G9(n,e,t=!1){return w(this,null,function*(){if(yn(n.app))return Promise.reject(uo(n));let r=ho(n),i=V9(r,e),s=yield new oM(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var K9=10*60*1e3,sM=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ca(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K9&&this.cachedEventUids.clear(),this.cachedEventUids.has(rR(e))}saveEventToCache(e){this.cachedEventUids.add(rR(e)),this.lastProcessedEventTime=Date.now()}};function rR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jR(n);default:return!1}}function Q9(t){return w(this,arguments,function*(n,e={}){return Hr(n,"GET","/v1/projects",e)})}var Z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J9=/^https?/;function X9(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Q9(n);for(let t of e)try{if(ez(t))return}catch{}zr(n,"unauthorized-domain")})}function ez(n){let e=Bw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!J9.test(t))return!1;if(Z9.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var tz=new ba(3e4,6e4);function iR(){let n=wi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nz(n){return new Promise((e,t)=>{var r,i,o;function s(){iR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iR(),t(Ca(n,"network-request-failed"))},timeout:tz.get()})}if(!((i=(r=wi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=wi().gapi)===null||o===void 0)&&o.load)s();else{let a=xR("iframefcb");return wi()[a]=()=>{gapi.load?s():t(Ca(n,"network-request-failed"))},PR(`${i9()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw om=null,e})}var om=null;function rz(n){return om=om||nz(n),om}var iz=new ba(5e3,15e3),oz="__/auth/iframe",sz="emulator/auth/iframe",az={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lz(n){let e=n.config;ae(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?uM(e,sz):`https://${n.config.authDomain}/${oz}`,r={apiKey:e.apiKey,appName:n.name,v:vi},i=cz.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${xd(r).slice(1)}`}function uz(n){return w(this,null,function*(){let e=yield rz(n),t=wi().gapi;return ae(t,n,"internal-error"),e.open({where:document.body,url:lz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:az,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ca(n,"network-request-failed"),a=wi().setTimeout(()=>{o(s)},iz.get());function c(){wi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var dz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hz=500,fz=600,gz="_blank",pz="http://localhost",ym=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function mz(n,e,t,r=hz,i=fz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},dz),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ht().toLowerCase();t&&(a=yR(u)?gz:t),mR(u)&&(e=e||pz,c.scrollbars="yes");let d=Object.entries(c).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(J$(u)&&a!=="_self")return _z(e||"",a),new ym(null);let p=window.open(e||"",a,d);ae(p,n,"popup-blocked");try{p.focus()}catch{}return new ym(p)}function _z(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var yz="__/auth/handler",vz="emulator/auth/handler",Cz=encodeURIComponent("fac");function oR(n,e,t,r,i,o){return w(this,null,function*(){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vi,eventId:i};if(e instanceof gm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",_k(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof Jw){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${Cz}=${encodeURIComponent(c)}`:"";return`${bz(n)}?${xd(a).slice(1)}${u}`})}function bz({config:n}){return n.emulator?uM(n,vz):`https://${n.authDomain}/${yz}`}var Uw="webStorageSupport",aM=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DM,this._completeRedirectFn=G9,this._overrideRedirectResult=H9}_openPopup(e,t,r,i){return w(this,null,function*(){var o;ds((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield oR(e,t,r,Bw(),i);return mz(e,s,RR())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield oR(e,t,r,Bw(),i);return I9(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ds(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield uz(e),r=new sM(e);return t.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uw,{type:Uw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Uw];s!==void 0&&t(!!s),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MR()||_R()||gM()}},UR=aM;var sR="@firebase/auth",aR="1.10.8";var cM=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mz(n){Qn(new sn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ER(n)},u=new Kw(r,i,o,c);return s9(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new sn("auth-internal",e=>{let t=ho(e.getProvider("auth").getImmediate());return(r=>new cM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(sR,aR,wz(n)),Je(sR,aR,"esm2017")}var Ez=5*60,Pz=pw("authIdTokenMaxAge")||Ez,cR=null,xz=n=>e=>w(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Pz)return;let i=t?.token;cR!==i&&(cR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function TM(n=so()){let e=os(n,"auth");if(e.isInitialized())return e.getImmediate();let t=pM(n,{popupRedirectResolver:UR,persistence:[VR,kR,DM]}),r=pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=xz(o.toString());OM(t,s,()=>s(t.currentUser)),xM(t,a=>s(a))}}let i=fw("auth");return i&&mM(t,`http://${i}`),t}function Oz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}n9({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ca("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Oz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mz("Browser");var BR="auth",Ma=class{constructor(e){return e}},Ea=class{constructor(){return ss(BR)}};var AM=new X("angularfire2.auth-instances");function uH(n,e){let t=va(BR,n,e);return t&&new Ma(t)}function dH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ma(r)}}var hH={provide:Ea,deps:[[new xt,AM]]},fH={provide:Ma,useFactory:uH,deps:[[new xt,AM],Br]};function $R(n,...e){return Je("angularfire",Ci.full,"auth"),$t([fH,hH,{provide:AM,useFactory:dH(n),multi:!0,deps:[Ae,Xe,bi,ao,[new xt,cs],...e]}])}var zR=an(CM,!0,2);var HR=an(MM,!0,2);var qR=an(TM,!0);var WR=an(IM,!0);var GR=an(vM,!0,2);var KR=an(EM,!0,2);var YR=an(SM,!0,2);var QR=an(PM,!0,2);var ZR=an(wM,!0,2);var JR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XR={};var fo,kM;(function(){var n;function e(O,M){function P(){}P.prototype=M.prototype,O.D=M.prototype,O.prototype=new P,O.prototype.constructor=O,O.C=function(I,S,A){for(var x=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)x[tr-2]=arguments[tr];return M.prototype[S].apply(I,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,M,P){P||(P=0);var I=Array(16);if(typeof M=="string")for(var S=0;16>S;++S)I[S]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(S=0;16>S;++S)I[S]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=O.g[0],P=O.g[1],S=O.g[2];var A=O.g[3],x=M+(A^P&(S^A))+I[0]+3614090360&4294967295;M=P+(x<<7&4294967295|x>>>25),x=A+(S^M&(P^S))+I[1]+3905402710&4294967295,A=M+(x<<12&4294967295|x>>>20),x=S+(P^A&(M^P))+I[2]+606105819&4294967295,S=A+(x<<17&4294967295|x>>>15),x=P+(M^S&(A^M))+I[3]+3250441966&4294967295,P=S+(x<<22&4294967295|x>>>10),x=M+(A^P&(S^A))+I[4]+4118548399&4294967295,M=P+(x<<7&4294967295|x>>>25),x=A+(S^M&(P^S))+I[5]+1200080426&4294967295,A=M+(x<<12&4294967295|x>>>20),x=S+(P^A&(M^P))+I[6]+2821735955&4294967295,S=A+(x<<17&4294967295|x>>>15),x=P+(M^S&(A^M))+I[7]+4249261313&4294967295,P=S+(x<<22&4294967295|x>>>10),x=M+(A^P&(S^A))+I[8]+1770035416&4294967295,M=P+(x<<7&4294967295|x>>>25),x=A+(S^M&(P^S))+I[9]+2336552879&4294967295,A=M+(x<<12&4294967295|x>>>20),x=S+(P^A&(M^P))+I[10]+4294925233&4294967295,S=A+(x<<17&4294967295|x>>>15),x=P+(M^S&(A^M))+I[11]+2304563134&4294967295,P=S+(x<<22&4294967295|x>>>10),x=M+(A^P&(S^A))+I[12]+1804603682&4294967295,M=P+(x<<7&4294967295|x>>>25),x=A+(S^M&(P^S))+I[13]+4254626195&4294967295,A=M+(x<<12&4294967295|x>>>20),x=S+(P^A&(M^P))+I[14]+2792965006&4294967295,S=A+(x<<17&4294967295|x>>>15),x=P+(M^S&(A^M))+I[15]+1236535329&4294967295,P=S+(x<<22&4294967295|x>>>10),x=M+(S^A&(P^S))+I[1]+4129170786&4294967295,M=P+(x<<5&4294967295|x>>>27),x=A+(P^S&(M^P))+I[6]+3225465664&4294967295,A=M+(x<<9&4294967295|x>>>23),x=S+(M^P&(A^M))+I[11]+643717713&4294967295,S=A+(x<<14&4294967295|x>>>18),x=P+(A^M&(S^A))+I[0]+3921069994&4294967295,P=S+(x<<20&4294967295|x>>>12),x=M+(S^A&(P^S))+I[5]+3593408605&4294967295,M=P+(x<<5&4294967295|x>>>27),x=A+(P^S&(M^P))+I[10]+38016083&4294967295,A=M+(x<<9&4294967295|x>>>23),x=S+(M^P&(A^M))+I[15]+3634488961&4294967295,S=A+(x<<14&4294967295|x>>>18),x=P+(A^M&(S^A))+I[4]+3889429448&4294967295,P=S+(x<<20&4294967295|x>>>12),x=M+(S^A&(P^S))+I[9]+568446438&4294967295,M=P+(x<<5&4294967295|x>>>27),x=A+(P^S&(M^P))+I[14]+3275163606&4294967295,A=M+(x<<9&4294967295|x>>>23),x=S+(M^P&(A^M))+I[3]+4107603335&4294967295,S=A+(x<<14&4294967295|x>>>18),x=P+(A^M&(S^A))+I[8]+1163531501&4294967295,P=S+(x<<20&4294967295|x>>>12),x=M+(S^A&(P^S))+I[13]+2850285829&4294967295,M=P+(x<<5&4294967295|x>>>27),x=A+(P^S&(M^P))+I[2]+4243563512&4294967295,A=M+(x<<9&4294967295|x>>>23),x=S+(M^P&(A^M))+I[7]+1735328473&4294967295,S=A+(x<<14&4294967295|x>>>18),x=P+(A^M&(S^A))+I[12]+2368359562&4294967295,P=S+(x<<20&4294967295|x>>>12),x=M+(P^S^A)+I[5]+4294588738&4294967295,M=P+(x<<4&4294967295|x>>>28),x=A+(M^P^S)+I[8]+2272392833&4294967295,A=M+(x<<11&4294967295|x>>>21),x=S+(A^M^P)+I[11]+1839030562&4294967295,S=A+(x<<16&4294967295|x>>>16),x=P+(S^A^M)+I[14]+4259657740&4294967295,P=S+(x<<23&4294967295|x>>>9),x=M+(P^S^A)+I[1]+2763975236&4294967295,M=P+(x<<4&4294967295|x>>>28),x=A+(M^P^S)+I[4]+1272893353&4294967295,A=M+(x<<11&4294967295|x>>>21),x=S+(A^M^P)+I[7]+4139469664&4294967295,S=A+(x<<16&4294967295|x>>>16),x=P+(S^A^M)+I[10]+3200236656&4294967295,P=S+(x<<23&4294967295|x>>>9),x=M+(P^S^A)+I[13]+681279174&4294967295,M=P+(x<<4&4294967295|x>>>28),x=A+(M^P^S)+I[0]+3936430074&4294967295,A=M+(x<<11&4294967295|x>>>21),x=S+(A^M^P)+I[3]+3572445317&4294967295,S=A+(x<<16&4294967295|x>>>16),x=P+(S^A^M)+I[6]+76029189&4294967295,P=S+(x<<23&4294967295|x>>>9),x=M+(P^S^A)+I[9]+3654602809&4294967295,M=P+(x<<4&4294967295|x>>>28),x=A+(M^P^S)+I[12]+3873151461&4294967295,A=M+(x<<11&4294967295|x>>>21),x=S+(A^M^P)+I[15]+530742520&4294967295,S=A+(x<<16&4294967295|x>>>16),x=P+(S^A^M)+I[2]+3299628645&4294967295,P=S+(x<<23&4294967295|x>>>9),x=M+(S^(P|~A))+I[0]+4096336452&4294967295,M=P+(x<<6&4294967295|x>>>26),x=A+(P^(M|~S))+I[7]+1126891415&4294967295,A=M+(x<<10&4294967295|x>>>22),x=S+(M^(A|~P))+I[14]+2878612391&4294967295,S=A+(x<<15&4294967295|x>>>17),x=P+(A^(S|~M))+I[5]+4237533241&4294967295,P=S+(x<<21&4294967295|x>>>11),x=M+(S^(P|~A))+I[12]+1700485571&4294967295,M=P+(x<<6&4294967295|x>>>26),x=A+(P^(M|~S))+I[3]+2399980690&4294967295,A=M+(x<<10&4294967295|x>>>22),x=S+(M^(A|~P))+I[10]+4293915773&4294967295,S=A+(x<<15&4294967295|x>>>17),x=P+(A^(S|~M))+I[1]+2240044497&4294967295,P=S+(x<<21&4294967295|x>>>11),x=M+(S^(P|~A))+I[8]+1873313359&4294967295,M=P+(x<<6&4294967295|x>>>26),x=A+(P^(M|~S))+I[15]+4264355552&4294967295,A=M+(x<<10&4294967295|x>>>22),x=S+(M^(A|~P))+I[6]+2734768916&4294967295,S=A+(x<<15&4294967295|x>>>17),x=P+(A^(S|~M))+I[13]+1309151649&4294967295,P=S+(x<<21&4294967295|x>>>11),x=M+(S^(P|~A))+I[4]+4149444226&4294967295,M=P+(x<<6&4294967295|x>>>26),x=A+(P^(M|~S))+I[11]+3174756917&4294967295,A=M+(x<<10&4294967295|x>>>22),x=S+(M^(A|~P))+I[2]+718787259&4294967295,S=A+(x<<15&4294967295|x>>>17),x=P+(A^(S|~M))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+M&4294967295,O.g[1]=O.g[1]+(S+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+S&4294967295,O.g[3]=O.g[3]+A&4294967295}r.prototype.u=function(O,M){M===void 0&&(M=O.length);for(var P=M-this.blockSize,I=this.B,S=this.h,A=0;A<M;){if(S==0)for(;A<=P;)i(this,O,A),A+=this.blockSize;if(typeof O=="string"){for(;A<M;)if(I[S++]=O.charCodeAt(A++),S==this.blockSize){i(this,I),S=0;break}}else for(;A<M;)if(I[S++]=O[A++],S==this.blockSize){i(this,I),S=0;break}}this.h=S,this.o+=M},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var M=1;M<O.length-8;++M)O[M]=0;var P=8*this.o;for(M=O.length-8;M<O.length;++M)O[M]=P&255,P/=256;for(this.u(O),O=Array(16),M=P=0;4>M;++M)for(var I=0;32>I;I+=8)O[P++]=this.g[M]>>>I&255;return O};function o(O,M){var P=a;return Object.prototype.hasOwnProperty.call(P,O)?P[O]:P[O]=M(O)}function s(O,M){this.h=M;for(var P=[],I=!0,S=O.length-1;0<=S;S--){var A=O[S]|0;I&&A==M||(P[S]=A,I=!1)}this.g=P}var a={};function c(O){return-128<=O&&128>O?o(O,function(M){return new s([M|0],0>M?-1:0)}):new s([O|0],0>O?-1:0)}function u(O){if(isNaN(O)||!isFinite(O))return p;if(0>O)return k(u(-O));for(var M=[],P=1,I=0;O>=P;I++)M[I]=O/P|0,P*=4294967296;return new s(M,0)}function d(O,M){if(O.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O.charAt(0)=="-")return k(d(O.substring(1),M));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(M,8)),I=p,S=0;S<O.length;S+=8){var A=Math.min(8,O.length-S),x=parseInt(O.substring(S,S+A),M);8>A?(A=u(Math.pow(M,A)),I=I.j(A).add(u(x))):(I=I.j(P),I=I.add(u(x)))}return I}var p=c(0),y=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(D(this))return-k(this).m();for(var O=0,M=1,P=0;P<this.g.length;P++){var I=this.i(P);O+=(0<=I?I:4294967296+I)*M,M*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(D(this))return"-"+k(this).toString(O);for(var M=u(Math.pow(O,6)),P=this,I="";;){var S=ie(P,M).g;P=B(P,S.j(M));var A=((0<P.g.length?P.g[0]:P.h)>>>0).toString(O);if(P=S,E(P))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var M=0;M<O.g.length;M++)if(O.g[M]!=0)return!1;return!0}function D(O){return O.h==-1}n.l=function(O){return O=B(this,O),D(O)?-1:E(O)?0:1};function k(O){for(var M=O.g.length,P=[],I=0;I<M;I++)P[I]=~O.g[I];return new s(P,~O.h).add(y)}n.abs=function(){return D(this)?k(this):this},n.add=function(O){for(var M=Math.max(this.g.length,O.g.length),P=[],I=0,S=0;S<=M;S++){var A=I+(this.i(S)&65535)+(O.i(S)&65535),x=(A>>>16)+(this.i(S)>>>16)+(O.i(S)>>>16);I=x>>>16,A&=65535,x&=65535,P[S]=x<<16|A}return new s(P,P[P.length-1]&-2147483648?-1:0)};function B(O,M){return O.add(k(M))}n.j=function(O){if(E(this)||E(O))return p;if(D(this))return D(O)?k(this).j(k(O)):k(k(this).j(O));if(D(O))return k(this.j(k(O)));if(0>this.l(v)&&0>O.l(v))return u(this.m()*O.m());for(var M=this.g.length+O.g.length,P=[],I=0;I<2*M;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(var S=0;S<O.g.length;S++){var A=this.i(I)>>>16,x=this.i(I)&65535,tr=O.i(S)>>>16,Eo=O.i(S)&65535;P[2*I+2*S]+=x*Eo,J(P,2*I+2*S),P[2*I+2*S+1]+=A*Eo,J(P,2*I+2*S+1),P[2*I+2*S+1]+=x*tr,J(P,2*I+2*S+1),P[2*I+2*S+2]+=A*tr,J(P,2*I+2*S+2)}for(I=0;I<M;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=M;I<2*M;I++)P[I]=0;return new s(P,0)};function J(O,M){for(;(O[M]&65535)!=O[M];)O[M+1]+=O[M]>>>16,O[M]&=65535,M++}function ee(O,M){this.g=O,this.h=M}function ie(O,M){if(E(M))throw Error("division by zero");if(E(O))return new ee(p,p);if(D(O))return M=ie(k(O),M),new ee(k(M.g),k(M.h));if(D(M))return M=ie(O,k(M)),new ee(k(M.g),M.h);if(30<O.g.length){if(D(O)||D(M))throw Error("slowDivide_ only works with positive integers.");for(var P=y,I=M;0>=I.l(O);)P=Be(P),I=Be(I);var S=ve(P,1),A=ve(I,1);for(I=ve(I,2),P=ve(P,2);!E(I);){var x=A.add(I);0>=x.l(O)&&(S=S.add(P),A=x),I=ve(I,1),P=ve(P,1)}return M=B(O,S.j(M)),new ee(S,M)}for(S=p;0<=O.l(M);){for(P=Math.max(1,Math.floor(O.m()/M.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=u(P),x=A.j(M);D(x)||0<x.l(O);)P-=I,A=u(P),x=A.j(M);E(A)&&(A=y),S=S.add(A),O=B(O,x)}return new ee(S,O)}n.A=function(O){return ie(this,O).h},n.and=function(O){for(var M=Math.max(this.g.length,O.g.length),P=[],I=0;I<M;I++)P[I]=this.i(I)&O.i(I);return new s(P,this.h&O.h)},n.or=function(O){for(var M=Math.max(this.g.length,O.g.length),P=[],I=0;I<M;I++)P[I]=this.i(I)|O.i(I);return new s(P,this.h|O.h)},n.xor=function(O){for(var M=Math.max(this.g.length,O.g.length),P=[],I=0;I<M;I++)P[I]=this.i(I)^O.i(I);return new s(P,this.h^O.h)};function Be(O){for(var M=O.g.length+1,P=[],I=0;I<M;I++)P[I]=O.i(I)<<1|O.i(I-1)>>>31;return new s(P,O.h)}function ve(O,M){var P=M>>5;M%=32;for(var I=O.g.length-P,S=[],A=0;A<I;A++)S[A]=0<M?O.i(A+P)>>>M|O.i(A+P+1)<<32-M:O.i(A+P);return new s(S,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kM=XR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,fo=XR.Integer=s}).apply(typeof JR<"u"?JR:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},go={};var RM,pH,rl,NM,Ud,wm,FM,LM,VM;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,_){return l==Array.prototype||l==Object.prototype||(l[h]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var h=0;h<l.length;++h){var _=l[h];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var _=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var T=l[b];if(!(T in _))break e;_=_[T]}l=l[l.length-1],b=_[l],h=h(b),h!=b&&h!=null&&e(_,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var _=0,b=!1,T={next:function(){if(!b&&_<l.length){var N=_++;return{value:h(N,l[N]),done:!1}}return b=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,_){return _})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,_){return l.call.apply(l.bind,arguments)}function p(l,h,_){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,b),l.apply(h,T)}}return function(){return l.apply(h,arguments)}}function y(l,h,_){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function v(l,h){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function E(l,h){function _(){}_.prototype=h.prototype,l.aa=h.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(b,T,N){for(var Q=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Q[Ye-2]=arguments[Ye];return h.prototype[T].apply(b,Q)}}function D(l){let h=l.length;if(0<h){let _=Array(h);for(let b=0;b<h;b++)_[b]=l[b];return _}return[]}function k(l,h){for(let _=1;_<arguments.length;_++){let b=arguments[_];if(c(b)){let T=l.length||0,N=b.length||0;l.length=T+N;for(let Q=0;Q<N;Q++)l[T+Q]=b[Q]}else l.push(b)}}class B{constructor(h,_){this.i=h,this.j=_,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function J(l){return/^[\s\xa0]*$/.test(l)}function ee(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ie(l){return ie[" "](l),l}ie[" "]=function(){};var Be=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ve(l,h,_){for(let b in l)h.call(_,l[b],b,l)}function O(l,h){for(let _ in l)h.call(void 0,l[_],_,l)}function M(l){let h={};for(let _ in l)h[_]=l[_];return h}let P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,h){let _,b;for(let T=1;T<arguments.length;T++){b=arguments[T];for(_ in b)l[_]=b[_];for(let N=0;N<P.length;N++)_=P[N],Object.prototype.hasOwnProperty.call(b,_)&&(l[_]=b[_])}}function S(l){var h=1;l=l.split(":");let _=[];for(;0<h&&l.length;)_.push(l.shift()),h--;return l.length&&_.push(l.join(":")),_}function A(l){a.setTimeout(()=>{throw l},0)}function x(){var l=De;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class tr{constructor(){this.h=this.g=null}add(h,_){let b=Eo.get();b.set(h,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Eo=new B(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(h,_){this.h=h,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,De=new tr,yt=()=>{let l=a.Promise.resolve(void 0);se=()=>{l.then(nr)}};var nr=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(_){A(_)}var h=Eo;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ce=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let _=()=>{};a.addEventListener("test",_,h),a.removeEventListener("test",_,h)}catch{}return l}();function Po(l,h){if(tt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Be){e:{try{ie(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else _=="mouseover"?h=l.fromElement:_=="mouseout"&&(h=l.toElement);this.relatedTarget=h,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Q_[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Po.aa.h.call(this)}}E(Po,tt);var Q_={2:"touch",3:"pen",4:"mouse"};Po.prototype.h=function(){Po.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Ni=0;function Dn(l,h,_,b,T){this.listener=l,this.proxy=null,this.src=h,this.type=_,this.capture=!!b,this.ha=T,this.key=++Ni,this.da=this.fa=!1}function Fi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function xo(l){this.src=l,this.g={},this.h=0}xo.prototype.add=function(l,h,_,b,T){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var Q=J_(l,h,b,T);return-1<Q?(h=l[Q],_||(h.fa=!1)):(h=new Dn(h,this.src,N,!!b,T),h.fa=_,l.push(h)),h};function Z_(l,h){var _=h.type;if(_ in l.g){var b=l.g[_],T=Array.prototype.indexOf.call(b,h,void 0),N;(N=0<=T)&&Array.prototype.splice.call(b,T,1),N&&(Fi(h),l.g[_].length==0&&(delete l.g[_],l.h--))}}function J_(l,h,_,b){for(var T=0;T<l.length;++T){var N=l[T];if(!N.da&&N.listener==h&&N.capture==!!_&&N.ha==b)return T}return-1}var X_="closure_lm_"+(1e6*Math.random()|0),ey={};function yx(l,h,_,b,T){if(b&&b.once)return Cx(l,h,_,b,T);if(Array.isArray(h)){for(var N=0;N<h.length;N++)yx(l,h[N],_,b,T);return null}return _=iy(_),l&&l[gt]?l.K(h,_,u(b)?!!b.capture:!!b,T):vx(l,h,_,!1,b,T)}function vx(l,h,_,b,T,N){if(!h)throw Error("Invalid event type");var Q=u(T)?!!T.capture:!!T,Ye=ny(l);if(Ye||(l[X_]=Ye=new xo(l)),_=Ye.add(h,_,b,Q,N),_.proxy)return _;if(b=p5(),_.proxy=b,b.src=l,b.listener=_,l.addEventListener)nt||(T=Q),T===void 0&&(T=!1),l.addEventListener(h.toString(),b,T);else if(l.attachEvent)l.attachEvent(wx(h.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function p5(){function l(_){return h.call(l.src,l.listener,_)}let h=m5;return l}function Cx(l,h,_,b,T){if(Array.isArray(h)){for(var N=0;N<h.length;N++)Cx(l,h[N],_,b,T);return null}return _=iy(_),l&&l[gt]?l.L(h,_,u(b)?!!b.capture:!!b,T):vx(l,h,_,!0,b,T)}function bx(l,h,_,b,T){if(Array.isArray(h))for(var N=0;N<h.length;N++)bx(l,h[N],_,b,T);else b=u(b)?!!b.capture:!!b,_=iy(_),l&&l[gt]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],_=J_(N,_,b,T),-1<_&&(Fi(N[_]),Array.prototype.splice.call(N,_,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=ny(l))&&(h=l.g[h.toString()],l=-1,h&&(l=J_(h,_,b,T)),(_=-1<l?h[l]:null)&&ty(_))}function ty(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[gt])Z_(h.i,l);else{var _=l.type,b=l.proxy;h.removeEventListener?h.removeEventListener(_,b,l.capture):h.detachEvent?h.detachEvent(wx(_),b):h.addListener&&h.removeListener&&h.removeListener(b),(_=ny(h))?(Z_(_,l),_.h==0&&(_.src=null,h[X_]=null)):Fi(l)}}}function wx(l){return l in ey?ey[l]:ey[l]="on"+l}function m5(l,h){if(l.da)l=!0;else{h=new Po(h,this);var _=l.listener,b=l.ha||l.src;l.fa&&ty(l),l=_.call(b,h)}return l}function ny(l){return l=l[X_],l instanceof xo?l:null}var ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(l){return typeof l=="function"?l:(l[ry]||(l[ry]=function(h){return l.handleEvent(h)}),l[ry])}function cn(){ft.call(this),this.i=new xo(this),this.M=this,this.F=null}E(cn,ft),cn.prototype[gt]=!0,cn.prototype.removeEventListener=function(l,h,_,b){bx(this,l,h,_,b)};function bn(l,h){var _,b=l.F;if(b)for(_=[];b;b=b.F)_.push(b);if(l=l.M,b=h.type||h,typeof h=="string")h=new tt(h,l);else if(h instanceof tt)h.target=h.target||l;else{var T=h;h=new tt(b,l),I(h,T)}if(T=!0,_)for(var N=_.length-1;0<=N;N--){var Q=h.g=_[N];T=wh(Q,b,!0,h)&&T}if(Q=h.g=l,T=wh(Q,b,!0,h)&&T,T=wh(Q,b,!1,h)&&T,_)for(N=0;N<_.length;N++)Q=h.g=_[N],T=wh(Q,b,!1,h)&&T}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var _=l.g[h],b=0;b<_.length;b++)Fi(_[b]);delete l.g[h],l.h--}}this.F=null},cn.prototype.K=function(l,h,_,b){return this.i.add(String(l),h,!1,_,b)},cn.prototype.L=function(l,h,_,b){return this.i.add(String(l),h,!0,_,b)};function wh(l,h,_,b){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,N=0;N<h.length;++N){var Q=h[N];if(Q&&!Q.da&&Q.capture==_){var Ye=Q.listener,Zt=Q.ha||Q.src;Q.fa&&Z_(l.i,Q),T=Ye.call(Zt,b)!==!1&&T}}return T&&!b.defaultPrevented}function Mx(l,h,_){if(typeof l=="function")_&&(l=y(l,_));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Ex(l){l.g=Mx(()=>{l.g=null,l.i&&(l.i=!1,Ex(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class _5 extends ft{constructor(h,_){super(),this.m=h,this.l=_,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ex(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nl(l){ft.call(this),this.h=l,this.g={}}E(Nl,ft);var Px=[];function xx(l){ve(l.g,function(h,_){this.g.hasOwnProperty(_)&&ty(h)},l),l.g={}}Nl.prototype.N=function(){Nl.aa.N.call(this),xx(this)},Nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oy=a.JSON.stringify,y5=a.JSON.parse,v5=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function sy(){}sy.prototype.h=null;function Ox(l){return l.h||(l.h=l.i())}function Ix(){}var Fl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ay(){tt.call(this,"d")}E(ay,tt);function cy(){tt.call(this,"c")}E(cy,tt);var Os={},Sx=null;function Mh(){return Sx=Sx||new cn}Os.La="serverreachability";function Dx(l){tt.call(this,Os.La,l)}E(Dx,tt);function Ll(l){let h=Mh();bn(h,new Dx(h))}Os.STAT_EVENT="statevent";function Tx(l,h){tt.call(this,Os.STAT_EVENT,l),this.stat=h}E(Tx,tt);function wn(l){let h=Mh();bn(h,new Tx(h,l))}Os.Ma="timingevent";function Ax(l,h){tt.call(this,Os.Ma,l),this.size=h}E(Ax,tt);function Vl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function jl(){this.g=!0}jl.prototype.xa=function(){this.g=!1};function C5(l,h,_,b,T,N){l.info(function(){if(l.g)if(N)for(var Q="",Ye=N.split("&"),Zt=0;Zt<Ye.length;Zt++){var je=Ye[Zt].split("=");if(1<je.length){var ln=je[0];je=je[1];var un=ln.split("_");Q=2<=un.length&&un[1]=="type"?Q+(ln+"="+je+"&"):Q+(ln+"=redacted&")}}else Q=null;else Q=N;return"XMLHTTP REQ ("+b+") [attempt "+T+"]: "+h+`
`+_+`
`+Q})}function b5(l,h,_,b,T,N,Q){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+T+"]: "+h+`
`+_+`
`+N+" "+Q})}function za(l,h,_,b){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+M5(l,_)+(b?" "+b:"")})}function w5(l,h){l.info(function(){return"TIMEOUT: "+h})}jl.prototype.info=function(){};function M5(l,h){if(!l.g)return h;if(!h)return null;try{var _=JSON.parse(h);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var b=_[l];if(!(2>b.length)){var T=b[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var Q=1;Q<T.length;Q++)T[Q]=""}}}}return oy(_)}catch{return h}}var Eh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ly;function Ph(){}E(Ph,sy),Ph.prototype.g=function(){return new XMLHttpRequest},Ph.prototype.i=function(){return{}},ly=new Ph;function Oo(l,h,_,b){this.j=l,this.i=h,this.l=_,this.R=b||1,this.U=new Nl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rx}function Rx(){this.i=null,this.g="",this.h=!1}var Nx={},uy={};function dy(l,h,_){l.L=1,l.v=Sh(Li(h)),l.m=_,l.P=!0,Fx(l,null)}function Fx(l,h){l.F=Date.now(),xh(l),l.A=Li(l.v);var _=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Qx(_.i,"t",b),l.C=0,_=l.j.J,l.h=new Rx,l.g=gO(l.j,_?h:null,!l.m),0<l.O&&(l.M=new _5(y(l.Y,l,l.g),l.O)),h=l.U,_=l.g,b=l.ca;var T="readystatechange";Array.isArray(T)||(T&&(Px[0]=T.toString()),T=Px);for(var N=0;N<T.length;N++){var Q=yx(_,T[N],b||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=l.H?M(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ll(),C5(l.i,l.u,l.A,l.l,l.R,l.m)}Oo.prototype.ca=function(l){l=l.target;let h=this.M;h&&Vi(l)==3?h.j():this.Y(l)},Oo.prototype.Y=function(l){try{if(l==this.g)e:{let un=Vi(this.g);var h=this.g.Ba();let Wa=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||rO(this.g)))){this.J||un!=4||h==7||(h==8||0>=Wa?Ll(3):Ll(2)),hy(this);var _=this.g.Z();this.X=_;t:if(Lx(this)){var b=rO(this.g);l="";var T=b.length,N=Vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Ul(this);var Q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,l+=this.h.i.decode(b[h],{stream:!(N&&h==T-1)});b.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,b5(this.i,this.u,this.A,this.l,this.R,un,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Zt=this.g;if((Ye=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ye)){var je=Ye;break t}}je=null}if(_=je)za(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fy(this,_);else{this.o=!1,this.s=3,wn(12),Is(this),Ul(this);break e}}if(this.P){_=!0;let Cr;for(;!this.J&&this.C<Q.length;)if(Cr=E5(this,Q),Cr==uy){un==4&&(this.s=4,wn(14),_=!1),za(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Nx){this.s=4,wn(15),za(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else za(this.i,this.l,Cr,null),fy(this,Cr);if(Lx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||Q.length!=0||this.h.h||(this.s=1,wn(16),_=!1),this.o=this.o&&_,!_)za(this.i,this.l,Q,"[Invalid Chunked Response]"),Is(this),Ul(this);else if(0<Q.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),vy(ln),ln.M=!0,wn(11))}}else za(this.i,this.l,Q,null),fy(this,Q);un==4&&Is(this),this.o&&!this.J&&(un==4?uO(this.j,this):(this.o=!1,xh(this)))}else B5(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Is(this),Ul(this)}}}catch{}finally{}};function Lx(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function E5(l,h){var _=l.C,b=h.indexOf(`
`,_);return b==-1?uy:(_=Number(h.substring(_,b)),isNaN(_)?Nx:(b+=1,b+_>h.length?uy:(h=h.slice(b,b+_),l.C=b+_,h)))}Oo.prototype.cancel=function(){this.J=!0,Is(this)};function xh(l){l.S=Date.now()+l.I,Vx(l,l.I)}function Vx(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Vl(y(l.ba,l),h)}function hy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Oo.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(w5(this.i,this.A),this.L!=2&&(Ll(),wn(17)),Is(this),this.s=2,Ul(this)):Vx(this,this.S-l)};function Ul(l){l.j.G==0||l.J||uO(l.j,l)}function Is(l){hy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,xx(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function fy(l,h){try{var _=l.j;if(_.G!=0&&(_.g==l||gy(_.h,l))){if(!l.K&&gy(_.h,l)&&_.G==3){try{var b=_.Da.g.parse(h)}catch{b=null}if(Array.isArray(b)&&b.length==3){var T=b;if(T[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Rh(_),Ah(_);else break e;yy(_),wn(18)}}else _.za=T[1],0<_.za-_.T&&37500>T[2]&&_.F&&_.v==0&&!_.C&&(_.C=Vl(y(_.Za,_),6e3));if(1>=Bx(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ds(_,11)}else if((l.K||_.g==l)&&Rh(_),!J(h))for(T=_.Da.g.parse(h),h=0;h<T.length;h++){let je=T[h];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];let ln=je[3];ln!=null&&(_.la=ln,_.j.info("VER="+_.la));let un=je[4];un!=null&&(_.Aa=un,_.j.info("SVER="+_.Aa));let Wa=je[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(b=1.5*Wa,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;let Cr=l.g;if(Cr){let Fh=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fh){var N=b.h;N.g||Fh.indexOf("spdy")==-1&&Fh.indexOf("quic")==-1&&Fh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(py(N,N.h),N.h=null))}if(b.D){let Cy=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cy&&(b.ya=Cy,rt(b.I,b.D,Cy))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var Q=l;if(b.qa=fO(b,b.J?b.ia:null,b.W),Q.K){$x(b.h,Q);var Ye=Q,Zt=b.L;Zt&&(Ye.I=Zt),Ye.B&&(hy(Ye),xh(Ye)),b.g=Q}else cO(b);0<_.i.length&&kh(_)}else je[0]!="stop"&&je[0]!="close"||Ds(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ds(_,7):_y(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Ll(4)}catch{}}var P5=class{constructor(l,h){this.g=l,this.map=h}};function jx(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ux(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Bx(l){return l.h?1:l.g?l.g.size:0}function gy(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function py(l,h){l.g?l.g.add(h):l.h=h}function $x(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}jx.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function zx(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let _ of l.g.values())h=h.concat(_.D);return h}return D(l.i)}function x5(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],_=l.length,b=0;b<_;b++)h.push(l[b]);return h}h=[],_=0;for(b in l)h[_++]=l[b];return h}function O5(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var _=0;_<l;_++)h.push(_);return h}h=[],_=0;for(let b in l)h[_++]=b;return h}}}function Hx(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var _=O5(l),b=x5(l),T=b.length,N=0;N<T;N++)h.call(void 0,b[N],_&&_[N],l)}var qx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I5(l,h){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var b=l[_].indexOf("="),T=null;if(0<=b){var N=l[_].substring(0,b);T=l[_].substring(b+1)}else N=l[_];h(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Ss(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ss){this.h=l.h,Oh(this,l.j),this.o=l.o,this.g=l.g,Ih(this,l.s),this.l=l.l;var h=l.i,_=new zl;_.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),Wx(this,_),this.m=l.m}else l&&(h=String(l).match(qx))?(this.h=!1,Oh(this,h[1]||"",!0),this.o=Bl(h[2]||""),this.g=Bl(h[3]||"",!0),Ih(this,h[4]),this.l=Bl(h[5]||"",!0),Wx(this,h[6]||"",!0),this.m=Bl(h[7]||"")):(this.h=!1,this.i=new zl(null,this.h))}Ss.prototype.toString=function(){var l=[],h=this.j;h&&l.push($l(h,Gx,!0),":");var _=this.g;return(_||h=="file")&&(l.push("//"),(h=this.o)&&l.push($l(h,Gx,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push($l(_,_.charAt(0)=="/"?T5:D5,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",$l(_,k5)),l.join("")};function Li(l){return new Ss(l)}function Oh(l,h,_){l.j=_?Bl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ih(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Wx(l,h,_){h instanceof zl?(l.i=h,R5(l.i,l.h)):(_||(h=$l(h,A5)),l.i=new zl(h,l.h))}function rt(l,h,_){l.i.set(h,_)}function Sh(l){return rt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Bl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function $l(l,h,_){return typeof l=="string"?(l=encodeURI(l).replace(h,S5),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function S5(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gx=/[#\/\?@]/g,D5=/[#\?:]/g,T5=/[#\?]/g,A5=/[#\?@]/g,k5=/#/g;function zl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Io(l){l.g||(l.g=new Map,l.h=0,l.i&&I5(l.i,function(h,_){l.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}n=zl.prototype,n.add=function(l,h){Io(this),this.i=null,l=Ha(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(h),this.h+=1,this};function Kx(l,h){Io(l),h=Ha(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Yx(l,h){return Io(l),h=Ha(l,h),l.g.has(h)}n.forEach=function(l,h){Io(this),this.g.forEach(function(_,b){_.forEach(function(T){l.call(h,T,b,this)},this)},this)},n.na=function(){Io(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),_=[];for(let b=0;b<h.length;b++){let T=l[b];for(let N=0;N<T.length;N++)_.push(h[b])}return _},n.V=function(l){Io(this);let h=[];if(typeof l=="string")Yx(this,l)&&(h=h.concat(this.g.get(Ha(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)h=h.concat(l[_])}return h},n.set=function(l,h){return Io(this),this.i=null,l=Ha(this,l),Yx(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Qx(l,h,_){Kx(l,h),0<_.length&&(l.i=null,l.g.set(Ha(l,h),D(_)),l.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var _=0;_<h.length;_++){var b=h[_];let N=encodeURIComponent(String(b)),Q=this.V(b);for(b=0;b<Q.length;b++){var T=N;Q[b]!==""&&(T+="="+encodeURIComponent(String(Q[b]))),l.push(T)}}return this.i=l.join("&")};function Ha(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function R5(l,h){h&&!l.j&&(Io(l),l.i=null,l.g.forEach(function(_,b){var T=b.toLowerCase();b!=T&&(Kx(this,b),Qx(this,T,_))},l)),l.j=h}function N5(l,h){let _=new jl;if(a.Image){let b=new Image;b.onload=v(So,_,"TestLoadImage: loaded",!0,h,b),b.onerror=v(So,_,"TestLoadImage: error",!1,h,b),b.onabort=v(So,_,"TestLoadImage: abort",!1,h,b),b.ontimeout=v(So,_,"TestLoadImage: timeout",!1,h,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else h(!1)}function F5(l,h){let _=new jl,b=new AbortController,T=setTimeout(()=>{b.abort(),So(_,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:b.signal}).then(N=>{clearTimeout(T),N.ok?So(_,"TestPingServer: ok",!0,h):So(_,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),So(_,"TestPingServer: error",!1,h)})}function So(l,h,_,b,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),b(_)}catch{}}function L5(){this.g=new v5}function V5(l,h,_){let b=_||"";try{Hx(l,function(T,N){let Q=T;u(T)&&(Q=oy(T)),h.push(b+N+"="+encodeURIComponent(Q))})}catch(T){throw h.push(b+"type="+encodeURIComponent("_badmap")),T}}function Hl(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Hl,sy),Hl.prototype.g=function(){return new Dh(this.l,this.j)},Hl.prototype.i=function(l){return function(){return l}}({});function Dh(l,h){cn.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Dh,cn),n=Dh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Wl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ql(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zx(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zx(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ql(this):Wl(this),this.readyState==3&&Zx(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ql(this))},n.Qa=function(l){this.g&&(this.response=l,ql(this))},n.ga=function(){this.g&&ql(this)};function ql(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Wl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var _=h.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=h.next();return l.join(`\r
`)};function Wl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Jx(l){let h="";return ve(l,function(_,b){h+=b,h+=":",h+=_,h+=`\r
`}),h}function my(l,h,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Jx(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):rt(l,h,_))}function pt(l){cn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(pt,cn);var j5=/^https?$/i,U5=["POST","PUT"];n=pt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ly.g(),this.v=this.o?Ox(this.o):Ox(ly),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){Xx(this,N);return}if(l=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var T in b)_.set(T,b[T]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let N of b.keys())_.set(N,b.get(N));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(U5,h,void 0))||b||T||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,Q]of _)this.g.setRequestHeader(N,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nO(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){Xx(this,N)}};function Xx(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,eO(l),Th(l)}function eO(l){l.A||(l.A=!0,bn(l,"complete"),bn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,bn(this,"complete"),bn(this,"abort"),Th(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Th(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tO(this):this.bb())},n.bb=function(){tO(this)};function tO(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Vi(l)!=4||l.Z()!=2)){if(l.u&&Vi(l)==4)Mx(l.Ea,0,l);else if(bn(l,"readystatechange"),Vi(l)==4){l.h=!1;try{let Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var _;if(!(_=h)){var b;if(b=Q===0){var T=String(l.D).match(qx)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),b=!j5.test(T?T.toLowerCase():"")}_=b}if(_)bn(l,"complete"),bn(l,"success");else{l.m=6;try{var N=2<Vi(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",eO(l)}}finally{Th(l)}}}}function Th(l,h){if(l.g){nO(l);let _=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||bn(l,"ready");try{_.onreadystatechange=b}catch{}}}function nO(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Vi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),y5(h)}};function rO(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function B5(l){let h={};l=(l.g&&2<=Vi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(J(l[b]))continue;var _=S(l[b]);let T=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let N=h[T]||[];h[T]=N,N.push(_)}O(h,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gl(l,h,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||h}function iO(l){this.Aa=0,this.i=[],this.j=new jl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gl("baseRetryDelayMs",5e3,l),this.cb=Gl("retryDelaySeedMs",1e4,l),this.Wa=Gl("forwardChannelMaxRetries",2,l),this.wa=Gl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new jx(l&&l.concurrentRequestLimit),this.Da=new L5,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iO.prototype,n.la=8,n.G=1,n.connect=function(l,h,_,b){wn(0),this.W=l,this.H=h||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=fO(this,null,this.W),kh(this)};function _y(l){if(oO(l),l.G==3){var h=l.U++,_=Li(l.I);if(rt(_,"SID",l.K),rt(_,"RID",h),rt(_,"TYPE","terminate"),Kl(l,_),h=new Oo(l,l.j,h),h.L=2,h.v=Sh(Li(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=h.v,_=!0),_||(h.g=gO(h.j,null),h.g.ea(h.v)),h.F=Date.now(),xh(h)}hO(l)}function Ah(l){l.g&&(vy(l),l.g.cancel(),l.g=null)}function oO(l){Ah(l),l.u&&(a.clearTimeout(l.u),l.u=null),Rh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function kh(l){if(!Ux(l.h)&&!l.s){l.s=!0;var h=l.Ga;se||yt(),ce||(se(),ce=!0),De.add(h,l),l.B=0}}function $5(l,h){return Bx(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Vl(y(l.Ga,l,h),dO(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let T=new Oo(this,this.j,l),N=this.o;if(this.S&&(N?(N=M(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var h=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(h+=b,4096<h){h=_;break e}if(h===4096||_===this.i.length-1){h=_+1;break e}}h=1e3}else h=1e3;h=aO(this,T,h),_=Li(this.I),rt(_,"RID",l),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Kl(this,_),N&&(this.O?h="headers="+encodeURIComponent(String(Jx(N)))+"&"+h:this.m&&my(_,this.m,N)),py(this.h,T),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",h),rt(_,"SID","null"),T.T=!0,dy(T,_,null)):dy(T,_,h),this.G=2}}else this.G==3&&(l?sO(this,l):this.i.length==0||Ux(this.h)||sO(this))};function sO(l,h){var _;h?_=h.l:_=l.U++;let b=Li(l.I);rt(b,"SID",l.K),rt(b,"RID",_),rt(b,"AID",l.T),Kl(l,b),l.m&&l.o&&my(b,l.m,l.o),_=new Oo(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),h&&(l.i=h.D.concat(l.i)),h=aO(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),py(l.h,_),dy(_,b,h)}function Kl(l,h){l.H&&ve(l.H,function(_,b){rt(h,b,_)}),l.l&&Hx({},function(_,b){rt(h,b,_)})}function aO(l,h,_){_=Math.min(l.i.length,_);var b=l.l?y(l.l.Na,l.l,l):null;e:{var T=l.i;let N=-1;for(;;){let Q=["count="+_];N==-1?0<_?(N=T[0].g,Q.push("ofs="+N)):N=0:Q.push("ofs="+N);let Ye=!0;for(let Zt=0;Zt<_;Zt++){let je=T[Zt].g,ln=T[Zt].map;if(je-=N,0>je)N=Math.max(0,T[Zt].g-100),Ye=!1;else try{V5(ln,Q,"req"+je+"_")}catch{b&&b(ln)}}if(Ye){b=Q.join("&");break e}}}return l=l.i.splice(0,_),h.D=l,b}function cO(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;se||yt(),ce||(se(),ce=!0),De.add(h,l),l.v=0}}function yy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Vl(y(l.Fa,l),dO(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,lO(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Vl(y(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Ah(this),lO(this))};function vy(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function lO(l){l.g=new Oo(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Li(l.qa);rt(h,"RID","rpc"),rt(h,"SID",l.K),rt(h,"AID",l.T),rt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&rt(h,"TO",l.ja),rt(h,"TYPE","xmlhttp"),Kl(l,h),l.m&&l.o&&my(h,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Sh(Li(h)),_.m=null,_.P=!0,Fx(_,l)}n.Za=function(){this.C!=null&&(this.C=null,Ah(this),yy(this),wn(19))};function Rh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function uO(l,h){var _=null;if(l.g==h){Rh(l),vy(l),l.g=null;var b=2}else if(gy(l.h,h))_=h.D,$x(l.h,h),b=1;else return;if(l.G!=0){if(h.o)if(b==1){_=h.m?h.m.length:0,h=Date.now()-h.F;var T=l.B;b=Mh(),bn(b,new Ax(b,_)),kh(l)}else cO(l);else if(T=h.s,T==3||T==0&&0<h.X||!(b==1&&$5(l,h)||b==2&&yy(l)))switch(_&&0<_.length&&(h=l.h,h.i=h.i.concat(_)),T){case 1:Ds(l,5);break;case 4:Ds(l,10);break;case 3:Ds(l,6);break;default:Ds(l,2)}}}function dO(l,h){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*h}function Ds(l,h){if(l.j.info("Error code "+h),h==2){var _=y(l.fb,l),b=l.Xa;let T=!b;b=new Ss(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oh(b,"https"),Sh(b),T?N5(b.toString(),_):F5(b.toString(),_)}else wn(2);l.G=0,l.l&&l.l.sa(h),hO(l),oO(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function hO(l){if(l.G=0,l.ka=[],l.l){let h=zx(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function fO(l,h,_){var b=_ instanceof Ss?Li(_):new Ss(_);if(b.g!="")h&&(b.g=h+"."+b.g),Ih(b,b.s);else{var T=a.location;b=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var N=new Ss(null);b&&Oh(N,b),h&&(N.g=h),T&&Ih(N,T),_&&(N.l=_),b=N}return _=l.D,h=l.ya,_&&h&&rt(b,_,h),rt(b,"VER",l.la),Kl(l,b),b}function gO(l,h,_){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new pt(new Hl({eb:_})):new pt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pO(){}n=pO.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Nh(){}Nh.prototype.g=function(l,h){return new $n(l,h)};function $n(l,h){cn.call(this),this.g=new iO(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!J(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!J(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new qa(this)}E($n,cn),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){_y(this.g)},$n.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=oy(l),l=_);h.i.push(new P5(h.Ya++,l)),h.G==3&&kh(h)},$n.prototype.N=function(){this.g.l=null,delete this.j,_y(this.g),delete this.g,$n.aa.N.call(this)};function mO(l){ay.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let _ in h){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(mO,ay);function _O(){cy.call(this),this.status=1}E(_O,cy);function qa(l){this.g=l}E(qa,pO),qa.prototype.ua=function(){bn(this.g,"a")},qa.prototype.ta=function(l){bn(this.g,new mO(l))},qa.prototype.sa=function(l){bn(this.g,new _O)},qa.prototype.ra=function(){bn(this.g,"b")},Nh.prototype.createWebChannel=Nh.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,VM=go.createWebChannelTransport=function(){return new Nh},LM=go.getStatEventTarget=function(){return Mh()},FM=go.Event=Os,wm=go.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eh.NO_ERROR=0,Eh.TIMEOUT=8,Eh.HTTP_ERROR=6,Ud=go.ErrorCode=Eh,kx.COMPLETE="complete",NM=go.EventType=kx,Ix.EventType=Fl,Fl.OPEN="a",Fl.CLOSE="b",Fl.ERROR="c",Fl.MESSAGE="d",cn.prototype.listen=cn.prototype.K,rl=go.WebChannel=Ix,pH=go.FetchXmlHttpFactory=Hl,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,RM=go.XhrIo=pt}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});var eN="@firebase/firestore",tN="4.8.0";var qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");var Ml="11.10.0";var Da=new _i("@firebase/firestore");function il(){return Da.logLevel}function te(n,...e){if(Da.logLevel<=ke.DEBUG){let t=e.map(xP);Da.debug(`Firestore (${Ml}): ${n}`,...t)}}function po(n,...e){if(Da.logLevel<=ke.ERROR){let t=e.map(xP);Da.error(`Firestore (${Ml}): ${n}`,...t)}}function ms(n,...e){if(Da.logLevel<=ke.WARN){let t=e.map(xP);Da.warn(`Firestore (${Ml}): ${n}`,...t)}}function xP(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function he(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,GN(n,r,t)}function GN(n,e,t){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw po(r),new Error(r)}function He(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||GN(e,i,r)}function be(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends Sn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Sm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zM=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}},HM=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},qM=class{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new Sm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new qt(e)}},WM=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},GM=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new WM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},KM=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);let r=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function mH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function KN(){return new TextEncoder}var Wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=mH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Se(n,e){return n<e?-1:n>e?1:0}function YM(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Se(r,i);{let o=KN(),s=_H(o.encode(nN(n,t)),o.encode(nN(e,t)));return s!==0?s:Se(r,i)}}t+=r>65535?2:1}return Se(n.length,e.length)}function nN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _H(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Se(n[t],e[t]);return Se(n.length,e.length)}function dl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var rN="__name__",Tm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&he(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&he(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):YM(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}},ct=class n extends Tm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},yH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jn=class n extends Tm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return yH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rN}static keyField(){return new n([rN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var le=class n{constructor(e){this.path=e}static fromPath(e){return new n(ct.fromString(e))}static fromName(e){return new n(ct.fromString(e).popFirst(5))}static empty(){return new n(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ct(e.slice()))}};function YN(n,e,t){if(!t)throw new Z(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vH(n,e,t,r){if(e===!0&&r===!0)throw new Z(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iN(n){if(!le.isDocumentKey(n))throw new Z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oN(n){if(le.isDocumentKey(n))throw new Z(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function l_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":he(12329,{type:typeof n})}function Un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=l_(n);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function At(n,e){let t={typeString:n};return e&&(t.value=e),t}function ah(n,e){if(!QN(n))throw new Z(j.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Z(j.INVALID_ARGUMENT,t);return!0}var sN=-62135596800,aN=1e6,kt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*aN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sN)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aN}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ah(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-sN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:At("string",kt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};var Ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new kt(0,0))}static max(){return new n(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gd=-1,QM=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};QM.UNKNOWN_ID=-1;function CH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new Ta(i,le.empty(),e)}function bH(n){return new Ta(n.readTime,n.key,Gd)}var Ta=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ee.min(),le.empty(),Gd)}static max(){return new n(Ee.max(),le.empty(),Gd)}};function wH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}var MH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ZM=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function El(n){return w(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==MH)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function EH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pl(n){return n.name==="IndexedDbTransactionError"}var OP=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),IP=-1;function u_(n){return n==null}function Kd(n){return n===0&&1/n==-1/0}function PH(n){return typeof n=="number"&&Number.isInteger(n)&&!Kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var ZN="";function xH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cN(e)),e=OH(n.get(t),e);return cN(e)}function OH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case ZN:t+="";break;default:t+=o}}return t}function cN(n){return n+ZN+""}var IH="remoteDocuments",JN="owner";var XN="mutationQueues";var e2="mutations";var t2="documentMutations",SH="remoteDocumentsV14";var n2="remoteDocumentGlobal";var r2="targets";var i2="targetDocuments";var o2="targetGlobal",s2="collectionParents";var a2="clientMetadata";var c2="bundles";var l2="namedQueries";var DH="indexConfiguration";var TH="indexState";var AH="indexEntries";var u2="documentOverlays";var kH="globals";var RH=[XN,e2,t2,IH,r2,JN,o2,i2,a2,n2,s2,c2,l2],npe=[...RH,u2],NH=[XN,e2,t2,SH,r2,JN,o2,i2,a2,n2,s2,c2,l2,u2],FH=NH,LH=[...FH,DH,TH,AH];var rpe=[...LH,kH];function lN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ws(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var _t=class n{constructor(e,t){this.comparator=e,this.root=t||Ei.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cl(this.root,e,this.comparator,!0)}},cl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ei=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}};Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1;Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ei(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Wt=class n{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Am(this.data.getIterator())}getIteratorFrom(e){return new Am(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Am=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _r=class n{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Wt(Jn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var km=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Cn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new km("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Cn.EMPTY_BYTE_STRING=new Cn("");var VH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(n){if(He(!!n,39018),typeof n=="string"){let e=0,t=VH.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _o(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}var h2="server_timestamp",f2="__type__",g2="__previous_value__",p2="__local_write_time__";function SP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[f2])===null||t===void 0?void 0:t.stringValue)===h2}function d_(n){let e=n.mapValue.fields[g2];return SP(e)?d_(e):e}function Yd(n){let e=mo(n.mapValue.fields[p2].timestampValue);return new kt(e.seconds,e.nanos)}var JM=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},Rm="(default)",Nm=class n{constructor(e,t){this.projectId=e,this.database=t||Rm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Rm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var DP="__type__",m2="__max__",Mm={mapValue:{fields:{__type__:{stringValue:m2}}}},TP="__vector__",hl="value";function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?SP(n)?4:y2(n)?9007199254740991:_2(n)?10:11:he(28295,{value:n})}function Ii(n,e){if(n===e)return!0;let t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yd(n).isEqual(Yd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mo(i.timestampValue),a=mo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return _o(i.bytesValue).isEqual(_o(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=at(i.doubleValue),a=at(o.doubleValue);return s===a?Kd(s)===Kd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return dl(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lN(s)!==lN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ii(s[c],a[c])))return!1;return!0}(n,e);default:return he(52216,{left:n})}}function Qd(n,e){return(n.values||[]).find(t=>Ii(t,e))!==void 0}function fl(n,e){if(n===e)return 0;let t=_s(n),r=_s(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=at(o.integerValue||o.doubleValue),c=at(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return uN(n.timestampValue,e.timestampValue);case 4:return uN(Yd(n),Yd(e));case 5:return YM(n.stringValue,e.stringValue);case 6:return function(o,s){let a=_o(o),c=_o(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Se(a[u],c[u]);if(d!==0)return d}return Se(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(at(o.latitude),at(s.latitude));return a!==0?a:Se(at(o.longitude),at(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dN(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let p=o.fields||{},y=s.fields||{},v=(a=p[hl])===null||a===void 0?void 0:a.arrayValue,E=(c=y[hl])===null||c===void 0?void 0:c.arrayValue,D=Se(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:dN(v,E)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Mm.mapValue&&s===Mm.mapValue)return 0;if(o===Mm.mapValue)return 1;if(s===Mm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let y=YM(c[p],d[p]);if(y!==0)return y;let v=fl(a[c[p]],u[d[p]]);if(v!==0)return v}return Se(c.length,d.length)}(n.mapValue,e.mapValue);default:throw he(23264,{le:t})}}function uN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);let t=mo(n),r=mo(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function dN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=fl(t[i],r[i]);if(o)return o}return Se(t.length,r.length)}function gl(n){return XM(n)}function XM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=mo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=XM(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${XM(t.fields[s])}`;return i+"}"}(n.mapValue):he(61005,{value:n})}function xm(n){switch(_s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=d_(n);return e?16+xm(e):16;case 5:return 2*n.stringValue.length;case 6:return _o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+xm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ws(r.fields,(o,s)=>{i+=o.length+xm(s)}),i}(n.mapValue);default:throw he(13486,{value:n})}}function hN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eE(n){return!!n&&"integerValue"in n}function AP(n){return!!n&&"arrayValue"in n}function fN(n){return!!n&&"nullValue"in n}function gN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Om(n){return!!n&&"mapValue"in n}function _2(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[DP])===null||t===void 0?void 0:t.stringValue)===TP}function $d(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$d(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$d(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}var ope={mapValue:{fields:{[DP]:{stringValue:TP},[hl]:{arrayValue:{}}}}};var Zn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$d(t)}setAll(e){let t=Jn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=$d(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ws(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($d(this.value))}};function v2(n){let e=[];return ws(n.fields,(t,r)=>{let i=new Jn([t]);if(Om(r)){let o=v2(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _r(e)}var Wr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ee.min(),Ee.min(),Ee.min(),Zn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ee.min(),Ee.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ee.min(),Ee.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pl=class{constructor(e,t){this.position=e,this.inclusive=t}};function pN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(s.referenceValue),t.key):r=fl(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ii(n.position[t],e.position[t]))return!1;return!0}var Aa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function jH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fm=class{},Tt=class n extends Fm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nE(e,t,r):t==="array-contains"?new oE(e,r):t==="in"?new sE(e,r):t==="not-in"?new aE(e,r):t==="array-contains-any"?new cE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rE(e,r):new iE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fl(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gr=class n extends Fm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return C2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function C2(n){return n.op==="and"}function b2(n){return UH(n)&&C2(n)}function UH(n){for(let e of n.filters)if(e instanceof Gr)return!1;return!0}function tE(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+gl(n.value);if(b2(n))return n.filters.map(e=>tE(e)).join(",");{let e=n.filters.map(t=>tE(t)).join(",");return`${n.op}(${e})`}}function w2(n,e){return n instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Ii(r.value,i.value)}(n,e):n instanceof Gr?function(r,i){return i instanceof Gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&w2(s,i.filters[a]),!0):!1}(n,e):void he(19439)}function M2(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`}(n):n instanceof Gr?function(t){return t.op.toString()+" {"+t.getFilters().map(M2).join(" ,")+"}"}(n):"Filter"}var nE=class extends Tt{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){let t=le.comparator(e.key,this.key);return this.matchesComparison(t)}},rE=class extends Tt{constructor(e,t){super(e,"in",t),this.keys=E2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},iE=class extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=E2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function E2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>le.fromName(r.referenceValue))}var oE=class extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return AP(t)&&Qd(t.arrayValue,this.value)}},sE=class extends Tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qd(this.value.arrayValue,t)}},aE=class extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qd(this.value.arrayValue,t)}},cE=class extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!AP(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qd(this.value.arrayValue,r))}};var lE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function _N(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lE(n,e,t,r,i,o,s)}function kP(n){let e=be(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),u_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gl(r)).join(",")),e.Pe=t}return e.Pe}function RP(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!w2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mN(n.startAt,e.startAt)&&mN(n.endAt,e.endAt)}function uE(n){return le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ys=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function BH(n,e,t,r,i,o,s,a){return new ys(n,e,t,r,i,o,s,a)}function h_(n){return new ys(n)}function yN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P2(n){return n.collectionGroup!==null}function zd(n){let e=be(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Wt(Jn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Aa(o,r))}),t.has(Jn.keyField().canonicalString())||e.Te.push(new Aa(Jn.keyField(),r))}return e.Te}function Pi(n){let e=be(n);return e.Ie||(e.Ie=$H(e,zd(n))),e.Ie}function $H(n,e){if(n.limitType==="F")return _N(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Aa(i.field,o)});let t=n.endAt?new pl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pl(n.startAt.position,n.startAt.inclusive):null;return _N(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dE(n,e){let t=n.filters.concat([e]);return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hE(n,e,t){return new ys(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function f_(n,e){return RP(Pi(n),Pi(e))&&n.limitType===e.limitType}function x2(n){return`${kP(Pi(n))}|lt:${n.limitType}`}function ol(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>M2(i)).join(", ")}]`),u_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>gl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>gl(i)).join(",")),`Target(${r})`}(Pi(n))}; limitType=${n.limitType})`}function g_(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of zd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=pN(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,zd(r),i)||r.endAt&&!function(s,a,c){let u=pN(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,zd(r),i))}(n,e)}function zH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O2(n){return(e,t)=>{let r=!1;for(let i of zd(n)){let o=HH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function HH(n,e,t){let r=n.field.isKeyField()?le.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?fl(c,u):he(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:n.dir})}}var yo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return d2(this.inner)}size(){return this.innerSize}};var qH=new _t(le.comparator);function vo(){return qH}var I2=new _t(le.comparator);function Bd(...n){let e=I2;for(let t of n)e=e.insert(t.key,t);return e}function S2(n){let e=I2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Pa(){return Hd()}function D2(){return Hd()}function Hd(){return new yo(n=>n.toString(),(n,e)=>n.isEqual(e))}var WH=new _t(le.comparator),GH=new Wt(le.comparator);function Ne(...n){let e=GH;for(let t of n)e=e.add(t);return e}var KH=new Wt(Se);function YH(){return KH}function NP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function T2(n){return{integerValue:""+n}}function QH(n,e){return PH(e)?T2(e):NP(n,e)}var ml=class{constructor(){this._=void 0}};function ZH(n,e,t){return n instanceof _l?function(i,o){let s={fields:{[f2]:{stringValue:h2},[p2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SP(o)&&(o=d_(o)),o&&(s.fields[g2]=o),{mapValue:s}}(t,e):n instanceof ka?k2(n,e):n instanceof Ra?R2(n,e):function(i,o){let s=A2(i,o),a=vN(s)+vN(i.Ee);return eE(s)&&eE(i.Ee)?T2(a):NP(i.serializer,a)}(n,e)}function JH(n,e,t){return n instanceof ka?k2(n,e):n instanceof Ra?R2(n,e):t}function A2(n,e){return n instanceof yl?function(r){return eE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var _l=class extends ml{},ka=class extends ml{constructor(e){super(),this.elements=e}};function k2(n,e){let t=N2(e);for(let r of n.elements)t.some(i=>Ii(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ra=class extends ml{constructor(e){super(),this.elements=e}};function R2(n,e){let t=N2(e);for(let r of n.elements)t=t.filter(i=>!Ii(i,r));return{arrayValue:{values:t}}}var yl=class extends ml{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function vN(n){return at(n.integerValue||n.doubleValue)}function N2(n){return AP(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function XH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ka&&i instanceof ka||r instanceof Ra&&i instanceof Ra?dl(r.elements,i.elements,Ii):r instanceof yl&&i instanceof yl?Ii(r.Ee,i.Ee):r instanceof _l&&i instanceof _l}(n.transform,e.transform)}var fE=class{constructor(e,t){this.version=e,this.transformResults=t}},xi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Im(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vl=class{};function F2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zd(n.key,xi.none()):new Na(n.key,n.data,xi.none());{let t=n.data,r=Zn.empty(),i=new Wt(Jn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Si(n.key,r,new _r(i.toArray()),xi.none())}}function eq(n,e,t){n instanceof Na?function(i,o,s){let a=i.value.clone(),c=bN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Si?function(i,o,s){if(!Im(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(L2(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function qd(n,e,t,r){return n instanceof Na?function(o,s,a,c){if(!Im(o.precondition,s))return a;let u=o.value.clone(),d=wN(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Si?function(o,s,a,c){if(!Im(o.precondition,s))return a;let u=wN(o.fieldTransforms,c,s),d=s.data;return d.setAll(L2(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Im(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function tq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=A2(r.transform,i||null);o!=null&&(t===null&&(t=Zn.empty()),t.set(r.field,o))}return t||null}function CN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dl(r,i,(o,s)=>XH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Na=class extends vl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Si=class extends vl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function L2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function bN(n,e,t){let r=new Map;He(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,JH(s,a,t[i]))}return r}function wN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,ZH(o,s,e))}return r}var Zd=class extends vl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},gE=class extends vl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&eq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=qd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=qd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=D2();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=F2(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(t,r)=>CN(t,r))&&dl(this.baseMutations,e.baseMutations,(t,r)=>CN(t,r))}},mE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return WH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var _E=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var St,Le;function nq(n){switch(n){case j.OK:return he(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return he(15467,{code:n})}}function V2(n){if(n===void 0)return po("GRPC error has no .code"),j.UNKNOWN;switch(n){case St.OK:return j.OK;case St.CANCELLED:return j.CANCELLED;case St.UNKNOWN:return j.UNKNOWN;case St.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case St.INTERNAL:return j.INTERNAL;case St.UNAVAILABLE:return j.UNAVAILABLE;case St.UNAUTHENTICATED:return j.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case St.NOT_FOUND:return j.NOT_FOUND;case St.ALREADY_EXISTS:return j.ALREADY_EXISTS;case St.PERMISSION_DENIED:return j.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case St.ABORTED:return j.ABORTED;case St.OUT_OF_RANGE:return j.OUT_OF_RANGE;case St.UNIMPLEMENTED:return j.UNIMPLEMENTED;case St.DATA_LOSS:return j.DATA_LOSS;default:return he(39323,{code:n})}}(Le=St||(St={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";var MN=null;var rq=new fo([4294967295,4294967295],0);function EN(n){let e=KN().encode(n),t=new kM;return t.update(e),new Uint8Array(t.digest())}function PN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([t,r],0),new fo([i,o],0)]}var vE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xa(`Invalid padding: ${t}`);if(r<0)throw new xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xa(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fo.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(fo.fromNumber(r)));return i.compare(rq)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=EN(e),[r,i]=PN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=EN(e),[r,i]=PN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},xa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Lm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Jd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ee.min(),i,new _t(Se),vo(),Ne())}},Jd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ne(),Ne(),Ne())}};var ll=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Vm=class{constructor(e,t){this.targetId=e,this.De=t}},jm=class{constructor(e,t,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Um=class{constructor(){this.ve=0,this.Ce=xN(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ne(),t=Ne(),r=Ne();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:o})}}),new Jd(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=xN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},CE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=vo(),this.je=Em(),this.Je=Em(),this.He=new _t(Se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(uE(o))if(r===0){let s=new le(o.path);this.Xe(t,s,Wr.newNoDocument(s,Ee.min()))}else He(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}MN?.ct(function(d,p,y,v,E){var D,k,B,J,ee,ie;let Be={localCacheCount:d,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ve=p.unchangedNames;return ve&&(Be.bloomFilter={applied:E===0,hashCount:(D=ve?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(J=(B=(k=ve?.bits)===null||k===void 0?void 0:k.bitmap)===null||B===void 0?void 0:B.length)!==null&&J!==void 0?J:0,padding:(ie=(ee=ve?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ie!==void 0?ie:0,mightContain:O=>{var M;return(M=v?.mightContain(O))!==null&&M!==void 0&&M}}),Be}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=_o(r).toUint8Array()}catch(c){if(c instanceof km)return ms("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new vE(s,i,o)}catch(c){return ms(c instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&uE(a.target)){let c=new le(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Wr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ne();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Lm(e,t,this.He,this.ze,r);return this.ze=vo(),this.je=Em(),this.Je=Em(),this.He=new _t(Se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Um,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Wt(Se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Wt(Se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Um),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Em(){return new _t(le.comparator)}function xN(){return new _t(le.comparator)}var iq={asc:"ASCENDING",desc:"DESCENDING"},oq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sq={and:"AND",or:"OR"},bE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function wE(n,e){return n.useProto3Json||u_(e)?e:{value:e}}function Bm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aq(n,e){return Bm(n,e.toTimestamp())}function Oi(n){return He(!!n,49232),Ee.fromTimestamp(function(t){let r=mo(t);return new kt(r.seconds,r.nanos)}(n))}function FP(n,e){return ME(n,e).canonicalString()}function ME(n,e){let t=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function U2(n){let e=ct.fromString(n);return He(q2(e),10190,{key:e.toString()}),e}function EE(n,e){return FP(n.databaseId,e.path)}function jM(n,e){let t=U2(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new le($2(t))}function B2(n,e){return FP(n.databaseId,e)}function cq(n){let e=U2(n);return e.length===4?ct.emptyPath():$2(e)}function PE(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $2(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ON(n,e,t){return{name:EE(n,e),fields:t.value.mapValue.fields}}function lq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(He(d===void 0||typeof d=="string",58123),Cn.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Cn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?j.UNKNOWN:V2(u.code);return new Z(d,u.message||"")}(s);t=new jm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jM(n,r.document.name),o=Oi(r.document.updateTime),s=r.document.createTime?Oi(r.document.createTime):Ee.min(),a=new Zn({mapValue:{fields:r.document.fields}}),c=Wr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new ll(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jM(n,r.document),o=r.readTime?Oi(r.readTime):Ee.min(),s=Wr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ll([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jM(n,r.document),o=r.removedTargetIds||[];t=new ll([],o,i,null)}else{if(!("filter"in e))return he(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new yE(i,o),a=r.targetId;t=new Vm(a,s)}}return t}function uq(n,e){let t;if(e instanceof Na)t={update:ON(n,e.key,e.value)};else if(e instanceof Zd)t={delete:EE(n,e.key)};else if(e instanceof Si)t={update:ON(n,e.key,e.data),updateMask:vq(e.fieldMask)};else{if(!(e instanceof gE))return he(16599,{Rt:e.type});t={verify:EE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof _l)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ka)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ra)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw he(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he(27497)}(n,e.precondition)),t}function dq(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Oi(i.updateTime):Oi(o);return s.isEqual(Ee.min())&&(s=Oi(o)),new fE(s,i.transformResults||[])}(t,e))):[]}function hq(n,e){return{documents:[B2(n,e.path)]}}function fq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=B2(n,i);let o=function(u){if(u.length!==0)return H2(Gr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(y){return{field:sl(y.field),direction:mq(y.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=wE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function gq(n){let e=cq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){He(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(p){let y=z2(p);return y instanceof Gr&&b2(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(E){return new Aa(al(E.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,u_(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(p){let y=!!p.before,v=p.values||[];return new pl(v,y)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let y=!p.before,v=p.values||[];return new pl(v,y)}(t.endAt)),BH(e,i,s,o,a,"F",c,u)}function pq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=al(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=al(t.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=al(t.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=al(t.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(al(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gr.create(t.compositeFilter.filters.map(r=>z2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(t.compositeFilter.op))}(n):he(30097,{filter:n})}function mq(n){return iq[n]}function _q(n){return oq[n]}function yq(n){return sq[n]}function sl(n){return{fieldPath:n.canonicalString()}}function al(n){return Jn.fromServerFormat(n.fieldPath)}function H2(n){return n instanceof Tt?function(t){if(t.op==="=="){if(gN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NAN"}};if(fN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NOT_NAN"}};if(fN(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(t.field),op:_q(t.op),value:t.value}}}(n):n instanceof Gr?function(t){let r=t.getFilters().map(i=>H2(i));return r.length===1?r[0]:{compositeFilter:{op:yq(t.op),filters:r}}}(n):he(54877,{filter:n})}function vq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Xd=class n{constructor(e,t,r,i,o=Ee.min(),s=Ee.min(),a=Cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xE=class{constructor(e){this.gt=e}};function Cq(n){let e=gq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hE(e,e.limit,"L"):e}var $m=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(at(e.integerValue));else if("doubleValue"in e){let r=at(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Kd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=mo(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(_o(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?y2(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):_2(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):he(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=hl,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(at(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),le.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};$m.Ut=new $m;var OE=class{constructor(){this.Dn=new IE}addToCollectionParentIndex(e,t){return this.Dn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Ta.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}},IE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wt(ct.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(ct.comparator)).toArray()}};var spe=new Uint8Array(0);var IN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W2=41943040,mr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(W2,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);var eh=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var SN="LruGarbageCollector",bq=1048576;function DN([n,e],[t,r]){let i=Se(n,t);return i===0?Se(e,r):i}var SE=class{constructor(e){this.Tr=e,this.buffer=new Wt(DN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();DN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},DE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(SN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pl(t)?te(SN,"Ignoring IndexedDB error during garbage collection: ",t):yield El(t)}yield this.Rr(3e5)}))}},TE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return q.resolve(OP.ue);let r=new SE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(IN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),il()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function wq(n,e){return new TE(n,e)}var AE=class{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var RE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qd(r.mutation,i,_r.empty(),kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){let i=Pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Bd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=vo(),s=Hd(),a=function(){return Hd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Si)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),qd(d.mutation,u,d.mutation.getFieldMask(),kt.now())):s.set(u.key,_r.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new kE(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Hd(),i=new _t((s,a)=>s-a),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||_r.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Ne()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=D2();d.forEach(y=>{if(!o.has(y)){let v=F2(t.get(y),r.get(y));v!==null&&p.set(y,v),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):q.resolve(Pa()),a=Gd,c=o;return s.next(u=>q.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{c=c.insert(d,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Ne())).next(d=>({batchId:a,changes:S2(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(r=>{let i=Bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Bd();return this.indexManager.getCollectionParents(e,o).next(a=>q.forEach(a,c=>{let u=function(p,y){return new ys(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Wr.newInvalidDocument(d)))});let a=Bd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&qd(d.mutation,u,_r.empty(),kt.now()),g_(t,u)&&(a=a.insert(c,u))}),a})}};var NE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Cq(i.bundledQuery),readTime:Oi(i.readTime)}}(t)),q.resolve()}};var FE=class{constructor(){this.overlays=new _t(le.comparator),this.kr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Pa();return q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){let i=Pa(),o=t.length+1,s=new le(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new _t((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Pa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Pa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return q.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _E(t,r));let o=this.kr.get(t);o===void 0&&(o=Ne(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var LE=class{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}};var th=class{constructor(){this.qr=new Wt(Dt.Qr),this.$r=new Wt(Dt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Dt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Dt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new le(new ct([])),r=new Dt(t,e),i=new Dt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new le(new ct([])),r=new Dt(t,e),i=new Dt(t,e+1),o=Ne();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Dt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Dt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return le.comparator(e.key,t.key)||Se(e.Hr,t.Hr)}static Ur(e,t){return Se(e.Hr,t.Hr)||le.comparator(e.key,t.key)}};var VE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Wt(Dt.Qr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new pE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,t){return q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?IP:this.er-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Dt(t,0),i=new Dt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Se);return t.forEach(i=>{let o=new Dt(i,0),s=new Dt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),q.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;le.isDocumentKey(o)||(o=o.child(""));let s=new Dt(new le(o),0),a=new Wt(Se);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),q.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){He(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return q.forEach(t.mutations,i=>{let o=new Dt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Dt(t,0),i=this.Yr.firstAfterOrEqual(r);return q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var jE=class{constructor(e){this.ni=e,this.docs=function(){return new _t(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let r=vo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wr.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vo(),s=t.path,a=new le(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||wH(bH(d),r)<=0||(i.has(d.key)||g_(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){he(9500)}ri(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new UE(this)}getSize(e){return q.resolve(this.size)}},UE=class extends AE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var BE=class{constructor(e){this.persistence=e,this.ii=new yo(t=>kP(t),RP),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.si=0,this.oi=new th,this.targetCount=0,this._i=eh.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),q.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new eh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.hr(t),q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(o).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.oi.containsKey(t))}};var zm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new OP(0),this.ci=!1,this.ci=!0,this.li=new LE,this.referenceDelegate=e(this),this.hi=new BE(this),this.indexManager=new OE,this.remoteDocumentCache=function(i){return new jE(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new xE(t),this.Ti=new NE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new VE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new $E(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return q.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},$E=class extends ZM{constructor(e){super(),this.currentSequenceNumber=e}},zE=class n{constructor(e){this.persistence=e,this.Ai=new th,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw he(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.mi,r=>{let i=le.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Ee.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return q.or([()=>q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Hm=class n{constructor(e,t){this.persistence=e,this.gi=new yo(r=>xH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return q.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xm(e.data.value)),t}Sr(e,t,r){return q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var HE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ne(),i=Ne();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var qE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var WE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return pk()?8:EH(Ht())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new qE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(il()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),q.resolve()):(il()<=ke.DEBUG&&te("QueryEngine","Query:",ol(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(il()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):q.resolve())}ps(e,t){if(yN(t))return q.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hE(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ne(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,hE(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return yN(t)||i.isEqual(Ee.min())?q.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?q.resolve(null):(il()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(t)),this.vs(e,s,t,CH(i,Gd)).next(a=>a))})}bs(e,t){let r=new Wt(O2(e));return t.forEach((i,o)=>{g_(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return il()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ol(t)),this.gs.getDocumentsMatchingQuery(e,t,Ta.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var LP="LocalStore",Mq=3e8,GE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new _t(Se),this.Ms=new yo(o=>kP(o),RP),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Eq(n,e,t,r){return new GE(n,e,t,r)}function G2(n,e){return w(this,null,function*(){let t=be(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ne();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function Pq(n,e){let t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,y=p.keys(),v=q.resolve();return y.forEach(E=>{v=v.next(()=>d.getEntry(c,E)).next(D=>{let k=u.docVersions.get(E);He(k!==null,48541),D.version.compareTo(k)<0&&(p.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function K2(n){let e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function xq(n,e){let t=be(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,p)=>{let y=i.get(p);if(!y)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,p)));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Cn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),function(D,k,B){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Mq?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(y,v,d)&&a.push(t.hi.updateTargetData(o,v))});let c=vo(),u=Ne();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(Oq(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(Ee.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function Oq(n,e,t){let r=Ne(),i=Ne();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=vo();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te(LP,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function Iq(n,e){let t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=IP),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sq(n,e){let t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,q.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Xd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function KE(n,e,t){return w(this,null,function*(){let r=be(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Pl(s))throw s;te(LP,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function TN(n,e,t){let r=be(n),i=Ee.min(),o=Ne();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let p=be(c),y=p.Ms.get(d);return y!==void 0?q.resolve(p.Fs.get(y)):p.hi.getTargetData(u,d)}(r,s,Pi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Ee.min(),t?o:Ne())).next(a=>(Dq(r,zH(e),a),{documents:a,qs:o})))}function Dq(n,e,t){let r=n.xs.get(e)||Ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var qm=class{constructor(){this.activeTargetIds=YH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var YE=class{constructor(){this.Fo=new qm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new qm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var QE=class{xo(e){}shutdown(){}};var AN="ConnectivityMonitor",Wm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(AN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){te(AN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pm=null;function ZE(){return Pm===null?Pm=function(){return 268435456+Math.round(2147483648*Math.random())}():Pm++,"0x"+Pm.toString(16)}var UM="RestConnection",Tq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},JE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Rm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=ZE(),a=this.Go(e,t.toUriEncodedString());te(UM,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=pi(u);return this.jo(e,a,c,r,d).then(p=>(te(UM,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ms(UM,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Tq[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var XE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var vn="WebChannelConnection",eP=class extends JE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=ZE();return new Promise((a,c)=>{let u=new RM;u.setWithCredentials(!0),u.listenOnce(NM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ud.NO_ERROR:let p=u.getResponseJson();te(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ud.TIMEOUT:te(vn,`RPC '${e}' ${s} timed out`),c(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:let y=u.getStatus();if(te(vn,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let E=v?.error;if(E&&E.status&&E.message){let D=function(B){let J=B.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(J)>=0?J:j.UNKNOWN}(E.status);c(new Z(D,E.message))}else c(new Z(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Z(j.UNAVAILABLE,"Connection failed."));break;default:he(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(vn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);te(vn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=ZE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=VM(),a=LM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");te(vn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c);this.T_(p);let y=!1,v=!1,E=new XE({Ho:k=>{v?te(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(y||(te(vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),te(vn,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Yo:()=>p.close()}),D=(k,B,J)=>{k.listen(B,ee=>{try{J(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return D(p,rl.EventType.OPEN,()=>{v||(te(vn,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),D(p,rl.EventType.CLOSE,()=>{v||(v=!0,te(vn,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(p))}),D(p,rl.EventType.ERROR,k=>{v||(v=!0,ms(vn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),E.__(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),D(p,rl.EventType.MESSAGE,k=>{var B;if(!v){let J=k.data[0];He(!!J,16349);let ee=J,ie=ee?.error||((B=ee[0])===null||B===void 0?void 0:B.error);if(ie){te(vn,`RPC '${e}' stream ${i} received error:`,ie);let Be=ie.status,ve=function(P){let I=St[P];if(I!==void 0)return V2(I)}(Be),O=ie.message;ve===void 0&&(ve=j.INTERNAL,O="Unknown error status: "+Be+" with message "+ie.message),v=!0,E.__(new Z(ve,O)),p.close()}else te(vn,`RPC '${e}' stream ${i} received:`,J),E.a_(J)}}),D(a,FM.STAT_EVENT,k=>{k.stat===wm.PROXY?te(vn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===wm.NOPROXY&&te(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function BM(){return typeof document<"u"?document:null}function p_(n){return new bE(n,!0)}var Gm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var kN="PersistentStream",Km=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Gm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return w(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return w(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return w(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(po(t.toString()),po("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new Z(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>w(this,null,function*(){this.state=0,this.start()}))}G_(e){return te(kN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(te(kN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},tP=class extends Km{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=lq(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ee.min():s.readTime?Oi(s.readTime):Ee.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=PE(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=uE(c)?{documents:hq(o,c)}:{query:fq(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=j2(o,s.resumeToken);let u=wE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ee.min())>0){a.readTime=Bm(o,s.snapshotVersion.toTimestamp());let u=wE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=pq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=PE(this.serializer),t.removeTarget=e,this.k_(t)}},nP=class extends Km{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=dq(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=PE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>uq(this.serializer,r))};this.k_(t)}};var rP=class{},iP=class extends rP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,ME(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(j.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,ME(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(j.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},oP=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(po(t),this._a=!1):te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Fa="RemoteStore",sP=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>w(this,null,function*(){La(this)&&(te(Fa,"Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=be(c);u.Ia.add(4),yield ch(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield m_(u)})}(this))}))}),this.Aa=new oP(r,i)}};function m_(n){return w(this,null,function*(){if(La(n))for(let e of n.da)yield e(!0)})}function ch(n){return w(this,null,function*(){for(let e of n.da)yield e(!1)})}function Y2(n,e){let t=be(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),BP(t)?UP(t):xl(t).x_()&&jP(t,e))}function VP(n,e){let t=be(n),r=xl(t);t.Ta.delete(e),r.x_()&&Q2(t,e),t.Ta.size===0&&(r.x_()?r.B_():La(t)&&t.Aa.set("Unknown"))}function jP(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xl(n).H_(e)}function Q2(n,e){n.Ra.$e(e),xl(n).Y_(e)}function UP(n){n.Ra=new CE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),xl(n).start(),n.Aa.aa()}function BP(n){return La(n)&&!xl(n).M_()&&n.Ta.size>0}function La(n){return be(n).Ia.size===0}function Z2(n){n.Ra=void 0}function Aq(n){return w(this,null,function*(){n.Aa.set("Online")})}function kq(n){return w(this,null,function*(){n.Ta.forEach((e,t)=>{jP(n,e)})})}function Rq(n,e){return w(this,null,function*(){Z2(n),BP(n)?(n.Aa.la(e),UP(n)):n.Aa.set("Unknown")})}function Nq(n,e,t){return w(this,null,function*(){if(n.Aa.set("Online"),e instanceof jm&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){te(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ym(n,r)}else if(e instanceof ll?n.Ra.Ye(e):e instanceof Vm?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ee.min()))try{let r=yield K2(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Cn.EMPTY_BYTE_STRING,d.snapshotVersion)),Q2(o,c);let p=new Xd(d.target,c,u,d.sequenceNumber);jP(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){te(Fa,"Failed to raise snapshot:",r),yield Ym(n,r)}})}function Ym(n,e,t){return w(this,null,function*(){if(!Pl(e))throw e;n.Ia.add(1),yield ch(n),n.Aa.set("Offline"),t||(t=()=>K2(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){te(Fa,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield m_(n)}))})}function J2(n,e){return e().catch(t=>Ym(n,t,e))}function __(n){return w(this,null,function*(){let e=be(n),t=vs(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:IP;for(;Fq(e);)try{let i=yield Iq(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,Lq(e,i)}catch(i){yield Ym(e,i)}X2(e)&&eF(e)})}function Fq(n){return La(n)&&n.Pa.length<10}function Lq(n,e){n.Pa.push(e);let t=vs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function X2(n){return La(n)&&!vs(n).M_()&&n.Pa.length>0}function eF(n){vs(n).start()}function Vq(n){return w(this,null,function*(){vs(n).na()})}function jq(n){return w(this,null,function*(){let e=vs(n);for(let t of n.Pa)e.X_(t.mutations)})}function Uq(n,e,t){return w(this,null,function*(){let r=n.Pa.shift(),i=mE.from(r,e,t);yield J2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield __(n)})}function Bq(n,e){return w(this,null,function*(){e&&vs(n).Z_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return nq(s)&&s!==j.ABORTED}(i.code)){let o=r.Pa.shift();vs(r).N_(),yield J2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield __(r)}})}(n,e)),X2(n)&&eF(n)})}function RN(n,e){return w(this,null,function*(){let t=be(n);t.asyncQueue.verifyOperationInProgress(),te(Fa,"RemoteStore received new credentials");let r=La(t);t.Ia.add(3),yield ch(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield m_(t)})}function $q(n,e){return w(this,null,function*(){let t=be(n);e?(t.Ia.delete(2),yield m_(t)):e||(t.Ia.add(2),yield ch(t),t.Aa.set("Unknown"))})}function xl(n){return n.Va||(n.Va=function(t,r,i){let o=be(t);return o.ia(),new tP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:Aq.bind(null,n),e_:kq.bind(null,n),n_:Rq.bind(null,n),J_:Nq.bind(null,n)}),n.da.push(e=>w(null,null,function*(){e?(n.Va.N_(),BP(n)?UP(n):n.Aa.set("Unknown")):(yield n.Va.stop(),Z2(n))}))),n.Va}function vs(n){return n.ma||(n.ma=function(t,r,i){let o=be(t);return o.ia(),new nP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Vq.bind(null,n),n_:Bq.bind(null,n),ea:jq.bind(null,n),ta:Uq.bind(null,n)}),n.da.push(e=>w(null,null,function*(){e?(n.ma.N_(),yield __(n)):(yield n.ma.stop(),n.Pa.length>0&&(te(Fa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var aP=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $P(n,e){if(po("AsyncQueue",`${e}: ${n}`),Pl(n))return new Z(j.UNAVAILABLE,`${e}: ${n}`);throw n}var Qm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=Bd(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Zm=class{constructor(){this.fa=new _t(le.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):he(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Cl=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Qm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var cP=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},lP=class{constructor(){this.queries=NN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=be(t),o=i.queries;i.queries=NN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new Z(j.ABORTED,"Firestore shutting down"))}};function NN(){return new yo(n=>x2(n),f_)}function zP(n,e){return w(this,null,function*(){let t=be(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new cP,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=$P(s,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&qP(t)})}function HP(n,e){return w(this,null,function*(){let t=be(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function zq(n,e){let t=be(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&qP(t)}function Hq(n,e,t){let r=be(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function qP(n){n.Da.forEach(e=>{e.next()})}var uP,FN;(FN=uP||(uP={})).Fa="default",FN.Cache="cache";var nh=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==uP.Cache}};var Jm=class{constructor(e){this.key=e}},Xm=class{constructor(e){this.key=e}},dP=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ne(),this.mutatedKeys=Ne(),this.Xa=O2(e),this.eu=new Qm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Zm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let y=i.get(d),v=g_(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),D=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),k=!1;y&&v?y.data.isEqual(v.data)?E!==D&&(r.track({type:3,doc:v}),k=!0):this.iu(y,v)||(r.track({type:2,doc:v}),k=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),k=!0):y&&!v&&(r.track({type:1,doc:y}),k=!0,(c||u)&&(a=!0)),k&&(v?(s=s.add(v),o=D?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,p)=>function(v,E){let D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{At:k})}};return D(v)-D(E)}(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Cl(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Zm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Xm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Jm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ne();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Cl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},WP="SyncEngine",hP=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},fP=class{constructor(e){this.key=e,this.lu=!1}},gP=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new yo(a=>x2(a),f_),this.Tu=new Map,this.Iu=new Set,this.du=new _t(le.comparator),this.Eu=new Map,this.Au=new th,this.Ru={},this.Vu=new Map,this.mu=eh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function qq(n,e,t=!0){return w(this,null,function*(){let r=sF(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield tF(r,e,t,!0),i})}function Wq(n,e){return w(this,null,function*(){let t=sF(n);yield tF(t,e,!0,!1)})}function tF(n,e,t,r){return w(this,null,function*(){let i=yield Sq(n.localStore,Pi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Gq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Y2(n.remoteStore,i),a})}function Gq(n,e,t,r,i){return w(this,null,function*(){n.gu=(p,y,v)=>function(D,k,B,J){return w(this,null,function*(){let ee=k.view.nu(B);ee.Ds&&(ee=yield TN(D.localStore,k.query,!1).then(({documents:O})=>k.view.nu(O,ee)));let ie=J&&J.targetChanges.get(k.targetId),Be=J&&J.targetMismatches.get(k.targetId)!=null,ve=k.view.applyChanges(ee,D.isPrimaryClient,ie,Be);return VN(D,k.targetId,ve._u),ve.snapshot})}(n,p,y,v);let o=yield TN(n.localStore,e,!0),s=new dP(e,o.qs),a=s.nu(o.documents),c=Jd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);VN(n,t,u._u);let d=new hP(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function Kq(n,e,t){return w(this,null,function*(){let r=be(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!f_(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield KE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&VP(r.remoteStore,i.targetId),pP(r,i.targetId)}).catch(El))):(pP(r,i.targetId),yield KE(r.localStore,i.targetId,!0))})}function Yq(n,e){return w(this,null,function*(){let t=be(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),VP(t.remoteStore,r.targetId))})}function Qq(n,e,t){return w(this,null,function*(){let r=rW(n);try{let i=yield function(s,a){let c=be(s),u=kt.now(),d=a.reduce((v,E)=>v.add(E.key),Ne()),p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=vo(),D=Ne();return c.Os.getEntries(v,d).next(k=>{E=k,E.forEach((B,J)=>{J.isValidDocument()||(D=D.add(B))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(k=>{p=k;let B=[];for(let J of a){let ee=tq(J,p.get(J.key).overlayedDocument);ee!=null&&B.push(new Si(J.key,ee,v2(ee.value.mapValue),xi.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,B,a)}).next(k=>{y=k;let B=k.applyToLocalDocumentSet(p,D);return c.documentOverlayCache.saveOverlays(v,k.batchId,B)})}).then(()=>({batchId:y.batchId,changes:S2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new _t(Se)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield lh(r,i.changes),yield __(r.remoteStore)}catch(i){let o=$P(i,"Failed to persist write");t.reject(o)}})}function nF(n,e){return w(this,null,function*(){let t=be(n);try{let r=yield xq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?He(s.lu,14607):i.removedDocuments.size>0&&(He(s.lu,42227),s.lu=!1))}),yield lh(t,r,e)}catch(r){yield El(r)}})}function LN(n,e,t){let r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=be(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let y of p.wa)y.va(a)&&(u=!0)}),u&&qP(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zq(n,e,t){return w(this,null,function*(){let r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new _t(le.comparator);s=s.insert(o,Wr.newNoDocument(o,Ee.min()));let a=Ne().add(o),c=new Lm(Ee.min(),new Map,new _t(Se),s,a);yield nF(r,c),r.du=r.du.remove(o),r.Eu.delete(e),GP(r)}else yield KE(r.localStore,e,!1).then(()=>pP(r,e,t)).catch(El)})}function Jq(n,e){return w(this,null,function*(){let t=be(n),r=e.batch.batchId;try{let i=yield Pq(t.localStore,e);iF(t,r,null),rF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield lh(t,i)}catch(i){yield El(i)}})}function Xq(n,e,t){return w(this,null,function*(){let r=be(n);try{let i=yield function(s,a){let c=be(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(He(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);iF(r,e,t),rF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield lh(r,i)}catch(i){yield El(i)}})}function rF(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function iF(n,e,t){let r=be(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function pP(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||oF(n,r)})}function oF(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(VP(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),GP(n))}function VN(n,e,t){for(let r of t)r instanceof Jm?(n.Au.addReference(r.key,e),eW(n,r)):r instanceof Xm?(te(WP,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||oF(n,r.key)):he(19791,{yu:r})}function eW(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(te(WP,"New document in limbo: "+t),n.Iu.add(r),GP(n))}function GP(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new le(ct.fromString(e)),r=n.mu.next();n.Eu.set(r,new fP(t)),n.du=n.du.insert(t,r),Y2(n.remoteStore,new Xd(Pi(h_(t.path)),r,"TargetPurposeLimboResolution",OP.ue))}}function lh(n,e,t){return w(this,null,function*(){let r=be(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=HE.Es(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,u){return w(this,null,function*(){let d=be(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(u,y=>q.forEach(y.Is,v=>d.persistence.referenceDelegate.addReference(p,y.targetId,v)).next(()=>q.forEach(y.ds,v=>d.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))}catch(p){if(!Pl(p))throw p;te(LP,"Failed to update sequence numbers: "+p)}for(let p of u){let y=p.targetId;if(!p.fromCache){let v=d.Fs.get(y),E=v.snapshotVersion,D=v.withLastLimboFreeSnapshotVersion(E);d.Fs=d.Fs.insert(y,D)}}})}(r.localStore,o))})}function tW(n,e){return w(this,null,function*(){let t=be(n);if(!t.currentUser.isEqual(e)){te(WP,"User change. New user:",e.toKey());let r=yield G2(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new Z(j.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lh(t,r.Bs)}})}function nW(n,e){let t=be(n),r=t.Eu.get(e);if(r&&r.lu)return Ne().add(r.key);{let i=Ne(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function sF(n){let e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zq.bind(null,e),e.hu.J_=zq.bind(null,e.eventManager),e.hu.pu=Hq.bind(null,e.eventManager),e}function rW(n){let e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xq.bind(null,e),e}var aF=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=p_(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Eq(this.persistence,new WE,t.initialUser,this.serializer)}Du(t){return new zm(zE.Vi,this.serializer)}bu(t){return new YE}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),mP=class extends aF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){He(this.persistence.referenceDelegate instanceof Hm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new DE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new zm(r=>Hm.Vi(r,t),this.serializer)}};var iW=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tW.bind(null,this.syncEngine),yield $q(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new lP}()}createDatastore(t){let r=p_(t.databaseInfo.databaseId),i=function(s){return new eP(s)}(t.databaseInfo);return function(s,a,c,u){return new iP(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new sP(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>LN(this.syncEngine,r,0),function(){return Wm.C()?new Wm:new QE}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,p){let y=new gP(o,s,a,c,u,d);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=be(o);te(Fa,"RemoteStore shutting down."),s.Ia.add(5),yield ch(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var rh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):po("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Cs="FirestoreClient",_P=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){te(Cs,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(te(Cs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=$P(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $M(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te(Cs,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield G2(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ms("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ms("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function jN(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield oW(n);te(Cs,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>RN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>RN(e.remoteStore,i)),n._onlineComponents=e})}function oW(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(Cs,"Using user provided OfflineComponentProvider");try{yield $M(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ms("Error using user provided cache. Falling back to memory cache: "+t),yield $M(n,new aF)}}else te(Cs,"Using default OfflineComponentProvider"),yield $M(n,new mP(void 0));return n._offlineComponents})}function cF(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(Cs,"Using user provided OnlineComponentProvider"),yield jN(n,n._uninitializedComponentsProvider._online)):(te(Cs,"Using default OnlineComponentProvider"),yield jN(n,new iW))),n._onlineComponents})}function sW(n){return cF(n).then(e=>e.syncEngine)}function e_(n){return w(this,null,function*(){let e=yield cF(n),t=e.eventManager;return t.onListen=qq.bind(null,e.syncEngine),t.onUnlisten=Kq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Yq.bind(null,e.syncEngine),t})}function aW(n,e,t={}){let r=new qr;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,c,u){let d=new rh({next:y=>{d.Ou(),s.enqueueAndForget(()=>HP(o,p));let v=y.docs.has(a);!v&&y.fromCache?u.reject(new Z(j.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?u.reject(new Z(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new nh(h_(a.path),d,{includeMetadataChanges:!0,ka:!0});return zP(o,p)}(yield e_(n),n.asyncQueue,e,t,r)})),r.promise}function cW(n,e,t={}){let r=new qr;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,c,u){let d=new rh({next:y=>{d.Ou(),s.enqueueAndForget(()=>HP(o,p)),y.fromCache&&c.source==="server"?u.reject(new Z(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new nh(a,d,{includeMetadataChanges:!0,ka:!0});return zP(o,p)}(yield e_(n),n.asyncQueue,e,t,r)})),r.promise}function lF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var UN=new Map;var uF="firestore.googleapis.com",BN=!0,t_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uF,this.ssl=BN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:BN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bq)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zM;switch(r.type){case"firstParty":return new GM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=UN.get(t);r&&(te("ComponentProvider","Removing Datastore"),UN.delete(t),r.terminate())}(this),Promise.resolve()}};function dF(n,e,t,r={}){var i;n=Un(n,bl);let o=pi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Qc(`https://${c}`),Zc("Firestore",!0)),s.host!==uF&&s.host!==c&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!mi(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=qt.MOCK_USER;else{d=Yp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(y)}n._authCredentials=new HM(new Sm(d,p))}}var bs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Lt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ah(t,n._jsonSchema))return new n(e,r||null,new le(ct.fromString(t.referencePath)))}};Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:At("string",Lt._jsonSchemaVersion),referencePath:At("string")};var hs=class n extends bs{constructor(e,t,r){super(e,t,h_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new le(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Di(n,e,...t){if(n=Ke(n),YN("collection","path",e),n instanceof bl){let r=ct.fromString(e,...t);return oN(r),new hs(n,null,r)}{if(!(n instanceof Lt||n instanceof hs))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return oN(r),new hs(n.firestore,null,r)}}function Co(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=Wd.newId()),YN("doc","path",e),n instanceof bl){let r=ct.fromString(e,...t);return iN(r),new Lt(n,null,new le(r))}{if(!(n instanceof Lt||n instanceof hs))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return iN(r),new Lt(n.firestore,n instanceof hs?n.converter:null,new le(r))}}var $N="AsyncQueue",n_=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Gm(this,"async_queue_retry"),this.oc=()=>{let r=BM();r&&te($N,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=BM();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=BM();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new qr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return w(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pl(e))throw e;te($N,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,po("INTERNAL UNHANDLED ERROR: ",zN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=aP.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&he(47125,{hc:zN(this.tc)})}verifyOperationInProgress(){}Pc(){return w(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function zN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function HN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Kr=class extends bl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new n_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,yield e}})}};function hF(n,e){let t=typeof n=="object"?n:so(),r=typeof n=="string"?n:e||Rm,i=os(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Kp("firestore");o&&dF(i,...o)}return i}function y_(n){if(n._terminated)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lW(n),n._firestoreClient}function lW(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new JM(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _P(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var fs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Cn.fromBase64String(e))}catch(t){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ah(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};fs._jsonSchemaVersion="firestore/bytes/1.0",fs._jsonSchema={type:At("string",fs._jsonSchemaVersion),bytes:At("string")};var wl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ih=class{constructor(e){this._methodName=e}};var gs=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ah(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:At("string",gs._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};var ps=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ah(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Z(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:At("string",ps._jsonSchemaVersion),vectorValues:At("object")};var uW=/^__.*__$/,yP=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new Na(e,this.data,t,this.fieldTransforms)}},r_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Si(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function fF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ec:n})}}var vP=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return o_(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(fF(this.Ec)&&uW.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},CP=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||p_(e)}Dc(e,t,r,i=!1){return new vP({Ec:e,methodName:t,bc:r,path:Jn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function v_(n){let e=n._freezeSettings(),t=p_(n._databaseId);return new CP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gF(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);KP("Data must be an object, but it was:",s,r);let a=pF(r,s),c,u;if(o.merge)c=new _r(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let y=bP(e,p,t);if(!s.contains(y))throw new Z(j.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);_F(d,y)||d.push(y)}c=new _r(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new yP(new Zn(a),c,u)}var i_=class n extends ih{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function dW(n,e,t,r){let i=n.Dc(1,e,t);KP("Data must be an object, but it was:",i,r);let o=[],s=Zn.empty();ws(r,(c,u)=>{let d=YP(e,c,t);u=Ke(u);let p=i.gc(d);if(u instanceof i_)o.push(d);else{let y=uh(u,p);y!=null&&(o.push(d),s.set(d,y))}});let a=new _r(o);return new r_(s,a,i.fieldTransforms)}function hW(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[bP(e,r,t)],c=[i];if(o.length%2!=0)throw new Z(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(bP(e,o[y])),c.push(o[y+1]);let u=[],d=Zn.empty();for(let y=a.length-1;y>=0;--y)if(!_F(u,a[y])){let v=a[y],E=c[y];E=Ke(E);let D=s.gc(v);if(E instanceof i_)u.push(v);else{let k=uh(E,D);k!=null&&(u.push(v),d.set(v,k))}}let p=new _r(u);return new r_(d,p,s.fieldTransforms)}function fW(n,e,t,r=!1){return uh(t,n.Dc(r?4:3,e))}function uh(n,e){if(mF(n=Ke(n)))return KP("Unsupported field value:",e,n),pF(n,e);if(n instanceof ih)return function(r,i){if(!fF(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=uh(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=kt.fromDate(r);return{timestampValue:Bm(i.serializer,o)}}if(r instanceof kt){let o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bm(i.serializer,o)}}if(r instanceof gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fs)return{bytesValue:j2(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ps)return function(s,a){return{mapValue:{fields:{[DP]:{stringValue:TP},[hl]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return NP(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${l_(r)}`)}(n,e)}function pF(n,e){let t={};return d2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(n,(r,i)=>{let o=uh(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function mF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof gs||n instanceof fs||n instanceof Lt||n instanceof ih||n instanceof ps)}function KP(n,e,t){if(!mF(t)||!QN(t)){let r=l_(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function bP(n,e,t){if((e=Ke(e))instanceof wl)return e._internalPath;if(typeof e=="string")return YP(n,e);throw o_("Field path arguments must be of type string or ",n,!1,void 0,t)}var gW=new RegExp("[~\\*/\\[\\]]");function YP(n,e,t){if(e.search(gW)>=0)throw o_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wl(...e.split("."))._internalPath}catch{throw o_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function o_(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Z(j.INVALID_ARGUMENT,a+n+c)}function _F(n,e){return n.some(t=>t.isEqual(e))}var s_=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(C_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},wP=class extends s_{data(){return super.data()}};function C_(n,e){return typeof e=="string"?YP(n,e):e instanceof wl?e._internalPath:e._delegate._internalPath}function yF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oh=class{},a_=class extends oh{};function Va(n,e,...t){let r=[];e instanceof oh&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof MP).length,a=o.filter(c=>c instanceof c_).length;if(s>1||s>0&&a>0)throw new Z(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var c_=class n extends a_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return vF(e._query,t),new bs(e.firestore,e.converter,dE(e._query,t))}_parse(e){let t=v_(e.firestore);return function(o,s,a,c,u,d,p){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WN(p,d);let E=[];for(let D of p)E.push(qN(c,o,D));y={arrayValue:{values:E}}}else y=qN(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WN(p,d),y=fW(a,s,p,d==="in"||d==="not-in");return Tt.create(u,d,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function ja(n,e,t){let r=e,i=C_("where",n);return c_._create(i,r,t)}var MP=class n extends oh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)vF(s,c),s=dE(s,c)}(e._query,t),new bs(e.firestore,e.converter,dE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var EP=class n extends a_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new Z(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Z(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Aa(o,s)}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ys(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function dh(n,e="asc"){let t=e,r=C_("orderBy",n);return EP._create(r,t)}function qN(n,e,t){if(typeof(t=Ke(t))=="string"){if(t==="")throw new Z(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P2(e)&&t.indexOf("/")!==-1)throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ct.fromString(t));if(!le.isDocumentKey(r))throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hN(n,new le(r))}if(t instanceof Lt)return hN(n,t._key);throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l_(t)}.`)}function WN(n,e){if(!Array.isArray(n)||n.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var PP=class{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ws(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[hl].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>at(s.doubleValue));return new ps(o)}convertGeoPoint(e){return new gs(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=d_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){let t=mo(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ct.fromString(e);He(q2(r),9688,{name:e});let i=new Nm(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(t)||po(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function CF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Oa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ia=class n extends s_{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(C_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:At("string",Ia._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};var ul=class extends Ia{data(e={}){return super.data(e)}},Sa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ul(this._firestore,this._userDataWriter,r.key,r,new Oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:pW(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function pW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:n})}}function Ua(n){n=Un(n,Lt);let e=Un(n.firestore,Kr);return aW(y_(e),n._key).then(t=>bF(e,n,t))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:At("string",Sa._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};var sh=class extends PP{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}};function Ol(n){n=Un(n,bs);let e=Un(n.firestore,Kr),t=y_(e),r=new sh(e);return yF(n._query),cW(t,n._query).then(i=>new Sa(e,r,n,i))}function b_(n,e,t){n=Un(n,Lt);let r=Un(n.firestore,Kr),i=CF(n.converter,e,t);return x_(r,[gF(v_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xi.none())])}function w_(n,e,t,...r){n=Un(n,Lt);let i=Un(n.firestore,Kr),o=v_(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof wl?hW(o,"updateDoc",n._key,e,t,r):dW(o,"updateDoc",n._key,e),x_(i,[s.toMutation(n._key,xi.exists(!0))])}function M_(n){return x_(Un(n.firestore,Kr),[new Zd(n._key,xi.none())])}function E_(n,e){let t=Un(n.firestore,Kr),r=Co(n),i=CF(n.converter,e);return x_(t,[gF(v_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function P_(n,...e){var t,r,i;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||HN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(HN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,u,d;if(n instanceof Lt)u=Un(n.firestore,Kr),d=h_(n._key.path),c={next:p=>{e[s]&&e[s](bF(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Un(n,bs);u=Un(p.firestore,Kr),d=p._query;let y=new sh(u);c={next:v=>{e[s]&&e[s](new Sa(u,y,p,v))},error:e[s+1],complete:e[s+2]},yF(n._query)}return function(y,v,E,D){let k=new rh(D),B=new nh(v,k,E);return y.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return zP(yield e_(y),B)})),()=>{k.Ou(),y.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return HP(yield e_(y),B)}))}}(y_(u),d,a,c)}function x_(n,e){return function(r,i){let o=new qr;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return Qq(yield sW(r),i,o)})),o.promise}(y_(n),e)}function bF(n,e,t){let r=t.docs.get(e._key),i=new sh(n);return new Ia(n,i,e._key,r,new Oa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ml=i})(vi),Qn(new sn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Kr(new qM(r.getProvider("auth-internal")),new KM(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Je(eN,tN,e),Je(eN,tN,"esm2017")})();var Ba=class{constructor(e){return e}},wF="firestore",QP=class{constructor(){return ss(wF)}};var ZP=new X("angularfire2.firestore-instances");function mW(n,e){let t=va(wF,n,e);return t&&new Ba(t)}function _W(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ba(r)}}var yW={provide:QP,deps:[[new xt,ZP]]},vW={provide:Ba,useFactory:mW,deps:[[new xt,ZP],Br]};function MF(n,...e){return Je("angularfire",Ci.full,"fst"),$t([vW,yW,{provide:ZP,useFactory:_W(n),multi:!0,deps:[Ae,Xe,bi,ao,[new xt,Ea],[new xt,cs],...e]}])}var EF=an(hF,!0);var DF="firebasestorage.googleapis.com",CW="storageBucket",bW=2*60*1e3,wW=10*60*1e3;var Ti=class n extends Sn{constructor(e,t,r=0){super(JP(e),`Firebase Storage: ${t} (${JP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return JP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},wo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(wo||{});function JP(n){return"storage/"+n}function MW(){let n="An unknown error occurred, please check the error payload for server response.";return new Ti(wo.UNKNOWN,n)}function EW(){return new Ti(wo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PW(){return new Ti(wo.CANCELED,"User canceled the upload/download.")}function xW(n){return new Ti(wo.INVALID_URL,"Invalid URL '"+n+"'.")}function OW(n){return new Ti(wo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function PF(n){return new Ti(wo.INVALID_ARGUMENT,n)}function TF(){return new Ti(wo.APP_DELETED,"The Firebase app was deleted.")}function IW(n){return new Ti(wo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var bo=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw OW(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(ie){ie.path_=decodeURIComponent(ie.path)}let d="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${d}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},D=t===DF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",B=new RegExp(`^https?://${D}/${i}/${k}`,"i"),ee=[{regex:a,indices:c,postModify:o},{regex:v,indices:E,postModify:u},{regex:B,indices:{bucket:1,path:2},postModify:u}];for(let ie=0;ie<ee.length;ie++){let Be=ee[ie],ve=Be.regex.exec(e);if(ve){let O=ve[Be.indices.bucket],M=ve[Be.indices.path];M||(M=""),r=new n(O,M),Be.postModify(r);break}}if(r==null)throw xW(e);return r}},XP=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function SW(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...k){u||(u=!0,e.apply(null,k))}function p(k){i=setTimeout(()=>{i=null,n(v,c())},k)}function y(){o&&clearTimeout(o)}function v(k,...B){if(u){y();return}if(k){y(),d.call(null,k,...B);return}if(c()||s){y(),d.call(null,k,...B);return}r<64&&(r*=2);let ee;a===1?(a=2,ee=0):ee=(r+Math.random())*1e3,p(ee)}let E=!1;function D(k){E||(E=!0,y(),!u&&(i!==null?(k||(a=2),clearTimeout(i),p(0)):k||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,D(!0)},t),D}function DW(n){n(!1)}function TW(n){return n!==void 0}function xF(n,e,t,r){if(r<e)throw PF(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw PF(`Invalid value for '${n}'. Expected ${t} or less.`)}function AW(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var ex=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ex||{});function kW(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var tx=class{constructor(e,t,r,i,o,s,a,c,u,d,p,y=!0,v=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,D)=>{this.resolve_=E,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Il(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===ex.NO_ERROR,c=o.getStatus();if(!a||kW(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===ex.ABORT;r(!1,new Il(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Il(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());TW(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=MW();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?TF():PW();s(c)}else{let c=EW();s(c)}};this.canceled_?t(!1,new Il(!1,null,!0)):this.backoffId_=SW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Il=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function RW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function NW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function LW(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function VW(n,e,t,r,i,o,s=!0,a=!1){let c=AW(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return FW(d,e),RW(d,t),NW(d,o),LW(d,r),new tx(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s,a)}function jW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function UW(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var gme=256*1024;var nx=class n{constructor(e,t){this._service=e,t instanceof bo?this._location=t:this._location=bo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new bo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UW(this._location.path)}get storage(){return this._service}get parent(){let e=jW(this._location.path);if(e===null)return null;let t=new bo(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw IW(e)}};function OF(n,e){let t=e?.[CW];return t==null?null:bo.makeFromBucketSpec(t,n)}function BW(n,e,t,r={}){n.host=`${e}:${t}`;let i=pi(e);i&&(Qc(`https://${n.host}/b`),Zc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Yp(o,n.app.options.projectId))}var rx=class{constructor(e,t,r,i,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=DF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bW,this._maxUploadRetryTime=wW,this._requests=new Set,i!=null?this._bucket=bo.makeFromBucketSpec(i,this._host):this._bucket=OF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bo.makeFromBucketSpec(this._url,e):this._bucket=OF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return w(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return w(this,null,function*(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nx(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new XP(TF());{let s=VW(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return w(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},IF="@firebase/storage",SF="0.13.14";var AF="storage";function kF(n=so(),e){n=Ke(n);let r=os(n,AF).getImmediate({identifier:e}),i=Kp("storage");return i&&RF(r,...i),r}function RF(n,e,t,r={}){BW(n,e,t,r)}function $W(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new rx(t,r,i,e,vi)}function zW(){Qn(new sn(AF,$W,"PUBLIC").setMultipleInstances(!0)),Je(IF,SF,""),Je(IF,SF,"esm2017")}zW();var hh=class{constructor(e){return e}},NF="storage",ix=class{constructor(){return ss(NF)}};var ox=new X("angularfire2.storage-instances");function HW(n,e){let t=va(NF,n,e);return t&&new hh(t)}function qW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hh(r)}}var WW={provide:ix,deps:[[new xt,ox]]},GW={provide:hh,useFactory:HW,deps:[[new xt,ox],Br]};function FF(n,...e){return Je("angularfire",Ci.full,"gcs"),$t([GW,WW,{provide:ox,useFactory:qW(n),multi:!0,deps:[Ae,Xe,bi,ao,[new xt,Ea],[new xt,cs],...e]}])}var LF=an(kF,!0);var GF=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(W(lr),W(gn))};static \u0275dir=Qe({type:n})}return n})(),lx=(()=>{class n extends GF{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275dir=Qe({type:n,features:[kn]})}return n})(),R_=new X("");var KW={provide:R_,useExisting:Hn(()=>Gt),multi:!0};function YW(){let n=hr()?hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QW=new X(""),Gt=(()=>{class n extends GF{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!YW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(W(lr),W(gn),W(QW,8))};static \u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ai([KW]),kn]})}return n})();function ZW(n){return n==null||ux(n)===0}function ux(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var vh=new X(""),KF=new X("");function JW(n){return ZW(n.value)?{required:!0}:null}function XW(n){return e=>{let t=e.value?.length??ux(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function eG(n){return e=>{let t=e.value?.length??ux(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function VF(n){return null}function YF(n){return n!=null}function QF(n){return eo(n)?st(n):n}function ZF(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function JF(n,e){return e.map(t=>t(n))}function tG(n){return!n.validate}function XF(n){return n.map(e=>tG(e)?e:t=>e.validate(t))}function nG(n){if(!n)return null;let e=n.filter(YF);return e.length==0?null:function(t){return ZF(JF(t,e))}}function dx(n){return n!=null?nG(XF(n)):null}function rG(n){if(!n)return null;let e=n.filter(YF);return e.length==0?null:function(t){let r=JF(t,e).map(QF);return $y(r).pipe(pe(ZF))}}function hx(n){return n!=null?rG(XF(n)):null}function jF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iG(n){return n._rawValidators}function oG(n){return n._rawAsyncValidators}function sx(n){return n?Array.isArray(n)?n:[n]:[]}function I_(n,e){return Array.isArray(n)?n.includes(e):n===e}function UF(n,e){let t=sx(e);return sx(n).forEach(i=>{I_(t,i)||t.push(i)}),t}function BF(n,e){return sx(e).filter(t=>!I_(n,t))}var S_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Tl=class extends S_{name;get formDirective(){return null}get path(){return null}},yh=class extends S_{_parent=null;name=null;valueAccessor=null},D_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},r_e=ue(U({},sG),{"[class.ng-submitted]":"isSubmitted"}),Kt=(()=>{class n extends D_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(yh,2))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[kn]})}return n})(),yr=(()=>{class n extends D_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(Tl,10))};static \u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[kn]})}return n})();var fh="VALID",O_="INVALID",Sl="PENDING",gh="DISABLED",Ms=class{},T_=class extends Ms{value;source;constructor(e,t){super(),this.value=e,this.source=t}},mh=class extends Ms{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},_h=class extends Ms{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Dl=class extends Ms{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ax=class extends Ms{source;constructor(e){super(),this.source=e}},cx=class extends Ms{source;constructor(e){super(),this.source=e}};function e5(n){return(N_(n)?n.validators:n)||null}function aG(n){return Array.isArray(n)?dx(n):n||null}function t5(n,e){return(N_(e)?e.asyncValidators:n)||null}function cG(n){return Array.isArray(n)?hx(n):n||null}function N_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function lG(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function uG(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var A_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(e){Nn(()=>this.statusReactive.set(e))}_status=Tc(()=>this.statusReactive());statusReactive=ni(void 0);get valid(){return this.status===fh}get invalid(){return this.status===O_}get pending(){return this.status==Sl}get disabled(){return this.status===gh}get enabled(){return this.status!==gh}errors;get pristine(){return Nn(this.pristineReactive)}set pristine(e){Nn(()=>this.pristineReactive.set(e))}_pristine=Tc(()=>this.pristineReactive());pristineReactive=ni(!0);get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(e){Nn(()=>this.touchedReactive.set(e))}_touched=Tc(()=>this.touchedReactive());touchedReactive=ni(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BF(e,this._rawAsyncValidators))}hasValidator(e){return I_(this._rawValidators,e)}hasAsyncValidator(e){return I_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new _h(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new _h(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new mh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new mh(!0,r))}markAsPending(e={}){this.status=Sl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gh,this.errors=null,this._forEachChild(i=>{i.disable(ue(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new T_(this.value,r)),this._events.next(new Dl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fh,this._forEachChild(r=>{r.enable(ue(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fh||this.status===Sl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new T_(this.value,t)),this._events.next(new Dl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gh:fh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Sl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=QF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Dl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?gh:this.errors?O_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sl)?Sl:this._anyControlsHaveStatus(O_)?O_:fh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new mh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new _h(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){N_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cG(this._rawAsyncValidators)}},k_=class extends A_{constructor(e,t,r){super(e5(t),t5(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uG(this,!0,e),Object.keys(e).forEach(r=>{lG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fx=new X("",{providedIn:"root",factory:()=>gx}),gx="always";function dG(n,e){return[...e.path,n]}function n5(n,e,t=gx){r5(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),fG(n,e),pG(n,e),gG(n,e),hG(n,e)}function $F(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hG(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function r5(n,e){let t=iG(n);e.validator!==null?n.setValidators(jF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=oG(n);e.asyncValidator!==null?n.setAsyncValidators(jF(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();$F(e._rawValidators,i),$F(e._rawAsyncValidators,i)}function fG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&i5(n,e)})}function gG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&i5(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function i5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pG(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function mG(n,e){n==null,r5(n,e)}function _G(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yG(n){return Object.getPrototypeOf(n.constructor)===lx}function vG(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CG(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Gt?t=o:yG(o)?r=o:i=o}),i||r||t||null}var bG={provide:Tl,useExisting:Hn(()=>Xn)},ph=Promise.resolve(),Xn=(()=>{class n extends Tl{callSetDisabledState;get submitted(){return Nn(this.submittedReactive)}_submitted=Tc(()=>this.submittedReactive());submittedReactive=ni(!1);_directives=new Set;form;ngSubmit=new wt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new k_({},dx(t),hx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ph.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),n5(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ph.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ph.then(()=>{let r=this._findContainer(t.path),i=new k_({});mG(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ph.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ph.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),vG(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new ax(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new cx(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(W(vh,10),W(KF,10),W(fx,8))};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ai([bG]),kn]})}return n})();function zF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var wG=class extends A_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(e5(t),t5(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(HF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){HF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MG={provide:yh,useExisting:Hn(()=>Vt)},qF=Promise.resolve(),Vt=(()=>{class n extends yh{_changeDetectorRef;callSetDisabledState;control=new wG;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CG(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_G(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){n5(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ko(r);qF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?dG(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(W(Tl,9),W(vh,10),W(KF,10),W(R_,10),W(li,8),W(fx,8))};static \u0275dir=Qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ai([MG]),kn,si]})}return n})();var vr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var EG={provide:R_,useExisting:Hn(()=>Ai),multi:!0};function o5(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function PG(n){return n.split(":")[0]}var Ai=(()=>{class n extends lx{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=L(dr).injector;appRefDestroyRef=this.appRefInjector.get(cr);destroyRef=L(cr);cdr=L(li);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefDestroyRef.destroyed||(this._queuedWrite=!0,Tu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=o5(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=PG(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ai([EG]),kn]})}return n})(),Es=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(o5(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(W(gn),W(lr),W(Ai,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),xG={provide:R_,useExisting:Hn(()=>s5),multi:!0};function WF(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function OG(n){return n.split(":")[0]}var s5=(()=>{class n extends lx{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=OG(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ai([xG]),kn]})}return n})(),Ps=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(WF(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(WF(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(W(gn),W(lr),W(s5,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function a5(n){return typeof n=="number"?n:parseInt(n,10)}var px=(()=>{class n{_validator=VF;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):VF,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,features:[si]})}return n})();var IG={provide:vh,useExisting:Hn(()=>er),multi:!0};var er=(()=>{class n extends px{required;inputName="required";normalizeInput=Ko;createValidator=t=>JW;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Go("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ai([IG]),kn]})}return n})();var SG={provide:vh,useExisting:Hn(()=>Ch),multi:!0},Ch=(()=>{class n extends px{minlength;inputName="minlength";normalizeInput=t=>a5(t);createValidator=t=>XW(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Go("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[ai([SG]),kn]})}return n})(),DG={provide:vh,useExisting:Hn(()=>mx),multi:!0},mx=(()=>{class n extends px{maxlength;inputName="maxlength";normalizeInput=t=>a5(t);createValidator=t=>eG(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Sr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Go("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ai([DG]),kn]})}return n})();var TG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ur({type:n});static \u0275inj=qn({})}return n})();var Yt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fx,useValue:t.callSetDisabledState??gx}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ur({type:n});static \u0275inj=qn({imports:[TG]})}return n})();var Qt=class n{constructor(e){this.auth=e;WR(this.auth,t=>{console.log("Auth state changed:",t?`User: ${t.email}`:"No user"),this.currentUserSubject.next(t)})}currentUserSubject=new ot(void 0);currentUser$=this.currentUserSubject.asObservable();getAuthInstance(){return this.auth}getCurrentUser(){let e=this.currentUserSubject.value;return e===void 0?null:e}getCurrentUserId(){let e=this.getCurrentUser();return e?e.uid:null}isAuthenticated(){return this.getCurrentUser()!==null}register(e,t,r){return w(this,null,function*(){try{let i=yield HR(this.auth,e,t);return r&&i.user&&(yield QR(i.user,{displayName:r})),console.log("User registered successfully:",i.user.email),i.user}catch(i){throw console.error("Registration error:",i),i}})}signIn(e,t){return w(this,null,function*(){try{let r=yield KR(this.auth,e,t);return console.log("User signed in successfully:",r.user.email),r.user}catch(r){throw console.error("Sign in error:",r),r}})}sendPasswordResetEmail(e){return w(this,null,function*(){try{if(console.log("Attempting to send password reset email to:",e),console.log("Auth instance:",this.auth),!e||!e.includes("@"))throw new Error("Invalid email address");yield GR(this.auth,e),console.log("Password reset email sent successfully to:",e),console.log("Firebase Auth state:",this.auth.currentUser),console.log("Firebase config:",this.auth.app.options)}catch(t){throw console.error("Password reset error details:",{code:t.code,message:t.message,email:e,authState:this.auth.currentUser?"User logged in":"No user logged in"}),t.code==="auth/user-not-found"?new Error("No account found with this email address. Please check your email or create a new account."):t.code==="auth/invalid-email"?new Error("Invalid email address format. Please enter a valid email."):t.code==="auth/too-many-requests"?new Error("Too many password reset requests. Please wait a few minutes and try again."):t.code==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):t.code==="auth/operation-not-allowed"?new Error("Password reset is not enabled for this Firebase project. Please contact support."):new Error(`Password reset failed: ${t.message||"Unknown error occurred"}`)}})}signOut(){return w(this,null,function*(){try{yield YR(this.auth),console.log("User signed out successfully")}catch(e){throw console.error("Sign out error:",e),e}})}getUserProfile(){let e=this.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,createdAt:new Date(e.metadata.creationTime||Date.now())}:null}static \u0275fac=function(t){return new(t||n)(ne(Ma))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bn=class n{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{t?this.loadData():(this.expensesSubject.next([]),this.categoriesSubject.next([]),this.userSettingsSubject.next({}))})}firestore=L(Ba);expensesSubject=new ot([]);categoriesSubject=new ot([]);userSettingsSubject=new ot({});expenses$=this.expensesSubject.asObservable();categories$=this.categoriesSubject.asObservable();userSettings$=this.userSettingsSubject.asObservable();loadData(){return w(this,null,function*(){yield Promise.all([this.loadExpenses(),this.loadCategories(),this.loadUserSettings()])})}loadExpenses(){return w(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return this.expensesSubject.next([]),[];let t=Di(this.firestore,"expenses"),r=Va(t,ja("userId","==",e),dh("date","desc")),i=yield Ol(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),this.expensesSubject.next(o),o}catch(e){return console.error("Error loading expenses:",e),[]}})}addExpense(e){return w(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=Di(this.firestore,"expenses"),i=ue(U({},e),{userId:t}),o=yield E_(r,i);return yield this.loadExpenses(),o.id}catch(t){throw console.error("Error adding expense:",t),t}})}updateExpense(e){return w(this,null,function*(){try{console.log(`Attempting to update expense with ID: ${e.id}`);let i=Co(this.firestore,"expenses",e.id);if((yield Ua(i)).exists()){let r=e,{id:s}=r,a=Ts(r,["id"]);yield w_(i,a),console.log(`Expense ${e.id} updated successfully`)}else{console.warn(`Document with ID ${e.id} does not exist in Firebase. This might be a local-only expense.`);let t=e,{id:s}=t,a=Ts(t,["id"]);yield b_(i,a),console.log(`Created new expense with ID: ${e.id}`)}yield this.loadExpenses()}catch(i){throw console.error("Error updating expense:",i),i}})}deleteExpense(e){return w(this,null,function*(){try{console.log(`Attempting to delete expense with ID: ${e}`);let t=Co(this.firestore,"expenses",e);if(!(yield Ua(t)).exists()){console.warn(`Document with ID ${e} does not exist in Firebase. This might be a local-only expense.`);return}yield M_(t),console.log(`Expense ${e} deleted successfully`),yield this.loadExpenses()}catch(t){if(console.error("Error deleting expense:",t),t instanceof Error&&t.message&&t.message.includes("does not exist")){console.warn("Document not found - likely a local-only expense");return}throw t}})}migrateLocalExpenses(e){return w(this,null,function*(){try{console.log("Starting migration of local expenses to Firebase...");for(let r of e){if(r.id&&r.id.length>20){console.log(`Expense ${r.id} already migrated, skipping...`);continue}let t=r,{id:i}=t,o=Ts(t,["id"]),s=yield this.addExpense(o);console.log(`Migrated expense from local ID ${i} to Firebase ID ${s}`)}console.log("Migration completed successfully")}catch(r){throw console.error("Error during migration:",r),r}})}isFirebaseId(e){return!!(e&&e.length>20)}loadCategories(){return w(this,null,function*(){try{let e=this.authService.getCurrentUserId();if(!e)return console.log("No user authenticated, returning empty categories"),this.categoriesSubject.next([]),[];let t=Di(this.firestore,"categories"),r=Va(t,ja("userId","==",e)),i=yield Ol(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),this.categoriesSubject.next(o),o}catch(e){return console.error("Error loading categories:",e),[]}})}addCategory(e){return w(this,null,function*(){try{let t=this.authService.getCurrentUserId();if(!t)throw new Error("User not authenticated");let r=Di(this.firestore,"categories"),i=ue(U({},e),{userId:t}),o=yield E_(r,i);return yield this.loadCategories(),o.id}catch(t){throw console.error("Error adding category:",t),t}})}updateCategory(e){return w(this,null,function*(){try{console.log(`Attempting to update category with ID: ${e.id}`);let r=Co(this.firestore,"categories",e.id);if((yield Ua(r)).exists()){let t=e,{id:o}=t,s=Ts(t,["id"]);yield w_(r,s),console.log(`Category ${e.id} updated successfully`)}else{console.warn(`Category with ID ${e.id} does not exist in Firebase. This might be a local-only category.`),console.log("Skipping update for local-only category");return}yield this.loadCategories()}catch(r){throw console.error("Error updating category:",r),r}})}deleteCategory(e){return w(this,null,function*(){try{console.log(`Attempting to delete category with ID: ${e} (length: ${e.length})`);let t=Co(this.firestore,"categories",e),r=yield Ua(t);if(console.log(`Document exists: ${r.exists()}`),!r.exists()){console.warn(`Category with ID ${e} does not exist in Firebase. This might be a local-only category.`);return}console.log("Document found, proceeding with deletion..."),yield M_(t),console.log(`Category ${e} deleted successfully`),yield this.loadCategories()}catch(t){if(console.error("Error deleting category:",t),t instanceof Error&&t.message.includes("does not exist")){console.warn("Category not found - likely a local-only category");return}throw t}})}loadUserSettings(){return w(this,null,function*(){try{let e=Co(this.firestore,"userSettings","default"),t=yield Ua(e);if(t.exists()){let r=t.data();return this.userSettingsSubject.next(r),r}else{let r={budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"};return yield this.saveUserSettings(r),r}}catch(e){return console.error("Error loading user settings:",e),{budgetLimit:0,emergencyFund:0,vacationFund:0,theme:"light",currency:"\u20B9"}}})}saveUserSettings(e){return w(this,null,function*(){try{let t=Co(this.firestore,"userSettings","default");yield b_(t,e,{merge:!0}),this.userSettingsSubject.next(e)}catch(t){throw console.error("Error saving user settings:",t),t}})}subscribeToExpenses(){let e=Di(this.firestore,"expenses"),t=Va(e,dh("date","desc"));return new fe(r=>P_(t,o=>{let s=[];o.forEach(a=>{s.push(U({id:a.id},a.data()))}),r.next(s)}))}subscribeToCategories(){let e=Di(this.firestore,"categories");return new fe(t=>P_(e,i=>{let o=[];i.forEach(s=>{o.push(U({id:s.id},s.data()))}),t.next(o)}))}getExpensesByCategory(e){return w(this,null,function*(){try{let t=Di(this.firestore,"expenses"),r=Va(t,ja("categoryId","==",e)),i=yield Ol(r),o=[];return i.forEach(s=>{o.push(U({id:s.id},s.data()))}),o}catch(t){return console.error("Error getting expenses by category:",t),[]}})}getExpensesByDateRange(e,t){return w(this,null,function*(){try{let r=Di(this.firestore,"expenses"),i=Va(r,ja("date",">=",e),ja("date","<=",t),dh("date","desc")),o=yield Ol(i),s=[];return o.forEach(a=>{s.push(U({id:a.id},a.data()))}),s}catch(r){return console.error("Error getting expenses by date range:",r),[]}})}static \u0275fac=function(t){return new(t||n)(ne(Qt))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var ki=class n{constructor(e){this.firebaseService=e;this.loadExpenses()}expenses=[];loadExpenses(){return w(this,null,function*(){try{console.log("Loading expenses from Firebase..."),this.expenses=yield this.firebaseService.loadExpenses(),console.log(`Loaded ${this.expenses.length} expenses from Firebase`)}catch(e){console.error("Error loading expenses:",e),this.expenses=[]}})}getAll(){return w(this,null,function*(){return yield this.loadExpenses(),[...this.expenses]})}add(e){return w(this,null,function*(){try{console.log("Adding expense to Firebase...");let t=yield this.firebaseService.addExpense(e);return console.log(`Expense added with ID: ${t}`),yield this.loadExpenses(),t}catch(t){throw console.error("Error adding expense:",t),t}})}update(e){return w(this,null,function*(){try{if(console.log(`Updating expense with ID: ${e.id}`),e.id.length<20){console.warn(`Attempting to update local expense with ID: ${e.id}. This expense may not exist in Firebase.`);try{yield this.firebaseService.updateExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e.id);return}throw t}}else yield this.firebaseService.updateExpense(e);console.log("Expense updated successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error updating expense:",t),t}})}delete(e){return w(this,null,function*(){try{if(console.log(`Deleting expense with ID: ${e}`),e.length<20){console.warn(`Attempting to delete local expense with ID: ${e}. This expense may not exist in Firebase.`);try{yield this.firebaseService.deleteExpense(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local expense not found in Firebase - this is expected for old local data"),this.expenses=this.expenses.filter(r=>r.id!==e);return}throw t}}else yield this.firebaseService.deleteExpense(e);console.log("Expense deleted successfully"),yield this.loadExpenses()}catch(t){throw console.error("Error deleting expense:",t),t}})}deleteByCategoryId(e){return w(this,null,function*(){try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.loadExpenses()}catch(t){throw console.error("Error deleting expenses by category:",t),t}})}getById(e){return w(this,null,function*(){return(yield this.firebaseService.loadExpenses()).find(r=>r.id===e)})}getByCategoryId(e){return w(this,null,function*(){return this.firebaseService.getExpensesByCategory(e)})}getByDateRange(e,t){return w(this,null,function*(){return this.firebaseService.getExpensesByDateRange(e,t)})}static \u0275fac=function(t){return new(t||n)(ne(Bn))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ri=class n{constructor(e){this.firebaseService=e;this.loadCategories(),this.initializeDefaultCategories()}categories=[];loadCategories(){return w(this,null,function*(){try{console.log("Loading categories from Firebase..."),this.categories=yield this.firebaseService.loadCategories(),console.log(`Loaded ${this.categories.length} categories from Firebase`)}catch(e){console.error("Error loading categories:",e),this.categories=[]}})}initializeDefaultCategories(){return w(this,null,function*(){if((yield this.firebaseService.loadCategories()).length===0){let t=this.getDefaultCategories();for(let r of t)yield this.firebaseService.addCategory(r);yield this.loadCategories()}})}forceInitializeDefaultCategories(){return w(this,null,function*(){console.log("Force initializing default categories...");let e=this.getDefaultCategories();for(let t of e)yield this.firebaseService.addCategory(t);yield this.loadCategories(),console.log("Default categories initialized successfully")})}getDefaultCategories(){return[{name:"Food & Dining",color:"#A62C2C",icon:"\u{1F37D}\uFE0F"},{name:"Transportation",color:"#E83F25",icon:"\u{1F697}"},{name:"Shopping",color:"#EA7300",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#D3CA79",icon:"\u{1F3AC}"},{name:"Bills & Utilities",color:"#FF6B6B",icon:"\u{1F4A1}"},{name:"Healthcare",color:"#4ECDC4",icon:"\u{1F3E5}"},{name:"Education",color:"#45B7D1",icon:"\u{1F4DA}"},{name:"Rent/Mortgage",color:"#96CEB4",icon:"\u{1F3E0}"},{name:"Insurance",color:"#FF8E53",icon:"\u{1F6E1}\uFE0F"},{name:"Savings",color:"#2ECC71",icon:"\u{1F4B0}"}]}getAll(){return w(this,null,function*(){yield this.loadCategories();let e=this.removeDuplicateCategories(this.categories);return e.length!==this.categories.length&&(console.log(`Found ${this.categories.length-e.length} duplicate categories. Cleaning up...`),yield this.cleanupDuplicateCategories(e)),[...e]})}removeDuplicateCategories(e){let t=new Set,r=[];for(let i of e){let o=i.name.toLowerCase().trim();t.has(o)?console.log(`Duplicate category found: "${i.name}" (ID: ${i.id})`):(t.add(o),r.push(i))}return r}cleanupDuplicateCategories(e){return w(this,null,function*(){try{let t=yield this.firebaseService.loadCategories(),r=new Set,i=[];for(let o of t){let s=o.name.toLowerCase().trim();r.has(s)?(i.push(o.id),console.log(`Marking duplicate for deletion: "${o.name}" (ID: ${o.id})`)):r.add(s)}for(let o of i)try{yield this.firebaseService.deleteCategory(o),console.log(`Deleted duplicate category with ID: ${o}`)}catch(s){console.error(`Error deleting duplicate category ${o}:`,s)}yield this.loadCategories()}catch(t){console.error("Error cleaning up duplicate categories:",t)}})}add(e){return w(this,null,function*(){try{let t=yield this.firebaseService.addCategory(e);return yield this.loadCategories(),t}catch(t){throw console.error("Error adding category:",t),t}})}update(e){return w(this,null,function*(){try{if(console.log(`Updating category with ID: ${e.id} (length: ${e.id.length})`),e.id.length<20){console.warn(`Attempting to update local category with ID: ${e.id}. This category may not exist in Firebase.`);try{yield this.firebaseService.updateCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e.id);return}throw t}}else console.log("Updating Firebase category..."),yield this.firebaseService.updateCategory(e);console.log("Category updated successfully"),yield this.loadCategories()}catch(t){throw console.error("Error updating category:",t),t}})}delete(e){return w(this,null,function*(){try{if(console.log(`Deleting category with ID: ${e} (length: ${e.length})`),e.length<20){console.warn(`Attempting to delete local category with ID: ${e}. This category may not exist in Firebase.`);try{let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}catch(t){if(t instanceof Error&&t.message.includes("does not exist")){console.warn("Local category not found in Firebase - this is expected for old local data"),this.categories=this.categories.filter(r=>r.id!==e);return}throw t}}else{console.log("Deleting Firebase category...");let r=(yield this.firebaseService.loadExpenses()).filter(i=>i.categoryId===e);console.log(`Found ${r.length} expenses to delete for category ${e}`);for(let i of r)yield this.firebaseService.deleteExpense(i.id);yield this.firebaseService.deleteCategory(e)}console.log("Category deleted successfully"),yield this.loadCategories()}catch(t){throw console.error("Error deleting category:",t),t}})}getById(e){return w(this,null,function*(){return(yield this.firebaseService.loadCategories()).find(r=>r.id===e)})}triggerDuplicateCleanup(){return w(this,null,function*(){console.log("Manual duplicate cleanup triggered...");let e=yield this.getAll();console.log(`Categories after cleanup: ${e.length}`)})}static \u0275fac=function(t){return new(t||n)(ne(Bn))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var kl=class n{filterStateSubject=new ot({selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""});filterState$=this.filterStateSubject.asObservable();constructor(){this.loadFilterState()}updateFilterState(e){let t=this.filterStateSubject.value,r=U(U({},t),e);console.log("Updating filter state:",{currentState:t,newState:e,updatedState:r}),this.filterStateSubject.next(r),this.saveFilterState(r)}getFilterState(){let e=this.filterStateSubject.value;return console.log("Getting filter state:",e),e}clearFilterState(){let e={selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""};this.filterStateSubject.next(e),this.saveFilterState(e)}saveFilterState(e){try{localStorage.setItem("expenseTracker_filterState",JSON.stringify(e)),console.log("Filter state saved to localStorage:",e)}catch(t){console.error("Error saving filter state to localStorage:",t)}}loadFilterState(){try{let e=localStorage.getItem("expenseTracker_filterState");if(console.log("Loading filter state from localStorage:",e),e){let t=JSON.parse(e);console.log("Parsed filter state:",t),this.filterStateSubject.next(t)}else console.log("No saved filter state found in localStorage")}catch(e){console.error("Error loading filter state from localStorage:",e)}}isCustomDateRangeActive(){let e=this.getFilterState();return e.selectedPeriod==="custom"&&!!e.customStartDate&&!!e.customEndDate}getCustomDateRange(){let e=this.getFilterState();return this.isCustomDateRangeActive()?{startDate:e.customStartDate,endDate:e.customEndDate}:null}getCurrentPeriodFilter(){return this.getFilterState().selectedPeriod}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function AG(n,e){if(n&1){let t=Me();f(0,"button",50),G("click",function(){let i=$(t).$implicit,o=F();return o.selectedPeriod=i.value,z(o.onFilterChange())}),f(1,"span",51),m(2),g(),f(3,"span",52),m(4),g()()}if(n&2){let t=e.$implicit,r=F();zt("active",r.selectedPeriod===t.value),C(2),H(t.label),C(2),H(t.description)}}function kG(n,e){if(n&1){let t=Me();f(0,"button",64),G("click",function(){$(t);let i=F(2);return z(i.clearCustomDateRange())}),f(1,"span",65),m(2,"\u2715"),g()()}}function RG(n,e){if(n&1&&(f(0,"div",66)(1,"div",67)(2,"span",68),m(3),g(),f(4,"span",69),m(5),g()()()),n&2){let t=F(2);C(),Rn(t.isCustomDateRangeValid()?"valid":"invalid"),C(2),H(t.isCustomDateRangeValid()?"\u2705":"\u26A0\uFE0F"),C(2),oe(" ",t.isCustomDateRangeValid()?"Date range is valid":"End date must be after start date"," ")}}function NG(n,e){if(n&1){let t=Me();f(0,"div",53)(1,"div",54)(2,"div",55)(3,"label",56),m(4,"Start Date"),g(),f(5,"input",57),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.customStartDate,i)||(o.customStartDate=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onCustomDateChange())}),g()(),f(6,"div",58)(7,"span",59),m(8,"to"),g()(),f(9,"div",55)(10,"label",56),m(11,"End Date"),g(),f(12,"div",60)(13,"input",61),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.customEndDate,i)||(o.customEndDate=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onCustomDateChange())}),g(),K(14,kG,3,0,"button",62),g()()(),K(15,RG,6,4,"div",63),g()}if(n&2){let t=F();C(5),_e("ngModel",t.customStartDate),C(8),_e("ngModel",t.customEndDate),C(),R("ngIf",t.customStartDate||t.customEndDate),C(),R("ngIf",t.customStartDate&&t.customEndDate)}}function FG(n,e){if(n&1&&(f(0,"option",81),m(1),g()),n&2){let t=e.$implicit;R("value",t.value),C(),oe(" ",t.label," ")}}function LG(n,e){if(n&1&&(f(0,"option",81),m(1),g()),n&2){let t=e.$implicit;R("value",t),C(),oe(" ",t," ")}}function VG(n,e){if(n&1&&(f(0,"div",82)(1,"div",83)(2,"span",84),m(3,"Selected Range:"),g(),f(4,"span",85),m(5),g()()()),n&2){let t=F(2);C(5),rn("",t.customStartDate," to ",t.customEndDate)}}function jG(n,e){if(n&1){let t=Me();f(0,"div",70)(1,"div",71)(2,"div",72)(3,"label",73),m(4,"Select Month"),g(),f(5,"select",74),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.selectedMonthOnly,i)||(o.selectedMonthOnly=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onMonthOnlyChange())}),f(6,"option",75),m(7,"Select Month"),g(),K(8,FG,2,2,"option",76),g()(),f(9,"div",77)(10,"label",78),m(11,"Select Year"),g(),f(12,"select",79),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.selectedYearOnly,i)||(o.selectedYearOnly=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onMonthOnlyChange())}),f(13,"option",75),m(14,"Select Year"),g(),K(15,LG,2,2,"option",76),g()()(),K(16,VG,6,2,"div",80),g()}if(n&2){let t=F();C(5),_e("ngModel",t.selectedMonthOnly),C(3),R("ngForOf",t.availableMonths),C(4),_e("ngModel",t.selectedYearOnly),C(3),R("ngForOf",t.availableYears),C(),R("ngIf",t.customStartDate&&t.customEndDate)}}function UG(n,e){if(n&1&&(f(0,"div",86)(1,"div",22)(2,"span",87),m(3),g(),f(4,"span",88),m(5),g()(),f(6,"div",89)(7,"div",90),m(8),g(),f(9,"div",91)(10,"span",92),m(11),g(),f(12,"span",93),m(13),g()()()()),n&2){let t=e.$implicit;C(3),H(t.icon),C(2),H(t.title),C(3),H(t.value),C(),Rn("trend-"+t.trend),C(2),oe(" ",t.trend==="up"?"\u{1F4C8}":t.trend==="down"?"\u{1F4C9}":"\u27A1\uFE0F"," "),C(2),H(t.change)}}function BG(n,e){if(n&1&&(f(0,"div",106),nn(1,"div",107),f(2,"div",108)(3,"h4"),m(4),g(),f(5,"p"),m(6),g()()()),n&2){let t=e.$implicit;C(),Rn("priority-"+t.priority),C(3),H(t.title),C(2),H(t.description)}}function $G(n,e){if(n&1&&(f(0,"div",109)(1,"h4"),m(2,"Most Expensive Category"),g(),f(3,"p"),m(4),g()()),n&2){let t=F(2);C(4),rn("",t.getSpendingAnalytics().mostExpensiveCategory.name," - ",t.getSpendingAnalytics().mostExpensiveCategory.percentage.toFixed(1),"%")}}function zG(n,e){if(n&1&&(f(0,"div",109)(1,"h4"),m(2,"Least Expensive Category"),g(),f(3,"p"),m(4),g()()),n&2){let t=F(2);C(4),rn("",t.getSpendingAnalytics().leastExpensiveCategory.name," - ",t.getSpendingAnalytics().leastExpensiveCategory.percentage.toFixed(1),"%")}}function HG(n,e){if(n&1&&(f(0,"div",94)(1,"div",95)(2,"h2"),m(3,"\u{1F9E0} Smart Insights"),g(),f(4,"p"),m(5,"AI-powered recommendations based on your spending patterns"),g()(),f(6,"div",96)(7,"div",97)(8,"div",22)(9,"span",87),m(10,"\u{1F4A1}"),g(),f(11,"h3"),m(12,"Smart Recommendations"),g()(),f(13,"div",89),K(14,BG,7,4,"div",98),g()(),f(15,"div",99)(16,"div",22)(17,"span",87),m(18,"\u{1F4CA}"),g(),f(19,"h3"),m(20,"Spending Analytics"),g()(),f(21,"div",89)(22,"div",100)(23,"div",101)(24,"span",102),m(25,"Total Expenses"),g(),f(26,"span",103),m(27),g()(),f(28,"div",101)(29,"span",102),m(30,"Average Per Expense"),g(),f(31,"span",103),m(32),g()(),f(33,"div",101)(34,"span",102),m(35,"Highest Expense"),g(),f(36,"span",103),m(37),g()(),f(38,"div",101)(39,"span",102),m(40,"Recent Trend"),g(),f(41,"span",103),m(42),g()()()()(),f(43,"div",104)(44,"div",22)(45,"span",87),m(46,"\u{1F3F7}\uFE0F"),g(),f(47,"h3"),m(48,"Category Insights"),g()(),f(49,"div",89),K(50,$G,5,2,"div",105)(51,zG,5,2,"div",105),g()()()()),n&2){let t=F();C(14),R("ngForOf",t.getSmartRecommendations()),C(13),H(t.getSpendingAnalytics().totalExpenses),C(5),oe("\u20B9",t.getSpendingAnalytics().averagePerExpense.toFixed(0)),C(5),oe("\u20B9",t.getSpendingAnalytics().highestExpense.toFixed(0)),C(4),Rn("trend-"+t.getSpendingAnalytics().recentTrend.trend),C(),oe(" ",t.getSpendingAnalytics().recentTrend.trend," "),C(8),R("ngIf",t.getSpendingAnalytics().mostExpensiveCategory),C(),R("ngIf",t.getSpendingAnalytics().leastExpensiveCategory)}}function qG(n,e){if(n&1&&(f(0,"div",113)(1,"div",114)(2,"div",115),m(3),g(),f(4,"div",116),m(5),g(),f(6,"div",117),m(7),Ve(8,"number"),g()()()),n&2){let t=e.$implicit,r=F(2);pn("width",r.getCategoryPercentage((t==null?null:t.id)||""),"%")("background-color",(t==null?null:t.color)||"#999"),R("title",(t==null?null:t.name)+": "+r.getCategoryPercentage((t==null?null:t.id)||"")+"%"),C(3),H(t==null?null:t.name),C(2),oe("",r.getCategoryPercentage((t==null?null:t.id)||""),"%"),C(2),oe("\u20B9",mn(8,8,r.categoryTotals[(t==null?null:t.id)||""]||0))}}function WG(n,e){if(n&1&&(f(0,"div",110)(1,"div",111),K(2,qG,9,10,"div",112),g()()),n&2){let t=F();C(2),R("ngForOf",t.getCategoriesSortedByExpense())}}function GG(n,e){if(n&1&&(f(0,"div",145)(1,"span",146),m(2),g(),f(3,"span",147),m(4),g()()),n&2){let t=e.$implicit;Rn("insight-"+t.type),C(2),H(t.icon),C(2),H(t.text)}}function KG(n,e){if(n&1&&(f(0,"div",143),K(1,GG,5,4,"div",144),g()),n&2){let t=F().$implicit,r=F(2);C(),R("ngForOf",r.getCategoryInsights((t==null?null:t.id)||""))}}function YG(n,e){if(n&1&&(f(0,"div",148)(1,"span",149),m(2),g(),f(3,"span",150),m(4),g()()),n&2){let t=F().$implicit,r=F(2);C(2),H(r.getCategoryTrend((t==null?null:t.id)||"").icon),C(2),H(r.getCategoryTrend((t==null?null:t.id)||"").text)}}function QG(n,e){if(n&1){let t=Me();f(0,"div",120)(1,"div",121)(2,"div",122),m(3),g(),f(4,"div",123)(5,"div",124),nn(6,"div",125),g(),f(7,"div",126),m(8),g()()(),f(9,"div",127)(10,"div",128)(11,"div",129),m(12),g(),f(13,"div",130),m(14),g()(),f(15,"div",131)(16,"div",132)(17,"div",27)(18,"span",133),m(19,"\u{1F4CA}"),g(),f(20,"span",28),m(21,"Expenses"),g(),f(22,"span",29),m(23),g()(),f(24,"div",27)(25,"span",133),m(26,"\u{1F4B0}"),g(),f(27,"span",28),m(28,"Average"),g(),f(29,"span",29),m(30),g()(),f(31,"div",27)(32,"span",133),m(33,"\u{1F4C8}"),g(),f(34,"span",28),m(35,"Highest"),g(),f(36,"span",29),m(37),g()()()(),K(38,KG,2,1,"div",134),g(),f(39,"div",135)(40,"div",136)(41,"div",137),m(42),Ve(43,"number"),g(),K(44,YG,5,2,"div",138),g(),f(45,"div",139)(46,"button",140),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.viewCategoryDetails((i==null?null:i.id)||""))}),_c(),f(47,"svg",141),nn(48,"path",142),g(),yc(),f(49,"span"),m(50,"View Expenses"),g()()()()()}if(n&2){let t=e.$implicit,r=e.index,i=F(2);zt("empty-category",i.categoryTotals[(t==null?null:t.id)||""]===0),C(2),pn("background-color",(t==null?null:t.color)||"#999"),C(),oe(" ",(t==null?null:t.icon)||"\u{1F4CC}"," "),C(3),pn("width",i.getCategoryPercentage((t==null?null:t.id)||""),"%")("background-color",(t==null?null:t.color)||"#999"),C(2),oe("",i.getCategoryPercentage((t==null?null:t.id)||""),"%"),C(4),H((t==null?null:t.name)||"Unknown"),C(2),oe("#",r+1),C(9),H(i.getExpensesByCategory((t==null?null:t.id)||"").length),C(7),oe("\u20B9",(i.categoryTotals[(t==null?null:t.id)||""]/i.getExpensesByCategory((t==null?null:t.id)||"").length).toFixed(0)),C(7),oe("\u20B9",i.getMaxExpenseForCategory((t==null?null:t.id)||"")),C(),R("ngIf",i.getCategoryInsights((t==null?null:t.id)||"").length>0),C(4),oe("\u20B9",mn(43,18,i.categoryTotals[(t==null?null:t.id)||""]||0)),C(2),R("ngIf",i.getCategoryTrend((t==null?null:t.id)||""))}}function ZG(n,e){if(n&1&&(f(0,"div",118),K(1,QG,51,20,"div",119),g()),n&2){let t=F();C(),R("ngForOf",t.getCategoriesSortedByExpense())}}function JG(n,e){n&1&&(f(0,"div",151)(1,"div",152),m(2,"\u{1F3F7}\uFE0F"),g(),f(3,"h6"),m(4,"No Categories Found"),g(),f(5,"p"),m(6,"Add some categories to start tracking your expenses!"),g(),f(7,"div",153)(8,"a",154),m(9,"Add Categories"),g()()())}function XG(n,e){if(n&1&&(f(0,"div",169)(1,"span",170),m(2,"\u26A1"),g(),f(3,"span",171),m(4,"Priority"),g(),f(5,"span",183),m(6),g()()),n&2){let t=F(2).$implicit;C(5),Rn("priority-"+t.priority),C(),oe(" ",t.priority," ")}}function eK(n,e){n&1&&(f(0,"div",169)(1,"span",170),m(2,"\u{1F4B0}"),g(),f(3,"span",171),m(4,"Type"),g(),f(5,"span",184),m(6,"Large Expense"),g()())}function tK(n,e){if(n&1&&(f(0,"div",168),K(1,XG,7,3,"div",182)(2,eK,7,0,"div",182),g()),n&2){let t=F().$implicit;C(),R("ngIf",t.priority),C(),R("ngIf",t.amount>1e3)}}function nK(n,e){if(n&1&&(f(0,"div",145)(1,"span",146),m(2),g(),f(3,"span",147),m(4),g()()),n&2){let t=e.$implicit;Rn("insight-"+t.type),C(2),H(t.icon),C(2),H(t.text)}}function rK(n,e){if(n&1&&(f(0,"div",185),K(1,nK,5,4,"div",144),g()),n&2){let t=F().$implicit,r=F(2);C(),R("ngForOf",r.getExpenseInsights(t))}}function iK(n,e){if(n&1){let t=Me();f(0,"div",157)(1,"div",158)(2,"div",159)(3,"div",160),m(4),g(),f(5,"div",161)(6,"div",162),m(7),Ve(8,"date"),g()(),f(9,"div",163)(10,"div",137),m(11),Ve(12,"number"),g(),f(13,"div",164),m(14),g()()(),f(15,"div",165)(16,"div",166),m(17),g(),f(18,"div",167)(19,"div",168)(20,"div",169)(21,"span",170),m(22,"\u{1F3F7}\uFE0F"),g(),f(23,"span",171),m(24,"Category"),g(),f(25,"span",172),m(26),g()(),f(27,"div",169)(28,"span",170),m(29,"\u{1F4C5}"),g(),f(30,"span",171),m(31,"Day"),g(),f(32,"span",172),m(33),g()()(),K(34,tK,3,2,"div",173),g(),K(35,rK,2,1,"div",174),g(),f(36,"div",175)(37,"button",176),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.editExpense(i))}),_c(),f(38,"svg",141),nn(39,"path",177)(40,"path",178),g(),yc(),f(41,"span"),m(42,"Edit"),g()(),f(43,"button",179),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.deleteExpense(i))}),_c(),f(44,"svg",141),nn(45,"path",180)(46,"path",181),g(),yc(),f(47,"span"),m(48,"Delete"),g()()()()()}if(n&2){let t=e.$implicit,r=F(2);C(3),pn("background-color",r.getCategoryColor(t.categoryId)),C(),oe(" ",r.getCategoryIcon(t.categoryId)," "),C(3),H(Ot(8,13,t.date,"MMM dd, yyyy")),C(4),oe("\u20B9",mn(12,16,t.amount)),C(2),Rn(r.getAmountIndicator(t.amount)),C(),oe(" ",r.getAmountIndicator(t.amount)," "),C(3),H(t.description||"No description"),C(9),H(r.getCategoryName(t.categoryId)),C(7),H(r.getDayOfWeek(t.date)),C(),R("ngIf",t.priority||t.amount>1e3),C(),R("ngIf",r.getExpenseInsights(t).length>0)}}function oK(n,e){if(n&1&&(f(0,"div",155),K(1,iK,49,18,"div",156),g()),n&2){let t=F();C(),R("ngForOf",t.getRecentExpensesSorted())}}function sK(n,e){n&1&&(f(0,"div",151)(1,"div",152),m(2,"\u{1F4DD}"),g(),f(3,"h6"),m(4,"No Expenses Found"),g(),f(5,"p"),m(6,"Add some expenses to see them here!"),g(),f(7,"div",153)(8,"a",186),m(9,"Add Expenses"),g()()())}function aK(n,e){if(n&1&&(f(0,"div",189)(1,"div",114)(2,"div",190),m(3),g(),f(4,"div",117),m(5),Ve(6,"number"),g(),f(7,"div",191),m(8),g()()()),n&2){let t=e.$implicit,r=F(2);pn("height",t.amount/r.getMaxSpendingAmount()*100,"%"),C(3),H(t.day),C(2),oe("\u20B9",mn(6,5,t.amount)),C(3),oe("",t.count," expenses")}}function cK(n,e){if(n&1&&(f(0,"div",187),K(1,aK,9,7,"div",188),g()),n&2){let t=F();C(),R("ngForOf",t.getSpendingByDay())}}function lK(n,e){n&1&&(f(0,"div",192)(1,"div",152),m(2,"\u{1F4CA}"),g(),f(3,"h6"),m(4,"No Spending Data"),g(),f(5,"p"),m(6,"No expenses found for the selected period"),g()())}function uK(n,e){if(n&1&&(f(0,"div",195)(1,"div",196),m(2),g(),f(3,"div",197)(4,"div",198),m(5),g(),f(6,"div",199),m(7),g()(),f(8,"div",163),m(9),Ve(10,"number"),g()()),n&2){let t=e.$implicit,r=e.index,i=F(2);C(2),H(r+1),C(3),H(t.description||"No description"),C(2),H(i.getCategoryName(t.categoryId)),C(2),oe("\u20B9",mn(10,4,t.amount))}}function dK(n,e){if(n&1&&(f(0,"div",193),K(1,uK,11,6,"div",194),g()),n&2){let t=F();C(),R("ngForOf",t.getTopExpenses(5))}}function hK(n,e){n&1&&(f(0,"div",192)(1,"div",152),m(2,"\u{1F3C6}"),g(),f(3,"h6"),m(4,"No Top Expenses"),g(),f(5,"p"),m(6,"Add some expenses to see your top spending patterns"),g()())}function fK(n,e){if(n&1&&(f(0,"a",203)(1,"span",9),m(2),g(),f(3,"div",204)(4,"h4"),m(5),g(),f(6,"p"),m(7),g()()()),n&2){let t=F().$implicit;R("routerLink",t.route),C(2),H(t.icon),C(3),H(t.title),C(2),H(t.action)}}function gK(n,e){if(n&1){let t=Me();f(0,"button",205),G("click",function(){$(t);let i=F().$implicit;return z(i.method())}),f(1,"span",9),m(2),g(),f(3,"div",204)(4,"h4"),m(5),g(),f(6,"p"),m(7),g()()()}if(n&2){let t=F().$implicit;C(2),H(t.icon),C(3),H(t.title),C(2),H(t.action)}}function pK(n,e){if(n&1&&(f(0,"div",200),K(1,fK,8,4,"a",201)(2,gK,8,3,"button",202),g()),n&2){let t=e.$implicit;C(),R("ngIf",t.route),C(),R("ngIf",t.method)}}var V_=class n{constructor(e,t,r,i,o){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.filterStateService=i;this.router=o}expenses=[];categories=[];totalSpent=0;averageSpent=0;expenseCount=0;monthlyComparison={};selectedPeriod="all";selectedMonth="";selectedYear="";customStartDate="";customEndDate="";selectedMonthOnly="";selectedYearOnly="";categoryBreakdown=[];recentExpenses=[];currentMonthTotal=0;weeklyTotal=0;showInsights=!1;subscription=new We;ngOnInit(){this.loadFilterState();let e=new Date().getFullYear();for(let t=2020;t<=e+1;t++)this.availableYears.push(t.toString());this.subscription.add(this.firebaseService.expenses$.subscribe(t=>{this.expenses=t,this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateWeeklyData(),console.log(`Received ${t.length} expenses from Firebase`)})),this.subscription.add(this.firebaseService.categories$.subscribe(t=>{this.categories=t,console.log(`Received ${t.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return w(this,null,function*(){try{console.log("Loading dashboard data..."),this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.calculateTotals(),this.calculateCategoryBreakdown(),this.getRecentExpenses(),this.calculateWeeklyData(),console.log("Dashboard data loaded successfully")}catch(e){console.error("Error loading dashboard data:",e)}finally{}})}calculateTotals(){this.totalSpent=this.expenses.reduce((e,t)=>e+t.amount,0),this.expenseCount=this.expenses.length,this.averageSpent=this.expenseCount>0?this.totalSpent/this.expenseCount:0}calculateCategoryBreakdown(){let e={};this.expenses.forEach(t=>{let r=t.categoryId;e[r]?e[r]+=t.amount:e[r]=t.amount}),this.categoryBreakdown=Object.entries(e).map(([t,r])=>{let i=this.categories.find(o=>o.id===t);return{categoryId:t,categoryName:i?.name||"Unknown",categoryColor:i?.color||"#666",categoryIcon:i?.icon||"\u{1F4CC}",amount:r,percentage:r/this.totalSpent*100}}).sort((t,r)=>r.amount-t.amount)}getRecentExpenses(){this.recentExpenses=[...this.expenses].sort((e,t)=>{let r=new Date(e.date+"T00:00:00");return new Date(t.date+"T00:00:00").getTime()-r.getTime()}).slice(0,5)}calculateWeeklyData(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()),t.setHours(0,0,0,0),this.weeklyTotal=this.expenses.filter(r=>new Date(r.date)>=t).reduce((r,i)=>r+i.amount,0)}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#666"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getCategoryAmountColor(e){return this.categories.find(r=>r.id===e)?.color||"#3b82f6"}getFilteredExpenses(){let e=[...this.expenses];if(this.selectedPeriod!=="all"){let t=new Date;switch(this.selectedPeriod){case"monthly":let r=parseInt(this.selectedMonth),i=parseInt(this.selectedYear);e=e.filter(a=>{let c=new Date(a.date);return c.getMonth()===r&&c.getFullYear()===i});break;case"yearly":e=e.filter(a=>new Date(a.date).getFullYear()===t.getFullYear());break;case"last30":let o=new Date;o.setDate(t.getDate()-30),e=e.filter(a=>new Date(a.date)>=o);break;case"last7":let s=new Date;s.setDate(t.getDate()-7),e=e.filter(a=>new Date(a.date)>=s);break;case"custom":this.customStartDate&&this.customEndDate&&(e=e.filter(a=>{let c=new Date(a.date),u=new Date(this.customStartDate),d=new Date(this.customEndDate);return c>=u&&c<=d}));break;case"monthOnly":if(this.selectedMonthOnly&&this.selectedYearOnly){let a=parseInt(this.selectedMonthOnly),c=parseInt(this.selectedYearOnly);e=e.filter(u=>{let d=new Date(u.date);return d.getMonth()===a&&d.getFullYear()===c})}break}}return e}getFilteredTotal(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getFilterLabel(){switch(this.selectedPeriod){case"monthly":return"This Month";case"yearly":return"This Year";case"last30":return"Last 30 Days";case"last7":return"Last 7 Days";case"custom":return this.getCustomDateRangeLabel();default:return"All Time"}}getCustomDateRangeLabel(){if(!this.customStartDate||!this.customEndDate)return"Custom Range";let e=new Date(this.customStartDate),t=new Date(this.customEndDate),r=e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),i=t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${r} - ${i}`}loadFilterState(){let e=this.filterStateService.getFilterState();if(console.log("Loading filter state from service:",e),this.selectedPeriod=e.selectedPeriod,this.selectedMonth=e.selectedMonth,this.selectedYear=e.selectedYear,this.customStartDate=e.customStartDate,this.customEndDate=e.customEndDate,this.selectedMonthOnly=e.selectedMonthOnly||"",this.selectedYearOnly=e.selectedYearOnly||"",this.selectedPeriod==="monthOnly"&&(!this.selectedMonthOnly||!this.selectedYearOnly)){let t=new Date;this.selectedMonthOnly=t.getMonth().toString(),this.selectedYearOnly=t.getFullYear().toString(),console.log("Auto-selected current month and year on load:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.onMonthOnlyChange()}console.log("Filter state loaded into component:",{selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly})}onFilterChange(){if(console.log("Filter changed, saving state:",{selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate}),this.selectedPeriod==="monthOnly"){let e=new Date;this.selectedMonthOnly=e.getMonth().toString(),this.selectedYearOnly=e.getFullYear().toString(),console.log("Auto-selected current month and year:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.onMonthOnlyChange()}this.filterStateService.updateFilterState({selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly})}onCustomDateChange(){console.log("Custom date changed:",{start:this.customStartDate,end:this.customEndDate}),this.customStartDate&&this.customEndDate&&this.isCustomDateRangeValid()&&(console.log("Auto-applying custom date range filter"),this.onFilterChange())}onMonthOnlyChange(){if(console.log("Month only changed:",{month:this.selectedMonthOnly,year:this.selectedYearOnly}),this.selectedMonthOnly&&this.selectedYearOnly){let e=parseInt(this.selectedMonthOnly),t=parseInt(this.selectedYearOnly),r=new Date(Date.UTC(t,e,1)),i=new Date(Date.UTC(t,e+1,0)),o=s=>{let a=s.getUTCFullYear(),c=String(s.getUTCMonth()+1).padStart(2,"0"),u=String(s.getUTCDate()).padStart(2,"0");return`${a}-${c}-${u}`};console.log("Date calculations:",{monthIndex:e,year:t,startDate:r.toISOString(),endDate:i.toISOString(),startDateMonth:r.getUTCMonth(),startDateDate:r.getUTCDate(),endDateMonth:i.getUTCMonth(),endDateDate:i.getUTCDate()}),this.customStartDate=o(r),this.customEndDate=o(i),console.log("Month only filter applied:",{month:e,year:t,startDate:this.customStartDate,endDate:this.customEndDate}),this.filterStateService.updateFilterState({selectedPeriod:this.selectedPeriod,selectedMonth:this.selectedMonth,selectedYear:this.selectedYear,customStartDate:this.customStartDate,customEndDate:this.customEndDate,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly}),setTimeout(()=>{console.log("Month only filter state after delay:",{selectedPeriod:this.selectedPeriod,selectedMonthOnly:this.selectedMonthOnly,selectedYearOnly:this.selectedYearOnly,customStartDate:this.customStartDate,customEndDate:this.customEndDate})},100)}}isCustomDateRangeValid(){if(!this.customStartDate||!this.customEndDate)return!1;let e=new Date(this.customStartDate),t=new Date(this.customEndDate);return e<=t}clearCustomDateRange(){this.customStartDate="",this.customEndDate="",console.log("Custom date range cleared"),this.onFilterChange()}openDatePicker(){this.setDefaultDateRange("last30")}setDefaultDateRange(e){let t=new Date,r;switch(e){case"last7":r=new Date(t.getTime()-7*24*60*60*1e3);break;case"last30":r=new Date(t.getTime()-30*24*60*60*1e3);break;case"last90":r=new Date(t.getTime()-90*24*60*60*1e3);break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1);break;case"lastMonth":r=new Date(t.getFullYear(),t.getMonth()-1,1);let i=new Date(t.getFullYear(),t.getMonth(),0);this.customStartDate=r.toISOString().split("T")[0],this.customEndDate=i.toISOString().split("T")[0],this.onFilterChange();return}this.customStartDate=r.toISOString().split("T")[0],this.customEndDate=t.toISOString().split("T")[0],console.log(`Default date range set (${e}):`,{start:this.customStartDate,end:this.customEndDate}),this.onFilterChange()}getExpensesByCategory(e){return this.getFilteredExpenses().filter(t=>t.categoryId===e)}get categoryTotals(){let e={},t=this.getFilteredExpenses();return this.categories.forEach(r=>{e[r.id]=t.filter(i=>i.categoryId===r.id).reduce((i,o)=>i+o.amount,0)}),e}get monthlyTotal(){return this.currentMonthTotal}getRecentExpensesSorted(){let e=[...this.expenses].sort((t,r)=>{let i=new Date(t.date+"T00:00:00");return new Date(r.date+"T00:00:00").getTime()-i.getTime()}).slice(0,5);return e.length>0&&console.log("Recent expenses sorted by date (latest first):",e.map(t=>({date:t.date,description:t.description,amount:t.amount}))),e}getFilteredExpensesSorted(){return this.getFilteredExpenses().sort((e,t)=>t.amount-e.amount)}getCategoriesSortedByExpense(){return[...this.categories].filter(e=>(this.categoryTotals[e.id]||0)>0).sort((e,t)=>{let r=this.categoryTotals[e.id]||0;return(this.categoryTotals[t.id]||0)-r})}getBudgetProgress(){return null}getDailyAverage(){let e=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),t=new Date().getDate();return this.currentMonthTotal/t}getPotentialSavings(){return 0}getSavingsTip(){return null}getCategoryPercentage(e){let t=this.getFilteredTotal();if(t===0)return 0;let r=this.categoryTotals[e]||0;return parseFloat((r/t*100).toFixed(2))}getCategoryTrendLegacy(e){return null}getTopSpendingCategory(){let e=this.getFilteredExpenses();if(e.length===0)return null;let t={};e.forEach(i=>{let o=i.categoryId;t[o]?t[o]+=i.amount:t[o]=i.amount});let r=Object.entries(t).map(([i,o])=>{let s=this.categories.find(a=>a.id===i);return{categoryId:i,categoryName:s?.name||"Unknown",amount:o}}).sort((i,o)=>o.amount-i.amount);return r.length===0?null:{name:r[0].categoryName,amount:r[0].amount}}getSpendingPattern(){let e=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);return e>1e3?"High Value":e>500?"Medium Value":"Low Value"}getPatternDescription(){switch(this.getSpendingPattern()){case"High Value":return"Large individual expenses";case"Medium Value":return"Moderate spending pattern";case"Low Value":return"Small frequent expenses";default:return"Balanced spending"}}getQuickWin(){let e=this.getTopSpendingCategory();return e&&e.amount>this.monthlyTotal*.4?{title:`Reduce ${e.name} spending`,description:`This category represents ${(e.amount/this.getFilteredTotal()*100).toFixed(1)}% of your expenses`}:null}getAchievement(){return this.currentMonthTotal<this.monthlyTotal*.5?{title:"Budget Master!",description:"You're under 50% of your monthly budget"}:null}getMonthlyTrends(){let e=[],t=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe"];for(let r=5;r>=0;r--){let i=new Date;i.setMonth(i.getMonth()-r);let s=this.expenses.filter(u=>{let d=new Date(u.date);return d.getMonth()===i.getMonth()&&d.getFullYear()===i.getFullYear()}).reduce((u,d)=>u+d.amount,0),a=Math.max(...this.getMonthlyAmounts()),c=a>0?s/a*100:0;e.push({name:i.toLocaleDateString("en-US",{month:"short"}),amount:s,percentage:c,color:t[r]})}return e}getMonthlyAmounts(){let e=[];for(let t=5;t>=0;t--){let r=new Date;r.setMonth(r.getMonth()-t);let i=this.expenses.filter(o=>{let s=new Date(o.date);return s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear()});e.push(i.reduce((o,s)=>o+s.amount,0))}return e}toggleInsights(){this.showInsights=!this.showInsights,this.showInsights&&setTimeout(()=>{let e=document.getElementById("insights-section");if(e){let i=e.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:i,behavior:"smooth"})}},150)}viewAllExpenses(){this.router.navigate(["/expenses"])}editExpense(e){try{let t=window.prompt("Description:",e.description)||e.description,r=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),i=window.prompt("Date (YYYY-MM-DD):",e.date)||e.date,o=parseFloat(r);if(isNaN(o)||o<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){alert("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let a=ue(U({},e),{description:t,amount:o,date:i});this.expenseService.update(a).then(()=>{console.log("Expense updated successfully")}).catch(c=>{console.error("Error updating expense:",c),alert("Error updating expense. Please try again.")})}catch(t){console.error("Error editing expense:",t),alert("Error editing expense. Please try again.")}}deleteExpense(e){window.confirm(`Are you sure you want to delete this expense?

Description: ${e.description}
Amount: \u20B9${e.amount}
Date: ${e.date}`)&&this.expenseService.delete(e.id).then(()=>{console.log("Expense deleted successfully"),alert("Expense deleted successfully!")}).catch(r=>{console.error("Error deleting expense:",r),alert("Error deleting expense. Please try again.")})}getSmartInsights(){let e=[],t=this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1);t>1e3&&e.push({title:"High-Value Spending Pattern",description:`Your average expense is \u20B9${t.toFixed(0)}, indicating large purchases. Consider breaking down big expenses.`});let r=this.getTopSpendingCategory();r&&r.amount/this.getFilteredTotal()>.5&&e.push({title:"Category Concentration Alert",description:`${r.name} represents ${(r.amount/this.getFilteredTotal()*100).toFixed(1)}% of your spending. Consider diversifying.`});let i=this.weeklyTotal;i>this.currentMonthTotal/4&&e.push({title:"High Weekly Spending",description:`This week's spending (\u20B9${i.toFixed(0)}) is above average. Monitor your daily expenses.`});let o=this.getPotentialSavings();return o>0&&e.push({title:"Savings Opportunity",description:`You could save \u20B9${o.toFixed(0)} by optimizing your spending patterns.`}),e}getQuickActions(){return[{title:"Add Expense",action:"Quick Entry",icon:"\u2795",route:"/expenses"},{title:"View Reports",action:"Monthly Analysis",icon:"\u{1F4CA}",route:"/reports"},{title:"Manage Categories",action:"Organize",icon:"\u{1F3F7}\uFE0F",route:"/categories"},{title:"Export Data",action:"Download",icon:"\u{1F4E5}",method:()=>this.exportData()}]}getSpendingAnalytics(){let e=this.getFilteredExpenses(),t=this.getFilteredTotal();return{totalExpenses:e.length,totalAmount:t,averagePerExpense:e.length>0?t/e.length:0,highestExpense:Math.max(...e.map(r=>r.amount)),lowestExpense:Math.min(...e.map(r=>r.amount)),mostExpensiveCategory:this.getMostExpensiveCategory(),leastExpensiveCategory:this.getLeastExpensiveCategory(),spendingByDay:this.getSpendingByDay(),spendingByWeek:this.getSpendingByWeek(),spendingByMonth:this.getSpendingByMonth(),topExpenses:this.getTopExpenses(5),recentTrend:this.getRecentSpendingTrend()}}getMostExpensiveCategory(){let e=this.categoryTotals,t=this.getFilteredTotal();if(t===0)return null;let r=Object.entries(e).reduce((o,[s,a])=>a>o.amount?{id:s,amount:a}:o,{id:"",amount:0});return{name:this.categories.find(o=>o.id===r.id)?.name||"Unknown",amount:r.amount,percentage:r.amount/t*100}}getLeastExpensiveCategory(){let e=this.categoryTotals,t=this.getFilteredTotal();if(t===0)return null;let r=Object.entries(e).reduce((o,[s,a])=>a<o.amount?{id:s,amount:a}:o,{id:"",amount:1/0});return{name:this.categories.find(o=>o.id===r.id)?.name||"Unknown",amount:r.amount,percentage:r.amount/t*100}}getSpendingByDay(){let e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t={};return e.forEach(r=>{t[r]={amount:0,count:0}}),this.getFilteredExpenses().forEach(r=>{let i=new Date(r.date).toLocaleDateString("en-US",{weekday:"long"});t[i].amount+=r.amount,t[i].count+=1}),e.map(r=>({day:r,amount:t[r].amount,count:t[r].count}))}getSpendingByWeek(){let e={};return this.getFilteredExpenses().forEach(t=>{let r=new Date(t.date),i=new Date(r);i.setDate(r.getDate()-r.getDay());let o=i.toISOString().split("T")[0];e[o]||(e[o]={amount:0,count:0}),e[o].amount+=t.amount,e[o].count+=1}),Object.entries(e).map(([t,r])=>({week:new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}),amount:r.amount,count:r.count})).sort((t,r)=>new Date(t.week).getTime()-new Date(r.week).getTime())}getSpendingByMonth(){let e={};return this.getFilteredExpenses().forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${r.getMonth()}`;e[i]||(e[i]={amount:0,count:0}),e[i].amount+=t.amount,e[i].count+=1}),Object.entries(e).map(([t,r])=>({month:new Date(t+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"}),amount:r.amount,count:r.count})).sort((t,r)=>new Date(t.month).getTime()-new Date(r.month).getTime())}getTopExpenses(e){return[...this.getFilteredExpenses()].sort((t,r)=>r.amount-t.amount).slice(0,e)}getRecentSpendingTrend(){let e=this.getRecentExpensesSorted().slice(0,10);if(e.length<5)return{trend:"stable",percentage:0};let t=Math.floor(e.length/2),r=e.slice(0,t),i=e.slice(t),o=r.reduce((c,u)=>c+u.amount,0),s=i.reduce((c,u)=>c+u.amount,0);if(o===0)return{trend:"stable",percentage:0};let a=(s-o)/o*100;return a>10?{trend:"increasing",percentage:a}:a<-10?{trend:"decreasing",percentage:a}:{trend:"stable",percentage:a}}exportData(){let e={expenses:this.expenses,categories:this.categories,analytics:this.getSpendingAnalytics(),exportDate:new Date().toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`expense-tracker-data-${new Date().toISOString().split("T")[0]}.json`,i.click(),window.URL.revokeObjectURL(r)}getSmartRecommendations(){let e=[],t=this.getTopSpendingCategory();return t&&t.amount/this.getFilteredTotal()>.6&&e.push({title:"Category Diversification",description:`Consider reducing spending in ${t.name} category.`,priority:"medium"}),this.expenses.filter(i=>i.amount>1e3).length>3&&e.push({title:"Large Expenses Review",description:"You have several large expenses. Consider if all are necessary.",priority:"medium"}),e}getSmartFilters(){return[{label:"All Time",value:"all",description:"Complete expense history"},{label:"This Month",value:"monthly",description:"Current month expenses"},{label:"This Year",value:"yearly",description:"Current year expenses"},{label:"Last 30 Days",value:"last30",description:"Recent month activity"},{label:"Last 7 Days",value:"last7",description:"This week's expenses"},{label:"Specific Month/Year",value:"monthOnly",description:"Select specific month and year"},{label:"Custom Range",value:"custom",description:"Select specific dates"}]}getQuickSummaryCards(){return[{title:"Total Spent",value:`\u20B9${this.getFilteredTotal().toLocaleString()}`,change:"Current period",trend:"stable",icon:"\u{1F4B0}"},{title:"Expense Count",value:this.getFilteredExpenses().length.toString(),change:`${this.getFilteredExpenses().length} this period`,trend:"stable",icon:"\u{1F4CA}"},{title:"Average Per Expense",value:`\u20B9${(this.getFilteredTotal()/Math.max(this.getFilteredExpenses().length,1)).toFixed(0)}`,change:"Per transaction",trend:"stable",icon:"\u{1F4C8}"},{title:"Top Category",value:this.getTopSpendingCategory()?.name||"No Data",change:this.getTopSpendingCategory()&&this.getFilteredTotal()>0?`${(this.getTopSpendingCategory().amount/this.getFilteredTotal()*100).toFixed(1)}%`:"No expenses",trend:"stable",icon:"\u{1F3F7}\uFE0F"}]}viewCategoryDetails(e){let t=this.filterStateService.getFilterState();this.router.navigate(["/expenses"],{queryParams:{category:e,filter:"category",period:t.selectedPeriod,month:t.selectedMonth,year:t.selectedYear,startDate:t.customStartDate,endDate:t.customEndDate,monthOnly:t.selectedMonthOnly,yearOnly:t.selectedYearOnly}})}getMaxSpendingAmount(){let e=this.getSpendingByDay();return e.length===0?0:Math.max(...e.map(t=>t.amount))}getDayOfWeek(e){return new Date(e).toLocaleDateString("en-US",{weekday:"short"})}getMaxExpenseForCategory(e){let t=this.getExpensesByCategory(e);return t.length===0?0:Math.max(...t.map(r=>r.amount))}getCurrentMonthName(){return new Date().toLocaleDateString("en-US",{month:"long"})}getCurrentYear(){return new Date().getFullYear().toString()}getSelectedMonthName(){let e=parseInt(this.selectedMonth);return["January","February","March","April","May","June","July","August","September","October","November","December"][e]||"January"}getSelectedYear(){return this.selectedYear||new Date().getFullYear().toString()}availableMonths=[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}];availableYears=[];getLastWeekTotal(){let e=new Date;return e.setDate(e.getDate()-7),this.expenses.filter(t=>new Date(t.date)>=e).reduce((t,r)=>t+r.amount,0)}getAmountIndicator(e){return e>5e3?"high":e>1e3?"medium":"low"}getCategoryInsights(e){let t=[],r=this.getExpensesByCategory(e),i=this.categoryTotals[e]||0,o=r.length>0?i/r.length:0;return i>this.getFilteredTotal()*.4&&t.push({type:"high",icon:"\u26A0\uFE0F",text:"High spending category"}),o>2e3&&t.push({type:"medium",icon:"\u{1F4B0}",text:"High average expense"}),r.length>10&&t.push({type:"low",icon:"\u{1F4CA}",text:"Frequent expenses"}),t}getCategoryTrend(e){let t=this.categoryTotals[e]||0,r=this.getFilteredTotal()/Object.keys(this.categoryTotals).length;return t>r*1.2?{icon:"\u{1F4C8}",text:"Above average"}:t<r*.8?{icon:"\u{1F4C9}",text:"Below average"}:{icon:"\u27A1\uFE0F",text:"Stable"}}getExpenseInsights(e){let t=[];e.amount>5e3&&t.push({type:"high",icon:"\u{1F4B0}",text:"Large expense"}),e.amount>this.getAverageExpense()*2&&t.push({type:"medium",icon:"\u{1F4CA}",text:"Above average"});let r=new Date(e.date);return Math.floor((new Date().getTime()-r.getTime())/(1e3*60*60*24))<=1&&t.push({type:"low",icon:"\u{1F195}",text:"Recent"}),t}getAverageExpense(){return this.expenses.length===0?0:this.expenses.reduce((e,t)=>e+t.amount,0)/this.expenses.length}static \u0275fac=function(t){return new(t||n)(W(ki),W(Ri),W(Bn),W(kl),W(Ze))};static \u0275cmp=dt({type:n,selectors:[["app-dashboard"]],decls:101,vars:24,consts:[[1,"dashboard-container"],[1,"smart-header"],[1,"header-content"],[1,"header-left"],[1,"dashboard-title"],[1,"dashboard-subtitle"],[1,"quick-actions"],[1,"action-buttons"],["routerLink","/expenses",1,"action-btn","primary"],[1,"action-icon"],[1,"action-text"],[1,"action-btn","secondary",3,"click"],[1,"smart-filters"],[1,"filter-tabs"],["class","filter-tab",3,"active","click",4,"ngFor","ngForOf"],["class","custom-date-range",4,"ngIf"],["class","month-only-filter",4,"ngIf"],[1,"summary-grid"],["class","summary-card",4,"ngFor","ngForOf"],["id","insights-section","class","insights-section",4,"ngIf"],[1,"content-grid"],[1,"content-card","category-section"],[1,"card-header"],[1,"header-icon"],[1,"header-title"],[1,"header-right"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"card-body"],["class","category-summary",4,"ngIf"],["class","category-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"content-card","recent-section"],[1,"expense-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["class","expense-timeline",4,"ngIf"],[1,"content-card","patterns-section"],[1,"pattern-section"],["class","pattern-chart",4,"ngIf"],["class","empty-state compact",4,"ngIf"],["class","top-expenses",4,"ngIf"],[1,"quick-actions-panel"],[1,"panel-header"],[1,"actions-grid"],["class","action-item",4,"ngFor","ngForOf"],[1,"filter-tab",3,"click"],[1,"filter-label"],[1,"filter-description"],[1,"custom-date-range"],[1,"date-range-container"],[1,"date-input-group"],[1,"date-label"],["type","date","placeholder","Start date",1,"date-input",3,"ngModelChange","change","ngModel"],[1,"date-separator"],[1,"separator-text"],[1,"end-date-container"],["type","date","placeholder","End date",1,"date-input",3,"ngModelChange","change","ngModel"],["class","clear-date-btn","title","Clear date range",3,"click",4,"ngIf"],["class","date-validation",4,"ngIf"],["title","Clear date range",1,"clear-date-btn",3,"click"],[1,"clear-icon"],[1,"date-validation"],[1,"validation-message"],[1,"validation-icon"],[1,"validation-text"],[1,"month-only-filter"],[1,"month-only-container"],[1,"month-input-group"],[1,"month-label"],[1,"month-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"year-input-group"],[1,"year-label"],[1,"year-select",3,"ngModelChange","change","ngModel"],["class","month-range-display",4,"ngIf"],[3,"value"],[1,"month-range-display"],[1,"range-info"],[1,"range-label"],[1,"range-dates"],[1,"summary-card"],[1,"card-icon"],[1,"card-title"],[1,"card-content"],[1,"card-value"],[1,"card-change"],[1,"change-icon"],[1,"change-text"],["id","insights-section",1,"insights-section"],[1,"section-header"],[1,"insights-grid"],[1,"insight-card","recommendations"],["class","recommendation-item",4,"ngFor","ngForOf"],[1,"insight-card","analytics"],[1,"analytics-grid"],[1,"analytics-item"],[1,"analytics-label"],[1,"analytics-value"],[1,"insight-card","categories"],["class","category-insight",4,"ngIf"],[1,"recommendation-item"],[1,"rec-priority"],[1,"rec-content"],[1,"category-insight"],[1,"category-summary"],[1,"summary-chart"],["class","chart-bar",3,"width","background-color","title",4,"ngFor","ngForOf"],[1,"chart-bar",3,"title"],[1,"bar-tooltip"],[1,"tooltip-category"],[1,"tooltip-percentage"],[1,"tooltip-amount"],[1,"category-list"],["class","category-item",3,"empty-category",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-visual"],[1,"category-icon"],[1,"category-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-label"],[1,"category-info"],[1,"category-header"],[1,"category-name"],[1,"category-rank"],[1,"category-stats"],[1,"stat-row"],[1,"stat-icon"],["class","category-insights",4,"ngIf"],[1,"category-amount"],[1,"amount-display"],[1,"amount-value"],["class","amount-trend",4,"ngIf"],[1,"category-actions"],["title","View Category Expenses",1,"action-btn","primary",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z","fill","currentColor"],[1,"category-insights"],["class","insight-badge",3,"class",4,"ngFor","ngForOf"],[1,"insight-badge"],[1,"insight-icon"],[1,"insight-text"],[1,"amount-trend"],[1,"trend-icon"],[1,"trend-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-action"],["routerLink","/categories",1,"btn"],[1,"expense-timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"expense-card"],[1,"expense-header"],[1,"expense-icon"],[1,"expense-meta"],[1,"expense-date"],[1,"expense-amount"],[1,"amount-indicator"],[1,"expense-content"],[1,"expense-description"],[1,"expense-details"],[1,"detail-row"],[1,"detail-item"],[1,"detail-icon"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["class","expense-insights",4,"ngIf"],[1,"expense-actions"],["title","Edit Expense",1,"action-btn","primary",3,"click"],["d","M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Delete",1,"action-btn","danger",3,"click"],["d","M3 6h18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","detail-item",4,"ngIf"],[1,"detail-value","priority-badge"],[1,"detail-value","type-badge","large-expense"],[1,"expense-insights"],["routerLink","/expenses",1,"btn"],[1,"pattern-chart"],["class","chart-bar",3,"height",4,"ngFor","ngForOf"],[1,"chart-bar"],[1,"tooltip-day"],[1,"tooltip-count"],[1,"empty-state","compact"],[1,"top-expenses"],["class","top-expense",4,"ngFor","ngForOf"],[1,"top-expense"],[1,"rank"],[1,"expense-info"],[1,"expense-name"],[1,"expense-category"],[1,"action-item"],["class","action-card",3,"routerLink",4,"ngIf"],["class","action-card",3,"click",4,"ngIf"],[1,"action-card",3,"routerLink"],[1,"action-content"],[1,"action-card",3,"click"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),m(5,"\u{1F4CA} Smart Dashboard"),g(),f(6,"p",5),m(7,"Complete financial overview at a glance"),g()(),f(8,"div",6)(9,"div",7)(10,"button",8)(11,"span",9),m(12,"\u2795"),g(),f(13,"span",10),m(14,"Add Expense"),g()(),f(15,"button",11),G("click",function(){return r.exportData()}),f(16,"span",9),m(17,"\u{1F4E5}"),g(),f(18,"span",10),m(19,"Export Data"),g()(),f(20,"button",11),G("click",function(){return r.toggleInsights()}),f(21,"span",9),m(22),g(),f(23,"span",10),m(24),g()()()()()(),f(25,"div",12)(26,"div",13),K(27,AG,5,4,"button",14),g(),K(28,NG,16,4,"div",15),g(),K(29,jG,17,5,"div",16),f(30,"div",17),K(31,UG,14,7,"div",18),g(),K(32,HG,52,9,"div",19),f(33,"div",20)(34,"div",21)(35,"div",22)(36,"div",3)(37,"span",23),m(38,"\u{1F3F7}\uFE0F"),g(),f(39,"h5",24),m(40,"Category-wise Spending"),g()(),f(41,"div",25)(42,"div",26)(43,"div",27)(44,"span",28),m(45,"Total"),g(),f(46,"span",29),m(47),Ve(48,"number"),g()(),f(49,"div",27)(50,"span",28),m(51,"Period"),g(),f(52,"span",29),m(53),g()()()()(),f(54,"div",30),K(55,WG,3,1,"div",31)(56,ZG,2,1,"div",32)(57,JG,10,0,"div",33),g()(),f(58,"div",34)(59,"div",22)(60,"div",3)(61,"span",23),m(62,"\u{1F4DD}"),g(),f(63,"h5",24),m(64,"Recent Expenses"),g()(),f(65,"div",25)(66,"div",35)(67,"div",36)(68,"span",37),m(69,"Last 7 days"),g(),f(70,"span",38),m(71),Ve(72,"number"),g()()(),f(73,"button",39),G("click",function(){return r.viewAllExpenses()}),m(74," View All "),g()()(),f(75,"div",30),K(76,oK,2,1,"div",40)(77,sK,10,0,"div",33),g()(),f(78,"div",41)(79,"div",22)(80,"span",23),m(81,"\u{1F4C8}"),g(),f(82,"h5",24),m(83,"Spending Patterns"),g()(),f(84,"div",30)(85,"div",42)(86,"h6"),m(87,"Spending by Day of Week"),g(),K(88,cK,2,1,"div",43)(89,lK,7,0,"div",44),g(),f(90,"div",42)(91,"h6"),m(92,"Top 5 Expenses"),g(),K(93,dK,2,1,"div",45)(94,hK,7,0,"div",44),g()()()(),f(95,"div",46)(96,"div",47)(97,"h3"),m(98,"\u26A1 Quick Actions"),g()(),f(99,"div",48),K(100,pK,3,2,"div",49),g()()()),t&2&&(C(22),H(r.showInsights?"\u{1F4CA}":"\u{1F50D}"),C(2),H(r.showInsights?"Hide Insights":"Show Insights"),C(3),R("ngForOf",r.getSmartFilters()),C(),R("ngIf",r.selectedPeriod==="custom"),C(),R("ngIf",r.selectedPeriod==="monthOnly"),C(2),R("ngForOf",r.getQuickSummaryCards()),C(),R("ngIf",r.showInsights),C(15),oe("\u20B9",mn(48,20,r.getFilteredTotal())),C(6),H(r.getFilterLabel()),C(2),R("ngIf",r.getCategoriesSortedByExpense().length>0),C(),R("ngIf",r.getCategoriesSortedByExpense().length>0),C(),R("ngIf",r.getCategoriesSortedByExpense().length===0),C(14),oe("\u20B9",mn(72,22,r.getLastWeekTotal())),C(5),R("ngIf",r.getRecentExpensesSorted().length>0),C(),R("ngIf",r.getRecentExpensesSorted().length===0),C(11),R("ngIf",r.getSpendingByDay().length>0&&r.getMaxSpendingAmount()>0),C(),R("ngIf",r.getSpendingByDay().length===0||r.getMaxSpendingAmount()===0),C(4),R("ngIf",r.getTopExpenses(5).length>0),C(),R("ngIf",r.getTopExpenses(5).length===0),C(6),R("ngForOf",r.getQuickActions()))},dependencies:[mt,gr,Mt,Yt,Es,Ps,Gt,Ai,Kt,Vt,Ab,ts,qC,oa],styles:[`@charset "UTF-8";html[_ngcontent-%COMP%]{scroll-behavior:smooth}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{box-shadow:0 0 5px #a855f74d}50%{box-shadow:0 0 20px #a855f799}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.dashboard-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe);min-height:100vh;padding:1.25rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#1e293b}.smart-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);border-radius:16px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 8px 30px #a855f726}.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem}@media (max-width: 768px){.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex:1}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:700;margin:0 0 .5rem;letter-spacing:-.025em}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0 0 1rem;font-weight:400}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);border-radius:50px;padding:.75rem 1.5rem;font-size:.875rem;font-weight:500;color:#fff;display:inline-flex;align-items:center;gap:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .2s ease}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .period-icon[_ngcontent-%COMP%]{font-size:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .period-text[_ngcontent-%COMP%]{font-weight:500}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-monthly[_ngcontent-%COMP%]{background:#22c55e33;border-color:#22c55e4d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-yearly[_ngcontent-%COMP%]{background:#3b82f633;border-color:#3b82f64d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-last30[_ngcontent-%COMP%]{background:#f59e0b33;border-color:#f59e0b4d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-last7[_ngcontent-%COMP%]{background:#10b98133;border-color:#10b9814d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge.period-custom[_ngcontent-%COMP%]{background:#ef444433;border-color:#ef44444d}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{margin-left:.5rem;display:flex;gap:.5rem;align-items:flex-end;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);max-width:280px;flex-wrap:wrap}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#ffffffe6;text-transform:uppercase;letter-spacing:.5px;margin:0}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{background:#fafbfcf2;border:1px solid rgba(250,251,252,.3);border-radius:6px;padding:.375rem 1.5rem .375rem .5rem;font-size:.8rem;font-weight:600;color:#1e293b;cursor:pointer;transition:all .2s ease;min-width:80px;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .3rem center;background-repeat:no-repeat;background-size:1em}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover{border-color:#ffffff80;background-color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#fffc;background-color:#fff;box-shadow:0 0 0 3px #fff3}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{min-width:70px;max-width:90px}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{min-width:60px;max-width:75px}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}@media (max-width: 768px){.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:center}}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.25rem;border-radius:12px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;text-decoration:none;font-size:.875rem;flex:1;min-width:140px;justify-content:center}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:#fff3;border-color:#ffffff4d}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.125rem}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-text[_ngcontent-%COMP%]{font-size:.875rem}.smart-filters[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;color:#64748b;padding:.625rem 1.25rem;border-radius:10px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;gap:.25rem;font-size:.875rem}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-color:#3b82f6;color:#fff;box-shadow:0 4px 15px #3b82f633}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .filter-description[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:1.5rem;margin-top:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;flex-wrap:wrap}@media (max-width: 768px){.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:150px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid #e5e7eb;border-radius:12px;font-size:.875rem;background:#fff;color:#374151;transition:all .2s ease;cursor:pointer}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:hover{border-color:#d1d5db}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{flex:1}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]:hover{background:#ef44441a}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;font-weight:600}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{color:#dc2626}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;padding:0 .5rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-range-container[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280;background:#f3f4f6;padding:.5rem 1rem;border-radius:8px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message.valid[_ngcontent-%COMP%]{background:#22c55e1a;color:#059669;border:1px solid rgba(34,197,94,.2)}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message.invalid[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   .validation-icon[_ngcontent-%COMP%]{font-size:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .date-validation[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]   .validation-text[_ngcontent-%COMP%]{font-size:.875rem}.month-only-filter[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:2rem;margin-top:1.5rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:16px;padding:2rem;margin-bottom:1rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:2rem;justify-content:center;flex-wrap:wrap;margin-bottom:1.5rem}@media (max-width: 768px){.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:center}}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;min-width:180px;position:relative}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#1e293b;text-align:center;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.25rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{padding:1rem 2.5rem 1rem 1.25rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;font-weight:600;background:#fff;color:#1e293b;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;box-shadow:0 2px 4px #0000000d;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:focus, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f626,0 4px 12px #3b82f61a;transform:translateY(-1px)}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]:hover, .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f61a;transform:translateY(-1px)}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:500;padding:.5rem}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .month-input-group[_ngcontent-%COMP%]:has(select:focus), .month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]   .year-input-group[_ngcontent-%COMP%]:has(select:focus){transform:scale(1.02);transition:transform .2s ease}.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:2px;height:60px;background:linear-gradient(135deg,#e2e8f0,#cbd5e1);border-radius:1px}@media (max-width: 768px){.month-only-filter[_ngcontent-%COMP%]   .month-only-container[_ngcontent-%COMP%]:after{display:none}}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;border-radius:12px;font-size:.95rem;font-weight:600;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;box-shadow:0 4px 15px #3b82f64d;transition:all .3s ease}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-label[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;letter-spacing:.5px;font-size:.8rem;opacity:.9}.month-only-filter[_ngcontent-%COMP%]   .month-range-display[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-dates[_ngcontent-%COMP%]{font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,monospace;font-weight:700;font-size:1rem;letter-spacing:.5px}.month-only-filter[_ngcontent-%COMP%]:before{content:"\\1f4c5  Select Month & Year";display:block;text-align:center;font-size:1.1rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem;letter-spacing:.5px}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:2rem;border:1px solid rgba(139,92,246,.08);box-shadow:0 4px 20px #8b5cf614,0 8px 32px #0000000a,inset 0 1px #fffc;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#a855f7,#7c3aed,#6d28d9);opacity:0;transition:opacity .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(168,85,247,.03) 50%,transparent 70%);transform:rotate(45deg) translate(-100%);transition:transform .6s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 40px #8b5cf626,0 20px 60px #00000014,inset 0 1px #ffffffe6;border-color:#8b5cf626}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover:before{opacity:1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover:after{transform:rotate(45deg) translate(100%)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover   .card-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{background-position:0% 50%}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover   .card-value[_ngcontent-%COMP%]{transform:scale(1.05)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;margin-bottom:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.25rem;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:60px;height:60px;background:radial-gradient(circle,rgba(168,85,247,.1) 0%,transparent 70%);border-radius:50%;transform:translate(-50%,-50%) scale(0);transition:transform .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:hover:before{transform:translate(-50%,-50%) scale(1)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0;letter-spacing:.025em;transition:all .3s ease;background-size:200% 200%}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;letter-spacing:-.02em;line-height:1.1;transition:all .3s ease;position:relative}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:0;height:2px;background:linear-gradient(90deg,#a855f7,#7c3aed);transition:width .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]:hover:after{width:100%}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:.95rem;font-weight:600;padding:.75rem 1rem;border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#a855f70d,#7c3aed0d);opacity:0;transition:opacity .3s ease}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]:hover:before{opacity:1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]{color:#dc2626;background:linear-gradient(135deg,#dc262614,#ef444414);border:1px solid rgba(220,38,38,.15)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]{color:#16a34a;background:linear-gradient(135deg,#16a34a14,#22c55e14);border:1px solid rgba(22,163,74,.15)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]{color:#64748b;background:linear-gradient(135deg,#64748b14,#94a3b814);border:1px solid rgba(100,116,139,.15)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:1.125rem;transition:all .3s ease;position:relative;z-index:1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{position:relative;z-index:1;font-weight:600;letter-spacing:.025em}.insights-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:1.75rem;margin-bottom:1rem;box-shadow:0 4px 20px #8b5cf614,0 8px 32px #0000000a,inset 0 1px #fffc;border:1px solid rgba(139,92,246,.08);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .3s both}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .75rem;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700;font-size:1.75rem;letter-spacing:.025em}.insights-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-size:1rem;margin:0;font-weight:500;letter-spacing:.025em}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.25rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:.75rem 0;border-bottom:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority[_ngcontent-%COMP%]{width:3px;border-radius:2px}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-high[_ngcontent-%COMP%]{background:#dc2626}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-medium[_ngcontent-%COMP%]{background:#f59e0b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-priority.priority-low[_ngcontent-%COMP%]{background:#16a34a}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]{flex:1}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .rec-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#64748b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]{text-align:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]   .analytics-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-bottom:.25rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .analytics-grid[_ngcontent-%COMP%]   .analytics-item[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #e2e8f0}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]:last-child{border-bottom:none}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.875rem;font-weight:600;color:#1e293b}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]   .insight-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category-insight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#64748b}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:1.25rem;margin-bottom:1rem}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.content-grid[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{grid-column:1/-1}.content-grid[_ngcontent-%COMP%]   .recent-section[_ngcontent-%COMP%]{grid-column:1/2}.content-grid[_ngcontent-%COMP%]   .patterns-section[_ngcontent-%COMP%]{grid-column:2/3}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]   .patterns-section[_ngcontent-%COMP%]{grid-column:1/-1}}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 12px #0000000d;border:1px solid #e2e8f0;overflow:hidden;transition:all .2s ease;height:fit-content}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 20px #0000001a}.content-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#ffffffe6;border:1px solid rgba(255,255,255,.8);color:#3b82f6;font-size:.875rem;font-weight:500;padding:.5rem 1rem;border-radius:8px;transition:all .2s ease;text-decoration:none;display:inline-block;cursor:pointer}.content-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#fff;border-color:#fff;transform:translateY(-1px);text-decoration:none;color:#3b82f6}.content-card[_ngcontent-%COMP%]   .btn.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.content-card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.8);color:#fff}.content-card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#ffffffe6;color:#3b82f6;border-color:#fff}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;padding:.875rem 1.125rem;display:flex;align-items:center;justify-content:space-between}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.25rem;opacity:.9}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .filter-period[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8}.content-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;background:#ffffff26;padding:.5rem 1rem;border-radius:8px}.content-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:right}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fffc;font-weight:500;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .summary-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:700;color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:8px;border:1px solid #e2e8f0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]{display:flex;height:32px;border-radius:6px;overflow:hidden;box-shadow:inset 0 1px 3px #0000001a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{position:relative;min-width:16px;transition:all .3s ease;cursor:pointer}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scaleY(1.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translateY(-10px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%) translateY(0);background:#1e293b;color:#fff;padding:.5rem;border-radius:6px;font-size:.75rem;white-space:nowrap;opacity:0;transition:all .3s ease;z-index:10;box-shadow:0 4px 12px #00000026}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#1e293b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-category[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-percentage[_ngcontent-%COMP%]{color:#94a3b8;margin-bottom:.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-summary[_ngcontent-%COMP%]   .summary-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{font-weight:600;color:#10b981}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#fafbff,#f8fafc 50%,#f1f5f9);border-radius:20px;padding:2rem;display:grid;grid-template-columns:auto 1fr auto;gap:2rem;align-items:center;transition:all .4s cubic-bezier(.25,.46,.45,.94);border:1px solid rgba(168,85,247,.08);box-shadow:0 4px 6px -1px #a855f70d,0 2px 4px -1px #a855f708,0 0 0 1px #a855f705;overflow:hidden;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.25,.46,.45,.94) both}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);opacity:0;transition:all .4s cubic-bezier(.25,.46,.45,.94);transform:scaleX(0);transform-origin:left}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#a855f705,#7c3aed03,#6d28d905);opacity:0;transition:opacity .4s ease;pointer-events:none}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#fef7ff,#faf5ff,#f3e8ff,#ede9fe,#e9d5ff);transform:translateY(-4px) scale(1.01);box-shadow:0 20px 25px -5px #a855f71a,0 10px 10px -5px #a855f70a,0 0 0 1px #a855f71a;border-color:#a855f726}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover:before{opacity:1;transform:scaleX(1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover:after{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.25rem;min-width:100px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:20px;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#fff;box-shadow:0 8px 25px #00000026,0 4px 10px #0000001a,inset 0 1px #fff3;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(2deg);box-shadow:0 12px 35px #0003,0 6px 15px #00000026,inset 0 1px #ffffff4d;animation:_ngcontent-%COMP%_pulseGlow 2s infinite}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;width:100%}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:10px;background:linear-gradient(90deg,#f8fafc,#f1f5f9,#e2e8f0,#cbd5e1,#94a3b8);border-radius:6px;overflow:hidden;box-shadow:inset 0 2px 4px #0000001a,0 1px 2px #0000000d;position:relative}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.3) 0%,transparent 100%);border-radius:6px 6px 0 0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .6s cubic-bezier(.25,.46,.45,.94);box-shadow:0 2px 4px #0003,inset 0 1px #ffffff4d;position:relative}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.4) 0%,transparent 100%);border-radius:6px 6px 0 0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:800;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:.025em;text-shadow:0 1px 2px rgba(168,85,247,.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:900;background:linear-gradient(135deg,#0f172a,#1e293b,#334155,#475569,#64748b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;flex:1;min-width:0;word-wrap:break-word;overflow-wrap:break-word;transition:all .4s cubic-bezier(.25,.46,.45,.94);letter-spacing:-.025em;line-height:1.3}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;transform:translate(2px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);color:#fff;padding:.5rem 1.25rem;border-radius:30px;font-size:.9rem;font-weight:800;flex-shrink:0;box-shadow:0 4px 12px #a855f74d,0 2px 4px #a855f733,inset 0 1px #fff3;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]:hover{transform:scale(1.08) translateY(-1px);box-shadow:0 8px 20px #a855f766,0 4px 8px #a855f74d,inset 0 1px #ffffff4d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}@media (max-width: 768px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.5rem}}@media (max-width: 480px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.375rem}}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px;border:1px solid rgba(168,85,247,.1);min-width:0;overflow:visible;flex-wrap:wrap;transition:all .3s ease;box-shadow:0 1px 3px #0000000d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border-color:#a855f733;transform:translateY(-1px);box-shadow:0 2px 8px #a855f71a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;word-wrap:break-word;overflow-wrap:break-word}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .75rem;border-radius:8px;font-size:.75rem;font-weight:600;transition:all .3s ease;box-shadow:0 1px 3px #0000001a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc262626);color:#dc2626;border:1px solid rgba(239,68,68,.2)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef444426,#dc262633);transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#f59e0b26);color:#f59e0b;border:1px solid rgba(245,158,11,.2)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b26,#f59e0b33);transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e1a,#16a34a26);color:#16a34a;border:1px solid rgba(34,197,94,.2)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#22c55e26,#16a34a33);transform:translateY(-1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;min-width:120px;max-width:200px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:right}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.5rem;margin-right:12px;transition:all .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a855f7,#7c3aed);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;font-weight:500}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-up[_ngcontent-%COMP%]{color:#dc2626}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-down[_ngcontent-%COMP%]{color:#16a34a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend.trend-stable[_ngcontent-%COMP%]{color:#64748b}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border:none;border-radius:12px;font-size:.9rem;font-weight:700;cursor:pointer;transition:all .4s cubic-bezier(.25,.46,.45,.94);white-space:nowrap;min-width:fit-content;flex-shrink:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #a855f74d,0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transform:scale(1.02)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9,#5b21b6,#4c1d95);color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 10px 25px -3px #a855f766,0 4px 6px -1px #a855f71a;background:linear-gradient(135deg,#9333ea,#7c3aed,#6d28d9,#5b21b6,#4c1d95)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(.98);box-shadow:0 4px 8px -1px #a855f74d,0 2px 4px -1px #a855f71a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f714,#7c3aed1f,#6d28d926,#5b21b62e,#4c1d9533);color:#7c3aed;border:1px solid rgba(168,85,247,.15)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a855f71f,#7c3aed29,#6d28d933,#5b21b63d,#4c1d9547);transform:translateY(-2px) scale(1.02);box-shadow:0 8px 20px -3px #a855f733,0 4px 6px -1px #a855f71a;border-color:#a855f740}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626,#b91c1c,#991b1b,#7f1d1d);color:#fff}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 10px 25px -3px #ef444466,0 4px 6px -1px #ef44441a;background:linear-gradient(135deg,#dc2626,#b91c1c,#991b1b,#7f1d1d,#450a0a)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover:before{opacity:1}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;transition:transform .3s ease}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px dashed rgba(168,85,247,.3);opacity:.7;position:relative;overflow:hidden}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(168,85,247,.1) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 2s infinite}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item.empty-category[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border-color:#a855f780;opacity:.9;animation:_ngcontent-%COMP%_pulseGlow 2s infinite}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-right:1rem}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#fffc;font-weight:500;margin-bottom:.25rem}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:700;color:#fff}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{position:relative}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]{position:absolute;left:30px;top:-2rem;bottom:0;z-index:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]   .connector-line[_ngcontent-%COMP%]{width:3px;height:100%;background:linear-gradient(180deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);border-radius:2px;opacity:.7;box-shadow:0 0 10px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fff,#fafbff,#f8fafc,#f1f5f9,#e2e8f0);border-radius:20px;padding:1.5rem 2rem;border:1px solid rgba(139,92,246,.08);box-shadow:0 4px 6px -1px #8b5cf60d,0 2px 4px -1px #8b5cf608,0 0 0 1px #8b5cf605;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;z-index:2;margin:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_slideInLeft .6s cubic-bezier(.25,.46,.45,.94) both}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);border-radius:20px 20px 0 0;opacity:0;transition:all .4s cubic-bezier(.25,.46,.45,.94);transform:scaleX(0);transform-origin:left}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#8b5cf605,#a855f703,#7c3aed05);opacity:0;transition:opacity .4s ease;pointer-events:none;border-radius:20px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#fef7ff,#faf5ff,#f3e8ff,#ede9fe,#e9d5ff);transform:translateY(-4px) scale(1.01);box-shadow:0 20px 25px -5px #8b5cf61a,0 10px 10px -5px #8b5cf60a,0 0 0 1px #8b5cf61a;border-color:#8b5cf626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover:before{opacity:1;transform:scaleX(1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover:after{opacity:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;margin-bottom:1.25rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;box-shadow:0 6px 20px #00000026,0 3px 8px #0000001a,inset 0 1px #fff3;flex-shrink:0;transition:all .4s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(255,255,255,.2) 0%,rgba(255,255,255,.1) 50%,transparent 100%);opacity:0;transition:opacity .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover{transform:scale(1.08) rotate(2deg);box-shadow:0 10px 30px #0003,0 5px 15px #00000026,inset 0 1px #ffffff4d;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover:before{opacity:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{flex:1}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;background:linear-gradient(135deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.375rem;letter-spacing:.025em}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-time[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:900;background:linear-gradient(135deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.375rem;letter-spacing:-.025em}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;padding:.375rem .75rem;border-radius:6px;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc262626);color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b1a,#f59e0b26);color:#f59e0b;border:1px solid rgba(245,158,11,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e1a,#16a34a26);color:#16a34a;border:1px solid rgba(34,197,94,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:800;background:linear-gradient(135deg,#0f172a,#1e293b,#334155,#475569,#64748b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1.25rem;line-height:1.6;letter-spacing:-.01em;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf6,#a855f7,#7c3aed,#6d28d9,#5b21b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:1rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;padding:.5rem .75rem;background:linear-gradient(135deg,#8b5cf60d,#a855f70d);border-radius:8px;transition:all .3s ease}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);transform:translate(2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;min-width:60px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge.large-expense[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(139,92,246,.1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:none;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;height:2.75rem;justify-content:center}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf666}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf626,#a855f726);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf633}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#dc26261a);color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef444426,#dc262626);transform:translateY(-2px);box-shadow:0 4px 12px #ef444433}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1.5rem;background:#f8fafc;border-radius:12px;border:1px dashed #cbd5e1;margin:1rem 0}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.75rem;opacity:.6;color:#64748b}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#475569;margin-bottom:.5rem;font-size:.9rem;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0;font-size:.8rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]{margin-top:1rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .2s ease;text-decoration:none;display:inline-block;cursor:pointer;font-size:.875rem}.empty-state[_ngcontent-%COMP%]   .empty-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 15px #3b82f64d;text-decoration:none;color:#fff}.empty-state.compact[_ngcontent-%COMP%]{padding:1.5rem 1rem;margin:.5rem 0}.empty-state.compact[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.empty-state.compact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.empty-state.compact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]{margin-bottom:2rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:1rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;height:180px;gap:.5rem;margin-bottom:1rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:4px 4px 0 0;position:relative;transition:all .2s ease;min-height:20px}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#1e293b;color:#fff;padding:.5rem;border-radius:6px;font-size:.75rem;white-space:nowrap;opacity:0;visibility:hidden;transition:all .2s ease;z-index:10}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:4px solid transparent;border-top-color:#1e293b}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-day[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-amount[_ngcontent-%COMP%]{opacity:.9}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .pattern-chart[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]   .tooltip-count[_ngcontent-%COMP%]{opacity:.8;font-size:.7rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:24px;height:24px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]{flex:1}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-info[_ngcontent-%COMP%]   .expense-category[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.patterns-section[_ngcontent-%COMP%]   .pattern-section[_ngcontent-%COMP%]   .top-expenses[_ngcontent-%COMP%]   .top-expense[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.quick-actions-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:1.75rem;box-shadow:0 4px 20px #8b5cf614,0 8px 32px #0000000a,inset 0 1px #fffc;border:1px solid rgba(139,92,246,.08);margin-top:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .5s both}.quick-actions-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.quick-actions-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:.025em}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.25rem}@media (max-width: 768px){.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.875rem}}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffffe6,#f8fafce6);border:1px solid rgba(139,92,246,.1);border-radius:16px;padding:1.25rem;display:flex;align-items:center;gap:.875rem;transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer;text-decoration:none;color:inherit;height:100%;width:100%;position:relative;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 20px #8b5cf60d,0 8px 32px #00000008,inset 0 1px #fffc}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#a855f7,#7c3aed,#6d28d9);opacity:0;transition:opacity .3s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(168,85,247,.03) 50%,transparent 70%);transform:rotate(45deg) translate(-100%);transition:transform .6s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #8b5cf61f,0 20px 60px #0000000f,inset 0 1px #ffffffe6;border-color:#8b5cf626;text-decoration:none;color:inherit}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover:before{opacity:1}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover:after{transform:rotate(45deg) translate(100%)}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.75rem;flex-shrink:0;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:50px;height:50px;background:radial-gradient(circle,rgba(168,85,247,.1) 0%,transparent 70%);border-radius:50%;transform:translate(-50%,-50%) scale(0);transition:transform .3s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:hover:before{transform:translate(-50%,-50%) scale(1)}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{flex:1;text-align:left}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:700;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:left;letter-spacing:.025em;transition:all .3s ease}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:left;font-weight:500;letter-spacing:.025em}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe)}.smart-header[_ngcontent-%COMP%]{padding:1.5rem}.smart-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{margin-left:.25rem;gap:.375rem;padding:.375rem;max-width:240px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]{gap:.25rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-size:.65rem}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%], .smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{padding:.25rem 1.25rem .25rem .375rem;font-size:.75rem;min-width:60px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{min-width:60px;max-width:75px}.smart-header[_ngcontent-%COMP%]   .period-indicator[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]   .selector-group[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]{min-width:50px;max-width:65px}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:center}.smart-header[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem;flex:1;min-width:120px}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{flex-direction:column}.smart-filters[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{text-align:center}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]{width:48px;height:48px}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.125rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem}.smart-filters[_ngcontent-%COMP%]   .custom-date-range[_ngcontent-%COMP%]   .calendar-filter[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.75rem}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem;margin-bottom:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:2rem;border-radius:18px}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{gap:1rem;margin-bottom:1.75rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2.25rem;margin-bottom:.875rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.875rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:1rem}.insights-section[_ngcontent-%COMP%]{padding:1.5rem}.insights-section[_ngcontent-%COMP%]   .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}}@media (max-width: 768px) and (max-width: 1200px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:auto 1fr;gap:1rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{grid-column:1/-1;flex-direction:row;justify-content:space-between;align-items:center;max-width:none;margin-top:1rem}}@media (max-width: 768px) and (max-width: 768px){.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{justify-self:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;margin-top:.75rem}}@media (max-width: 768px){.quick-actions-panel[_ngcontent-%COMP%]{padding:1.5rem}.quick-actions-panel[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem;padding:.75rem;background:linear-gradient(135deg,#8b5cf605,#a855f705);border:1px solid rgba(139,92,246,.1);border-radius:12px;box-shadow:0 2px 8px #8b5cf614;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60d,#a855f70d);transform:translateY(-2px);box-shadow:0 4px 16px #8b5cf626}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]{align-self:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.25rem;box-shadow:0 2px 8px #8b5cf633;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #8b5cf64d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]{margin-top:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px;background:#8b5cf61a;border-radius:2px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.7rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{text-align:center}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.7rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;border-radius:6px;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]{justify-content:center;gap:.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:.375rem;background:linear-gradient(135deg,#8b5cf60d,#a855f70d);border-radius:6px;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);transform:translate(2px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#8b5cf6}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.75rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem;border-radius:6px;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #8b5cf633}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{align-items:center;text-align:center;min-width:auto}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{text-align:center;margin-bottom:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:.375rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.375rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.7rem;min-width:auto;border-radius:8px;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 2px 8px #8b5cf64d}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf666}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;align-items:flex-start}.recent-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .expense-summary[_ngcontent-%COMP%]{margin-right:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,#8b5cf605,#a855f705);border:1px solid rgba(139,92,246,.1);border-radius:12px;box-shadow:0 2px 8px #8b5cf614;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60d,#a855f70d);transform:translateY(-2px);box-shadow:0 4px 16px #8b5cf626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;gap:.75rem;align-items:center;margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.25rem;flex-shrink:0;box-shadow:0 2px 8px #8b5cf633;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{text-align:left;min-width:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.25rem;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]{text-align:right;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.25rem;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.25rem .5rem;border-radius:4px;display:inline-block}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.75rem;line-height:1.4;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:linear-gradient(135deg,#8b5cf60d,#a855f70d);border-radius:6px;border:1px solid rgba(139,92,246,.1);transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61a,#a855f71a);transform:translate(2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:1rem;color:#8b5cf6;flex-shrink:0}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:600;min-width:50px;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;word-wrap:break-word;overflow-wrap:break-word}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge.priority-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge.large-expense[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #8b5cf633}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-high[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-medium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge.insight-low[_ngcontent-%COMP%]{background:#22c55e1a;color:#16a34a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.875rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(139,92,246,.1)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;border:none;border-radius:8px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;justify-content:center;white-space:nowrap;min-width:fit-content}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 2px 8px #8b5cf64d}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf666}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#8b5cf633;transform:translateY(-2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:translateY(-2px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]{padding:.5rem}.smart-header[_ngcontent-%COMP%]{padding:1rem}.smart-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.5rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.5rem;gap:.5rem;background:linear-gradient(135deg,#8b5cf608,#a855f708);border:1px solid rgba(139,92,246,.12);border-radius:10px;box-shadow:0 1px 6px #8b5cf61a}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60f,#a855f70f);transform:translateY(-1px);box-shadow:0 3px 12px #8b5cf62e}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.125rem;box-shadow:0 1px 6px #8b5cf640}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 2px 10px #8b5cf659}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:3px;background:#8b5cf61f}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-visual[_ngcontent-%COMP%]   .category-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:.65rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.9rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-rank[_ngcontent-%COMP%]{padding:.15rem .375rem;font-size:.65rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;border-radius:5px;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:.25rem;background:linear-gradient(135deg,#8b5cf60f,#a855f70f);border-radius:5px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61f,#a855f71f);transform:translate(1px)}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:.8rem;color:#8b5cf6}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-stats[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.7rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.15rem .25rem;font-size:.65rem;border-radius:5px}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 1px 6px #8b5cf640}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.7rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-trend[_ngcontent-%COMP%]{font-size:.65rem}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.65rem;border-radius:6px;font-weight:600}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 1px 6px #8b5cf659}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-1px);box-shadow:0 2px 10px #8b5cf673}.category-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{padding:.5rem;background:linear-gradient(135deg,#8b5cf608,#a855f708);border:1px solid rgba(139,92,246,.12);border-radius:10px;box-shadow:0 1px 6px #8b5cf61a}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf60f,#a855f70f);transform:translateY(-1px);box-shadow:0 3px 12px #8b5cf62e}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto;gap:.5rem;margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.125rem;box-shadow:0 1px 6px #8b5cf640}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-icon[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 2px 10px #8b5cf659}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.125rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.125rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-header[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]{margin-bottom:.5rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.375rem;margin-bottom:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:.375rem;background:linear-gradient(135deg,#8b5cf60f,#a855f70f);border-radius:5px;border:1px solid rgba(139,92,246,.12)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#8b5cf61f,#a855f71f);transform:translate(1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#8b5cf6}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.8rem;min-width:50px;color:#64748b;font-weight:600}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.8rem;background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.priority-badge[_ngcontent-%COMP%], .recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.type-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]{gap:.375rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]{padding:.2rem .375rem;font-size:.7rem;border-radius:5px}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 1px 6px #8b5cf640}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-icon[_ngcontent-%COMP%]{font-size:.75rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-content[_ngcontent-%COMP%]   .expense-insights[_ngcontent-%COMP%]   .insight-badge[_ngcontent-%COMP%]   .insight-text[_ngcontent-%COMP%]{font-size:.7rem}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]{gap:.375rem;margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(139,92,246,.12)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.7rem;min-width:70px;border-radius:6px;font-weight:600}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);color:#fff;box-shadow:0 1px 6px #8b5cf659}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#7c3aed,#9333ea);transform:translateY(-1px);box-shadow:0 2px 10px #8b5cf673}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background:#8b5cf633;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626;border:1px solid rgba(239,68,68,.2)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{background:#ef444433;transform:translateY(-1px)}.recent-section[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .expense-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]   .expense-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}}.summary-grid[_ngcontent-%COMP%]{gap:1rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:16px;background:linear-gradient(135deg,#fffffffa,#f8fafcfa);border:1px solid rgba(139,92,246,.1);box-shadow:0 2px 12px #8b5cf614,0 4px 20px #00000008,inset 0 1px #ffffffe6}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 8px 25px #8b5cf61f,0 12px 35px #0000000d,inset 0 1px #fffffff2;border-color:#8b5cf62e}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{gap:.875rem;margin-bottom:1.5rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.75rem;background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(3deg);filter:drop-shadow(0 2px 8px rgba(168,85,247,.25))}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.95rem;background:linear-gradient(135deg,#64748b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:600;letter-spacing:.02em}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2rem;background:linear-gradient(135deg,#1e293b,#334155,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800;margin-bottom:.75rem;letter-spacing:-.01em;line-height:1.1}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8rem;border-radius:10px;font-weight:600}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc26261a,#ef44441a);border:1px solid rgba(220,38,38,.2);color:#dc2626}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-up[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseGlow 2s infinite}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a1a,#22c55e1a);border:1px solid rgba(22,163,74,.2);color:#16a34a}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-down[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b1a,#94a3b81a);border:1px solid rgba(100,116,139,.2);color:#64748b}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change.trend-stable[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 2s infinite}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{font-size:.95rem}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.02em}`]})};var mK=n=>({background:n});function _K(n,e){if(n&1&&(f(0,"option",60),m(1),g()),n&2){let t=e.$implicit;R("value",t.id),C(),rn(" ",t.icon," ",t.name," ")}}function yK(n,e){if(n&1){let t=Me();f(0,"button",61),G("click",function(){$(t);let i=F();return z(i.clearCategory())}),m(1," \u2715 "),g()}}function vK(n,e){if(n&1){let t=Me();f(0,"button",62),G("click",function(){$(t);let i=F();return z(i.cancelEdit())}),f(1,"span",34),m(2,"\u274C"),g(),f(3,"span",35),m(4,"Cancel"),g()()}}function CK(n,e){if(n&1){let t=Me();f(0,"div",63)(1,"span",64),m(2),f(3,"button",65),G("click",function(){$(t);let i=F();return z(i.clearCategoryFilter())}),m(4," \u2715 "),g()()()}if(n&2){let t=F();C(2),rn(" ",t.getCategoryIcon(t.filterCategory)," ",t.getCategoryName(t.filterCategory)," ")}}function bK(n,e){if(n&1&&(f(0,"option",60),m(1),g()),n&2){let t=e.$implicit;R("value",t.id),C(),rn("",t.icon," ",t.name)}}function wK(n,e){if(n&1){let t=Me();f(0,"div",68)(1,"div",69)(2,"div",70),m(3),Ve(4,"currency"),g(),f(5,"div",71)(6,"span",72),m(7),g()()(),f(8,"div",73)(9,"div",74),m(10),Ve(11,"date"),g(),f(12,"div",75),m(13),g()(),f(14,"div",76)(15,"button",77),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.editExpense(i))}),f(16,"span",78),m(17,"\u270F\uFE0F"),g()(),f(18,"button",79),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.deleteExpense(i))}),f(19,"span",78),m(20,"\u{1F5D1}\uFE0F"),g()()()()}if(n&2){let t=e.$implicit,r=e.index,i=F(2);pn("animation-delay",r*.1+"s"),C(3),H(Ot(4,8,t.amount,"INR")),C(3),R("ngStyle",Ru(13,mK,i.getCategoryColor(t.categoryId))),C(),rn(" ",i.getCategoryIcon(t.categoryId)," ",i.getCategoryName(t.categoryId)," "),C(3),H(mn(11,11,t.date)),C(3),H(t.description||"No description")}}function MK(n,e){if(n&1&&(f(0,"div",66),K(1,wK,21,15,"div",67),g()),n&2){let t=F();C(),R("ngForOf",t.getPaginatedExpenses())}}function EK(n,e){n&1&&(f(0,"div",80)(1,"div",81),m(2,"\u{1F4CB}"),g(),f(3,"h6"),m(4,"No expenses found"),g(),f(5,"p"),m(6,"Add your first expense using the form above!"),g()())}function PK(n,e){if(n&1){let t=Me();f(0,"div",82)(1,"div",83)(2,"div",84)(3,"span",85),m(4),g()(),f(5,"div",86)(6,"div",87)(7,"button",88),G("click",function(){$(t);let i=F();return z(i.goToPage(i.currentPage-1))}),m(8," \u2190 Previous "),g(),f(9,"span",89),m(10),g(),f(11,"button",90),G("click",function(){$(t);let i=F();return z(i.goToPage(i.currentPage+1))}),m(12," Next \u2192 "),g()()()()()}if(n&2){let t=F();C(4),Dc(" Showing ",t.getStartIndex()+1," to ",t.getEndIndex()," of ",t.getFilteredExpenses().length," expenses "),C(3),R("disabled",t.currentPage===1),C(3),rn(" Page ",t.currentPage," of ",t.getTotalPages()," "),C(),R("disabled",t.currentPage===t.getTotalPages())}}var j_=class n{constructor(e,t,r,i,o,s){this.expenseService=e;this.categoryService=t;this.firebaseService=r;this.filterStateService=i;this.router=o;this.route=s}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};amountInput="";filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";dashboardPeriod="all";dashboardMonth="";dashboardYear="";dashboardStartDate="";dashboardEndDate="";dashboardMonthOnly="";dashboardYearOnly="";isEditMode=!1;editingExpenseId="";currentPage=1;itemsPerPage=10;subscription=new We;ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.edit,r=e.mode,i=e.category,o=e.filter;t&&r==="edit"&&(this.isEditMode=!0,this.editingExpenseId=t,console.log("Edit mode activated for expense:",t)),i&&o==="category"&&(this.filterCategory=i,console.log("Category filter applied:",i))}),this.loadDashboardFilterState(),this.subscription.add(this.filterStateService.filterState$.subscribe(e=>{console.log("Filter state changed in expenses component:",e),this.loadDashboardFilterState()})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,console.log(`Received ${e.length} expenses from Firebase`),this.isEditMode&&this.editingExpenseId&&this.loadExpenseForEditing()})),this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,console.log(`Received ${e.length} categories from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadDashboardFilterState(){let e=this.filterStateService.getFilterState();if(console.log("Loading dashboard filter state from service:",e),this.dashboardPeriod=e.selectedPeriod,this.dashboardMonth=e.selectedMonth,this.dashboardYear=e.selectedYear,this.dashboardStartDate=e.customStartDate,this.dashboardEndDate=e.customEndDate,this.dashboardMonthOnly=e.selectedMonthOnly||"",this.dashboardYearOnly=e.selectedYearOnly||"",this.dashboardPeriod==="custom"&&this.dashboardStartDate&&this.dashboardEndDate)this.filterDateFrom=this.dashboardStartDate,this.filterDateTo=this.dashboardEndDate,console.log("Populated expenses page date filters with dashboard custom range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo});else if(this.dashboardPeriod==="monthly"&&this.dashboardMonth&&this.dashboardYear){let t=parseInt(this.dashboardMonth),r=parseInt(this.dashboardYear),i=new Date(r,t,1),o=new Date(r,t+1,0);this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard monthly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="yearly"&&this.dashboardYear){let t=parseInt(this.dashboardYear),r=new Date(t,0,1),i=new Date(t,11,31);this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=i.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard yearly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last30"){let t=new Date,r=new Date;r.setDate(t.getDate()-30),this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=t.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 30 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last7"){let t=new Date,r=new Date;r.setDate(t.getDate()-7),this.filterDateFrom=r.toISOString().split("T")[0],this.filterDateTo=t.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 7 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="monthOnly"&&this.dashboardMonthOnly&&this.dashboardYearOnly){let t=parseInt(this.dashboardMonthOnly),r=parseInt(this.dashboardYearOnly),i=new Date(Date.UTC(r,t,1)),o=new Date(Date.UTC(r,t+1,0));this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard month only range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}console.log("Dashboard filter state loaded into expenses component:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly})}loadData(){return w(this,null,function*(){try{console.log("Loading data from Firebase...");let e=yield this.expenseService.getAll(),t=yield this.categoryService.getAll();this.expenses=e,this.categories=t,console.log(`Loaded ${this.expenses.length} expenses and ${this.categories.length} categories`)}catch(e){console.error("Error loading data:",e)}finally{}})}loadExpenseForEditing(){let e=this.expenses.find(t=>t.id===this.editingExpenseId);e?(this.newExpense=U({},e),this.amountInput=e.amount.toString(),console.log("Loaded expense for editing:",e)):(console.error("Expense not found for editing:",this.editingExpenseId),this.isEditMode=!1,this.editingExpenseId="")}addExpense(){return w(this,null,function*(){this.validateExpense()&&(this.isEditMode?yield this.saveExpenseChanges():yield this.createNewExpense())})}createNewExpense(){return w(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){alert("Please enter a valid amount greater than 0.");return}let t={description:this.newExpense.description,amount:e,date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},r=yield this.expenseService.add(t);console.log(`Expense added with Firebase ID: ${r}`),this.resetForm(),this.checkAchievements()}catch(e){console.error("Error adding expense:",e)}})}saveExpenseChanges(){return w(this,null,function*(){try{let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0){alert("Please enter a valid amount greater than 0.");return}let t=ue(U({},this.newExpense),{amount:e});yield this.expenseService.update(t),console.log("Expense updated successfully"),this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}catch(e){console.error("Error updating expense:",e)}})}cancelEdit(){this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}editExpense(e){return w(this,null,function*(){try{let t=this.getCategoryName(e.categoryId),r=window.prompt("Description:",e.description)||e.description,i=window.prompt("Amount (\u20B9):",e.amount.toString())||e.amount.toString(),o=window.prompt("Date (YYYY-MM-DD):",e.date)||e.date,s=this.createCategorySelectionDialog(e.categoryId);if(s===null)return;let a=parseFloat(i);if(isNaN(a)||a<=0){alert("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(o)){alert("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let u=new Date(o),d=new Date;if(u.setHours(0,0,0,0),d.setHours(0,0,0,0),u>d){alert("Cannot edit expenses to future dates. Please select today's date or a past date.");return}let p=this.categories.find(E=>E.id===s);if(!p){alert(`Error: Category with ID "${s}" does not exist. Please select a valid category from the list.`);return}let y=ue(U({},e),{description:r,amount:a,date:o,categoryId:s});yield this.expenseService.update(y);let v=`Expense updated successfully!

Description: ${r}
Amount: \u20B9${a}
Date: ${o}
Category: ${p.icon} ${p.name}`;alert(v)}catch(t){console.error("Error editing expense:",t),alert("Error updating expense. Please try again.")}finally{}})}createCategorySelectionDialog(e){if(this.categories.length===0)return alert("No categories available. Please create some categories first before editing expenses."),null;let t=this.categories.find(d=>d.id===e),i=`Current category: ${t?`${t.icon} ${t.name}`:"Unknown (Category not found)"}

`;i+=`Available categories:
`,t?i+=`0. Keep current category
`:i+=`\u26A0\uFE0F Current category not found - please select a new category

`,this.categories.forEach((d,p)=>{i+=`${p+1}. ${d.icon} ${d.name}
`});let o=t?`0-${this.categories.length}`:`1-${this.categories.length}`;i+=`
Enter the number of your choice (${o}):`;let s=window.prompt(i,"0");if(s===null)return null;let a=parseInt(s),c=t?this.categories.length:this.categories.length,u=t?0:1;if(isNaN(a)||a<u||a>c){let d=t?`0-${this.categories.length}`:`1-${this.categories.length}`;return alert(`Invalid choice. Please enter a number between ${d}`),this.createCategorySelectionDialog(e)}return a===0&&t?e:this.categories[a-1].id}deleteExpense(e){return w(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.description}" (\u20B9${e.amount})?`))try{yield this.expenseService.delete(e.id)}catch(r){console.error("Error deleting expense:",r)}finally{}})}validateExpense(){if(!this.newExpense.description?.trim())return alert("Please enter a description."),!1;let e=parseFloat(this.amountInput);if(isNaN(e)||e<=0)return alert("Please enter a valid amount greater than 0."),!1;if(!this.newExpense.categoryId)return alert("Please select a category."),!1;if(!this.newExpense.date)return alert("Please select a date."),!1;let t=new Date(this.newExpense.date),r=new Date;return t.setHours(0,0,0,0),r.setHours(0,0,0,0),t>r?(alert("Cannot add expenses for future dates. Please select today's date or a past date."),!1):!0}isFormValid(){let e=parseFloat(this.amountInput);return!!(this.newExpense.description?.trim()&&this.amountInput&&!isNaN(e)&&e>0&&this.newExpense.categoryId&&this.newExpense.date)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""},this.amountInput=""}getFilteredExpenses(){let e=[...this.expenses];if(this.filterAmount){let t=parseFloat(this.filterAmount);isNaN(t)||(e=e.filter(r=>r.amount>=t))}return this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?e=e.filter(t=>{let r=new Date(t.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?r>=i&&r<=o:i?r>=i:o?r<=o:!0}):this.filterDate&&(e=e.filter(t=>t.date===this.filterDate)),e=this.applyDashboardFilters(e),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"date":i=new Date(t.date).getTime(),o=new Date(r.date).getTime();break;case"amount":i=t.amount,o=r.amount;break;case"description":i=(t.description||"").toLowerCase(),o=(r.description||"").toLowerCase();break;default:i=new Date(t.date).getTime(),o=new Date(r.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),e}applyDashboardFilters(e){if(console.log("Applying dashboard filters:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly,totalExpenses:e.length}),!this.dashboardPeriod||this.dashboardPeriod==="all")return console.log("No dashboard filter active, returning all expenses"),e;let t=new Date;switch(this.dashboardPeriod){case"monthly":if(this.dashboardMonth&&this.dashboardYear){let a=parseInt(this.dashboardMonth),c=parseInt(this.dashboardYear);console.log("Applying monthly filter:",{month:a,year:c});let u=e.filter(d=>{let p=new Date(d.date);return p.getMonth()===a&&p.getFullYear()===c});return console.log(`Monthly filter: ${e.length} -> ${u.length} expenses`),u}console.log("Monthly filter: missing month or year");break;case"yearly":if(this.dashboardYear){let a=parseInt(this.dashboardYear);console.log("Applying yearly filter:",{year:a});let c=e.filter(u=>new Date(u.date).getFullYear()===a);return console.log(`Yearly filter: ${e.length} -> ${c.length} expenses`),c}console.log("Yearly filter: missing year");break;case"last30":let r=new Date;r.setDate(t.getDate()-30),console.log("Applying last 30 days filter:",{thirtyDaysAgo:r});let i=e.filter(a=>new Date(a.date)>=r);return console.log(`Last 30 days filter: ${e.length} -> ${i.length} expenses`),i;case"last7":let o=new Date;o.setDate(t.getDate()-7),console.log("Applying last 7 days filter:",{sevenDaysAgo:o});let s=e.filter(a=>new Date(a.date)>=o);return console.log(`Last 7 days filter: ${e.length} -> ${s.length} expenses`),s;case"custom":if(this.dashboardStartDate&&this.dashboardEndDate){console.log("Applying custom date range filter:",{startDate:this.dashboardStartDate,endDate:this.dashboardEndDate});let a=e.filter(c=>{let u=new Date(c.date),d=new Date(this.dashboardStartDate),p=new Date(this.dashboardEndDate);return u>=d&&u<=p});return console.log(`Custom filter: ${e.length} -> ${a.length} expenses`),a}console.log("Custom date range filter: missing start or end date");break;case"monthOnly":if(this.dashboardMonthOnly&&this.dashboardYearOnly){let a=parseInt(this.dashboardMonthOnly),c=parseInt(this.dashboardYearOnly);console.log("Applying month only filter:",{month:a,year:c});let u=e.filter(d=>{let p=new Date(d.date);return p.getMonth()===a&&p.getFullYear()===c});return console.log(`Month only filter: ${e.length} -> ${u.length} expenses`),u}console.log("Month only filter: missing month or year");break}return console.log("No matching dashboard filter, returning all expenses"),e}getCategoryName(e){return this.categories.find(r=>r.id===e)?.name||"Unknown"}getCategoryColor(e){return this.categories.find(r=>r.id===e)?.color||"#999"}getCategoryIcon(e){return this.categories.find(r=>r.id===e)?.icon||"\u{1F4CC}"}getMonthName(e){let t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=parseInt(e);return t[r]||"Unknown"}clearDashboardFilters(){this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.filterDateFrom="",this.filterDateTo="";let e=this.route.snapshot.queryParams;this.router.navigate([],{queryParams:{category:e.category,filter:e.filter},replaceUrl:!0})}clearFilters(){this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo="",this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.resetPagination(),this.router.navigate([],{queryParams:{},replaceUrl:!0})}clearCategoryFilter(){this.filterCategory="",this.resetPagination(),this.router.navigate([],{queryParams:{},queryParamsHandling:"merge"})}onCategoryFilterChange(){this.resetPagination()}clearCategory(){this.newExpense.categoryId=""}onAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.amountInput=r}onAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}onFilterAmountInput(e){let t=e.target,r=t.value;r=r.replace(/[^0-9.]/g,"");let i=r.split(".");i.length>2&&(r=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(r=i[0]+"."+i[1].substring(0,2)),t.value=r,this.filterAmount=r,this.resetPagination()}onFilterAmountKeypress(e){let t=e.key,i=e.target.value;if(!([8,9,27,13,46].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39)){if(t>="0"&&t<="9"||t==="."){if(t==="."&&i.includes(".")){e.preventDefault();return}return}e.preventDefault()}}getTotalAmount(){return this.getFilteredExpenses().reduce((e,t)=>e+t.amount,0)}getAverageAmount(){let e=this.getFilteredExpenses();return e.length>0?e.reduce((t,r)=>t+r.amount,0)/e.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){let e=this.expenses.length;e===10?alert("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):e===50?alert("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):e===100&&alert("Incredible! You've logged 100 expenses. You're a financial tracking master!");let t={};this.expenses.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+1}),Object.entries(t).forEach(([r,i])=>{if(i===10){let o=this.getCategoryName(r);alert(`${o} mastery achieved! You've logged 10 expenses in this category.`)}}),this.checkDailyStreak()}checkDailyStreak(){let e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],r=this.expenses.some(o=>o.date===e),i=this.expenses.some(o=>o.date===t);if(r&&i){let o=1,s=new Date(Date.now()-24*60*60*1e3);for(;;){let a=s.toISOString().split("T")[0];if(this.expenses.some(u=>u.date===a))o++,s.setDate(s.getDate()-1);else break}o>=7&&alert(`Daily streak of ${o} days achieved! Keep it up!`)}}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let e={};return this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),e}getCurrentMonthExpenses(){let e=new Date,t=e.getMonth(),r=e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((e,t)=>e+t.amount,0)}getPreviousMonthExpenses(){let e=new Date,t=e.getMonth()===0?11:e.getMonth()-1,r=e.getMonth()===0?e.getFullYear()-1:e.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===t&&o.getFullYear()===r})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((e,t)=>e+t.amount,0)}getMonthlyComparison(){let e=this.getCurrentMonthTotal(),t=this.getPreviousMonthTotal();if(t===0)return{change:0,percentage:0,hasPreviousData:!1};let r=e-t,i=r/t*100;return{change:r,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let e=this.getMonthlyExpenses(),t=[];return Object.entries(e).forEach(([r,i])=>{let o=i.reduce((c,u)=>c+u.amount,0),s=o/i.length,a=this.getCategoryBreakdown(i);t.push({month:r,total:o,average:s,count:i.length,categoryBreakdown:a})}),t.sort((r,i)=>i.month.localeCompare(r.month))}getCategoryBreakdown(e){let t={};return e.forEach(r=>{t[r.categoryId]=(t[r.categoryId]||0)+r.amount}),Object.entries(t).map(([r,i])=>({categoryId:r,categoryName:this.getCategoryName(r),amount:i,percentage:i/e.reduce((o,s)=>o+s.amount,0)*100}))}validateCategoryExists(e){return this.categories.some(t=>t.id===e)}getCategoryById(e){return this.categories.find(r=>r.id===e)||null}getExpensesWithUnknownCategories(){return this.expenses.filter(e=>!this.categories.find(t=>t.id===e.categoryId))}getUnknownCategoryCount(){return this.getExpensesWithUnknownCategories().length}getMaxDate(){return new Date().toISOString().split("T")[0]}onFromDateChange(){this.filterDateTo&&this.filterDateFrom&&this.filterDateTo<this.filterDateFrom&&(this.filterDateTo=""),this.resetPagination()}onToDateChange(){this.filterDateFrom&&this.filterDateTo&&this.filterDateTo<this.filterDateFrom&&(alert("To Date cannot be earlier than From Date. Please select a valid date range."),this.filterDateTo=""),this.resetPagination()}getPaginatedExpenses(){let e=this.getFilteredExpenses(),t=this.getStartIndex(),r=this.getEndIndex();return e.slice(t,r)}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage}getEndIndex(){let e=this.getFilteredExpenses();return Math.min(this.currentPage*this.itemsPerPage,e.length)}getTotalPages(){let e=this.getFilteredExpenses();return Math.ceil(e.length/this.itemsPerPage)}goToPage(e){let t=this.getTotalPages();e>=1&&e<=t&&(this.currentPage=e)}resetPagination(){this.currentPage=1}static \u0275fac=function(t){return new(t||n)(W(ki),W(Ri),W(Bn),W(kl),W(Ze),W(Ln))};static \u0275cmp=dt({type:n,selectors:[["app-expenses"]],decls:114,vars:33,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"mb-0"],[1,"add-expense-card","mb-4"],[1,"card-header-modern"],[1,"header-icon-small","me-2"],[1,"card-body-modern"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","text","id","expenseAmount","placeholder","0.00","name","amount","required","",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel","max"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"form-label-modern"],[1,"d-flex","gap-2"],["type","submit",1,"btn-add-expense",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[1,"filters-card","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],["class","active-filter-indicator",4,"ngIf"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","change","ngModel","max"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","change","ngModel","max","min"],["for","filterAmount",1,"form-label-modern"],["type","text","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],[1,"filter-group","button-group"],["type","button",1,"btn-clear-filters",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],["class","expenses-list",4,"ngIf","ngIfElse"],["class","pagination-controls mb-3",4,"ngIf"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],["type","button",1,"btn-cancel",3,"click"],[1,"active-filter-indicator"],[1,"filter-badge"],["title","Clear category filter",1,"clear-filter-btn",3,"click"],[1,"expenses-list"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-main"],[1,"expense-amount"],[1,"expense-category"],[1,"category-badge",3,"ngStyle"],[1,"expense-details"],[1,"expense-date"],[1,"expense-description"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click"],[1,"no-expenses"],[1,"no-expenses-icon"],[1,"pagination-controls","mb-3"],[1,"pagination-layout"],[1,"pagination-info"],[1,"text-muted"],[1,"pagination-navigation"],[1,"pagination-buttons"],["type","button","title","Previous page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"page-info"],["type","button","title","Next page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"]],template:function(t,r){if(t&1){let i=Me();f(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),m(5,"\u{1F4B8}"),g()(),f(6,"div")(7,"h1",7),m(8),g(),f(9,"p",8),m(10),g()()()(),f(11,"div",9)(12,"div",10)(13,"div",4)(14,"span",11),m(15),g(),f(16,"h5",8),m(17),g()()(),f(18,"div",12)(19,"form",13,0),G("ngSubmit",function(){return $(i),z(r.addExpense())}),f(21,"div",14)(22,"div",15)(23,"label",16),m(24,"Amount"),g(),f(25,"div",17)(26,"span",18),m(27,"\u20B9"),g(),f(28,"input",19),ye("ngModelChange",function(s){return $(i),Ce(r.amountInput,s)||(r.amountInput=s),z(s)}),G("input",function(s){return $(i),z(r.onAmountInput(s))})("keypress",function(s){return $(i),z(r.onAmountKeypress(s))}),g()()(),f(29,"div",15)(30,"label",20),m(31,"Date"),g(),f(32,"input",21),ye("ngModelChange",function(s){return $(i),Ce(r.newExpense.date,s)||(r.newExpense.date=s),z(s)}),g()(),f(33,"div",15)(34,"label",22),m(35,"Category"),g(),f(36,"div",23)(37,"select",24),ye("ngModelChange",function(s){return $(i),Ce(r.newExpense.categoryId,s)||(r.newExpense.categoryId=s),z(s)}),f(38,"option",25),m(39,"\u{1F3F7}\uFE0F Select a category"),g(),K(40,_K,2,3,"option",26),g(),K(41,yK,2,0,"button",27),g()(),f(42,"div",15)(43,"label",28),m(44,"Description"),g(),f(45,"input",29),ye("ngModelChange",function(s){return $(i),Ce(r.newExpense.description,s)||(r.newExpense.description=s),z(s)}),g()(),f(46,"div",30)(47,"label",31),m(48,"\xA0"),g(),f(49,"div",32)(50,"button",33)(51,"span",34),m(52),g(),f(53,"span",35),m(54),g()(),K(55,vK,5,0,"button",36),g()()()()()(),f(56,"div",37)(57,"div",10)(58,"div",38)(59,"div",4)(60,"span",11),m(61,"\u{1F50D}"),g(),f(62,"h5",8),m(63,"Filters"),g()(),K(64,CK,5,2,"div",39),g()(),f(65,"div",12)(66,"div",40)(67,"div",41)(68,"label",42),m(69,"Category"),g(),f(70,"select",43),ye("ngModelChange",function(s){return $(i),Ce(r.filterCategory,s)||(r.filterCategory=s),z(s)}),G("change",function(){return $(i),z(r.onCategoryFilterChange())}),f(71,"option",44),m(72,"\u{1F3F7}\uFE0F All Categories"),g(),K(73,bK,2,3,"option",26),g()(),f(74,"div",41)(75,"label",45),m(76,"From Date"),g(),f(77,"input",46),ye("ngModelChange",function(s){return $(i),Ce(r.filterDateFrom,s)||(r.filterDateFrom=s),z(s)}),G("change",function(){return $(i),z(r.onFromDateChange())}),g()(),f(78,"div",41)(79,"label",47),m(80,"To Date"),g(),f(81,"input",48),ye("ngModelChange",function(s){return $(i),Ce(r.filterDateTo,s)||(r.filterDateTo=s),z(s)}),G("change",function(){return $(i),z(r.onToDateChange())}),g()(),f(82,"div",41)(83,"label",49),m(84,"Min Amount"),g(),f(85,"input",50),ye("ngModelChange",function(s){return $(i),Ce(r.filterAmount,s)||(r.filterAmount=s),z(s)}),G("input",function(s){return $(i),z(r.onFilterAmountInput(s))})("keypress",function(s){return $(i),z(r.onFilterAmountKeypress(s))}),g()(),f(86,"div",51)(87,"label",31),m(88,"\xA0"),g(),f(89,"button",52),G("click",function(){return $(i),z(r.clearFilters())}),f(90,"span",34),m(91,"\u{1F504}"),g(),f(92,"span",35),m(93,"Clear Filters"),g()()()()()(),f(94,"div",53)(95,"div",10)(96,"div",54)(97,"div",4)(98,"span",11),m(99,"\u{1F4CB}"),g(),f(100,"h5",8),m(101,"All Expenses"),g()(),f(102,"div",55)(103,"div",56),m(104),Ve(105,"currency"),g(),f(106,"div",57),m(107),g()()()(),f(108,"div",12),K(109,MK,2,1,"div",58)(110,EK,7,0,"ng-template",null,1,_C),g(),f(112,"div",12),K(113,PK,13,7,"div",59),g()()()}if(t&2){let i=Dr(111);C(8),oe(" ",r.filterCategory&&r.getCategoryName(r.filterCategory)?r.getCategoryName(r.filterCategory)+" Expenses":"Expenses"," "),C(2),oe(" ",r.filterCategory&&r.getCategoryName(r.filterCategory)?"Viewing expenses for "+r.getCategoryName(r.filterCategory):"Track and manage your daily expenses"," "),C(5),H(r.isEditMode?"\u270F\uFE0F":"\u2795"),C(2),H(r.isEditMode?"Edit Expense":"Add New Expense"),C(11),_e("ngModel",r.amountInput),C(4),_e("ngModel",r.newExpense.date),R("max",r.getMaxDate()),C(5),_e("ngModel",r.newExpense.categoryId),C(),R("selected",!r.newExpense.categoryId),C(2),R("ngForOf",r.categories),C(),R("ngIf",r.newExpense.categoryId),C(4),_e("ngModel",r.newExpense.description),C(5),R("disabled",!r.isFormValid()),C(2),H(r.isEditMode?"\u{1F4BE}":"\u2795"),C(2),H(r.isEditMode?"Save Changes":"Add Expense"),C(),R("ngIf",r.isEditMode),C(9),R("ngIf",r.filterCategory&&r.getCategoryName(r.filterCategory)),C(6),_e("ngModel",r.filterCategory),C(3),R("ngForOf",r.categories),C(4),_e("ngModel",r.filterDateFrom),R("max",r.getMaxDate()),C(4),_e("ngModel",r.filterDateTo),R("max",r.getMaxDate())("min",r.filterDateFrom),C(4),_e("ngModel",r.filterAmount),C(19),H(Ot(105,30,r.getTotalAmount(),"INR")),C(3),oe("",r.getFilteredExpenses().length," expenses"),C(2),R("ngIf",r.getFilteredExpenses().length>0)("ngIfElse",i),C(4),R("ngIf",r.getFilteredExpenses().length>r.itemsPerPage)}},dependencies:[mt,gr,Mt,zu,Yt,vr,Es,Ps,Gt,Ai,Kt,yr,er,Vt,Xn,Hu,oa],styles:[`.pagination-controls[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1rem;border:1px solid #e9ecef;margin-bottom:1.5rem}.pagination-layout[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;flex-shrink:0}.pagination-navigation[_ngcontent-%COMP%]{flex-shrink:0}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.page-info[_ngcontent-%COMP%]{font-weight:600;color:#495057;font-size:.9rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease;min-width:80px;white-space:nowrap}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:.8rem;cursor:pointer;padding:.2rem;border-radius:50%;transition:all .2s ease}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.1)}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0)}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#fff,#fff8f0);border-radius:15px;border:1px solid #ffe4b3;transition:all .4s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 4px 15px #00000014;position:relative;overflow:hidden;min-height:80px;gap:1rem}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--primary),var(--secondary));transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 25px #0000001f}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;flex-shrink:0;min-width:120px;max-width:150px}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#333}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;color:#fff;font-size:.9rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-grow:1;margin-left:2rem;justify-content:center;min-height:60px;text-align:center;width:300px;max-width:300px}.expense-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500;line-height:1.2;text-align:center}.expense-description[_ngcontent-%COMP%]{font-size:.9rem;color:#999;max-width:100%;overflow:visible;text-overflow:unset;white-space:normal;line-height:1.3;margin-top:.25rem;text-align:center;width:100%;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:1.5rem;flex-shrink:0;align-items:center;min-width:100px}.btn-action[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.pagination-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.pagination-info[_ngcontent-%COMP%]{text-align:center;order:1}.pagination-navigation[_ngcontent-%COMP%]{order:2}.pagination-buttons[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.75rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;padding:.5rem 1rem;font-size:.9rem}.page-info[_ngcontent-%COMP%]{order:2;text-align:center;width:100%;margin:.5rem 0}.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem;padding:1rem;min-height:auto}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center;width:100%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.pagination-controls[_ngcontent-%COMP%]{padding:.75rem}.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:center}.page-info[_ngcontent-%COMP%]{order:1;margin-bottom:.5rem}.pagination-info[_ngcontent-%COMP%]{font-size:.8rem}.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:.75rem}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var xK=n=>({background:n});function OK(n,e){if(n&1&&(f(0,"div",44)(1,"div",45),m(2),g(),f(3,"div",46)(4,"div",47),m(5),g(),f(6,"div",48),m(7),g()()()),n&2){let t=e.$implicit;C(2),H(t.icon),C(3),H(t.value),C(2),H(t.title)}}function IK(n,e){if(n&1&&(f(0,"div",41)(1,"div",42)(2,"h3"),m(3,"\u{1F4CA} Category Analytics"),g()(),f(4,"div",43)(5,"div",44)(6,"div",45),m(7,"\u{1F4C2}"),g(),f(8,"div",46)(9,"div",47),m(10),g(),f(11,"div",48),m(12,"Total Categories"),g()()(),f(13,"div",44)(14,"div",45),m(15,"\u2705"),g(),f(16,"div",46)(17,"div",47),m(18),g(),f(19,"div",48),m(20,"Used Categories"),g()()(),f(21,"div",44)(22,"div",45),m(23,"\u274C"),g(),f(24,"div",46)(25,"div",47),m(26),g(),f(27,"div",48),m(28,"Unused Categories"),g()()(),K(29,OK,8,3,"div",49),g()()),n&2){let t=F();C(10),H(t.totalCategories),C(8),H(t.usedCategories),C(8),H(t.unusedCategories),C(3),R("ngForOf",t.getAnalyticsInsights())}}function SK(n,e){n&1&&(f(0,"div",50)(1,"span",51),m(2,"\u26A0\uFE0F"),g(),m(3," Category name already exists! "),g())}function DK(n,e){if(n&1){let t=Me();f(0,"div",52)(1,"div",53)(2,"h3"),m(3,"\u{1F50D} Search & Filter"),g(),f(4,"button",54),G("click",function(){$(t);let i=F();return z(i.clearSearch())}),m(5,"Clear All"),g()(),f(6,"div",55)(7,"div",56)(8,"label",57),m(9,"Search"),g(),f(10,"input",58),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.searchTerm,i)||(o.searchTerm=i),z(i)}),g()(),f(11,"div",59)(12,"label",60),m(13,"Usage"),g(),f(14,"select",61),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.filterByUsage,i)||(o.filterByUsage=i),z(i)}),f(15,"option",62),m(16,"All Categories"),g(),f(17,"option",63),m(18,"Used Only"),g(),f(19,"option",64),m(20,"Unused Only"),g()()(),f(21,"div",59)(22,"label",65),m(23,"Sort By"),g(),f(24,"select",66),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.sortBy,i)||(o.sortBy=i),z(i)}),f(25,"option",67),m(26,"Name"),g(),f(27,"option",68),m(28,"Usage"),g(),f(29,"option",69),m(30,"Color"),g()()(),f(31,"div",59)(32,"label",70),m(33,"Order"),g(),f(34,"select",71),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.sortOrder,i)||(o.sortOrder=i),z(i)}),f(35,"option",72),m(36,"Ascending"),g(),f(37,"option",73),m(38,"Descending"),g()()()()()}if(n&2){let t=F();C(10),_e("ngModel",t.searchTerm),C(4),_e("ngModel",t.filterByUsage),C(10),_e("ngModel",t.sortBy),C(10),_e("ngModel",t.sortOrder)}}function TK(n,e){if(n&1){let t=Me();f(0,"div",74)(1,"p",75),m(2,"No categories found. Would you like to initialize default categories?"),g(),f(3,"button",76),G("click",function(){$(t);let i=F();return z(i.initializeDefaultCategories())}),f(4,"span",77),m(5,"\u{1F4C2}"),g(),m(6," Initialize Default Categories "),g()()}}function AK(n,e){if(n&1){let t=Me();f(0,"div",80)(1,"div",81)(2,"div",82),nn(3,"div",83),f(4,"div",84),m(5),g(),f(6,"div",85),m(7),g(),f(8,"div",86),m(9),g()(),f(10,"div",87)(11,"button",88),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.updateCategory(i))}),f(12,"span",89),m(13,"\u270F\uFE0F"),g(),f(14,"span",90),m(15,"Edit"),g()(),f(16,"button",91),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.confirmDelete(i))}),f(17,"span",92),m(18,"\u{1F5D1}\uFE0F"),g(),f(19,"span",93),m(20,"Delete"),g()()()()()}if(n&2){let t=e.$implicit,r=F(2);C(3),R("ngStyle",Ru(4,xK,t.color)),C(2),H(t.icon),C(2),H(t.name),C(2),oe(" ",r.getCategoryUsage(t.id)," expenses ")}}function kK(n,e){if(n&1&&(f(0,"div",78),K(1,AK,21,6,"div",79),g()),n&2){let t=F();C(),R("ngForOf",t.getFilteredCategories())}}function RK(n,e){n&1&&(f(0,"div",94)(1,"div",95),m(2,"\u{1F50D}"),g(),f(3,"h6",96),m(4,"No Categories Found"),g(),f(5,"p",97),m(6,"Try adjusting your search or filters."),g()())}function NK(n,e){n&1&&(f(0,"div",94)(1,"div",95),m(2,"\u{1F4C2}"),g(),f(3,"h6",96),m(4,"No Categories Yet"),g(),f(5,"p",97),m(6,"Start by adding your first expense category above."),g()())}var U_=class n{constructor(e,t,r){this.categoryService=e;this.expenseService=t;this.firebaseService=r}categories=[];expenses=[];newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"};searchTerm="";filterByUsage="all";sortBy="name";sortOrder="asc";showAdvancedOptions=!1;isDuplicateCategory=!1;isEditMode=!1;editingCategoryId="";totalCategories=0;usedCategories=0;unusedCategories=0;mostUsedCategory=null;leastUsedCategory=null;subscription=new We;ngOnInit(){this.subscription.add(this.firebaseService.categories$.subscribe(e=>{this.categories=e,this.calculateAnalytics(),console.log(`Received ${e.length} categories from Firebase`)})),this.subscription.add(this.firebaseService.expenses$.subscribe(e=>{this.expenses=e,this.calculateAnalytics(),console.log(`Received ${e.length} expenses from Firebase`)})),this.loadData()}ngOnDestroy(){this.subscription.unsubscribe()}loadData(){return w(this,null,function*(){try{this.categories=yield this.categoryService.getAll(),this.expenses=yield this.expenseService.getAll(),this.calculateAnalytics()}catch(e){console.error("Error loading data:",e)}})}calculateAnalytics(){this.totalCategories=this.categories.length;let e=this.getCategoryUsageStats();if(this.usedCategories=Object.keys(e).length,this.unusedCategories=this.totalCategories-this.usedCategories,Object.keys(e).length>0){let t=Object.entries(e).sort((r,i)=>i[1]-r[1]);this.mostUsedCategory=this.categories.find(r=>r.id===t[0][0])||null,this.leastUsedCategory=this.categories.find(r=>r.id===t[t.length-1][0])||null}}getCategoryUsageStats(){let e={};return this.expenses.forEach(t=>{t.categoryId&&(e[t.categoryId]=(e[t.categoryId]||0)+1)}),e}initializeDefaultCategories(){return w(this,null,function*(){try{yield this.categoryService.forceInitializeDefaultCategories(),yield this.loadData(),alert("Default categories initialized successfully!")}catch(e){console.error("Error initializing default categories:",e),alert("Error initializing default categories. Please try again.")}})}addCategory(){return w(this,null,function*(){if(this.validateCategory())try{let e={name:this.newCategory.name.trim(),color:this.newCategory.color,icon:this.newCategory.icon},t=yield this.categoryService.add(e);console.log(`Category added with Firebase ID: ${t}`),this.resetForm(),alert("Category added successfully!")}catch(e){console.error("Error adding category:",e),alert("Error adding category. Please try again.")}})}updateCategory(e){return w(this,null,function*(){try{let t=window.prompt("Enter new category name:",e.name);if(!t||t.trim()==="")return;let r=window.prompt("Enter new color (hex code):",e.color||"#ff6b9d");if(!r)return;let i=window.prompt("Enter new icon (emoji):",e.icon||"\u{1F4CC}");if(!i)return;let o=ue(U({},e),{name:t.trim(),color:r,icon:i});yield this.categoryService.update(o),console.log("Category updated successfully"),alert("Category updated successfully!")}catch(t){console.error("Error updating category:",t),alert("Error updating category. Please try again.")}})}deleteCategory(e){return w(this,null,function*(){if(window.confirm(`Are you sure you want to delete "${e.name}"?

This will also remove all expenses in this category.`))try{yield this.categoryService.delete(e.id),console.log("Category deleted successfully"),alert("Category deleted successfully!")}catch(r){console.error("Error deleting category:",r),alert("Error deleting category. Please try again.")}})}confirmDelete(e){this.deleteCategory(e)}validateCategory(){return this.newCategory.name?.trim()?this.categories.some(t=>t.name.toLowerCase().trim()===this.newCategory.name.toLowerCase().trim()&&t.id!==this.editingCategoryId)?(this.isDuplicateCategory=!0,alert("Category name already exists!"),!1):(this.isDuplicateCategory=!1,!0):(alert("Please enter a category name."),!1)}clearValidationErrors(){this.isDuplicateCategory=!1}resetForm(){this.newCategory={id:"",name:"",color:"#ff6b9d",icon:"\u{1F4CC}"},this.isEditMode=!1,this.editingCategoryId="",this.clearValidationErrors()}getFilteredCategories(){let e=[...this.categories];if(this.searchTerm&&(e=e.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||(t.icon||"").includes(this.searchTerm))),this.filterByUsage!=="all"){let t=this.getCategoryUsageStats();this.filterByUsage==="used"?e=e.filter(r=>t[r.id]>0):this.filterByUsage==="unused"&&(e=e.filter(r=>!t[r.id]||t[r.id]===0))}return e.sort((t,r)=>{let i,o;switch(this.sortBy){case"name":i=t.name.toLowerCase(),o=r.name.toLowerCase();break;case"usage":let s=this.getCategoryUsageStats();i=s[t.id]||0,o=s[r.id]||0;break;case"color":i=t.color||"",o=r.color||"";break;default:i=t.name.toLowerCase(),o=r.name.toLowerCase()}return this.sortOrder==="asc"?i<o?-1:i>o?1:0:i>o?-1:i<o?1:0}),e}getCategoryUsage(e){return this.getCategoryUsageStats()[e]||0}clearSearch(){this.searchTerm=""}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getColorPresets(){return["#ff6b9d","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd","#00d2d3","#ff9f43","#ff6348","#2ed573","#1e90ff","#ffa502","#ff3838"]}getIconPresets(){return["\u{1F4CC}","\u{1F354}","\u{1F697}","\u{1F3E0}","\u{1F48A}","\u{1F3AC}","\u{1F6D2}","\u2708\uFE0F","\u{1F393}","\u{1F4BB}","\u{1F4F1}","\u{1F3AE}","\u{1F3CB}\uFE0F","\u{1F3A8}","\u{1F4DA}","\u{1F3B5}","\u{1F3AA}","\u{1F3E5}","\u{1F487}","\u{1F484}"]}selectColor(e){this.newCategory.color=e}selectIcon(e){this.newCategory.icon=e}setRandomColor(){let e=this.getColorPresets();this.newCategory.color=e[Math.floor(Math.random()*e.length)]}setRandomIcon(){let e=this.getIconPresets();this.newCategory.icon=e[Math.floor(Math.random()*e.length)]}getCategoryCount(){return this.categories.length}getTotalCategories(){return this.categories.length}getMostUsedCategory(){return this.mostUsedCategory}getLeastUsedCategory(){return this.leastUsedCategory}cleanupDuplicates(){return w(this,null,function*(){if(window.confirm("This will remove duplicate categories. Continue?"))try{let t=this.categories.filter((r,i,o)=>i===o.findIndex(s=>s.name.toLowerCase()===r.name.toLowerCase()));for(let r of this.categories)yield this.categoryService.delete(r.id);for(let r of t)yield this.categoryService.add({name:r.name,color:r.color||"#ff6b9d",icon:r.icon||"\u{1F4CC}"});alert("Duplicate categories cleaned up successfully!")}catch(t){console.error("Error cleaning up duplicates:",t),alert("Error cleaning up duplicates. Please try again.")}})}getAnalyticsInsights(){let e=[];return this.mostUsedCategory&&e.push({type:"most-used",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon,color:this.mostUsedCategory.color}),this.leastUsedCategory&&e.push({type:"least-used",title:"Least Used Category",value:this.leastUsedCategory.name,icon:this.leastUsedCategory.icon,color:this.leastUsedCategory.color}),e.push({type:"stats",title:"Category Statistics",value:`${this.usedCategories} used, ${this.unusedCategories} unused`,icon:"\u{1F4CA}"}),e}static \u0275fac=function(t){return new(t||n)(W(Ri),W(ki),W(Bn))};static \u0275cmp=dt({type:n,selectors:[["app-categories"]],decls:64,vars:15,consts:[[1,"categories-page"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"page-title"],[1,"page-description"],["class","analytics-section",4,"ngIf"],[1,"add-category-card"],[1,"card-header-modern"],[1,"header-title"],[1,"card-body-modern"],[1,"add-category-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","name","categoryName","placeholder","Enter category name","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","categoryIcon",1,"form-label"],[1,"icon-group"],["type","text","id","categoryIcon","name","categoryIcon","placeholder","\u{1F4CC}","maxlength","2",1,"icon-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-icon",3,"click"],[1,"random-icon"],["for","categoryColor",1,"form-label"],[1,"color-group"],["type","color","id","categoryColor","name","categoryColor",1,"color-input",3,"ngModelChange","ngModel"],["type","button",1,"btn-random-color",3,"click"],[1,"button-container"],["type","submit",1,"btn-add-category",3,"disabled"],[1,"btn-icon"],[1,"btn-text"],["class","search-filters-section",4,"ngIf"],[1,"categories-section"],[1,"section-header"],[1,"section-content"],[1,"section-icon"],[1,"section-title"],[1,"category-count"],["class","initialize-section","style","margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;",4,"ngIf"],["class","categories-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"analytics-section"],[1,"analytics-header"],[1,"analytics-grid"],[1,"analytics-card"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-card",4,"ngFor","ngForOf"],[1,"error-message"],[1,"error-icon"],[1,"search-filters-section"],[1,"search-filters-header"],[1,"btn-clear-filters",3,"click"],[1,"search-filters-grid"],[1,"search-group"],["for","searchTerm"],["type","text","id","searchTerm","placeholder","Search categories...",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-group"],["for","filterByUsage"],["id","filterByUsage",1,"form-select",3,"ngModelChange","ngModel"],["value","all"],["value","used"],["value","unused"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","name"],["value","usage"],["value","color"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],[1,"initialize-section",2,"margin-bottom","20px","padding","15px","background","#f8f9fa","border-radius","8px","text-align","center"],[2,"margin-bottom","15px","color","#6c757d"],[2,"padding","10px 20px","background","#007bff","color","white","border","none","border-radius","6px","cursor","pointer","font-weight","500",3,"click"],[2,"margin-right","8px"],[1,"categories-grid"],["class","category-card",4,"ngFor","ngForOf"],[1,"category-card"],[1,"category-content"],[1,"category-info"],[1,"category-color-indicator",3,"ngStyle"],[1,"category-icon"],[1,"category-name"],[1,"category-usage"],[1,"category-actions"],["title","Edit category",1,"btn-edit",3,"click"],[1,"edit-icon"],[1,"edit-text"],["title","Delete category",1,"btn-delete",3,"click"],[1,"delete-icon"],[1,"delete-text"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"\u{1F4C2}"),g(),f(5,"div",4)(6,"h1",5),m(7,"Categories"),g(),f(8,"p",6),m(9,"Manage your expense categories and organize your spending"),g()()()(),K(10,IK,30,4,"div",7),f(11,"div",8)(12,"div",9)(13,"div",2)(14,"span",3),m(15,"\u2795"),g(),f(16,"h3",10),m(17,"Add New Category"),g()()(),f(18,"div",11)(19,"form",12),G("ngSubmit",function(){return r.addCategory()}),f(20,"div",13)(21,"div",14)(22,"label",15),m(23,"Category Name"),g(),f(24,"input",16),ye("ngModelChange",function(o){return Ce(r.newCategory.name,o)||(r.newCategory.name=o),o}),G("input",function(){return r.clearValidationErrors()}),g(),K(25,SK,4,0,"div",17),g(),f(26,"div",14)(27,"label",18),m(28,"Icon"),g(),f(29,"div",19)(30,"input",20),ye("ngModelChange",function(o){return Ce(r.newCategory.icon,o)||(r.newCategory.icon=o),o}),g(),f(31,"button",21),G("click",function(){return r.setRandomIcon()}),f(32,"span",22),m(33,"\u{1F3B2}"),g(),m(34," Random "),g()()(),f(35,"div",14)(36,"label",23),m(37,"Color"),g(),f(38,"div",24)(39,"input",25),ye("ngModelChange",function(o){return Ce(r.newCategory.color,o)||(r.newCategory.color=o),o}),g(),f(40,"button",26),G("click",function(){return r.setRandomColor()}),f(41,"span",22),m(42,"\u{1F3B2}"),g(),m(43," Random "),g()()()(),f(44,"div",27)(45,"button",28)(46,"span",29),m(47,"\u2795"),g(),f(48,"span",30),m(49,"Add Category"),g()()()()()(),K(50,DK,39,4,"div",31),f(51,"div",32)(52,"div",33)(53,"div",34)(54,"span",35),m(55,"\u{1F4C2}"),g(),f(56,"h3",36),m(57,"Your Categories"),g()(),f(58,"div",37),m(59),g()(),K(60,TK,7,0,"div",38)(61,kK,2,1,"div",39)(62,RK,7,0,"div",40)(63,NK,7,0,"div",40),g()()),t&2&&(C(10),R("ngIf",r.categories.length>0),C(14),zt("error",r.isDuplicateCategory),_e("ngModel",r.newCategory.name),C(),R("ngIf",r.isDuplicateCategory),C(5),_e("ngModel",r.newCategory.icon),C(9),_e("ngModel",r.newCategory.color),C(6),R("disabled",!r.newCategory.name.trim()||r.isDuplicateCategory),C(5),R("ngIf",r.categories.length>0),C(9),rn("",r.getFilteredCategories().length," of ",r.categories.length," Categories"),C(),R("ngIf",r.categories.length===0),C(),R("ngIf",r.getFilteredCategories().length>0),C(),R("ngIf",r.getFilteredCategories().length===0&&r.categories.length>0),C(),R("ngIf",r.categories.length===0))},dependencies:[mt,gr,Mt,zu,Yt,vr,Es,Ps,Gt,Ai,Kt,yr,er,mx,Vt,Xn],styles:[".categories-page[_ngcontent-%COMP%]{margin:0 auto;padding:1rem;background:#f8f9fa;min-height:100vh;max-width:100%;overflow-x:hidden}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#667eea;border-radius:8px;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#fff}.header-text[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;font-weight:500}.analytics-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}.btn-toggle-analytics[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-toggle-analytics[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;padding:1.5rem}.analytics-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;border:1px solid #e9ecef;display:flex;align-items:center;gap:1rem}.analytics-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f}.analytics-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.analytics-content[_ngcontent-%COMP%]{flex:1}.analytics-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}.analytics-label[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.add-category-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef;margin-bottom:1.5rem}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;border-bottom:1px solid #e9ecef;border-top-left-radius:12px;border-top-right-radius:12px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#667eea;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff}.header-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.add-category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.9rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1rem;transition:border-color .2s ease;background:#fff;width:100%;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-control.error[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.85rem;display:flex;align-items:center;gap:.5rem;margin-top:.25rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap}.color-input[_ngcontent-%COMP%]{width:50px;height:40px;border:1px solid #e9ecef;border-radius:6px;cursor:pointer;background:none;padding:0}.icon-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e9ecef;border-radius:6px;font-size:1.2rem;text-align:center;transition:border-color .2s ease;background:#fff;width:60px}.icon-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;white-space:nowrap;box-shadow:0 5px 20px #ff6b354d;height:50px;min-width:fit-content}.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}@media (hover: none) and (pointer: coarse){.btn-random-color[_ngcontent-%COMP%]:hover, .btn-random-icon[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 5px 20px #ff6b354d}.btn-random-color[_ngcontent-%COMP%]:active, .btn-random-icon[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 2px 10px #ff6b3566}}.random-icon[_ngcontent-%COMP%]{font-size:.9rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.btn-add-category[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap;min-width:200px}.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}@media (hover: none) and (pointer: coarse){.btn-add-category[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 5px 20px #ff6b354d}.btn-add-category[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(1px);box-shadow:0 2px 10px #ff6b3566}}.btn-add-category[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-icon[_ngcontent-%COMP%]{font-size:1rem}.btn-text[_ngcontent-%COMP%]{font-weight:600}.search-filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.search-filters-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1rem 1.5rem;display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;border-radius:8px 8px 0 0}.search-filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.search-filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.search-group[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.search-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e9ecef;border-radius:6px;font-size:.9rem;transition:border-color .2s ease;background:#fff;cursor:pointer}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.categories-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:1px solid #e9ecef}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b9d,#ffa726,#ffeb3b);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #e9ecef}.section-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-icon[_ngcontent-%COMP%]{font-size:1.5rem;background:#fff3;border-radius:6px;width:35px;height:35px;display:flex;align-items:center;justify-content:center;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#fff}.category-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;font-weight:500}.initialize-section[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]{margin:1.5rem;padding:1.5rem;border-radius:8px;text-align:center}.initialize-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef}.cleanup-section[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7}.initialize-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:500}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-weight:600;font-size:.9rem;transition:background-color .2s ease;display:inline-flex;align-items:center;gap:.5rem}.initialize-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .cleanup-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#5a6fd8}.categories-grid[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.category-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:1.5rem;transition:all .2s ease;width:100%}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.category-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:2rem;width:100%}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1;min-width:0}.category-color-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.category-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:35px;height:35px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:6px;flex-shrink:0}.category-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:1rem;flex:1;min-width:0;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.category-usage[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:500;flex-shrink:0}.category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;border-radius:4px;cursor:pointer;font-weight:500;font-size:.85rem;transition:background-color .2s ease;display:flex;align-items:center;gap:.25rem;white-space:nowrap}.btn-edit[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#218838}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#c82333}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{font-weight:500}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem;color:#6c757d}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:#2c3e50}.empty-description[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.8}.custom-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);z-index:9999;animation:_ngcontent-%COMP%_overlayFadeIn .4s cubic-bezier(.4,0,.2,1);overflow-x:hidden}@media (max-width: 576px){.custom-modal-overlay[_ngcontent-%COMP%]{z-index:9998}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}}.custom-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:90%;max-height:90vh;overflow:hidden;position:absolute;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .4s cubic-bezier(.4,0,.2,1);transform-origin:center}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}50%{opacity:.8;transform:translate(-50%,-50%) scale(1.05)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes _ngcontent-%COMP%_modalSlideOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.8)}}.modal-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalSlideOut .3s cubic-bezier(.4,0,.2,1) forwards}.overlay-closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeOut .3s cubic-bezier(.4,0,.2,1) forwards}@keyframes _ngcontent-%COMP%_overlayFadeOut{0%{opacity:1;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}to{opacity:0;backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px)}}.modal-header-modern[_ngcontent-%COMP%]{padding:1.5rem 2rem 1rem;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-title-modern[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.75rem}.modal-icon[_ngcontent-%COMP%]{font-size:1.5rem}.modal-close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1rem}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modal-body-modern[_ngcontent-%COMP%]{padding:2rem}.delete-modal[_ngcontent-%COMP%]   .modal-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.form-group-modern[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label-modern[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.75rem;font-size:.95rem}.form-control-modern[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:linear-gradient(135deg,#fff,#f8f9fa)}.form-control-modern[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #ff6b351a;transform:translateY(-1px)}.form-control-color-modern[_ngcontent-%COMP%]{width:60px;height:50px;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease}.form-control-color-modern[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.invalid-feedback-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#dc3545;font-size:.875rem;margin-top:.5rem;padding:.5rem .75rem;background:#dc35451a;border-radius:8px}.error-icon[_ngcontent-%COMP%]{font-size:1rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;gap:1rem;justify-content:flex-end}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;box-shadow:0 4px 15px #6c757d4d}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66}.btn-save-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-save-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.delete-modal[_ngcontent-%COMP%]{max-width:450px;max-height:500px}.delete-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.delete-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.delete-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;border:1px solid #dee2e6}.category-icon-display[_ngcontent-%COMP%]{flex-shrink:0}.category-icon-large[_ngcontent-%COMP%]{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50%;width:70px;height:70px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #667eea4d}.category-info[_ngcontent-%COMP%]{flex:1}.category-label[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.category-name[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.4rem;margin:0;line-height:1.2}.warning-alert[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff5f5,#fed7d7);border:1px solid #feb2b2;border-radius:12px;padding:1.5rem;border-left:4px solid #dc3545}.warning-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.warning-icon-container[_ngcontent-%COMP%]{flex-shrink:0;background:#dc35451a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.warning-icon[_ngcontent-%COMP%]{font-size:1.25rem}.warning-text[_ngcontent-%COMP%]{color:#c53030;font-size:.9rem;line-height:1.6;flex:1}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;font-weight:700}.warning-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;padding-top:1rem;border-top:1px solid #e9ecef;margin-top:1rem}.btn-delete-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #dc35454d;min-width:120px;justify-content:center}.btn-delete-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #dc354566;background:linear-gradient(135deg,#c82333,#dc3545)}.btn-cancel-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#5a6268);color:#fff;padding:1rem 2rem;border:none;border-radius:12px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;font-size:.95rem;box-shadow:0 4px 15px #6c757d4d;min-width:120px;justify-content:center}.btn-cancel-modern[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6c757d66;background:linear-gradient(135deg,#5a6268,#6c757d)}@media (max-width: 576px){.custom-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;margin:0;position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;max-height:80vh;overflow-y:auto;z-index:10001;min-height:200px}.modal-header-modern[_ngcontent-%COMP%]{padding:1rem 1.25rem .75rem}.modal-body-modern[_ngcontent-%COMP%]{padding:1.25rem}.modal-footer-modern[_ngcontent-%COMP%]{padding:.75rem 1.25rem 1.25rem;flex-direction:column}.modal-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.btn-cancel-modern[_ngcontent-%COMP%], .btn-save-modern[_ngcontent-%COMP%], .btn-delete-modern[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem 1.25rem;font-size:.9rem}.delete-modal[_ngcontent-%COMP%]{max-width:320px;max-height:450px}.delete-content[_ngcontent-%COMP%]{gap:1rem}.delete-preview[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.category-icon-large[_ngcontent-%COMP%]{width:60px;height:60px;font-size:2rem}.category-name[_ngcontent-%COMP%]{font-size:1.2rem}.warning-alert[_ngcontent-%COMP%]{padding:1rem}.warning-content[_ngcontent-%COMP%]{gap:.75rem}.warning-icon-container[_ngcontent-%COMP%]{width:35px;height:35px}.warning-icon[_ngcontent-%COMP%]{font-size:1rem}.warning-text[_ngcontent-%COMP%]{font-size:.85rem}.warning-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 768px){.categories-page[_ngcontent-%COMP%]{padding:.5rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.search-filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.categories-grid[_ngcontent-%COMP%]{padding:1rem}.category-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.category-info[_ngcontent-%COMP%]{width:100%}.category-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.add-category-card[_ngcontent-%COMP%]{margin-bottom:1rem}.card-body-modern[_ngcontent-%COMP%]{padding:1rem}.color-group[_ngcontent-%COMP%], .icon-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:.75rem;flex-wrap:wrap}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{flex:1;min-width:120px;justify-content:center;padding:.75rem 1rem;font-size:.9rem}.btn-add-category[_ngcontent-%COMP%]{width:100%;justify-content:center;min-width:unset}.button-container[_ngcontent-%COMP%]{margin-top:1.5rem}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-card[_ngcontent-%COMP%]{padding:1rem}.analytics-icon[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.25rem}.category-card[_ngcontent-%COMP%]{padding:1rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.add-category-card[_ngcontent-%COMP%]{margin-bottom:.75rem}.card-header-modern[_ngcontent-%COMP%]{padding:1rem}.card-body-modern[_ngcontent-%COMP%]{padding:.75rem}.form-row[_ngcontent-%COMP%]{gap:1rem}.form-group[_ngcontent-%COMP%]{gap:.25rem}.form-label[_ngcontent-%COMP%]{font-size:.85rem}.form-control[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.9rem}.icon-input[_ngcontent-%COMP%]{width:50px;padding:.625rem .5rem;font-size:1rem;flex-shrink:0}.color-input[_ngcontent-%COMP%]{width:50px;height:35px;flex-shrink:0}.btn-random-color[_ngcontent-%COMP%], .btn-random-icon[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.85rem;height:45px}.btn-add-category[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;height:45px}.button-container[_ngcontent-%COMP%]{margin-top:1rem}}"]})};function FK(n,e){if(n&1&&(f(0,"div",41)(1,"span",42),m(2),g(),f(3,"span",43),m(4),g()()),n&2){let t=F(2);C(2),H(t.getSpendingTrend().icon),C(2),H(t.getSpendingTrend().text)}}function LK(n,e){if(n&1&&(f(0,"div",26)(1,"div",27)(2,"h3"),m(3,"\u{1F4C8} Spending Analytics"),g(),f(4,"div",28)(5,"span",29),m(6),g()()(),f(7,"div",30)(8,"div",31)(9,"div",32),m(10,"\u{1F4B0}"),g(),f(11,"div",33)(12,"div",34),m(13),Ve(14,"currency"),g(),f(15,"div",35),m(16,"Total Spent"),g(),K(17,FK,5,2,"div",36),g()(),f(18,"div",37)(19,"div",32),m(20,"\u{1F4C5}"),g(),f(21,"div",33)(22,"div",34),m(23),Ve(24,"currency"),g(),f(25,"div",35),m(26,"Average Monthly"),g(),f(27,"div",38),m(28,"Per month"),g()()(),f(29,"div",39)(30,"div",32),m(31,"\u{1F4CA}"),g(),f(32,"div",33)(33,"div",34),m(34),g(),f(35,"div",35),m(36,"Total Expenses"),g(),f(37,"div",38),m(38,"All time"),g()()(),f(39,"div",40)(40,"div",32),m(41,"\u{1F3C6}"),g(),f(42,"div",33)(43,"div",34),m(44),g(),f(45,"div",35),m(46,"Top Category"),g(),f(47,"div",38),m(48),g()()()()()),n&2){let t,r=F();C(6),H(r.getAnalyticsPeriod()),C(7),H(Ot(14,7,r.totalSpent,"INR")),C(4),R("ngIf",r.getSpendingTrend()),C(6),H(Ot(24,10,r.averageMonthlySpend,"INR")),C(11),H(r.getTotalExpenses()),C(10),H(((t=r.getTopCategory())==null?null:t.name)||"None"),C(4),oe("",r.getTopCategoryPercentage(),"% of total")}}function VK(n,e){if(n&1&&(f(0,"div",53),m(1),Ve(2,"currency"),g()),n&2){let t=F(2);zt("positive",t.getMonthlyComparison().change<0)("negative",t.getMonthlyComparison().change>0),C(),oe(" ",Ot(2,5,t.getMonthlyComparison().change,"INR")," ")}}function jK(n,e){n&1&&(f(0,"div",59),m(1," First Month "),g())}function UK(n,e){if(n&1&&(f(0,"div",44)(1,"div",45)(2,"div",46)(3,"div",47)(4,"h3"),m(5,"Current Month Overview"),g(),f(6,"span",48),m(7),g()()(),f(8,"div",49)(9,"div",50)(10,"div",51),m(11,"\u{1F4B0}"),g(),f(12,"div",52)(13,"div",53),m(14),Ve(15,"currency"),g(),f(16,"div",54),m(17,"Total Spent"),g()()(),f(18,"div",55)(19,"div",51),m(20,"\u{1F4DD}"),g(),f(21,"div",52)(22,"div",53),m(23),g(),f(24,"div",54),m(25,"Expenses"),g()()(),f(26,"div",56)(27,"div",51),m(28,"\u{1F4C8}"),g(),f(29,"div",52),K(30,VK,3,8,"div",57)(31,jK,2,0,"div",58),f(32,"div",54),m(33,"vs Last Month"),g()()()()()()),n&2){let t,r,i,o,s=F();C(7),H((t=s.getCurrentMonthReport())==null?null:t.monthName),C(7),H(Ot(15,5,(r=s.getCurrentMonthReport())==null?null:r.totalAmount,"INR")),C(9),H((i=s.getCurrentMonthReport())==null?null:i.expenseCount),C(7),R("ngIf",s.getMonthlyComparison().hasPreviousData),C(),R("ngIf",!s.getMonthlyComparison().hasPreviousData&&((o=s.getCurrentMonthReport())==null?null:o.totalAmount)>0)}}function BK(n,e){if(n&1){let t=Me();f(0,"button",82),G("click",function(){$(t);let i=F(2);return z(i.clearFilters())}),f(1,"span",83),m(2,"\u2715"),g(),m(3," Clear All "),g()}}function $K(n,e){if(n&1&&(f(0,"option",84),m(1),g()),n&2){let t=e.$implicit;R("value",t),C(),H(t)}}function zK(n,e){if(n&1&&(f(0,"option",84),m(1),g()),n&2){let t=e.$implicit,r=F(2);R("value",t),C(),H(r.getMonthName(t))}}function HK(n,e){if(n&1&&(f(0,"option",84),m(1),g()),n&2){let t=e.$implicit;R("value",t.id),C(),rn(" ",t.icon," ",t.name," ")}}function qK(n,e){if(n&1){let t=Me();f(0,"div",60)(1,"div",61)(2,"h3"),m(3,"\u{1F50D} Smart Filters"),g(),K(4,BK,4,0,"button",62),g(),f(5,"div",63)(6,"div",64)(7,"label",65),m(8,"Year"),g(),f(9,"select",66),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.filterYear,i)||(o.filterYear=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onFilterChange())}),f(10,"option",67),m(11,"All Years"),g(),K(12,$K,2,2,"option",68),g()(),f(13,"div",64)(14,"label",69),m(15,"Month"),g(),f(16,"select",70),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.filterMonth,i)||(o.filterMonth=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onFilterChange())}),f(17,"option",67),m(18,"All Months"),g(),K(19,zK,2,2,"option",68),g()(),f(20,"div",64)(21,"label",71),m(22,"Category"),g(),f(23,"select",72),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.filterCategory,i)||(o.filterCategory=i),z(i)}),G("change",function(){$(t);let i=F();return z(i.onFilterChange())}),f(24,"option",67),m(25,"All Categories"),g(),K(26,HK,2,3,"option",68),g()(),f(27,"div",64)(28,"label",73),m(29,"Sort By"),g(),f(30,"select",74),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.sortBy,i)||(o.sortBy=i),z(i)}),f(31,"option",75),m(32,"Month"),g(),f(33,"option",76),m(34,"Amount"),g(),f(35,"option",77),m(36,"Expense Count"),g()()(),f(37,"div",64)(38,"label",78),m(39,"Order"),g(),f(40,"select",79),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.sortOrder,i)||(o.sortOrder=i),z(i)}),f(41,"option",80),m(42,"Descending"),g(),f(43,"option",81),m(44,"Ascending"),g()()()()()}if(n&2){let t=F();C(4),R("ngIf",t.hasActiveFilters()),C(5),_e("ngModel",t.filterYear),C(3),R("ngForOf",t.getAvailableYears()),C(4),_e("ngModel",t.filterMonth),C(3),R("ngForOf",t.getAvailableMonths()),C(4),_e("ngModel",t.filterCategory),C(3),R("ngForOf",t.categories),C(4),_e("ngModel",t.sortBy),C(10),_e("ngModel",t.sortOrder)}}function WK(n,e){if(n&1&&(f(0,"div",100)(1,"span",101),m(2),g(),f(3,"span",102),m(4),g(),f(5,"span",103),m(6),Ve(7,"currency"),g()()),n&2){let t=e.$implicit;C(),pn("background-color",t.category.color),C(),H(t.category.icon),C(2),H(t.category.name),C(2),H(Ot(7,5,t.amount,"INR"))}}function GK(n,e){if(n&1&&(f(0,"div",104)(1,"span",42),m(2),g(),f(3,"span",43),m(4),g()()),n&2){let t,r,i=F().$implicit,o=F(2);C(2),H((t=o.getReportTrend(i))==null?null:t.icon),C(2),H((r=o.getReportTrend(i))==null?null:r.text)}}function KK(n,e){if(n&1){let t=Me();f(0,"div",87),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.selectMonth(i.monthKey))}),f(1,"div",88)(2,"div",89)(3,"h4",90),m(4),g(),f(5,"div",91),m(6),g()(),f(7,"div",92),m(8,"\u2192"),g()(),f(9,"div",93)(10,"div",94),m(11),Ve(12,"currency"),g(),f(13,"div",95),m(14),g()(),f(15,"div",96),K(16,WK,8,8,"div",97),g(),f(17,"div",98),K(18,GK,5,2,"div",99),g()()}if(n&2){let t=e.$implicit,r=F(2);C(4),H(t.monthName),C(2),H(t.year),C(5),H(Ot(12,6,t.totalAmount,"INR")),C(3),oe("",t.expenseCount," expenses"),C(2),R("ngForOf",t.categoryBreakdown.slice(0,3)),C(2),R("ngIf",r.getReportTrend(t))}}function YK(n,e){if(n&1&&(f(0,"div",85),K(1,KK,19,9,"div",86),g()),n&2){let t=F();C(),R("ngForOf",t.getFilteredReports())}}function QK(n,e){if(n&1){let t=Me();f(0,"div",107),G("click",function(){let i=$(t).$implicit,o=F(2);return z(o.selectMonth(i.monthKey))}),f(1,"div",108)(2,"div",89)(3,"h4",90),m(4),g(),f(5,"div",91),m(6),g()(),f(7,"div",109),m(8),Ve(9,"currency"),g()(),f(10,"div",110)(11,"div",111)(12,"span",112),m(13,"Expenses:"),g(),f(14,"span",113),m(15),g()(),f(16,"div",111)(17,"span",112),m(18,"Top Category:"),g(),f(19,"span",113),m(20),g()()(),f(21,"div",114),m(22,"\u2192"),g()()}if(n&2){let t,r=e.$implicit,i=F(2);C(4),H(r.monthName),C(2),H(r.year),C(2),H(Ot(9,5,r.totalAmount,"INR")),C(7),H(r.expenseCount),C(5),H(((t=i.getTopCategoryForReport(r))==null?null:t.name)||"None")}}function ZK(n,e){if(n&1&&(f(0,"div",105),K(1,QK,23,8,"div",106),g()),n&2){let t=F();C(),R("ngForOf",t.getFilteredReports())}}function JK(n,e){n&1&&(f(0,"div",115)(1,"div",116),m(2,"\u{1F4CA}"),g(),f(3,"h6"),m(4,"No Reports Found"),g(),f(5,"p"),m(6,"Try adjusting your filters or add some expenses!"),g(),f(7,"button",117),m(8,"Add Expenses"),g()())}function XK(n,e){if(n&1&&(f(0,"div",144)(1,"div",145)(2,"span",101),m(3),g(),f(4,"div",146)(5,"div",102),m(6),g(),f(7,"div",147),m(8),g()()(),f(9,"div",148)(10,"div",149),m(11),Ve(12,"currency"),g(),f(13,"div",150),m(14),g()(),f(15,"div",151)(16,"div",152),nn(17,"div",153),g()()()),n&2){let t=e.$implicit,r=F(2);C(2),pn("background-color",t.category.color),C(),H(t.category.icon),C(3),H(t.category.name),C(2),oe("",t.count," expenses"),C(3),H(Ot(12,11,t.amount,"INR")),C(3),oe("",r.getCategoryPercentage(t),"%"),C(3),pn("width",r.getCategoryPercentage(t),"%")("background-color",t.category.color)}}function eY(n,e){if(n&1&&(f(0,"div",154)(1,"div",155)(2,"div",156),m(3),g(),f(4,"div",157)(5,"div",158),m(6),g(),f(7,"div",159)(8,"span",160),m(9),Ve(10,"date"),g(),f(11,"span",161)(12,"span",162),m(13),g()()()()(),f(14,"div",163)(15,"div",164),m(16),Ve(17,"currency"),g(),f(18,"div",165),m(19),g()()()),n&2){let t=e.$implicit,r=F(2);C(2),pn("background-color",r.getCategoryColor(t.categoryId)),C(),oe(" ",r.getCategoryIcon(t.categoryId)," "),C(3),H(t.description||"No description"),C(3),H(Ot(10,13,t.date,"MMM dd, yyyy")),C(3),pn("background-color",r.getCategoryColor(t.categoryId)),C(),rn(" ",r.getCategoryIcon(t.categoryId)," ",r.getCategoryName(t.categoryId)," "),C(3),H(Ot(17,16,t.amount,"INR")),C(2),Rn(r.getAmountIndicator(t.amount)),C(),oe(" ",r.getAmountIndicator(t.amount)," ")}}function tY(n,e){if(n&1){let t=Me();f(0,"button",173),G("click",function(){let i=$(t).$implicit,o=F(3);return z(o.goToExpensePage(i))}),m(1),g()}if(n&2){let t=e.$implicit,r=F(3);zt("active",t===r.currentExpensePage),C(),oe(" ",t," ")}}function nY(n,e){if(n&1){let t=Me();f(0,"div",166)(1,"div",167),m(2),g(),f(3,"div",168)(4,"button",169),G("click",function(){$(t);let i=F(2);return z(i.goToExpensePage(i.currentExpensePage-1))}),f(5,"span",170),m(6,"\u2190"),g(),m(7," Previous "),g(),f(8,"div",171),K(9,tY,2,3,"button",172),g(),f(10,"button",169),G("click",function(){$(t);let i=F(2);return z(i.goToExpensePage(i.currentExpensePage+1))}),m(11," Next "),f(12,"span",170),m(13,"\u2192"),g()()()()}if(n&2){let t=F(2);C(2),Dc(" Showing ",t.getExpenseStartIndex()+1,"-",t.getExpenseEndIndex()," of ",t.getSortedExpenses().length," expenses "),C(2),R("disabled",t.currentExpensePage===1),C(5),R("ngForOf",t.getExpensePageNumbers()),C(),R("disabled",t.currentExpensePage===t.getTotalExpensePages())}}function rY(n,e){if(n&1){let t=Me();f(0,"div",118)(1,"div",119)(2,"button",120),G("click",function(){$(t);let i=F();return z(i.showDetailedView=!1)}),f(3,"span",121),m(4,"\u2190"),g(),m(5," Back to Overview "),g(),f(6,"div",122)(7,"h3"),m(8),g(),f(9,"div",123),m(10,"Comprehensive spending analysis"),g()(),f(11,"div",124)(12,"button",125),G("click",function(){$(t);let i=F();return z(i.exportMonthReport())}),f(13,"span",8),m(14,"\u{1F4E4}"),g(),m(15," Export Month Report "),g()()(),f(16,"div",126)(17,"div",127)(18,"div",128)(19,"div",129),m(20,"\u{1F4B0}"),g(),f(21,"div",130)(22,"div",131),m(23),Ve(24,"currency"),g(),f(25,"div",132),m(26,"Total Spent"),g()()(),f(27,"div",128)(28,"div",129),m(29,"\u{1F4DD}"),g(),f(30,"div",130)(31,"div",131),m(32),g(),f(33,"div",132),m(34,"Total Expenses"),g()()(),f(35,"div",128)(36,"div",129),m(37,"\u{1F4CA}"),g(),f(38,"div",130)(39,"div",131),m(40),Ve(41,"currency"),g(),f(42,"div",132),m(43,"Average Per Expense"),g()()(),f(44,"div",128)(45,"div",129),m(46,"\u{1F3F7}\uFE0F"),g(),f(47,"div",130)(48,"div",131),m(49),g(),f(50,"div",132),m(51,"Categories Used"),g()()()(),f(52,"div",133)(53,"div",15)(54,"h4"),m(55,"Category Breakdown"),g(),f(56,"div",134),m(57),Ve(58,"currency"),g()(),f(59,"div",135),K(60,XK,18,14,"div",136),g()(),f(61,"div",137)(62,"div",15)(63,"h4"),m(64,"All Expenses"),g(),f(65,"div",138)(66,"button",139),G("click",function(){$(t);let i=F();return z(i.toggleExpenseSort())}),f(67,"span",140),m(68),g(),m(69),g()()(),f(70,"div",141),K(71,eY,20,19,"div",142),g(),K(72,nY,14,6,"div",143),g()()()}if(n&2){let t,r,i,o,s,a,c=F();C(8),oe("",(t=c.getSelectedMonthReport())==null?null:t.monthName," - Detailed Report"),C(15),H(Ot(24,11,(r=c.getSelectedMonthReport())==null?null:r.totalAmount,"INR")),C(9),H((i=c.getSelectedMonthReport())==null?null:i.expenseCount),C(8),H(Ot(41,14,c.getAverageExpenseAmount(),"INR")),C(9),H((o=c.getSelectedMonthReport())==null?null:o.categoryBreakdown.length),C(8),oe("Total: ",Ot(58,17,(s=c.getSelectedMonthReport())==null?null:s.totalAmount,"INR")),C(3),R("ngForOf",(a=c.getSelectedMonthReport())==null?null:a.categoryBreakdown),C(8),H(c.getSortIcon()),C(),oe(" ",c.getSortLabel()," "),C(2),R("ngForOf",c.getPaginatedExpenses()),C(),R("ngIf",c.getTotalExpensePages()>1)}}var B_=class n{constructor(e,t){this.expenseService=e;this.categoryService=t}expenses=[];categories=[];monthlyReports=[];selectedMonth="";showDetailedView=!1;filterYear="";filterMonth="";filterCategory="";sortBy="month";sortOrder="desc";showAnalytics=!0;viewMode="grid";expenseSortBy="date";expenseSortOrder="desc";currentExpensePage=1;expensesPerPage=10;totalSpent=0;averageMonthlySpend=0;highestSpendingMonth=null;mostUsedCategory=null;spendingTrend="stable";ngOnInit(){this.loadData()}loadData(){return w(this,null,function*(){try{this.expenses=yield this.expenseService.getAll(),this.categories=yield this.categoryService.getAll(),this.generateMonthlyReports(),this.calculateAnalytics()}catch(e){console.error("Error loading reports:",e)}})}generateMonthlyReports(){let e={};this.expenses.forEach(t=>{let r=new Date(t.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;e[i]||(e[i]=[]),e[i].push(t)}),this.monthlyReports=[],Object.keys(e).sort().reverse().forEach(t=>{let r=e[t],i=r.reduce((u,d)=>u+d.amount,0),o=this.getCategoryBreakdown(r),[s,a]=t.split("-"),c=new Date(parseInt(s),parseInt(a)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});this.monthlyReports.push({monthKey:t,monthName:c,totalAmount:i,expenseCount:r.length,categoryBreakdown:o,expenses:r,year:parseInt(s),month:parseInt(a)})})}calculateAnalytics(){if(this.monthlyReports.length===0)return;let e=this.getFilteredReports();if(this.totalSpent=e.reduce((t,r)=>t+r.totalAmount,0),this.averageMonthlySpend=e.length>0?this.totalSpent/e.length:0,this.highestSpendingMonth=e.reduce((t,r)=>r.totalAmount>t.totalAmount?r:t,e[0]),e.length>=2){let t=e[0].totalAmount,r=e[1].totalAmount,i=(t-r)/r*100;i>10?this.spendingTrend="increasing":i<-10?this.spendingTrend="decreasing":this.spendingTrend="stable"}}toggleAnalytics(){this.showAnalytics=!this.showAnalytics}setViewMode(e){this.viewMode=e}getAnalyticsPeriod(){let e=this.getFilteredReports();if(e.length===0)return"No data";let t=e[e.length-1],r=e[0];return`${t.monthName} - ${r.monthName}`}getSpendingTrend(){return this.spendingTrend==="increasing"?{icon:"\u{1F4C8}",text:"Increasing"}:this.spendingTrend==="decreasing"?{icon:"\u{1F4C9}",text:"Decreasing"}:{icon:"\u27A1\uFE0F",text:"Stable"}}getTotalExpenses(){return this.expenses.length}getTopCategory(){let e={};this.expenses.forEach(r=>{e[r.categoryId]=(e[r.categoryId]||0)+r.amount});let t=Object.keys(e).reduce((r,i)=>e[r]>e[i]?r:i);return this.categories.find(r=>r.id===t)}getTopCategoryPercentage(){let e=this.getTopCategory();if(!e||this.totalSpent===0)return 0;let t=this.expenses.filter(r=>r.categoryId===e.id).reduce((r,i)=>r+i.amount,0);return Math.round(t/this.totalSpent*100)}getReportTrend(e){let t=this.monthlyReports.findIndex(s=>s.monthKey===e.monthKey);if(t===-1||t===this.monthlyReports.length-1)return null;let r=e.totalAmount,i=this.monthlyReports[t+1].totalAmount,o=(r-i)/i*100;return o>10?{icon:"\u{1F4C8}",text:`+${o.toFixed(1)}%`}:o<-10?{icon:"\u{1F4C9}",text:`${o.toFixed(1)}%`}:{icon:"\u27A1\uFE0F",text:"Stable"}}getTopCategoryForReport(e){return!e.categoryBreakdown||e.categoryBreakdown.length===0?null:e.categoryBreakdown[0].category}getAverageExpenseAmount(){let e=this.getSelectedMonthReport();return!e||e.expenseCount===0?0:e.totalAmount/e.expenseCount}getCategoryPercentage(e){let t=this.getSelectedMonthReport();return!t||t.totalAmount===0?0:Math.round(e.amount/t.totalAmount*100)}toggleExpenseSort(){this.expenseSortBy==="date"?this.expenseSortBy="amount":this.expenseSortBy==="amount"?this.expenseSortBy="category":this.expenseSortBy="date",this.currentExpensePage=1}getSortIcon(){switch(this.expenseSortBy){case"date":return"\u{1F4C5}";case"amount":return"\u{1F4B0}";case"category":return"\u{1F3F7}\uFE0F";default:return"\u{1F4C5}"}}getSortLabel(){switch(this.expenseSortBy){case"date":return"Sort by Date";case"amount":return"Sort by Amount";case"category":return"Sort by Category";default:return"Sort by Date"}}getSortedExpenses(){let e=this.getSelectedMonthReport();if(!e)return[];let t=[...e.expenses];return t.sort((r,i)=>{let o=0;switch(this.expenseSortBy){case"date":o=new Date(r.date).getTime()-new Date(i.date).getTime();break;case"amount":o=r.amount-i.amount;break;case"category":let s=this.getCategoryName(r.categoryId),a=this.getCategoryName(i.categoryId);o=s.localeCompare(a);break}return this.expenseSortOrder==="asc"?o:-o}),t}getAmountIndicator(e){return e>5e3?"high":e>1e3?"medium":"low"}exportReport(){if(!this.getSelectedMonthReport()){this.exportFullReport();return}this.exportMonthReport()}exportFullReport(){let e=this.getFilteredReports();if(e.length===0){alert("No data to export. Please adjust your filters.");return}let t=new Date,i=`expense_report_${t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}.csv`,o=this.generateFullReportCSV(e);this.downloadCSV(o,i)}exportMonthReport(){let e=this.getSelectedMonthReport();if(!e){alert("No month selected for export.");return}let t=new Date,r=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0"),i=`expense_report_${e.monthName.replace(" ","_")}_${r}.csv`,o=this.generateMonthReportCSV(e);this.downloadCSV(o,i)}generateFullReportCSV(e){let t="";t+=`Expense Tracker - Full Report
`,t+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,t+=`Report Period: ${e.length>0?`${e[e.length-1]?.monthName} to ${e[0]?.monthName}`:"N/A"}
`,t+=`
`,t+=`SUMMARY OVERVIEW
`,t+="=".repeat(50)+`
`;let r=e.reduce((a,c)=>a+c.totalAmount,0),i=e.reduce((a,c)=>a+c.expenseCount,0),o=e.length>0?r/e.length:0;if(t+=`Total Amount Spent: \u20B9${r.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Total Number of Expenses: ${i.toLocaleString("en-IN")}
`,t+=`Average Monthly Spending: \u20B9${o.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Number of Months: ${e.length}
`,t+=`
`,t+=`MONTHLY BREAKDOWN
`,t+="=".repeat(50)+`
`,t+=`Month,Total Amount (\u20B9),Expense Count,Top Category,Top Category Amount (\u20B9),Top Category %
`,e.forEach(a=>{let c=this.getTopCategoryForReport(a),u=c?this.getCategoryAmountForReport(a,c.id):"0.00",d=c&&a.totalAmount>0?(parseFloat(u)/a.totalAmount*100).toFixed(1):"0.0";t+=`"${a.monthName}","${a.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${a.expenseCount}","${c?.name||"N/A"}","${u}","${d}%"
`}),t+=`
`,t+=`CATEGORY SUMMARY (All Months)
`,t+="=".repeat(50)+`
`,t+=`Category,Total Amount (\u20B9),Total Count,Percentage of Total,Average per Expense (\u20B9)
`,this.getCategorySummaryAcrossMonths(e).forEach(a=>{let c=r>0?(a.amount/r*100).toFixed(1):"0.0",u=a.count>0?a.amount/a.count:0;t+=`"${a.name}","${a.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${a.count}","${c}%","${u.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}"
`}),t+=`
`,t+=`ADDITIONAL INSIGHTS
`,t+="=".repeat(50)+`
`,e.length>0){let a=e.reduce((u,d)=>d.totalAmount>u.totalAmount?d:u,e[0]),c=e.reduce((u,d)=>d.totalAmount<u.totalAmount?d:u,e[0]);if(t+=`Highest Spending Month: ${a.monthName} (\u20B9${a.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})
`,t+=`Lowest Spending Month: ${c.monthName} (\u20B9${c.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})
`,e.length>=2){let u=e[0].totalAmount,d=e[1].totalAmount,p=(u-d)/d*100;t+=`Recent Trend: ${p>0?"Increase":p<0?"Decrease":"Stable"} (${p.toFixed(1)}%)
`}}return t}generateMonthReportCSV(e){let t="";t+=`Expense Tracker - Monthly Report
`,t+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,t+=`
`,t+=`MONTHLY SUMMARY
`,t+="=".repeat(50)+`
`,t+=`Report Period: ${e.monthName}
`,t+=`Total Amount Spent: \u20B9${e.totalAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Total Number of Expenses: ${e.expenseCount.toLocaleString("en-IN")}
`,t+=`Average Amount per Expense: \u20B9${(e.totalAmount/e.expenseCount).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}
`,t+=`Number of Categories Used: ${e.categoryBreakdown.length}
`,t+=`
`,t+=`CATEGORY BREAKDOWN
`,t+="=".repeat(50)+`
`,t+=`Category,Amount (\u20B9),Number of Expenses,Percentage of Total,Average per Expense (\u20B9)
`,e.categoryBreakdown.forEach(s=>{let a=(s.amount/e.totalAmount*100).toFixed(1),c=s.count>0?s.amount/s.count:0;t+=`"${s.category.name}","${s.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${s.count}","${a}%","${c.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}"
`}),t+=`
`,t+=`INDIVIDUAL EXPENSES
`,t+="=".repeat(50)+`
`,t+=`Date,Description,Category,Amount (\u20B9),Priority,Amount Category
`;let r=[...e.expenses].sort((s,a)=>new Date(a.date).getTime()-new Date(s.date).getTime());if(r.forEach(s=>{let a=this.getCategoryName(s.categoryId),c=new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=s.priority||"Normal",d=this.getAmountCategory(s.amount);t+=`"${c}","${s.description||"No description"}","${a}","${s.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}","${u}","${d}"
`}),t+=`
`,t+=`MONTHLY INSIGHTS
`,t+="=".repeat(50)+`
`,e.categoryBreakdown.length>0){let s=e.categoryBreakdown[0],a=e.categoryBreakdown[e.categoryBreakdown.length-1];t+=`Top Spending Category: ${s.category.name} (\u20B9${s.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} - ${(s.amount/e.totalAmount*100).toFixed(1)}%)
`,t+=`Lowest Spending Category: ${a.category.name} (\u20B9${a.amount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})} - ${(a.amount/e.totalAmount*100).toFixed(1)}%)
`}let i=r.filter(s=>s.amount>1e3),o=r.filter(s=>s.amount<=500);return t+=`High Value Expenses (>\u20B91,000): ${i.length}
`,t+=`Low Value Expenses (\u2264\u20B9500): ${o.length}
`,t+=`Medium Value Expenses (\u20B9500-\u20B91,000): ${r.length-i.length-o.length}
`,t}getAmountCategory(e){return e>5e3?"Very High":e>2e3?"High":e>1e3?"Medium-High":e>500?"Medium":e>200?"Low-Medium":"Low"}getCategorySummaryAcrossMonths(e){let t={};return e.forEach(r=>{r.categoryBreakdown.forEach(i=>{let o=i.category.id;t[o]||(t[o]={amount:0,count:0,name:i.category.name}),t[o].amount+=i.amount,t[o].count+=i.count})}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCategoryAmountForReport(e,t){let r=e.categoryBreakdown.find(i=>i.category.id===t);return r?r.amount.toFixed(2):"0.00"}downloadCSV(e,t){let r=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){let o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else alert("Download not supported in this browser. Copy the data manually."),console.log("CSV Content:",e)}hasActiveFilters(){return!!(this.filterYear||this.filterMonth||this.filterCategory)}getPaginatedExpenses(){let e=this.getSortedExpenses(),t=this.getExpenseStartIndex(),r=this.getExpenseEndIndex();return e.slice(t,r)}getTotalExpensePages(){let e=this.getSortedExpenses().length;return Math.ceil(e/this.expensesPerPage)}getExpenseStartIndex(){return(this.currentExpensePage-1)*this.expensesPerPage}getExpenseEndIndex(){let e=this.getExpenseStartIndex(),t=this.getSortedExpenses().length;return Math.min(e+this.expensesPerPage,t)}getExpensePageNumbers(){let e=this.getTotalExpensePages(),t=this.currentExpensePage,r=[],i=Math.max(1,t-2),o=Math.min(e,t+2);for(let s=i;s<=o;s++)r.push(s);return r}goToExpensePage(e){e>=1&&e<=this.getTotalExpensePages()&&(this.currentExpensePage=e)}getFilteredReports(){let e=[...this.monthlyReports];return this.filterYear&&(e=e.filter(t=>t.year.toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>t.month.toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryBreakdown.some(r=>r.category.id===this.filterCategory))),e.sort((t,r)=>{let i,o;switch(this.sortBy){case"month":i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime();break;case"amount":i=t.totalAmount,o=r.totalAmount;break;case"expenseCount":i=t.expenseCount,o=r.expenseCount;break;default:i=new Date(t.year,t.month-1).getTime(),o=new Date(r.year,r.month-1).getTime()}return this.sortOrder==="asc"?i-o:o-i}),e}getAvailableYears(){return[...new Set(this.monthlyReports.map(t=>t.year.toString()))].sort((t,r)=>parseInt(r)-parseInt(t))}getAvailableMonths(){return[...new Set(this.monthlyReports.map(t=>t.month.toString()))].sort((t,r)=>parseInt(t)-parseInt(r))}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e)-1]||e}clearFilters(){this.filterYear="",this.filterMonth="",this.filterCategory="",this.sortBy="month",this.sortOrder="desc",this.calculateAnalytics()}onFilterChange(){this.calculateAnalytics()}getCategoryBreakdown(e){let t={};return e.forEach(r=>{let i=this.categories.find(o=>o.id===r.categoryId);i&&(t[i.id]||(t[i.id]={amount:0,count:0,category:i}),t[i.id].amount+=r.amount,t[i.id].count+=1)}),Object.values(t).sort((r,i)=>i.amount-r.amount)}getCurrentMonthReport(){let e=new Date,t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(r=>r.monthKey===t)}getPreviousMonthReport(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1),r=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return this.monthlyReports.find(i=>i.monthKey===r)}getMonthlyComparison(){let e=this.getCurrentMonthReport(),t=this.getPreviousMonthReport();if(!e||!t)return{change:0,percentage:0,hasPreviousData:!1,status:e?"First Month":"No Data"};let r=e.totalAmount-t.totalAmount,i=t.totalAmount>0?r/t.totalAmount*100:0,o="No Change";return r>0?o="Increased":r<0&&(o="Decreased"),{change:r,percentage:parseFloat(i.toFixed(2)),hasPreviousData:!0,status:o}}selectMonth(e){this.selectedMonth=e,this.showDetailedView=!0}getSelectedMonthReport(){return this.monthlyReports.find(e=>e.monthKey===this.selectedMonth)}getCategoryName(e){let t=this.categories.find(r=>r.id===e);return t?t.name:"Unknown"}getCategoryIcon(e){let t=this.categories.find(r=>r.id===e);return t&&t.icon?t.icon:"\u{1F4CC}"}getCategoryColor(e){let t=this.categories.find(r=>r.id===e);return t&&t.color?t.color:"#6c757d"}getSpendingInsights(){let e=[];return this.highestSpendingMonth&&e.push({type:"highest",title:"Highest Spending Month",value:this.highestSpendingMonth.monthName,amount:this.highestSpendingMonth.totalAmount,icon:"\u{1F4C8}"}),this.mostUsedCategory&&e.push({type:"category",title:"Most Used Category",value:this.mostUsedCategory.name,icon:this.mostUsedCategory.icon||"\u{1F4CC}"}),e.push({type:"trend",title:"Spending Trend",value:this.spendingTrend.charAt(0).toUpperCase()+this.spendingTrend.slice(1),icon:this.spendingTrend==="increasing"?"\u{1F4C8}":this.spendingTrend==="decreasing"?"\u{1F4C9}":"\u27A1\uFE0F"}),e}getFilteredExpenses(){let e=[...this.expenses];return this.filterYear&&(e=e.filter(t=>new Date(t.date).getFullYear().toString()===this.filterYear)),this.filterMonth&&(e=e.filter(t=>(new Date(t.date).getMonth()+1).toString()===this.filterMonth)),this.filterCategory&&(e=e.filter(t=>t.categoryId===this.filterCategory)),e}static \u0275fac=function(t){return new(t||n)(W(ki),W(Ri))};static \u0275cmp=dt({type:n,selectors:[["app-monthly-reports"]],decls:47,vars:14,consts:[[1,"monthly-reports-page"],[1,"smart-header"],[1,"header-content"],[1,"header-left"],[1,"page-title"],[1,"page-description"],[1,"header-actions"],["title","Export all filtered data",1,"action-btn","primary",3,"click"],[1,"action-icon"],[1,"action-text"],[1,"action-btn","secondary",3,"click"],["class","analytics-section",4,"ngIf"],["class","overview-section",4,"ngIf"],["class","filters-section",4,"ngIf"],[1,"reports-section"],[1,"section-header"],[1,"header-right"],[1,"reports-count"],[1,"view-toggle"],[1,"view-btn",3,"click"],[1,"view-icon"],[1,"view-text"],["class","reports-grid",4,"ngIf"],["class","reports-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","detailed-view",4,"ngIf"],[1,"analytics-section"],[1,"analytics-header"],[1,"analytics-period"],[1,"period-badge"],[1,"analytics-grid"],[1,"analytics-card","primary"],[1,"analytics-icon"],[1,"analytics-content"],[1,"analytics-value"],[1,"analytics-label"],["class","analytics-trend",4,"ngIf"],[1,"analytics-card","secondary"],[1,"analytics-subtitle"],[1,"analytics-card","tertiary"],[1,"analytics-card","accent"],[1,"analytics-trend"],[1,"trend-icon"],[1,"trend-text"],[1,"overview-section"],[1,"overview-card"],[1,"overview-header"],[1,"overview-title"],[1,"month-badge"],[1,"overview-stats"],[1,"stat-item","primary"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-item","secondary"],[1,"stat-item","tertiary"],["class","stat-value",3,"positive","negative",4,"ngIf"],["class","stat-value new-month",4,"ngIf"],[1,"stat-value","new-month"],[1,"filters-section"],[1,"filters-header"],["class","btn-clear-filters",3,"click",4,"ngIf"],[1,"filters-grid"],[1,"filter-group"],["for","filterYear"],["id","filterYear",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterMonth"],["id","filterMonth",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filterCategory"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["for","sortBy"],["id","sortBy",1,"form-select",3,"ngModelChange","ngModel"],["value","month"],["value","amount"],["value","expenseCount"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","desc"],["value","asc"],[1,"btn-clear-filters",3,"click"],[1,"clear-icon"],[3,"value"],[1,"reports-grid"],["class","report-card",3,"click",4,"ngFor","ngForOf"],[1,"report-card",3,"click"],[1,"report-header"],[1,"month-info"],[1,"month-name"],[1,"month-year"],[1,"report-arrow"],[1,"report-stats"],[1,"report-amount"],[1,"report-count"],[1,"category-preview"],["class","category-item",4,"ngFor","ngForOf"],[1,"report-footer"],["class","trend-indicator",4,"ngIf"],[1,"category-item"],[1,"category-icon"],[1,"category-name"],[1,"category-amount"],[1,"trend-indicator"],[1,"reports-list"],["class","report-list-item",3,"click",4,"ngFor","ngForOf"],[1,"report-list-item",3,"click"],[1,"list-item-header"],[1,"list-item-amount"],[1,"list-item-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"list-item-arrow"],[1,"empty-state"],[1,"empty-icon"],["routerLink","/expenses",1,"btn-add-expense"],[1,"detailed-view"],[1,"detailed-header"],[1,"back-btn",3,"click"],[1,"back-icon"],[1,"detailed-title"],[1,"detailed-subtitle"],[1,"detailed-actions"],["title","Export this month's detailed report",1,"action-btn",3,"click"],[1,"detailed-content"],[1,"summary-cards"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-content"],[1,"summary-value"],[1,"summary-label"],[1,"breakdown-section"],[1,"breakdown-total"],[1,"category-breakdown"],["class","category-item-detailed",4,"ngFor","ngForOf"],[1,"expenses-section"],[1,"expenses-controls"],[1,"btn-sort",3,"click"],[1,"sort-icon"],[1,"expenses-list"],["class","expense-item",4,"ngFor","ngForOf"],["class","pagination-controls",4,"ngIf"],[1,"category-item-detailed"],[1,"category-info"],[1,"category-details"],[1,"category-count"],[1,"category-amounts"],[1,"amount-primary"],[1,"amount-percentage"],[1,"category-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"expense-item"],[1,"expense-main"],[1,"expense-icon"],[1,"expense-info"],[1,"expense-description"],[1,"expense-meta"],[1,"expense-date"],[1,"expense-category"],[1,"category-badge"],[1,"expense-amount"],[1,"amount-value"],[1,"amount-indicator"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-icon"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],[1,"page-number",3,"click"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),m(5,"\u{1F4CA} Financial Reports"),g(),f(6,"p",5),m(7,"Comprehensive spending analysis and insights"),g()(),f(8,"div",6)(9,"button",7),G("click",function(){return r.exportFullReport()}),f(10,"span",8),m(11,"\u{1F4CA}"),g(),f(12,"span",9),m(13,"Export Full Report"),g()(),f(14,"button",10),G("click",function(){return r.toggleAnalytics()}),f(15,"span",8),m(16),g(),f(17,"span",9),m(18),g()()()()(),K(19,LK,49,13,"div",11)(20,UK,34,8,"div",12)(21,qK,45,9,"div",13),f(22,"div",14)(23,"div",15)(24,"div",3)(25,"h3"),m(26,"Monthly Breakdown"),g(),f(27,"p"),m(28,"Click on any month to view detailed breakdown"),g()(),f(29,"div",16)(30,"div",17),m(31),g(),f(32,"div",18)(33,"button",19),G("click",function(){return r.setViewMode("grid")}),f(34,"span",20),m(35,"\u229E"),g(),f(36,"span",21),m(37,"Grid"),g()(),f(38,"button",19),G("click",function(){return r.setViewMode("list")}),f(39,"span",20),m(40,"\u2630"),g(),f(41,"span",21),m(42,"List"),g()()()()(),K(43,YK,2,1,"div",22)(44,ZK,2,1,"div",23)(45,JK,9,0,"div",24),g(),K(46,rY,73,20,"div",25),g()),t&2&&(C(16),H(r.showAnalytics?"\u{1F4CA}":"\u{1F50D}"),C(2),H(r.showAnalytics?"Hide Analytics":"Show Analytics"),C(),R("ngIf",r.monthlyReports.length>0&&r.showAnalytics),C(),R("ngIf",r.getCurrentMonthReport()),C(),R("ngIf",r.monthlyReports.length>0),C(10),oe("",r.getFilteredReports().length," months"),C(2),zt("active",r.viewMode==="grid"),C(5),zt("active",r.viewMode==="list"),C(5),R("ngIf",r.getFilteredReports().length>0&&r.viewMode==="grid"),C(),R("ngIf",r.getFilteredReports().length>0&&r.viewMode==="list"),C(),R("ngIf",r.getFilteredReports().length===0),C(),R("ngIf",r.showDetailedView&&r.getSelectedMonthReport()))},dependencies:[mt,gr,Mt,Yt,Es,Ps,Ai,Kt,Vt,Hu,oa],styles:['.monthly-reports-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e8ff,#e9d5ff,#ddd6fe);min-height:100vh;padding:1.25rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#1e293b}.smart-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#7c3aed,#6d28d9);border-radius:16px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 8px 30px #a855f726;border:1px solid rgba(255,255,255,.1)}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:2rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;text-align:center}}.header-left[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{color:#fff;font-size:2rem;font-weight:700;margin:0 0 .5rem;letter-spacing:-.025em}.page-description[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1rem;margin:0;font-weight:400}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{justify-content:center}}.action-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3,#ffffff1a);border:1px solid rgba(255,255,255,.3);color:#fff;padding:.875rem 1.75rem;border-radius:12px;font-size:.9375rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:.625rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 12px #0000001a;position:relative;overflow:hidden}.action-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.action-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffffff4d,#fff3);transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.action-btn[_ngcontent-%COMP%]:hover:before{left:100%}.action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff40,#ffffff26);border-color:#fff6;box-shadow:0 4px 12px #7c3aed4d}.action-btn.primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffffff59,#ffffff40);box-shadow:0 6px 20px #7c3aed66}.action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffff26,#ffffff0d);border-color:#fff3}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffffff40,#ffffff26)}.action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef444433,#dc26261a);border-color:#ef44444d}.action-btn.danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef44444d,#dc262633);box-shadow:0 6px 20px #ef44444d}.action-icon[_ngcontent-%COMP%]{font-size:1.125rem;transition:transform .3s ease}.action-btn[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.analytics-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffffffe6,#f8fafcf2);border-radius:20px;margin-bottom:1.5rem;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a,inset 0 1px #fffc;border:1px solid rgba(255,255,255,.6);overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);position:relative}.analytics-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(168,85,247,.3),transparent)}.analytics-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9,#5b21b6);color:#fff;padding:1.75rem;display:flex;align-items:center;justify-content:space-between;position:relative;overflow:hidden}.analytics-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.analytics-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;margin:0;display:flex;align-items:center;gap:.75rem;position:relative;z-index:2;background:linear-gradient(135deg,#fff,#f3e8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@media (max-width: 768px){.analytics-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center;padding:1.5rem}}.analytics-period[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3,#ffffff1a);border:1px solid rgba(255,255,255,.3);border-radius:50px;padding:.625rem 1.25rem;font-size:.875rem;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #0000001a;position:relative;z-index:2}.analytics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem;padding:1.75rem}@media (max-width: 768px){.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}}.analytics-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:16px;padding:2rem;border:1px solid rgba(255,255,255,.8);transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6}.analytics-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#7c3aed,#8b5cf6,#a855f7);opacity:0;transition:opacity .3s ease}.analytics-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(168,85,247,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.analytics-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #0000001f,0 6px 20px #00000014,inset 0 1px #fffffff2;border-color:#a855f74d}.analytics-card[_ngcontent-%COMP%]:hover:before{opacity:1}.analytics-card[_ngcontent-%COMP%]:hover:after{opacity:1}.analytics-card[_ngcontent-%COMP%]:hover   .analytics-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.analytics-card.primary[_ngcontent-%COMP%]{border-left:4px solid #7c3aed}.analytics-card.primary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#7c3aed,#8b5cf6)}.analytics-card.secondary[_ngcontent-%COMP%]{border-left:4px solid #10b981}.analytics-card.secondary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#059669)}.analytics-card.tertiary[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.analytics-card.tertiary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#d97706)}.analytics-card.accent[_ngcontent-%COMP%]{border-left:4px solid #8b5cf6}.analytics-card.accent[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.analytics-icon[_ngcontent-%COMP%]{font-size:2.25rem;margin-bottom:1.25rem;transition:all .3s cubic-bezier(.4,0,.2,1);display:inline-block}.analytics-content[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:#1e293b;margin-bottom:.625rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.analytics-content[_ngcontent-%COMP%]   .analytics-label[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#64748b;margin-bottom:.375rem;text-transform:uppercase;letter-spacing:.025em}.analytics-content[_ngcontent-%COMP%]   .analytics-subtitle[_ngcontent-%COMP%]{font-size:.8125rem;color:#94a3b8;font-weight:500}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;margin-top:1rem}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1.125rem;animation:_ngcontent-%COMP%_pulseGlow 2s ease-in-out infinite}.analytics-content[_ngcontent-%COMP%]   .analytics-trend[_ngcontent-%COMP%]   .trend-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#10b981;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-10px) rotate(180deg)}}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{filter:drop-shadow(0 0 5px rgba(16,185,129,.3))}50%{filter:drop-shadow(0 0 15px rgba(16,185,129,.6))}}.overview-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.overview-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #00000014,0 4px 16px #0000000a,inset 0 1px #fffc;border:1px solid rgba(255,255,255,.6);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);position:relative;overflow:hidden}.overview-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(168,85,247,.3),transparent)}.overview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.75rem}@media (max-width: 768px){.overview-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.overview-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:700;color:#1e293b;margin:0 0 .625rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.month-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9,#5b21b6);color:#fff;padding:.625rem 1.25rem;border-radius:50px;font-size:.875rem;font-weight:600;box-shadow:0 4px 12px #7c3aed4d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-view-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9);color:#fff;border:none;padding:.875rem 1.75rem;border-radius:12px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #7c3aed4d}.btn-view-details[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6d28d9,#5b21b6);transform:translateY(-2px);box-shadow:0 6px 20px #7c3aed66}.overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem}@media (max-width: 768px){.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;padding:1.5rem;background:linear-gradient(135deg,#ffffffe6,#f8fafcf2);border-radius:16px;border:1px solid rgba(255,255,255,.8);transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 30px #0000001f,0 4px 16px #00000014,inset 0 1px #fffffff2}.stat-item.primary[_ngcontent-%COMP%]{border-left:4px solid #7c3aed}.stat-item.secondary[_ngcontent-%COMP%]{border-left:4px solid #10b981}.stat-item.tertiary[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.stat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:linear-gradient(135deg,#f3e8ff,#e9d5ff);box-shadow:0 4px 12px #a855f733;transition:all .3s ease}.stat-item[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{transform:scale(1.1);box-shadow:0 6px 20px #a855f74d}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:800;color:#1e293b;margin-bottom:.375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.stat-content[_ngcontent-%COMP%]   .stat-value.positive[_ngcontent-%COMP%]{color:#10b981;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stat-content[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#ef4444;background:linear-gradient(135deg,#ef4444,#dc2626);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stat-content[_ngcontent-%COMP%]   .stat-value.new-month[_ngcontent-%COMP%]{color:#7c3aed;background:linear-gradient(135deg,#7c3aed,#6d28d9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-size:1.125rem}.stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.025em}.filters-section[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;margin-bottom:1.5rem;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;overflow:hidden}.filters-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b,#475569);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;display:flex;align-items:center;gap:.5rem}@media (max-width: 768px){.filters-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.btn-clear-filters[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.btn-clear-filters[_ngcontent-%COMP%]:hover{background:#ffffff40}.clear-icon[_ngcontent-%COMP%]{font-size:.875rem}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;padding:1.5rem}@media (max-width: 768px){.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem}.form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;background:#fff;color:#374151;transition:border-color .2s ease}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.reports-section[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;overflow:hidden}.section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#334155);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0 0 .25rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:.875rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 768px){.header-right[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.reports-count[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);border-radius:50px;padding:.5rem 1rem;font-size:.875rem;font-weight:500}.view-toggle[_ngcontent-%COMP%]{display:flex;background:#0003;border-radius:50px;padding:.25rem;border:1px solid rgba(255,255,255,.1);position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px 3px #0000001a}.view-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#ffffffb3;padding:.5rem 1rem;border-radius:50px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:.5rem;position:relative;z-index:2;min-width:80px;justify-content:center}.view-btn[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{font-size:1rem;transition:transform .2s ease}.view-btn[_ngcontent-%COMP%]   .view-text[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.025em}.view-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;box-shadow:0 2px 8px #3b82f666;transform:scale(1.02)}.view-btn.active[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.view-btn[_ngcontent-%COMP%]:hover:not(.active){color:#ffffffe6;background:#ffffff0d}.view-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 768px){.view-btn[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.8rem;min-width:70px}.view-btn[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{font-size:.9rem}}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.25rem;padding:1.75rem}@media (max-width: 768px){.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}}.report-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:20px;padding:2rem;border:1px solid rgba(255,255,255,.8);cursor:pointer;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6}.report-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#7c3aed,#8b5cf6,#a855f7);opacity:0;transition:opacity .3s ease}.report-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(168,85,247,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 16px 50px #00000026,0 8px 25px #0000001a,inset 0 1px #fffffff2;border-color:#a855f766}.report-card[_ngcontent-%COMP%]:hover:before{opacity:1}.report-card[_ngcontent-%COMP%]:hover:after{opacity:1}.report-card[_ngcontent-%COMP%]:hover   .report-arrow[_ngcontent-%COMP%]{transform:translate(8px);color:#7c3aed}.report-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.25rem}.month-info[_ngcontent-%COMP%]   .month-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b;margin:0 0 .375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.month-info[_ngcontent-%COMP%]   .month-year[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:500}.report-arrow[_ngcontent-%COMP%]{font-size:1.375rem;color:#7c3aed;transition:all .3s cubic-bezier(.4,0,.2,1);filter:drop-shadow(0 2px 4px rgba(124,58,237,.2))}.report-stats[_ngcontent-%COMP%]{margin-bottom:1.25rem}.report-stats[_ngcontent-%COMP%]   .report-amount[_ngcontent-%COMP%]{font-size:1.625rem;font-weight:800;color:#1e293b;margin-bottom:.375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.report-stats[_ngcontent-%COMP%]   .report-count[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:500}.category-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem;margin-bottom:1.25rem}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.75rem;background:linear-gradient(135deg,#f8fafccc,#f1f5f9e6);border-radius:12px;border:1px solid rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.category-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f3e8ffcc,#e9d5ffe6);transform:translate(4px)}.category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:.9375rem;color:#fff;box-shadow:0 2px 8px #00000026}.category-item[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{flex:1;font-size:.9375rem;color:#374151;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b}.report-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(226,232,240,.6);padding-top:1.25rem}.trend-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;font-size:.9375rem}.trend-indicator[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1.125rem;animation:_ngcontent-%COMP%_pulseGlow 2s ease-in-out infinite}.trend-indicator[_ngcontent-%COMP%]   .trend-text[_ngcontent-%COMP%]{font-weight:600;color:#10b981;background:linear-gradient(135deg,#10b981,#059669);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.reports-list[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 768px){.reports-list[_ngcontent-%COMP%]{padding:1rem}}.report-list-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease;margin-bottom:1rem;position:relative;overflow:hidden}.report-list-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);opacity:0;transition:opacity .3s ease}.report-list-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001f;border-color:#3b82f6}.report-list-item[_ngcontent-%COMP%]:hover:before{opacity:1}.report-list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.list-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.list-item-amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b}.list-item-details[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1rem}@media (max-width: 768px){.list-item-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.list-item-arrow[_ngcontent-%COMP%]{font-size:1.25rem;color:#3b82f6;text-align:right}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1.5rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem}.btn-add-expense[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;display:inline-block}.btn-add-expense[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.detailed-view[_ngcontent-%COMP%]{background:#fafbfc;border-radius:16px;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;overflow:hidden;margin-top:1.5rem}.detailed-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#334155);color:#fff;padding:1.5rem;display:flex;align-items:center;justify-content:space-between}@media (max-width: 768px){.detailed-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}.back-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff40}.back-icon[_ngcontent-%COMP%]{font-size:1rem}.detailed-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0 0 .25rem}.detailed-title[_ngcontent-%COMP%]   .detailed-subtitle[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.detailed-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.detailed-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff40}.detailed-content[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 768px){.detailed-content[_ngcontent-%COMP%]{padding:1rem}}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem;margin-bottom:2rem}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcfa);border-radius:20px;padding:2rem;border:1px solid rgba(255,255,255,.8);display:flex;align-items:center;gap:1.25rem;transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 4px 20px #0000000f,0 2px 8px #0000000a,inset 0 1px #ffffffe6;position:relative;overflow:hidden}.summary-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#7c3aed,#8b5cf6,#a855f7);opacity:0;transition:opacity .3s ease}.summary-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(168,85,247,.05) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 40px #0000001f,0 6px 20px #00000014,inset 0 1px #fffffff2;border-color:#a855f74d}.summary-card[_ngcontent-%COMP%]:hover:before{opacity:1}.summary-card[_ngcontent-%COMP%]:hover:after{opacity:1}.summary-card[_ngcontent-%COMP%]:hover   .summary-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);filter:drop-shadow(0 4px 12px rgba(168,85,247,.3))}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:linear-gradient(135deg,#f3e8ff,#e9d5ff);box-shadow:0 4px 12px #a855f733;transition:all .3s cubic-bezier(.4,0,.2,1)}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{flex:1}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:800;color:#1e293b;margin-bottom:.375rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.2}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;font-weight:600;text-transform:uppercase;letter-spacing:.025em}.breakdown-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0;margin-bottom:1.5rem}.breakdown-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{background:none;color:#1e293b;padding:0 0 1rem;border-bottom:1px solid #e2e8f0;margin-bottom:1.5rem}.breakdown-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0}.breakdown-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .breakdown-total[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.category-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-item-detailed[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}.category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.category-amounts[_ngcontent-%COMP%]{text-align:right;margin-right:1rem}.category-amounts[_ngcontent-%COMP%]   .amount-primary[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin-bottom:.25rem}.category-amounts[_ngcontent-%COMP%]   .amount-percentage[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.category-progress[_ngcontent-%COMP%]{width:100px}.category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden}.category-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.expenses-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e2e8f0}.expenses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{background:none;color:#1e293b;padding:0 0 1rem;border-bottom:1px solid #e2e8f0;margin-bottom:1.5rem}.expenses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin:0}.expenses-controls[_ngcontent-%COMP%]   .btn-sort[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#374151;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.expenses-controls[_ngcontent-%COMP%]   .btn-sort[_ngcontent-%COMP%]:hover{background:#e2e8f0}.sort-icon[_ngcontent-%COMP%]{font-size:1rem}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0;transition:all .2s ease}.expense-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#3b82f6}.expense-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.expense-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}.expense-info[_ngcontent-%COMP%]{flex:1}.expense-info[_ngcontent-%COMP%]   .expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:.25rem}.expense-info[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 768px){.expense-info[_ngcontent-%COMP%]   .expense-meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}.expense-info[_ngcontent-%COMP%]   .expense-date[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.expense-info[_ngcontent-%COMP%]   .category-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500;color:#fff}.expense-amount[_ngcontent-%COMP%]{text-align:right}.expense-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin-bottom:.25rem}.expense-amount[_ngcontent-%COMP%]   .amount-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:.25rem .5rem;border-radius:4px}.expense-amount[_ngcontent-%COMP%]   .amount-indicator.high[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.expense-amount[_ngcontent-%COMP%]   .amount-indicator.medium[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706}.expense-amount[_ngcontent-%COMP%]   .amount-indicator.low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.pagination-controls[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #e2e8f0;display:flex;flex-direction:column;gap:1rem}@media (max-width: 768px){.pagination-controls[_ngcontent-%COMP%]{gap:.75rem}}.pagination-info[_ngcontent-%COMP%]{text-align:center;font-size:.875rem;color:#64748b;font-weight:500}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}@media (max-width: 768px){.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.pagination-btn[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#374151;padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0;border-color:#3b82f6}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-icon[_ngcontent-%COMP%]{font-size:1rem}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 768px){.page-numbers[_ngcontent-%COMP%]{gap:.25rem}}.page-number[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #e2e8f0;color:#374151;padding:.75rem 1rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:40px;text-align:center}.page-number[_ngcontent-%COMP%]:hover{background:#e2e8f0;border-color:#3b82f6}.page-number.active[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6;color:#fff}@media (max-width: 768px){.page-number[_ngcontent-%COMP%]{padding:.5rem .75rem;min-width:35px;font-size:.8rem}}@media (max-width: 768px){.monthly-reports-page[_ngcontent-%COMP%]{padding:1rem}.smart-header[_ngcontent-%COMP%]{padding:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.analytics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}.analytics-card[_ngcontent-%COMP%]{padding:1.5rem}.analytics-card[_ngcontent-%COMP%]   .analytics-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.analytics-card[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{font-size:1.5rem}.overview-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-item[_ngcontent-%COMP%]{padding:1.25rem}.stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:40px;height:40px}.stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.25rem}.report-card[_ngcontent-%COMP%]{padding:1.5rem}.report-card[_ngcontent-%COMP%]   .report-stats[_ngcontent-%COMP%]   .report-amount[_ngcontent-%COMP%]{font-size:1.375rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.625rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:.875rem}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.summary-card[_ngcontent-%COMP%]{padding:1.5rem}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:40px;height:40px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.25rem}.category-item-detailed[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.category-amounts[_ngcontent-%COMP%]{text-align:left;margin-right:0}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.expense-amount[_ngcontent-%COMP%]{text-align:left;width:100%}.action-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:.875rem}.action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.monthly-reports-page[_ngcontent-%COMP%]{padding:.75rem}.smart-header[_ngcontent-%COMP%]{padding:1.25rem}.page-title[_ngcontent-%COMP%]{font-size:1.375rem}.analytics-grid[_ngcontent-%COMP%]{padding:1rem}.analytics-card[_ngcontent-%COMP%]{padding:1.25rem}.analytics-card[_ngcontent-%COMP%]   .analytics-icon[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:.875rem}.analytics-card[_ngcontent-%COMP%]   .analytics-content[_ngcontent-%COMP%]   .analytics-value[_ngcontent-%COMP%]{font-size:1.375rem}.overview-card[_ngcontent-%COMP%]{padding:1.5rem}.stat-item[_ngcontent-%COMP%]{padding:1rem}.stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.375rem;width:36px;height:36px}.stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.125rem}.filters-grid[_ngcontent-%COMP%]{padding:.875rem}.reports-grid[_ngcontent-%COMP%]{padding:1rem}.report-card[_ngcontent-%COMP%]{padding:1.25rem}.report-card[_ngcontent-%COMP%]   .report-stats[_ngcontent-%COMP%]   .report-amount[_ngcontent-%COMP%]{font-size:1.25rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.5rem}.report-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:.8125rem}.summary-card[_ngcontent-%COMP%]{padding:1.25rem}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:1.375rem;width:36px;height:36px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.125rem}.action-btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.8125rem}.action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:.9375rem}}']})};function iY(n,e){n&1&&(f(0,"span",22),m(1,"\u23F3"),g())}function oY(n,e){n&1&&(f(0,"span"),m(1,"Sign In"),g())}function sY(n,e){if(n&1&&(f(0,"div",23),m(1),g()),n&2){let t=F();C(),oe(" ",t.error," ")}}var $_=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";loading=!1;error="";signIn(){return w(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(t){return new(t||n)(W(Qt),W(Ze))};static \u0275cmp=dt({type:n,selectors:[["app-login"]],decls:33,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"forgot-password-link"],[1,"link",3,"click"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Me();f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),m(5,"\u{1F4B0}"),g(),f(6,"h1",6),m(7,"Expense Tracker"),g()(),f(8,"p",7),m(9,"Sign in to manage your expenses"),g()(),f(10,"form",8,0),G("ngSubmit",function(){return $(i),z(r.signIn())}),f(12,"div",9)(13,"label",10),m(14,"Email"),g(),f(15,"input",11),ye("ngModelChange",function(s){return $(i),Ce(r.email,s)||(r.email=s),z(s)}),g()(),f(16,"div",9)(17,"label",12),m(18,"Password"),g(),f(19,"input",13),ye("ngModelChange",function(s){return $(i),Ce(r.password,s)||(r.password=s),z(s)}),g(),f(20,"div",14)(21,"a",15),G("click",function(){return $(i),z(r.goToForgotPassword())}),m(22,"Forgot Password?"),g()()(),f(23,"div",16)(24,"button",17),K(25,iY,2,0,"span",18)(26,oY,2,0,"span",19),g()()(),f(27,"div",20)(28,"p"),m(29,"Don't have an account? "),f(30,"a",15),G("click",function(){return $(i),z(r.goToRegister())}),m(31,"Sign up"),g()()(),K(32,sY,2,1,"div",21),g()()}if(t&2){let i=Dr(11);C(15),_e("ngModel",r.email),C(4),_e("ngModel",r.password),C(5),R("disabled",!i.form.valid||r.loading),C(),R("ngIf",r.loading),C(),R("ngIf",!r.loading),C(6),R("ngIf",r.error)}},dependencies:[mt,Mt,Yt,vr,Gt,Kt,yr,er,Vt,Xn],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-top:.5rem}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500;font-size:.875rem;cursor:pointer;transition:color .3s ease}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var z_=class n{constructor(e){this.firebaseService=e}createDefaultCategories(){return w(this,null,function*(){let e=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let t of e)yield this.firebaseService.addCategory(t);console.log("Default categories created successfully")}catch(t){console.error("Error creating default categories:",t)}})}static \u0275fac=function(t){return new(t||n)(ne(Bn))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function cY(n,e){n&1&&(f(0,"span",25),m(1,"\u23F3"),g())}function lY(n,e){n&1&&(f(0,"span"),m(1,"Create Account"),g())}function uY(n,e){if(n&1&&(f(0,"div",26),m(1),g()),n&2){let t=F();C(),oe(" ",t.error," ")}}var H_=class n{constructor(e,t,r){this.authService=e;this.router=t;this.defaultCategoriesService=r}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return w(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(e){return e.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":e.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(t){return new(t||n)(W(Qt),W(Ze),W(z_))};static \u0275cmp=dt({type:n,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(t,r){if(t&1){let i=Me();f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),m(5,"\u{1F4B0}"),g(),f(6,"h1",6),m(7,"Expense Tracker"),g()(),f(8,"p",7),m(9,"Create your account to start tracking expenses"),g()(),f(10,"form",8,0),G("ngSubmit",function(){return $(i),z(r.register())}),f(12,"div",9)(13,"label",10),m(14,"Full Name"),g(),f(15,"input",11),ye("ngModelChange",function(s){return $(i),Ce(r.displayName,s)||(r.displayName=s),z(s)}),g()(),f(16,"div",9)(17,"label",12),m(18,"Email"),g(),f(19,"input",13),ye("ngModelChange",function(s){return $(i),Ce(r.email,s)||(r.email=s),z(s)}),g()(),f(20,"div",9)(21,"label",14),m(22,"Password"),g(),f(23,"input",15),ye("ngModelChange",function(s){return $(i),Ce(r.password,s)||(r.password=s),z(s)}),g()(),f(24,"div",9)(25,"label",16),m(26,"Confirm Password"),g(),f(27,"input",17),ye("ngModelChange",function(s){return $(i),Ce(r.confirmPassword,s)||(r.confirmPassword=s),z(s)}),g()(),f(28,"div",18)(29,"button",19),K(30,cY,2,0,"span",20)(31,lY,2,0,"span",21),g()()(),f(32,"div",22)(33,"p"),m(34,"Already have an account? "),f(35,"a",23),G("click",function(){return $(i),z(r.goToLogin())}),m(36,"Sign in"),g()()(),K(37,uY,2,1,"div",24),g()()}if(t&2){let i=Dr(11);C(15),_e("ngModel",r.displayName),C(4),_e("ngModel",r.email),C(4),_e("ngModel",r.password),C(4),_e("ngModel",r.confirmPassword),C(2),R("disabled",!i.form.valid||r.loading||!r.passwordsMatch()),C(),R("ngIf",r.loading),C(),R("ngIf",!r.loading),C(6),R("ngIf",r.error)}},dependencies:[mt,Mt,Yt,vr,Gt,Kt,yr,er,Ch,Vt,Xn],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};function dY(n,e){n&1&&(f(0,"span",24),m(1,"\u23F3"),g())}function hY(n,e){n&1&&(f(0,"span"),m(1,"Send Reset Link"),g())}function fY(n,e){if(n&1){let t=Me();f(0,"div",14)(1,"p",15),m(2," Enter your email address and we'll send you a link to reset your password. "),g(),f(3,"form",16,0),G("ngSubmit",function(){$(t);let i=F();return z(i.sendResetEmail())}),f(5,"div",17)(6,"label",18),m(7,"Email Address"),g(),f(8,"input",19),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.email,i)||(o.email=i),z(i)}),g()(),f(9,"div",20)(10,"button",21),K(11,dY,2,0,"span",22)(12,hY,2,0,"span",23),g()()()()}if(n&2){let t=Dr(4),r=F();C(8),_e("ngModel",r.email),C(2),R("disabled",!t.form.valid||r.loading),C(),R("ngIf",r.loading),C(),R("ngIf",!r.loading)}}function gY(n,e){n&1&&(f(0,"span",24),m(1,"\u23F3"),g())}function pY(n,e){n&1&&(f(0,"span"),m(1,"Resend Email"),g())}function mY(n,e){if(n&1){let t=Me();f(0,"div",25)(1,"div",26),m(2,"\u2705"),g(),f(3,"h3",27),m(4,"Check Your Email"),g(),f(5,"p",28),m(6," We've sent a password reset link to "),f(7,"strong"),m(8),g()(),f(9,"p",29),m(10," Click the link in the email to reset your password. The link will expire in 1 hour. "),g(),f(11,"div",30)(12,"h4"),m(13,"Not receiving the email?"),g(),f(14,"ul")(15,"li"),m(16,"Check your spam/junk folder"),g(),f(17,"li"),m(18,"Verify the email address is correct"),g(),f(19,"li"),m(20,"Wait a few minutes for delivery"),g(),f(21,"li"),m(22,"Add noreply@expense-tracker-4d264.firebaseapp.com to your contacts"),g()()(),f(23,"div",31)(24,"button",32),G("click",function(){$(t);let i=F();return z(i.resendEmail())}),K(25,gY,2,0,"span",22)(26,pY,2,0,"span",23),g()()()}if(n&2){let t=F();C(8),H(t.email),C(16),R("disabled",t.resendLoading),C(),R("ngIf",t.resendLoading),C(),R("ngIf",!t.resendLoading)}}function _Y(n,e){if(n&1&&(f(0,"div",33),m(1),g()),n&2){let t=F();C(),oe(" ",t.error," ")}}function yY(n,e){if(n&1&&(f(0,"div",34),m(1),g()),n&2){let t=F();C(),oe(" ",t.success," ")}}var q_=class n{constructor(e,t){this.authService=e;this.router=t}email="";loading=!1;resendLoading=!1;emailSent=!1;error="";success="";sendResetEmail(){return w(this,null,function*(){if(!this.email){this.error="Please enter your email address";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){this.error="Please enter a valid email address";return}this.loading=!0,this.error="",this.success="";try{console.log("Sending reset email to:",this.email),console.log("Current auth state:",this.authService.getCurrentUser()),yield this.authService.sendPasswordResetEmail(this.email),this.emailSent=!0,console.log("Reset email sent successfully"),this.success=`Reset link sent to ${this.email}. Please check your email (including spam folder).`}catch(t){console.error("Error in sendResetEmail:",t),t.message.includes("No account found")?this.error=`${t.message} If you're sure this is the correct email, try creating a new account.`:t.message.includes("network")?this.error=`${t.message} Please check your internet connection.`:t.message.includes("too many requests")?this.error=`${t.message} Please wait 5-10 minutes before trying again.`:this.error=t.message||"An error occurred while sending the reset email. Please try again."}finally{this.loading=!1}})}resendEmail(){return w(this,null,function*(){this.resendLoading=!0,this.error="",this.success="";try{yield this.authService.sendPasswordResetEmail(this.email),this.success="Reset link sent again successfully!"}catch(e){this.error=this.getErrorMessage(e)}finally{this.resendLoading=!1}})}goToLogin(){this.router.navigate(["/login"])}getErrorMessage(e){return e.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":e.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":e.code==="auth/too-many-requests"?"Too many requests. Please wait a few minutes and try again.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred while sending the reset email. Please try again."}static \u0275fac=function(t){return new(t||n)(W(Qt),W(Ze))};static \u0275cmp=dt({type:n,selectors:[["app-forgot-password"]],decls:17,vars:4,consts:[["resetForm","ngForm"],[1,"forgot-password-container"],[1,"forgot-password-card"],[1,"forgot-password-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"forgot-password-subtitle"],["class","forgot-password-form",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"navigation-links"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],["class","success-notification",4,"ngIf"],[1,"forgot-password-form"],[1,"instruction-text"],[1,"reset-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email address",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"success-message"],[1,"success-icon"],[1,"success-title"],[1,"success-text"],[1,"success-instruction"],[1,"troubleshooting-tips"],[1,"success-actions"],[1,"btn-secondary",3,"click","disabled"],[1,"error-message"],[1,"success-notification"]],template:function(t,r){t&1&&(f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),m(5,"\u{1F4B0}"),g(),f(6,"h1",6),m(7,"Expense Tracker"),g()(),f(8,"p",7),m(9,"Reset your password"),g()(),K(10,fY,13,4,"div",8)(11,mY,27,4,"div",9),f(12,"div",10)(13,"a",11),G("click",function(){return r.goToLogin()}),m(14,"\u2190 Back to Sign In"),g()(),K(15,_Y,2,1,"div",12)(16,yY,2,1,"div",13),g()()),t&2&&(C(10),R("ngIf",!r.emailSent),C(),R("ngIf",r.emailSent),C(4),R("ngIf",r.error),C(),R("ngIf",r.success))},dependencies:[mt,Mt,Yt,vr,Gt,Kt,yr,er,Vt,Xn],styles:[".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.forgot-password-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:450px}.forgot-password-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.forgot-password-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.instruction-text[_ngcontent-%COMP%]{color:#666;text-align:center;margin-bottom:1.5rem;line-height:1.5}.reset-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0000001a;border-color:#667eea;color:#667eea}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.success-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_bounce .6s ease-in-out}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.success-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#28a745;margin:0 0 1rem}.success-text[_ngcontent-%COMP%]{color:#666;margin:0 0 1rem;line-height:1.5}.success-instruction[_ngcontent-%COMP%]{color:#888;font-size:.9rem;margin:0 0 1.5rem;line-height:1.4}.success-actions[_ngcontent-%COMP%]{margin-top:1.5rem}.navigation-links[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s ease}.link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}.success-notification[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #c3e6cb}.troubleshooting-tips[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #eee}.troubleshooting-tips[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin-bottom:.5rem}.troubleshooting-tips[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.troubleshooting-tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:.3rem;line-height:1.4}@media (max-width: 480px){.forgot-password-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}.success-icon[_ngcontent-%COMP%]{font-size:2.5rem}.success-title[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};function vY(n,e){n&1&&(f(0,"span",24),m(1,"\u23F3"),g())}function CY(n,e){n&1&&(f(0,"span"),m(1,"Reset Password"),g())}function bY(n,e){if(n&1){let t=Me();f(0,"div",12)(1,"p",13),m(2," Enter your new password below. Make sure it's secure and easy to remember. "),g(),f(3,"form",14,0),G("ngSubmit",function(){$(t);let i=F();return z(i.resetPassword())}),f(5,"div",15)(6,"label",16),m(7,"New Password"),g(),f(8,"input",17),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.password,i)||(o.password=i),z(i)}),g()(),f(9,"div",15)(10,"label",18),m(11,"Confirm New Password"),g(),f(12,"input",19),ye("ngModelChange",function(i){$(t);let o=F();return Ce(o.confirmPassword,i)||(o.confirmPassword=i),z(i)}),g()(),f(13,"div",20)(14,"button",21),K(15,vY,2,0,"span",22)(16,CY,2,0,"span",23),g()()()()}if(n&2){let t=Dr(4),r=F();C(8),_e("ngModel",r.password),C(4),_e("ngModel",r.confirmPassword),C(2),R("disabled",!t.form.valid||r.loading||!r.passwordsMatch()),C(),R("ngIf",r.loading),C(),R("ngIf",!r.loading)}}function wY(n,e){if(n&1){let t=Me();f(0,"div",25)(1,"div",26),m(2,"\u2705"),g(),f(3,"h3",27),m(4,"Password Reset Successful!"),g(),f(5,"p",28),m(6," Your password has been successfully reset. You can now sign in with your new password. "),g(),f(7,"div",29)(8,"button",30),G("click",function(){$(t);let i=F();return z(i.goToLogin())}),m(9," Sign In Now "),g()()()}}function MY(n,e){if(n&1){let t=Me();f(0,"div",31)(1,"div",32),m(2,"\u274C"),g(),f(3,"h3",33),m(4,"Invalid Reset Link"),g(),f(5,"p",34),m(6," This password reset link is invalid or has expired. Please request a new reset link. "),g(),f(7,"div",35)(8,"button",36),G("click",function(){$(t);let i=F();return z(i.goToForgotPassword())}),m(9," Request New Link "),g()()()}}function EY(n,e){if(n&1&&(f(0,"div",37),m(1),g()),n&2){let t=F();C(),oe(" ",t.error," ")}}var W_=class n{constructor(e,t,r){this.authService=e;this.router=t;this.route=r}password="";confirmPassword="";loading=!1;resetSuccess=!1;invalidCode=!1;error="";oobCode="";ngOnInit(){this.route.queryParams.subscribe(e=>{this.oobCode=e.oobCode,this.oobCode?this.verifyResetCode():(this.invalidCode=!0,this.error="No reset code provided. Please use the link from your email.")})}verifyResetCode(){return w(this,null,function*(){try{yield ZR(this.authService.getAuthInstance(),this.oobCode)}catch(e){this.invalidCode=!0,this.error=this.getErrorMessage(e)}})}resetPassword(){return w(this,null,function*(){if(!this.passwordsMatch()){this.error="Passwords do not match. Please try again.";return}if(this.password.length<6){this.error="Password must be at least 6 characters long.";return}this.loading=!0,this.error="";try{yield zR(this.authService.getAuthInstance(),this.oobCode,this.password),this.resetSuccess=!0}catch(e){this.error=this.getErrorMessage(e)}finally{this.loading=!1}})}passwordsMatch(){return this.password===this.confirmPassword&&this.password.length>0}goToLogin(){this.router.navigate(["/login"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}getErrorMessage(e){return e.code==="auth/expired-action-code"?"The password reset link has expired. Please request a new one.":e.code==="auth/invalid-action-code"?"The password reset link is invalid. Please request a new one.":e.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password.":e.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred while resetting your password. Please try again."}static \u0275fac=function(t){return new(t||n)(W(Qt),W(Ze),W(Ln))};static \u0275cmp=dt({type:n,selectors:[["app-reset-password"]],decls:14,vars:4,consts:[["resetForm","ngForm"],[1,"reset-password-container"],[1,"reset-password-card"],[1,"reset-password-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"reset-password-subtitle"],["class","reset-password-form",4,"ngIf"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","error-notification",4,"ngIf"],[1,"reset-password-form"],[1,"instruction-text"],[1,"reset-form",3,"ngSubmit"],[1,"form-group"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your new password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your new password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"loading-spinner"],[1,"success-message"],[1,"success-icon"],[1,"success-title"],[1,"success-text"],[1,"success-actions"],[1,"btn-primary",3,"click"],[1,"error-message"],[1,"error-icon"],[1,"error-title"],[1,"error-text"],[1,"error-actions"],[1,"btn-secondary",3,"click"],[1,"error-notification"]],template:function(t,r){t&1&&(f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),m(5,"\u{1F4B0}"),g(),f(6,"h1",6),m(7,"Expense Tracker"),g()(),f(8,"p",7),m(9,"Set New Password"),g()(),K(10,bY,17,5,"div",8)(11,wY,10,0,"div",9)(12,MY,10,0,"div",10)(13,EY,2,1,"div",11),g()()),t&2&&(C(10),R("ngIf",!r.resetSuccess),C(),R("ngIf",r.resetSuccess),C(),R("ngIf",r.invalidCode),C(),R("ngIf",r.error))},dependencies:[mt,Mt,Yt,vr,Gt,Kt,yr,er,Ch,Vt,Xn],styles:[".reset-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.reset-password-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:450px}.reset-password-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.reset-password-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.instruction-text[_ngcontent-%COMP%]{color:#666;text-align:center;margin-bottom:1.5rem;line-height:1.5}.reset-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#495057;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0000001a;border-color:#667eea;color:#667eea}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.success-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_bounce .6s ease-in-out}.error-icon[_ngcontent-%COMP%]{color:#dc3545}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.success-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#28a745;margin:0 0 1rem}.error-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#dc3545;margin:0 0 1rem}.success-text[_ngcontent-%COMP%], .error-text[_ngcontent-%COMP%]{color:#666;margin:0 0 1.5rem;line-height:1.5}.success-actions[_ngcontent-%COMP%], .error-actions[_ngcontent-%COMP%]{margin-top:1.5rem}.error-notification[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.reset-password-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}.success-icon[_ngcontent-%COMP%], .error-icon[_ngcontent-%COMP%]{font-size:2.5rem}.success-title[_ngcontent-%COMP%], .error-title[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};function PY(n,e){if(n&1&&(f(0,"div",11)(1,"div",12),m(2),g(),f(3,"div",13),m(4),g(),f(5,"div",14),m(6),g()()),n&2){let t=e.$implicit;C(2),H(t.time),C(),Rn(t.success?"success":"error"),C(),oe(" ",t.success?"\u2705 Success":"\u274C Error"," "),C(2),H(t.message)}}function xY(n,e){if(n&1&&(f(0,"div",9)(1,"h3"),m(2,"Test Results"),g(),K(3,PY,7,5,"div",10),g()),n&2){let t=F();C(3),R("ngForOf",t.testResults)}}var G_=class n{constructor(e){this.authService=e}testEmail="";testing=!1;testResults=[];getCurrentUserInfo(){let e=this.authService.getCurrentUser();return e?`${e.email} (${e.uid})`:"No user logged in"}testPasswordReset(){return w(this,null,function*(){if(!this.testEmail){this.addResult(!1,"Please enter an email address");return}this.testing=!0;try{console.log("Testing password reset for:",this.testEmail),yield this.authService.sendPasswordResetEmail(this.testEmail),this.addResult(!0,`Password reset email sent successfully to ${this.testEmail}`)}catch(e){console.error("Test failed:",e),this.addResult(!1,`Error: ${e.message}`)}finally{this.testing=!1}})}addResult(e,t){this.testResults.unshift({time:new Date().toLocaleTimeString(),success:e,message:t})}static \u0275fac=function(t){return new(t||n)(W(Qt))};static \u0275cmp=dt({type:n,selectors:[["app-email-test"]],decls:49,vars:5,consts:[[1,"email-test-container"],[1,"email-test-card"],[1,"debug-info"],[1,"test-form"],[1,"form-group"],["type","email","placeholder","Enter email to test",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn-test",3,"click","disabled"],["class","results",4,"ngIf"],[1,"troubleshooting"],[1,"results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[1,"result-time"],[1,"result-status"],[1,"result-message"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Email Test & Debug"),g(),f(4,"div",2)(5,"h3"),m(6,"Firebase Configuration"),g(),f(7,"p")(8,"strong"),m(9,"Project ID:"),g(),m(10," expense-tracker-4d264"),g(),f(11,"p")(12,"strong"),m(13,"Auth Domain:"),g(),m(14," expense-tracker-4d264.firebaseapp.com"),g(),f(15,"p")(16,"strong"),m(17,"Current User:"),g(),m(18),g()(),f(19,"div",3)(20,"h3"),m(21,"Test Password Reset"),g(),f(22,"div",4)(23,"label"),m(24,"Email Address:"),g(),f(25,"input",5),ye("ngModelChange",function(o){return Ce(r.testEmail,o)||(r.testEmail=o),o}),g()(),f(26,"button",6),G("click",function(){return r.testPasswordReset()}),m(27),g()(),K(28,xY,4,1,"div",7),f(29,"div",8)(30,"h3"),m(31,"Common Issues & Solutions"),g(),f(32,"ul")(33,"li")(34,"strong"),m(35,"No account found:"),g(),m(36," Email doesn't exist in Firebase Auth"),g(),f(37,"li")(38,"strong"),m(39,"Network error:"),g(),m(40," Check internet connection"),g(),f(41,"li")(42,"strong"),m(43,"Too many requests:"),g(),m(44," Wait 5-10 minutes before retrying"),g(),f(45,"li")(46,"strong"),m(47,"Operation not allowed:"),g(),m(48," Password reset disabled in Firebase"),g()()()()()),t&2&&(C(18),oe(" ",r.getCurrentUserInfo()),C(7),_e("ngModel",r.testEmail),C(),R("disabled",r.testing),C(),oe(" ",r.testing?"Testing...":"Test Password Reset"," "),C(),R("ngIf",r.testResults.length>0))},dependencies:[mt,gr,Mt,Yt,Gt,Kt,Vt],styles:[".email-test-container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.email-test-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 20px #0000001a}.debug-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:8px;margin-bottom:1.5rem}.debug-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333}.debug-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-family:monospace}.test-form[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem}.btn-test[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem}.btn-test[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.results[_ngcontent-%COMP%]{margin-top:1.5rem}.result-item[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:6px;margin-bottom:.5rem;border-left:4px solid #007bff}.result-time[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-bottom:.5rem}.result-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.result-status.success[_ngcontent-%COMP%]{color:#28a745}.result-status.error[_ngcontent-%COMP%]{color:#dc3545}.result-message[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;white-space:pre-wrap}.troubleshooting[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #eee}.troubleshooting[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.troubleshooting[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;background:#fff3cd;border-radius:4px;border-left:4px solid #ffc107}"]})};var $a=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.currentUser$.pipe(Ct(e=>e!==void 0),Nt(1),pe(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(ne(Qt),ne(Ze))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var l5=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:$_},{path:"register",component:H_},{path:"forgot-password",component:q_},{path:"reset-password",component:W_},{path:"email-test",component:G_},{path:"dashboard",component:V_,canActivate:[$a]},{path:"expenses",component:j_,canActivate:[$a]},{path:"categories",component:U_,canActivate:[$a]},{path:"reports",component:B_,canActivate:[$a]}];var u5={apiKey:"AIzaSyBgq57IKhHsOG_4kAL3zhufM4_jC4b4lYY",authDomain:"expense-tracker-4d264.firebaseapp.com",projectId:"expense-tracker-4d264",storageBucket:"expense-tracker-4d264.firebasestorage.app",messagingSenderId:"136666664235",appId:"1:136666664235:web:9cbddb8eab9782b491096e",measurementId:"G-8W1P9M670J"};var _x="Service workers are disabled or not supported by this browser",Rl=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new fe(r=>r.error(new V(5601,!1)));else{let r=null,i=new it;this.worker=new fe(u=>(r!==null&&u.next(r),i.subscribe(d=>u.next(d))));let o=()=>{let{controller:u}=e;u!==null&&(r=u,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(jt(()=>e.getRegistration()));let s=new it;this.events=s.asObservable();let a=u=>{let{data:d}=u;d?.type&&s.next(d)};e.addEventListener("message",a),t?.get(dr,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Nt(1)).subscribe(i=>{i.postMessage(U({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ct(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Nt(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ct(i=>i.nonce===e),Nt(1),pe(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},OY=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new it;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Ui,this.notificationClicks=Ui,this.notificationCloses=Ui,this.pushSubscriptionChanges=Ui,this.subscription=Ui;return}this.messages=this.sw.eventsOfType("PUSH").pipe(pe(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(pe(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(pe(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(pe(i=>i.data)),this.pushManager=this.sw.registration.pipe(pe(i=>i.pushManager));let r=this.pushManager.pipe(jt(i=>i.getSubscription()));this.subscription=new fe(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(_x));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(jt(c=>c.subscribe(r)),Nt(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(_x));let t=r=>{if(r===null)throw new V(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new V(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Nt(1),jt(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(ne(Rl))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),IY=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Ui,this.unrecoverable=Ui;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_x));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new V(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(ne(Rl))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();var h5=new X("");function SY(){let n=L(bh);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=L(h5),t=L(Ae),r=L(dr);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=d5(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),d5(+a[0])]);break;default:throw new V(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error(Wi(5604,!1)))})})}function d5(n){return new Promise(e=>setTimeout(e,n))}function DY(n,e){return new Rl(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var bh=class{enabled;scope;registrationStrategy};function f5(n,e={}){return $t([OY,IY,{provide:h5,useValue:n},{provide:bh,useValue:e},{provide:Rl,useFactory:DY,deps:[bh,Xe]},Sc(SY)])}var g5={providers:[W0(),CC({eventCoalescing:!0}),Db(l5),ok(),Fk(()=>Lk(u5)),$R(()=>qR()),MF(()=>EF()),FF(()=>LF()),f5("ngsw-worker.js",{enabled:!Fu(),registrationStrategy:"registerWhenStable:30000"})]};var K_=class n{constructor(){}scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"});let e=document.querySelector(".main-content");e&&e.scrollTo({top:0,left:0,behavior:"smooth"})}scrollToElement(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}scrollToPosition(e,t=0){window.scrollTo({top:e,left:t,behavior:"smooth"})}getScrollPosition(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};function AY(n,e){n&1&&(f(0,"div",3)(1,"div",4),m(2,"\u23F3"),g(),f(3,"p"),m(4,"Loading..."),g()())}function kY(n,e){if(n&1){let t=Me();f(0,"div",35)(1,"div",36)(2,"span",37),m(3),g(),f(4,"button",38),G("click",function(){$(t);let i=F(2);return z(i.signOut())}),f(5,"span",39),m(6,"\u{1F6AA}"),g()()()()}if(n&2){let t=e.ngIf;C(3),H(t.displayName||t.email)}}function RY(n,e){if(n&1){let t=Me();f(0,"div",40),G("click",function(){$(t);let i=F(2);return z(i.closeSidebar())}),g()}}function NY(n,e){if(n&1){let t=Me();f(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),G("click",function(){$(t);let i=F();return z(i.toggleSidebar())}),f(5,"span",10),m(6,"\u2630"),g()(),f(7,"div",11)(8,"span",12),m(9,"\u{1F4B0}"),g(),f(10,"span",13),m(11,"Expense Tracker"),g()()(),f(12,"nav",14)(13,"a",15),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(14,"span",16),m(15,"\u{1F4CA}"),g(),f(16,"span",17),m(17,"Dashboard"),g()(),f(18,"a",18),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(19,"span",16),m(20,"\u{1F4B8}"),g(),f(21,"span",17),m(22,"Expenses"),g()(),f(23,"a",19),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(24,"span",16),m(25,"\u{1F3F7}\uFE0F"),g(),f(26,"span",17),m(27,"Categories"),g()(),f(28,"a",20),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(29,"span",16),m(30,"\u{1F4CA}"),g(),f(31,"span",17),m(32,"Reports"),g()()(),K(33,kY,7,1,"div",21),Ve(34,"async"),g()(),K(35,RY,1,0,"div",22),f(36,"aside",23)(37,"div",24)(38,"div",25)(39,"span",12),m(40,"\u{1F4B0}"),g(),f(41,"span",13),m(42,"Expense Tracker"),g()()(),f(43,"nav",26)(44,"a",27),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(45,"span",28),m(46,"\u{1F4CA}"),g(),f(47,"span",29),m(48,"Dashboard"),g()(),f(49,"a",30),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(50,"span",28),m(51,"\u{1F4B8}"),g(),f(52,"span",29),m(53,"Expenses"),g()(),f(54,"a",31),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(55,"span",28),m(56,"\u{1F3F7}\uFE0F"),g(),f(57,"span",29),m(58,"Categories"),g()(),f(59,"a",32),G("click",function(){$(t);let i=F();return z(i.onNavClick())}),f(60,"span",28),m(61,"\u{1F4CA}"),g(),f(62,"span",29),m(63,"Reports"),g()()()(),f(64,"main",33)(65,"div",34),nn(66,"router-outlet"),g()()()}if(n&2){let t=F();C(33),R("ngIf",mn(34,6,t.currentUser$)),C(2),R("ngIf",t.sidebarOpen),C(),zt("sidebar-open",t.sidebarOpen),C(28),zt("content-blurred",t.sidebarOpen)}}function FY(n,e){n&1&&(f(0,"div",41),nn(1,"router-outlet"),g())}var Y_=class n{constructor(e,t,r){this.scrollService=e;this.authService=t;this.router=r;this.restoreLastRoute(),this.router.events.subscribe(()=>{this.saveCurrentRoute()})}sidebarOpen=!1;get currentUser$(){return this.authService.currentUser$}toggleSidebar(){console.log("Toggle sidebar called"),this.sidebarOpen=!this.sidebarOpen,this.sidebarOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeSidebar(){console.log("Close sidebar called"),this.sidebarOpen=!1,document.body.style.overflow=""}signOut(){return w(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/login"])}catch(e){console.error("Error signing out:",e)}})}saveCurrentRoute(){let e=this.router.url;e&&e!=="/login"&&e!=="/register"&&localStorage.setItem("lastRoute",e)}restoreLastRoute(){let e=localStorage.getItem("lastRoute");e&&e!=="/login"&&e!=="/register"&&this.authService.currentUser$.pipe(Ct(t=>t!==void 0),Nt(1)).subscribe(t=>{t&&this.router.url==="/dashboard"&&setTimeout(()=>{this.router.navigate([e])},100)})}onNavClick(){this.closeSidebar(),this.scrollService.scrollToTop(),this.saveCurrentRoute()}static \u0275fac=function(t){return new(t||n)(W(K_),W(Qt),W(Ze))};static \u0275cmp=dt({type:n,selectors:[["app-root"]],decls:6,vars:9,consts:[["class","loading-container",4,"ngIf"],["class","app-container",4,"ngIf"],["class","auth-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"header-left"],["aria-label","Toggle sidebar",1,"sidebar-toggle",3,"click"],[1,"hamburger-icon"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"header-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"nav-link",3,"click"],["class","user-section",4,"ngIf"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-brand"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"link-icon"],[1,"link-text"],["routerLink","/expenses","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/categories","routerLinkActive","active",1,"sidebar-link",3,"click"],["routerLink","/reports","routerLinkActive","active",1,"sidebar-link",3,"click"],[1,"main-content"],[1,"content-container"],[1,"user-section"],[1,"user-info"],[1,"user-name"],["title","Sign out",1,"sign-out-btn",3,"click"],[1,"sign-out-icon"],[1,"sidebar-overlay",3,"click"],[1,"auth-container"]],template:function(t,r){t&1&&(K(0,AY,5,0,"div",0),Ve(1,"async"),K(2,NY,67,8,"div",1),Ve(3,"async"),K(4,FY,2,0,"div",2),Ve(5,"async")),t&2&&(R("ngIf",mn(1,3,r.currentUser$)===void 0),C(2),R("ngIf",mn(3,5,r.currentUser$)),C(2),R("ngIf",mn(5,7,r.currentUser$)===null))},dependencies:[ud,ts,Sb,mt,Mt,HC],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden;position:relative;height:100%;margin:0;padding:0}@supports (height: 100dvh){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100dvh;min-height:100dvh;max-height:100dvh}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%]{height:100vh!important;min-height:100vh!important;max-height:100vh!important;top:0!important}}.app-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e);box-shadow:0 2px 10px #0000001a;position:fixed;top:0;left:0;right:0;z-index:100;padding:0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;margin:0 auto}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:8px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;min-width:44px;min-height:44px}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}@media (min-width: 769px){.sidebar-toggle[_ngcontent-%COMP%]{display:none}}.hamburger-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.brand-icon[_ngcontent-%COMP%]{font-size:1.5rem}.brand-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff}.header-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#fff;text-decoration:none;border-radius:8px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-1px)}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff4d}.nav-icon[_ngcontent-%COMP%]{font-size:1rem}.nav-text[_ngcontent-%COMP%]{font-size:.9rem}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#fff3;padding:.5rem 1rem;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.9rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sign-out-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:6px;padding:.25rem .5rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.sign-out-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.sign-out-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.auth-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;min-height:100vh;max-height:100vh;background:#00000080;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;min-height:100vh;max-height:100vh;background:linear-gradient(135deg,#ff8c42,#ffa726,#ffcc02);box-shadow:4px 0 20px #00000026;z-index:300;transition:left .3s ease;overflow-y:auto;display:flex;flex-direction:column;padding-top:env(safe-area-inset-top);box-sizing:border-box}.sidebar.sidebar-open[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.2);flex-shrink:0}.sidebar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0;flex:1;min-height:0;overflow-y:auto;display:flex;flex-direction:column}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;color:#fff;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-left-color:#ffffff80}.sidebar-link.active[_ngcontent-%COMP%]{background:#fff3;border-left-color:#fff}.link-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:24px;text-align:center}.link-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.main-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;transition:filter .3s ease;margin-top:70px}.main-content.content-blurred[_ngcontent-%COMP%]{filter:blur(4px);pointer-events:none}.content-container[_ngcontent-%COMP%]{margin:0 auto;padding:2rem 1.5rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:1rem}.header-nav[_ngcontent-%COMP%]{display:none}.sidebar-toggle[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{width:280px;left:-280px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.main-content[_ngcontent-%COMP%]{margin-top:65px}.content-container[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.user-section[_ngcontent-%COMP%]{margin-left:.5rem}.user-info[_ngcontent-%COMP%]{padding:.25rem .5rem}.user-name[_ngcontent-%COMP%]{max-width:100px;font-size:.8rem}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:.75rem}.sidebar[_ngcontent-%COMP%]{width:260px;left:-260px;height:100vh;min-height:100vh;max-height:100vh;top:0}.sidebar-overlay[_ngcontent-%COMP%]{height:100vh;min-height:100vh;max-height:100vh;top:0}.main-content[_ngcontent-%COMP%]{margin-top:60px}.content-container[_ngcontent-%COMP%]{padding:.75rem}}.loading-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem}.loading-spinner[_ngcontent-%COMP%]{font-size:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};tb(Y_,g5).catch(n=>console.error(n));
