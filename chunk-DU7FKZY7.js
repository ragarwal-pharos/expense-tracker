import{i as I}from"./chunk-LK6VNFKO.js";import{Aa as f,Ga as P,Hc as V,Ic as T,Ja as w,Jc as D,Kc as L,Lc as F,Mc as N,Nc as z,Qb as S,Ta as y,Tc as j,Ua as c,Va as e,Wa as t,Wb as E,Wc as R,Ya as M,Z as g,Za as u,_ as m,_a as v,cb as x,d as C,gb as i,hb as O,ib as k,lb as _,mb as h,nb as b,wa as r}from"./chunk-BZFO6NJ3.js";function q(a,o){a&1&&(e(0,"span",25),i(1,"\u23F3"),t())}function A(a,o){a&1&&(e(0,"span"),i(1,"Sign In"),t())}function B(a,o){if(a&1&&(e(0,"div",26),i(1),t()),a&2){let l=v();r(),k(" ",l.error," ")}}var W=class a{constructor(o,l){this.authService=o;this.router=l}email="";password="";loading=!1;error="";showPassword=!1;signIn(){return C(this,null,function*(){if(!this.email||!this.password){this.error="Please enter both email and password";return}this.loading=!0,this.error="";try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/dashboard"])}catch(o){this.error=this.getErrorMessage(o)}finally{this.loading=!1}})}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){this.showPassword=!this.showPassword}getErrorMessage(o){return o.code==="auth/user-not-found"?"No account found with this email address. Please check your email or create a new account.":o.code==="auth/wrong-password"?"Incorrect password. Please check your password and try again.":o.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":o.code==="auth/too-many-requests"?"Too many failed attempts. Please wait a few minutes and try again.":o.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during sign-in. Please try again."}static \u0275fac=function(l){return new(l||a)(f(V),f(I))};static \u0275cmp=P({type:a,selectors:[["app-login"]],decls:37,vars:9,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],[1,"password-input-container"],["id","password","name","password","required","","placeholder","Enter your password",1,"form-control","password-input",3,"ngModelChange","type","ngModel"],["type","button",1,"password-toggle-btn",3,"click"],[1,"eye-icon"],[1,"forgot-password-link"],[1,"link",3,"click"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"register-link"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(l,n){if(l&1){let s=M();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),i(5,"\u{1F4B0}"),t(),e(6,"h1",6),i(7,"Expense Tracker"),t()(),e(8,"p",7),i(9,"Sign in to manage your expenses"),t()(),e(10,"form",8,0),u("ngSubmit",function(){return g(s),m(n.signIn())}),e(12,"div",9)(13,"label",10),i(14,"Email"),t(),e(15,"input",11),b("ngModelChange",function(d){return g(s),h(n.email,d)||(n.email=d),m(d)}),t()(),e(16,"div",9)(17,"label",12),i(18,"Password"),t(),e(19,"div",13)(20,"input",14),b("ngModelChange",function(d){return g(s),h(n.password,d)||(n.password=d),m(d)}),t(),e(21,"button",15),u("click",function(){return g(s),m(n.togglePasswordVisibility())}),e(22,"span",16),i(23),t()()(),e(24,"div",17)(25,"a",18),u("click",function(){return g(s),m(n.goToForgotPassword())}),i(26,"Forgot Password?"),t()()(),e(27,"div",19)(28,"button",20),w(29,q,2,0,"span",21)(30,A,2,0,"span",22),t()()(),e(31,"div",23)(32,"p"),i(33,"Don't have an account? "),e(34,"a",18),u("click",function(){return g(s),m(n.goToRegister())}),i(35,"Sign up"),t()()(),w(36,B,2,1,"div",24),t()()}if(l&2){let s=x(11);r(15),_("ngModel",n.email),r(5),c("type",n.showPassword?"text":"password"),_("ngModel",n.password),r(),y("aria-label",n.showPassword?"Hide password":"Show password"),r(2),O(n.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"),r(5),c("disabled",!s.form.valid||n.loading),r(),c("ngIf",n.loading),r(),c("ngIf",!n.loading),r(6),c("ngIf",n.error)}},dependencies:[E,S,R,z,T,D,L,j,N,F],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.password-input-container[_ngcontent-%COMP%]{position:relative}.password-input[_ngcontent-%COMP%]{padding-right:3rem}.password-toggle-btn[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:.25rem;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s ease}.password-toggle-btn[_ngcontent-%COMP%]:hover{background-color:#667eea1a}.password-toggle-btn[_ngcontent-%COMP%]:focus{outline:none;background-color:#667eea1a}.eye-icon[_ngcontent-%COMP%]{font-size:1.2rem;-webkit-user-select:none;user-select:none}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-top:.5rem}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500;font-size:.875rem;cursor:pointer;transition:color .3s ease}.forgot-password-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};export{W as LoginComponent};
