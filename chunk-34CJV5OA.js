import{a as q}from"./chunk-FUT2365N.js";import"./chunk-RELSZ3U4.js";import{i as V}from"./chunk-QOES6XLT.js";import{Ea as P,Ha as y,Ic as I,Kc as R,Lc as T,M,Mc as D,Nc as F,Oc as W,Pc as j,Q as v,Rb as k,Sa as p,Ta as t,Ua as r,W as m,Wa as S,Wc as z,X as c,Xa as _,Xb as N,Xc as A,Ya as x,_c as L,ab as O,eb as s,gb as E,kb as f,lb as u,mb as h,ua as l,ya as b}from"./chunk-4CHXRCSU.js";import{g as w}from"./chunk-RA2WU32H.js";var C=class o{constructor(n){this.firebaseService=n}createDefaultCategories(){return w(this,null,function*(){let n=[{name:"Food & Dining",color:"#ff6b9d",icon:"\u{1F355}"},{name:"Transportation",color:"#4ecdc4",icon:"\u{1F697}"},{name:"Shopping",color:"#45b7d1",icon:"\u{1F6CD}\uFE0F"},{name:"Entertainment",color:"#96ceb4",icon:"\u{1F3AC}"},{name:"Healthcare",color:"#feca57",icon:"\u{1F3E5}"},{name:"Utilities",color:"#ff9ff3",icon:"\u{1F4A1}"},{name:"Education",color:"#54a0ff",icon:"\u{1F4DA}"},{name:"Travel",color:"#5f27cd",icon:"\u2708\uFE0F"},{name:"Gifts",color:"#ff6348",icon:"\u{1F381}"},{name:"Other",color:"#95a5a6",icon:"\u{1F4CC}"}];try{for(let a of n)yield this.firebaseService.addCategory(a)}catch(a){console.error("Error creating default categories:",a)}})}static \u0275fac=function(a){return new(a||o)(v(q))};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})};function U(o,n){o&1&&(t(0,"span",25),s(1,"\u23F3"),r())}function Y(o,n){o&1&&(t(0,"span"),s(1,"Create Account"),r())}function J(o,n){if(o&1&&(t(0,"div",26),s(1),r()),o&2){let a=x();l(),E(" ",a.error," ")}}var B=class o{constructor(n,a,e){this.authService=n;this.router=a;this.defaultCategoriesService=e}displayName="";email="";password="";confirmPassword="";loading=!1;error="";register(){return w(this,null,function*(){if(!this.displayName||!this.email||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(!this.passwordsMatch()){this.error="Passwords do not match";return}if(this.password.length<6){this.error="Password must be at least 6 characters long";return}this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password,this.displayName),yield this.defaultCategoriesService.createDefaultCategories(),this.router.navigate(["/dashboard"])}catch(n){this.error=this.getErrorMessage(n)}finally{this.loading=!1}})}goToLogin(){this.router.navigate(["/login"])}passwordsMatch(){return this.password===this.confirmPassword}getErrorMessage(n){return n.code==="auth/email-already-in-use"?"An account with this email already exists. Please sign in instead or use a different email.":n.code==="auth/invalid-email"?"Invalid email address. Please enter a valid email format.":n.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password with at least 6 characters.":n.code==="auth/operation-not-allowed"?"Email/password accounts are not enabled. Please contact support.":n.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":"An error occurred during registration. Please try again."}static \u0275fac=function(a){return new(a||o)(b(I),b(V),b(C))};static \u0275cmp=P({type:o,selectors:[["app-register"]],decls:38,vars:8,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[1,"register-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","displayName",1,"form-label"],["type","text","id","displayName","name","displayName","required","","placeholder","Enter your full name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Enter your password (min 6 characters)",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Confirm your password",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"login-link"],[1,"link",3,"click"],["class","error-message",4,"ngIf"],[1,"loading-spinner"],[1,"error-message"]],template:function(a,e){if(a&1){let d=S();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),s(5,"\u{1F4B0}"),r(),t(6,"h1",6),s(7,"Expense Tracker"),r()(),t(8,"p",7),s(9,"Create your account to start tracking expenses"),r()(),t(10,"form",8,0),_("ngSubmit",function(){return m(d),c(e.register())}),t(12,"div",9)(13,"label",10),s(14,"Full Name"),r(),t(15,"input",11),h("ngModelChange",function(i){return m(d),u(e.displayName,i)||(e.displayName=i),c(i)}),r()(),t(16,"div",9)(17,"label",12),s(18,"Email"),r(),t(19,"input",13),h("ngModelChange",function(i){return m(d),u(e.email,i)||(e.email=i),c(i)}),r()(),t(20,"div",9)(21,"label",14),s(22,"Password"),r(),t(23,"input",15),h("ngModelChange",function(i){return m(d),u(e.password,i)||(e.password=i),c(i)}),r()(),t(24,"div",9)(25,"label",16),s(26,"Confirm Password"),r(),t(27,"input",17),h("ngModelChange",function(i){return m(d),u(e.confirmPassword,i)||(e.confirmPassword=i),c(i)}),r()(),t(28,"div",18)(29,"button",19),y(30,U,2,0,"span",20)(31,Y,2,0,"span",21),r()()(),t(32,"div",22)(33,"p"),s(34,"Already have an account? "),t(35,"a",23),_("click",function(){return m(d),c(e.goToLogin())}),s(36,"Sign in"),r()()(),y(37,J,2,1,"div",24),r()()}if(a&2){let d=O(11);l(15),f("ngModel",e.displayName),l(4),f("ngModel",e.email),l(4),f("ngModel",e.password),l(4),f("ngModel",e.confirmPassword),l(2),p("disabled",!d.form.valid||e.loading||!e.passwordsMatch()),l(),p("ngIf",e.loading),l(),p("ngIf",!e.loading),l(6),p("ngIf",e.error)}},dependencies:[N,k,L,j,R,T,D,z,A,W,F],styles:[".register-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.register-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;box-shadow:0 20px 40px #0000001a;width:100%;max-width:400px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0}.register-subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:1rem}.register-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-actions[_ngcontent-%COMP%]{margin-top:2rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.75rem 1rem;border-radius:8px;margin-top:1rem;text-align:center;border:1px solid #fcc}@media (max-width: 480px){.register-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};export{B as RegisterComponent};
