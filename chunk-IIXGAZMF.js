import{a as be}from"./chunk-3WGKAHTM.js";import{a as xe,b as _e}from"./chunk-F66EWD7R.js";import{a as ue}from"./chunk-RX2VGYNJ.js";import{a as Ce}from"./chunk-F5DXO26X.js";import{a as fe}from"./chunk-KIFJSNSH.js";import"./chunk-IX24VT3U.js";import{g as ne,i as ie}from"./chunk-COTLGU4O.js";import{Fa as Y,Hc as oe,Ia as u,Ic as re,Jc as ae,Kc as se,Lc as le,Mc as de,Nb as Q,Ob as B,Pb as X,Pc as ce,Qc as pe,Rc as ge,Sb as ee,Sc as me,Ta as c,Ua as r,Ub as te,Va as a,Vb as j,Vc as he,Wa as S,Xa as y,Y as m,Ya as f,Z as h,Za as p,a as A,b as K,bb as U,cb as N,d as O,db as k,e as R,fb as d,gb as E,hb as T,ib as I,jb as H,kb as w,lb as M,mb as v,nb as J,ob as z,qb as G,rb as V,tb as L,ub as Z,va as l,za as D}from"./chunk-HYY45DGL.js";function Pe(s,t){if(s&1&&S(0,"div",2),s&2){let e=t.$implicit;N("width",e.width,"%")("height",e.height,"px")("margin-bottom",e.marginBottom,"px")}}var W=class s{type="card";lines=[{width:100,height:20,marginBottom:10},{width:80,height:16,marginBottom:8},{width:60,height:16,marginBottom:0}];static \u0275fac=function(e){return new(e||s)};static \u0275cmp=Y({type:s,selectors:[["app-skeleton"]],inputs:{type:"type",lines:"lines"},decls:2,vars:2,consts:[[1,"skeleton-container",3,"ngClass"],["class","skeleton-line",3,"width","height","margin-bottom",4,"ngFor","ngForOf"],[1,"skeleton-line"]],template:function(e,n){e&1&&(r(0,"div",0),u(1,Pe,1,6,"div",1),a()),e&2&&(c("ngClass",n.type),l(),c("ngForOf",n.lines))},dependencies:[j,Q,B],styles:[".skeleton-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.skeleton-line[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px}.skeleton-container.card[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.skeleton-container.list-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f0f0f0}.skeleton-container.expense-item[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;background:#f8f9fa;margin-bottom:.5rem}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}"]})};var Oe=()=>[1,2,3,4,5],Ee=()=>({width:30,height:20,marginBottom:8}),De=()=>({width:60,height:16,marginBottom:4}),Se=()=>({width:40,height:14,marginBottom:0}),ke=(s,t,e)=>[s,t,e];function Ie(s,t){s&1&&S(0,"app-loading",46)}function Fe(s,t){s&1&&(r(0,"div",57)(1,"span",58),d(2,"Search expenses by description, notes, location, category, amount, tags..."),a()())}function Te(s,t){if(s&1){let e=y();r(0,"button",59),f("click",function(){m(e);let i=p(2);return i.globalSearch="",h(i.onSearchChange())}),d(1," \u2715 "),a()}}function ze(s,t){if(s&1&&(r(0,"div",60)(1,"span",61),d(2),a()()),s&2){let e=p(2);l(2),I(" ",e.getFilteredExpenses().length," result",e.getFilteredExpenses().length!==1?"s":""," found ")}}function Ae(s,t){if(s&1){let e=y();r(0,"div",47)(1,"div",48)(2,"div",49)(3,"div",50)(4,"span",51),d(5,"\u{1F50D}"),a(),r(6,"div",52)(7,"input",53),v("ngModelChange",function(i){m(e);let o=p();return M(o.globalSearch,i)||(o.globalSearch=i),h(i)}),f("input",function(){m(e);let i=p();return h(i.onSearchChange())})("focus",function(){m(e);let i=p();return h(i.onSearchFocus())})("blur",function(){m(e);let i=p();return h(i.onSearchBlur())}),a(),u(8,Fe,3,0,"div",54),a(),u(9,Te,2,0,"button",55),a(),u(10,ze,3,2,"div",56),a()()()}if(s&2){let e=p();l(7),w("ngModel",e.globalSearch),l(),c("ngIf",!e.globalSearch&&!e.isSearchFocused),l(),c("ngIf",e.globalSearch),l(),c("ngIf",e.globalSearch)}}function Ye(s,t){if(s&1&&(r(0,"option",86),d(1),a()),s&2){let e=t.$implicit;c("value",e.id),l(),I(" ",e.icon," ",e.name," ")}}function Ne(s,t){if(s&1){let e=y();r(0,"button",87),f("click",function(){m(e);let i=p(2);return h(i.clearCategory())}),d(1," \u2715 "),a()}}function Ve(s,t){if(s&1&&(r(0,"span",43),d(1),a()),s&2){let e=p(2);l(),E(e.isEditMode?"\u{1F4BE}":"\u2795")}}function Le(s,t){if(s&1&&S(0,"app-loading",88),s&2){let e=p(2);c("message",J(e.isEditMode?"Saving...":"Adding..."))}}function Be(s,t){if(s&1&&(r(0,"span",44),d(1),a()),s&2){let e=p(2);l(),E(e.isEditMode?"Save Changes":"Add Expense")}}function je(s,t){if(s&1){let e=y();r(0,"button",89),f("click",function(){m(e);let i=p(2);return h(i.cancelEdit())}),r(1,"span",43),d(2,"\u274C"),a(),r(3,"span",44),d(4,"Cancel"),a()()}}function We(s,t){if(s&1){let e=y();r(0,"div",62)(1,"div",13)(2,"div",14)(3,"div",4)(4,"span",15),d(5),a(),r(6,"h5",8),d(7),a()(),r(8,"button",16),f("click",function(){m(e);let i=p();return h(i.toggleAddExpenseSection())}),r(9,"span",17),d(10,"\u25BC"),a()()()(),r(11,"div",19)(12,"form",63,0),f("ngSubmit",function(){m(e);let i=p();return h(i.addExpense())}),r(14,"div",64)(15,"div",65)(16,"label",66),d(17,"Amount"),a(),r(18,"div",67)(19,"span",68),d(20,"\u20B9"),a(),r(21,"input",69),v("ngModelChange",function(i){m(e);let o=p();return M(o.amountInput,i)||(o.amountInput=i),h(i)}),f("input",function(i){m(e);let o=p();return h(o.onAmountInput(i))})("keypress",function(i){m(e);let o=p();return h(o.onAmountKeypress(i))}),a()()(),r(22,"div",65)(23,"label",70),d(24,"Date"),a(),r(25,"input",71),v("ngModelChange",function(i){m(e);let o=p();return M(o.newExpense.date,i)||(o.newExpense.date=i),h(i)}),a()(),r(26,"div",65)(27,"label",72),d(28,"Category"),a(),r(29,"div",73)(30,"select",74),v("ngModelChange",function(i){m(e);let o=p();return M(o.newExpense.categoryId,i)||(o.newExpense.categoryId=i),h(i)}),r(31,"option",75),d(32,"\u{1F3F7}\uFE0F Select a category"),a(),u(33,Ye,2,3,"option",25),a(),u(34,Ne,2,0,"button",76),a()(),r(35,"div",65)(36,"label",77),d(37,"Description"),a(),r(38,"input",78),v("ngModelChange",function(i){m(e);let o=p();return M(o.newExpense.description,i)||(o.newExpense.description=i),h(i)}),a()(),r(39,"div",79)(40,"label",41),d(41,"\xA0"),a(),r(42,"div",80)(43,"button",81),u(44,Ve,2,1,"span",82)(45,Le,1,2,"app-loading",83)(46,Be,2,1,"span",84),a(),u(47,je,5,0,"button",85),a()()()()()()}if(s&2){let e=p();l(5),E(e.isEditMode?"\u270F\uFE0F":"\u2795"),l(2),E(e.isEditMode?"Edit Expense":"Add New Expense"),l(2),k("rotated",!e.isAddExpenseExpanded),l(2),k("collapsed",!e.isAddExpenseExpanded),l(10),w("ngModel",e.amountInput),l(4),w("ngModel",e.newExpense.date),c("max",e.getMaxDate()),l(5),w("ngModel",e.newExpense.categoryId),l(),c("selected",!e.newExpense.categoryId),l(2),c("ngForOf",e.categories),l(),c("ngIf",e.newExpense.categoryId),l(4),w("ngModel",e.newExpense.description),l(5),c("disabled",!e.isFormValid()||e.isSaving),l(),c("ngIf",!e.isSaving),l(),c("ngIf",e.isSaving),l(),c("ngIf",!e.isSaving),l(),c("ngIf",e.isEditMode)}}function $e(s,t){if(s&1){let e=y();r(0,"div",92)(1,"span",93),d(2),r(3,"button",94),f("click",function(){m(e);let i=p(2);return h(i.clearCategoryFilter())}),d(4," \u2715 "),a()()()}if(s&2){let e=p(2);l(2),I(" ",e.getCategoryIcon(e.filterCategory)," ",e.getCategoryName(e.filterCategory)," ")}}function qe(s,t){if(s&1){let e=y();r(0,"div",92)(1,"span",95),d(2," \u{1F4C5} Manual Date Filter "),r(3,"button",96),f("click",function(){m(e);let i=p(2);return i.filterDateFrom="",i.filterDateTo="",h(i.resetPagination())}),d(4," \u2715 "),a()()()}}function Ke(s,t){if(s&1){let e=y();r(0,"div",92)(1,"span",97),d(2),r(3,"button",98),f("click",function(){m(e);let i=p(2);return i.clearDashboardFilterState(),h(i.resetPagination())}),d(4," \u2715 "),a()()()}if(s&2){let e=p(2);l(2),T(" \u{1F3E0} Dashboard Filter: ",e.getDashboardFilterLabel()," ")}}function Re(s,t){if(s&1&&(r(0,"div",90),u(1,$e,5,2,"div",91)(2,qe,5,0,"div",91)(3,Ke,5,1,"div",91),a()),s&2){let e=p();l(),c("ngIf",e.filterCategory&&e.getCategoryName(e.filterCategory)),l(),c("ngIf",e.filterDateFrom||e.filterDateTo),l(),c("ngIf",e.dashboardPeriod&&e.dashboardPeriod!=="all"&&!e.filterDateFrom&&!e.filterDateTo)}}function Ue(s,t){if(s&1&&(r(0,"option",86),d(1),a()),s&2){let e=t.$implicit;c("value",e.id),l(),I("",e.icon," ",e.name)}}function He(s,t){if(s&1&&(r(0,"div",106)(1,"div",107),d(2),V(3,"currency"),a(),r(4,"div",108),d(5),a()()),s&2){let e=p(2);l(2),E(L(3,2,e.getTotalAmount(),"INR")),l(3),T("",e.getFilteredExpenses().length," expenses")}}function Je(s,t){s&1&&S(0,"app-skeleton",111),s&2&&c("lines",G(4,ke,z(1,Ee),z(2,De),z(3,Se)))}function Ge(s,t){s&1&&(r(0,"div",109),u(1,Je,1,8,"app-skeleton",110),a()),s&2&&(l(),c("ngForOf",z(1,Oe)))}function Ze(s,t){s&1&&S(0,"app-loading",124)}function Qe(s,t){s&1&&(r(0,"span",120),d(1,"\u{1F5D1}\uFE0F"),a())}function Xe(s,t){if(s&1){let e=y();r(0,"div",113)(1,"div",114),d(2),a(),r(3,"div",115),d(4),V(5,"date"),a(),r(6,"div",116)(7,"div",117),d(8),V(9,"currency"),a(),r(10,"div",118)(11,"button",119),f("click",function(){let i=m(e).$implicit,o=p(3);return h(o.editExpense(i))}),r(12,"span",120),d(13,"\u270F\uFE0F"),a()(),r(14,"button",121),f("click",function(){let i=m(e).$implicit,o=p(3);return h(o.deleteExpense(i))}),u(15,Ze,1,0,"app-loading",122)(16,Qe,2,0,"span",123),a()()()()}if(s&2){let e=t.$implicit,n=t.index,i=p(3);N("animation-delay",n*.1+"s"),l(2),E(e.description||"No description"),l(2),E(L(5,8,e.date,"MMM dd, yyyy")),l(4),E(L(9,11,e.amount,"INR")),l(6),c("disabled",i.isDeleting),l(),c("ngIf",i.isDeleting),l(),c("ngIf",!i.isDeleting)}}function et(s,t){if(s&1&&(r(0,"div",109),u(1,Xe,17,14,"div",112),a()),s&2){let e=p(2);l(),c("ngForOf",e.getPaginatedExpenses())}}function tt(s,t){s&1&&(r(0,"div",125)(1,"div",126),d(2,"\u{1F4CB}"),a(),r(3,"h6"),d(4,"No expenses found"),a(),r(5,"p"),d(6,"Add your first expense using the form above!"),a()())}function nt(s,t){if(s&1){let e=y();r(0,"div",127)(1,"div",128)(2,"div",129)(3,"span",130),d(4),a()(),r(5,"div",131)(6,"div",132)(7,"button",133),f("click",function(){m(e);let i=p(2);return h(i.goToPage(i.currentPage-1))}),d(8," \u2190 Previous "),a(),r(9,"span",134),d(10),a(),r(11,"button",135),f("click",function(){m(e);let i=p(2);return h(i.goToPage(i.currentPage+1))}),d(12," Next \u2192 "),a()()()()()}if(s&2){let e=p(2);l(4),H(" Showing ",e.getStartIndex()+1," to ",e.getEndIndex()," of ",e.getFilteredExpenses().length," expenses "),l(3),c("disabled",e.currentPage===1),l(3),I(" Page ",e.currentPage," of ",e.getTotalPages()," "),l(),c("disabled",e.currentPage===e.getTotalPages())}}function it(s,t){if(s&1){let e=y();r(0,"div",99)(1,"div",13)(2,"div",100)(3,"div",4)(4,"span",15),d(5,"\u{1F4CB}"),a(),r(6,"h5",8),d(7,"All Expenses"),a()(),r(8,"div",101),u(9,He,6,5,"div",102),r(10,"button",16),f("click",function(){m(e);let i=p();return h(i.toggleExpensesListSection())}),r(11,"span",17),d(12,"\u25BC"),a()()()()(),r(13,"div",19),u(14,Ge,2,2,"div",103)(15,et,2,1,"div",104)(16,tt,7,0,"ng-template",null,1,Z)(18,nt,13,7,"div",105),a()()}if(s&2){let e=U(17),n=p();l(9),c("ngIf",n.isExpensesListExpanded),l(2),k("rotated",!n.isExpensesListExpanded),l(2),k("collapsed",!n.isExpensesListExpanded),l(),c("ngIf",n.isLoading),l(),c("ngIf",!n.isLoading&&n.getFilteredExpenses().length>0)("ngIfElse",e),l(3),c("ngIf",n.getFilteredExpenses().length>n.itemsPerPage)}}var ye=class s{constructor(t,e,n,i,o,x,g){this.expenseService=t;this.categoryService=e;this.firebaseService=n;this.filterStateService=i;this.dialogService=o;this.router=x;this.route=g}expenses=[];categories=[];newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""};amountInput="";globalSearch="";filterAmount="";filterCategory="";filterDate="";filterDateFrom="";filterDateTo="";sortBy="date";sortOrder="desc";dashboardPeriod="all";dashboardMonth="";dashboardYear="";dashboardStartDate="";dashboardEndDate="";dashboardMonthOnly="";dashboardYearOnly="";isEditMode=!1;editingExpenseId="";currentPage=1;itemsPerPage=10;isLoading=!0;isSaving=!1;isDeleting=!1;isEditing=!1;isFiltering=!1;isAddExpenseExpanded=!0;isFiltersExpanded=!0;isExpensesListExpanded=!0;isSearchFocused=!1;subscription=new R;ngOnInit(){this.route.queryParams.subscribe(t=>{let e=t.edit,n=t.mode,i=t.category,o=t.filter;e&&n==="edit"&&(this.isEditMode=!0,this.editingExpenseId=e,console.log("Edit mode activated for expense:",e)),i&&o==="category"&&(this.filterCategory=i,console.log("Category filter applied:",i))}),this.loadDashboardFilterState(),this.subscription.add(this.filterStateService.filterState$.subscribe(t=>{console.log("Filter state changed in expenses component:",t),this.loadDashboardFilterState()})),this.subscription.add(this.firebaseService.expenses$.subscribe(t=>{this.expenses=t,console.log(`Received ${t.length} expenses from Firebase`),this.isEditMode&&this.editingExpenseId&&this.loadExpenseForEditing()})),this.subscription.add(this.firebaseService.categories$.subscribe(t=>{this.categories=t,console.log(`Received ${t.length} categories from Firebase`)})),this.subscription.add(this.firebaseService.loading$.subscribe(t=>{this.isLoading=t}))}ngOnDestroy(){this.subscription.unsubscribe()}loadDashboardFilterState(){let t=this.filterStateService.getFilterState();if(console.log("Loading dashboard filter state from service:",t),this.dashboardPeriod=t.selectedPeriod,this.dashboardMonth=t.selectedMonth,this.dashboardYear=t.selectedYear,this.dashboardStartDate=t.customStartDate,this.dashboardEndDate=t.customEndDate,this.dashboardMonthOnly=t.selectedMonthOnly||"",this.dashboardYearOnly=t.selectedYearOnly||"",this.dashboardPeriod==="custom"&&this.dashboardStartDate&&this.dashboardEndDate)this.filterDateFrom=this.dashboardStartDate,this.filterDateTo=this.dashboardEndDate,console.log("Populated expenses page date filters with dashboard custom range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo});else if(this.dashboardPeriod==="monthly"&&this.dashboardMonth&&this.dashboardYear){let e=parseInt(this.dashboardMonth),n=parseInt(this.dashboardYear),i=new Date(n,e,1),o=new Date(n,e+1,0);this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard monthly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="yearly"&&this.dashboardYear){let e=parseInt(this.dashboardYear),n=new Date(e,0,1),i=new Date(e,11,31);this.filterDateFrom=n.toISOString().split("T")[0],this.filterDateTo=i.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard yearly range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last30"){let e=new Date,n=new Date;n.setDate(e.getDate()-30),this.filterDateFrom=n.toISOString().split("T")[0],this.filterDateTo=e.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 30 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="last7"){let e=new Date,n=new Date;n.setDate(e.getDate()-7),this.filterDateFrom=n.toISOString().split("T")[0],this.filterDateTo=e.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard last 7 days range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}else if(this.dashboardPeriod==="monthOnly"&&this.dashboardMonthOnly&&this.dashboardYearOnly){let e=parseInt(this.dashboardMonthOnly),n=parseInt(this.dashboardYearOnly),i=new Date(Date.UTC(n,e,1)),o=new Date(Date.UTC(n,e+1,0));this.filterDateFrom=i.toISOString().split("T")[0],this.filterDateTo=o.toISOString().split("T")[0],console.log("Populated expenses page date filters with dashboard month only range:",{filterDateFrom:this.filterDateFrom,filterDateTo:this.filterDateTo})}console.log("Dashboard filter state loaded into expenses component:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly})}loadExpenseForEditing(){let t=this.expenses.find(e=>e.id===this.editingExpenseId);t?(this.newExpense=A({},t),this.amountInput=t.amount.toString(),console.log("Loaded expense for editing:",t)):(console.error("Expense not found for editing:",this.editingExpenseId),this.isEditMode=!1,this.editingExpenseId="")}addExpense(){return O(this,null,function*(){if(yield this.validateExpense())try{this.isSaving=!0,this.isEditMode?yield this.saveExpenseChanges():yield this.createNewExpense()}finally{this.isSaving=!1}})}createNewExpense(){return O(this,null,function*(){try{let t=parseFloat(this.amountInput);if(isNaN(t)||t<=0){yield this.dialogService.warning("Please enter a valid amount greater than 0.");return}let e={description:this.newExpense.description,amount:t,date:this.newExpense.date,categoryId:this.newExpense.categoryId,paymentMethod:this.newExpense.paymentMethod||"Cash",tags:this.newExpense.tags||[],priority:this.newExpense.priority||"medium",notes:this.newExpense.notes||"",location:this.newExpense.location||"",receiptNumber:this.newExpense.receiptNumber||""},n=yield this.expenseService.add(e);console.log(`Expense added with Firebase ID: ${n}`),this.resetForm(),yield this.dialogService.success("Expense added successfully!"),yield this.checkAchievements()}catch(t){console.error("Error adding expense:",t),yield this.dialogService.error("Error adding expense. Please try again.")}})}saveExpenseChanges(){return O(this,null,function*(){try{let t=parseFloat(this.amountInput);if(isNaN(t)||t<=0){yield this.dialogService.warning("Please enter a valid amount greater than 0.");return}let e=K(A({},this.newExpense),{amount:t});yield this.expenseService.update(e),console.log("Expense updated successfully"),this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),yield this.dialogService.success("Expense updated successfully!"),this.router.navigate(["/expenses"])}catch(t){console.error("Error updating expense:",t),yield this.dialogService.error("Error updating expense. Please try again.")}})}cancelEdit(){this.isEditMode=!1,this.editingExpenseId="",this.resetForm(),this.router.navigate(["/expenses"])}editExpense(t){return O(this,null,function*(){try{let e=yield this.dialogService.prompt("Enter expense description:","Edit Expense",t.description,"text","Enter description...","Description");if(e===null)return;let n=yield this.dialogService.prompt("Enter expense amount:","Edit Expense",t.amount.toString(),"number","Enter amount...","Amount (\u20B9)");if(n===null)return;let i=yield this.dialogService.prompt("Enter expense date:","Edit Expense",t.date,"date","","Date");if(i===null)return;let o=this.categories.map(F=>({value:F.id,label:F.name,icon:F.icon})),x=yield this.dialogService.select("Select a category:","Edit Expense",o,t.categoryId);if(x===null)return;let g=parseFloat(n);if(isNaN(g)||g<=0){yield this.dialogService.error("Invalid Amount! Please enter a valid number greater than 0.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(i)){yield this.dialogService.error("Invalid Date! Please enter date in YYYY-MM-DD format (e.g., 2024-01-15).");return}let b=new Date(i),P=new Date;if(b.setHours(0,0,0,0),P.setHours(0,0,0,0),b>P){yield this.dialogService.error("Cannot edit expenses to future dates. Please select today's date or a past date.");return}let C=this.categories.find(F=>F.id===x);if(!C){yield this.dialogService.error(`Error: Category with ID "${x}" does not exist. Please select a valid category from the list.`);return}let $=K(A({},t),{description:e,amount:g,date:i,categoryId:x});yield this.expenseService.update($);let q=`Expense updated successfully!

Description: ${e}
Amount: \u20B9${g}
Date: ${i}
Category: ${C.icon} ${C.name}`;yield this.dialogService.success(q)}catch(e){console.error("Error editing expense:",e),yield this.dialogService.error("Error updating expense. Please try again.")}})}deleteExpense(t){return O(this,null,function*(){if(yield this.dialogService.confirm(`Are you sure you want to delete "${t.description}" (\u20B9${t.amount})?`,"Delete Expense")){this.isDeleting=!0;try{yield this.expenseService.delete(t.id),yield this.dialogService.success("Expense deleted successfully!")}catch(n){console.error("Error deleting expense:",n),yield this.dialogService.error("Error deleting expense. Please try again.")}finally{this.isDeleting=!1}}})}validateExpense(){return O(this,null,function*(){if(!this.newExpense.description?.trim())return yield this.dialogService.warning("Please enter a description."),!1;let t=parseFloat(this.amountInput);if(isNaN(t)||t<=0)return yield this.dialogService.warning("Please enter a valid amount greater than 0."),!1;if(!this.newExpense.categoryId)return yield this.dialogService.warning("Please select a category."),!1;if(!this.newExpense.date)return yield this.dialogService.warning("Please select a date."),!1;let e=new Date(this.newExpense.date),n=new Date;return e.setHours(0,0,0,0),n.setHours(0,0,0,0),e>n?(yield this.dialogService.warning("Cannot add expenses for future dates. Please select today's date or a past date."),!1):!0})}isFormValid(){let t=parseFloat(this.amountInput);return!!(this.newExpense.description?.trim()&&this.amountInput&&!isNaN(t)&&t>0&&this.newExpense.categoryId&&this.newExpense.date)}resetForm(){this.newExpense={id:"",description:"",amount:0,date:new Date().toISOString().split("T")[0],categoryId:"",paymentMethod:"",tags:[],priority:"medium",notes:"",location:"",receiptNumber:""},this.amountInput=""}getFilteredExpenses(){let t=[...this.expenses];if(this.globalSearch){let e=this.globalSearch.toLowerCase().trim();t=t.filter(n=>{let i=n.description?.toLowerCase().includes(e)||!1,o=n.notes?.toLowerCase().includes(e)||!1,x=n.location?.toLowerCase().includes(e)||!1,g=n.paymentMethod?.toLowerCase().includes(e)||!1,_=n.receiptNumber?.toLowerCase().includes(e)||!1,P=(this.getCategoryName(n.categoryId)?.toLowerCase()||"").includes(e),C=n.amount.toString().includes(e),$=n.tags?.some(q=>q.toLowerCase().includes(e))||!1;return i||o||x||g||_||P||C||$})}if(this.filterAmount){let e=parseFloat(this.filterAmount);isNaN(e)||(t=t.filter(n=>n.amount>=e))}return this.filterCategory&&(t=t.filter(e=>e.categoryId===this.filterCategory)),this.filterDateFrom||this.filterDateTo?t=t.filter(e=>{let n=new Date(e.date),i=this.filterDateFrom?new Date(this.filterDateFrom):null,o=this.filterDateTo?new Date(this.filterDateTo):null;return i&&o?n>=i&&n<=o:i?n>=i:o?n<=o:!0}):this.filterDate&&(t=t.filter(e=>e.date===this.filterDate)),!this.filterDateFrom&&!this.filterDateTo&&!this.filterDate?t=this.applyDashboardFilters(t):console.log("Manual date filters active, skipping dashboard filters"),t.sort((e,n)=>{let i,o;switch(this.sortBy){case"date":i=e.createdAt?new Date(e.createdAt).getTime():new Date(e.date).getTime(),o=n.createdAt?new Date(n.createdAt).getTime():new Date(n.date).getTime();break;case"amount":i=e.amount,o=n.amount;break;default:i=e.createdAt?new Date(e.createdAt).getTime():new Date(e.date).getTime(),o=n.createdAt?new Date(n.createdAt).getTime():new Date(n.date).getTime()}return this.sortOrder==="asc"?i>o?1:-1:i<o?1:-1}),t}applyDashboardFilters(t){if(console.log("Applying dashboard filters:",{period:this.dashboardPeriod,month:this.dashboardMonth,year:this.dashboardYear,startDate:this.dashboardStartDate,endDate:this.dashboardEndDate,monthOnly:this.dashboardMonthOnly,yearOnly:this.dashboardYearOnly,totalExpenses:t.length}),!this.dashboardPeriod||this.dashboardPeriod==="all")return console.log("No dashboard filter active, returning all expenses"),t;let e=new Date;switch(this.dashboardPeriod){case"monthly":if(this.dashboardMonth&&this.dashboardYear){let g=parseInt(this.dashboardMonth),_=parseInt(this.dashboardYear);console.log("Applying monthly filter:",{month:g,year:_});let b=t.filter(P=>{let C=new Date(P.date);return C.getMonth()===g&&C.getFullYear()===_});return console.log(`Monthly filter: ${t.length} -> ${b.length} expenses`),b}console.log("Monthly filter: missing month or year");break;case"yearly":if(this.dashboardYear){let g=parseInt(this.dashboardYear);console.log("Applying yearly filter:",{year:g});let _=t.filter(b=>new Date(b.date).getFullYear()===g);return console.log(`Yearly filter: ${t.length} -> ${_.length} expenses`),_}console.log("Yearly filter: missing year");break;case"last30":let n=new Date;n.setDate(e.getDate()-30),console.log("Applying last 30 days filter:",{thirtyDaysAgo:n});let i=t.filter(g=>new Date(g.date)>=n);return console.log(`Last 30 days filter: ${t.length} -> ${i.length} expenses`),i;case"last7":let o=new Date;o.setDate(e.getDate()-7),console.log("Applying last 7 days filter:",{sevenDaysAgo:o});let x=t.filter(g=>new Date(g.date)>=o);return console.log(`Last 7 days filter: ${t.length} -> ${x.length} expenses`),x;case"custom":if(this.dashboardStartDate&&this.dashboardEndDate){console.log("Applying custom date range filter:",{startDate:this.dashboardStartDate,endDate:this.dashboardEndDate});let g=t.filter(_=>{let b=new Date(_.date),P=new Date(this.dashboardStartDate),C=new Date(this.dashboardEndDate);return b>=P&&b<=C});return console.log(`Custom filter: ${t.length} -> ${g.length} expenses`),g}console.log("Custom date range filter: missing start or end date");break;case"monthOnly":if(this.dashboardMonthOnly&&this.dashboardYearOnly){let g=parseInt(this.dashboardMonthOnly),_=parseInt(this.dashboardYearOnly);console.log("Applying month only filter:",{month:g,year:_});let b=t.filter(P=>{let C=new Date(P.date);return C.getMonth()===g&&C.getFullYear()===_});return console.log(`Month only filter: ${t.length} -> ${b.length} expenses`),b}console.log("Month only filter: missing month or year");break}return console.log("No matching dashboard filter, returning all expenses"),t}getCategoryName(t){return this.categories.find(n=>n.id===t)?.name||"Unknown"}getCategoryColor(t){return this.categories.find(n=>n.id===t)?.color||"#999"}getCategoryIcon(t){return this.categories.find(n=>n.id===t)?.icon||"\u{1F4CC}"}getAmountStatus(t){return t<=50?"low":t<=200?"medium":"high"}getMonthName(t){let e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=parseInt(t);return e[n]||"Unknown"}clearDashboardFilters(){this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.filterDateFrom="",this.filterDateTo="";let t=this.route.snapshot.queryParams;this.router.navigate([],{queryParams:{category:t.category,filter:t.filter},replaceUrl:!0})}clearFilters(){this.globalSearch="",this.filterAmount="",this.filterCategory="",this.filterDate="",this.filterDateFrom="",this.filterDateTo="",this.sortBy="date",this.sortOrder="desc",this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly="",this.resetPagination(),this.router.navigate([],{queryParams:{},replaceUrl:!0})}clearCategoryFilter(){this.filterCategory="",this.resetPagination(),this.router.navigate([],{queryParams:{},queryParamsHandling:"merge"})}onCategoryFilterChange(){this.resetPagination()}clearCategory(){this.newExpense.categoryId=""}onAmountInput(t){let e=t.target,n=e.value;n=n.replace(/[^0-9.]/g,"");let i=n.split(".");i.length>2&&(n=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(n=i[0]+"."+i[1].substring(0,2)),e.value=n,this.amountInput=n}onAmountKeypress(t){let e=t.key,i=t.target.value;if(!([8,9,27,13,46].indexOf(t.keyCode)!==-1||t.keyCode===65&&t.ctrlKey===!0||t.keyCode===67&&t.ctrlKey===!0||t.keyCode===86&&t.ctrlKey===!0||t.keyCode===88&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39)){if(e>="0"&&e<="9"||e==="."){if(e==="."&&i.includes(".")){t.preventDefault();return}return}t.preventDefault()}}onFilterAmountInput(t){let e=t.target,n=e.value;n=n.replace(/[^0-9.]/g,"");let i=n.split(".");i.length>2&&(n=i[0]+"."+i.slice(1).join("")),i.length===2&&i[1].length>2&&(n=i[0]+"."+i[1].substring(0,2)),e.value=n,this.filterAmount=n,this.resetPagination()}onFilterAmountKeypress(t){let e=t.key,i=t.target.value;if(!([8,9,27,13,46].indexOf(t.keyCode)!==-1||t.keyCode===65&&t.ctrlKey===!0||t.keyCode===67&&t.ctrlKey===!0||t.keyCode===86&&t.ctrlKey===!0||t.keyCode===88&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39)){if(e>="0"&&e<="9"||e==="."){if(e==="."&&i.includes(".")){t.preventDefault();return}return}t.preventDefault()}}getTotalAmount(){return this.getFilteredExpenses().reduce((t,e)=>t+e.amount,0)}getAverageAmount(){let t=this.getFilteredExpenses();return t.length>0?t.reduce((e,n)=>e+n.amount,0)/t.length:0}getExpenseCount(){return this.getFilteredExpenses().length}checkAchievements(){return O(this,null,function*(){let t=this.expenses.length;t===10?yield this.dialogService.success("Congratulations! You've logged your 10th expense. Keep up the great tracking!"):t===50?yield this.dialogService.success("Amazing! You've logged 50 expenses. You're becoming a tracking expert!"):t===100&&(yield this.dialogService.success("Incredible! You've logged 100 expenses. You're a financial tracking master!"));let e={};this.expenses.forEach(n=>{e[n.categoryId]=(e[n.categoryId]||0)+1});for(let[n,i]of Object.entries(e))if(i===10){let o=this.getCategoryName(n);yield this.dialogService.success(`${o} mastery achieved! You've logged 10 expenses in this category.`)}yield this.checkDailyStreak()})}checkDailyStreak(){return O(this,null,function*(){let t=new Date().toISOString().split("T")[0],e=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],n=this.expenses.some(o=>o.date===t),i=this.expenses.some(o=>o.date===e);if(n&&i){let o=1,x=new Date(Date.now()-24*60*60*1e3);for(;;){let g=x.toISOString().split("T")[0];if(this.expenses.some(b=>b.date===g))o++,x.setDate(x.getDate()-1);else break}o>=7&&(yield this.dialogService.success(`Daily streak of ${o} days achieved! Keep it up!`))}})}generateId(){return Math.random().toString(36).substr(2,9)}getMonthlyExpenses(){let t={};return this.expenses.forEach(e=>{let n=new Date(e.date),i=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;t[i]||(t[i]=[]),t[i].push(e)}),t}getCurrentMonthExpenses(){let t=new Date,e=t.getMonth(),n=t.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===e&&o.getFullYear()===n})}getCurrentMonthTotal(){return this.getCurrentMonthExpenses().reduce((t,e)=>t+e.amount,0)}getPreviousMonthExpenses(){let t=new Date,e=t.getMonth()===0?11:t.getMonth()-1,n=t.getMonth()===0?t.getFullYear()-1:t.getFullYear();return this.expenses.filter(i=>{let o=new Date(i.date);return o.getMonth()===e&&o.getFullYear()===n})}getPreviousMonthTotal(){return this.getPreviousMonthExpenses().reduce((t,e)=>t+e.amount,0)}getMonthlyComparison(){let t=this.getCurrentMonthTotal(),e=this.getPreviousMonthTotal();if(e===0)return{change:0,percentage:0,hasPreviousData:!1};let n=t-e,i=n/e*100;return{change:n,percentage:i,hasPreviousData:!0}}getMonthlyReport(){let t=this.getMonthlyExpenses(),e=[];return Object.entries(t).forEach(([n,i])=>{let o=i.reduce((_,b)=>_+b.amount,0),x=o/i.length,g=this.getCategoryBreakdown(i);e.push({month:n,total:o,average:x,count:i.length,categoryBreakdown:g})}),e.sort((n,i)=>i.month.localeCompare(n.month))}getCategoryBreakdown(t){let e={};return t.forEach(n=>{e[n.categoryId]=(e[n.categoryId]||0)+n.amount}),Object.entries(e).map(([n,i])=>({categoryId:n,categoryName:this.getCategoryName(n),amount:i,percentage:i/t.reduce((o,x)=>o+x.amount,0)*100}))}validateCategoryExists(t){return this.categories.some(e=>e.id===t)}getCategoryById(t){return this.categories.find(n=>n.id===t)||null}getExpensesWithUnknownCategories(){return this.expenses.filter(t=>!this.categories.find(e=>e.id===t.categoryId))}getUnknownCategoryCount(){return this.getExpensesWithUnknownCategories().length}getMaxDate(){return new Date().toISOString().split("T")[0]}onFromDateChange(){this.filterDateTo&&this.filterDateFrom&&this.filterDateTo<this.filterDateFrom&&(this.filterDateTo=""),this.filterDateFrom&&this.clearDashboardFilterState(),this.resetPagination()}onToDateChange(){this.filterDateFrom&&this.filterDateTo&&this.filterDateTo<this.filterDateFrom&&(this.dialogService.warning("To Date cannot be earlier than From Date. Please select a valid date range."),this.filterDateTo=""),this.filterDateTo&&this.clearDashboardFilterState(),this.resetPagination()}getPaginatedExpenses(){let t=this.getFilteredExpenses(),e=this.getStartIndex(),n=this.getEndIndex();return t.slice(e,n)}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage}getEndIndex(){let t=this.getFilteredExpenses();return Math.min(this.currentPage*this.itemsPerPage,t.length)}getTotalPages(){let t=this.getFilteredExpenses();return Math.ceil(t.length/this.itemsPerPage)}goToPage(t){let e=this.getTotalPages();t>=1&&t<=e&&(this.currentPage=t)}resetPagination(){this.currentPage=1}onSortChange(){this.resetPagination()}onSearchChange(){this.resetPagination()}clearDashboardFilterState(){console.log("Clearing dashboard filter state due to manual date filter"),this.dashboardPeriod="all",this.dashboardMonth="",this.dashboardYear="",this.dashboardStartDate="",this.dashboardEndDate="",this.dashboardMonthOnly="",this.dashboardYearOnly=""}getDashboardFilterLabel(){switch(this.dashboardPeriod){case"monthly":return this.dashboardMonth&&this.dashboardYear?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(this.dashboardMonth)]} ${this.dashboardYear}`:"This Month";case"yearly":return this.dashboardYear||"This Year";case"last30":return"Last 30 Days";case"last7":return"Last 7 Days";case"custom":return"Custom Range";case"monthOnly":return this.dashboardMonthOnly&&this.dashboardYearOnly?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(this.dashboardMonthOnly)]} ${this.dashboardYearOnly}`:"Selected Month";default:return"Unknown"}}toggleAddExpenseSection(){this.isAddExpenseExpanded=!this.isAddExpenseExpanded}toggleFiltersSection(){this.isFiltersExpanded=!this.isFiltersExpanded}toggleExpensesListSection(){this.isExpensesListExpanded=!this.isExpensesListExpanded}onSearchFocus(){this.isSearchFocused=!0}onSearchBlur(){this.isSearchFocused=!1}static \u0275fac=function(e){return new(e||s)(D(xe),D(_e),D(fe),D(be),D(Ce),D(ie),D(ne))};static \u0275cmp=Y({type:s,selectors:[["app-expenses"]],decls:72,vars:21,consts:[["expenseForm","ngForm"],["noExpenses",""],[1,"container-fluid","px-4","py-3"],[1,"page-header","mb-4"],[1,"d-flex","align-items-center"],[1,"header-icon","me-3"],[1,"fs-1"],[1,"page-title","mb-1"],[1,"mb-0"],["message","Loading expenses...","type","card",4,"ngIf"],["class","search-card mb-4",4,"ngIf"],["class","add-expense-card mb-4",4,"ngIf"],[1,"filters-card","mb-4"],[1,"card-header-modern"],[1,"d-flex","align-items-center","justify-content-between"],[1,"header-icon-small","me-2"],["type","button",1,"collapse-toggle-btn",3,"click"],[1,"collapse-icon"],["class","active-filters mt-2",4,"ngIf"],[1,"card-body-modern","collapsible-content"],[1,"filters-row"],[1,"filter-group"],["for","filterCategory",1,"form-label-modern"],["id","filterCategory",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","filterDateFrom",1,"form-label-modern"],["type","date","id","filterDateFrom",1,"form-control-modern",3,"ngModelChange","change","ngModel","max"],["for","filterDateTo",1,"form-label-modern"],["type","date","id","filterDateTo",1,"form-control-modern",3,"ngModelChange","change","ngModel","max","min"],["for","filterAmount",1,"form-label-modern"],["type","text","id","filterAmount","placeholder","0",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],["for","sortBy",1,"form-label-modern"],["id","sortBy",1,"form-select",3,"ngModelChange","change","ngModel"],["value","date"],["value","amount"],["for","sortOrder",1,"form-label-modern"],["id","sortOrder",1,"form-select",3,"ngModelChange","change","ngModel"],["value","desc"],["value","asc"],[1,"filter-group","button-group"],[1,"form-label-modern"],["type","button",1,"btn-clear-filters",3,"click"],[1,"btn-icon"],[1,"btn-text"],["class","expenses-list-card",4,"ngIf"],["message","Loading expenses...","type","card"],[1,"search-card","mb-4"],[1,"card-body-modern"],[1,"search-container"],[1,"search-input-group"],[1,"search-icon"],[1,"search-input-wrapper"],["type","text","placeholder","","name","globalSearch",1,"search-input",3,"ngModelChange","input","focus","blur","ngModel"],["class","search-placeholder-marquee",4,"ngIf"],["class","clear-search-btn","title","Clear search",3,"click",4,"ngIf"],["class","search-results-info",4,"ngIf"],[1,"search-placeholder-marquee"],[1,"marquee-text"],["title","Clear search",1,"clear-search-btn",3,"click"],[1,"search-results-info"],[1,"search-count"],[1,"add-expense-card","mb-4"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","expenseAmount",1,"form-label-modern"],[1,"input-group-modern"],[1,"input-group-text-modern"],["type","text","id","expenseAmount","placeholder","0.00","name","amount","required","",1,"form-control-modern",3,"ngModelChange","input","keypress","ngModel"],["for","expenseDate",1,"form-label-modern"],["type","date","id","expenseDate","name","date","required","",1,"form-control-modern",3,"ngModelChange","ngModel","max"],["for","expenseCategory",1,"form-label-modern"],[1,"category-select-container"],["id","expenseCategory","name","categoryId","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","",3,"selected"],["type","button","class","clear-category-btn","title","Clear selection",3,"click",4,"ngIf"],["for","expenseDescription",1,"form-label-modern"],["type","text","id","expenseDescription","placeholder","e.g., Lunch at restaurant, Uber ride, Movie ticket, Groceries, etc.","name","description",1,"form-control-modern",3,"ngModelChange","ngModel"],[1,"form-group","button-group"],[1,"d-flex","gap-2"],["type","submit",1,"btn-add-expense",3,"disabled"],["class","btn-icon",4,"ngIf"],["type","button","size","small",3,"message",4,"ngIf"],["class","btn-text",4,"ngIf"],["type","button","class","btn-cancel",3,"click",4,"ngIf"],[3,"value"],["type","button","title","Clear selection",1,"clear-category-btn",3,"click"],["type","button","size","small",3,"message"],["type","button",1,"btn-cancel",3,"click"],[1,"active-filters","mt-2"],["class","active-filter-indicator",4,"ngIf"],[1,"active-filter-indicator"],[1,"filter-badge"],["title","Clear category filter",1,"clear-filter-btn",3,"click"],[1,"filter-badge","manual-filter"],["title","Clear date filter",1,"clear-filter-btn",3,"click"],[1,"filter-badge","dashboard-filter"],["title","Clear dashboard filter",1,"clear-filter-btn",3,"click"],[1,"expenses-list-card"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],["class","expenses-summary",4,"ngIf"],["class","expenses-list",4,"ngIf"],["class","expenses-list",4,"ngIf","ngIfElse"],["class","pagination-controls mb-3",4,"ngIf"],[1,"expenses-summary"],[1,"total-amount"],[1,"expenses-count"],[1,"expenses-list"],["type","expense-item",3,"lines",4,"ngFor","ngForOf"],["type","expense-item",3,"lines"],["class","expense-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"expense-item"],[1,"expense-description"],[1,"expense-date"],[1,"expense-right"],[1,"expense-amount"],[1,"expense-actions"],["title","Edit",1,"btn-action","edit-btn",3,"click"],[1,"action-icon"],["title","Delete",1,"btn-action","delete-btn",3,"click","disabled"],["message","Deleting...","type","button","size","small",4,"ngIf"],["class","action-icon",4,"ngIf"],["message","Deleting...","type","button","size","small"],[1,"no-expenses"],[1,"no-expenses-icon"],[1,"pagination-controls","mb-3"],[1,"pagination-layout"],[1,"pagination-info"],[1,"text-muted"],[1,"pagination-navigation"],[1,"pagination-buttons"],["type","button","title","Previous page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"page-info"],["type","button","title","Next page",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"]],template:function(e,n){e&1&&(r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),d(5,"\u{1F4B8}"),a()(),r(6,"div")(7,"h1",7),d(8),a(),r(9,"p",8),d(10),a()()()(),u(11,Ie,1,0,"app-loading",9)(12,Ae,11,4,"div",10)(13,We,48,19,"div",11),r(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",4)(18,"span",15),d(19,"\u{1F50D}"),a(),r(20,"h5",8),d(21,"Filters"),a()(),r(22,"button",16),f("click",function(){return n.toggleFiltersSection()}),r(23,"span",17),d(24,"\u25BC"),a()()(),u(25,Re,4,3,"div",18),a(),r(26,"div",19)(27,"div",20)(28,"div",21)(29,"label",22),d(30,"Category"),a(),r(31,"select",23),v("ngModelChange",function(o){return M(n.filterCategory,o)||(n.filterCategory=o),o}),f("change",function(){return n.onCategoryFilterChange()}),r(32,"option",24),d(33,"\u{1F3F7}\uFE0F All Categories"),a(),u(34,Ue,2,3,"option",25),a()(),r(35,"div",21)(36,"label",26),d(37,"From Date"),a(),r(38,"input",27),v("ngModelChange",function(o){return M(n.filterDateFrom,o)||(n.filterDateFrom=o),o}),f("change",function(){return n.onFromDateChange()}),a()(),r(39,"div",21)(40,"label",28),d(41,"To Date"),a(),r(42,"input",29),v("ngModelChange",function(o){return M(n.filterDateTo,o)||(n.filterDateTo=o),o}),f("change",function(){return n.onToDateChange()}),a()(),r(43,"div",21)(44,"label",30),d(45,"Min Amount"),a(),r(46,"input",31),v("ngModelChange",function(o){return M(n.filterAmount,o)||(n.filterAmount=o),o}),f("input",function(o){return n.onFilterAmountInput(o)})("keypress",function(o){return n.onFilterAmountKeypress(o)}),a()(),r(47,"div",21)(48,"label",32),d(49,"Sort By"),a(),r(50,"select",33),v("ngModelChange",function(o){return M(n.sortBy,o)||(n.sortBy=o),o}),f("change",function(){return n.onSortChange()}),r(51,"option",34),d(52,"\u{1F4C5} Date"),a(),r(53,"option",35),d(54,"\u{1F4B0} Amount"),a()()(),r(55,"div",21)(56,"label",36),d(57,"Order"),a(),r(58,"select",37),v("ngModelChange",function(o){return M(n.sortOrder,o)||(n.sortOrder=o),o}),f("change",function(){return n.onSortChange()}),r(59,"option",38),d(60,"\u2B07\uFE0F Descending"),a(),r(61,"option",39),d(62,"\u2B06\uFE0F Ascending"),a()()(),r(63,"div",40)(64,"label",41),d(65,"\xA0"),a(),r(66,"button",42),f("click",function(){return n.clearFilters()}),r(67,"span",43),d(68,"\u{1F504}"),a(),r(69,"span",44),d(70,"Clear Filters"),a()()()()()(),u(71,it,19,9,"div",45),a()),e&2&&(l(8),T(" ",n.filterCategory&&n.getCategoryName(n.filterCategory)?n.getCategoryName(n.filterCategory)+" Expenses":"Expenses"," "),l(2),T(" ",n.filterCategory&&n.getCategoryName(n.filterCategory)?"Viewing expenses for "+n.getCategoryName(n.filterCategory):"Track and manage your daily expenses"," "),l(),c("ngIf",n.isLoading),l(),c("ngIf",!n.isLoading),l(),c("ngIf",!n.isLoading),l(10),k("rotated",!n.isFiltersExpanded),l(2),c("ngIf",n.isFiltersExpanded),l(),k("collapsed",!n.isFiltersExpanded),l(5),w("ngModel",n.filterCategory),l(3),c("ngForOf",n.categories),l(4),w("ngModel",n.filterDateFrom),c("max",n.getMaxDate()),l(4),w("ngModel",n.filterDateTo),c("max",n.getMaxDate())("min",n.filterDateFrom),l(4),w("ngModel",n.filterAmount),l(4),w("ngModel",n.sortBy),l(8),w("ngModel",n.sortOrder),l(13),c("ngIf",!n.isLoading))},dependencies:[j,B,X,he,de,pe,ge,oe,ce,re,ae,me,le,se,ue,W,te,ee],styles:[`html[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}body[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.container-fluid[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:visible;min-height:100vh;min-height:100dvh;height:auto;max-height:none;padding-bottom:2rem}.search-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;box-shadow:0 8px 32px #667eea4d;border:none;overflow:hidden}.search-container[_ngcontent-%COMP%]{position:relative}.search-input-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fffffff2;border-radius:12px;padding:.5rem;box-shadow:0 4px 20px #0000001a;transition:all .3s ease}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden}.search-input-group[_ngcontent-%COMP%]:focus-within{background:#fff;box-shadow:0 6px 25px #00000026;transform:translateY(-1px)}.search-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#667eea;margin:0 .75rem;display:flex;align-items:center}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;font-size:1rem;padding:.75rem .5rem;color:#333;font-weight:500}.search-input[_ngcontent-%COMP%]::placeholder{color:#999;font-weight:400}.search-placeholder-marquee[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;pointer-events:none;overflow:hidden;padding:.75rem .5rem}.marquee-text[_ngcontent-%COMP%]{color:#999;font-weight:400;font-size:1rem;white-space:nowrap;animation:_ngcontent-%COMP%_marquee 15s linear infinite;display:inline-block}@keyframes _ngcontent-%COMP%_marquee{0%{transform:translate(100%)}to{transform:translate(-100%)}}.clear-search-btn[_ngcontent-%COMP%]{background:#ff6b6b;border:none;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.8rem;cursor:pointer;transition:all .2s ease;margin-right:.5rem}.clear-search-btn[_ngcontent-%COMP%]:hover{background:#ff5252;transform:scale(1.1)}.search-results-info[_ngcontent-%COMP%]{margin-top:.75rem;text-align:center}.search-count[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.active-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center}.active-filter-indicator[_ngcontent-%COMP%]{display:inline-block}.filter-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem .75rem;border-radius:20px;font-size:.85rem;font-weight:500;box-shadow:0 2px 8px #667eea4d;transition:all .2s ease}.filter-badge.manual-filter[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24);box-shadow:0 2px 8px #ff6b6b4d}.filter-badge.dashboard-filter[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2ed573,#1e90ff);box-shadow:0 2px 8px #2ed5734d}.filter-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.clear-filter-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.7rem;cursor:pointer;transition:all .2s ease;margin-left:.25rem}.clear-filter-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.collapsible-header[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;-webkit-user-select:none;user-select:none}.card-header-modern[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fa709a,#fee140)!important}.collapse-toggle-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:#667eea}.collapse-toggle-btn[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:scale(1.1)}.collapse-icon[_ngcontent-%COMP%]{font-size:.8rem;transition:transform .3s cubic-bezier(.4,0,.2,1);display:inline-block}.collapse-icon.rotated[_ngcontent-%COMP%]{transform:rotate(-90deg)}.collapsible-content[_ngcontent-%COMP%]{overflow:hidden;transition:max-height .4s cubic-bezier(.4,0,.2,1),opacity .3s ease,padding .3s ease,margin .3s ease;max-height:1000px;opacity:1;padding:1.5rem 2rem;margin:0;height:auto;min-height:auto}.collapsible-content.collapsed[_ngcontent-%COMP%]{max-height:0!important;opacity:0;padding:0!important;margin:0!important;overflow:hidden;transition:max-height .3s cubic-bezier(.4,0,.2,1),opacity .2s ease,padding .3s ease,margin .3s ease}.collapsible-content.collapsed.card-body-modern[_ngcontent-%COMP%]{padding:0!important;min-height:0!important;height:0!important}.expenses-list-card[_ngcontent-%COMP%]   .collapsible-content.collapsed[_ngcontent-%COMP%]{border:none!important;box-shadow:none!important}.expenses-list-card[_ngcontent-%COMP%]   .collapsible-content.collapsed[_ngcontent-%COMP%]{margin-bottom:0!important;display:none}.collapsible-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{transition:opacity .3s ease}.collapsible-content.collapsed[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{opacity:0}.collapsible-content[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{transition:opacity .3s ease}.collapsible-content.collapsed[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{opacity:0}.collapsible-content[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{transition:opacity .3s ease}.collapsible-content.collapsed[_ngcontent-%COMP%]   .expenses-list[_ngcontent-%COMP%]{opacity:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px;padding:2rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #9b6b9b;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.loading-text[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;color:#666}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pagination-controls[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1rem;border:1px solid #e9ecef;margin-bottom:1.5rem}.pagination-layout[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;flex-shrink:0}.pagination-navigation[_ngcontent-%COMP%]{flex-shrink:0}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.page-info[_ngcontent-%COMP%]{font-weight:600;color:#495057;font-size:.9rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease;min-width:80px;white-space:nowrap}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9b6b9b,#b76bb7);color:#fff;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 8px 25px #9b6b9b26}.header-icon[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:start;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label-modern[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.form-control-modern[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff}.form-control-modern[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}.input-group-modern[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;border:2px solid #e9ecef;border-radius:12px;overflow:hidden;transition:all .3s ease}.input-group-modern[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40}.input-group-text-modern[_ngcontent-%COMP%]{background:#f8f9fa;border:none;padding:.75rem 1rem;font-weight:600;color:#666;border-right:2px solid #e9ecef}.input-group-modern[_ngcontent-%COMP%]   .form-control-modern[_ngcontent-%COMP%]{border:none;border-radius:0;flex-grow:1}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end}.btn-add-expense[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ff6b354d;height:50px;white-space:nowrap}.btn-add-expense[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ff6b3566}.btn-add-expense[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.add-expense-card[_ngcontent-%COMP%], .filters-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#fff8f0);border-radius:20px;box-shadow:0 10px 30px #0000001a;border:1px solid #ffe4b3;overflow:visible;transition:transform .3s ease,box-shadow .3s ease;margin-bottom:2rem}.add-expense-card[_ngcontent-%COMP%]:hover, .filters-card[_ngcontent-%COMP%]:hover, .expenses-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.card-header-modern[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:1.5rem 2rem;border:none;position:relative}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:.5rem 1rem;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:.8rem;cursor:pointer;padding:.2rem;border-radius:50%;transition:all .2s ease}.card-header-modern[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]   .clear-filter-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.1)}.card-header-modern[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.header-icon-small[_ngcontent-%COMP%]{font-size:1.2rem;background:#fff3;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#fff,#fff8f0);overflow:visible;height:auto;max-height:none;min-height:auto}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd23f,#3ec300);color:#fff;border:none;border-radius:12px;padding:.875rem 1.5rem;font-size:1rem;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;cursor:pointer;box-shadow:0 5px 20px #ffd23f4d;height:50px;white-space:nowrap}.btn-clear-filters[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffd23f66}.expenses-summary[_ngcontent-%COMP%]{text-align:right}.total-amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#fff;margin-bottom:.25rem}.expenses-count[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc}.expenses-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;overflow:visible!important;padding-right:0;margin-right:0;min-height:auto;max-height:none!important}.expenses-list-card[_ngcontent-%COMP%], .expenses-list-card[_ngcontent-%COMP%]   .card-body-modern[_ngcontent-%COMP%]{overflow:visible!important;max-height:none!important;height:auto!important;min-height:auto!important}.expenses-list-card[_ngcontent-%COMP%]   .collapsible-content[_ngcontent-%COMP%]:not(.collapsed){overflow:visible!important;max-height:none!important;height:auto!important;min-height:auto!important}.expense-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:#fff;border-radius:12px;border:1px solid #e5e7eb;transition:all .3s cubic-bezier(.4,0,.2,1);animation:slideInUp .6s ease-out;box-shadow:0 1px 3px #0000001a;position:relative;overflow:visible!important;min-height:60px;gap:20px;flex-shrink:0;width:100%;box-sizing:border-box;margin-bottom:12px}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:#3b82f6;border-radius:0 2px 2px 0;transform:scaleY(0);transition:transform .3s ease}.expense-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;border-color:#9ca3af}.expense-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.expense-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.expense-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.expense-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.expense-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.expense-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.expense-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;margin-right:16px}.category-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;color:#fff;box-shadow:0 2px 4px #0000001a}.expense-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-shrink:0}.expense-amount[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;text-align:right;min-width:100px}.amount-status[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;padding:2px 8px;border-radius:12px;text-transform:uppercase;letter-spacing:.5px}.amount-status.low[_ngcontent-%COMP%]{background:#dcfce7;color:#22c55e}.amount-status.medium[_ngcontent-%COMP%]{background:#fef3c7;color:#f59e0b}.amount-status.high[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444}.expense-category[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:16px}.category-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;color:#fff;font-size:.85rem;font-weight:600;display:inline-flex;align-items:center;gap:6px;box-shadow:0 1px 3px #0000001a;transition:all .3s ease;max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:#3b82f6}.expense-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex-grow:1;justify-content:center;min-height:50px;text-align:left;margin-right:16px}.expense-date[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500;text-align:center;text-transform:uppercase;letter-spacing:.5px;min-width:140px;flex:0 0 auto}.expense-description[_ngcontent-%COMP%]{font-size:1rem;color:#111827;font-weight:600;flex:1;text-align:left;line-height:1.4;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.expense-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-shrink:0;align-items:center;min-width:80px}.btn-action[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer;opacity:.8}.edit-btn[_ngcontent-%COMP%]{background:#667eea1a;color:var(--primary)}.edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:#f5576c1a;color:#f5576c}.delete-btn[_ngcontent-%COMP%]:hover{background:#f5576c;color:#fff;transform:scale(1.1)}.action-icon[_ngcontent-%COMP%]{font-size:1rem}.no-expenses[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#666}.no-expenses-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5}.no-expenses[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.5rem;color:#333}.no-expenses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#999;margin:0}.category-select-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-category-btn[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);z-index:10;width:14px;height:14px;padding:0;display:flex;align-items:center;justify-content:center;font-size:8px;background:#dc3545;border-radius:50%;border:1px solid white;color:#fff;transition:all .2s ease;box-shadow:0 1px 2px #00000026;cursor:pointer;min-width:14px;min-height:14px}.clear-category-btn[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-50%) scale(1.1);box-shadow:0 3px 6px #0000004d}.form-select[_ngcontent-%COMP%]{height:50px;border:2px solid #e9ecef;border-radius:12px;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;padding-right:65px;max-height:200px;overflow-y:auto;width:100%;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px 12px}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 .2rem #667eea40;outline:none}@media (max-width: 768px){.pagination-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.pagination-info[_ngcontent-%COMP%]{text-align:center;order:1}.pagination-navigation[_ngcontent-%COMP%]{order:2}.pagination-buttons[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:.75rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;padding:.5rem 1rem;font-size:.9rem}.page-info[_ngcontent-%COMP%]{order:2;text-align:center;width:100%;margin:.5rem 0}.form-row[_ngcontent-%COMP%], .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.button-group[_ngcontent-%COMP%]{align-items:stretch}.btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-body-modern[_ngcontent-%COMP%]{padding:1.5rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px;padding:20px;min-height:auto;background:#fff;border-radius:16px;border:1px solid #e5e7eb;box-shadow:0 2px 8px #00000014;position:relative}.expense-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:#3b82f6;border-radius:0 2px 2px 0}.expense-description[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#111827;text-align:left;margin-bottom:8px;line-height:1.3}.expense-date[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;text-align:left;min-width:auto;margin:0 0 12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.expense-right[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-top:0;padding-top:12px;border-top:1px solid #f3f4f6}.expense-amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;text-align:left;min-width:auto}.expense-actions[_ngcontent-%COMP%]{gap:8px;min-width:auto}.btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;background:#f8fafc;border:1px solid #e5e7eb;transition:all .2s ease}.btn-action[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:scale(1.05)}.expense-main[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;max-width:none}.expense-details[_ngcontent-%COMP%]{margin-left:0;width:100%;margin-top:.5rem;min-height:auto;max-width:none}.expense-actions[_ngcontent-%COMP%]{margin-left:0;justify-content:center;margin-top:.5rem;min-width:auto}.form-select[_ngcontent-%COMP%]{padding-right:80px;max-height:150px}.clear-category-btn[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;right:45px}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:1.5rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:2rem}.header-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%}.form-control-modern[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.input-group-modern[_ngcontent-%COMP%]{height:55px}.input-group-text-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{width:100%}.filter-controls[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:55px;font-size:16px}.btn-clear-filters[_ngcontent-%COMP%]{width:100%;height:55px;font-size:1rem}.expense-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.expense-main[_ngcontent-%COMP%]{width:100%;gap:.75rem}.expense-details[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.expense-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}.expense-category[_ngcontent-%COMP%]{font-size:.9rem}.expense-date[_ngcontent-%COMP%]{font-size:.85rem}.expense-description[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.4;text-align:center;width:100%;max-width:none;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word;word-break:break-word}.expense-actions[_ngcontent-%COMP%]{flex-direction:row;gap:.75rem;justify-content:center}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{flex:1;height:45px;font-size:.9rem;padding:.5rem 1rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:inline}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add-expense[_ngcontent-%COMP%], .btn-clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px}.form-label-modern[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}.expense-item[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.expense-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-add-expense[_ngcontent-%COMP%]:active{transform:scale(.95)}.expense-list[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expense-card[_ngcontent-%COMP%]{border-radius:12px}.form-select[_ngcontent-%COMP%]{height:55px;font-size:16px;padding:.75rem 1rem}.clear-category-btn[_ngcontent-%COMP%]{height:32px;width:32px;font-size:1.2rem}}@media (max-width: 480px){.pagination-controls[_ngcontent-%COMP%]{padding:.75rem}.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.pagination-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;min-width:auto;justify-content:center}.page-info[_ngcontent-%COMP%]{order:1;margin-bottom:.5rem}.pagination-info[_ngcontent-%COMP%]{font-size:.8rem}.page-header[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{gap:.75rem}.expense-item[_ngcontent-%COMP%]{padding:16px;gap:12px;border-radius:12px}.expense-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;line-height:1.3;margin-bottom:6px}.expense-date[_ngcontent-%COMP%]{font-size:.8rem;margin:0 0 10px;font-weight:600}.expense-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.expense-right[_ngcontent-%COMP%]{gap:12px;margin-top:0;padding-top:10px}.btn-action[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px}.expense-main[_ngcontent-%COMP%]{gap:.5rem}.expense-amount[_ngcontent-%COMP%]{font-size:1.2rem}.expense-description[_ngcontent-%COMP%]{font-size:.9rem}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem .75rem}.edit-text[_ngcontent-%COMP%], .delete-text[_ngcontent-%COMP%]{display:none}.edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%]{font-size:1.1rem}.filter-controls[_ngcontent-%COMP%], .expense-list[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 768px) and (orientation: landscape){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.expense-item[_ngcontent-%COMP%]{flex-direction:row}.expense-main[_ngcontent-%COMP%]{flex-direction:row;width:auto}.expense-details[_ngcontent-%COMP%]{flex-direction:row;text-align:left}.expense-actions[_ngcontent-%COMP%]{width:auto}}@media (max-width: 768px){.collapsible-content[_ngcontent-%COMP%]{transition:max-height .3s cubic-bezier(.4,0,.2,1),opacity .2s ease,padding .2s ease,margin .2s ease}.collapse-toggle-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;touch-action:manipulation}.card-header-modern[_ngcontent-%COMP%]{padding:1rem 1.5rem;min-height:60px}.expenses-summary[_ngcontent-%COMP%]{font-size:.9rem;gap:.05rem}.total-amount[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1}.expenses-count[_ngcontent-%COMP%]{font-size:.7rem;line-height:1.1}}@media (max-width: 480px){.collapsible-content[_ngcontent-%COMP%]{transition:max-height .25s cubic-bezier(.4,0,.2,1),opacity .15s ease,padding .15s ease,margin .15s ease}.card-header-modern[_ngcontent-%COMP%]{padding:.75rem 1rem;min-height:55px}.expenses-summary[_ngcontent-%COMP%]{font-size:.8rem;gap:.02rem;max-width:120px}.total-amount[_ngcontent-%COMP%]{font-size:.9rem;line-height:1}.expenses-count[_ngcontent-%COMP%]{font-size:.65rem;line-height:1}.collapse-toggle-btn[_ngcontent-%COMP%]{min-height:40px;min-width:40px;padding:.25rem}.marquee-text[_ngcontent-%COMP%]{font-size:.9rem;animation:_ngcontent-%COMP%_marquee 12s linear infinite}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}select.form-select[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important;transform:translateZ(0)!important}select.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{direction:ltr!important;writing-mode:horizontal-tb!important}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9998;display:flex;align-items:center;justify-content:center;padding:20px}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:15px;box-shadow:0 20px 60px #0000004d;max-width:500px;width:100%;max-height:90vh;max-height:90dvh;overflow:hidden;position:relative;z-index:9999;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-50px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem 2rem 1rem;border:none;border-top-left-radius:15px;border-top-right-radius:15px;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3}.modal-body[_ngcontent-%COMP%]{padding:2rem;max-height:60vh;max-height:60dvh;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;border-top:1px solid #e0e0e0;background:#f8f9fa;display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.input-group-text[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-right:none;padding:.75rem 1rem;border-radius:12px 0 0 12px;color:#666;font-weight:600}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:0 12px 12px 0;padding:.75rem 1rem;font-size:1rem;transition:all .3s ease;background:#fff;flex:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;outline:none}.mb-3[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 576px){.modal[_ngcontent-%COMP%]{padding:10px}.modal-dialog[_ngcontent-%COMP%]{max-width:100%}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};export{ye as ExpensesComponent};
