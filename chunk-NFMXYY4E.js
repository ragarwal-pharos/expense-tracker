import{M as l,g as i}from"./chunk-MW3LF7XK.js";import{a as o}from"./chunk-RA2WU32H.js";var s=class r{filterStateSubject=new i({selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""});filterState$=this.filterStateSubject.asObservable();constructor(){this.loadFilterState()}updateFilterState(t){let e=this.filterStateSubject.value,a=o(o({},e),t);console.log("Updating filter state:",{currentState:e,newState:t,updatedState:a}),this.filterStateSubject.next(a),this.saveFilterState(a)}getFilterState(){let t=this.filterStateSubject.value;return console.log("Getting filter state:",t),t}clearFilterState(){let t={selectedPeriod:"all",selectedMonth:new Date().getMonth().toString(),selectedYear:new Date().getFullYear().toString(),customStartDate:"",customEndDate:""};this.filterStateSubject.next(t),this.saveFilterState(t)}saveFilterState(t){try{localStorage.setItem("expenseTracker_filterState",JSON.stringify(t)),console.log("Filter state saved to localStorage:",t)}catch(e){console.error("Error saving filter state to localStorage:",e)}}loadFilterState(){try{let t=localStorage.getItem("expenseTracker_filterState");if(console.log("Loading filter state from localStorage:",t),t){let e=JSON.parse(t);console.log("Parsed filter state:",e),this.filterStateSubject.next(e)}else console.log("No saved filter state found in localStorage")}catch(t){console.error("Error loading filter state from localStorage:",t)}}isCustomDateRangeActive(){let t=this.getFilterState();return t.selectedPeriod==="custom"&&!!t.customStartDate&&!!t.customEndDate}getCustomDateRange(){let t=this.getFilterState();return this.isCustomDateRangeActive()?{startDate:t.customStartDate,endDate:t.customEndDate}:null}getCurrentPeriodFilter(){return this.getFilterState().selectedPeriod}static \u0275fac=function(e){return new(e||r)};static \u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"})};export{s as a};
